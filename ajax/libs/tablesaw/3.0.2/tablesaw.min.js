!function(t){"function"==typeof define&&define.amd?define(["shoestring"],t):"object"==typeof module&&module.exports?module.exports=t():t()}(function(){var s="undefined"!=typeof window?window:this,l=s.document;function c(t,e){var n,a=typeof t;if(!t)return new o([]);if(t.call)return c.ready(t);if(t.constructor===o&&!e)return t;if("string"!==a||0!==t.indexOf("<"))return"string"===a?e?c(e).find(t):(n=l.querySelectorAll(t),new o(n,t)):"[object Array]"===Object.prototype.toString.call(a)||s.NodeList&&t instanceof s.NodeList?new o(t,t):t.constructor===Array?new o(t,t):new o([t],t);var i=l.createElement("div");return i.innerHTML=t,c(i).children().each(function(){i.removeChild(this)})}var o=function(t,e){this.length=0,this.selector=e,c.merge(this,t)};o.prototype.reverse=[].reverse,c.fn=o.prototype,c.Shoestring=o,c.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},c.merge=function(t,e){var n,a,i;for(n=+e.length,a=0,i=t.length;a<n;a++)t[i++]=e[a];return t.length=i,t},(s.shoestring=c).fn.each=function(t){return c.each(this,t)},c.each=function(t,e){for(var n=0,a=t.length;n<a&&!1!==e.call(t[n],n,t[n]);n++);return t},c.inArray=function(t,e){for(var n=-1,a=0,i=e.length;a<i;a++)e.hasOwnProperty(a)&&e[a]===t&&(n=a);return n},c.ready=function(t){return e&&t?t.call(l):t?n.push(t):a(),[l]};var r,e=!(c.fn.ready=function(t){return c.ready(t),this}),n=[],a=function(){if(!e){for(;n.length;)n.shift().call(l);e=!0}};function h(t,e){var n=!1;return t.each(function(){for(var t=0;t<e.length;)this===e[t]&&(n=!0),t++}),n}(l.attachEvent?"complete"===l.readyState:"loading"!==l.readyState)?a():(l.addEventListener("DOMContentLoaded",a,!1),l.addEventListener("readystatechange",a,!1),s.addEventListener("load",a,!1)),c.fn.is=function(a){var t,i=!1,s=this;return"string"!=typeof a?h(this,a.length&&a[0]?a:[a]):((t=this.parent()).length||(t=c(l)),t.each(function(t,e){var n;n=e.querySelectorAll(a),i=h(s,n)}),i)},c.fn.data=function(t,e){return void 0===t?this[0]?this[0].shoestringData||{}:void 0:void 0!==e?this.each(function(){this.shoestringData||(this.shoestringData={}),this.shoestringData[t]=e}):this[0]&&this[0].shoestringData?this[0].shoestringData[t]:void 0},c.fn.removeData=function(t){return this.each(function(){void 0!==t&&this.shoestringData?(this.shoestringData[t]=void 0,delete this.shoestringData[t]):this[0].shoestringData={}})},(s.$=c).fn.addClass=function(t){var n=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t=0,e=n.length;t<e;t++)void 0===this.className||""!==this.className&&this.className.match(new RegExp("(^|\\s)"+n[t]+"($|\\s)"))||(this.className+=" "+n[t])})},c.fn.add=function(t){var e=[];return this.each(function(){e.push(this)}),c(t).each(function(){e.push(this)}),c(e)},c.fn.append=function(a){return"string"!=typeof a&&void 0===a.nodeType||(a=c(a)),this.each(function(t){for(var e=0,n=a.length;e<n;e++)this.appendChild(0<t?a[e].cloneNode(!0):a[e])})},c.fn.appendTo=function(t){return this.each(function(){c(t).append(this)})},c.fn.attr=function(e,n){var a="string"==typeof e;return void 0===n&&a?this[0]?this[0].getAttribute(e):void 0:this.each(function(){if(a)this.setAttribute(e,n);else for(var t in e)e.hasOwnProperty(t)&&this.setAttribute(t,e[t])})},c.fn.before=function(a){return"string"!=typeof a&&void 0===a.nodeType||(a=c(a)),this.each(function(t){for(var e=0,n=a.length;e<n;e++)this.parentNode.insertBefore(0<t?a[e].cloneNode(!0):a[e],this)})},c.fn.children=function(){var t,e,n=[];return this.each(function(){for(t=this.children,e=-1;e++<t.length-1;)-1===c.inArray(t[e],n)&&n.push(t[e])}),c(n)},c.fn.closest=function(e){var n=[];return e&&this.each(function(){var t;if(c(t=this).is(e))n.push(this);else for(;t.parentElement;){if(c(t.parentElement).is(e)){n.push(t.parentElement);break}t=t.parentElement}}),c(n)},c.cssExceptions={float:["cssFloat"]},function(){var o=c.cssExceptions;function r(t,e){return s.getComputedStyle(t,null).getPropertyValue(e)}var l=["","-webkit-","-ms-","-moz-","-o-","-khtml-"];c._getStyle=function(t,e){var n,a,i,s;if(o[e])for(i=0,s=o[e].length;i<s;i++)if(a=r(t,o[e][i]))return a;for(i=0,s=l.length;i<s;i++)if(a=r(t,n=(l[i]+e).replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()})),n!==e&&(a=a||r(t,e)),l[i]&&(a=a||r(t,l[i]+e)),a)return a}}(),r=c.cssExceptions,c._setStyle=function(t,e,n){var a=e.replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()});if(t.style[e]=n,a!==e&&(t.style[a]=n),r[e])for(var i=0,s=r[e].length;i<s;i++)t.style[r[e][i]]=n},c.fn.css=function(e,t){if(this[0])return"object"==typeof e?this.each(function(){for(var t in e)e.hasOwnProperty(t)&&c._setStyle(this,t,e[t])}):void 0!==t?this.each(function(){c._setStyle(this,e,t)}):c._getStyle(this[0],e)},c.fn.eq=function(t){return this[t]?c(this[t]):c([])},c.fn.filter=function(a){var i=[];return this.each(function(t){var e;if("function"==typeof a)!1!==a.call(this,t)&&i.push(this);else{if(this.parentNode)e=c(a,this.parentNode);else{var n=c(l.createDocumentFragment());n[0].appendChild(this),e=c(a,n)}-1<c.inArray(this,e)&&i.push(this)}}),c(i)},c.fn.find=function(n){var a,i=[];return this.each(function(){for(var t=0,e=(a=this.querySelectorAll(n)).length;t<e;t++)i=i.concat(a[t])}),c(i)},c.fn.first=function(){return this.eq(0)},c.fn.get=function(t){if(void 0!==t)return this[t];for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e};c.fn.html=function(t){if(void 0!==t)return function(t){if("string"==typeof t||"number"==typeof t)return this.each(function(){this.innerHTML=""+t});var e="";if(void 0!==t.length)for(var n=0,a=t.length;n<a;n++)e+=t[n].outerHTML;else e=t.outerHTML;return this.each(function(){this.innerHTML=e})}.call(this,t);var e="";return this.each(function(){e+=this.innerHTML}),e},function(){function t(t,e){var n,a,i;for(n=a=0;n<t.length;n++){if(e(i=t.item?t.item(n):t[n]))return a;1===i.nodeType&&a++}return-1}c.fn.index=function(e){var n;return n=this,void 0===e?t((this[0]&&this[0].parentNode||l.documentElement).childNodes,function(t){return n[0]===t}):t(n,function(t){return t===c(e,t.parentNode)[0]})}}(),c.fn.insertBefore=function(t){return this.each(function(){c(t).before(this)})},c.fn.last=function(){return this.eq(this.length-1)},c.fn.next=function(){var i=[];return this.each(function(){var t,e,n;t=c(this.parentNode)[0].childNodes;for(var a=0;a<t.length;a++){if(e=t.item(a),n&&1===e.nodeType){i.push(e);break}e===this&&(n=!0)}}),c(i)},c.fn.not=function(e){var n=[];return this.each(function(){var t=c(e,this.parentNode);-1===c.inArray(this,t)&&n.push(this)}),c(n)},c.fn.parent=function(){var t,e=[];return this.each(function(){(t=this===l.documentElement?l:this.parentNode)&&11!==t.nodeType&&e.push(t)}),c(e)},c.fn.prepend=function(i){return"string"!=typeof i&&void 0===i.nodeType||(i=c(i)),this.each(function(t){for(var e=0,n=i.length;e<n;e++){var a=0<t?i[e].cloneNode(!0):i[e];this.firstChild?this.insertBefore(a,this.firstChild):this.appendChild(a)}})},c.fn.prev=function(){var i=[];return this.each(function(){for(var t,e,n,a=(t=c(this.parentNode)[0].childNodes).length-1;0<=a;a--){if(e=t.item(a),n&&1===e.nodeType){i.push(e);break}e===this&&(n=!0)}}),c(i)},c.fn.prevAll=function(){var e=[];return this.each(function(){for(var t=c(this).prev();t.length;)e.push(t[0]),t=t.prev()}),c(e)},c.fn.removeAttr=function(t){return this.each(function(){this.removeAttribute(t)})},c.fn.removeClass=function(t){var i=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t,e,n=0,a=i.length;n<a;n++)void 0!==this.className&&(e=new RegExp("(^|\\s)"+i[n]+"($|\\s)","gmi"),t=this.className.replace(e," "),this.className=t.replace(/^\s+|\s+$/g,""))})},c.fn.remove=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},c.fn.replaceWith=function(s){"string"==typeof s&&(s=c(s));var o=[];return 1<s.length&&(s=s.reverse()),this.each(function(t){var e,n=this.cloneNode(!0);if(o.push(n),this.parentNode)if(1===s.length)e=0<t?s[0].cloneNode(!0):s[0],this.parentNode.replaceChild(e,this);else{for(var a=0,i=s.length;a<i;a++)e=0<t?s[a].cloneNode(!0):s[a],this.parentNode.insertBefore(e,this.nextSibling);this.parentNode.removeChild(this)}}),c(o)},c.fn.siblings=function(){if(!this.length)return c([]);for(var t=[],e=this[0].parentNode.firstChild;1===e.nodeType&&e!==this[0]&&t.push(e),e=e.nextSibling;);return c(t)};var d=function(t){var e,n="",a=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=d(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[a++];)n+=d(e);return n};function u(t,e,n){var a=this.shoestringData.events[t];if(a&&a.length){var i,s,o=[];for(i=0,s=a.length;i<s;i++)e&&e!==a[i].namespace||void 0!==n&&n!==a[i].originalCallback||(this.removeEventListener(t,a[i].callback,!1),o.push(i));for(i=0,s=o.length;i<s;i++)this.shoestringData.events[t].splice(i,1)}}function f(t,e){for(var n in this.shoestringData.events)u.call(this,n,t,e)}return c.fn.text=function(){return d(this)},c.fn.val=function(o){var t;return void 0!==o?this.each(function(){if("SELECT"===this.tagName){var t,e,n,a=this.options,i=[],s=a.length;for(i[0]=o;s--;)((e=a[s]).selected=0<=c.inArray(e.value,i))&&(t=!0,n=s);this.selectedIndex=t?n:-1}else this.value=o}):"SELECT"===(t=this[0]).tagName?t.selectedIndex<0?"":t.options[t.selectedIndex].value:t.value},c._dimension=function(t,e,n){var a;return void 0===n?(a=e.replace(/^[a-z]/,function(t){return t.toUpperCase()}),t[0]["offset"+a]):(n="string"==typeof n?n:n+"px",t.each(function(){this.style[e]=n}))},c.fn.width=function(t){return c._dimension(this,"width",t)},c.fn.wrapInner=function(e){return this.each(function(){var t=this.innerHTML;this.innerHTML="",c(this).append(c(e).html(t))})},c.fn.bind=function(t,o,f){"function"==typeof o&&(f=o,o=null);var p=t.split(" ");function g(t,e,n){var a;if(!t._namespace||t._namespace===e){t.data=o,t.namespace=t._namespace;var i=function(){return!0};t.isDefaultPrevented=function(){return!1};var s=t.preventDefault;return t.target=n||t.target||t.srcElement,t.preventDefault=s?function(){t.isDefaultPrevented=i,s.call(t)}:function(){t.isDefaultPrevented=i,t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},!1===(a=f.apply(this,[t].concat(t._args)))&&(t.preventDefault(),t.stopPropagation()),a}}return this.each(function(){for(var t,e,n,a,i,s,o,r=this,l=0,c=p.length;l<c;l++){var h=p[l].split("."),d=h[0],u=0<h.length?h[1]:null;t=function(t){return r.ssEventTrigger&&(t._namespace=r.ssEventTrigger._namespace,t._args=r.ssEventTrigger._args,r.ssEventTrigger=null),g.call(r,t,u)},null,o=d,(s=this).shoestringData||(s.shoestringData={}),s.shoestringData.events||(s.shoestringData.events={}),s.shoestringData.loop||(s.shoestringData.loop={}),s.shoestringData.events[o]||(s.shoestringData.events[o]=[]),this.addEventListener(d,t,!1),e=this,n=d,i=void 0,(i={}).isCustomEvent=(a={callfunc:t,isCustomEvent:!1,customEventLoop:null,originalCallback:f,namespace:u}).isCustomEvent,i.callback=a.callfunc,i.originalCallback=a.originalCallback,i.namespace=a.namespace,e.shoestringData.events[n].push(i),a.customEventLoop&&(e.shoestringData.loop[n]=a.customEventLoop)}})},c.fn.on=c.fn.bind,c.fn.unbind=function(t,s){var o=t?t.split(" "):[];return this.each(function(){if(this.shoestringData&&this.shoestringData.events)if(o.length)for(var t,e,n,a=0,i=o.length;a<i;a++)e=(t=o[a].split("."))[0],n=0<t.length?t[1]:null,e?u.call(this,e,n,s):f.call(this,n,s);else f.call(this)})},c.fn.off=c.fn.unbind,c.fn.one=function(t,s){var o=t.split(" ");return this.each(function(){for(var t,a={},e=c(this),n=0,i=o.length;n<i;n++)t=o[n],a[t]=function(t){var e=c(this);for(var n in a)e.unbind(n,a[n]);return s.apply(this,[t].concat(t._args))},e.bind(t,a[t])})},c.fn.triggerHandler=function(t,e){var n,a=t.split(" ")[0],i=this[0];if(l.createEvent&&i.shoestringData&&i.shoestringData.events&&i.shoestringData.events[a]){var s=i.shoestringData.events[a];for(var o in s)s.hasOwnProperty(o)&&((t=l.createEvent("Event")).initEvent(a,!0,!0),(t._args=e).unshift(t),n=s[o].originalCallback.apply(t.target,e))}return n},c.fn.trigger=function(t,o){var r=t.split(" ");return this.each(function(){for(var t,e,n,a=0,i=r.length;a<i;a++){if(e=(t=r[a].split("."))[0],n=0<t.length?t[1]:null,"click"===e&&"INPUT"===this.tagName&&"checkbox"===this.type&&this.click)return this.click(),!1;if(l.createEvent){var s=l.createEvent("Event");s.initEvent(e,!0,!0),s._args=o,s._namespace=n,this.dispatchEvent(s)}}})},c}),function(n){"function"==typeof define&&define.amd?define(["shoestring"],n):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("shoestring"):require("shoestring")(t)),n(e),e}:n(shoestring)}(function(x){"use strict";var t,a,s,n,i,o,r,l,e,g,c,u,_="undefined"!=typeof window?window:this,N={i18n:{modeStack:"Stack",modeSwipe:"Swipe",modeToggle:"Toggle",modeSwitchColumnsAbbreviated:"Cols",modeSwitchColumns:"Columns",columnToggleButton:"Columns",columnToggleError:"No eligible columns.",sort:"Sort",swipePreviousColumn:"Previous column",swipeNextColumn:"Next column"},mustard:"head"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini};x(_.document).on("enhance.tablesaw",function(){"undefined"!=typeof TablesawConfig&&TablesawConfig.i18n&&(N.i18n=x.extend(N.i18n,TablesawConfig.i18n||{})),N.i18n.modes=[N.i18n.modeStack,N.i18n.modeSwipe,N.i18n.modeToggle]}),N.mustard&&x(document.documentElement).addClass("tablesaw-enhanced"),function(){var e="tablesaw",n="tablesaw-bar",a={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh",resize:"tablesawresize"},i={};N.events=a;var t=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=x(t),this.$thead=this.$table.children().filter("thead").eq(0),this.$tbody=this.$table.children().filter("tbody"),this.mode=this.$table.attr("data-tablesaw-mode")||"stack",this.$toolbar=null,this.init()};t.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",e+"-"+Math.round(1e4*Math.random())),this.createToolbar(),this._initCells(),this.$table.data(e,this),this.$table.trigger(a.create,[this])},t.prototype.getConfig=function(t){var e=x.extend(i,t||{});return x.extend(e,"undefined"!=typeof TablesawConfig?TablesawConfig:{})},t.prototype._getPrimaryHeaderRow=function(){return this._getHeaderRows().eq(0)},t.prototype._getHeaderRows=function(){return this.$thead.children().filter("tr").filter(function(){return!x(this).is("[data-tablesaw-ignorerow]")})},t.prototype._getRowIndex=function(t){return t.prevAll().length},t.prototype._getHeaderRowIndeces=function(){var t=this,e=[];return this._getHeaderRows().each(function(){e.push(t._getRowIndex(x(this)))}),e},t.prototype._getPrimaryHeaderCells=function(t){return(t||this._getPrimaryHeaderRow()).find("th")},t.prototype._findPrimaryHeadersForCell=function(t){for(var e=this._getPrimaryHeaderRow(),n=this._getPrimaryHeaderCells(e),a=this._getRowIndex(e),i=[],s=0;s<this.headerMapping.length;s++)if(s!==a)for(var o=0;o<this.headerMapping[s].length;o++)this.headerMapping[s][o]===t&&i.push(n[o]);return i},t.prototype.getRows=function(){var t=this;return this.$table.find("tr").filter(function(){return x(this).closest("table").is(t.$table)})},t.prototype.getBodyRows=function(t){return(t?x(t):this.$tbody).children().filter("tr")},t.prototype.getHeaderCellIndex=function(t){for(var e=this.headerMapping[0],n=0;n<e.length;n++)if(e[n]===t)return n;return-1},t.prototype._initCells=function(){var t=this.getRows(),o=[];t.each(function(t){o[t]=[]}),t.each(function(i){var s=0;x(this).children().each(function(){for(var t=parseInt(this.getAttribute("colspan"),10),e=parseInt(this.getAttribute("rowspan"),10);o[i][s];)s++;if(o[i][s]=this,t)for(var n=0;n<t-1;n++)s++,o[i][s]=this;if(e)for(var a=1;a<e;a++)o[i+a][s]=this;s++})});for(var e=this._getHeaderRowIndeces(),n=0;n<o[0].length;n++)for(var a=0,i=e.length;a<i;a++){var s,r=o[e[a]][n],l=e[a];for(r.cells||(r.cells=[]);l<o.length;)r!==(s=o[l][n])&&r.cells.push(s),l++}this.headerMapping=o},t.prototype.refresh=function(){this._initCells(),this.$table.trigger(a.refresh,[this])},t.prototype._getToolbarAnchor=function(){var t=this.$table.parent();return t.is(".tablesaw-overflow")?t:this.$table},t.prototype._getToolbar=function(t){return t||(t=this._getToolbarAnchor()),t.prev().filter("."+n)},t.prototype.createToolbar=function(){var t=this._getToolbarAnchor(),e=this._getToolbar(t);e.length||(e=x("<div>").addClass(n).insertBefore(t)),this.$toolbar=e,this.mode&&this.$toolbar.addClass("tablesaw-mode-"+this.mode)},t.prototype.destroy=function(){this._getToolbar().each(function(){this.className=this.className.replace(/\btablesaw-mode\-\w*\b/gi,"")});var t=this.$table.attr("id");x(document).off("."+t),x(window).off("."+t),this.$table.trigger(a.destroy,[this]),this.$table.removeData(e)},x.fn[e]=function(){return this.each(function(){x(this).data(e)||new t(this)})};var s=x(_.document);s.on("enhance.tablesaw",function(t){N.mustard&&x(t.target).find("table").filter("[data-tablesaw],[data-tablesaw-mode],[data-tablesaw-sortable]")[e]()});var o,r,l=!1;s.on("scroll.tablesaw",function(){l=!0,_.clearTimeout(o),o=_.setTimeout(function(){l=!1},300)}),x(_).on("resize",function(){l||(_.clearTimeout(r),r=_.setTimeout(function(){s.trigger(a.resize)},150))})}(),a="tablesaw-cell-label",s="tablesaw-cell-content",n=t="tablesaw-stack",i="data-tablesaw-no-labels",o="data-tablesaw-hide-empty",(r=function(t,e){this.tablesaw=e,this.$table=x(t),this.labelless=this.$table.is("["+i+"]"),this.hideempty=this.$table.is("["+o+"]"),this.$table.data(n,this)}).prototype.init=function(){if(this.$table.addClass(t),!this.labelless){var n=this;this.$table.find("th, td").filter(function(){return!x(this).closest("thead").length}).filter(function(){return!(x(this).closest("tr").is("["+i+"]")||n.hideempty&&!x(this).html())}).each(function(){var i=x(document.createElement("b")).addClass(a),t=x(this);x(n.tablesaw._findPrimaryHeadersForCell(this)).each(function(t){var e=x(this.cloneNode(!0)),n=e.find(".tablesaw-sortable-btn");e.find(".tablesaw-sortable-arrow").remove();var a=e.find("[data-tablesaw-checkall]");a.closest("label").remove(),a.length?i=x([]):(0<t&&i.append(document.createTextNode(", ")),i.append(n.length?n[0].childNodes:e[0].childNodes))}),i.length&&!t.find("."+s).length&&t.wrapInner("<span class='"+s+"'></span>");var e=t.find("."+a);e.length?e.replaceWith(i):t.prepend(i)})}},r.prototype.destroy=function(){this.$table.removeClass(t),this.$table.find("."+a).remove(),this.$table.find("."+s).each(function(){x(this).replaceWith(this.childNodes)})},x(document).on(N.events.create,function(t,e){"stack"===e.mode&&new r(e.table,e).init()}).on(N.events.refresh,function(t,e){"stack"===e.mode&&x(e.table).data(n).init()}).on(N.events.destroy,function(t,e){"stack"===e.mode&&x(e.table).data(n).destroy()}),l="tablesawbtn",e={_create:function(){return x(this).each(function(){x(this).trigger("beforecreate."+l)[l]("_init").trigger("create."+l)})},_init:function(){var t=x(this),e=this.getElementsByTagName("select")[0];return e&&x(this).addClass("btn-select tablesaw-btn-select")[l]("_select",e),t},_select:function(t){var e=function(t,e){var n,a,i=x(e).find("option"),s=document.createElement("span"),o=!1;if(s.setAttribute("aria-hidden","true"),s.innerHTML="&#160;",i.each(function(){this.selected&&(s.innerHTML=this.text)}),a=t.childNodes,0<i.length){for(var r=0,l=a.length;r<l;r++)(n=a[r])&&"SPAN"===n.nodeName.toUpperCase()&&(t.replaceChild(s,n),o=!0);o||t.insertBefore(s,t.firstChild)}};e(this,t),x(this).on("change refresh",function(){e(this,t)})}},x.fn[l]=function(t,e,n,a){return this.each(function(){return t&&"string"==typeof t?x.fn[l].prototype[t].call(this,e,n,a):x(this).data(l+"active")?x(this):(x(this).data(l+"active",!0),void x.fn[l].prototype._create.call(this))})},x.extend(x.fn[l].prototype,e),g="tablesaw-coltoggle",(c=function(t){this.$table=x(t),this.$table.length&&(this.tablesaw=this.$table.data("tablesaw"),this.attributes={subrow:"data-tablesaw-subrow",ignorerow:"data-tablesaw-ignorerow",btnTarget:"data-tablesaw-columntoggle-btn-target",set:"data-tablesaw-columntoggle-set"},this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-"},this.set=[],this.$headers=this.tablesaw._getPrimaryHeaderCells(),this.$table.data(g,this))}).prototype.initSet=function(){var t=this.$table.attr(this.attributes.set);if(t){var e=this.$table[0];this.set=x("table["+this.attributes.set+"='"+t+"']").filter(function(){return this!==e}).get()}},c.prototype.init=function(){if(this.$table.length){var e,t,n,a,i,s,o=this,r=this.tablesaw.getConfig({getColumnToggleLabelTemplate:function(t){return"<label><input type='checkbox' checked>"+t+"</label>"}});this.$table.addClass(this.classes.columnToggleTable),t=(e=this.$table.attr("id"))+"-popup",s=x("<div class='"+this.classes.columnBtnContain+"'></div>"),n=x("<a href='#"+t+"' class='btn tablesaw-btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+N.i18n.columnToggleButton+"</span></a>"),a=x("<div class='"+this.classes.popup+"' id='"+t+"'></div>"),i=x("<div class='btn-group'></div>"),this.$popup=a;var l=!1;this.$headers.each(function(){var t=x(this),e=t.attr("data-tablesaw-priority"),n=o.$getCells(this);e&&"persist"!==e&&(n.addClass(o.classes.priorityPrefix+e),x(r.getColumnToggleLabelTemplate(t.text())).appendTo(i).find('input[type="checkbox"]').data("tablesaw-header",this),l=!0)}),l||i.append("<label>"+N.i18n.columnToggleError+"</label>"),i.appendTo(a),i.find('input[type="checkbox"]').on("change",function(e){var n;f(e.target),o.set.length&&(x(o.$popup).find("input[type='checkbox']").each(function(t){if(this===e.target)return n=t,!1}),x(o.set).each(function(){var t=x(this).data(g).$popup.find("input[type='checkbox']").get(n);t&&(t.checked=e.target.checked,f(t))}))}),n.appendTo(s);var c,h=x(this.$table.attr(this.attributes.btnTarget));s.appendTo(h.length?h:this.tablesaw.$toolbar),n.on("click.tablesaw",function(t){t.preventDefault(),s.is(".visible")?p():(s.addClass("visible"),n.removeClass("down").addClass("up"),x(document).off("click."+e,p),window.clearTimeout(c),c=window.setTimeout(function(){x(document).on("click."+e,p)},15))}),a.appendTo(s),this.$menu=i;var d,u=this.$table.closest(".tablesaw-overflow");u.css("-webkit-overflow-scrolling")&&u.on("scroll",function(){var t=x(this);window.clearTimeout(d),d=window.setTimeout(function(){t.css("-webkit-overflow-scrolling","auto"),window.setTimeout(function(){t.css("-webkit-overflow-scrolling","touch")},0)},100)}),x(window).on(N.events.resize+"."+e,function(){o.refreshToggle()}),this.initSet(),this.refreshToggle()}function f(t){var e=t.checked,n=o.getHeaderFromCheckbox(t),a=o.$getCells(n);a[e?"removeClass":"addClass"]("tablesaw-cell-hidden"),a[e?"addClass":"removeClass"]("tablesaw-cell-visible"),o.updateColspanIgnoredRows(e,x(n).add(n.cells)),o.$table.trigger("tablesawcolumns")}function p(t){t&&x(t.target).closest("."+o.classes.popup).length||(x(document).off("click."+e),n.removeClass("up").addClass("down"),s.removeClass("visible"))}},c.prototype.updateColspanIgnoredRows=function(o,r){this.$table.find("["+this.attributes.subrow+"],["+this.attributes.ignorerow+"]").each(function(){var t,e,n,a,i=x(this),s=i.find("td[colspan]").eq(0);!0===o||!1===o?(a=r.filter(function(){return this===s[0]}).length?o?1:-1:0,e=parseInt(s.attr("colspan"),10)+a):((n=s.data("original-colspan"))?e=n:(e=parseInt(s.attr("colspan"),10),s.data("original-colspan",e)),t=i.find("td").filter(function(){return this!==s[0]&&"none"===x(this).css("display")}).length,e-=o-t),s.attr("colspan",e)})},c.prototype.$getCells=function(t){var a=this;return x(t).add(t.cells).filter(function(){var t=x(this),e=t.parent(),n=t.is("[colspan]");return!(e.is("["+a.attributes.subrow+"]")||e.is("["+a.attributes.ignorerow+"]")&&n)})},c.prototype.getHeaderFromCheckbox=function(t){return x(t).data("tablesaw-header")},c.prototype.refreshToggle=function(){var n=this,a=0;this.$menu.find("input").each(function(){var t=n.getHeaderFromCheckbox(this),e="table-cell"===n.$getCells(t).eq(0).css("display");(this.checked=e)||a++}),this.updateColspanIgnoredRows(a)},c.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){x(this).removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},x(document).on(N.events.create,function(t,e){"columntoggle"===e.mode&&new c(e.table).init()}),x(document).on(N.events.destroy,function(t,e){"columntoggle"===e.mode&&x(e.table).data(g).destroy()}),x(document).on(N.events.refresh,function(t,e){"columntoggle"===e.mode&&x(e.table).data(g).refreshPriority()}),function(){function p(t){var e=[];return x(t.childNodes).each(function(){var t=x(this);t.is("input, select")?e.push(t.val()):t.is(".tablesaw-cell-label")||e.push((t.text()||"").replace(/^\s+|\s+$/g,""))}),e.join("")}var d="tablesaw-sortable",r="data-tablesaw-sortable-col",h="data-tablesaw-sortable-default-col",g="data-tablesaw-sortable-numeric",b="data-tablesaw-subrow",v="data-tablesaw-ignorerow",u={head:d+"-head",ascend:d+"-ascending",descend:d+"-descending",switcher:d+"-switch",tableToolbar:"tablesaw-bar-section",sortButton:d+"-btn"},t={_create:function(t){return x(this).each(function(){if(x(this).data(d+"-init"))return!1;x(this).data(d+"-init",!0).trigger("beforecreate."+d)[d]("_init",t).trigger("create."+d)})},_init:function(){var i,s,t,e,a,n,o=x(this),l=o.data("tablesaw");function c(t){x.each(t,function(t,e){var n=x(e);n.removeAttr(h),n.removeClass(u.ascend),n.removeClass(u.descend)})}o.addClass(d),i=o.children().filter("thead").find("th["+r+"]"),t=i,x.each(t,function(t,e){x(e).addClass(u.head)}),e=i,a=function(t){if(!x(t.target).is("a[href]")){t.stopPropagation();var e=x(t.target).closest("["+r+"]"),n=t.data.col,a=i.index(e[0]);c(e.closest("thead").find("th").filter(function(){return this!==e[0]})),e.is("."+u.descend)||!e.is("."+u.ascend)?(o[d]("sortBy",n,!0),a+="_asc"):(o[d]("sortBy",n),a+="_desc"),s&&s.find("select").val(a).trigger("refresh"),t.preventDefault()}},x.each(e,function(t,e){var n=x("<button class='"+u.sortButton+"'/>");n.on("click",{col:e},a),x(e).wrapInner(n).find("button").append("<span class='tablesaw-sortable-arrow'>")}),n=i,x.each(n,function(t,e){var n=x(e);n.is("["+h+"]")&&(n.is("."+u.descend)||n.addClass(u.ascend))}),o.is("[data-tablesaw-sortable-switch]")&&function(n){s=x("<div>").addClass(u.switcher).addClass(u.tableToolbar);var r=["<label>"+N.i18n.sort+":"];r.push('<span class="btn tablesaw-btn"><select>'),n.each(function(t){var e=x(this),n=e.is("["+h+"]"),a=e.is("."+u.descend),i=e.is("["+g+"]"),s=0;x(this.cells.slice(0,5)).each(function(){isNaN(parseInt(p(this),10))||s++});var o=5===s;i||e.attr(g,o?"":"false"),r.push("<option"+(n&&!a?" selected":"")+' value="'+t+'_asc">'+e.text()+" "+(o?"&#x2191;":"(A-Z)")+"</option>"),r.push("<option"+(n&&a?" selected":"")+' value="'+t+'_desc">'+e.text()+" "+(o?"&#x2193;":"(Z-A)")+"</option>")}),r.push("</select></span></label>"),s.html(r.join(""));var t=l.$toolbar.children().eq(0);t.length?s.insertBefore(t):s.appendTo(l.$toolbar),s.find(".tablesaw-btn").tablesawbtn(),s.find("select").on("change",function(){var t=x(this).val().split("_"),e=n.eq(t[0]);c(e.siblings()),o[d]("sortBy",e.get(0),"asc"===t[1])})}(i)},sortRows:function(t,e,n,a,i){var s,o,r,l,c,h,d,u=(o=a.cells,r=i,l=[],x.each(o,function(t,e){for(var n=e.parentNode,a=x(n),i=[],s=a.next();s.is("["+b+"]");)i.push(s[0]),s=s.next();var o=n.parentNode;a.is("["+b+"]")||o===r&&l.push({element:e,cell:p(e),row:n,subrows:i.length?i:null,ignored:a.is("["+v+"]")})}),l),f=x(a).data("tablesaw-sort");return s=!(!f||"function"!=typeof f)&&f(n)||(c=n,h=x(a).is("["+g+"]")&&!x(a).is("["+g+'="false"]'),d=/[^\-\+\d\.]/g,c?function(t,e){return t.ignored||e.ignored?0:h?parseFloat(t.cell.replace(d,""))-parseFloat(e.cell.replace(d,"")):t.cell.toLowerCase()>e.cell.toLowerCase()?1:-1}:function(t,e){return t.ignored||e.ignored?0:h?parseFloat(e.cell.replace(d,""))-parseFloat(t.cell.replace(d,"")):t.cell.toLowerCase()<e.cell.toLowerCase()?1:-1}),function(t){var e,n,a=[];for(e=0,n=t.length;e<n;e++)a.push(t[e].row),t[e].subrows&&a.push(t[e].subrows);return a}(u.sort(s))},makeColDefault:function(t,e){var n=x(t);n.attr(h,"true"),e?(n.removeClass(u.descend),n.addClass(u.ascend)):(n.removeClass(u.ascend),n.addClass(u.descend))},sortBy:function(o,r){var l,c=x(this),h=c.data("tablesaw");h.$tbody.each(function(){var t,e,n,a=x(this),i=h.getBodyRows(this),s=h.headerMapping[0];for(e=0,n=s.length;e<n;e++)if(s[e]===o){l=e;break}for(e=0,n=(t=c[d]("sortRows",i,l,r,o,this)).length;e<n;e++)a.append(t[e])}),c[d]("makeColDefault",o,r),c.trigger("tablesaw-sorted")}};x.fn[d]=function(t){var e,n=Array.prototype.slice.call(arguments,1);return t&&"string"==typeof t?void 0!==(e=x.fn[d].prototype[t].apply(this[0],n))?e:x(this):(x(this).data(d+"-active")||(x(this).data(d+"-active",!0),x.fn[d].prototype._create.call(this,t)),x(this))},x.extend(x.fn[d].prototype,t),x(document).on(N.events.create,function(t,e){e.$table.is("table[data-tablesaw-sortable]")&&e.$table[d]()})}(),function(){var C="disabled",T="tablesaw-fix-persist",$="tablesaw-all-cols-visible",k="data-tablesaw-no-touch";function n(c,r){var n=r.data("tablesaw"),t=x("<div class='tablesaw-advance'></div>"),a=x("<a href='#' class='btn tablesaw-nav-btn tablesaw-btn btn-micro left' title='"+N.i18n.swipePreviousColumn+"'></a>").appendTo(t),i=x("<a href='#' class='btn tablesaw-nav-btn tablesaw-btn btn-micro right' title='"+N.i18n.swipeNextColumn+"'></a>").appendTo(t),l=c._getPrimaryHeaderCells(),s=l.not('[data-tablesaw-priority="persist"]'),h=[],o=x(document.head||"head"),d=r.attr("id");if(!l.length)throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");function u(t){return x(t.cells).add(t)}function f(t){u(t).removeClass("tablesaw-cell-hidden")}function p(t){u(t).addClass("tablesaw-cell-hidden")}function g(){var t,n="#"+d+".tablesaw-swipe ",a=[],i=r.width(),s=[];if(l.each(function(t){var e;x(this).is('[data-tablesaw-priority="persist"]')&&(e=this.offsetWidth)<.75*i&&(s.push(t+"-"+e),a.push(n+" .tablesaw-cell-persist:nth-child("+(t+1)+") { width: "+e+"px; }"))}),t=s.join("_"),a.length){r.addClass(T);var e=x("#"+d+"-persist");e.length&&e.data("tablesaw-hash")===t||(e.remove(),x("<style>"+a.join("\n")+"</style>").attr("id",d+"-persist").data("tablesaw-hash",t).appendTo(o))}}function b(){var a,i=[];return s.each(function(t){var e=x(this),n="none"===e.css("display")||e.is(".tablesaw-cell-hidden");if(n||a){if(n&&a)return i[1]=t,!1}else a=!0,i[0]=t}),i}function v(){var t=b();return[t[1]-1,t[0]-1]}function w(t){return-1<t[1]&&t[1]<s.length}function m(){if(!(t=r.attr("data-tablesaw-swipe-media"))||"matchMedia"in _&&_.matchMedia(t).matches){var t,n=r.parent().width(),a=[],i=0,s=[],o=l.length;l.each(function(t){var e=x(this).is('[data-tablesaw-priority="persist"]');a.push(e),i+=h[t],s.push(i),(e||n<i)&&o--});var e=0===o;l.each(function(t){a[t]?u(this).addClass("tablesaw-cell-persist"):s[t]<=n||e?(e=!1,f(this)):p(this)}),r.removeClass(T),x("#"+d+"-persist").remove(),r.trigger("tablesawcolumns")}}function y(t){var e=t?b():v();w(e)&&(isNaN(e[0])&&(e[0]=t?0:s.length-1),g(),p(s.get(e[0])),f(s.get(e[1])),r.trigger("tablesawcolumns"))}function e(t,e){return(t.touches||t.originalEvent.touches)[0][e]}r.addClass("tablesaw-swipe"),l.each(function(){var t=this.offsetWidth;h.push(t)}),t.appendTo(n.$toolbar),d||(d="tableswipe-"+Math.round(1e4*Math.random()),r.attr("id",d)),a.add(i).on("click",function(t){y(!!x(t.target).closest(i).length),t.preventDefault()}),r.is("["+k+"]")||r.on("touchstart.swipetoggle",function(t){var i,s,o=e(t,"pageX"),r=e(t,"pageY"),l=window.pageYOffset;x(_).off(N.events.resize,m),x(this).on("touchmove.swipetoggle",function(t){i=e(t,"pageX"),s=e(t,"pageY")}).on("touchend.swipetoggle",function(){var t=c.getConfig({swipeHorizontalThreshold:30,swipeVerticalThreshold:30}),e=t.swipe?t.swipe.verticalThreshold:t.swipeVerticalThreshold,n=t.swipe?t.swipe.horizontalThreshold:t.swipeHorizontalThreshold,a=Math.abs(window.pageYOffset-l)>=e;Math.abs(s-r)>=e||a||(i-o<-1*n&&y(!0),n<i-o&&y(!1)),window.setTimeout(function(){x(_).on(N.events.resize,m)},300),x(this).off("touchmove.swipetoggle touchend.swipetoggle")})}),r.on("tablesawcolumns.swipetoggle",function(){var t=w(v()),e=w(b());a[t?"removeClass":"addClass"](C),i[e?"removeClass":"addClass"](C),n.$toolbar[t||e?"removeClass":"addClass"]($)}).on("tablesawnext.swipetoggle",function(){y(!0)}).on("tablesawprev.swipetoggle",function(){y(!1)}).on(N.events.destroy+".swipetoggle",function(){var t=x(this);t.removeClass("tablesaw-swipe"),n.$toolbar.find(".tablesaw-advance").remove(),x(_).off(N.events.resize,m),t.off(".swipetoggle")}).on(N.events.refresh,function(){h=[],l.each(function(){var t=this.offsetWidth;h.push(t)}),m()}),m(),x(_).on(N.events.resize,m)}x(document).on(N.events.create,function(t,e){"swipe"===e.mode&&n(e,e.$table)})}(),function(){var r={init:"data-tablesaw-minimap"};function n(n){var e=n.data("tablesaw"),a=x('<div class="tablesaw-advance minimap">'),i=x('<ul class="tablesaw-advance-dots">').appendTo(a),s="tablesaw-advance-dots-hide";function o(){if(!(t=n.attr(r.init))||_.matchMedia&&_.matchMedia(t).matches){var t;a.css("display","block");var e=i.find("li").removeClass(s);n.find("thead th").each(function(t){"none"===x(this).css("display")&&e.eq(t).addClass(s)})}else a.css("display","none")}n.find("thead th").each(function(){i.append("<li><i></i></li>")}),a.appendTo(e.$toolbar),o(),x(_).on(N.events.resize,o),n.on("tablesawcolumns.minimap",function(){o()}).on(N.events.destroy+".minimap",function(){var t=x(this);e.$toolbar.find(".tablesaw-advance").remove(),x(_).off(N.events.resize,o),t.off(".minimap")})}x(document).on(N.events.create,function(t,e){"swipe"!==e.mode&&"columntoggle"!==e.mode||!e.$table.is("[ "+r.init+"]")||n(e.$table)})}(),u={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-bar-section"},modes:["stack","swipe","columntoggle"],init:function(e){var t,n=x(e),a=n.data("tablesaw"),i=n.attr(u.attributes.excludeMode),s=a.$toolbar,o=x("<div>").addClass(u.classes.main+" "+u.classes.toolbar),r=['<label><span class="abbreviated">'+N.i18n.modeSwitchColumnsAbbreviated+'</span><span class="longform">'+N.i18n.modeSwitchColumns+"</span>:"],l=n.attr("data-tablesaw-mode");r.push('<span class="btn tablesaw-btn"><select>');for(var c=0,h=u.modes.length;c<h;c++)i&&i.toLowerCase()===u.modes[c]||(t=l===u.modes[c],r.push("<option"+(t?" selected":"")+' value="'+u.modes[c]+'">'+N.i18n.modes[c]+"</option>"));r.push("</select></span></label>"),o.html(r.join(""));var d=s.find(".tablesaw-advance").eq(0);d.length?o.insertBefore(d):o.appendTo(s),o.find(".tablesaw-btn").tablesawbtn(),o.find("select").on("change",function(t){return u.onModeChange.call(e,t,x(this).val())})},onModeChange:function(t,e){var n=x(this),a=n.data("tablesaw");a.$toolbar.find("."+u.classes.main).remove(),a.destroy(),n.attr("data-tablesaw-mode",e),n.tablesaw()}},x(_.document).on(N.events.create,function(t,e){e.$table.is(u.selectors.init)&&u.init(e.table)}),function(){var s="tablesawCheckAll";function n(t){this.tablesaw=t,this.$table=t.$table,this.attr="data-tablesaw-checkall",this.checkAllSelector="["+this.attr+"]",this.forceCheckedSelector="["+this.attr+"-checked]",this.forceUncheckedSelector="["+this.attr+"-unchecked]",this.checkboxSelector='input[type="checkbox"]',this.$triggers=null,this.$checkboxes=null,this.$table.data(s)||(this.$table.data(s,this),this.init())}n.prototype._filterCells=function(t){return t.filter(function(){return!x(this).closest("tr").is("[data-tablesaw-subrow],[data-tablesaw-ignorerow]")}).find(this.checkboxSelector).not(this.checkAllSelector)},n.prototype.getCheckboxesForButton=function(t){return this._filterCells(x(x(t).attr(this.attr)))},n.prototype.getCheckboxesForCheckbox=function(t){return this._filterCells(x(x(t).closest("th")[0].cells))},n.prototype.init=function(){var t=this;this.$table.find(this.checkAllSelector).each(function(){x(this).is(t.checkboxSelector)?t.addCheckboxEvents(this):t.addButtonEvents(this)})},n.prototype.addButtonEvents=function(t){var i=this;x(t).on("click",function(t){t.preventDefault();var e,n=i.getCheckboxesForButton(this),a=!0;n.each(function(){this.checked||(a=!1)}),e=!!x(this).is(i.forceCheckedSelector)||!x(this).is(i.forceUncheckedSelector)&&!a,n.each(function(){this.checked=e,x(this).trigger("change."+s)})})},n.prototype.addCheckboxEvents=function(n){var e=this;x(n).on("change",function(){var t=this.checked;e.getCheckboxesForCheckbox(this).each(function(){this.checked=t})});var a=e.getCheckboxesForCheckbox(n);a.on("change."+s,function(){var t=0;a.each(function(){this.checked&&t++});var e=t===a.length;n.checked=e,n.indeterminate=0!==t&&!e})},x(document).on(N.events.create,function(t,e){new n(e)})}()});