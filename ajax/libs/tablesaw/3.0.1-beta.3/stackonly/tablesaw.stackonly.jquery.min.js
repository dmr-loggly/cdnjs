!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),a(t),t}:a(jQuery)}(function(d){"use strict";var e,i,s,a,n,r,o,h="undefined"!=typeof window?window:this,c={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"},mustard:"head"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini};c.mustard&&d(document.documentElement).addClass("tablesaw-enhanced"),function(){var a="tablesaw",t="tablesaw-bar",i={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh",resize:"tablesawresize"},n={getHeaderCells:function(){return this.$table.find("thead").children().filter("tr").eq(0).find("th")}};c.events=i;var s=function(e){if(!e)throw new Error("Tablesaw requires an element.");this.table=e,this.$table=d(e),this.mode=this.$table.attr("data-tablesaw-mode")||"stack",this.init()};s.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",a+"-"+Math.round(1e4*Math.random())),this.createToolbar(),this._initCells(),this.$table.trigger(i.create,[this])},s.prototype.getConfig=function(e){var t=d.extend(n,e||{});return d.extend(t,"undefined"!=typeof TablesawConfig?TablesawConfig:{})},s.prototype._getPrimaryHeaderCells=function(){return this.getConfig().getHeaderCells.call(this)},s.prototype._findHeadersForCell=function(e){for(var t=this._getPrimaryHeaderCells(),a=[],i=1;i<this.headerMapping.length;i++)for(var n=0;n<this.headerMapping[i].length;n++)this.headerMapping[i][n]===e&&a.push(t[n]);return a},s.prototype._initCells=function(){var e=this.$table.find("tr"),r=[];e.each(function(e){r[e]=[]}),e.each(function(n){var s=0;d(this).children().each(function(){for(var e=parseInt(this.getAttribute("colspan"),10),t=parseInt(this.getAttribute("rowspan"),10);r[n][s];)s++;if(r[n][s]=this,e)for(var a=0;a<e-1;a++)s++,r[n][s]=this;if(t)for(var i=1;i<t;i++)r[n+i][s]=this;s++})});for(var t=0;t<r[0].length;t++){var a,i=r[0][t],n=0;for(i.cells||(i.cells=[]);n<r.length;)i!==(a=r[n][t])&&(i.cells.push(a),a.headerCell=i),n++}this.headerMapping=r},s.prototype.refresh=function(){this._initCells(),this.$table.trigger(i.refresh,[this])},s.prototype.createToolbar=function(){var e=this.$table.prev().filter("."+t);e.length||(e=d("<div>").addClass(t).insertBefore(this.$table)),this.$toolbar=e,this.mode&&this.$toolbar.addClass("tablesaw-mode-"+this.mode)},s.prototype.destroy=function(){this.$table.prev().filter("."+t).each(function(){this.className=this.className.replace(/\btablesaw-mode\-\w*\b/gi,"")});var e=this.$table.attr("id");d(document).off("."+e),d(window).off("."+e),this.$table.trigger(i.destroy,[this]),this.$table.removeData(a)},d.fn[a]=function(){return this.each(function(){var e=d(this);if(!e.data(a)){var t=new s(this);e.data(a,t)}})};var e=d(h.document);e.on("enhance.tablesaw",function(e){c.mustard&&d(e.target).find("table").filter("[data-tablesaw],[data-tablesaw-mode],[data-tablesaw-sortable]")[a]()});var r,o,l=!1;e.on("scroll.tablesaw",function(){l=!0,h.clearTimeout(r),r=h.setTimeout(function(){l=!1},300)}),d(h).on("resize",function(){l||(h.clearTimeout(o),o=h.setTimeout(function(){e.trigger(i.resize)},150))})}(),i="tablesaw-cell-label",s="tablesaw-cell-content",a=e="tablesaw-stack",n="data-tablesaw-no-labels",r="data-tablesaw-hide-empty",(o=function(e,t){this.tablesaw=t,this.$table=d(e),this.labelless=this.$table.is("["+n+"]"),this.hideempty=this.$table.is("["+r+"]"),this.$table.data(a,this)}).prototype.init=function(){if(this.$table.addClass(e),!this.labelless){var a=this;this.$table.find("th, td").filter(function(){return!d(this).closest("thead").length}).filter(function(){return!(d(this).closest("tr").is("["+n+"]")||a.hideempty&&!d(this).html())}).each(function(){var n=d(document.createElement("b")).addClass(i),e=d(this);d(a.tablesaw._findHeadersForCell(this)).each(function(e){var t=d(this.cloneNode(!0)),a=t.find(".tablesaw-sortable-btn");t.find(".tablesaw-sortable-arrow").remove();var i=t.find("[data-tablesaw-checkall]");i.closest("label").remove(),i.length?n=d([]):(0<e&&n.append(document.createTextNode(", ")),n.append(a.length?a[0].childNodes:t[0].childNodes))}),n.length&&!e.find("."+s).length&&e.wrapInner("<span class='"+s+"'></span>");var t=e.find("."+i);t.length?t.replaceWith(n):e.prepend(n)})}},o.prototype.destroy=function(){this.$table.removeClass(e),this.$table.find("."+i).remove(),this.$table.find("."+s).each(function(){d(this).replaceWith(this.childNodes)})},d(document).on(c.events.create,function(e,t){"stack"===t.mode&&new o(t.table,t).init()}).on(c.events.refresh,function(e,t){"stack"===t.mode&&d(t.table).data(a).init()}).on(c.events.destroy,function(e,t){"stack"===t.mode&&d(t.table).data(a).destroy()})});