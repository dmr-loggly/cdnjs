!function(t){var e=document.createElement("div"),a=e.getElementsByTagName("i"),s=t(document.documentElement);e.innerHTML="\x3c!--[if lte IE 8]><i></i><![endif]--\x3e",a[0]&&s.addClass("ie-lte8"),"querySelector"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini&&(s.addClass("tablesaw-enhanced"),t(function(){t(document).trigger("enhance.tablesaw")}))}(jQuery),function(o){var a="table",e="tablesaw-bar",s="tablesawcreate",t="tablesawdestroy",i="tablesawrefresh",n=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=o(t),this.mode=this.$table.attr("data-mode")||"stack",this.init()};n.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",a+"-"+Math.round(1e4*Math.random())),this.createToolbar();var t=this._initCells();this.$table.trigger(s,[this.mode,t])},n.prototype._initCells=function(){var i,n=this.table.querySelectorAll("thead tr"),l=this;return o(n).each(function(){var s=0;o(this).children().each(function(){var t=parseInt(this.getAttribute("colspan"),10),e=":nth-child("+(s+1)+")";if(i=s+1,t)for(var a=0;a<t-1;a++)e+=", :nth-child("+(++s+1)+")";this.cells=l.$table.find("tr").not(o(n).eq(0)).not(this).children(e),s++})}),i},n.prototype.refresh=function(){this._initCells(),this.$table.trigger(i)},n.prototype.createToolbar=function(){var t=this.$table.prev("."+e);t.length||(t=o("<div>").addClass(e).insertBefore(this.$table)),this.$toolbar=t,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},n.prototype.destroy=function(){this.$table.prev("."+e).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")}),o(window).off("resize."+this.$table.attr("id")),this.$table.trigger(t,[this.mode]),this.$table.removeAttr("data-mode"),this.$table.removeData(a)},o.fn[a]=function(){return this.each(function(){var t=o(this);if(!t.data(a)){var e=new n(this);t.data(a,e)}})},o(document).on("enhance.tablesaw",function(t){o(t.target).find("table[data-mode],table[data-sortable]")[a]()})}(jQuery),function(t,l,e){var a="tablesaw-stack",o="tablesaw-cell-label",s="tablesaw-stack",i="data-no-labels",n=function(t){this.$table=l(t),this.labelless=this.$table.is("["+i+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(s,this)};n.prototype.init=function(n){(this.$table.addClass(a),this.labelless)||l(this.allHeaders).each(function(){var t=l(this.cells),e=t.not(this).filter("thead th").length&&" tablesaw-cell-label-top",a=l(this).text();if(""!==a)if(e){var s=parseInt(l(this).attr("colspan"),10),i="";s&&(i="td:nth-child("+s+"n + "+n+")"),t.filter(i).prepend("<b class='"+o+e+"'>"+a+"</b>")}else t.prepend("<b class='"+o+"'>"+a+"</b>")})},n.prototype.destroy=function(){this.$table.removeClass(a),this.$table.find("."+o).remove()},l(document).on("tablesawcreate","table",function(t,e,a){"stack"===e&&new n(this).init(a)}),l(document).on("tablesawdestroy","table",function(t,e){"stack"===e&&l(this).data(s).destroy()})}(0,jQuery),function(r){var i="tablesawbtn",t={_create:function(){return r(this).each(function(){r(this).trigger("beforecreate."+i)[i]("_init").trigger("create."+i)})},_init:function(){var t=r(this),e=this.getElementsByTagName("select")[0];return e&&r(this).addClass("btn-select")[i]("_select",e),t},_select:function(t){var e=function(t,e){var a,s,i,n=r(e).find("option");if(n.each(function(){this.selected&&(a=document.createTextNode(this.text))}),i=t.childNodes,0<n.length)for(var l=0,o=i.length;l<o;l++)(s=i[l])&&3===s.nodeType&&t.replaceChild(a,s)};e(this,t),r(this).bind("change refresh",function(){e(this,t)})}};r.fn[i]=function(t,e,a,s){return this.each(function(){return t&&"string"==typeof t?r.fn[i].prototype[t].call(this,e,a,s):r(this).data(i+"active")?r(this):(r(this).data(i+"active",!0),void r.fn[i].prototype._create.call(this))})},r.extend(r.fn[i].prototype,t),r(document).on("enhance",function(t){r(".btn",t.target)[i]()})}(jQuery),function(t,r,e){var a=function(t){this.$table=r(t),this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",dialogClass:this.$table.attr("data-dialog-class")||"",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",columnBtnSide:this.$table.attr("data-column-btn-side")||"right",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.i18n={columnBtnText:"Columns",columnsDialogError:"No eligible columns."},this.headers=this.$table.find("tr:first > th"),this.$table.data("tablesaw-coltoggle",this)};a.prototype.init=function(){var t,e,a,s,i,n,l=this;this.$table.addClass(this.classes.columnToggleTable),e=(t=this.$table.attr("id"))+"-popup",n=r("<div class='"+this.classes.columnBtnContain+" "+this.classes.columnBtnSide+" "+this.classes.dialogClass+"'></div>"),a=r("<a href='#"+e+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+this.i18n.columnBtnText+"</span></a>"),s=r("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+e+"'></div>"),i=r("<div class='btn-group'></div>");var o=!1;r(this.headers).not("td").each(function(){var t=r(this),e=t.attr("data-priority"),a=t.add(this.cells);e&&"persist"!==e&&(a.addClass(l.classes.priorityPrefix+e),r("<label><input type='checkbox' checked>"+t.text()+"</label>").appendTo(i).children(0).data("cells",a),o=!0)}),o||i.append("<label>"+this.i18n.columnsDialogError+"</label>"),i.appendTo(s),i.find('input[type="checkbox"]').on("change",function(t){var e=t.target.checked;r(t.target).data("cells").toggleClass("tablesaw-cell-hidden",!e).toggleClass("tablesaw-cell-visible",e),l.$table.trigger("tablesawcolumns")}),a.appendTo(n),n.appendTo(this.$table.prev("."+this.classes.toolbar)),s.appendTo(n).dialog(!0),this.$menu=i,r(window).on("resize."+t,function(){l.refreshToggle()}),this.refreshToggle()},a.prototype.refreshToggle=function(){this.$menu.find("input").each(function(){var t=r(this);this.checked="table-cell"===t.data("cells").eq(0).css("display")})},a.prototype.refreshPriority=function(){var s=this;r(this.headers).not("td").each(function(){var t=r(this),e=t.attr("data-priority"),a=t.add(this.cells);e&&"persist"!==e?a.addClass(s.classes.priorityPrefix+e):a.each(function(){this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})})},a.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){r(this).removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},r(document).on("tablesawcreate","table",function(t,e){"columntoggle"===e&&new a(this).init()}),r(document).on("tablesawdestroy","table",function(t,e){"columntoggle"===e&&r(this).data("tablesaw-coltoggle").destroy()})}(0,jQuery),function(T,$,t){function s(n){var t=$("<div class='tablesaw-advance'></div>"),e=$("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(t),a=$("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(t),s="disabled",l="tablesaw-fix-persist",o=n.find("thead th"),r=o.not('[data-priority="persist"]'),i=[],c=$(document.head||"head"),d=n.attr("id"),h=$("html").is(".ie-lte8");function u(t){return $(t.cells).add(t)}function b(t){u(t).removeClass("tablesaw-cell-hidden")}function p(t){u(t).addClass("tablesaw-cell-hidden")}function f(){n.removeClass(l),$("#"+d+"-persist").remove()}function m(){var a="#"+d+" ",s=[],i=n.width();o.each(function(t){var e;$(this).is('[data-priority="persist"]')&&(e=$(this).outerWidth())<.75*i&&s.push(a+" .tablesaw-cell-persist:nth-child("+(t+1)+") { width: "+e+"px; }")}),f(),n.addClass(l),c.append($("<style>"+s.join("\n")+"</style>").attr("id",d+"-persist"))}function v(){var s,i=[];return r.each(function(t){var e=$(this),a="none"===e.css("display")||e.is(".tablesaw-cell-hidden");if(a||s){if(a&&s)return i[1]=t,!1}else s=!0,i[0]=t}),i}function g(){var t=v();return[t[1]-1,t[0]-1]}function w(t){return-1<t[1]&&t[1]<r.length}function y(){var a=n.parent().width(),s=0;o.each(function(t){var e=$(this).is('[data-priority="persist"]');(s+=i[t]+(e?0:20),e)?u(this).addClass("tablesaw-cell-persist"):a<s?p(this):b(this)}),h||f(),n.trigger("tablesawcolumns")}function C(t){var e=t?v():g();w(e)&&(isNaN(e[0])&&(e[0]=t?0:r.length-1),h||m(),p(r.get(e[0])),b(r.get(e[1])),n.trigger("tablesawcolumns"))}n.css("width","auto"),o.each(function(){i.push($(this).outerWidth())}),n.css("width",""),t.appendTo(n.prev(".tablesaw-bar")),n.addClass("tablesaw-swipe"),d||(d="tableswipe-"+Math.round(1e4*Math.random()),n.attr("id",d)),e.add(a).click(function(t){C(!!$(t.target).closest(a).length),t.preventDefault()}),n.bind("touchstart.swipetoggle",function(t){var e,a,s=(t.touches||t.originalEvent.touches)[0].pageX,i=(t.touches||t.originalEvent.touches)[0].pageY;$(this).bind("touchmove",function(t){e=(t.touches||t.originalEvent.touches)[0].pageX,a=(t.touches||t.originalEvent.touches)[0].pageY,15<Math.abs(e-s)&&Math.abs(a-i)<20&&t.preventDefault()}).bind("touchend.swipetoggle",function(){e-s<15&&C(!0),-15<e-s&&C(!1),$(this).unbind("touchmove touchend")})}).bind("tablesawcolumns.swipetoggle",function(){e[w(g())?"removeClass":"addClass"](s),a[w(v())?"removeClass":"addClass"](s)}).bind("tablesawnext.swipetoggle",function(){C(!0)}).bind("tablesawprev.swipetoggle",function(){C(!1)}).bind("tablesawdestroy.swipetoggle",function(){var t=$(this);t.removeClass("tablesaw-swipe"),t.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),$(T).off("resize",y),t.unbind(".swipetoggle")}),y(),$(T).on("resize",y)}$(document).on("tablesawcreate","table",function(t,e){var a=$(this);"swipe"===e&&s(a)})}(this,jQuery),function(h){function u(t){return h.map(t.childNodes,function(t){var e=h(t);return e.is("input, select")?e.val():e.hasClass("tablesaw-cell-label")?void 0:h.trim(e.text())}).join("")}var r="tablesaw-sortable",c="sortable",d={head:c+"-head",ascend:c+"-ascending",descend:c+"-descending",switcher:r+"-switch",tableToolbar:"tablesaw-toolbar"},b="Sort",t={_create:function(t){return h(this).each(function(){if(h(this).data("init"+c))return!1;h(this).data("init"+c,!0).trigger("beforecreate."+c)[c]("_init",t).trigger("create."+c)})},_init:function(){var i,n,t,e,s,a,l=h(this),o=function(t){h.each(t,function(t,e){var a=h(e);a.removeAttr("data-sortable-default-col"),a.removeClass(d.ascend),a.removeClass(d.descend)})};l.addClass(r),i=l.find("thead th[data-"+c+"-col]"),t=i,h.each(t,function(t,e){h(e).addClass(d.head)}),e=i,s=function(t){if(!h(t.target).is("a[href]")){t.stopPropagation();var e=h(this).parent(),a=t.data.col,s=i.index(e);o(e.siblings()),e.hasClass(d.descend)?(l[c]("sortBy",a,!0),s+="_asc"):(l[c]("sortBy",a),s+="_desc"),n&&n.find("select").val(s).trigger("refresh"),t.preventDefault()}},h.each(e,function(t,e){var a=h("<button />");a.bind("click",{col:e},s),h(e).wrapInner(a)}),a=i,h.each(a,function(t,e){var a=h(e);a.is("[data-sortable-default-col]")&&(a.hasClass(d.descend)||a.addClass(d.ascend))}),l.is("[data-sortable-switch]")&&function(a){n=h("<div>").addClass(d.switcher).addClass(d.tableToolbar).html(function(){var n=["<label>"+b+":"];return n.push('<span class="btn btn-small">&#160;<select>'),a.each(function(t){var e=h(this),a=e.is("[data-sortable-default-col]"),s=e.hasClass(d.descend),i=!1;h(this.cells).slice(0,3).each(function(){if(!isNaN(parseInt(u(this),10)))return!(i=!0)}),n.push("<option"+(a&&!s?" selected":"")+' value="'+t+'_asc">'+e.text()+" "+(i?"↑":"(A-Z)")+"</option>"),n.push("<option"+(a&&s?" selected":"")+' value="'+t+'_desc">'+e.text()+" "+(i?"↓":"(Z-A)")+"</option>")}),n.push("</select></span></label>"),n.join("")});var t=l.prev(".tablesaw-bar"),e=t.children().eq(0);e.length?n.insertBefore(e):n.appendTo(t),n.find(".btn").tablesawbtn(),n.find("select").on("change",function(){var t=h(this).val().split("_"),e=a.eq(t[0]);o(e.siblings()),l.sortable("sortBy",e.get(0),"asc"===t[1])})}(i,l.find("tbody tr:nth-child(-n+3)"))},getColumnNumber:function(t){return h(t).prevAll().length},getTableRows:function(){return h(this).find("tbody tr")},sortRows:function(t,a,e,s){var i,n,l,o,r,c,d;return l=t,o=[],h.each(l,function(t,e){o.push({cell:u(h(e).children().get(a)),rowNum:t})}),i=o,r=e,c=h(s).is("[data-sortable-numeric]"),d=/[^\d\.]/g,n=r?function(t,e){return c||!isNaN(parseFloat(t.cell))?parseFloat(t.cell.replace(d,""))-parseFloat(e.cell.replace(d,"")):t.cell.toLowerCase()>e.cell.toLowerCase()?1:-1}:function(t,e){return c||!isNaN(parseFloat(t.cell))?parseFloat(e.cell.replace(d,""))-parseFloat(t.cell.replace(d,"")):t.cell.toLowerCase()<e.cell.toLowerCase()?1:-1},t=function(t,e){var a,s,i,n=[];for(a=0,s=t.length;a<s;a++)i=t[a].rowNum,n.push(e[i]);return n}(i.sort(n),t)},replaceTableRows:function(t){h(this).find("tbody").html(t)},makeColDefault:function(t,e){var a=h(t);a.attr("data-sortable-default-col","true"),e?(a.removeClass(d.descend),a.addClass(d.ascend)):(a.removeClass(d.ascend),a.addClass(d.descend))},sortBy:function(t,e){var a,s,i=h(this);a=i[c]("getColumnNumber",t),s=i[c]("getTableRows"),s=i[c]("sortRows",s,a,e,t),i[c]("replaceTableRows",s),i[c]("makeColDefault",t,e)}};h.fn[c]=function(t){var e,a=Array.prototype.slice.call(arguments,1);return t&&"string"==typeof t?void 0!==(e=h.fn[c].prototype[t].apply(this[0],a))?e:h(this):(h(this).data(c+"data")||(h(this).data(c+"active",!0),h.fn[c].prototype._create.call(this,t)),h(this))},h.extend(h.fn[c].prototype,t),h(document).on("tablesawcreate","table",function(){h(this).is("table[data-sortable]")&&h(this)[c]()})}(jQuery),function(l,o,t){var r={init:"data-minimap"};function s(a){var s=o('<div class="tablesaw-advance minimap">'),i=o('<ul class="tablesaw-advance-dots">').appendTo(s),n="tablesaw-advance-dots-hide";function e(){if(!(t=a.attr(r.init))||l.matchMedia&&l.matchMedia(t).matches){var t;s.show();var e=i.find("li").removeClass(n);a.find("thead th").each(function(t){"none"===o(this).css("display")&&e.eq(t).addClass(n)})}else s.hide()}a.find("thead th").each(function(){i.append("<li><i></i></li>")}),s.appendTo(a.prev(".tablesaw-bar")),e(),o(l).on("resize",e),a.bind("tablesawcolumns.minimap",function(){e()}).bind("tablesawdestroy.minimap",function(){var t=o(this);t.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),o(l).off("resize",e),t.unbind(".minimap")})}o(document).on("tablesawcreate","table",function(t,e){var a=o(this);"swipe"!==e&&"columntoggle"!==e||!a.is("[ "+r.init+"]")||s(a)})}(this,jQuery),function(t,i){var o={selectors:{init:"table[data-mode-switch]"},attributes:{excludeMode:"data-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s'},init:function(t){var n=i(t),l=n.attr(o.attributes.excludeMode),e=n.prev(".tablesaw-bar"),a=i("<div>").addClass(o.classes.main+" "+o.classes.toolbar).html(function(){var t,e=["<label>"+o.i18n.columns+":"],a=n.attr("data-mode");e.push('<span class="btn btn-small">&#160;<select>');for(var s=0,i=o.modes.length;s<i;s++)l&&l.toLowerCase()===o.modes[s]||((t=a===o.modes[s])&&o.modes[s],e.push("<option"+(t?" selected":"")+' value="'+o.modes[s]+'">'+o.i18n.modes[s]+"</option>"));return e.push("</select></span></label>"),e.join("")}),s=e.find(".tablesaw-advance").eq(0);s.length?a.insertBefore(s):a.appendTo(e),a.find(".btn").tablesawbtn(),a.find("select").bind("change",o.onModeChange)},onModeChange:function(){var t=i(this),e=t.closest("."+o.classes.main),a=t.closest(".tablesaw-bar").nextUntil(a).eq(0),s=t.val();e.remove(),a.data("table").destroy(),a.attr("data-mode",s),a.table()}};i(t.document).on("tablesawcreate","table",function(){i(this).is(o.selectors.init)&&o.init(this)})}(this,jQuery);