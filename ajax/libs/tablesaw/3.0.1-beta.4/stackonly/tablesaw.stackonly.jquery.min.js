!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),a(e),e}:a(jQuery)}(function(h){"use strict";var t,i,n,a,s,r,o,d="undefined"!=typeof window?window:this,c={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"},mustard:"head"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini};c.mustard&&h(document.documentElement).addClass("tablesaw-enhanced"),function(){var a="tablesaw",e="tablesaw-bar",i={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh",resize:"tablesawresize"},s={getHeaderCells:function(){return this.$thead.children().filter("tr").eq(0).find("th")}};c.events=i;var n=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=h(t),this.$thead=this.$table.children().filter("thead"),this.$tbody=this.$table.children().filter("tbody"),this.mode=this.$table.attr("data-tablesaw-mode")||"stack",this.init()};n.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",a+"-"+Math.round(1e4*Math.random())),this.createToolbar(),this._initCells(),this.$table.trigger(i.create,[this])},n.prototype.getConfig=function(t){var e=h.extend(s,t||{});return h.extend(e,"undefined"!=typeof TablesawConfig?TablesawConfig:{})},n.prototype._getPrimaryHeaderCells=function(){return this.getConfig().getHeaderCells.call(this)},n.prototype._findHeadersForCell=function(t){for(var e=this._getPrimaryHeaderCells(),a=[],i=1;i<this.headerMapping.length;i++)for(var s=0;s<this.headerMapping[i].length;s++)this.headerMapping[i][s]===t&&a.push(e[s]);return a},n.prototype.getRows=function(){var t=this;return this.$table.find("tr").filter(function(){return h(this).closest("table").is(t.$table)})},n.prototype.getBodyRows=function(){return this.$tbody.children().filter("tr")},n.prototype._initCells=function(){var t=this.getRows(),r=[];t.each(function(t){r[t]=[]}),t.each(function(s){var n=0;h(this).children().each(function(){for(var t=parseInt(this.getAttribute("colspan"),10),e=parseInt(this.getAttribute("rowspan"),10);r[s][n];)n++;if(r[s][n]=this,t)for(var a=0;a<t-1;a++)n++,r[s][n]=this;if(e)for(var i=1;i<e;i++)r[s+i][n]=this;n++})});for(var e=0;e<r[0].length;e++){var a,i=r[0][e],s=0;for(i.cells||(i.cells=[]);s<r.length;)i!==(a=r[s][e])&&(i.cells.push(a),a.headerCell=i),s++}this.headerMapping=r},n.prototype.refresh=function(){this._initCells(),this.$table.trigger(i.refresh,[this])},n.prototype.createToolbar=function(){var t=this.$table.prev().filter("."+e);t.length||(t=h("<div>").addClass(e).insertBefore(this.$table)),this.$toolbar=t,this.mode&&this.$toolbar.addClass("tablesaw-mode-"+this.mode)},n.prototype.destroy=function(){this.$table.prev().filter("."+e).each(function(){this.className=this.className.replace(/\btablesaw-mode\-\w*\b/gi,"")});var t=this.$table.attr("id");h(document).off("."+t),h(window).off("."+t),this.$table.trigger(i.destroy,[this]),this.$table.removeData(a)},h.fn[a]=function(){return this.each(function(){var t=h(this);if(!t.data(a)){var e=new n(this);t.data(a,e)}})};var t=h(d.document);t.on("enhance.tablesaw",function(t){c.mustard&&h(t.target).find("table").filter("[data-tablesaw],[data-tablesaw-mode],[data-tablesaw-sortable]")[a]()});var r,o,l=!1;t.on("scroll.tablesaw",function(){l=!0,d.clearTimeout(r),r=d.setTimeout(function(){l=!1},300)}),h(d).on("resize",function(){l||(d.clearTimeout(o),o=d.setTimeout(function(){t.trigger(i.resize)},150))})}(),i="tablesaw-cell-label",n="tablesaw-cell-content",a=t="tablesaw-stack",s="data-tablesaw-no-labels",r="data-tablesaw-hide-empty",(o=function(t,e){this.tablesaw=e,this.$table=h(t),this.labelless=this.$table.is("["+s+"]"),this.hideempty=this.$table.is("["+r+"]"),this.$table.data(a,this)}).prototype.init=function(){if(this.$table.addClass(t),!this.labelless){var a=this;this.$table.find("th, td").filter(function(){return!h(this).closest("thead").length}).filter(function(){return!(h(this).closest("tr").is("["+s+"]")||a.hideempty&&!h(this).html())}).each(function(){var s=h(document.createElement("b")).addClass(i),t=h(this);h(a.tablesaw._findHeadersForCell(this)).each(function(t){var e=h(this.cloneNode(!0)),a=e.find(".tablesaw-sortable-btn");e.find(".tablesaw-sortable-arrow").remove();var i=e.find("[data-tablesaw-checkall]");i.closest("label").remove(),i.length?s=h([]):(0<t&&s.append(document.createTextNode(", ")),s.append(a.length?a[0].childNodes:e[0].childNodes))}),s.length&&!t.find("."+n).length&&t.wrapInner("<span class='"+n+"'></span>");var e=t.find("."+i);e.length?e.replaceWith(s):t.prepend(s)})}},o.prototype.destroy=function(){this.$table.removeClass(t),this.$table.find("."+i).remove(),this.$table.find("."+n).each(function(){h(this).replaceWith(this.childNodes)})},h(document).on(c.events.create,function(t,e){"stack"===e.mode&&new o(e.table,e).init()}).on(c.events.refresh,function(t,e){"stack"===e.mode&&h(e.table).data(a).init()}).on(c.events.destroy,function(t,e){"stack"===e.mode&&h(e.table).data(a).destroy()})});