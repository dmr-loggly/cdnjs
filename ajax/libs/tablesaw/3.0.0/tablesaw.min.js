!function(t){"function"==typeof define&&define.amd?define(["shoestring"],t):"object"==typeof module&&module.exports?module.exports=t():t()}(function(){var i="undefined"!=typeof window?window:this,l=i.document;function c(t,e){var n,a=typeof t;if(!t)return new r([]);if(t.call)return c.ready(t);if(t.constructor===r&&!e)return t;if("string"!==a||0!==t.indexOf("<"))return"string"===a?e?c(e).find(t):(n=l.querySelectorAll(t),new r(n,t)):"[object Array]"===Object.prototype.toString.call(a)||i.NodeList&&t instanceof i.NodeList?new r(t,t):t.constructor===Array?new r(t,t):new r([t],t);var s=l.createElement("div");return s.innerHTML=t,c(s).children().each(function(){s.removeChild(this)})}var r=function(t,e){this.length=0,this.selector=e,c.merge(this,t)};r.prototype.reverse=[].reverse,c.fn=r.prototype,c.Shoestring=r,c.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},c.merge=function(t,e){var n,a,s;for(n=+e.length,a=0,s=t.length;a<n;a++)t[s++]=e[a];return t.length=s,t},(i.shoestring=c).fn.each=function(t){return c.each(this,t)},c.each=function(t,e){for(var n=0,a=t.length;n<a&&!1!==e.call(t[n],n,t[n]);n++);return t},c.inArray=function(t,e){for(var n=-1,a=0,s=e.length;a<s;a++)e.hasOwnProperty(a)&&e[a]===t&&(n=a);return n},c.ready=function(t){return e&&t?t.call(l):t?n.push(t):a(),[l]};var o,e=!(c.fn.ready=function(t){return c.ready(t),this}),n=[],a=function(){if(!e){for(;n.length;)n.shift().call(l);e=!0}};function h(t,e){var n=!1;return t.each(function(){for(var t=0;t<e.length;)this===e[t]&&(n=!0),t++}),n}(l.attachEvent?"complete"===l.readyState:"loading"!==l.readyState)?a():(l.addEventListener("DOMContentLoaded",a,!1),l.addEventListener("readystatechange",a,!1),i.addEventListener("load",a,!1)),c.fn.is=function(a){var t,s=!1,i=this;return"string"!=typeof a?h(this,a.length&&a[0]?a:[a]):((t=this.parent()).length||(t=c(l)),t.each(function(t,e){var n;n=e.querySelectorAll(a),s=h(i,n)}),s)},c.fn.data=function(t,e){return void 0===t?this[0]?this[0].shoestringData||{}:void 0:void 0!==e?this.each(function(){this.shoestringData||(this.shoestringData={}),this.shoestringData[t]=e}):this[0]&&this[0].shoestringData?this[0].shoestringData[t]:void 0},c.fn.removeData=function(t){return this.each(function(){void 0!==t&&this.shoestringData?(this.shoestringData[t]=void 0,delete this.shoestringData[t]):this[0].shoestringData={}})},(i.$=c).fn.addClass=function(t){var n=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t=0,e=n.length;t<e;t++)void 0===this.className||""!==this.className&&this.className.match(new RegExp("(^|\\s)"+n[t]+"($|\\s)"))||(this.className+=" "+n[t])})},c.fn.add=function(t){var e=[];return this.each(function(){e.push(this)}),c(t).each(function(){e.push(this)}),c(e)},c.fn.append=function(a){return"string"!=typeof a&&void 0===a.nodeType||(a=c(a)),this.each(function(t){for(var e=0,n=a.length;e<n;e++)this.appendChild(0<t?a[e].cloneNode(!0):a[e])})},c.fn.appendTo=function(t){return this.each(function(){c(t).append(this)})},c.fn.attr=function(e,n){var a="string"==typeof e;return void 0===n&&a?this[0]?this[0].getAttribute(e):void 0:this.each(function(){if(a)this.setAttribute(e,n);else for(var t in e)e.hasOwnProperty(t)&&this.setAttribute(t,e[t])})},c.fn.before=function(a){return"string"!=typeof a&&void 0===a.nodeType||(a=c(a)),this.each(function(t){for(var e=0,n=a.length;e<n;e++)this.parentNode.insertBefore(0<t?a[e].cloneNode(!0):a[e],this)})},c.fn.children=function(){var t,e,n=[];return this.each(function(){for(t=this.children,e=-1;e++<t.length-1;)-1===c.inArray(t[e],n)&&n.push(t[e])}),c(n)},c.fn.closest=function(e){var n=[];return e&&this.each(function(){var t;if(c(t=this).is(e))n.push(this);else for(;t.parentElement;){if(c(t.parentElement).is(e)){n.push(t.parentElement);break}t=t.parentElement}}),c(n)},c.cssExceptions={float:["cssFloat"]},function(){var r=c.cssExceptions;function o(t,e){return i.getComputedStyle(t,null).getPropertyValue(e)}var l=["","-webkit-","-ms-","-moz-","-o-","-khtml-"];c._getStyle=function(t,e){var n,a,s,i;if(r[e])for(s=0,i=r[e].length;s<i;s++)if(a=o(t,r[e][s]))return a;for(s=0,i=l.length;s<i;s++)if(a=o(t,n=(l[s]+e).replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()})),n!==e&&(a=a||o(t,e)),l[s]&&(a=a||o(t,l[s]+e)),a)return a}}(),o=c.cssExceptions,c._setStyle=function(t,e,n){var a=e.replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()});if(t.style[e]=n,a!==e&&(t.style[a]=n),o[e])for(var s=0,i=o[e].length;s<i;s++)t.style[o[e][s]]=n},c.fn.css=function(e,t){if(this[0])return"object"==typeof e?this.each(function(){for(var t in e)e.hasOwnProperty(t)&&c._setStyle(this,t,e[t])}):void 0!==t?this.each(function(){c._setStyle(this,e,t)}):c._getStyle(this[0],e)},c.fn.eq=function(t){return this[t]?c(this[t]):c([])},c.fn.filter=function(a){var s=[];return this.each(function(t){var e;if("function"==typeof a)!1!==a.call(this,t)&&s.push(this);else{if(this.parentNode)e=c(a,this.parentNode);else{var n=c(l.createDocumentFragment());n[0].appendChild(this),e=c(a,n)}-1<c.inArray(this,e)&&s.push(this)}}),c(s)},c.fn.find=function(n){var a,s=[];return this.each(function(){for(var t=0,e=(a=this.querySelectorAll(n)).length;t<e;t++)s=s.concat(a[t])}),c(s)},c.fn.first=function(){return this.eq(0)},c.fn.get=function(t){if(void 0!==t)return this[t];for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e};c.fn.html=function(t){if(void 0!==t)return function(t){if("string"==typeof t||"number"==typeof t)return this.each(function(){this.innerHTML=""+t});var e="";if(void 0!==t.length)for(var n=0,a=t.length;n<a;n++)e+=t[n].outerHTML;else e=t.outerHTML;return this.each(function(){this.innerHTML=e})}.call(this,t);var e="";return this.each(function(){e+=this.innerHTML}),e},function(){function t(t,e){var n,a,s;for(n=a=0;n<t.length;n++){if(e(s=t.item?t.item(n):t[n]))return a;1===s.nodeType&&a++}return-1}c.fn.index=function(e){var n;return n=this,void 0===e?t((this[0]&&this[0].parentNode||l.documentElement).childNodes,function(t){return n[0]===t}):t(n,function(t){return t===c(e,t.parentNode)[0]})}}(),c.fn.insertBefore=function(t){return this.each(function(){c(t).before(this)})},c.fn.last=function(){return this.eq(this.length-1)},c.fn.next=function(){var s=[];return this.each(function(){var t,e,n;t=c(this.parentNode)[0].childNodes;for(var a=0;a<t.length;a++){if(e=t.item(a),n&&1===e.nodeType){s.push(e);break}e===this&&(n=!0)}}),c(s)},c.fn.not=function(e){var n=[];return this.each(function(){var t=c(e,this.parentNode);-1===c.inArray(this,t)&&n.push(this)}),c(n)},c.fn.parent=function(){var t,e=[];return this.each(function(){(t=this===l.documentElement?l:this.parentNode)&&11!==t.nodeType&&e.push(t)}),c(e)},c.fn.prepend=function(s){return"string"!=typeof s&&void 0===s.nodeType||(s=c(s)),this.each(function(t){for(var e=0,n=s.length;e<n;e++){var a=0<t?s[e].cloneNode(!0):s[e];this.firstChild?this.insertBefore(a,this.firstChild):this.appendChild(a)}})},c.fn.prev=function(){var s=[];return this.each(function(){for(var t,e,n,a=(t=c(this.parentNode)[0].childNodes).length-1;0<=a;a--){if(e=t.item(a),n&&1===e.nodeType){s.push(e);break}e===this&&(n=!0)}}),c(s)},c.fn.prevAll=function(){var e=[];return this.each(function(){for(var t=c(this).prev();t.length;)e.push(t[0]),t=t.prev()}),c(e)},c.fn.removeAttr=function(t){return this.each(function(){this.removeAttribute(t)})},c.fn.removeClass=function(t){var s=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t,e,n=0,a=s.length;n<a;n++)void 0!==this.className&&(e=new RegExp("(^|\\s)"+s[n]+"($|\\s)","gmi"),t=this.className.replace(e," "),this.className=t.replace(/^\s+|\s+$/g,""))})},c.fn.remove=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},c.fn.replaceWith=function(i){"string"==typeof i&&(i=c(i));var r=[];return 1<i.length&&(i=i.reverse()),this.each(function(t){var e,n=this.cloneNode(!0);if(r.push(n),this.parentNode)if(1===i.length)e=0<t?i[0].cloneNode(!0):i[0],this.parentNode.replaceChild(e,this);else{for(var a=0,s=i.length;a<s;a++)e=0<t?i[a].cloneNode(!0):i[a],this.parentNode.insertBefore(e,this.nextSibling);this.parentNode.removeChild(this)}}),c(r)},c.fn.siblings=function(){if(!this.length)return c([]);for(var t=[],e=this[0].parentNode.firstChild;1===e.nodeType&&e!==this[0]&&t.push(e),e=e.nextSibling;);return c(t)};var f=function(t){var e,n="",a=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=f(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[a++];)n+=f(e);return n};function d(t,e,n){var a=this.shoestringData.events[t];if(a&&a.length){var s,i,r=[];for(s=0,i=a.length;s<i;s++)e&&e!==a[s].namespace||void 0!==n&&n!==a[s].originalCallback||(this.removeEventListener(t,a[s].callback,!1),r.push(s));for(s=0,i=r.length;s<i;s++)this.shoestringData.events[t].splice(s,1)}}function u(t,e){for(var n in this.shoestringData.events)d.call(this,n,t,e)}return c.fn.text=function(){return f(this)},c.fn.val=function(r){var t;return void 0!==r?this.each(function(){if("SELECT"===this.tagName){var t,e,n,a=this.options,s=[],i=a.length;for(s[0]=r;i--;)((e=a[i]).selected=0<=c.inArray(e.value,s))&&(t=!0,n=i);this.selectedIndex=t?n:-1}else this.value=r}):"SELECT"===(t=this[0]).tagName?t.selectedIndex<0?"":t.options[t.selectedIndex].value:t.value},c._dimension=function(t,e,n){var a;return void 0===n?(a=e.replace(/^[a-z]/,function(t){return t.toUpperCase()}),t[0]["offset"+a]):(n="string"==typeof n?n:n+"px",t.each(function(){this.style[e]=n}))},c.fn.width=function(t){return c._dimension(this,"width",t)},c.fn.wrapInner=function(e){return this.each(function(){var t=this.innerHTML;this.innerHTML="",c(this).append(c(e).html(t))})},c.fn.bind=function(t,r,u){"function"==typeof r&&(u=r,r=null);var p=t.split(" ");function v(t,e,n){var a;if(!t._namespace||t._namespace===e){t.data=r,t.namespace=t._namespace;var s=function(){return!0};t.isDefaultPrevented=function(){return!1};var i=t.preventDefault;return t.target=n||t.target||t.srcElement,t.preventDefault=i?function(){t.isDefaultPrevented=s,i.call(t)}:function(){t.isDefaultPrevented=s,t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},!1===(a=u.apply(this,[t].concat(t._args)))&&(t.preventDefault(),t.stopPropagation()),a}}return this.each(function(){for(var t,e,n,a,s,i,r,o=this,l=0,c=p.length;l<c;l++){var h=p[l].split("."),f=h[0],d=0<h.length?h[1]:null;t=function(t){return o.ssEventTrigger&&(t._namespace=o.ssEventTrigger._namespace,t._args=o.ssEventTrigger._args,o.ssEventTrigger=null),v.call(o,t,d)},null,r=f,(i=this).shoestringData||(i.shoestringData={}),i.shoestringData.events||(i.shoestringData.events={}),i.shoestringData.loop||(i.shoestringData.loop={}),i.shoestringData.events[r]||(i.shoestringData.events[r]=[]),this.addEventListener(f,t,!1),e=this,n=f,s=void 0,(s={}).isCustomEvent=(a={callfunc:t,isCustomEvent:!1,customEventLoop:null,originalCallback:u,namespace:d}).isCustomEvent,s.callback=a.callfunc,s.originalCallback=a.originalCallback,s.namespace=a.namespace,e.shoestringData.events[n].push(s),a.customEventLoop&&(e.shoestringData.loop[n]=a.customEventLoop)}})},c.fn.on=c.fn.bind,c.fn.unbind=function(t,i){var r=t?t.split(" "):[];return this.each(function(){if(this.shoestringData&&this.shoestringData.events)if(r.length)for(var t,e,n,a=0,s=r.length;a<s;a++)e=(t=r[a].split("."))[0],n=0<t.length?t[1]:null,e?d.call(this,e,n,i):u.call(this,n,i);else u.call(this)})},c.fn.off=c.fn.unbind,c.fn.one=function(t,i){var r=t.split(" ");return this.each(function(){for(var t,a={},e=c(this),n=0,s=r.length;n<s;n++)t=r[n],a[t]=function(t){var e=c(this);for(var n in a)e.unbind(n,a[n]);return i.apply(this,[t].concat(t._args))},e.bind(t,a[t])})},c.fn.triggerHandler=function(t,e){var n,a=t.split(" ")[0],s=this[0];if(l.createEvent&&s.shoestringData&&s.shoestringData.events&&s.shoestringData.events[a]){var i=s.shoestringData.events[a];for(var r in i)i.hasOwnProperty(r)&&((t=l.createEvent("Event")).initEvent(a,!0,!0),(t._args=e).unshift(t),n=i[r].originalCallback.apply(t.target,e))}return n},c.fn.trigger=function(t,r){var o=t.split(" ");return this.each(function(){for(var t,e,n,a=0,s=o.length;a<s;a++){if(e=(t=o[a].split("."))[0],n=0<t.length?t[1]:null,"click"===e&&"INPUT"===this.tagName&&"checkbox"===this.type&&this.click)return this.click(),!1;if(l.createEvent){var i=l.createEvent("Event");i.initEvent(e,!0,!0),i._args=r,i._namespace=n,this.dispatchEvent(i)}}})},c}),function(n){"function"==typeof define&&define.amd?define(["shoestring"],n):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("shoestring"):require("shoestring")(t)),n(e),e}:n(shoestring)}(function(E){"use strict";var n,e,t,a,s,i,r,o,l,c,h,f,d,u,p,v,b,D="undefined"!=typeof window?window:this,g={modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"},m="head"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini;m&&E(document.documentElement).addClass("tablesaw-enhanced"),n="tablesaw",e="tablesaw-bar",t="tablesawcreate",a="tablesawdestroy",s="tablesawrefresh",(i=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=E(t),this.mode=this.$table.attr("data-tablesaw-mode")||"stack",this.init()}).prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",n+"-"+Math.round(1e4*Math.random())),this.createToolbar(),this._initCells(),this.$table.trigger(t,[this])},i.prototype._getPrimaryHeaders=function(){return this.$table.find("thead").children().filter("tr").eq(0).find("th")},i.prototype._findHeadersForCell=function(t){for(var e=this._getPrimaryHeaders(),n=[],a=1;a<this.headerMapping.length;a++)for(var s=0;s<this.headerMapping[a].length;s++)this.headerMapping[a][s]===t&&n.push(e[s]);return n},i.prototype._initCells=function(){var t=this.$table.find("tr"),r=[];t.each(function(t){r[t]=[]}),t.each(function(s){var i=0;E(this).children().each(function(){for(var t=parseInt(this.getAttribute("colspan"),10),e=parseInt(this.getAttribute("rowspan"),10);r[s][i];)i++;if(r[s][i]=this,t)for(var n=0;n<t-1;n++)i++,r[s][i]=this;if(e)for(var a=1;a<e;a++)r[s+a][i]=this;i++})});for(var e=0;e<r[0].length;e++){var n,a=r[0][e],s=0;for(a.cells||(a.cells=[]);s<r.length;)a!==(n=r[s][e])&&a.cells.push(n),s++}this.headerMapping=r},i.prototype.refresh=function(){this._initCells(),this.$table.trigger(s)},i.prototype.createToolbar=function(){var t=this.$table.prev().filter("."+e);t.length||(t=E("<div>").addClass(e).insertBefore(this.$table)),this.$toolbar=t,this.mode&&this.$toolbar.addClass("tablesaw-mode-"+this.mode)},i.prototype.destroy=function(){this.$table.prev().filter("."+e).each(function(){this.className=this.className.replace(/\btablesaw-mode\-\w*\b/gi,"")});var t=this.$table.attr("id");E(document).off("."+t),E(window).off("."+t),this.$table.trigger(a,[this]),this.$table.removeData(n)},E.fn[n]=function(){return this.each(function(){var t=E(this);if(!t.data(n)){var e=new i(this);t.data(n,e)}})},E(document).on("enhance.tablesaw",function(t){m&&E(t.target).find("table[data-tablesaw-mode],table[data-tablesaw-sortable]")[n]()}),o="tablesaw-cell-label",l="tablesaw-cell-content",c=r="tablesaw-stack",h="data-tablesaw-no-labels",f="data-tablesaw-hide-empty",(d=function(t,e){this.tablesaw=e,this.$table=E(t),this.labelless=this.$table.is("["+h+"]"),this.hideempty=this.$table.is("["+f+"]"),this.$table.data(c,this)}).prototype.init=function(){if(this.$table.addClass(r),!this.labelless){var e=this;this.$table.find("th, td").filter(function(){return!E(this).closest("thead").length}).filter(function(){return!(E(this).closest("tr").is("["+h+"]")||e.hideempty&&!E(this).html())}).each(function(){var n=[],t=E(this);E(e.tablesaw._findHeadersForCell(this)).each(function(){var t=E(this),e=t.find(".tablesaw-sortable-btn");n.push(e.length?e.html():t.html())}),t.wrapInner("<span class='"+l+"'></span>"),t.prepend("<b class='"+o+"'>"+n.join(", ")+"</b>")})}},d.prototype.destroy=function(){this.$table.removeClass(r),this.$table.find("."+o).remove(),this.$table.find("."+l).each(function(){E(this).replaceWith(this.childNodes)})},E(document).on("tablesawcreate",function(t,e){"stack"===e.mode&&new d(e.table,e).init()}),E(document).on("tablesawdestroy",function(t,e){"stack"===e.mode&&E(e.table).data(c).destroy()}),u="tablesawbtn",p={_create:function(){return E(this).each(function(){E(this).trigger("beforecreate."+u)[u]("_init").trigger("create."+u)})},_init:function(){var t=E(this),e=this.getElementsByTagName("select")[0];return e&&E(this).addClass("btn-select")[u]("_select",e),t},_select:function(t){var e=function(t,e){var n,a,s=E(e).find("option"),i=document.createElement("span"),r=!1;if(i.setAttribute("aria-hidden","true"),i.innerHTML="&#160;",s.each(function(){this.selected&&(i.innerHTML=this.text)}),a=t.childNodes,0<s.length){for(var o=0,l=a.length;o<l;o++)(n=a[o])&&"SPAN"===n.nodeName.toUpperCase()&&(t.replaceChild(i,n),r=!0);r||t.insertBefore(i,t.firstChild)}};e(this,t),E(this).on("change refresh",function(){e(this,t)})}},E.fn[u]=function(t,e,n,a){return this.each(function(){return t&&"string"==typeof t?E.fn[u].prototype[t].call(this,e,n,a):E(this).data(u+"active")?E(this):(E(this).data(u+"active",!0),void E.fn[u].prototype._create.call(this))})},E.extend(E.fn[u].prototype,p),(v=function(t){this.$table=E(t),this.$table.length&&(this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.headers=this.$table.find("tr").eq(0).find("th"),this.$table.data("tablesaw-coltoggle",this))}).prototype.init=function(){if(this.$table.length){var e,t,n,a,s,i,r=this;this.$table.addClass(this.classes.columnToggleTable),t=(e=this.$table.attr("id"))+"-popup",i=E("<div class='"+this.classes.columnBtnContain+"'></div>"),n=E("<a href='#"+t+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+g.columnBtnText+"</span></a>"),a=E("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+t+"'></div>"),s=E("<div class='btn-group'></div>");var o,l=!1;E(this.headers).not("td").each(function(){var t=E(this),e=t.attr("data-tablesaw-priority"),n=r.$getCells(this);e&&"persist"!==e&&(n.addClass(r.classes.priorityPrefix+e),E("<label><input type='checkbox' checked>"+t.text()+"</label>").appendTo(s).children(0).data("tablesaw-header",this),l=!0)}),l||s.append("<label>"+g.columnsDialogError+"</label>"),s.appendTo(a),s.find('input[type="checkbox"]').on("change",function(t){var e=t.target.checked,n=r.$getCellsFromCheckbox(t.target);n[e?"removeClass":"addClass"]("tablesaw-cell-hidden"),n[e?"addClass":"removeClass"]("tablesaw-cell-visible"),r.$table.trigger("tablesawcolumns")}),n.appendTo(i),i.appendTo(this.$table.prev().filter("."+this.classes.toolbar)),n.on("click.tablesaw",function(t){t.preventDefault(),i.is(".visible")?c():(i.addClass("visible"),n.removeClass("down").addClass("up"),E(document).off("click."+e,c),window.clearTimeout(o),o=window.setTimeout(function(){E(document).on("click."+e,c)},15))}),a.appendTo(i),this.$menu=s,E(window).on("resize."+e,function(){r.refreshToggle()}),this.refreshToggle()}function c(t){t&&E(t.target).closest("."+r.classes.popup).length||(E(document).off("click."+e),n.removeClass("up").addClass("down"),i.removeClass("visible"))}},v.prototype.$getCells=function(t){return E(t).add(t.cells)},v.prototype.$getCellsFromCheckbox=function(t){var e=E(t).data("tablesaw-header");return this.$getCells(e)},v.prototype.refreshToggle=function(){var t=this;this.$menu.find("input").each(function(){this.checked="table-cell"===t.$getCellsFromCheckbox(this).eq(0).css("display")})},v.prototype.refreshPriority=function(){var a=this;E(this.headers).not("td").each(function(){var t=E(this),e=t.attr("data-tablesaw-priority"),n=t.add(this.cells);e&&"persist"!==e&&n.addClass(a.classes.priorityPrefix+e)})},v.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){E(this).removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},E(document).on("tablesawcreate",function(t,e){"columntoggle"===e.mode&&new v(e.table).init()}),E(document).on("tablesawdestroy",function(t,e){"columntoggle"===e.mode&&E(e.table).data("tablesaw-coltoggle").destroy()}),function(){function d(t){var e=[];return E(t.childNodes).each(function(){var t=E(this);t.is("input, select")?e.push(t.val()):t.is(".tablesaw-cell-label")||e.push((t.text()||"").replace(/^\s+|\s+$/g,""))}),e.join("")}var c="tablesaw-sortable",h="data-tablesaw-sortable-default-col",u="data-tablesaw-sortable-numeric",f={head:c+"-head",ascend:c+"-ascending",descend:c+"-descending",switcher:c+"-switch",tableToolbar:"tablesaw-toolbar",sortButton:c+"-btn"},t={_create:function(t){return E(this).each(function(){if(E(this).data(c+"-init"))return!1;E(this).data(c+"-init",!0).trigger("beforecreate."+c)[c]("_init",t).trigger("create."+c)})},_init:function(){var s,i,t,e,a,n,r=E(this),l=function(t){E.each(t,function(t,e){var n=E(e);n.removeAttr(h),n.removeClass(f.ascend),n.removeClass(f.descend)})};r.addClass(c),s=r.find("thead th[data-"+c+"-col]"),t=s,E.each(t,function(t,e){E(e).addClass(f.head)}),e=s,a=function(t){if(!E(t.target).is("a[href]")){t.stopPropagation();var e=E(this).parent(),n=t.data.col,a=s.index(e[0]);l(e.siblings()),e.is("."+f.descend)||!e.is("."+f.ascend)?(r[c]("sortBy",n,!0),a+="_asc"):(r[c]("sortBy",n),a+="_desc"),i&&i.find("select").val(a).trigger("refresh"),t.preventDefault()}},E.each(e,function(t,e){var n=E("<button class='"+f.sortButton+"'/>");n.on("click",{col:e},a),E(e).wrapInner(n),n.append("<span class='tablesaw-sortable-arrow'>")}),n=s,E.each(n,function(t,e){var n=E(e);n.is("["+h+"]")&&(n.is("."+f.descend)||n.addClass(f.ascend))}),r.is("[data-tablesaw-sortable-switch]")&&function(n){i=E("<div>").addClass(f.switcher).addClass(f.tableToolbar);var o=["<label>"+g.sort+":"];o.push('<span class="btn"><select>'),n.each(function(t){var e=E(this),n=e.is("["+h+"]"),a=e.is("."+f.descend),s=e.is("["+u+"]"),i=0;E(this.cells.slice(0,5)).each(function(){isNaN(parseInt(d(this),10))||i++});var r=5===i;s||e.attr(u,r?"":"false"),o.push("<option"+(n&&!a?" selected":"")+' value="'+t+'_asc">'+e.text()+" "+(r?"&#x2191;":"(A-Z)")+"</option>"),o.push("<option"+(n&&a?" selected":"")+' value="'+t+'_desc">'+e.text()+" "+(r?"&#x2193;":"(Z-A)")+"</option>")}),o.push("</select></span></label>"),i.html(o.join(""));var t=r.prev().filter(".tablesaw-bar"),e=t.children().eq(0);e.length?i.insertBefore(e):i.appendTo(t),i.find(".btn").tablesawbtn(),i.find("select").on("change",function(){var t=E(this).val().split("_"),e=n.eq(t[0]);l(e.siblings()),r[c]("sortBy",e.get(0),"asc"===t[1])})}(s,r.find("tbody tr:nth-child(-n+3)"))},getColumnNumber:function(t){return E(t).prevAll().length},getTableRows:function(){return E(this).find("tbody tr")},sortRows:function(t,a,e,n){var s,i,r,o;r=t,o=[],E.each(r,function(t,e){var n=E(e).children().get(a);o.push({element:n,cell:d(n),rowNum:t})}),s=o;var l,c,h,f=E(n).data("tablesaw-sort");return i=!(!f||"function"!=typeof f)&&f(e)||(l=e,c=E(n).is("["+u+"]")&&!E(n).is("["+u+'="false"]'),h=/[^\-\+\d\.]/g,l?function(t,e){return c?parseFloat(t.cell.replace(h,""))-parseFloat(e.cell.replace(h,"")):t.cell.toLowerCase()>e.cell.toLowerCase()?1:-1}:function(t,e){return c?parseFloat(e.cell.replace(h,""))-parseFloat(t.cell.replace(h,"")):t.cell.toLowerCase()<e.cell.toLowerCase()?1:-1}),t=function(t,e){var n,a,s,i=[];for(n=0,a=t.length;n<a;n++)s=t[n].rowNum,i.push(e[s]);return i}(s.sort(i),t)},replaceTableRows:function(t){for(var e=E(this).find("tbody"),n=0,a=t.length;n<a;n++)e.append(t[n])},makeColDefault:function(t,e){var n=E(t);n.attr(h,"true"),e?(n.removeClass(f.descend),n.addClass(f.ascend)):(n.removeClass(f.ascend),n.addClass(f.descend))},sortBy:function(t,e){var n,a,s=E(this);n=s[c]("getColumnNumber",t),a=s[c]("getTableRows"),a=s[c]("sortRows",a,n,e,t),s[c]("replaceTableRows",a),s[c]("makeColDefault",t,e),s.trigger("tablesaw-sorted")}};E.fn[c]=function(t){var e,n=Array.prototype.slice.call(arguments,1);return t&&"string"==typeof t?void 0!==(e=E.fn[c].prototype[t].apply(this[0],n))?e:E(this):(E(this).data(c+"-active")||(E(this).data(c+"-active",!0),E.fn[c].prototype._create.call(this,t)),E(this))},E.extend(E.fn[c].prototype,t),E(document).on("tablesawcreate",function(t,e){e.$table.is("table[data-tablesaw-sortable]")&&e.$table[c]()})}(),function(){function y(){return E.extend({horizontalThreshold:15,verticalThreshold:30},"undefined"!=typeof TablesawConfig?TablesawConfig.swipe:{})}var C="tablesaw-bar",T="disabled",N="tablesaw-fix-persist",$="tablesaw-all-cols-visible",x="data-tablesaw-no-touch";function n(t,o){var e=E("<div class='tablesaw-advance'></div>"),n=E("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(e),a=E("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(e),l=t._getPrimaryHeaders(),i=l.not('[data-tablesaw-priority="persist"]'),c=[],r=E(document.head||"head"),h=o.attr("id");if(!l.length)throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");function f(t){return E(t.cells).add(t)}function d(t){f(t).removeClass("tablesaw-cell-hidden")}function u(t){f(t).addClass("tablesaw-cell-hidden")}function s(){var t,n="#"+h+".tablesaw-swipe ",a=[],s=o.width(),i=[];if(l.each(function(t){var e;E(this).is('[data-tablesaw-priority="persist"]')&&(e=this.offsetWidth)<.75*s&&(i.push(t+"-"+e),a.push(n+" .tablesaw-cell-persist:nth-child("+(t+1)+") { width: "+e+"px; }"))}),t=i.join("_"),a.length){o.addClass(N);var e=E("#"+h+"-persist");e.length&&e.data("tablesaw-hash")===t||(e.remove(),E("<style>"+a.join("\n")+"</style>").attr("id",h+"-persist").data("tablesaw-hash",t).appendTo(r))}}function p(){var a,s=[];return i.each(function(t){var e=E(this),n="none"===e.css("display")||e.is(".tablesaw-cell-hidden");if(n||a){if(n&&a)return s[1]=t,!1}else a=!0,s[0]=t}),s}function v(){var t=p();return[t[1]-1,t[0]-1]}function b(t){return-1<t[1]&&t[1]<i.length}function g(){if(!(t=o.attr("data-tablesaw-swipe-media"))||"matchMedia"in D&&D.matchMedia(t).matches){var t,n=o.parent().width(),a=[],s=0,i=[],r=l.length;l.each(function(t){var e=E(this).is('[data-tablesaw-priority="persist"]');a.push(e),s+=c[t],i.push(s),(e||n<s)&&r--});var e=0===r;l.each(function(t){a[t]?f(this).addClass("tablesaw-cell-persist"):i[t]<=n||e?(e=!1,d(this)):u(this)}),o.removeClass(N),E("#"+h+"-persist").remove(),o.trigger("tablesawcolumns")}}function m(t){var e=t?p():v();b(e)&&(isNaN(e[0])&&(e[0]=t?0:i.length-1),s(),u(i.get(e[0])),d(i.get(e[1])),o.trigger("tablesawcolumns"))}function w(t,e){return(t.touches||t.originalEvent.touches)[0][e]}o.addClass("tablesaw-swipe"),l.each(function(){var t=this.offsetWidth;c.push(t)}),e.appendTo(o.prev().filter(".tablesaw-bar")),h||(h="tableswipe-"+Math.round(1e4*Math.random()),o.attr("id",h)),n.add(a).on("click",function(t){m(!!E(t.target).closest(a).length),t.preventDefault()}),o.is("["+x+"]")||o.on("touchstart.swipetoggle",function(t){var n,a,s=w(t,"pageX"),i=w(t,"pageY");E(D).off("resize",g),E(this).on("touchmove",function(t){n=w(t,"pageX"),a=w(t,"pageY");var e=y();Math.abs(n-s)>e.horizontalThreshold&&Math.abs(a-i)<e.verticalThreshold&&t.preventDefault()}).on("touchend.swipetoggle",function(){var t=y();Math.abs(a-i)<t.verticalThreshold&&(n-s<-1*t.horizontalThreshold&&m(!0),n-s>t.horizontalThreshold&&m(!1)),window.setTimeout(function(){E(D).on("resize",g)},300),E(this).off("touchmove touchend")})}),o.on("tablesawcolumns.swipetoggle",function(){var t=b(v()),e=b(p());n[t?"removeClass":"addClass"](T),a[e?"removeClass":"addClass"](T),n.closest("."+C)[t||e?"removeClass":"addClass"]($)}).on("tablesawnext.swipetoggle",function(){m(!0)}).on("tablesawprev.swipetoggle",function(){m(!1)}).on("tablesawdestroy.swipetoggle",function(){var t=E(this);t.removeClass("tablesaw-swipe"),t.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),E(D).off("resize",g),t.off(".swipetoggle")}).on("tablesawrefresh",function(){c=[],l.each(function(){var t=this.offsetWidth;c.push(t)}),g()}),g(),E(D).on("resize",g)}E(document).on("tablesawcreate",function(t,e){"swipe"===e.mode&&n(e,e.$table)})}(),function(){var r={init:"data-tablesaw-minimap"};function n(n){var a=E('<div class="tablesaw-advance minimap">'),s=E('<ul class="tablesaw-advance-dots">').appendTo(a),i="tablesaw-advance-dots-hide";function e(){if(!(t=n.attr(r.init))||D.matchMedia&&D.matchMedia(t).matches){var t;a.css("display","block");var e=s.find("li").removeClass(i);n.find("thead th").each(function(t){"none"===E(this).css("display")&&e.eq(t).addClass(i)})}else a.css("display","none")}n.find("thead th").each(function(){s.append("<li><i></i></li>")}),a.appendTo(n.prev().filter(".tablesaw-bar")),e(),E(D).on("resize",e),n.on("tablesawcolumns.minimap",function(){e()}).on("tablesawdestroy.minimap",function(){var t=E(this);t.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),E(D).off("resize",e),t.off(".minimap")})}E(document).on("tablesawcreate",function(t,e){"swipe"!==e.mode&&"columntoggle"!==e.mode||!e.$table.is("[ "+r.init+"]")||n(e.$table)})}(),b={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],init:function(t){var e,n=E(t),a=n.attr(b.attributes.excludeMode),s=n.prev().filter(".tablesaw-bar"),i=E("<div>").addClass(b.classes.main+" "+b.classes.toolbar),r=["<label>"+g.columns+":"],o=n.attr("data-tablesaw-mode");r.push('<span class="btn"><select>');for(var l=0,c=b.modes.length;l<c;l++)a&&a.toLowerCase()===b.modes[l]||((e=o===b.modes[l])&&b.modes[l],r.push("<option"+(e?" selected":"")+' value="'+b.modes[l]+'">'+g.modes[l]+"</option>"));r.push("</select></span></label>"),i.html(r.join(""));var h=s.find(".tablesaw-advance").eq(0);h.length?i.insertBefore(h):i.appendTo(s),i.find(".btn").tablesawbtn(),i.find("select").on("change",b.onModeChange)},onModeChange:function(){var t=E(this),e=t.closest("."+b.classes.main),n=t.closest(".tablesaw-bar").next().eq(0),a=t.val();e.remove(),n.data("tablesaw").destroy(),n.attr("data-tablesaw-mode",a),n.tablesaw()}},E(D.document).on("tablesawcreate",function(t,e){e.$table.is(b.selectors.init)&&b.init(e.table)})});