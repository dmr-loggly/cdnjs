!function(t){var e=document.createElement("div"),a=e.getElementsByTagName("i"),s=t(document.documentElement);e.innerHTML="\x3c!--[if lte IE 8]><i></i><![endif]--\x3e",a[0]&&s.addClass("ie-lte8"),"querySelector"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini&&(s.addClass("tablesaw-enhanced"),t(function(){t(document).trigger("enhance.tablesaw")}))}(jQuery),function(o){var a="table",e="tablesaw-bar",t="tablesawcreate",s="tablesawdestroy",n=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=o(t),this.mode=this.$table.attr("data-mode")||"stack",this.init()};n.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",a+"-"+Math.round(1e4*Math.random())),this.createToolbar();var n,i=this.table.querySelectorAll("thead tr"),l=this;o(i).each(function(){var s=0;o(this).children().each(function(){var t=parseInt(this.getAttribute("colspan"),10),e=":nth-child("+(s+1)+")";if(n=s+1,t)for(var a=0;a<t-1;a++)e+=", :nth-child("+(++s+1)+")";this.cells=l.$table.find("tr").not(o(i).eq(0)).not(this).children(e),s++})}),this.$table.trigger(t,[this.mode,n])},n.prototype.createToolbar=function(){var t=this.$table.prev("."+e);t.length||(t=o("<div>").addClass(e).insertBefore(this.$table)),this.$toolbar=t,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},n.prototype.destroy=function(){this.$table.prev("."+e).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")}),o(window).off("resize."+this.$table.attr("id")),this.$table.trigger(s,[this.mode]),this.$table.removeAttr("data-mode"),this.$table.removeData(a)},o.fn[a]=function(){return this.each(function(){var t=o(this);if(!t.data(a)){var e=new n(this);t.data(a,e)}})},o(document).on("enhance.tablesaw",function(t){o(t.target).find("table[data-mode],table[data-sortable]")[a]()})}(jQuery),function(t,l,e){var a="tablesaw-stack",o="tablesaw-cell-label",s="tablesaw-stack",n="data-no-labels",i=function(t){this.$table=l(t),this.labelless=this.$table.is("["+n+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(s,this)};i.prototype.init=function(i){(this.$table.addClass(a),this.labelless)||l(this.allHeaders).each(function(){var t=l(this.cells),e=t.not(this).filter("thead th").length&&" tablesaw-cell-label-top",a=l(this).text();if(""!==a)if(e){var s=parseInt(l(this).attr("colspan"),10),n="";s&&(n="td:nth-child("+s+"n + "+i+")"),t.filter(n).prepend("<b class='"+o+e+"'>"+a+"</b>")}else t.prepend("<b class='"+o+"'>"+a+"</b>")})},i.prototype.destroy=function(){this.$table.removeClass(a),this.$table.find("."+o).remove()},l(document).on("tablesawcreate","table",function(t,e,a){"stack"===e&&new i(this).init(a)}),l(document).on("tablesawdestroy","table",function(t,e){"stack"===e&&l(this).data(s).destroy()})}(0,jQuery),function(r){var n="tablesawbtn",s="btn-selected",t={_create:function(){return r(this).each(function(){r(this).trigger("beforecreate."+n)[n]("_init").trigger("create."+n)})},_init:function(){var t=r(this),e=void 0!==this.disabled&&!1!==this.disabled,a=this.getElementsByTagName("input")[0],s=this.getElementsByTagName("select")[0];return a&&r(this).addClass("btn-"+a.type)[n]("_formbtn",a),s&&r(this).addClass("btn-select")[n]("_select",s),e&&t.addClass("ui-disabled"),t},_formbtn:function(t){var e=function(t,e){if("radio"===e.type&&e.checked){var a=e.getAttribute("name");r("[name='"+a+"']").each(function(){r(this).parent().removeClass(s)}),t[e.checked?"addClass":"removeClass"](s)}else"checkbox"===e.type&&t[e.checked?"addClass":"removeClass"](s)};e(r(this),t),r(this).bind("click",function(){e(r(this),t)})},_select:function(t){var e=function(t,e){var a,s,n,i=r(e).find("option");if(i.each(function(){this.selected&&(a=document.createTextNode(this.text))}),n=t.childNodes,0<i.length)for(var l=0,o=n.length;l<o;l++)(s=n[l])&&3===s.nodeType&&t.replaceChild(a,s)};e(this,t),r(this).bind("change refresh",function(){e(this,t)})}};r.fn[n]=function(t,e,a,s){return this.each(function(){return t&&"string"==typeof t?r.fn[n].prototype[t].call(this,e,a,s):r(this).data(n+"active")?r(this):(r(this).data(n+"active",!0),void r.fn[n].prototype._create.call(this))})},r.extend(r.fn[n].prototype,t),r(document).on("enhance",function(t){r(".btn",t.target)[n]()})}(jQuery),function(t,r,e){var a=function(t){this.$table=r(t),this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",dialogClass:this.$table.attr("data-dialog-class")||"",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn",columnBtnSide:this.$table.attr("data-column-btn-side")||"right",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.i18n={columnBtnText:"Columns",columnsDialogError:"No eligible columns."},this.headers=this.$table.find("tr:first > th"),this.$table.data("tablesaw-coltoggle",this)};a.prototype.init=function(){var t,e,a,s,n,i,l=this;this.$table.addClass(this.classes.columnToggleTable),e=(t=this.$table.attr("id"))+"-popup",i=r("<div class='"+this.classes.columnBtnContain+" "+this.classes.columnBtnSide+" "+this.classes.dialogClass+"'></div>"),a=r("<a href='#"+e+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+this.i18n.columnBtnText+"</span></a>"),s=r("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+e+"'></div>"),n=r("<div class='btn-group'></div>");var o=!1;r(this.headers).not("td").each(function(){var t=r(this),e=t.attr("data-priority"),a=t.add(this.cells);e&&"persist"!==e&&(a.addClass(l.classes.priorityPrefix+e),r("<label class='btn btn-check btn-checkbox btn-selected theme-simple'><input type='checkbox' checked>"+t.text()+"</label>").appendTo(n).trigger("enhance").children(0).data("cells",a),o=!0)}),o||n.append('<label class="btn theme-simple">'+this.i18n.columnsDialogError+"</label>"),n.find(".btn").tablesawbtn(),n.appendTo(s),n.on("change",function(t){var e=t.target.checked;r(t.target).data("cells").toggleClass("tablesaw-cell-hidden",!e).toggleClass("tablesaw-cell-visible",e),l.$table.trigger("tablesawcolumns")}),a.appendTo(i),i.appendTo(this.$table.prev("."+this.classes.toolbar)),s.appendTo(i).dialog(!0),this.$menu=n,r(window).on("resize."+t,function(){l.refreshToggle()}),this.refreshToggle()},a.prototype.refreshToggle=function(){this.$menu.find("input").each(function(){var t=r(this);this.checked="table-cell"===t.data("cells").eq(0).css("display"),t.parent()[this.checked?"addClass":"removeClass"]("btn-selected")})},a.prototype.refreshPriority=function(){var s=this;r(this.headers).not("td").each(function(){var t=r(this),e=t.attr("data-priority"),a=t.add(this.cells);e&&"persist"!==e?a.addClass(s.classes.priorityPrefix+e):a.each(function(){this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})})},a.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){r(this).removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},r(document).on("tablesawcreate","table",function(t,e){"columntoggle"===e&&new a(this).init()}),r(document).on("tablesawdestroy","table",function(t,e){"columntoggle"===e&&r(this).data("tablesaw-coltoggle").destroy()})}(0,jQuery),function(C,T,t){function s(i){var t=T("<div class='tablesaw-advance'></div>"),e=T("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(t),a=T("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(t),s="disabled",l="tablesaw-fix-persist",o=i.find("thead th"),n=o.not('[data-priority="persist"]'),r=[],c=T(document.head||"head"),d=i.attr("id");function h(t){return T(t.cells).add(t)}function u(t){h(t).removeClass("tablesaw-cell-hidden")}function b(t){h(t).addClass("tablesaw-cell-hidden")}function f(){i.removeClass(l),T("#"+d+"-persist").remove()}function p(){var a="#"+d+" ",s=[],n=i.width();o.each(function(t){var e;T(this).is('[data-priority="persist"]')&&(e=T(this).outerWidth())<.75*n&&s.push(a+" .tablesaw-cell-persist:nth-child("+(t+1)+") { width: "+e+"px; }")}),f(),i.addClass(l),c.append(T("<style>").attr("id",d+"-persist").html(s.join("\n")))}function m(){var a,s=[];return n.each(function(t){var e="none"===T(this).css("display");e||a?e&&a&&!s[1]&&(s[1]=t):(a=!0,s[0]=t)}),s}function v(){var t=m();return[t[1]-1,t[0]-1]}function g(t){return-1<t[1]&&t[1]<n.length}function w(){var a=i.parent().width(),s=0;o.each(function(t){var e=T(this).is('[data-priority="persist"]');(s+=r[t]+(e?0:20),e)?h(this).addClass("tablesaw-cell-persist"):a<s?b(this):u(this)}),f(),i.trigger("tablesawcolumns")}function y(t){var e=t?m():v();g(e)&&(isNaN(e[0])&&(e[0]=t?0:n.length-1),p(),b(n.get(e[0])),u(n.get(e[1])),i.trigger("tablesawcolumns"))}i.css("width","auto"),o.each(function(){r.push(T(this).outerWidth())}),i.css("width",""),t.appendTo(i.prev(".tablesaw-bar")),i.addClass("tablesaw-swipe"),d||(d="tableswipe-"+Math.round(1e4*Math.random()),i.attr("id",d)),e.add(a).click(function(t){y(!!T(t.target).closest(a).length),t.preventDefault()}),i.bind("touchstart.swipetoggle",function(t){var e,a,s=(t.touches||t.originalEvent.touches)[0].pageX;i.addClass("table-noanimate"),T(this).bind("touchmove",function(t){e=(t.touches||t.originalEvent.touches)[0].pageX,(a=e-s)<-30&&(a=-30),30<a&&(a=30)}).bind("touchend.swipetoggle",function(){e-s<15&&y(!0),-15<e-s&&y(!1),T(this).unbind("touchmove touchend"),i.removeClass("table-noanimate")})}).bind("tablesawcolumns.swipetoggle",function(){e[g(v())?"removeClass":"addClass"](s),a[g(m())?"removeClass":"addClass"](s)}).bind("tablesawnext.swipetoggle",function(){y(!0)}).bind("tablesawprev.swipetoggle",function(){y(!1)}).bind("tablesawdestroy.swipetoggle",function(){var t=T(this);t.removeClass("tablesaw-swipe"),t.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),T(C).off("resize",w),t.unbind(".swipetoggle")}),w(),T(C).on("resize",w)}T(document).on("tablesawcreate","table",function(t,e){var a=T(this);"swipe"===e&&s(a)})}(this,jQuery),function(r){function c(t){return r.map(t.childNodes,function(t){var e=r(t);return e.is("input, select")?e.val():e.hasClass("tablesaw-cell-label")?void 0:r.trim(e.text())}).join("")}var d="tablesaw-sortable",h="sortable",u={head:h+"-head",ascend:h+"-ascending",descend:h+"-descending",switcher:d+"-switch",tableToolbar:"tablesaw-toolbar"},b="Sort",t={_create:function(t){return r(this).each(function(){if(r(this).data("init"+h))return!1;r(this).data("init"+h,!0).trigger("beforecreate."+h)[h]("_init",t).trigger("create."+h)})},_init:function(){var n,i,t,e,s,a,l=r(this),o=function(t){r.each(t,function(t,e){var a=r(e);a.removeAttr("data-sortable-default-col"),a.removeClass(u.ascend),a.removeClass(u.descend)})};l.addClass(d),n=l.find("thead th[data-"+h+"-col]"),t=n,r.each(t,function(t,e){r(e).addClass(u.head)}),e=n,s=function(t){if(!r(t.target).is("a[href]")){t.stopPropagation();var e=r(this).parent(),a=t.data.col,s=n.index(e);o(e.siblings()),e.hasClass(u.descend)?(l[h]("sortBy",a,!0),s+="_asc"):(l[h]("sortBy",a),s+="_desc"),i&&i.find("select").val(s).trigger("refresh"),t.preventDefault()}},r.each(e,function(t,e){var a=r("<button />");a.bind("click",{col:e},s),r(e).wrapInner(a)}),a=n,r.each(a,function(t,e){var a=r(e);a.is("[data-sortable-default-col]")&&(a.hasClass(u.descend)||a.addClass(u.ascend))}),l.is("[data-sortable-switch]")&&function(a){i=r("<div>").addClass(u.switcher).addClass(u.tableToolbar).html(function(){var i=["<label>"+b+":"];return i.push('<span class="btn btn-small">&#160;<select>'),a.each(function(t){var e=r(this),a=e.is("[data-sortable-default-col]"),s=e.hasClass(u.descend),n=!1;r(this.cells).slice(0,3).each(function(){if(!isNaN(parseInt(c(this),10)))return!(n=!0)}),i.push("<option"+(a&&!s?" selected":"")+' value="'+t+'_asc">'+e.text()+" "+(n?"↑":"(A-Z)")+"</option>"),i.push("<option"+(a&&s?" selected":"")+' value="'+t+'_desc">'+e.text()+" "+(n?"↓":"(Z-A)")+"</option>")}),i.push("</select></span></label>"),i.join("")});var t=l.prev(".tablesaw-bar"),e=t.children().eq(0);e.length?i.insertBefore(e):i.appendTo(t),i.find(".btn").tablesawbtn(),i.find("select").on("change",function(){var t=r(this).val().split("_"),e=a.eq(t[0]);o(e.siblings()),l.sortable("sortBy",e.get(0),"asc"===t[1])})}(n,l.find("tbody tr:nth-child(-n+3)"))},getColumnNumber:function(t){return r(t).prevAll().length},getTableRows:function(){return r(this).find("tbody tr")},sortRows:function(t,a,e){var s,n,i;return n=t,i=[],r.each(n,function(t,e){i.push({cell:c(r(e).children().get(a)),rowNum:t})}),s=e?function(t,e){return parseInt(t.cell,10)?parseInt(t.cell,10)-parseInt(e.cell,10):t.cell>e.cell?1:-1}:function(t,e){return parseInt(t.cell,10)?parseInt(e.cell,10)-parseInt(t.cell,10):t.cell<e.cell?1:-1},t=function(t,e){var a,s,n,i=[];for(a=0,s=t.length;a<s;a++)n=t[a].rowNum,i.push(e[n]);return i}(i.sort(s),t)},replaceTableRows:function(t){r(this).find("tbody").html(t)},makeColDefault:function(t,e){var a=r(t);a.attr("data-sortable-default-col","true"),e?(a.removeClass(u.descend),a.addClass(u.ascend)):(a.removeClass(u.ascend),a.addClass(u.descend))},notify:function(){},sortBy:function(t,e){var a,s,n=r(this);a=n[h]("getColumnNumber",t),s=n[h]("getTableRows"),s=n[h]("sortRows",s,a,e),n[h]("replaceTableRows",s),n[h]("makeColDefault",t,e),n[h]("notify")}};r.fn[h]=function(t){var e,a=Array.prototype.slice.call(arguments,1);return t&&"string"==typeof t?void 0!==(e=r.fn[h].prototype[t].apply(this[0],a))?e:r(this):(r(this).data(h+"data")||(r(this).data(h+"active",!0),r.fn[h].prototype._create.call(this,t)),r(this))},r.extend(r.fn[h].prototype,t),r(document).on("tablesawcreate","table",function(){r(this).is("table[data-sortable]")&&r(this)[h]()})}(jQuery),function(l,o,t){var r={init:"data-minimap"};function s(a){var s=o('<div class="tablesaw-advance minimap">'),n=o('<ul class="tablesaw-advance-dots">').appendTo(s),i="tablesaw-advance-dots-hide";function e(){if(!(t=a.attr(r.init))||l.matchMedia&&l.matchMedia(t).matches){var t;s.show();var e=n.find("li").removeClass(i);a.find("thead th").each(function(t){"none"===o(this).css("display")&&e.eq(t).addClass(i)})}else s.hide()}a.find("thead th").each(function(){n.append("<li><i></i></li>")}),s.appendTo(a.prev(".tablesaw-bar")),e(),o(l).on("resize",e),a.bind("tablesawcolumns.minimap",function(){e()}).bind("tablesawdestroy.minimap",function(){var t=o(this);t.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),o(l).off("resize",e),t.unbind(".minimap")})}o(document).on("tablesawcreate","table",function(t,e){var a=o(this);"swipe"!==e&&"columntoggle"!==e||!a.is("[ "+r.init+"]")||s(a)})}(this,jQuery),function(t,n){var o={selectors:{init:"table[data-mode-switch]"},attributes:{excludeMode:"data-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s'},init:function(t){var i=n(t),l=i.attr(o.attributes.excludeMode),e=i.prev(".tablesaw-bar"),a=n("<div>").addClass(o.classes.main+" "+o.classes.toolbar).html(function(){var t,e=["<label>"+o.i18n.columns+":"],a=i.attr("data-mode");e.push('<span class="btn btn-small">&#160;<select>');for(var s=0,n=o.modes.length;s<n;s++)l&&l.toLowerCase()===o.modes[s]||((t=a===o.modes[s])&&o.modes[s],e.push("<option"+(t?" selected":"")+' value="'+o.modes[s]+'">'+o.i18n.modes[s]+"</option>"));return e.push("</select></span></label>"),e.join("")}),s=e.find(".tablesaw-advance").eq(0);s.length?a.insertBefore(s):a.appendTo(e),a.find(".btn").tablesawbtn(),a.find("select").bind("change",o.onModeChange)},onModeChange:function(){var t=n(this),e=t.closest("."+o.classes.main),a=t.closest(".tablesaw-bar").nextUntil(a).eq(0),s=t.val();e.remove(),a.data("table").destroy(),a.attr("data-mode",s),a.table()}};n(t.document).on("tablesawcreate","table",function(){n(this).is(o.selectors.init)&&o.init(this)})}(this,jQuery);