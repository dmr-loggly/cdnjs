"undefined"==typeof Tablesaw&&(Tablesaw={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"},mustard:"querySelector"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini}),Tablesaw.config||(Tablesaw.config={}),Tablesaw.mustard&&jQuery(document.documentElement).addClass("tablesaw-enhanced"),function(a){var s="table",t="tablesaw-bar",i="tablesawcreate",n="tablesawdestroy",e="tablesawrefresh",l=function(e){if(!e)throw new Error("Tablesaw requires an element.");this.table=e,this.$table=a(e),this.mode=this.$table.attr("data-tablesaw-mode")||"stack",this.init()};l.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",s+"-"+Math.round(1e4*Math.random())),this.createToolbar();var e=this._initCells();this.$table.trigger(i,[this,e])},l.prototype._initCells=function(){var i,n=this.table.querySelectorAll("thead tr"),l=this;return a(n).each(function(){var s=0;a(this).children().each(function(){var e=parseInt(this.getAttribute("colspan"),10),t=":nth-child("+(s+1)+")";if(i=s+1,e)for(var a=0;a<e-1;a++)t+=", :nth-child("+(++s+1)+")";this.cells=l.$table.find("tr").not(n[0]).not(this).children().filter(t),s++})}),i},l.prototype.refresh=function(){this._initCells(),this.$table.trigger(e)},l.prototype.createToolbar=function(){var e=this.$table.prev().filter("."+t);e.length||(e=a("<div>").addClass(t).insertBefore(this.$table)),this.$toolbar=e,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},l.prototype.destroy=function(){this.$table.prev().filter("."+t).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var e=this.$table.attr("id");a(document).unbind("."+e),a(window).unbind("."+e),this.$table.trigger(n,[this]),this.$table.removeData(s)},a.fn[s]=function(){return this.each(function(){var e=a(this);if(!e.data(s)){var t=new l(this);e.data(s,t)}})},a(document).on("enhance.tablesaw",function(e){Tablesaw.mustard&&a(e.target).find("table[data-tablesaw-mode],table[data-tablesaw-sortable]")[s]()})}(jQuery),function(e,c,t){var a="tablesaw-stack",d="tablesaw-cell-label",h="tablesaw-cell-content",s="tablesaw-stack",b="data-tablesaw-no-labels",i="data-tablesaw-hide-empty",n=function(e){this.$table=c(e),this.labelless=this.$table.is("["+b+"]"),this.hideempty=this.$table.is("["+i+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(s,this)};n.prototype.init=function(o){if(this.$table.addClass(a),!this.labelless){var e=c(this.allHeaders),r=this.hideempty;e.each(function(){var e=c(this),t=c(this.cells).filter(function(){return!(c(this).parent().is("["+b+"]")||r&&c(this).is(":empty"))}),a=t.not(this).filter("thead th").length&&" tablesaw-cell-label-top",s=e.find(".tablesaw-sortable-btn"),i=s.length?s.html():e.html();if(""!==i)if(a){var n=parseInt(c(this).attr("colspan"),10),l="";n&&(l="td:nth-child("+n+"n + "+o+")"),t.filter(l).prepend("<b class='"+d+a+"'>"+i+"</b>")}else t.wrapInner("<span class='"+h+"'></span>"),t.prepend("<b class='"+d+"'>"+i+"</b>")})}},n.prototype.destroy=function(){this.$table.removeClass(a),this.$table.find("."+d).remove(),this.$table.find("."+h).each(function(){c(this).replaceWith(this.childNodes)})},c(document).on("tablesawcreate",function(e,t,a){"stack"===t.mode&&new n(t.table).init(a)}),c(document).on("tablesawdestroy",function(e,t){"stack"===t.mode&&c(t.table).data(s).destroy()})}(0,jQuery),function(r){var i="tablesawbtn",e={_create:function(){return r(this).each(function(){r(this).trigger("beforecreate."+i)[i]("_init").trigger("create."+i)})},_init:function(){var e=r(this),t=this.getElementsByTagName("select")[0];return t&&r(this).addClass("btn-select")[i]("_select",t),e},_select:function(e){var t=function(e,t){var a,s,i,n=r(t).find("option");if(n.each(function(){this.selected&&(a=document.createTextNode(this.text))}),i=e.childNodes,0<n.length)for(var l=0,o=i.length;l<o;l++)(s=i[l])&&3===s.nodeType&&e.replaceChild(a,s)};t(this,e),r(this).bind("change refresh",function(){t(this,e)})}};r.fn[i]=function(e,t,a,s){return this.each(function(){return e&&"string"==typeof e?r.fn[i].prototype[e].call(this,t,a,s):r(this).data(i+"active")?r(this):(r(this).data(i+"active",!0),void r.fn[i].prototype._create.call(this))})},r.extend(r.fn[i].prototype,e)}(jQuery),function(e,d,t){var a=function(e){this.$table=d(e),this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.headers=this.$table.find("tr:first > th"),this.$table.data("tablesaw-coltoggle",this)};a.prototype.init=function(){var t,e,a,s,i,n,l=this;this.$table.addClass(this.classes.columnToggleTable),e=(t=this.$table.attr("id"))+"-popup",n=d("<div class='"+this.classes.columnBtnContain+"'></div>"),a=d("<a href='#"+e+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+Tablesaw.i18n.columnBtnText+"</span></a>"),s=d("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+e+"'></div>"),i=d("<div class='btn-group'></div>");var o,r=!1;function c(e){e&&d(e.target).closest("."+l.classes.popup).length||(d(document).unbind("click."+t),a.removeClass("up").addClass("down"),n.removeClass("visible"))}d(this.headers).not("td").each(function(){var e=d(this),t=e.attr("data-tablesaw-priority"),a=l.$getCells(this);t&&"persist"!==t&&(a.addClass(l.classes.priorityPrefix+t),d("<label><input type='checkbox' checked>"+e.text()+"</label>").appendTo(i).children(0).data("tablesaw-header",this),r=!0)}),r||i.append("<label>"+Tablesaw.i18n.columnsDialogError+"</label>"),i.appendTo(s),i.find('input[type="checkbox"]').on("change",function(e){var t=e.target.checked;l.$getCellsFromCheckbox(e.target).toggleClass("tablesaw-cell-hidden",!t).toggleClass("tablesaw-cell-visible",t),l.$table.trigger("tablesawcolumns")}),a.appendTo(n),n.appendTo(this.$table.prev().filter("."+this.classes.toolbar)),a.on("click.tablesaw",function(e){e.preventDefault(),n.is(".visible")?c():(n.addClass("visible"),a.removeClass("down").addClass("up"),d(document).unbind("click."+t,c),window.clearTimeout(o),o=window.setTimeout(function(){d(document).one("click."+t,c)},15))}),s.appendTo(n),this.$menu=i,d(window).on("resize."+t,function(){l.refreshToggle()}),this.refreshToggle()},a.prototype.$getCells=function(e){return d(e).add(e.cells)},a.prototype.$getCellsFromCheckbox=function(e){var t=d(e).data("tablesaw-header");return this.$getCells(t)},a.prototype.refreshToggle=function(){var e=this;this.$menu.find("input").each(function(){this.checked="table-cell"===e.$getCellsFromCheckbox(this).eq(0).css("display")})},a.prototype.refreshPriority=function(){var s=this;d(this.headers).not("td").each(function(){var e=d(this),t=e.attr("data-tablesaw-priority"),a=e.add(this.cells);t&&"persist"!==t&&a.addClass(s.classes.priorityPrefix+t)})},a.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){d(this).removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},d(document).on("tablesawcreate",function(e,t){"columntoggle"===t.mode&&new a(t.table).init()}),d(document).on("tablesawdestroy",function(e,t){"columntoggle"===t.mode&&d(t.table).data("tablesaw-coltoggle").destroy()})}(0,jQuery),function(T,$,e){$.extend(Tablesaw.config,{swipe:{horizontalThreshold:15,verticalThreshold:30}});var x="tablesaw-bar",k="disabled",N="tablesaw-fix-persist",_="tablesaw-all-cols-visible";function a(o){var e,t,a=$("<div class='tablesaw-advance'></div>"),s=$("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(a),i=$("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(a),r=o.find("thead th"),n=r.not('[data-tablesaw-priority="persist"]'),c=[],l=$(document.head||"head"),d=o.attr("id"),h=(e=document.createElement("div"),t=e.getElementsByTagName("i"),e.innerHTML="\x3c!--[if lte IE 8]><i></i><![endif]--\x3e",!t.length);if(!r.length)throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");function b(e){return $(e.cells).add(e)}function u(e){b(e).removeClass("tablesaw-cell-hidden")}function p(e){b(e).addClass("tablesaw-cell-hidden")}function f(){var e,a="#"+d+".tablesaw-swipe ",s=[],i=o.width(),n=[];r.each(function(e){var t;$(this).is('[data-tablesaw-priority="persist"]')&&(t=$(this).outerWidth())<.75*i&&(n.push(e+"-"+t),s.push(a+" .tablesaw-cell-persist:nth-child("+(e+1)+") { width: "+t+"px; }"))}),e=n.join("_"),o.addClass(N);var t=$("#"+d+"-persist");t.length&&t.data("hash")===e||(t.remove(),s.length&&$("<style>"+s.join("\n")+"</style>").attr("id",d+"-persist").data("hash",e).appendTo(l))}function w(){var s,i=[];return n.each(function(e){var t=$(this),a="none"===t.css("display")||t.is(".tablesaw-cell-hidden");if(a||s){if(a&&s)return i[1]=e,!1}else s=!0,i[0]=e}),i}function m(){var e=w();return[e[1]-1,e[0]-1]}function v(e){return-1<e[1]&&e[1]<n.length}function g(){if(!(e=o.attr("data-tablesaw-swipe-media"))||"matchMedia"in T&&T.matchMedia(e).matches){var e,a=o.parent().width(),s=[],i=0,n=[],l=r.length;r.each(function(e){var t=$(this).is('[data-tablesaw-priority="persist"]');s.push(t),i+=c[e]+(t?0:20),n.push(i),(t||a<i)&&l--});var t=0===l;r.each(function(e){s[e]?b(this).addClass("tablesaw-cell-persist"):n[e]<=a||t?(t=!1,u(this)):p(this)}),h&&(o.removeClass(N),$("#"+d+"-persist").remove()),o.trigger("tablesawcolumns")}}function y(e){var t=e?w():m();v(t)&&(isNaN(t[0])&&(t[0]=e?0:n.length-1),h&&f(),p(n.get(t[0])),u(n.get(t[1])),o.trigger("tablesawcolumns"))}function C(e,t){return(e.touches||e.originalEvent.touches)[0][t]}o.css("width","auto"),r.each(function(){c.push($(this).outerWidth())}),o.css("width",""),a.appendTo(o.prev().filter(".tablesaw-bar")),o.addClass("tablesaw-swipe"),d||(d="tableswipe-"+Math.round(1e4*Math.random()),o.attr("id",d)),s.add(i).click(function(e){y(!!$(e.target).closest(i).length),e.preventDefault()}),o.bind("touchstart.swipetoggle",function(e){var a,s,i=C(e,"pageX"),n=C(e,"pageY");$(T).off("resize",g),$(this).bind("touchmove",function(e){a=C(e,"pageX"),s=C(e,"pageY");var t=Tablesaw.config.swipe;Math.abs(a-i)>t.horizontalThreshold&&Math.abs(s-n)<t.verticalThreshold&&e.preventDefault()}).bind("touchend.swipetoggle",function(){var e=Tablesaw.config.swipe;Math.abs(s-n)<e.verticalThreshold&&(a-i<-1*e.horizontalThreshold&&y(!0),a-i>e.horizontalThreshold&&y(!1)),window.setTimeout(function(){$(T).on("resize",g)},300),$(this).unbind("touchmove touchend")})}).bind("tablesawcolumns.swipetoggle",function(){var e=v(m()),t=v(w());s[e?"removeClass":"addClass"](k),i[t?"removeClass":"addClass"](k),s.closest("."+x)[e||t?"removeClass":"addClass"](_)}).bind("tablesawnext.swipetoggle",function(){y(!0)}).bind("tablesawprev.swipetoggle",function(){y(!1)}).bind("tablesawdestroy.swipetoggle",function(){var e=$(this);e.removeClass("tablesaw-swipe"),e.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),$(T).off("resize",g),e.unbind(".swipetoggle")}),g(),$(T).on("resize",g)}$(document).on("tablesawcreate",function(e,t){"swipe"===t.mode&&a(t.$table)})}(this,jQuery),function(b){function u(e){return b.map(e.childNodes,function(e){var t=b(e);return t.is("input, select")?t.val():t.hasClass("tablesaw-cell-label")?void 0:b.trim(t.text())}).join("")}var r="tablesaw-sortable",c="data-tablesaw-sortable-default-col",d={head:r+"-head",ascend:r+"-ascending",descend:r+"-descending",switcher:r+"-switch",tableToolbar:"tablesaw-toolbar",sortButton:r+"-btn"},e={_create:function(e){return b(this).each(function(){if(b(this).data("init"+r))return!1;b(this).data("init"+r,!0).trigger("beforecreate."+r)[r]("_init",e).trigger("create."+r)})},_init:function(){var i,n,e,t,s,a,l=b(this),o=function(e){b.each(e,function(e,t){var a=b(t);a.removeAttr(c),a.removeClass(d.ascend),a.removeClass(d.descend)})};l.addClass(r),i=l.find("thead th[data-"+r+"-col]"),e=i,b.each(e,function(e,t){b(t).addClass(d.head)}),t=i,s=function(e){if(!b(e.target).is("a[href]")){e.stopPropagation();var t=b(this).parent(),a=e.data.col,s=i.index(t);o(t.siblings()),t.hasClass(d.descend)?(l[r]("sortBy",a,!0),s+="_asc"):(l[r]("sortBy",a),s+="_desc"),n&&n.find("select").val(s).trigger("refresh"),e.preventDefault()}},b.each(t,function(e,t){var a=b("<button class='"+d.sortButton+"'/>");a.bind("click",{col:t},s),b(t).wrapInner(a)}),a=i,b.each(a,function(e,t){var a=b(t);a.is("["+c+"]")&&(a.hasClass(d.descend)||a.addClass(d.ascend))}),l.is("[data-tablesaw-sortable-switch]")&&function(a){n=b("<div>").addClass(d.switcher).addClass(d.tableToolbar).html(function(){var o=["<label>"+Tablesaw.i18n.sort+":"];return o.push('<span class="btn btn-small">&#160;<select>'),a.each(function(e){var t=b(this),a=t.is("["+c+"]"),s=t.hasClass(d.descend),i=t.is("[data-sortable-numeric]"),n=0;b(this.cells).slice(0,5).each(function(){isNaN(parseInt(u(this),10))||n++});var l=5===n;i||t.attr("data-sortable-numeric",l?"":"false"),o.push("<option"+(a&&!s?" selected":"")+' value="'+e+'_asc">'+t.text()+" "+(l?"&#x2191;":"(A-Z)")+"</option>"),o.push("<option"+(a&&s?" selected":"")+' value="'+e+'_desc">'+t.text()+" "+(l?"&#x2193;":"(Z-A)")+"</option>")}),o.push("</select></span></label>"),o.join("")});var e=l.prev().filter(".tablesaw-bar"),t=e.children().eq(0);t.length?n.insertBefore(t):n.appendTo(e),n.find(".btn").tablesawbtn(),n.find("select").on("change",function(){var e=b(this).val().split("_"),t=a.eq(e[0]);o(t.siblings()),l[r]("sortBy",t.get(0),"asc"===e[1])})}(i,l.find("tbody tr:nth-child(-n+3)"))},getColumnNumber:function(e){return b(e).prevAll().length},getTableRows:function(){return b(this).find("tbody tr")},sortRows:function(e,s,t,a){var i,n,l,o;l=e,o=[],b.each(l,function(e,t){var a=b(t).children().get(s);o.push({element:a,cell:u(a),rowNum:e})}),i=o;var r,c,d,h=b(a).data("tablesaw-sort");return n=!(!h||"function"!=typeof h)&&h(t)||(r=t,c=b(a).is("[data-sortable-numeric]")&&!b(a).is('[data-sortable-numeric="false"]'),d=/[^\-\+\d\.]/g,r?function(e,t){return c?parseFloat(e.cell.replace(d,""))-parseFloat(t.cell.replace(d,"")):e.cell.toLowerCase()>t.cell.toLowerCase()?1:-1}:function(e,t){return c?parseFloat(t.cell.replace(d,""))-parseFloat(e.cell.replace(d,"")):e.cell.toLowerCase()<t.cell.toLowerCase()?1:-1}),e=function(e,t){var a,s,i,n=[];for(a=0,s=e.length;a<s;a++)i=e[a].rowNum,n.push(t[i]);return n}(i.sort(n),e)},replaceTableRows:function(e){b(this).find("tbody").html(e)},makeColDefault:function(e,t){var a=b(e);a.attr(c,"true"),t?(a.removeClass(d.descend),a.addClass(d.ascend)):(a.removeClass(d.ascend),a.addClass(d.descend))},sortBy:function(e,t){var a,s,i=b(this);a=i[r]("getColumnNumber",e),s=i[r]("getTableRows"),s=i[r]("sortRows",s,a,t,e),i[r]("replaceTableRows",s),i[r]("makeColDefault",e,t)}};b.fn[r]=function(e){var t,a=Array.prototype.slice.call(arguments,1);return e&&"string"==typeof e?void 0!==(t=b.fn[r].prototype[e].apply(this[0],a))?t:b(this):(b(this).data(r+"data")||(b(this).data(r+"active",!0),b.fn[r].prototype._create.call(this,e)),b(this))},b.extend(b.fn[r].prototype,e),b(document).on("tablesawcreate",function(e,t){t.$table.is("table[data-tablesaw-sortable]")&&t.$table[r]()})}(jQuery),function(l,o,e){var r={init:"data-tablesaw-minimap"};function a(a){var s=o('<div class="tablesaw-advance minimap">'),i=o('<ul class="tablesaw-advance-dots">').appendTo(s),n="tablesaw-advance-dots-hide";function t(){if(!(e=a.attr(r.init))||l.matchMedia&&l.matchMedia(e).matches){var e;s.show();var t=i.find("li").removeClass(n);a.find("thead th").each(function(e){"none"===o(this).css("display")&&t.eq(e).addClass(n)})}else s.hide()}a.find("thead th").each(function(){i.append("<li><i></i></li>")}),s.appendTo(a.prev().filter(".tablesaw-bar")),t(),o(l).on("resize",t),a.bind("tablesawcolumns.minimap",function(){t()}).bind("tablesawdestroy.minimap",function(){var e=o(this);e.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),o(l).off("resize",t),e.unbind(".minimap")})}o(document).on("tablesawcreate",function(e,t){"swipe"!==t.mode&&"columntoggle"!==t.mode||!t.$table.is("[ "+r.init+"]")||a(t.$table)})}(this,jQuery),function(e,i){var o={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],init:function(e){var n=i(e),l=n.attr(o.attributes.excludeMode),t=n.prev().filter(".tablesaw-bar"),a=i("<div>").addClass(o.classes.main+" "+o.classes.toolbar).html(function(){var e,t=["<label>"+Tablesaw.i18n.columns+":"],a=n.attr("data-tablesaw-mode");t.push('<span class="btn btn-small">&#160;<select>');for(var s=0,i=o.modes.length;s<i;s++)l&&l.toLowerCase()===o.modes[s]||((e=a===o.modes[s])&&o.modes[s],t.push("<option"+(e?" selected":"")+' value="'+o.modes[s]+'">'+Tablesaw.i18n.modes[s]+"</option>"));return t.push("</select></span></label>"),t.join("")}),s=t.find(".tablesaw-advance").eq(0);s.length?a.insertBefore(s):a.appendTo(t),a.find(".btn").tablesawbtn(),a.find("select").bind("change",o.onModeChange)},onModeChange:function(){var e=i(this),t=e.closest("."+o.classes.main),a=e.closest(".tablesaw-bar").nextUntil(a).eq(0),s=e.val();t.remove(),a.data("table").destroy(),a.attr("data-tablesaw-mode",s),a.table()}};i(e.document).on("tablesawcreate",function(e,t){t.$table.is(o.selectors.init)&&o.init(t.table)})}(this,jQuery);