!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),a(t),t}:a(jQuery)}(function(T){"use strict";var e,s,n,a,i,o,r,l,t,c,d,h,_="undefined"!=typeof window?window:this,B={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"},mustard:"head"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini};B.mustard&&T(document.documentElement).addClass("tablesaw-enhanced"),function(){var t="tablesaw",a="tablesaw-bar",s={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh",resize:"tablesawresize"},i={};B.events=s;var e=function(e){if(!e)throw new Error("Tablesaw requires an element.");this.table=e,this.$table=T(e),this.$thead=this.$table.children().filter("thead").eq(0),this.$tbody=this.$table.children().filter("tbody"),this.mode=this.$table.attr("data-tablesaw-mode")||"stack",this.init()};e.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",t+"-"+Math.round(1e4*Math.random())),this.createToolbar(),this._initCells(),this.$table.data(t,this),this.$table.trigger(s.create,[this])},e.prototype.getConfig=function(e){var t=T.extend(i,e||{});return T.extend(t,"undefined"!=typeof TablesawConfig?TablesawConfig:{})},e.prototype._getPrimaryHeaderRow=function(){return this.$thead.children().filter("tr").filter(function(){return!T(this).is("[data-tablesaw-ignorerow]")}).eq(0)},e.prototype._getPrimaryHeaderRowIndex=function(e){return(e||this._getPrimaryHeaderRow()).prevAll().length},e.prototype._getPrimaryHeaderCells=function(e){return(e||this._getPrimaryHeaderRow()).find("th")},e.prototype._findPrimaryHeadersForCell=function(e){for(var t=this._getPrimaryHeaderRow(),a=this._getPrimaryHeaderCells(t),s=this._getPrimaryHeaderRowIndex(t),i=[],n=0;n<this.headerMapping.length;n++)if(n!==s)for(var o=0;o<this.headerMapping[n].length;o++)this.headerMapping[n][o]===e&&i.push(a[o]);return i},e.prototype.getRows=function(){var e=this;return this.$table.find("tr").filter(function(){return T(this).closest("table").is(e.$table)})},e.prototype.getBodyRows=function(e){return(e?T(e):this.$tbody).children().filter("tr")},e.prototype.getHeaderCellIndex=function(e){for(var t=this.headerMapping[0],a=0;a<t.length;a++)if(t[a]===e)return a;return-1},e.prototype._initCells=function(){var e=this.getRows(),o=[];e.each(function(e){o[e]=[]}),e.each(function(i){var n=0;T(this).children().each(function(){for(var e=parseInt(this.getAttribute("colspan"),10),t=parseInt(this.getAttribute("rowspan"),10);o[i][n];)n++;if(o[i][n]=this,e)for(var a=0;a<e-1;a++)n++,o[i][n]=this;if(t)for(var s=1;s<t;s++)o[i+s][n]=this;n++})});for(var t=this._getPrimaryHeaderRowIndex(),a=0;a<o[0].length;a++){var s,i=o[t][a],n=0;for(i.cells||(i.cells=[]);n<o.length;)i!==(s=o[n][a])&&(i.cells.push(s),s.headerCell=i),n++}this.headerMapping=o},e.prototype.refresh=function(){this._initCells(),this.$table.trigger(s.refresh,[this])},e.prototype.createToolbar=function(){var e=this.$table.prev().filter("."+a);e.length||(e=T("<div>").addClass(a).insertBefore(this.$table)),this.$toolbar=e,this.mode&&this.$toolbar.addClass("tablesaw-mode-"+this.mode)},e.prototype.destroy=function(){this.$table.prev().filter("."+a).each(function(){this.className=this.className.replace(/\btablesaw-mode\-\w*\b/gi,"")});var e=this.$table.attr("id");T(document).off("."+e),T(window).off("."+e),this.$table.trigger(s.destroy,[this]),this.$table.removeData(t)},T.fn[t]=function(){return this.each(function(){T(this).data(t)||new e(this)})};var n=T(_.document);n.on("enhance.tablesaw",function(e){B.mustard&&T(e.target).find("table").filter("[data-tablesaw],[data-tablesaw-mode],[data-tablesaw-sortable]")[t]()});var o,r,l=!1;n.on("scroll.tablesaw",function(){l=!0,_.clearTimeout(o),o=_.setTimeout(function(){l=!1},300)}),T(_).on("resize",function(){l||(_.clearTimeout(r),r=_.setTimeout(function(){n.trigger(s.resize)},150))})}(),s="tablesaw-cell-label",n="tablesaw-cell-content",a=e="tablesaw-stack",i="data-tablesaw-no-labels",o="data-tablesaw-hide-empty",(r=function(e,t){this.tablesaw=t,this.$table=T(e),this.labelless=this.$table.is("["+i+"]"),this.hideempty=this.$table.is("["+o+"]"),this.$table.data(a,this)}).prototype.init=function(){if(this.$table.addClass(e),!this.labelless){var a=this;this.$table.find("th, td").filter(function(){return!T(this).closest("thead").length}).filter(function(){return!(T(this).closest("tr").is("["+i+"]")||a.hideempty&&!T(this).html())}).each(function(){var i=T(document.createElement("b")).addClass(s),e=T(this);T(a.tablesaw._findPrimaryHeadersForCell(this)).each(function(e){var t=T(this.cloneNode(!0)),a=t.find(".tablesaw-sortable-btn");t.find(".tablesaw-sortable-arrow").remove();var s=t.find("[data-tablesaw-checkall]");s.closest("label").remove(),s.length?i=T([]):(0<e&&i.append(document.createTextNode(", ")),i.append(a.length?a[0].childNodes:t[0].childNodes))}),i.length&&!e.find("."+n).length&&e.wrapInner("<span class='"+n+"'></span>");var t=e.find("."+s);t.length?t.replaceWith(i):e.prepend(i)})}},r.prototype.destroy=function(){this.$table.removeClass(e),this.$table.find("."+s).remove(),this.$table.find("."+n).each(function(){T(this).replaceWith(this.childNodes)})},T(document).on(B.events.create,function(e,t){"stack"===t.mode&&new r(t.table,t).init()}).on(B.events.refresh,function(e,t){"stack"===t.mode&&T(t.table).data(a).init()}).on(B.events.destroy,function(e,t){"stack"===t.mode&&T(t.table).data(a).destroy()}),l="tablesawbtn",t={_create:function(){return T(this).each(function(){T(this).trigger("beforecreate."+l)[l]("_init").trigger("create."+l)})},_init:function(){var e=T(this),t=this.getElementsByTagName("select")[0];return t&&T(this).addClass("btn-select")[l]("_select",t),e},_select:function(e){var t=function(e,t){var a,s,i=T(t).find("option"),n=document.createElement("span"),o=!1;if(n.setAttribute("aria-hidden","true"),n.innerHTML="&#160;",i.each(function(){this.selected&&(n.innerHTML=this.text)}),s=e.childNodes,0<i.length){for(var r=0,l=s.length;r<l;r++)(a=s[r])&&"SPAN"===a.nodeName.toUpperCase()&&(e.replaceChild(n,a),o=!0);o||e.insertBefore(n,e.firstChild)}};t(this,e),T(this).on("change refresh",function(){t(this,e)})}},T.fn[l]=function(e,t,a,s){return this.each(function(){return e&&"string"==typeof e?T.fn[l].prototype[e].call(this,t,a,s):T(this).data(l+"active")?T(this):(T(this).data(l+"active",!0),void T.fn[l].prototype._create.call(this))})},T.extend(T.fn[l].prototype,t),c="tablesaw-coltoggle",(d=function(e){this.$table=T(e),this.$table.length&&(this.tablesaw=this.$table.data("tablesaw"),this.attributes={subrow:"data-tablesaw-subrow",ignorerow:"data-tablesaw-ignorerow"},this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.$headers=this.tablesaw._getPrimaryHeaderCells(),this.$table.data(c,this))}).prototype.init=function(){if(this.$table.length){var t,e,a,s,i,n,o=this;this.$table.addClass(this.classes.columnToggleTable),e=(t=this.$table.attr("id"))+"-popup",n=T("<div class='"+this.classes.columnBtnContain+"'></div>"),a=T("<a href='#"+e+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+B.i18n.columnBtnText+"</span></a>"),s=T("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+e+"'></div>"),i=T("<div class='btn-group'></div>");var r,l=!1;this.$headers.each(function(){var e=T(this),t=e.attr("data-tablesaw-priority"),a=o.$getCells(this);t&&"persist"!==t&&(a.addClass(o.classes.priorityPrefix+t),T("<label><input type='checkbox' checked>"+e.text()+"</label>").appendTo(i).children().first().data("tablesaw-header",this),l=!0)}),l||i.append("<label>"+B.i18n.columnsDialogError+"</label>"),i.appendTo(s),i.find('input[type="checkbox"]').on("change",function(e){var t=e.target.checked,a=o.getHeaderFromCheckbox(e.target),s=o.$getCells(a);s[t?"removeClass":"addClass"]("tablesaw-cell-hidden"),s[t?"addClass":"removeClass"]("tablesaw-cell-visible"),o.updateColspanIgnoredRows(t,T(a).add(a.cells)),o.$table.trigger("tablesawcolumns")}),a.appendTo(n),n.appendTo(this.$table.prev().filter("."+this.classes.toolbar)),a.on("click.tablesaw",function(e){e.preventDefault(),n.is(".visible")?c():(n.addClass("visible"),a.removeClass("down").addClass("up"),T(document).off("click."+t,c),window.clearTimeout(r),r=window.setTimeout(function(){T(document).on("click."+t,c)},15))}),s.appendTo(n),this.$menu=i,T(window).on(B.events.resize+"."+t,function(){o.refreshToggle()}),this.refreshToggle()}function c(e){e&&T(e.target).closest("."+o.classes.popup).length||(T(document).off("click."+t),a.removeClass("up").addClass("down"),n.removeClass("visible"))}},d.prototype.updateColspanIgnoredRows=function(o,r){this.$table.find("["+this.attributes.subrow+"],["+this.attributes.ignorerow+"]").each(function(){var e,t,a,s,i=T(this),n=i.find("td[colspan]").eq(0);!0===o||!1===o?(s=r.filter(function(){return this===n[0]}).length?o?1:-1:0,t=parseInt(n.attr("colspan"),10)+s):((a=n.data("original-colspan"))?t=a:(t=parseInt(n.attr("colspan"),10),n.data("original-colspan",t)),e=i.find("td").filter(function(){return this!==n[0]&&"none"===T(this).css("display")}).length,t-=o-e),n.attr("colspan",t)})},d.prototype.$getCells=function(e){var s=this;return T(e).add(e.cells).filter(function(){var e=T(this),t=e.parent(),a=e.is("[colspan]");return!(t.is("["+s.attributes.subrow+"]")||t.is("["+s.attributes.ignorerow+"]")&&a)})},d.prototype.getHeaderFromCheckbox=function(e){return T(e).data("tablesaw-header")},d.prototype.refreshToggle=function(){var a=this,s=0;this.$menu.find("input").each(function(){var e=a.getHeaderFromCheckbox(this),t="table-cell"===a.$getCells(e).eq(0).css("display");(this.checked=t)||s++}),this.updateColspanIgnoredRows(s)},d.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){T(this).removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},T(document).on(B.events.create,function(e,t){"columntoggle"===t.mode&&new d(t.table).init()}),T(document).on(B.events.destroy,function(e,t){"columntoggle"===t.mode&&T(t.table).data(c).destroy()}),function(){function b(e){var t=[];return T(e.childNodes).each(function(){var e=T(this);e.is("input, select")?t.push(e.val()):e.is(".tablesaw-cell-label")||t.push((e.text()||"").replace(/^\s+|\s+$/g,""))}),t.join("")}var h="tablesaw-sortable",r="data-tablesaw-sortable-col",c="data-tablesaw-sortable-default-col",p="data-tablesaw-sortable-numeric",w="data-tablesaw-subrow",g="data-tablesaw-ignorerow",d={head:h+"-head",ascend:h+"-ascending",descend:h+"-descending",switcher:h+"-switch",tableToolbar:"tablesaw-toolbar",sortButton:h+"-btn"},e={_create:function(e){return T(this).each(function(){if(T(this).data(h+"-init"))return!1;T(this).data(h+"-init",!0).trigger("beforecreate."+h)[h]("_init",e).trigger("create."+h)})},_init:function(){var i,n,e,t,s,a,o=T(this);function l(e){T.each(e,function(e,t){var a=T(t);a.removeAttr(c),a.removeClass(d.ascend),a.removeClass(d.descend)})}o.addClass(h),i=o.children().filter("thead").find("th["+r+"]"),e=i,T.each(e,function(e,t){T(t).addClass(d.head)}),t=i,s=function(e){if(!T(e.target).is("a[href]")){e.stopPropagation();var t=T(e.target).closest("["+r+"]"),a=e.data.col,s=i.index(t[0]);l(t.siblings()),t.is("."+d.descend)||!t.is("."+d.ascend)?(o[h]("sortBy",a,!0),s+="_asc"):(o[h]("sortBy",a),s+="_desc"),n&&n.find("select").val(s).trigger("refresh"),e.preventDefault()}},T.each(t,function(e,t){var a=T("<button class='"+d.sortButton+"'/>");a.on("click",{col:t},s),T(t).wrapInner(a).find("button").append("<span class='tablesaw-sortable-arrow'>")}),a=i,T.each(a,function(e,t){var a=T(t);a.is("["+c+"]")&&(a.is("."+d.descend)||a.addClass(d.ascend))}),o.is("[data-tablesaw-sortable-switch]")&&function(a){n=T("<div>").addClass(d.switcher).addClass(d.tableToolbar);var r=["<label>"+B.i18n.sort+":"];r.push('<span class="btn"><select>'),a.each(function(e){var t=T(this),a=t.is("["+c+"]"),s=t.is("."+d.descend),i=t.is("["+p+"]"),n=0;T(this.cells.slice(0,5)).each(function(){isNaN(parseInt(b(this),10))||n++});var o=5===n;i||t.attr(p,o?"":"false"),r.push("<option"+(a&&!s?" selected":"")+' value="'+e+'_asc">'+t.text()+" "+(o?"&#x2191;":"(A-Z)")+"</option>"),r.push("<option"+(a&&s?" selected":"")+' value="'+e+'_desc">'+t.text()+" "+(o?"&#x2193;":"(Z-A)")+"</option>")}),r.push("</select></span></label>"),n.html(r.join(""));var e=o.prev().filter(".tablesaw-bar"),t=e.children().eq(0);t.length?n.insertBefore(t):n.appendTo(e),n.find(".btn").tablesawbtn(),n.find("select").on("change",function(){var e=T(this).val().split("_"),t=a.eq(e[0]);l(t.siblings()),o[h]("sortBy",t.get(0),"asc"===e[1])})}(i)},sortRows:function(e,t,a,s,i){var n,o,r,l,c,d,h,u=(o=s.cells,r=i,l=[],T.each(o,function(e,t){var a=t.parentNode,s=T(a),i=s.next().filter("["+w+"]"),n=a.parentNode;s.is("["+w+"]")||n===r&&l.push({element:t,cell:b(t),row:a,subrow:i.length?i[0]:null,ignored:s.is("["+g+"]")})}),l),f=T(s).data("tablesaw-sort");return n=!(!f||"function"!=typeof f)&&f(a)||(c=a,d=T(s).is("["+p+"]")&&!T(s).is("["+p+'="false"]'),h=/[^\-\+\d\.]/g,c?function(e,t){return e.ignored||t.ignored?0:d?parseFloat(e.cell.replace(h,""))-parseFloat(t.cell.replace(h,"")):e.cell.toLowerCase()>t.cell.toLowerCase()?1:-1}:function(e,t){return e.ignored||t.ignored?0:d?parseFloat(t.cell.replace(h,""))-parseFloat(e.cell.replace(h,"")):e.cell.toLowerCase()<t.cell.toLowerCase()?1:-1}),function(e){var t,a,s=[];for(t=0,a=e.length;t<a;t++)s.push(e[t].row),e[t].subrow&&s.push(e[t].subrow);return s}(u.sort(n))},makeColDefault:function(e,t){var a=T(e);a.attr(c,"true"),t?(a.removeClass(d.descend),a.addClass(d.ascend)):(a.removeClass(d.ascend),a.addClass(d.descend))},sortBy:function(o,r){var l,c=T(this),d=c.data("tablesaw");d.$tbody.each(function(){var e,t,a,s=T(this),i=d.getBodyRows(this),n=d.headerMapping[0];for(t=0,a=n.length;t<a;t++)if(n[t]===o){l=t;break}for(t=0,a=(e=c[h]("sortRows",i,l,r,o,this)).length;t<a;t++)s.append(e[t])}),c[h]("makeColDefault",o,r),c.trigger("tablesaw-sorted")}};T.fn[h]=function(e){var t,a=Array.prototype.slice.call(arguments,1);return e&&"string"==typeof e?void 0!==(t=T.fn[h].prototype[e].apply(this[0],a))?t:T(this):(T(this).data(h+"-active")||(T(this).data(h+"-active",!0),T.fn[h].prototype._create.call(this,e)),T(this))},T.extend(T.fn[h].prototype,e),T(document).on(B.events.create,function(e,t){t.$table.is("table[data-tablesaw-sortable]")&&t.$table[h]()})}(),function(){var y="tablesaw-bar",C="disabled",$="tablesaw-fix-persist",k="tablesaw-all-cols-visible",x="data-tablesaw-no-touch";function a(c,r){var e=T("<div class='tablesaw-advance'></div>"),a=T("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(e),s=T("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(e),l=c._getPrimaryHeaderCells(),n=l.not('[data-tablesaw-priority="persist"]'),d=[],o=T(document.head||"head"),h=r.attr("id");if(!l.length)throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");function u(e){return T(e.cells).add(e)}function f(e){u(e).removeClass("tablesaw-cell-hidden")}function b(e){u(e).addClass("tablesaw-cell-hidden")}function i(){var e,a="#"+h+".tablesaw-swipe ",s=[],i=r.width(),n=[];if(l.each(function(e){var t;T(this).is('[data-tablesaw-priority="persist"]')&&(t=this.offsetWidth)<.75*i&&(n.push(e+"-"+t),s.push(a+" .tablesaw-cell-persist:nth-child("+(e+1)+") { width: "+t+"px; }"))}),e=n.join("_"),s.length){r.addClass($);var t=T("#"+h+"-persist");t.length&&t.data("tablesaw-hash")===e||(t.remove(),T("<style>"+s.join("\n")+"</style>").attr("id",h+"-persist").data("tablesaw-hash",e).appendTo(o))}}function p(){var s,i=[];return n.each(function(e){var t=T(this),a="none"===t.css("display")||t.is(".tablesaw-cell-hidden");if(a||s){if(a&&s)return i[1]=e,!1}else s=!0,i[0]=e}),i}function w(){var e=p();return[e[1]-1,e[0]-1]}function g(e){return-1<e[1]&&e[1]<n.length}function v(){if(!(e=r.attr("data-tablesaw-swipe-media"))||"matchMedia"in _&&_.matchMedia(e).matches){var e,a=r.parent().width(),s=[],i=0,n=[],o=l.length;l.each(function(e){var t=T(this).is('[data-tablesaw-priority="persist"]');s.push(t),i+=d[e],n.push(i),(t||a<i)&&o--});var t=0===o;l.each(function(e){s[e]?u(this).addClass("tablesaw-cell-persist"):n[e]<=a||t?(t=!1,f(this)):b(this)}),r.removeClass($),T("#"+h+"-persist").remove(),r.trigger("tablesawcolumns")}}function m(e){var t=e?p():w();g(t)&&(isNaN(t[0])&&(t[0]=e?0:n.length-1),i(),b(n.get(t[0])),f(n.get(t[1])),r.trigger("tablesawcolumns"))}function t(e,t){return(e.touches||e.originalEvent.touches)[0][t]}r.addClass("tablesaw-swipe"),l.each(function(){var e=this.offsetWidth;d.push(e)}),e.appendTo(r.prev().filter(".tablesaw-bar")),h||(h="tableswipe-"+Math.round(1e4*Math.random()),r.attr("id",h)),a.add(s).on("click",function(e){m(!!T(e.target).closest(s).length),e.preventDefault()}),r.is("["+x+"]")||r.on("touchstart.swipetoggle",function(e){var i,n,o=t(e,"pageX"),r=t(e,"pageY"),l=window.pageYOffset;T(_).off(B.events.resize,v),T(this).on("touchmove.swipetoggle",function(e){i=t(e,"pageX"),n=t(e,"pageY")}).on("touchend.swipetoggle",function(){var e=c.getConfig({swipeHorizontalThreshold:30,swipeVerticalThreshold:30}),t=e.swipe?e.swipe.verticalThreshold:e.swipeVerticalThreshold,a=e.swipe?e.swipe.horizontalThreshold:e.swipeHorizontalThreshold,s=Math.abs(window.pageYOffset-l)>=t;Math.abs(n-r)>=t||s||(i-o<-1*a&&m(!0),a<i-o&&m(!1)),window.setTimeout(function(){T(_).on(B.events.resize,v)},300),T(this).off("touchmove.swipetoggle touchend.swipetoggle")})}),r.on("tablesawcolumns.swipetoggle",function(){var e=g(w()),t=g(p());a[e?"removeClass":"addClass"](C),s[t?"removeClass":"addClass"](C),a.closest("."+y)[e||t?"removeClass":"addClass"](k)}).on("tablesawnext.swipetoggle",function(){m(!0)}).on("tablesawprev.swipetoggle",function(){m(!1)}).on(B.events.destroy+".swipetoggle",function(){var e=T(this);e.removeClass("tablesaw-swipe"),e.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),T(_).off(B.events.resize,v),e.off(".swipetoggle")}).on(B.events.refresh,function(){d=[],l.each(function(){var e=this.offsetWidth;d.push(e)}),v()}),v(),T(_).on(B.events.resize,v)}T(document).on(B.events.create,function(e,t){"swipe"===t.mode&&a(t,t.$table)})}(),function(){var o={init:"data-tablesaw-minimap"};function a(a){var s=T('<div class="tablesaw-advance minimap">'),i=T('<ul class="tablesaw-advance-dots">').appendTo(s),n="tablesaw-advance-dots-hide";function t(){if(!(e=a.attr(o.init))||_.matchMedia&&_.matchMedia(e).matches){var e;s.css("display","block");var t=i.find("li").removeClass(n);a.find("thead th").each(function(e){"none"===T(this).css("display")&&t.eq(e).addClass(n)})}else s.css("display","none")}a.find("thead th").each(function(){i.append("<li><i></i></li>")}),s.appendTo(a.prev().filter(".tablesaw-bar")),t(),T(_).on(B.events.resize,t),a.on("tablesawcolumns.minimap",function(){t()}).on(B.events.destroy+".minimap",function(){var e=T(this);e.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),T(_).off(B.events.resize,t),e.off(".minimap")})}T(document).on(B.events.create,function(e,t){"swipe"!==t.mode&&"columntoggle"!==t.mode||!t.$table.is("[ "+o.init+"]")||a(t.$table)})}(),h={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],init:function(e){var t,a=T(e),s=a.attr(h.attributes.excludeMode),i=a.prev().filter(".tablesaw-bar"),n=T("<div>").addClass(h.classes.main+" "+h.classes.toolbar),o=["<label>"+B.i18n.columns+":"],r=a.attr("data-tablesaw-mode");o.push('<span class="btn"><select>');for(var l=0,c=h.modes.length;l<c;l++)s&&s.toLowerCase()===h.modes[l]||((t=r===h.modes[l])&&h.modes[l],o.push("<option"+(t?" selected":"")+' value="'+h.modes[l]+'">'+B.i18n.modes[l]+"</option>"));o.push("</select></span></label>"),n.html(o.join(""));var d=i.find(".tablesaw-advance").eq(0);d.length?n.insertBefore(d):n.appendTo(i),n.find(".btn").tablesawbtn(),n.find("select").on("change",h.onModeChange)},onModeChange:function(){var e=T(this),t=e.closest("."+h.classes.main),a=e.closest(".tablesaw-bar").next().eq(0),s=e.val();t.remove(),a.data("tablesaw").destroy(),a.attr("data-tablesaw-mode",s),a.tablesaw()}},T(_.document).on(B.events.create,function(e,t){t.$table.is(h.selectors.init)&&h.init(t.table)}),function(){var n="tablesawCheckAll";function a(e){this.tablesaw=e,this.$table=e.$table,this.attr="data-tablesaw-checkall",this.checkAllSelector="["+this.attr+"]",this.forceCheckedSelector="["+this.attr+"-checked]",this.forceUncheckedSelector="["+this.attr+"-unchecked]",this.checkboxSelector='input[type="checkbox"]',this.$triggers=null,this.$checkboxes=null,this.$table.data(n)||(this.$table.data(n,this),this.init())}a.prototype._filterCells=function(e){return e.filter(function(){return!T(this).closest("tr").is("[data-tablesaw-subrow],[data-tablesaw-ignorerow]")})},a.prototype.getCheckboxesForButton=function(e){return this._filterCells(T(T(e).attr(this.attr)))},a.prototype.getCheckboxesForCheckbox=function(e){return this._filterCells(T(T(e).closest("th")[0].cells)).find(this.checkboxSelector).not(this.checkAllSelector)},a.prototype.init=function(){var e=this;this.$table.find(this.checkAllSelector).each(function(){T(this).is(e.checkboxSelector)?e.addCheckboxEvents(this):e.addButtonEvents(this)})},a.prototype.addButtonEvents=function(e){var i=this;T(e).on("click",function(e){e.preventDefault();var t,a=i.getCheckboxesForButton(this),s=!0;a.each(function(){this.checked||(s=!1)}),t=!!T(this).is(i.forceCheckedSelector)||!T(this).is(i.forceUncheckedSelector)&&!s,a.each(function(){this.checked=t,T(this).trigger("change."+n)})})},a.prototype.addCheckboxEvents=function(a){var t=this;T(a).on("change",function(){var e=this.checked;t.getCheckboxesForCheckbox(this).each(function(){this.checked=e})});var s=t.getCheckboxesForCheckbox(a);s.on("change."+n,function(){var e=0;s.each(function(){this.checked&&e++});var t=e===s.length;a.checked=t,a.indeterminate=0!==e&&!t})},T(document).on(B.events.create,function(e,t){new a(t)})}()});