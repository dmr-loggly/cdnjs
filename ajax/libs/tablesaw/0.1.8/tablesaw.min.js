!function(t){var e=document.createElement("div"),a=e.getElementsByTagName("i"),s=t(document.documentElement);e.innerHTML="\x3c!--[if lte IE 8]><i></i><![endif]--\x3e",a[0]&&s.addClass("ie-lte8"),"querySelector"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini&&(s.addClass("tablesaw-enhanced"),t(function(){t(document).trigger("enhance.tablesaw")}))}(jQuery),function(o){var a="table",e="tablesaw-bar",s="tablesawcreate",n="tablesawdestroy",t="tablesawrefresh",i=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=o(t),this.mode=this.$table.attr("data-mode")||"stack",this.init()};i.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",a+"-"+Math.round(1e4*Math.random())),this.createToolbar();var t=this._initCells();this.$table.trigger(s,[this,t])},i.prototype._initCells=function(){var n,i=this.table.querySelectorAll("thead tr"),l=this;return o(i).each(function(){var s=0;o(this).children().each(function(){var t=parseInt(this.getAttribute("colspan"),10),e=":nth-child("+(s+1)+")";if(n=s+1,t)for(var a=0;a<t-1;a++)e+=", :nth-child("+(++s+1)+")";this.cells=l.$table.find("tr").not(o(i).eq(0)).not(this).children(e),s++})}),n},i.prototype.refresh=function(){this._initCells(),this.$table.trigger(t)},i.prototype.createToolbar=function(){var t=this.$table.prev("."+e);t.length||(t=o("<div>").addClass(e).insertBefore(this.$table)),this.$toolbar=t,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},i.prototype.destroy=function(){this.$table.prev("."+e).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var t=this.$table.attr("id");o(document).unbind("."+t),o(window).unbind("."+t),this.$table.trigger(n,[this]),this.$table.removeAttr("data-mode"),this.$table.removeData(a)},o.fn[a]=function(){return this.each(function(){var t=o(this);if(!t.data(a)){var e=new i(this);t.data(a,e)}})},o(document).on("enhance.tablesaw",function(t){o(t.target).find("table[data-mode],table[data-sortable]")[a]()})}(jQuery),function(t,c,e){var a="tablesaw-stack",d="tablesaw-cell-label",h="tablesaw-cell-content",s="tablesaw-stack",u="data-no-labels",n="data-hide-empty",i=function(t){this.$table=c(t),this.labelless=this.$table.is("["+u+"]"),this.hideempty=this.$table.is("["+n+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(s,this)};i.prototype.init=function(o){if(this.$table.addClass(a),!this.labelless){var t=c(this.allHeaders),r=this.hideempty;t.each(function(){var t=c(this),e=c(this.cells).filter(function(){return!(c(this).parent().is("["+u+"]")||r&&c(this).is(":empty"))}),a=e.not(this).filter("thead th").length&&" tablesaw-cell-label-top",s=t.find(".tablesaw-sortable-btn"),n=s.length?s.html():t.html();if(""!==n)if(a){var i=parseInt(c(this).attr("colspan"),10),l="";i&&(l="td:nth-child("+i+"n + "+o+")"),e.filter(l).prepend("<b class='"+d+a+"'>"+n+"</b>")}else e.wrapInner("<span class='"+h+"'></span>"),e.prepend("<b class='"+d+"'>"+n+"</b>")})}},i.prototype.destroy=function(){this.$table.removeClass(a),this.$table.find("."+d).remove(),this.$table.find("."+h).remove()},c(document).on("tablesawcreate",function(t,e,a){"stack"===e.mode&&new i(e.table).init(a)}),c(document).on("tablesawdestroy",function(t,e){"stack"===e.mode&&c(e.table).data(s).destroy()})}(0,jQuery),function(r){var n="tablesawbtn",t={_create:function(){return r(this).each(function(){r(this).trigger("beforecreate."+n)[n]("_init").trigger("create."+n)})},_init:function(){var t=r(this),e=this.getElementsByTagName("select")[0];return e&&r(this).addClass("btn-select")[n]("_select",e),t},_select:function(t){var e=function(t,e){var a,s,n,i=r(e).find("option");if(i.each(function(){this.selected&&(a=document.createTextNode(this.text))}),n=t.childNodes,0<i.length)for(var l=0,o=n.length;l<o;l++)(s=n[l])&&3===s.nodeType&&t.replaceChild(a,s)};e(this,t),r(this).bind("change refresh",function(){e(this,t)})}};r.fn[n]=function(t,e,a,s){return this.each(function(){return t&&"string"==typeof t?r.fn[n].prototype[t].call(this,e,a,s):r(this).data(n+"active")?r(this):(r(this).data(n+"active",!0),void r.fn[n].prototype._create.call(this))})},r.extend(r.fn[n].prototype,t),r(document).on("enhance",function(t){r(".btn",t.target)[n]()})}(jQuery),function(t,d,e){var a=function(t){this.$table=d(t),this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.i18n={columnBtnText:"Columns",columnsDialogError:"No eligible columns."},this.headers=this.$table.find("tr:first > th"),this.$table.data("tablesaw-coltoggle",this)};a.prototype.init=function(){var e,t,a,s,n,i,l=this;this.$table.addClass(this.classes.columnToggleTable),t=(e=this.$table.attr("id"))+"-popup",i=d("<div class='"+this.classes.columnBtnContain+"'></div>"),a=d("<a href='#"+t+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+this.i18n.columnBtnText+"</span></a>"),s=d("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+t+"'></div>"),n=d("<div class='btn-group'></div>");var o,r=!1;function c(t){t&&d(t.target).closest("."+l.classes.popup).length||(d(document).unbind("click."+e),a.removeClass("up").addClass("down"),i.removeClass("visible"))}d(this.headers).not("td").each(function(){var t=d(this),e=t.attr("data-priority"),a=t.add(this.cells);e&&"persist"!==e&&(a.addClass(l.classes.priorityPrefix+e),d("<label><input type='checkbox' checked>"+t.text()+"</label>").appendTo(n).children(0).data("cells",a),r=!0)}),r||n.append("<label>"+this.i18n.columnsDialogError+"</label>"),n.appendTo(s),n.find('input[type="checkbox"]').on("change",function(t){var e=t.target.checked;d(t.target).data("cells").toggleClass("tablesaw-cell-hidden",!e).toggleClass("tablesaw-cell-visible",e),l.$table.trigger("tablesawcolumns")}),a.appendTo(i),i.appendTo(this.$table.prev("."+this.classes.toolbar)),a.on("click.tablesaw",function(t){t.preventDefault(),i.is(".visible")?c():(i.addClass("visible"),a.removeClass("down").addClass("up"),d(document).unbind("click."+e,c),window.clearTimeout(o),o=window.setTimeout(function(){d(document).one("click."+e,c)},15))}),s.appendTo(i),this.$menu=n,d(window).on("resize."+e,function(){l.refreshToggle()}),this.refreshToggle()},a.prototype.refreshToggle=function(){this.$menu.find("input").each(function(){var t=d(this);this.checked="table-cell"===t.data("cells").eq(0).css("display")})},a.prototype.refreshPriority=function(){var s=this;d(this.headers).not("td").each(function(){var t=d(this),e=t.attr("data-priority"),a=t.add(this.cells);e&&"persist"!==e?a.addClass(s.classes.priorityPrefix+e):a.each(function(){this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})})},a.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){d(this).removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},d(document).on("tablesawcreate",function(t,e){"columntoggle"===e.mode&&new a(e.table).init()}),d(document).on("tablesawdestroy",function(t,e){"columntoggle"===e.mode&&d(e.table).data("tablesaw-coltoggle").destroy()})}(0,jQuery),function($,T,t){function a(o){var t=T("<div class='tablesaw-advance'></div>"),e=T("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(t),a=T("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(t),s="disabled",i="tablesaw-fix-persist",r=o.find("thead th"),l=r.not('[data-priority="persist"]'),c=[],d=T(document.head||"head"),h=o.attr("id"),u=T("html").is(".ie-lte8");if(!r.length)throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");function b(t){return T(t.cells).add(t)}function p(t){b(t).removeClass("tablesaw-cell-hidden")}function f(t){b(t).addClass("tablesaw-cell-hidden")}function m(){o.removeClass(i),T("#"+h+"-persist").remove()}function n(){var a="#"+h+" ",s=[],n=o.width();r.each(function(t){var e;T(this).is('[data-priority="persist"]')&&(e=T(this).outerWidth())<.75*n&&s.push(a+" .tablesaw-cell-persist:nth-child("+(t+1)+") { width: "+e+"px; }")}),m(),o.addClass(i),d.append(T("<style>"+s.join("\n")+"</style>").attr("id",h+"-persist"))}function v(){var s,n=[];return l.each(function(t){var e=T(this),a="none"===e.css("display")||e.is(".tablesaw-cell-hidden");if(a||s){if(a&&s)return n[1]=t,!1}else s=!0,n[0]=t}),n}function w(){var t=v();return[t[1]-1,t[0]-1]}function g(t){return-1<t[1]&&t[1]<l.length}function y(){var a=o.parent().width(),s=[],n=0,i=[],l=r.length;r.each(function(t){var e=T(this).is('[data-priority="persist"]');s.push(e),n+=c[t]+(e?0:20),i.push(n),(e||a<n)&&l--});var e=0===l;r.each(function(t){s[t]?b(this).addClass("tablesaw-cell-persist"):i[t]<=a||e?(e=!1,p(this)):f(this)}),u||m(),o.trigger("tablesawcolumns")}function C(t){var e=t?v():w();g(e)&&(isNaN(e[0])&&(e[0]=t?0:l.length-1),u||n(),f(l.get(e[0])),p(l.get(e[1])),o.trigger("tablesawcolumns"))}o.css("width","auto"),r.each(function(){c.push(T(this).outerWidth())}),o.css("width",""),t.appendTo(o.prev(".tablesaw-bar")),o.addClass("tablesaw-swipe"),h||(h="tableswipe-"+Math.round(1e4*Math.random()),o.attr("id",h)),e.add(a).click(function(t){C(!!T(t.target).closest(a).length),t.preventDefault()}),o.bind("touchstart.swipetoggle",function(t){var e,a,s=(t.touches||t.originalEvent.touches)[0].pageX,n=(t.touches||t.originalEvent.touches)[0].pageY;T(this).bind("touchmove",function(t){e=(t.touches||t.originalEvent.touches)[0].pageX,a=(t.touches||t.originalEvent.touches)[0].pageY,15<Math.abs(e-s)&&Math.abs(a-n)<20&&t.preventDefault()}).bind("touchend.swipetoggle",function(){e-s<15&&C(!0),-15<e-s&&C(!1),T(this).unbind("touchmove touchend")})}).bind("tablesawcolumns.swipetoggle",function(){e[g(w())?"removeClass":"addClass"](s),a[g(v())?"removeClass":"addClass"](s)}).bind("tablesawnext.swipetoggle",function(){C(!0)}).bind("tablesawprev.swipetoggle",function(){C(!1)}).bind("tablesawdestroy.swipetoggle",function(){var t=T(this);t.removeClass("tablesaw-swipe"),t.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),T($).off("resize",y),t.unbind(".swipetoggle")}),y(),T($).on("resize",y)}T(document).on("tablesawcreate",function(t,e){"swipe"===e.mode&&a(e.$table)})}(this,jQuery),function(h){function u(t){return h.map(t.childNodes,function(t){var e=h(t);return e.is("input, select")?e.val():e.hasClass("tablesaw-cell-label")?void 0:h.trim(e.text())}).join("")}var r="tablesaw-sortable",c="sortable",d={head:c+"-head",ascend:c+"-ascending",descend:c+"-descending",switcher:r+"-switch",tableToolbar:"tablesaw-toolbar",sortButton:r+"-btn"},b="Sort",t={_create:function(t){return h(this).each(function(){if(h(this).data("init"+c))return!1;h(this).data("init"+c,!0).trigger("beforecreate."+c)[c]("_init",t).trigger("create."+c)})},_init:function(){var n,i,t,e,s,a,l=h(this),o=function(t){h.each(t,function(t,e){var a=h(e);a.removeAttr("data-sortable-default-col"),a.removeClass(d.ascend),a.removeClass(d.descend)})};l.addClass(r),n=l.find("thead th[data-"+c+"-col]"),t=n,h.each(t,function(t,e){h(e).addClass(d.head)}),e=n,s=function(t){if(!h(t.target).is("a[href]")){t.stopPropagation();var e=h(this).parent(),a=t.data.col,s=n.index(e);o(e.siblings()),e.hasClass(d.descend)?(l[c]("sortBy",a,!0),s+="_asc"):(l[c]("sortBy",a),s+="_desc"),i&&i.find("select").val(s).trigger("refresh"),t.preventDefault()}},h.each(e,function(t,e){var a=h("<button class='"+d.sortButton+"'/>");a.bind("click",{col:e},s),h(e).wrapInner(a)}),a=n,h.each(a,function(t,e){var a=h(e);a.is("[data-sortable-default-col]")&&(a.hasClass(d.descend)||a.addClass(d.ascend))}),l.is("[data-sortable-switch]")&&function(a){i=h("<div>").addClass(d.switcher).addClass(d.tableToolbar).html(function(){var i=["<label>"+b+":"];return i.push('<span class="btn btn-small">&#160;<select>'),a.each(function(t){var e=h(this),a=e.is("[data-sortable-default-col]"),s=e.hasClass(d.descend),n=!1;h(this.cells).slice(0,3).each(function(){if(!isNaN(parseInt(u(this),10)))return!(n=!0)}),i.push("<option"+(a&&!s?" selected":"")+' value="'+t+'_asc">'+e.text()+" "+(n?"↑":"(A-Z)")+"</option>"),i.push("<option"+(a&&s?" selected":"")+' value="'+t+'_desc">'+e.text()+" "+(n?"↓":"(Z-A)")+"</option>")}),i.push("</select></span></label>"),i.join("")});var t=l.prev(".tablesaw-bar"),e=t.children().eq(0);e.length?i.insertBefore(e):i.appendTo(t),i.find(".btn").tablesawbtn(),i.find("select").on("change",function(){var t=h(this).val().split("_"),e=a.eq(t[0]);o(e.siblings()),l.sortable("sortBy",e.get(0),"asc"===t[1])})}(n,l.find("tbody tr:nth-child(-n+3)"))},getColumnNumber:function(t){return h(t).prevAll().length},getTableRows:function(){return h(this).find("tbody tr")},sortRows:function(t,a,e,s){var n,i,l,o,r,c,d;return l=t,o=[],h.each(l,function(t,e){o.push({cell:u(h(e).children().get(a)),rowNum:t})}),n=o,r=e,c=h(s).is("[data-sortable-numeric]"),d=/[^\d\.]/g,i=r?function(t,e){return c||!isNaN(parseFloat(t.cell))?parseFloat(t.cell.replace(d,""))-parseFloat(e.cell.replace(d,"")):t.cell.toLowerCase()>e.cell.toLowerCase()?1:-1}:function(t,e){return c||!isNaN(parseFloat(t.cell))?parseFloat(e.cell.replace(d,""))-parseFloat(t.cell.replace(d,"")):t.cell.toLowerCase()<e.cell.toLowerCase()?1:-1},t=function(t,e){var a,s,n,i=[];for(a=0,s=t.length;a<s;a++)n=t[a].rowNum,i.push(e[n]);return i}(n.sort(i),t)},replaceTableRows:function(t){h(this).find("tbody").html(t)},makeColDefault:function(t,e){var a=h(t);a.attr("data-sortable-default-col","true"),e?(a.removeClass(d.descend),a.addClass(d.ascend)):(a.removeClass(d.ascend),a.addClass(d.descend))},sortBy:function(t,e){var a,s,n=h(this);a=n[c]("getColumnNumber",t),s=n[c]("getTableRows"),s=n[c]("sortRows",s,a,e,t),n[c]("replaceTableRows",s),n[c]("makeColDefault",t,e)}};h.fn[c]=function(t){var e,a=Array.prototype.slice.call(arguments,1);return t&&"string"==typeof t?void 0!==(e=h.fn[c].prototype[t].apply(this[0],a))?e:h(this):(h(this).data(c+"data")||(h(this).data(c+"active",!0),h.fn[c].prototype._create.call(this,t)),h(this))},h.extend(h.fn[c].prototype,t),h(document).on("tablesawcreate",function(t,e){e.$table.is("table[data-sortable]")&&e.$table[c]()})}(jQuery),function(l,o,t){var r={init:"data-minimap"};function a(a){var s=o('<div class="tablesaw-advance minimap">'),n=o('<ul class="tablesaw-advance-dots">').appendTo(s),i="tablesaw-advance-dots-hide";function e(){if(!(t=a.attr(r.init))||l.matchMedia&&l.matchMedia(t).matches){var t;s.show();var e=n.find("li").removeClass(i);a.find("thead th").each(function(t){"none"===o(this).css("display")&&e.eq(t).addClass(i)})}else s.hide()}a.find("thead th").each(function(){n.append("<li><i></i></li>")}),s.appendTo(a.prev(".tablesaw-bar")),e(),o(l).on("resize",e),a.bind("tablesawcolumns.minimap",function(){e()}).bind("tablesawdestroy.minimap",function(){var t=o(this);t.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),o(l).off("resize",e),t.unbind(".minimap")})}o(document).on("tablesawcreate",function(t,e){"swipe"!==e.mode&&"columntoggle"!==e.mode||!e.$table.is("[ "+r.init+"]")||a(e.$table)})}(this,jQuery),function(t,n){var o={selectors:{init:"table[data-mode-switch]"},attributes:{excludeMode:"data-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s'},init:function(t){var i=n(t),l=i.attr(o.attributes.excludeMode),e=i.prev(".tablesaw-bar"),a=n("<div>").addClass(o.classes.main+" "+o.classes.toolbar).html(function(){var t,e=["<label>"+o.i18n.columns+":"],a=i.attr("data-mode");e.push('<span class="btn btn-small">&#160;<select>');for(var s=0,n=o.modes.length;s<n;s++)l&&l.toLowerCase()===o.modes[s]||((t=a===o.modes[s])&&o.modes[s],e.push("<option"+(t?" selected":"")+' value="'+o.modes[s]+'">'+o.i18n.modes[s]+"</option>"));return e.push("</select></span></label>"),e.join("")}),s=e.find(".tablesaw-advance").eq(0);s.length?a.insertBefore(s):a.appendTo(e),a.find(".btn").tablesawbtn(),a.find("select").bind("change",o.onModeChange)},onModeChange:function(){var t=n(this),e=t.closest("."+o.classes.main),a=t.closest(".tablesaw-bar").nextUntil(a).eq(0),s=t.val();e.remove(),a.data("table").destroy(),a.attr("data-mode",s),a.table()}};n(t.document).on("tablesawcreate",function(t,e){e.$table.is(o.selectors.init)&&o.init(e.table)})}(this,jQuery);