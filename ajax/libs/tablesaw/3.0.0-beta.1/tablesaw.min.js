!function(t,w){function y(t,e){var n,a=typeof t;if(!t)return new s([]);if(t.call)return y.ready(t);if(t.constructor===s&&!e)return t;if("string"!==a||0!==t.indexOf("<"))return"string"===a?e?y(e).find(t):(n=document.querySelectorAll(t),new s(n,t)):"[object Array]"===Object.prototype.toString.call(a)||window.NodeList&&t instanceof window.NodeList?new s(t,t):t.constructor===Array?new s(t,t):new s([t],t);var i=document.createElement("div");return i.innerHTML=t,y(i).children().each(function(){i.removeChild(this)})}var s=function(t,e){this.length=0,this.selector=e,y.merge(this,t)};s.prototype.reverse=[].reverse,y.fn=s.prototype,y.Shoestring=s,y.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},y.merge=function(t,e){var n,a,i;for(n=+e.length,a=0,i=t.length;a<n;a++)t[i++]=e[a];return t.length=i,t},(window.shoestring=y).fn.each=function(t){return y.each(this,t)},y.each=function(t,e){for(var n=0,a=t.length;n<a&&!1!==e.call(t[n],n,t[n]);n++);return t},y.inArray=function(t,e){for(var n=-1,a=0,i=e.length;a<i;a++)e.hasOwnProperty(a)&&e[a]===t&&(n=a);return n},y.ready=function(t){return e&&t?t.call(document):t?n.push(t):a(),[document]};var r,e=!(y.fn.ready=function(t){return y.ready(t),this}),n=[],a=function(){if(!e){for(;n.length;)n.shift().call(document);e=!0}};function o(t,e){var n=!1;return t.each(function(){for(var t=0;t<e.length;)this===e[t]&&(n=!0),t++}),n}window.addEventListener||(window.addEventListener=function(t,e){return window.attachEvent("on"+t,e)}),(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?a():(document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),document.addEventListener("readystatechange",a,!1)):(document.attachEvent("DOMContentLoaded",a),document.attachEvent("onreadystatechange",a)),window.addEventListener("load",a,!1)),y.fn.is=function(a){var t,i=!1,s=this;return"string"!=typeof a?o(this,a.length&&a[0]?a:[a]):((t=this.parent()).length||(t=y(document)),t.each(function(t,e){var n;n=e.querySelectorAll(a),i=o(s,n)}),i)},y.fn.data=function(t,e){return t===w?this[0]?this[0].shoestringData||{}:w:e!==w?this.each(function(){this.shoestringData||(this.shoestringData={}),this.shoestringData[t]=e}):this[0]&&this[0].shoestringData?this[0].shoestringData[t]:void 0},y.fn.removeData=function(t){return this.each(function(){t!==w&&this.shoestringData?(this.shoestringData[t]=w,delete this.shoestringData[t]):this[0].shoestringData={}})},(window.$=y).fn.addClass=function(t){var n=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t=0,e=n.length;t<e;t++)this.className===w||""!==this.className&&this.className.match(new RegExp("(^|\\s)"+n[t]+"($|\\s)"))||(this.className+=" "+n[t])})},y.fn.add=function(t){var e=[];return this.each(function(){e.push(this)}),y(t).each(function(){e.push(this)}),y(e)},y.fn.append=function(a){return"string"!=typeof a&&a.nodeType===w||(a=y(a)),this.each(function(t){for(var e=0,n=a.length;e<n;e++)this.appendChild(0<t?a[e].cloneNode(!0):a[e])})},y.fn.appendTo=function(t){return this.each(function(){y(t).append(this)})},y.fn.attr=function(e,n){var a="string"==typeof e;return n===w&&a?this[0]?this[0].getAttribute(e):w:this.each(function(){if(a)this.setAttribute(e,n);else for(var t in e)e.hasOwnProperty(t)&&this.setAttribute(t,e[t])})},y.fn.before=function(a){return"string"!=typeof a&&a.nodeType===w||(a=y(a)),this.each(function(t){for(var e=0,n=a.length;e<n;e++)this.parentNode.insertBefore(0<t?a[e].cloneNode(!0):a[e],this)})},y.fn.children=function(){var t,e,n=[];return this.each(function(){for(t=this.children,e=-1;e++<t.length-1;)-1===y.inArray(t[e],n)&&n.push(t[e])}),y(n)},y.fn.closest=function(e){var n=[];return e&&this.each(function(){var t;if(y(t=this).is(e))n.push(this);else for(;t.parentElement;){if(y(t.parentElement).is(e)){n.push(t.parentElement);break}t=t.parentElement}}),y(n)},y.cssExceptions={float:["cssFloat","styleFloat"]},function(){function o(t,e,n){t.document;var a,i=t.currentStyle[e].match(/([\d\.]+)(%|cm|em|in|mm|pc|pt|)/)||[0,0,""],s=i[1],r=i[2];return n=n?/%|em/.test(r)&&t.parentElement?o(t.parentElement,"fontSize",null):16:n,a="fontSize"===e?n:/width/i.test(e)?t.clientWidth:t.clientHeight,"%"===r?s/100*a:"cm"===r?.3937*s*96:"em"===r?s*n:"in"===r?96*s:"mm"===r?.3937*s*96/10:"pc"===r?12*s*96/72:"pt"===r?96*s/72:s}function r(t,e){var n="border"===e?"Width":"",a=e+"Top"+n,i=e+"Right"+n,s=e+"Bottom"+n,r=e+"Left"+n;t[e]=(t[a]===t[i]&&t[a]===t[s]&&t[a]===t[r]?[t[a]]:t[a]===t[s]&&t[r]===t[i]?[t[a],t[i]]:t[r]===t[i]?[t[a],t[i],t[s]]:[t[a],t[i],t[s],t[r]]).join(" ")}function e(t){var e,n=this,a=t.currentStyle,i=o(t,"fontSize"),s=function(t){return"-"+t.toLowerCase()};for(e in a)if(Array.prototype.push.call(n,"styleFloat"===e?"float":e.replace(/[A-Z]/,s)),"width"===e)n[e]=t.offsetWidth+"px";else if("height"===e)n[e]=t.offsetHeight+"px";else if("styleFloat"===e)n.float=a[e];else if(/margin.|padding.|border.+W/.test(e)&&"auto"!==n[e])n[e]=Math.round(o(t,e,i))+"px";else if(/^outline/.test(e))try{n[e]=a[e]}catch(t){n.outlineColor=a.color,n.outlineStyle=n.outlineStyle||"none",n.outlineWidth=n.outlineWidth||"0px",n.outline=[n.outlineColor,n.outlineWidth,n.outlineStyle].join(" ")}else n[e]=a[e];r(n,"margin"),r(n,"padding"),r(n,"border"),n.fontSize=Math.round(i)+"px"}e.prototype={constructor:e,getPropertyPriority:function(){throw new Error("NotSupportedError: DOM Exception 9")},getPropertyValue:function(t){return this[t.replace(/-\w/g,function(t){return t[1].toUpperCase()})]},item:function(t){return this[t]},removeProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},setProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},getPropertyCSSValue:function(){throw new Error("NotSupportedError: DOM Exception 9")}},window.getComputedStyle||(window.getComputedStyle=function(t){return new e(t)},window.Window&&(window.Window.prototype.getComputedStyle=window.getComputedStyle))}(),function(){var r=y.cssExceptions;function o(t,e){return window.getComputedStyle(t,null).getPropertyValue(e)}var l=["","-webkit-","-ms-","-moz-","-o-","-khtml-"];y._getStyle=function(t,e){var n,a,i,s;if(r[e])for(i=0,s=r[e].length;i<s;i++)if(a=o(t,r[e][i]))return a;for(i=0,s=l.length;i<s;i++)if(a=o(t,n=(l[i]+e).replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()})),n!==e&&(a=a||o(t,e)),l[i]&&(a=a||o(t,l[i]+e)),a)return a;return w}}(),r=y.cssExceptions,y._setStyle=function(t,e,n){var a=e.replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()});if(t.style[e]=n,a!==e&&(t.style[a]=n),r[e])for(var i=0,s=r[e].length;i<s;i++)t.style[r[e][i]]=n},y.fn.css=function(e,t){if(this[0])return"object"==typeof e?this.each(function(){for(var t in e)e.hasOwnProperty(t)&&y._setStyle(this,t,e[t])}):t!==w?this.each(function(){y._setStyle(this,e,t)}):y._getStyle(this[0],e)},y.fn.eq=function(t){return this[t]?y(this[t]):y([])},y.fn.filter=function(a){var i=[];return this.each(function(t){var e;if("function"==typeof a)!1!==a.call(this,t)&&i.push(this);else{if(this.parentNode)e=y(a,this.parentNode);else{var n=y(document.createDocumentFragment());n[0].appendChild(this),e=y(a,n)}-1<y.inArray(this,e)&&i.push(this)}}),y(i)},y.fn.find=function(n){var a,i=[];return this.each(function(){for(var t=0,e=(a=this.querySelectorAll(n)).length;t<e;t++)i=i.concat(a[t])}),y(i)},y.fn.first=function(){return this.eq(0)},y.fn.get=function(t){return this[t]};y.fn.html=function(t){if(void 0!==t)return function(t){if("string"==typeof t)return this.each(function(){this.innerHTML=t});var e="";if(void 0!==t.length)for(var n=0,a=t.length;n<a;n++)e+=t[n].outerHTML;else e=t.outerHTML;return this.each(function(){this.innerHTML=e})}.call(this,t);var e="";return this.each(function(){e+=this.innerHTML}),e},function(){function t(t,e){var n,a,i;for(n=a=0;n<t.length;n++){if(e(i=t.item?t.item(n):t[n]))return a;1===i.nodeType&&a++}return-1}y.fn.index=function(e){var n;return n=this,e===w?t((this[0]&&this[0].parentNode||document.documentElement).childNodes,function(t){return n[0]===t}):t(n,function(t){return t===y(e,t.parentNode)[0]})}}(),y.fn.insertBefore=function(t){return this.each(function(){y(t).before(this)})},y.fn.last=function(){return this.eq(this.length-1)},y.fn.next=function(){var i=[];return this.each(function(){var t,e,n;t=y(this.parentNode)[0].childNodes;for(var a=0;a<t.length;a++){if(e=t.item(a),n&&1===e.nodeType){i.push(e);break}e===this&&(n=!0)}}),y(i)},y.fn.not=function(e){var n=[];return this.each(function(){var t=y(e,this.parentNode);-1===y.inArray(this,t)&&n.push(this)}),y(n)},y.fn.parent=function(){var t,e=[];return this.each(function(){(t=this===document.documentElement?document:this.parentNode)&&11!==t.nodeType&&e.push(t)}),y(e)},y.fn.prepend=function(i){return"string"!=typeof i&&i.nodeType===w||(i=y(i)),this.each(function(t){for(var e=0,n=i.length;e<n;e++){var a=0<t?i[e].cloneNode(!0):i[e];this.firstChild?this.insertBefore(a,this.firstChild):this.appendChild(a)}})},y.fn.prev=function(){var i=[];return this.each(function(){for(var t,e,n,a=(t=y(this.parentNode)[0].childNodes).length-1;0<=a;a--){if(e=t.item(a),n&&1===e.nodeType){i.push(e);break}e===this&&(n=!0)}}),y(i)},y.fn.prevAll=function(){var e=[];return this.each(function(){for(var t=y(this).prev();t.length;)e.push(t[0]),t=t.prev()}),y(e)},y.fn.removeAttr=function(t){return this.each(function(){this.removeAttribute(t)})},y.fn.removeClass=function(t){var i=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t,e,n=0,a=i.length;n<a;n++)this.className!==w&&(e=new RegExp("(^|\\s)"+i[n]+"($|\\s)","gmi"),t=this.className.replace(e," "),this.className=t.replace(/^\s+|\s+$/g,""))})},y.fn.remove=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},y.fn.replaceWith=function(s){"string"==typeof s&&(s=y(s));var r=[];return 1<s.length&&(s=s.reverse()),this.each(function(t){var e,n=this.cloneNode(!0);if(r.push(n),this.parentNode)if(1===s.length)e=0<t?s[0].cloneNode(!0):s[0],this.parentNode.replaceChild(e,this);else{for(var a=0,i=s.length;a<i;a++)e=0<t?s[a].cloneNode(!0):s[a],this.parentNode.insertBefore(e,this.nextSibling);this.parentNode.removeChild(this)}}),y(r)},y.fn.siblings=function(){if(!this.length)return y([]);for(var t=[],e=this[0].parentNode.firstChild;1===e.nodeType&&e!==this[0]&&t.push(e),e=e.nextSibling;);return y(t)};var l=function(t){var e,n="",a=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=l(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[a++];)n+=l(e);return n};function C(t,e){if(!t.addEventListener&&t.shoestringData&&t.shoestringData.events)for(var n=t.shoestringData.events[e]||[],a=n.length-1;0<=a;a--)n[a].isCustomEvent||(t.detachEvent("on"+e,n[a].callback),t.attachEvent("on"+e,n[a].callback))}function c(t,e,n){var a=this.shoestringData.events[t];if(a&&a.length){var i,s,r=[];for(i=0,s=a.length;i<s;i++)e&&e!==a[i].namespace||n!==w&&n!==a[i].originalCallback||("removeEventListener"in window?this.removeEventListener(t,a[i].callback,!1):this.detachEvent&&(this.detachEvent("on"+t,a[i].callback),1===a.length&&this.shoestringData.loop&&this.shoestringData.loop[t]&&document.documentElement.detachEvent("onpropertychange",this.shoestringData.loop[t])),r.push(i));for(i=0,s=r.length;i<s;i++)this.shoestringData.events[t].splice(i,1)}}function h(t,e){for(var n in this.shoestringData.events)c.call(this,n,t,e)}y.fn.text=function(){return l(this)},y.fn.val=function(r){var t;return r!==w?this.each(function(){if("SELECT"===this.tagName){var t,e,n,a=this.options,i=[],s=a.length;for(i[0]=r;s--;)((e=a[s]).selected=0<=y.inArray(e.value,i))&&(t=!0,n=s);this.selectedIndex=t?n:-1}else this.value=r}):"SELECT"===(t=this[0]).tagName?t.selectedIndex<0?"":t.options[t.selectedIndex].value:t.value},y._dimension=function(t,e,n){var a;return n===w?(a=e.replace(/^[a-z]/,function(t){return t.toUpperCase()}),t[0]["offset"+a]):(n="string"==typeof n?n:n+"px",t.each(function(){this.style[e]=n}))},y.fn.width=function(t){return y._dimension(this,"width",t)},y.fn.wrapInner=function(e){return this.each(function(){var t=this.innerHTML;this.innerHTML="",y(this).append(y(e).html(t))})},y.fn.bind=function(t,r,v){"function"==typeof r&&(v=r,r=null);var g=t.split(" "),b=document.documentElement;function m(t,e,n){var a;if(!t._namespace||t._namespace===e){t.data=r,t.namespace=t._namespace;var i=function(){return!0};t.isDefaultPrevented=function(){return!1};var s=t.preventDefault;return t.target=n||t.target||t.srcElement,t.preventDefault=s?function(){t.isDefaultPrevented=i,s.call(t)}:function(){t.isDefaultPrevented=i,t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},!1===(a=v.apply(this,[t].concat(t._args)))&&(t.preventDefault(),t.stopPropagation()),a}}return this.each(function(){for(var t,e,n,a,i,s,r,o,l,c=this,h=0,u=g.length;h<u;h++){var d=g[h].split("."),f=d[0],p=0<d.length?d[1]:null;t=function(t){return c.ssEventTrigger&&(t._namespace=c.ssEventTrigger._namespace,t._args=c.ssEventTrigger._args,c.ssEventTrigger=null),m.call(c,t,p)},n=e=null,l=f,(o=this).shoestringData||(o.shoestringData={}),o.shoestringData.events||(o.shoestringData.events={}),o.shoestringData.loop||(o.shoestringData.loop={}),o.shoestringData.events[l]||(o.shoestringData.events[l]=[]),"addEventListener"in this?this.addEventListener(f,t,!1):this.attachEvent&&(this["on"+f]!==w?this.attachEvent("on"+f,t):(e=function(){var o=f;return function(t){var e,n,a,i,s,r;t.propertyName===o&&(e=t,n=c,a=p,i=document.documentElement[e.propertyName],s=i.el,(r=n)===document&&s!==document&&(r=document.documentElement),s!==w&&y(s).closest(r).length&&(e._namespace=i._namespace,e._args=i._args,m.call(n,e,a,s)))}}(),0===this.shoestringData.events[f].length&&(n=function(){var i=f;return function(t){if(c.shoestringData&&c.shoestringData.events){var e=c.shoestringData.events[i];if(e)for(var n=0,a=e.length;n<a;n++)e[n].callback(t)}}}(),b.attachEvent("onpropertychange",n)))),a=this,i=f,r=void 0,(r={}).isCustomEvent=(s={callfunc:e||t,isCustomEvent:!!e,customEventLoop:n,originalCallback:v,namespace:p}).isCustomEvent,r.callback=s.callfunc,r.originalCallback=s.originalCallback,r.namespace=s.namespace,a.shoestringData.events[i].push(r),s.customEventLoop&&(a.shoestringData.loop[i]=s.customEventLoop),e||C(c,f)}})},y.fn.on=y.fn.bind,y.fn.unbind=function(t,s){var r=t?t.split(" "):[];return this.each(function(){if(this.shoestringData&&this.shoestringData.events)if(r.length)for(var t,e,n,a=0,i=r.length;a<i;a++)e=(t=r[a].split("."))[0],n=0<t.length?t[1]:null,e?c.call(this,e,n,s):h.call(this,n,s);else h.call(this)})},y.fn.off=y.fn.unbind,y.fn.one=function(t,s){var r=t.split(" ");return this.each(function(){for(var t,a={},e=y(this),n=0,i=r.length;n<i;n++)t=r[n],a[t]=function(t){var e=y(this);for(var n in a)e.unbind(n,a[n]);return s.apply(this,[t].concat(t._args))},e.bind(t,a[t])})},y.fn.triggerHandler=function(t,e){var n,a=t.split(" ")[0],i=this[0];if(document.createEvent&&i.shoestringData&&i.shoestringData.events&&i.shoestringData.events[a]){var s=i.shoestringData.events[a];for(var r in s)s.hasOwnProperty(r)&&((t=document.createEvent("Event")).initEvent(a,!0,!0),(t._args=e).unshift(t),n=s[r].originalCallback.apply(t.target,e))}return n},y.fn.trigger=function(t,r){var o=t.split(" ");return this.each(function(){for(var t,e,n,a=0,i=o.length;a<i;a++){if(e=(t=o[a].split("."))[0],n=0<t.length?t[1]:null,"click"===e&&"INPUT"===this.tagName&&"checkbox"===this.type&&this.click)return this.click(),!1;if(document.createEvent){var s=document.createEvent("Event");s.initEvent(e,!0,!0),s._args=r,s._namespace=n,this.dispatchEvent(s)}else document.createEventObject&&(-1<(""+this[e]).indexOf("function")?(this.ssEventTrigger={_namespace:n,_args:r},this[e]()):document.documentElement[e]={el:this,_namespace:n,_args:r})}})}}(),function(n){"function"==typeof define&&define.amd?define(["shoestring"],n):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("shoestring"):require("shoestring")(t)),n(e),e}:n(shoestring)}(function(_){var k,n,e,a,i,t,s,r,c,h,o,u,l,d,f,p,v,g,S="undefined"!=typeof window?window:this;void 0===k&&(k={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"},mustard:"querySelector"in document&&"head"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini}),k.config||(k.config={}),k.mustard&&_(document.documentElement).addClass("tablesaw-enhanced"),n="tablesaw",e="tablesaw-bar",a="tablesawcreate",i="tablesawdestroy",t="tablesawrefresh",(s=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=_(t),this.mode=this.$table.attr("data-tablesaw-mode")||"stack",this.init()}).prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",n+"-"+Math.round(1e4*Math.random())),this.createToolbar();var t=this._initCells();this.$table.trigger(a,[this,t])},s.prototype._initCells=function(){var i,e=this.table.querySelectorAll("thead tr"),s=this;return _(e).each(function(){var n=0,t=_(this).children(),a=[];t.each(function(){var t=parseInt(this.getAttribute("colspan"),10);if(a[n]=this,i=n+1,t)for(var e=0;e<t-1;e++)a[++n]=this;this.cells=[],n++}),s.$table.find("tr").not(e[0]).each(function(){var e=0;_(this).children().each(function(){var t=parseInt(this.getAttribute("colspan"),10);a[e].cells.push(this),t?e+=t:e++})})}),i},s.prototype.refresh=function(){this._initCells(),this.$table.trigger(t)},s.prototype.createToolbar=function(){var t=this.$table.prev().filter("."+e);t.length||(t=_("<div>").addClass(e).insertBefore(this.$table)),this.$toolbar=t,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},s.prototype.destroy=function(){this.$table.prev().filter("."+e).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var t=this.$table.attr("id");_(document).off("."+t),_(window).off("."+t),this.$table.trigger(i,[this]),this.$table.removeData(n)},_.fn[n]=function(){return this.each(function(){var t=_(this);if(!t.data(n)){var e=new s(this);t.data(n,e)}})},_(document).on("enhance.tablesaw",function(t){k.mustard&&_(t.target).find("table[data-tablesaw-mode],table[data-tablesaw-sortable]")[n]()}),c="tablesaw-cell-label",h="tablesaw-cell-content",o=r="tablesaw-stack",u="data-tablesaw-no-labels",l="data-tablesaw-hide-empty",(d=function(t){this.$table=_(t),this.labelless=this.$table.is("["+u+"]"),this.hideempty=this.$table.is("["+l+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(o,this)}).prototype.init=function(o){if(this.$table.addClass(r),!this.labelless){var t=_(this.allHeaders),l=this.hideempty;t.each(function(){var t=_(this),e=_(this.cells).filter(function(){return!(_(this).parent().is("["+u+"]")||l&&_(this).is(":empty"))}),n=e.not(this).filter("thead th").length&&" tablesaw-cell-label-top",a=t.find(".tablesaw-sortable-btn"),i=a.length?a.html():t.html();if(""!==i)if(n){var s=parseInt(_(this).attr("colspan"),10),r="";s&&(r="td:nth-child("+s+"n + "+o+")"),e.filter(r).prepend("<b class='"+c+n+"'>"+i+"</b>")}else e.wrapInner("<span class='"+h+"'></span>"),e.prepend("<b class='"+c+"'>"+i+"</b>")})}},d.prototype.destroy=function(){this.$table.removeClass(r),this.$table.find("."+c).remove(),this.$table.find("."+h).each(function(){_(this).replaceWith(this.childNodes)})},_(document).on("tablesawcreate",function(t,e,n){"stack"===e.mode&&new d(e.table).init(n)}),_(document).on("tablesawdestroy",function(t,e){"stack"===e.mode&&_(e.table).data(o).destroy()}),f="tablesawbtn",p={_create:function(){return _(this).each(function(){_(this).trigger("beforecreate."+f)[f]("_init").trigger("create."+f)})},_init:function(){var t=_(this),e=this.getElementsByTagName("select")[0];return e&&_(this).addClass("btn-select")[f]("_select",e),t},_select:function(t){var e=function(t,e){var n,a,i,s=_(e).find("option");if(s.each(function(){this.selected&&(n=document.createTextNode(this.text))}),i=t.childNodes,0<s.length)for(var r=0,o=i.length;r<o;r++)(a=i[r])&&3===a.nodeType&&t.replaceChild(n,a)};e(this,t),_(this).on("change refresh",function(){e(this,t)})}},_.fn[f]=function(t,e,n,a){return this.each(function(){return t&&"string"==typeof t?_.fn[f].prototype[t].call(this,e,n,a):_(this).data(f+"active")?_(this):(_(this).data(f+"active",!0),void _.fn[f].prototype._create.call(this))})},_.extend(_.fn[f].prototype,p),(v=function(t){this.$table=_(t),this.$table.length&&(this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.headers=this.$table.find("tr").eq(0).find("th"),this.$table.data("tablesaw-coltoggle",this))}).prototype.init=function(){if(this.$table.length){var e,t,n,a,i,s,r=this;this.$table.addClass(this.classes.columnToggleTable),t=(e=this.$table.attr("id"))+"-popup",s=_("<div class='"+this.classes.columnBtnContain+"'></div>"),n=_("<a href='#"+t+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+k.i18n.columnBtnText+"</span></a>"),a=_("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+t+"'></div>"),i=_("<div class='btn-group'></div>");var o,l=!1;_(this.headers).not("td").each(function(){var t=_(this),e=t.attr("data-tablesaw-priority"),n=r.$getCells(this);e&&"persist"!==e&&(n.addClass(r.classes.priorityPrefix+e),_("<label><input type='checkbox' checked>"+t.text()+"</label>").appendTo(i).children(0).data("tablesaw-header",this),l=!0)}),l||i.append("<label>"+k.i18n.columnsDialogError+"</label>"),i.appendTo(a),i.find('input[type="checkbox"]').on("change",function(t){var e=t.target.checked,n=r.$getCellsFromCheckbox(t.target);n[e?"removeClass":"addClass"]("tablesaw-cell-hidden"),n[e?"addClass":"removeClass"]("tablesaw-cell-visible"),r.$table.trigger("tablesawcolumns")}),n.appendTo(s),s.appendTo(this.$table.prev().filter("."+this.classes.toolbar)),n.on("click.tablesaw",function(t){t.preventDefault(),s.is(".visible")?c():(s.addClass("visible"),n.removeClass("down").addClass("up"),_(document).off("click."+e,c),window.clearTimeout(o),o=window.setTimeout(function(){_(document).one("click."+e,c)},15))}),a.appendTo(s),this.$menu=i,_(window).on("resize."+e,function(){r.refreshToggle()}),this.refreshToggle()}function c(t){t&&_(t.target).closest("."+r.classes.popup).length||(_(document).off("click."+e),n.removeClass("up").addClass("down"),s.removeClass("visible"))}},v.prototype.$getCells=function(t){return _(t).add(t.cells)},v.prototype.$getCellsFromCheckbox=function(t){var e=_(t).data("tablesaw-header");return this.$getCells(e)},v.prototype.refreshToggle=function(){var t=this;this.$menu.find("input").each(function(){this.checked="table-cell"===t.$getCellsFromCheckbox(this).eq(0).css("display")})},v.prototype.refreshPriority=function(){var a=this;_(this.headers).not("td").each(function(){var t=_(this),e=t.attr("data-tablesaw-priority"),n=t.add(this.cells);e&&"persist"!==e&&n.addClass(a.classes.priorityPrefix+e)})},v.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){_(this).removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},_(document).on("tablesawcreate",function(t,e){"columntoggle"===e.mode&&new v(e.table).init()}),_(document).on("tablesawdestroy",function(t,e){"columntoggle"===e.mode&&_(e.table).data("tablesaw-coltoggle").destroy()}),function(){function E(t){var e=_(t);return e.width()+function(t,e){for(var n=0,a=0,i=e.length;a<i;a++)n+=parseInt(t.css(e[a])||0,10);return n}(e,["border-left-width","border-right-width"])}_.extend(k.config,{swipe:{horizontalThreshold:15,verticalThreshold:30}});var T="tablesaw-bar",x="disabled",N="tablesaw-fix-persist",D="tablesaw-all-cols-visible",$="data-tablesaw-no-touch";function n(o){var t,e,n=_("<div class='tablesaw-advance'></div>"),a=_("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(n),i=_("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(n),l=o.find("thead th"),s=l.not('[data-tablesaw-priority="persist"]'),c=[],r=_(document.head||"head"),h=o.attr("id"),u=(t=document.createElement("div"),e=t.getElementsByTagName("i"),t.innerHTML="\x3c!--[if lte IE 8]><i></i><![endif]--\x3e",!e.length);if(!l.length)throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");function d(t){return _(t.cells).add(t)}function f(t){d(t).removeClass("tablesaw-cell-hidden")}function p(t){d(t).addClass("tablesaw-cell-hidden")}function v(){var t,n="#"+h+".tablesaw-swipe ",a=[],i=o.width(),s=[];l.each(function(t){var e;_(this).is('[data-tablesaw-priority="persist"]')&&(e=E(this))<.75*i&&(s.push(t+"-"+e),a.push(n+" .tablesaw-cell-persist:nth-child("+(t+1)+") { width: "+e+"px; }"))}),t=s.join("_"),o.addClass(N);var e=_("#"+h+"-persist");e.length&&e.data("tablesaw-hash")===t||(e.remove(),a.length&&_("<style>"+a.join("\n")+"</style>").attr("id",h+"-persist").data("tablesaw-hash",t).appendTo(r))}function g(){var a,i=[];return s.each(function(t){var e=_(this),n="none"===e.css("display")||e.is(".tablesaw-cell-hidden");if(n||a){if(n&&a)return i[1]=t,!1}else a=!0,i[0]=t}),i}function b(){var t=g();return[t[1]-1,t[0]-1]}function m(t){return-1<t[1]&&t[1]<s.length}function w(){if(!(t=o.attr("data-tablesaw-swipe-media"))||"matchMedia"in S&&S.matchMedia(t).matches){var t,n=o.parent().width(),a=[],i=0,s=[],r=l.length;l.each(function(t){var e=_(this).is('[data-tablesaw-priority="persist"]');a.push(e),i+=c[t],s.push(i),(e||n<i)&&r--});var e=0===r;l.each(function(t){a[t]?d(this).addClass("tablesaw-cell-persist"):s[t]<=n||e?(e=!1,f(this)):p(this)}),u&&(o.removeClass(N),_("#"+h+"-persist").remove()),o.trigger("tablesawcolumns")}}function y(t){var e=t?g():b();m(e)&&(isNaN(e[0])&&(e[0]=t?0:s.length-1),u&&v(),p(s.get(e[0])),f(s.get(e[1])),o.trigger("tablesawcolumns"))}function C(t,e){return(t.touches||t.originalEvent.touches)[0][e]}l.each(function(){c.push(E(this))}),n.appendTo(o.prev().filter(".tablesaw-bar")),o.addClass("tablesaw-swipe"),h||(h="tableswipe-"+Math.round(1e4*Math.random()),o.attr("id",h)),a.add(i).on("click",function(t){y(!!_(t.target).closest(i).length),t.preventDefault()}),o.is("["+$+"]")||o.on("touchstart.swipetoggle",function(t){var n,a,i=C(t,"pageX"),s=C(t,"pageY");_(S).off("resize",w),_(this).on("touchmove",function(t){n=C(t,"pageX"),a=C(t,"pageY");var e=k.config.swipe;Math.abs(n-i)>e.horizontalThreshold&&Math.abs(a-s)<e.verticalThreshold&&t.preventDefault()}).on("touchend.swipetoggle",function(){var t=k.config.swipe;Math.abs(a-s)<t.verticalThreshold&&(n-i<-1*t.horizontalThreshold&&y(!0),n-i>t.horizontalThreshold&&y(!1)),window.setTimeout(function(){_(S).on("resize",w)},300),_(this).off("touchmove touchend")})}),o.on("tablesawcolumns.swipetoggle",function(){var t=m(b()),e=m(g());a[t?"removeClass":"addClass"](x),i[e?"removeClass":"addClass"](x),a.closest("."+T)[t||e?"removeClass":"addClass"](D)}).on("tablesawnext.swipetoggle",function(){y(!0)}).on("tablesawprev.swipetoggle",function(){y(!1)}).on("tablesawdestroy.swipetoggle",function(){var t=_(this);t.removeClass("tablesaw-swipe"),t.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),_(S).off("resize",w),t.off(".swipetoggle")}).on("tablesawrefresh",function(){c=[],l.each(function(){var t=E(this);c.push(t)}),w()}),w(),_(S).on("resize",w)}_(document).on("tablesawcreate",function(t,e){"swipe"===e.mode&&n(e.$table)})}(),function(){function d(t){var e=[];return _(t.childNodes).each(function(){var t=_(this);t.is("input, select")?e.push(t.val()):t.is(".tablesaw-cell-label")||e.push((t.text()||"").replace(/^\s+|\s+$/g,""))}),e.join("")}var c="tablesaw-sortable",h="data-tablesaw-sortable-default-col",u={head:c+"-head",ascend:c+"-ascending",descend:c+"-descending",switcher:c+"-switch",tableToolbar:"tablesaw-toolbar",sortButton:c+"-btn"},t={_create:function(t){return _(this).each(function(){if(_(this).data(c+"-init"))return!1;_(this).data(c+"-init",!0).trigger("beforecreate."+c)[c]("_init",t).trigger("create."+c)})},_init:function(){var i,s,t,e,a,n,r=_(this),l=function(t){_.each(t,function(t,e){var n=_(e);n.removeAttr(h),n.removeClass(u.ascend),n.removeClass(u.descend)})};r.addClass(c),i=r.find("thead th[data-"+c+"-col]"),t=i,_.each(t,function(t,e){_(e).addClass(u.head)}),e=i,a=function(t){if(!_(t.target).is("a[href]")){t.stopPropagation();var e=_(this).parent(),n=t.data.col,a=i.index(e[0]);l(e.siblings()),e.is("."+u.descend)?(r[c]("sortBy",n,!0),a+="_asc"):(r[c]("sortBy",n),a+="_desc"),s&&s.find("select").val(a).trigger("refresh"),t.preventDefault()}},_.each(e,function(t,e){var n=_("<button class='"+u.sortButton+"'/>");n.on("click",{col:e},a),_(e).wrapInner(n)}),n=i,_.each(n,function(t,e){var n=_(e);n.is("["+h+"]")&&(n.is("."+u.descend)||n.addClass(u.ascend))}),r.is("[data-tablesaw-sortable-switch]")&&function(n){s=_("<div>").addClass(u.switcher).addClass(u.tableToolbar);var o=["<label>"+k.i18n.sort+":"];o.push('<span class="btn btn-small">&#160;<select>'),n.each(function(t){var e=_(this),n=e.is("["+h+"]"),a=e.is("."+u.descend),i=e.is("[data-sortable-numeric]"),s=0;_(this.cells.slice(0,5)).each(function(){isNaN(parseInt(d(this),10))||s++});var r=5===s;i||e.attr("data-sortable-numeric",r?"":"false"),o.push("<option"+(n&&!a?" selected":"")+' value="'+t+'_asc">'+e.text()+" "+(r?"&#x2191;":"(A-Z)")+"</option>"),o.push("<option"+(n&&a?" selected":"")+' value="'+t+'_desc">'+e.text()+" "+(r?"&#x2193;":"(Z-A)")+"</option>")}),o.push("</select></span></label>"),s.html(o.join(""));var t=r.prev().filter(".tablesaw-bar"),e=t.children().eq(0);e.length?s.insertBefore(e):s.appendTo(t),s.find(".btn").tablesawbtn(),s.find("select").on("change",function(){var t=_(this).val().split("_"),e=n.eq(t[0]);l(e.siblings()),r[c]("sortBy",e.get(0),"asc"===t[1])})}(i,r.find("tbody tr:nth-child(-n+3)"))},getColumnNumber:function(t){return _(t).prevAll().length},getTableRows:function(){return _(this).find("tbody tr")},sortRows:function(t,a,e,n){var i,s,r,o;r=t,o=[],_.each(r,function(t,e){var n=_(e).children().get(a);o.push({element:n,cell:d(n),rowNum:t})}),i=o;var l,c,h,u=_(n).data("tablesaw-sort");return s=!(!u||"function"!=typeof u)&&u(e)||(l=e,c=_(n).is("[data-sortable-numeric]")&&!_(n).is('[data-sortable-numeric="false"]'),h=/[^\-\+\d\.]/g,l?function(t,e){return c?parseFloat(t.cell.replace(h,""))-parseFloat(e.cell.replace(h,"")):t.cell.toLowerCase()>e.cell.toLowerCase()?1:-1}:function(t,e){return c?parseFloat(e.cell.replace(h,""))-parseFloat(t.cell.replace(h,"")):t.cell.toLowerCase()<e.cell.toLowerCase()?1:-1}),t=function(t,e){var n,a,i,s=[];for(n=0,a=t.length;n<a;n++)i=t[n].rowNum,s.push(e[i]);return s}(i.sort(s),t)},replaceTableRows:function(t){for(var e=_(this).find("tbody"),n=0,a=t.length;n<a;n++)e.append(t[n])},makeColDefault:function(t,e){var n=_(t);n.attr(h,"true"),e?(n.removeClass(u.descend),n.addClass(u.ascend)):(n.removeClass(u.ascend),n.addClass(u.descend))},sortBy:function(t,e){var n,a,i=_(this);n=i[c]("getColumnNumber",t),a=i[c]("getTableRows"),a=i[c]("sortRows",a,n,e,t),i[c]("replaceTableRows",a),i[c]("makeColDefault",t,e),i.trigger("tablesaw-sorted")}};_.fn[c]=function(t){var e,n=Array.prototype.slice.call(arguments,1);return t&&"string"==typeof t?void 0!==(e=_.fn[c].prototype[t].apply(this[0],n))?e:_(this):(_(this).data(c+"-active")||(_(this).data(c+"-active",!0),_.fn[c].prototype._create.call(this,t)),_(this))},_.extend(_.fn[c].prototype,t),_(document).on("tablesawcreate",function(t,e){e.$table.is("table[data-tablesaw-sortable]")&&e.$table[c]()})}(),function(){var r={init:"data-tablesaw-minimap"};function n(n){var a=_('<div class="tablesaw-advance minimap">'),i=_('<ul class="tablesaw-advance-dots">').appendTo(a),s="tablesaw-advance-dots-hide";function e(){if(!(t=n.attr(r.init))||S.matchMedia&&S.matchMedia(t).matches){var t;a.css("display","block");var e=i.find("li").removeClass(s);n.find("thead th").each(function(t){"none"===_(this).css("display")&&e.eq(t).addClass(s)})}else a.css("display","none")}n.find("thead th").each(function(){i.append("<li><i></i></li>")}),a.appendTo(n.prev().filter(".tablesaw-bar")),e(),_(S).on("resize",e),n.on("tablesawcolumns.minimap",function(){e()}).on("tablesawdestroy.minimap",function(){var t=_(this);t.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),_(S).off("resize",e),t.off(".minimap")})}_(document).on("tablesawcreate",function(t,e){"swipe"!==e.mode&&"columntoggle"!==e.mode||!e.$table.is("[ "+r.init+"]")||n(e.$table)})}(),g={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],init:function(t){var e,n=_(t),a=n.attr(g.attributes.excludeMode),i=n.prev().filter(".tablesaw-bar"),s=_("<div>").addClass(g.classes.main+" "+g.classes.toolbar),r=["<label>"+k.i18n.columns+":"],o=n.attr("data-tablesaw-mode");r.push('<span class="btn btn-small">&#160;<select>');for(var l=0,c=g.modes.length;l<c;l++)a&&a.toLowerCase()===g.modes[l]||((e=o===g.modes[l])&&g.modes[l],r.push("<option"+(e?" selected":"")+' value="'+g.modes[l]+'">'+k.i18n.modes[l]+"</option>"));r.push("</select></span></label>"),s.html(r.join(""));var h=i.find(".tablesaw-advance").eq(0);h.length?s.insertBefore(h):s.appendTo(i),s.find(".btn").tablesawbtn(),s.find("select").on("change",g.onModeChange)},onModeChange:function(){var t=_(this),e=t.closest("."+g.classes.main),n=t.closest(".tablesaw-bar").next().eq(0),a=t.val();e.remove(),n.data("tablesaw").destroy(),n.attr("data-tablesaw-mode",a),n.tablesaw()}},_(S.document).on("tablesawcreate",function(t,e){e.$table.is(g.selectors.init)&&g.init(e.table)}),_(S.document).on("tablesawdestroy",function(t,e){e.$table.prev().is(".tablesaw-bar")&&e.$table.prev().remove()})});