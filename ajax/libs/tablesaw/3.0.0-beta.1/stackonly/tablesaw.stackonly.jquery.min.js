!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),a(e),e}:a(jQuery)}(function(h){var e,a,i,s,n,t,l,d,c,b,o,u,r,f;"undefined"!=typeof window&&window;void 0===e&&(e={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"},mustard:"querySelector"in document&&"head"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini}),e.config||(e.config={}),e.mustard&&h(document.documentElement).addClass("tablesaw-enhanced"),a="tablesaw",i="tablesaw-bar",s="tablesawcreate",n="tablesawdestroy",t="tablesawrefresh",(l=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=h(t),this.mode=this.$table.attr("data-tablesaw-mode")||"stack",this.init()}).prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",a+"-"+Math.round(1e4*Math.random())),this.createToolbar();var t=this._initCells();this.$table.trigger(s,[this,t])},l.prototype._initCells=function(){var s,e=this.table.querySelectorAll("thead tr"),n=this;return h(e).each(function(){var a=0,t=h(this).children(),i=[];t.each(function(){var t=parseInt(this.getAttribute("colspan"),10);if(i[a]=this,s=a+1,t)for(var e=0;e<t-1;e++)i[++a]=this;this.cells=[],a++}),n.$table.find("tr").not(e[0]).each(function(){var e=0;h(this).children().each(function(){var t=parseInt(this.getAttribute("colspan"),10);i[e].cells.push(this),t?e+=t:e++})})}),s},l.prototype.refresh=function(){this._initCells(),this.$table.trigger(t)},l.prototype.createToolbar=function(){var t=this.$table.prev().filter("."+i);t.length||(t=h("<div>").addClass(i).insertBefore(this.$table)),this.$toolbar=t,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},l.prototype.destroy=function(){this.$table.prev().filter("."+i).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var t=this.$table.attr("id");h(document).off("."+t),h(window).off("."+t),this.$table.trigger(n,[this]),this.$table.removeData(a)},h.fn[a]=function(){return this.each(function(){var t=h(this);if(!t.data(a)){var e=new l(this);t.data(a,e)}})},h(document).on("enhance.tablesaw",function(t){e.mustard&&h(t.target).find("table[data-tablesaw-mode],table[data-tablesaw-sortable]")[a]()}),c="tablesaw-cell-label",b="tablesaw-cell-content",o=d="tablesaw-stack",u="data-tablesaw-no-labels",r="data-tablesaw-hide-empty",(f=function(t){this.$table=h(t),this.labelless=this.$table.is("["+u+"]"),this.hideempty=this.$table.is("["+r+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(o,this)}).prototype.init=function(o){if(this.$table.addClass(d),!this.labelless){var t=h(this.allHeaders),r=this.hideempty;t.each(function(){var t=h(this),e=h(this.cells).filter(function(){return!(h(this).parent().is("["+u+"]")||r&&h(this).is(":empty"))}),a=e.not(this).filter("thead th").length&&" tablesaw-cell-label-top",i=t.find(".tablesaw-sortable-btn"),s=i.length?i.html():t.html();if(""!==s)if(a){var n=parseInt(h(this).attr("colspan"),10),l="";n&&(l="td:nth-child("+n+"n + "+o+")"),e.filter(l).prepend("<b class='"+c+a+"'>"+s+"</b>")}else e.wrapInner("<span class='"+b+"'></span>"),e.prepend("<b class='"+c+"'>"+s+"</b>")})}},f.prototype.destroy=function(){this.$table.removeClass(d),this.$table.find("."+c).remove(),this.$table.find("."+b).each(function(){h(this).replaceWith(this.childNodes)})},h(document).on("tablesawcreate",function(t,e,a){"stack"===e.mode&&new f(e.table).init(a)}),h(document).on("tablesawdestroy",function(t,e){"stack"===e.mode&&h(e.table).data(o).destroy()})});