!function(t){"querySelector"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini&&(t(document.documentElement).addClass("tablesaw-enhanced"),t(function(){t(document).trigger("enhance.tablesaw")}))}(jQuery),"undefined"==typeof Tablesaw&&(Tablesaw={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"}}),Tablesaw.config||(Tablesaw.config={}),function(o){var a="table",e="tablesaw-bar",s="tablesawcreate",n="tablesawdestroy",t="tablesawrefresh",i=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=o(t),this.mode=this.$table.attr("data-tablesaw-mode")||"stack",this.init()};i.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",a+"-"+Math.round(1e4*Math.random())),this.createToolbar();var t=this._initCells();this.$table.trigger(s,[this,t])},i.prototype._initCells=function(){var n,i=this.table.querySelectorAll("thead tr"),l=this;return o(i).each(function(){var s=0;o(this).children().each(function(){var t=parseInt(this.getAttribute("colspan"),10),e=":nth-child("+(s+1)+")";if(n=s+1,t)for(var a=0;a<t-1;a++)e+=", :nth-child("+(++s+1)+")";this.cells=l.$table.find("tr").not(o(i).eq(0)).not(this).children(e),s++})}),n},i.prototype.refresh=function(){this._initCells(),this.$table.trigger(t)},i.prototype.createToolbar=function(){var t=this.$table.prev().filter("."+e);t.length||(t=o("<div>").addClass(e).insertBefore(this.$table)),this.$toolbar=t,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},i.prototype.destroy=function(){this.$table.prev().filter("."+e).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var t=this.$table.attr("id");o(document).unbind("."+t),o(window).unbind("."+t),this.$table.trigger(n,[this]),this.$table.removeAttr("data-tablesaw-mode"),this.$table.removeData(a)},o.fn[a]=function(){return this.each(function(){var t=o(this);if(!t.data(a)){var e=new i(this);t.data(a,e)}})},o(document).on("enhance.tablesaw",function(t){o(t.target).find("table[data-tablesaw-mode],table[data-tablesaw-sortable]")[a]()})}(jQuery),function(t,c,e){var a="tablesaw-stack",d="tablesaw-cell-label",h="tablesaw-cell-content",s="tablesaw-stack",b="data-tablesaw-no-labels",n="data-tablesaw-hide-empty",i=function(t){this.$table=c(t),this.labelless=this.$table.is("["+b+"]"),this.hideempty=this.$table.is("["+n+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(s,this)};i.prototype.init=function(o){if(this.$table.addClass(a),!this.labelless){var t=c(this.allHeaders),r=this.hideempty;t.each(function(){var t=c(this),e=c(this.cells).filter(function(){return!(c(this).parent().is("["+b+"]")||r&&c(this).is(":empty"))}),a=e.not(this).filter("thead th").length&&" tablesaw-cell-label-top",s=t.find(".tablesaw-sortable-btn"),n=s.length?s.html():t.html();if(""!==n)if(a){var i=parseInt(c(this).attr("colspan"),10),l="";i&&(l="td:nth-child("+i+"n + "+o+")"),e.filter(l).prepend("<b class='"+d+a+"'>"+n+"</b>")}else e.wrapInner("<span class='"+h+"'></span>"),e.prepend("<b class='"+d+"'>"+n+"</b>")})}},i.prototype.destroy=function(){this.$table.removeClass(a),this.$table.find("."+d).remove(),this.$table.find("."+h).each(function(){c(this).replaceWith(this.childNodes)})},c(document).on("tablesawcreate",function(t,e,a){"stack"===e.mode&&new i(e.table).init(a)}),c(document).on("tablesawdestroy",function(t,e){"stack"===e.mode&&c(e.table).data(s).destroy()})}(0,jQuery),function(r){var n="tablesawbtn",t={_create:function(){return r(this).each(function(){r(this).trigger("beforecreate."+n)[n]("_init").trigger("create."+n)})},_init:function(){var t=r(this),e=this.getElementsByTagName("select")[0];return e&&r(this).addClass("btn-select")[n]("_select",e),t},_select:function(t){var e=function(t,e){var a,s,n,i=r(e).find("option");if(i.each(function(){this.selected&&(a=document.createTextNode(this.text))}),n=t.childNodes,0<i.length)for(var l=0,o=n.length;l<o;l++)(s=n[l])&&3===s.nodeType&&t.replaceChild(a,s)};e(this,t),r(this).bind("change refresh",function(){e(this,t)})}};r.fn[n]=function(t,e,a,s){return this.each(function(){return t&&"string"==typeof t?r.fn[n].prototype[t].call(this,e,a,s):r(this).data(n+"active")?r(this):(r(this).data(n+"active",!0),void r.fn[n].prototype._create.call(this))})},r.extend(r.fn[n].prototype,t),r(document).on("enhance",function(t){r(".btn",t.target)[n]()})}(jQuery),function(t,d,e){var a=function(t){this.$table=d(t),this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.headers=this.$table.find("tr:first > th"),this.$table.data("tablesaw-coltoggle",this)};a.prototype.init=function(){var e,t,a,s,n,i,l=this;this.$table.addClass(this.classes.columnToggleTable),t=(e=this.$table.attr("id"))+"-popup",i=d("<div class='"+this.classes.columnBtnContain+"'></div>"),a=d("<a href='#"+t+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+Tablesaw.i18n.columnBtnText+"</span></a>"),s=d("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+t+"'></div>"),n=d("<div class='btn-group'></div>");var o,r=!1;function c(t){t&&d(t.target).closest("."+l.classes.popup).length||(d(document).unbind("click."+e),a.removeClass("up").addClass("down"),i.removeClass("visible"))}d(this.headers).not("td").each(function(){var t=d(this),e=t.attr("data-tablesaw-priority"),a=t.add(this.cells);e&&"persist"!==e&&(a.addClass(l.classes.priorityPrefix+e),d("<label><input type='checkbox' checked>"+t.text()+"</label>").appendTo(n).children(0).data("cells",a),r=!0)}),r||n.append("<label>"+Tablesaw.i18n.columnsDialogError+"</label>"),n.appendTo(s),n.find('input[type="checkbox"]').on("change",function(t){var e=t.target.checked;d(t.target).data("cells").toggleClass("tablesaw-cell-hidden",!e).toggleClass("tablesaw-cell-visible",e),l.$table.trigger("tablesawcolumns")}),a.appendTo(i),i.appendTo(this.$table.prev().filter("."+this.classes.toolbar)),a.on("click.tablesaw",function(t){t.preventDefault(),i.is(".visible")?c():(i.addClass("visible"),a.removeClass("down").addClass("up"),d(document).unbind("click."+e,c),window.clearTimeout(o),o=window.setTimeout(function(){d(document).one("click."+e,c)},15))}),s.appendTo(i),this.$menu=n,d(window).on("resize."+e,function(){l.refreshToggle()}),this.refreshToggle()},a.prototype.refreshToggle=function(){this.$menu.find("input").each(function(){var t=d(this);this.checked="table-cell"===t.data("cells").eq(0).css("display")})},a.prototype.refreshPriority=function(){var s=this;d(this.headers).not("td").each(function(){var t=d(this),e=t.attr("data-tablesaw-priority"),a=t.add(this.cells);e&&"persist"!==e&&a.addClass(s.classes.priorityPrefix+e)})},a.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){d(this).removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},d(document).on("tablesawcreate",function(t,e){"columntoggle"===e.mode&&new a(e.table).init()}),d(document).on("tablesawdestroy",function(t,e){"columntoggle"===e.mode&&d(e.table).data("tablesaw-coltoggle").destroy()})}(0,jQuery),function(x,N,t){function a(o){var t,e,a=N("<div class='tablesaw-advance'></div>"),s=N("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(a),n=N("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(a),i="disabled",r="tablesaw-fix-persist",c=o.find("thead th"),l=c.not('[data-tablesaw-priority="persist"]'),d=[],h=N(document.head||"head"),b=o.attr("id"),u=(t=document.createElement("div"),e=t.getElementsByTagName("i"),t.innerHTML="\x3c!--[if lte IE 8]><i></i><![endif]--\x3e",!e.length);if(!c.length)throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");function p(t){return N(t.cells).add(t)}function f(t){p(t).removeClass("tablesaw-cell-hidden")}function w(t){p(t).addClass("tablesaw-cell-hidden")}function m(){var t,a="#"+b+".tablesaw-swipe ",s=[],n=o.width(),i=[];c.each(function(t){var e;N(this).is('[data-tablesaw-priority="persist"]')&&(e=N(this).outerWidth())<.75*n&&(i.push(t+"-"+e),s.push(a+" .tablesaw-cell-persist:nth-child("+(t+1)+") { width: "+e+"px; }"))}),t=i.join("_"),o.addClass(r);var e=N("#"+b+"-persist");e.length&&e.data("hash")===t||(e.remove(),s.length&&N("<style>"+s.join("\n")+"</style>").attr("id",b+"-persist").data("hash",t).appendTo(h))}function v(){var s,n=[];return l.each(function(t){var e=N(this),a="none"===e.css("display")||e.is(".tablesaw-cell-hidden");if(a||s){if(a&&s)return n[1]=t,!1}else s=!0,n[0]=t}),n}function g(){var t=v();return[t[1]-1,t[0]-1]}function y(t){return-1<t[1]&&t[1]<l.length}function C(){if(!(t=o.attr("data-tablesaw-swipe-media"))||"matchMedia"in x&&x.matchMedia(t).matches){var t,a=o.parent().width(),s=[],n=0,i=[],l=c.length;c.each(function(t){var e=N(this).is('[data-tablesaw-priority="persist"]');s.push(e),n+=d[t]+(e?0:20),i.push(n),(e||a<n)&&l--});var e=0===l;c.each(function(t){s[t]?p(this).addClass("tablesaw-cell-persist"):i[t]<=a||e?(e=!1,f(this)):w(this)}),u&&(o.removeClass(r),N("#"+b+"-persist").remove()),o.trigger("tablesawcolumns")}}function T(t){var e=t?v():g();y(e)&&(isNaN(e[0])&&(e[0]=t?0:l.length-1),u&&m(),w(l.get(e[0])),f(l.get(e[1])),o.trigger("tablesawcolumns"))}function $(t,e){return(t.touches||t.originalEvent.touches)[0][e]}o.css("width","auto"),c.each(function(){d.push(N(this).outerWidth())}),o.css("width",""),a.appendTo(o.prev().filter(".tablesaw-bar")),o.addClass("tablesaw-swipe"),b||(b="tableswipe-"+Math.round(1e4*Math.random()),o.attr("id",b)),s.add(n).click(function(t){T(!!N(t.target).closest(n).length),t.preventDefault()}),o.bind("touchstart.swipetoggle",function(t){var a,s,n=$(t,"pageX"),i=$(t,"pageY");N(x).off("resize",C),N(this).bind("touchmove",function(t){a=$(t,"pageX"),s=$(t,"pageY");var e=Tablesaw.config.swipe;Math.abs(a-n)>e.horizontalThreshold&&Math.abs(s-i)<e.verticalThreshold&&t.preventDefault()}).bind("touchend.swipetoggle",function(){var t=Tablesaw.config.swipe;Math.abs(s-i)<t.verticalThreshold&&(a-n<-1*t.horizontalThreshold&&T(!0),a-n>t.horizontalThreshold&&T(!1)),window.setTimeout(function(){N(x).on("resize",C)},300),N(this).unbind("touchmove touchend")})}).bind("tablesawcolumns.swipetoggle",function(){s[y(g())?"removeClass":"addClass"](i),n[y(v())?"removeClass":"addClass"](i)}).bind("tablesawnext.swipetoggle",function(){T(!0)}).bind("tablesawprev.swipetoggle",function(){T(!1)}).bind("tablesawdestroy.swipetoggle",function(){var t=N(this);t.removeClass("tablesaw-swipe"),t.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),N(x).off("resize",C),t.unbind(".swipetoggle")}),C(),N(x).on("resize",C)}N.extend(Tablesaw.config,{swipe:{horizontalThreshold:15,verticalThreshold:30}}),N(document).on("tablesawcreate",function(t,e){"swipe"===e.mode&&a(e.$table)})}(this,jQuery),function(b){function u(t){return b.map(t.childNodes,function(t){var e=b(t);return e.is("input, select")?e.val():e.hasClass("tablesaw-cell-label")?void 0:b.trim(e.text())}).join("")}var r="tablesaw-sortable",c="data-tablesaw-sortable-default-col",d={head:r+"-head",ascend:r+"-ascending",descend:r+"-descending",switcher:r+"-switch",tableToolbar:"tablesaw-toolbar",sortButton:r+"-btn"},t={_create:function(t){return b(this).each(function(){if(b(this).data("init"+r))return!1;b(this).data("init"+r,!0).trigger("beforecreate."+r)[r]("_init",t).trigger("create."+r)})},_init:function(){var n,i,t,e,s,a,l=b(this),o=function(t){b.each(t,function(t,e){var a=b(e);a.removeAttr(c),a.removeClass(d.ascend),a.removeClass(d.descend)})};l.addClass(r),n=l.find("thead th[data-"+r+"-col]"),t=n,b.each(t,function(t,e){b(e).addClass(d.head)}),e=n,s=function(t){if(!b(t.target).is("a[href]")){t.stopPropagation();var e=b(this).parent(),a=t.data.col,s=n.index(e);o(e.siblings()),e.hasClass(d.descend)?(l[r]("sortBy",a,!0),s+="_asc"):(l[r]("sortBy",a),s+="_desc"),i&&i.find("select").val(s).trigger("refresh"),t.preventDefault()}},b.each(e,function(t,e){var a=b("<button class='"+d.sortButton+"'/>");a.bind("click",{col:e},s),b(e).wrapInner(a)}),a=n,b.each(a,function(t,e){var a=b(e);a.is("["+c+"]")&&(a.hasClass(d.descend)||a.addClass(d.ascend))}),l.is("[data-tablesaw-sortable-switch]")&&function(a){i=b("<div>").addClass(d.switcher).addClass(d.tableToolbar).html(function(){var i=["<label>"+Tablesaw.i18n.sort+":"];return i.push('<span class="btn btn-small">&#160;<select>'),a.each(function(t){var e=b(this),a=e.is("["+c+"]"),s=e.hasClass(d.descend),n=!1;b(this.cells).slice(0,3).each(function(){if(!isNaN(parseInt(u(this),10)))return!(n=!0)}),i.push("<option"+(a&&!s?" selected":"")+' value="'+t+'_asc">'+e.text()+" "+(n?"&#x2191;":"(A-Z)")+"</option>"),i.push("<option"+(a&&s?" selected":"")+' value="'+t+'_desc">'+e.text()+" "+(n?"&#x2193;":"(Z-A)")+"</option>")}),i.push("</select></span></label>"),i.join("")});var t=l.prev().filter(".tablesaw-bar"),e=t.children().eq(0);e.length?i.insertBefore(e):i.appendTo(t),i.find(".btn").tablesawbtn(),i.find("select").on("change",function(){var t=b(this).val().split("_"),e=a.eq(t[0]);o(e.siblings()),l[r]("sortBy",e.get(0),"asc"===t[1])})}(n,l.find("tbody tr:nth-child(-n+3)"))},getColumnNumber:function(t){return b(t).prevAll().length},getTableRows:function(){return b(this).find("tbody tr")},sortRows:function(t,a,e,s){var n,i,l,o;l=t,o=[],b.each(l,function(t,e){o.push({cell:u(b(e).children().get(a)),rowNum:t})}),n=o;var r,c,d,h=b(s).data("tablesaw-sort");return i=!(!h||"function"!=typeof h)&&h(e)||(r=e,c=b(s).is("[data-sortable-numeric]"),d=/[^\-\+\d\.]/g,r?function(t,e){return c||!isNaN(parseFloat(t.cell))?parseFloat(t.cell.replace(d,""))-parseFloat(e.cell.replace(d,"")):t.cell.toLowerCase()>e.cell.toLowerCase()?1:-1}:function(t,e){return c||!isNaN(parseFloat(t.cell))?parseFloat(e.cell.replace(d,""))-parseFloat(t.cell.replace(d,"")):t.cell.toLowerCase()<e.cell.toLowerCase()?1:-1}),t=function(t,e){var a,s,n,i=[];for(a=0,s=t.length;a<s;a++)n=t[a].rowNum,i.push(e[n]);return i}(n.sort(i),t)},replaceTableRows:function(t){b(this).find("tbody").html(t)},makeColDefault:function(t,e){var a=b(t);a.attr(c,"true"),e?(a.removeClass(d.descend),a.addClass(d.ascend)):(a.removeClass(d.ascend),a.addClass(d.descend))},sortBy:function(t,e){var a,s,n=b(this);a=n[r]("getColumnNumber",t),s=n[r]("getTableRows"),s=n[r]("sortRows",s,a,e,t),n[r]("replaceTableRows",s),n[r]("makeColDefault",t,e)}};b.fn[r]=function(t){var e,a=Array.prototype.slice.call(arguments,1);return t&&"string"==typeof t?void 0!==(e=b.fn[r].prototype[t].apply(this[0],a))?e:b(this):(b(this).data(r+"data")||(b(this).data(r+"active",!0),b.fn[r].prototype._create.call(this,t)),b(this))},b.extend(b.fn[r].prototype,t),b(document).on("tablesawcreate",function(t,e){e.$table.is("table[data-tablesaw-sortable]")&&e.$table[r]()})}(jQuery),function(l,o,t){var r={init:"data-tablesaw-minimap"};function a(a){var s=o('<div class="tablesaw-advance minimap">'),n=o('<ul class="tablesaw-advance-dots">').appendTo(s),i="tablesaw-advance-dots-hide";function e(){if(!(t=a.attr(r.init))||l.matchMedia&&l.matchMedia(t).matches){var t;s.show();var e=n.find("li").removeClass(i);a.find("thead th").each(function(t){"none"===o(this).css("display")&&e.eq(t).addClass(i)})}else s.hide()}a.find("thead th").each(function(){n.append("<li><i></i></li>")}),s.appendTo(a.prev().filter(".tablesaw-bar")),e(),o(l).on("resize",e),a.bind("tablesawcolumns.minimap",function(){e()}).bind("tablesawdestroy.minimap",function(){var t=o(this);t.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),o(l).off("resize",e),t.unbind(".minimap")})}o(document).on("tablesawcreate",function(t,e){"swipe"!==e.mode&&"columntoggle"!==e.mode||!e.$table.is("[ "+r.init+"]")||a(e.$table)})}(this,jQuery),function(t,n){var o={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],init:function(t){var i=n(t),l=i.attr(o.attributes.excludeMode),e=i.prev().filter(".tablesaw-bar"),a=n("<div>").addClass(o.classes.main+" "+o.classes.toolbar).html(function(){var t,e=["<label>"+Tablesaw.i18n.columns+":"],a=i.attr("data-tablesaw-mode");e.push('<span class="btn btn-small">&#160;<select>');for(var s=0,n=o.modes.length;s<n;s++)l&&l.toLowerCase()===o.modes[s]||((t=a===o.modes[s])&&o.modes[s],e.push("<option"+(t?" selected":"")+' value="'+o.modes[s]+'">'+Tablesaw.i18n.modes[s]+"</option>"));return e.push("</select></span></label>"),e.join("")}),s=e.find(".tablesaw-advance").eq(0);s.length?a.insertBefore(s):a.appendTo(e),a.find(".btn").tablesawbtn(),a.find("select").bind("change",o.onModeChange)},onModeChange:function(){var t=n(this),e=t.closest("."+o.classes.main),a=t.closest(".tablesaw-bar").nextUntil(a).eq(0),s=t.val();e.remove(),a.data("table").destroy(),a.attr("data-tablesaw-mode",s),a.table()}};n(t.document).on("tablesawcreate",function(t,e){e.$table.is(o.selectors.init)&&o.init(e.table)})}(this,jQuery);