/*
* datalist-polyfill.js - https://github.com/mfranzke/datalist-polyfill
* @license Copyright(c) 2017 by Maximilian Franzke
* Supported by Christian, Johannes and Michael - many thanks for that !
*/
!function(){"use strict";if(!("list"in document.createElement("input"))||(!document.createElement("datalist")||!window.HTMLDataListElement)){!function(e){e&&e.prototype&&void 0===e.prototype.list&&Object.defineProperty(e.prototype,"list",{get:function(){if("object"==typeof this&&this instanceof e){var t=this.getAttribute("list");return document.getElementById(t)}return null}})}(window.HTMLInputElement),function(e){e&&e.prototype&&void 0===e.prototype.options&&Object.defineProperty(e.prototype,"options",{get:function(){if("object"==typeof this&&this instanceof e)return this.getElementsByTagName("option")}})}(window.HTMLElement);var e=!0,t=13,i=27,r=38,n=40;window.addEventListener("touchstart",function t(){e=!1,window.removeEventListener("touchstart",t)});var o=function(t){var i=t.target,r=i.tagName.toLowerCase();if(r&&"input"===r&&i.getAttribute("list")){var n=i.getAttribute("list"),o=document.getElementById(n);if(null!==o){var a=o.getElementsByTagName("select")[0];if(void 0!==a){if(27===t.keyCode)return a.setAttributeNode(document.createAttribute("hidden")),void a.setAttribute("aria-hidden","true");var u=o.querySelectorAll("option[value]"),d=i.value,l=document.createDocumentFragment(),s=document.createDocumentFragment(),p=!1;if("email"===i.type&&i.multiple){var c=d.split(","),m=c.length-1;d=c[m].trim()}""!==d&&(Array.prototype.slice.call(u).sort(function(e,t){return e.value.localeCompare(t.value)}).forEach(function(e){var t=e.value;""!==t&&-1!==t.toLowerCase().indexOf(d.toLowerCase())&&!1===e.disabled?(e.innerText=t,l.appendChild(e),p=!0):s.appendChild(e)}),a.appendChild(l),e||(a.selectedIndex=0),o.appendChild(s)),p?a.removeAttribute("hidden"):a.setAttributeNode(document.createAttribute("hidden")),a.setAttribute("aria-hidden",(!p).toString()),38!==t.keyCode&&40!==t.keyCode||a.focus()}}}},a=function(t){var i=t.target,r=i.tagName.toLowerCase(),n=window.getComputedStyle(i);if(r&&"input"===r&&i.getAttribute("list")){var d=t.type,l=i.getAttribute("list"),s=document.getElementById(l);if(null!==s){var p=s.getElementsByTagName("select")[0],c="focus"===d&&""!==t.target.value||t.relatedTarget&&t.relatedTarget===p,m=s.title;if(void 0===p){var v=i.getClientRects(),b=parseFloat(n.getPropertyValue("margin-right")),g=parseFloat(n.getPropertyValue("margin-left"));if(p=document.createElement("select"),e&&p.setAttribute("multiple","true"),p.setAttributeNode(document.createAttribute("hidden")),p.style.position="absolute",p.setAttribute("aria-hidden","true"),p.setAttribute("aria-live","polite"),p.setAttribute("role","listbox"),"rtl"===n.getPropertyValue("direction")?p.style.marginRight="-"+(v[0].width+g)+"px":p.style.marginLeft="-"+(v[0].width+b)+"px",p.style.borderRadius=n.getPropertyValue("border-radius"),p.style.marginTop=v[0].height+"px",p.style.minWidth=v[0].width+"px",!e){var y=document.createElement("option");y.innerText=m,y.disabled=!0,p.appendChild(y)}s.appendChild(p),e?p.addEventListener("mouseup",u):p.addEventListener("change",u),p.addEventListener("blur",u),p.addEventListener("keyup",u),i.setAttribute("autocomplete","off"),i.setAttribute("role","textbox"),i.setAttribute("aria-haspopup","true"),i.setAttribute("aria-autocomplete","list"),i.setAttribute("aria-owns",l)}switch(c?p.removeAttribute("hidden"):p.setAttributeNode(document.createAttribute("hidden")),p.setAttribute("aria-hidden",(!c).toString()),d){case"focus":i.addEventListener("keyup",o),i.addEventListener("blur",a,!0);break;case"blur":i.removeEventListener("keyup",o),i.removeEventListener("blur",a,!0);break}}}},u=function(e){var t=e.target,i=t.tagName.toLowerCase();if(i&&("select"===i||"option"===i)){var r="select"===i?t:t.parentNode,n=r.parentNode,o=n.title,a=e.type,u="keyup"===a&&13!==e.keyCode&&27!==e.keyCode;if("change"===a||"mouseup"===a||"keyup"===a&&13===e.keyCode){var d=n.id,l=document.querySelector('input[list="'+d+'"]'),s=r.value;if(null!==l&&s.length>0&&s!==o){var p=l.value,c;"email"===l.type&&l.multiple&&(c=p.lastIndexOf(","))>-1?l.value=p.slice(0,c)+","+s:l.value=s,u=!1}}u?r.removeAttribute("hidden"):r.setAttributeNode(document.createAttribute("hidden")),r.setAttribute("aria-hidden",(!u).toString())}};document.addEventListener("focus",a,!0)}}();