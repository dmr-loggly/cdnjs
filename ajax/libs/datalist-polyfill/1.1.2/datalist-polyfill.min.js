/*
* datalist-polyfill.js - https://github.com/mfranzke/datalist-polyfill
* @license Copyright(c) 2017 by Maximilian Franzke
* Supported by Christian and Johannes - many thanks for that !
*/
!function(){"use strict";if(!("list"in document.createElement("input"))||(!document.createElement("datalist")||!window.HTMLDataListElement)){var e=function(e){var t=e.target,i=t.tagName;if(i&&"input"===i.toLowerCase()&&t.getAttribute("list")){var a=t.getAttribute("list"),r=document.getElementById(a);if(null!==r){var n=r.getElementsByTagName("select")[0];if(void 0!==n){if(27===e.keyCode)return n.classList.remove("visible"),void n.setAttribute("aria-hidden",!0);var l=r.querySelectorAll("option[value]"),s=t.value,o=document.createDocumentFragment(),d=document.createDocumentFragment(),u=!1;""!==s&&(Array.prototype.slice.call(l).sort(function(e,t){return e.value.localeCompare(t.value)}).forEach(function(e){var t=e.value;""!==t&&-1!==t.toLowerCase().indexOf(s.toLowerCase())&&!1===e.disabled?(e.innerText=t,o.appendChild(e),u=!0):d.appendChild(e)}),n.appendChild(o),n.selectedIndex=0,r.appendChild(d)),n.classList.toggle("visible",u),n.setAttribute("aria-hidden",!u),38!==e.keyCode&&40!==e.keyCode||n.focus()}}}},t=function(a){var r=a.target,n=r.tagName;if(n&&"input"===n.toLowerCase()&&r.getAttribute("list")){var l=a.type,s=r.getAttribute("list"),o=document.getElementById(s);if(null!==o){var d=o.getElementsByTagName("select")[0],u="focus"===l&&""!==a.target.value||a.relatedTarget&&a.relatedTarget===d,c=o.title;if(void 0===d){var p=r.getClientRects(),v=document.createElement("option");d=document.createElement("select"),d.setAttribute("aria-hidden",!0),d.setAttribute("aria-live","polite"),d.setAttribute("role","listbox"),d.style.marginLeft="-"+p[0].width+"px",d.style.marginTop=p[0].height+"px",d.style.minWidth=p[0].width+"px",v.innerText=c,v.disabled=!0,d.appendChild(v),o.appendChild(d),d.addEventListener("change",i),d.addEventListener("blur",i),d.addEventListener("keyup",i),r.setAttribute("autocomplete","off"),r.setAttribute("role","textbox"),r.setAttribute("aria-haspopup","true"),r.setAttribute("aria-autocomplete","list"),r.setAttribute("aria-owns",s)}switch(d.classList.toggle("visible",u),d.setAttribute("aria-hidden",!u),l){case"focus":r.addEventListener("keyup",e),r.addEventListener("blur",t,!0);break;case"blur":r.removeEventListener("keyup",e),r.removeEventListener("blur",t,!0);break}}}},i=function(e){var t=e.target,i=t.tagName,a=t.parentNode.title;if(i&&"select"===i.toLowerCase()){var r=e.type,n="keyup"===r&&13!==e.keyCode&&27!==e.keyCode;if("change"===r||"keyup"===r&&13===e.keyCode){var l=t.parentNode.id,s=document.querySelector('input[list="'+l+'"]'),o=t.value;null!==s&&o.length>0&&o!==a&&(s.value=o)}t.classList.toggle("visible",n),t.setAttribute("aria-hidden",!n)}};document.addEventListener("focus",t,!0)}}();