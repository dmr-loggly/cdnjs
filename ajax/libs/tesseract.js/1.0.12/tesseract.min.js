!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Tesseract=e()}}(function(){return function s(i,a,c){function u(n,e){if(!a[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=a[n]={exports:{}};i[n][0].call(o.exports,function(e){var t=i[n][1][e];return u(t||e)},o,o.exports,s,i,a,c)}return a[n].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,n){var r,o,s=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var u,l=[],h=!1,f=-1;function p(){h&&u&&(h=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!h){var e=c(p);h=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,h=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||h||c(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],2:[function(e,t,n){t.exports={name:"tesseract.js",version:"1.0.11",description:"Pure Javascript Multilingual OCR",main:"src/index.js",scripts:{test:'echo "Error: no test specified" & exit 1',start:"watchify src/index.js  -t [ envify --NODE_ENV development ] -t [ babelify --presets [ es2015 ] ] -o dist/tesseract.dev.js --standalone Tesseract & watchify src/browser/worker.js  -t [ envify --NODE_ENV development ] -t [ babelify --presets [ es2015 ] ] -o dist/worker.dev.js & http-server -p 7355",build:"browserify src/index.js -t [ babelify --presets [ es2015 ] ] -o dist/tesseract.js --standalone Tesseract && browserify src/browser/worker.js -t [ babelify --presets [ es2015 ] ] -o dist/worker.js",release:"npm run build && git commit -am 'new release' && git push && git tag `jq -r '.version' package.json` && git push origin --tags && npm publish"},browser:{"./src/node/index.js":"./src/browser/index.js"},author:"",license:"Apache-2.0",devDependencies:{"babel-preset-es2015":"^6.16.0",babelify:"^7.3.0",browserify:"^13.1.0",envify:"^3.4.1","http-server":"^0.9.0",pako:"^1.0.3",watchify:"^3.7.0"},dependencies:{"file-type":"^3.8.0","isomorphic-fetch":"^2.2.1","is-url":"^1.2.2","jpeg-js":"^0.2.0","level-js":"^2.2.4","node-fetch":"^1.6.3","object-assign":"^4.1.0","png.js":"^0.2.1","tesseract.js-core":"^1.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js"}},{}],3:[function(r,e,o){(function(e){"use strict";var t={corePath:"https://rawcdn.githack.com/naptha/tesseract.js-core/0.1.0/index.js",langPath:"https://rawcdn.githack.com/naptha/tessdata/gh-pages/3.02/"};if("development"===e.env.NODE_ENV)console.debug("Using Development Configuration"),t.workerPath=location.protocol+"//"+location.host+"/dist/worker.dev.js?nocache="+Math.random().toString(36).slice(3);else{var n=r("../../package.json").version;t.workerPath="https://rawcdn.githack.com/naptha/tesseract.js/"+n+"/dist/worker.js"}o.defaultOptions=t,o.spawnWorker=function(n,e){if(window.Blob&&window.URL)var t=new Blob(['importScripts("'+e.workerPath+'");']),r=new Worker(window.URL.createObjectURL(t));else r=new Worker(e.workerPath);return r.onmessage=function(e){var t=e.data;n._recv(t)},r},o.terminateWorker=function(e){e.worker.terminate()},o.sendPacket=function(t,n){!function t(n,r){{if("string"==typeof n){if(/^\#/.test(n))return t(document.querySelector(n),r);if(/(blob|data)\:/.test(n)){var o=new Image;return o.src=n,void(o.onload=function(e){return t(o,r)})}var s=new XMLHttpRequest;return s.open("GET",n,!0),s.responseType="blob",s.onload=function(e){return t(s.response,r)},s.onerror=function(e){/^https?:\/\//.test(n)&&!/^https:\/\/crossorigin.me/.test(n)&&(console.debug("Attempting to load image with CORS proxy"),t("https://crossorigin.me/"+n,r))},void s.send(null)}if(n instanceof File){var i=new FileReader;return i.onload=function(e){return t(i.result,r)},void i.readAsDataURL(n)}if(n instanceof Blob)return t(URL.createObjectURL(n),r);if(n.getContext)return t(n.getContext("2d"),r);if("IMG"==n.tagName||"VIDEO"==n.tagName){var e=document.createElement("canvas");e.width=n.naturalWidth||n.videoWidth,e.height=n.naturalHeight||n.videoHeight;var a=e.getContext("2d");return a.drawImage(n,0,0),t(a,r)}if(n.getImageData){var c=n.getImageData(0,0,n.canvas.width,n.canvas.height);return t(c,r)}return r(n)}throw new Error("Missing return in loadImage cascade")}(n.payload.image,function(e){n.payload.image=e,t.worker.postMessage(n)})}}).call(this,r("_process"))},{"../../package.json":2,_process:1}],4:[function(e,t,n){"use strict";t.exports=function(s){return s.paragraphs=[],s.lines=[],s.words=[],s.symbols=[],s.blocks.forEach(function(o){o.page=s,o.lines=[],o.words=[],o.symbols=[],o.paragraphs.forEach(function(r){r.block=o,r.page=s,r.words=[],r.symbols=[],r.lines.forEach(function(n){n.paragraph=r,n.block=o,n.page=s,n.symbols=[],n.words.forEach(function(t){t.line=n,t.paragraph=r,t.block=o,t.page=s,t.symbols.forEach(function(e){e.word=t,e.line=n,e.paragraph=r,e.block=o,e.page=s,e.line.symbols.push(e),e.paragraph.symbols.push(e),e.block.symbols.push(e),e.page.symbols.push(e)}),t.paragraph.words.push(t),t.block.words.push(t),t.page.words.push(t)}),n.block.lines.push(n),n.page.lines.push(n)}),r.page.paragraphs.push(r)})}),s}},{}],5:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var o=e("../node/index.js"),s=0;t.exports=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.id="Job-"+ ++s+"-"+Math.random().toString(16).slice(3,8),this._instance=e,this._resolve=[],this._reject=[],this._progress=[],this._finally=[]}return r(t,[{key:"then",value:function(e,t){return this._resolve.push?this._resolve.push(e):e(this._resolve),t&&this.catch(t),this}},{key:"catch",value:function(e){return this._reject.push?this._reject.push(e):e(this._reject),this}},{key:"progress",value:function(e){return this._progress.push(e),this}},{key:"finally",value:function(e){return this._finally.push(e),this}},{key:"_send",value:function(e,t){o.sendPacket(this._instance,{jobId:this.id,action:e,payload:t})}},{key:"_handle",value:function(e){var n=e.data,t=!1;"resolve"===e.status?(0===this._resolve.length&&console.log(n),this._resolve.forEach(function(e){var t=e(n);t&&"function"==typeof t.then&&console.warn("TesseractJob instances do not chain like ES6 Promises. To convert it into a real promise, use Promise.resolve.")}),this._resolve=n,this._instance._dequeue(),t=!0):"reject"===e.status?(0===this._reject.length&&console.error(n),this._reject.forEach(function(e){return e(n)}),this._reject=n,this._instance._dequeue(),t=!0):"progress"===e.status?this._progress.forEach(function(e){return e(n)}):console.warn("Message type unknown",e.status),t&&this._finally.forEach(function(e){return e(n)})}}]),t}()},{"../node/index.js":3}],6:[function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var o=e("./node/index.js"),s=e("./common/circularize.js"),i=e("./common/job"),a=e("../package.json").version;var c=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.worker=null,this.workerOptions=e,this._currentJob=null,this._queue=[]}return r(t,[{key:"recognize",value:function(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._delay(function(e){"string"==typeof r&&(r={lang:r}),r.lang=r.lang||"eng",e._send("recognize",{image:t,options:r,workerOptions:n.workerOptions})})}},{key:"detect",value:function(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._delay(function(e){e._send("detect",{image:t,options:r,workerOptions:n.workerOptions})})}},{key:"terminate",value:function(){this.worker&&o.terminateWorker(this),this.worker=null,this._currentJob=null,this._queue=[]}},{key:"_delay",value:function(t){var n=this;this.worker||(this.worker=o.spawnWorker(this,this.workerOptions));var r=new i(this);return this._queue.push(function(e){n._queue.shift(),n._currentJob=r,t(r)}),this._currentJob||this._dequeue(),r}},{key:"_dequeue",value:function(){this._currentJob=null,this._queue.length&&this._queue[0]()}},{key:"_recv",value:function(e){"resolve"===e.status&&"recognize"===e.action&&(e.data=s(e.data)),this._currentJob.id===e.jobId?this._currentJob._handle(e):console.warn("Job ID "+e.jobId+" not known.")}}]),t}();t.exports=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=new c(Object.assign({},o.defaultOptions,t));return n.create=e,n.version=a,n}()},{"../package.json":2,"./common/circularize.js":4,"./common/job":5,"./node/index.js":3}]},{},[6])(6)});