!function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],t):"object"==typeof module&&module.exports?t(require("./load-image"),require("./load-image-meta")):t(window.loadImage)}(function(f){"use strict";f.IptcMap=function(){return this},f.IptcMap.prototype.map={ObjectName:5},f.IptcMap.prototype.get=function(t){return this[t]||this[this.map[t]]},f.parseIptcTags=function(t,e,a,i){function n(t,e,a){for(var i="",n=e;n<e+a;n++)i+=String.fromCharCode(t.getUint8(n));return i}for(var p,r,o=e;o<e+a;)28===t.getUint8(o)&&2===t.getUint8(o+1)&&(r=t.getUint8(o+2))in i.iptc.tags&&(p=n(t,o+5,t.getInt16(o+3)),i.iptc.hasOwnProperty(r)?i.iptc[r]instanceof Array?i.iptc[r].push(p):i.iptc[r]=[i.iptc[r],p]:i.iptc[r]=p),o++},f.parseIptcData=function(t,e,a,i,n){if(!n.disableIptc){for(var p,r;e<e+a;){if(r=e,943868237===(p=t).getUint32(r)&&1028===p.getUint16(r+4)){var o=t.getUint8(e+7);o%2!=0&&(o+=1),0===o&&(o=4);var c=e+8+o,s=t.getUint16(e+6+o);return i.iptc=new f.IptcMap,f.parseIptcTags(t,c,s,i)}e++}console.log("No IPTC data at this offset - could be XMP")}},f.metaDataParsers.jpeg[65517].push(f.parseIptcData)});