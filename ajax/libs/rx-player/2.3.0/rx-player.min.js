var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[f]=a.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var f=0;return $jscomp.iteratorPrototype(function(){return f<b.length?{done:!1,value:b[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(b,f){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var a=0,m={next:function(){if(a<b.length){var h=a++;return{value:f(h,b[h]),done:!1}}m.next=function(){return{done:!0,value:void 0}};return m.next()}};m[Symbol.iterator]=function(){return m};return m};
$jscomp.polyfill=function(b,f,a,m){if(f){a=$jscomp.global;b=b.split(".");for(m=0;m<b.length-1;m++){var h=b[m];h in a||(a[h]={});a=a[h]}b=b[b.length-1];m=a[b];f=f(m);f!=m&&null!=f&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6-impl","es3");
$jscomp.polyfill("Object.getOwnPropertySymbols",function(b){return b?b:function(){return[]}},"es6-impl","es5");$jscomp.owns=function(b,f){return Object.prototype.hasOwnProperty.call(b,f)};$jscomp.polyfill("Object.assign",function(b){return b?b:function(b,a){for(var f=1;f<arguments.length;f++){var h=arguments[f];if(h)for(var k in h)$jscomp.owns(h,k)&&(b[k]=h[k])}return b}},"es6-impl","es3");
$jscomp.findInternal=function(b,f,a){b instanceof String&&(b=String(b));for(var m=b.length,h=0;h<m;h++){var k=b[h];if(f.call(a,k,h,b))return{i:h,v:k}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b,a){return a})}},"es6","es3");
(function(b,f){"object"===typeof exports&&"object"===typeof module?module.exports=f():"function"===typeof define&&define.amd?define([],f):"object"===typeof exports?exports.RxPlayer=f():b.RxPlayer=f()})(this,function(){return function(b){function f(m){if(a[m])return a[m].exports;var h=a[m]={i:m,l:!1,exports:{}};b[m].call(h.exports,h,h.exports,f);h.l=!0;return h.exports}var a={};f.m=b;f.c=a;f.i=function(a){return a};f.d=function(a,b,k){f.o(a,b)||Object.defineProperty(a,b,{configurable:!1,enumerable:!0,
get:k})};f.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};f.d(b,"a",b);return b};f.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};f.p="";return f(f.s=81)}([function(b,f,a){var m=a(5),h=a(178),k=a(38);b=function(){function a(a){this._isScalar=!1;a&&(this._subscribe=a)}a.prototype.lift=function(e){var d=new a;d.source=this;d.operator=e;return d};a.prototype.subscribe=function(a,d,c){var e=this.operator;a=h.toSubscriber(a,d,c);e?e.call(a,this.source):
a.add(this.source?this._subscribe(a):this._trySubscribe(a));if(a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a};a.prototype._trySubscribe=function(a){try{return this._subscribe(a)}catch(d){a.syncErrorThrown=!0,a.syncErrorValue=d,a.error(d)}};a.prototype.forEach=function(a,d){var c=this;d||(m.root.Rx&&m.root.Rx.config&&m.root.Rx.config.Promise?d=m.root.Rx.config.Promise:m.root.Promise&&(d=m.root.Promise));if(!d)throw Error("no Promise impl found");
return new d(function(d,e){var l;l=c.subscribe(function(c){if(l)try{a(c)}catch(p){e(p),l.unsubscribe()}else a(c)},e,d)})};a.prototype._subscribe=function(a){return this.source.subscribe(a)};a.prototype[k.observable]=function(){return this};a.create=function(e){return new a(e)};return a}();f.Observable=b},function(b,f,a){function m(a){this.name="AssertionError";this.message=a;Error.captureStackTrace&&Error.captureStackTrace(this,m)}function h(a,e){if(!a)throw new m(e);}var k="function"===typeof Symbol&&
"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};m.prototype=Error();h.equal=function(a,e,d){return h(a===e,d)};h.iface=function(a,e,d){h(a,e+" should be an object");for(var c in d)h.equal(k(a[c]),d[c],e+" should have property "+c+" as a "+d[c])};f.a=h},function(b,f,a){var m=this&&this.__extends||function(a,c){function d(){this.constructor=a}for(var e in c)c.hasOwnProperty(e)&&
(a[e]=c[e]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)},h=a(40);b=a(4);var k=a(50),g=a(39);a=function(a){function c(d,n,g){a.call(this);this.syncErrorValue=null;this.isStopped=this.syncErrorThrowable=this.syncErrorThrown=!1;switch(arguments.length){case 0:this.destination=k.empty;break;case 1:if(!d){this.destination=k.empty;break}if("object"===typeof d){d instanceof c?(this.destination=d,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new e(this,
d));break}default:this.syncErrorThrowable=!0,this.destination=new e(this,d,n,g)}}m(c,a);c.prototype[g.rxSubscriber]=function(){return this};c.create=function(a,d,e){a=new c(a,d,e);a.syncErrorThrowable=!1;return a};c.prototype.next=function(a){this.isStopped||this._next(a)};c.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))};c.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())};c.prototype.unsubscribe=function(){this.closed||(this.isStopped=
!0,a.prototype.unsubscribe.call(this))};c.prototype._next=function(a){this.destination.next(a)};c.prototype._error=function(a){this.destination.error(a);this.unsubscribe()};c.prototype._complete=function(){this.destination.complete();this.unsubscribe()};c.prototype._unsubscribeAndRecycle=function(){var a=this._parent,c=this._parents;this._parents=this._parent=null;this.unsubscribe();this.isStopped=this.closed=!1;this._parent=a;this._parents=c;return this};return c}(b.Subscription);f.Subscriber=a;
var e=function(a){function c(c,d,e,g){a.call(this);this._parentSubscriber=c;var l;c=this;h.isFunction(d)?l=d:d&&(l=d.next,e=d.error,g=d.complete,d!==k.empty&&(c=Object.create(d),h.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this)));this._context=c;this._next=l;this._error=e;this._complete=g}m(c,a);c.prototype.next=function(a){if(!this.isStopped&&this._next){var c=this._parentSubscriber;c.syncErrorThrowable?this.__tryOrSetError(c,this._next,a)&&this.unsubscribe():
this.__tryOrUnsub(this._next,a)}};c.prototype.error=function(a){if(!this.isStopped){var c=this._parentSubscriber;if(this._error)c.syncErrorThrowable?this.__tryOrSetError(c,this._error,a):this.__tryOrUnsub(this._error,a),this.unsubscribe();else if(c.syncErrorThrowable)c.syncErrorValue=a,c.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};c.prototype.complete=function(){var a=this;if(!this.isStopped){var c=this._parentSubscriber;if(this._complete){var d=function(){return a._complete.call(a._context)};
c.syncErrorThrowable?this.__tryOrSetError(c,d):this.__tryOrUnsub(d)}this.unsubscribe()}};c.prototype.__tryOrUnsub=function(a,c){try{a.call(this._context,c)}catch(q){throw this.unsubscribe(),q;}};c.prototype.__tryOrSetError=function(a,c,d){try{c.call(this._context,d)}catch(t){return a.syncErrorValue=t,a.syncErrorThrown=!0}return!1};c.prototype._unsubscribe=function(){var a=this._parentSubscriber;this._parentSubscriber=this._context=null;a.unsubscribe()};return c}(a)},function(b,f,a){function m(){}
var h={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},k=function(){};m.error=k;m.warn=k;m.info=k;m.debug=k;m.setLevel=function(a){"string"==typeof a&&(a=h[a]);m.error=a>=h.ERROR?console.error.bind(console):k;m.warn=a>=h.WARNING?console.warn.bind(console):k;m.info=a>=h.INFO?console.info.bind(console):k;m.debug=a>=h.DEBUG?console.log.bind(console):k};f.a=m},function(b,f,a){function m(a){return a.reduce(function(a,d){return a.concat(d instanceof c.UnsubscriptionError?d.errors:d)},[])}var h=a(24),k=a(65),g=
a(40),e=a(41),d=a(28),c=a(177);b=function(){function a(a){this.closed=!1;this._subscriptions=this._parents=this._parent=null;a&&(this._unsubscribe=a)}a.prototype.unsubscribe=function(){var a=!1,l;if(!this.closed){var b=this._parent,f=this._parents,v=this._unsubscribe,u=this._subscriptions;this.closed=!0;this._subscriptions=this._parents=this._parent=null;for(var r=-1,w=f?f.length:0;b;)b.remove(this),b=++r<w&&f[r]||null;g.isFunction(v)&&(b=e.tryCatch(v).call(this),b===d.errorObject&&(a=!0,l=l||(d.errorObject.e instanceof
c.UnsubscriptionError?m(d.errorObject.e.errors):[d.errorObject.e])));if(h.isArray(u))for(r=-1,w=u.length;++r<w;)b=u[r],k.isObject(b)&&(b=e.tryCatch(b.unsubscribe).call(b),b===d.errorObject&&(a=!0,l=l||[],b=d.errorObject.e,b instanceof c.UnsubscriptionError?l=l.concat(m(b.errors)):l.push(b)));if(a)throw new c.UnsubscriptionError(l);}};a.prototype.add=function(c){if(!c||c===a.EMPTY)return a.EMPTY;if(c===this)return this;var d=c;switch(typeof c){case "function":d=new a(c);case "object":if(d.closed||
"function"!==typeof d.unsubscribe)return d;if(this.closed)return d.unsubscribe(),d;"function"!==typeof d._addParent&&(c=d,d=new a,d._subscriptions=[c]);break;default:throw Error("unrecognized teardown "+c+" added to Subscription.");}(this._subscriptions||(this._subscriptions=[])).push(d);d._addParent(this);return d};a.prototype.remove=function(a){var c=this._subscriptions;c&&(a=c.indexOf(a),-1!==a&&c.splice(a,1))};a.prototype._addParent=function(a){var c=this._parent,d=this._parents;c&&c!==a?d?-1===
d.indexOf(a)&&d.push(a):this._parents=[a]:this._parent=a};a.EMPTY=function(a){a.closed=!0;return a}(new a);return a}();f.Subscription=b},function(b,f,a){(function(a){var b="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;a="undefined"!==typeof window&&window||"undefined"!==typeof a&&a||b;f.root=a;if(!a)throw Error("RxJS could not find any global context (window, self, global)");}).call(f,a(179))},function(b,f,a){function m(a){var c=a.reduce(function(a,
c){a[c]=c;return a},{});c.keys=a;return c}function h(a,c,d){return a+"("+c+")"+(d?": "+d.message:"")}function k(a,c,d){this.name="MediaError";this.type=q.MEDIA_ERROR;this.reason=c;this.code=p[a];this.fatal=d;this.message=h(this.name,this.code,this.reason)}function g(a,c,d){this.name="NetworkError";this.type=q.NETWORK_ERROR;this.xhr=c.xhr;this.url=c.url;this.status=c.status;this.reqType=c.type;this.reason=c;this.code=p[a];this.fatal=d;this.message=this.reason?h(this.name,this.code,this.reason):h(this.name,
this.code,{message:""+this.reqType+(0<this.status?"("+this.status+")":"")+" on "+this.url})}function e(a,c,d){this.name="EncryptedMediaError";this.type=q.ENCRYPTED_MEDIA_ERROR;this.reason=c;this.code=p[a];this.fatal=d;this.message=h(this.name,this.code,this.reason)}function d(a,c,d){this.name="IndexError";this.type=q.INDEX_ERROR;this.indexType=c;this.reason=null;this.code=p[a];this.fatal=d;this.message=h(this.name,this.code,null)}function c(a,c,d){this.name="OtherError";this.type=q.OTHER_ERROR;this.reason=
c;this.code=p[a];this.fatal=d;this.message=h(this.name,this.code,this.reason)}function l(a,c,d){this.name="RequestError";this.url=c.url;this.xhr=a;this.status=a.status;this.message=this.type=d}function n(a){return!!a&&!!a.type&&0<=q.keys.indexOf(a.type)}a.d(f,"a",function(){return q});a.d(f,"b",function(){return p});a.d(f,"d",function(){return k});a.d(f,"j",function(){return g});a.d(f,"c",function(){return e});a.d(f,"g",function(){return d});a.d(f,"f",function(){return c});a.d(f,"h",function(){return l});
a.d(f,"i",function(){return t});a.d(f,"e",function(){return n});var q=m(["NETWORK_ERROR","MEDIA_ERROR","ENCRYPTED_MEDIA_ERROR","INDEX_ERROR","OTHER_ERROR"]),t=m(["TIMEOUT","ERROR_EVENT","ERROR_HTTP_CODE","PARSE_ERROR"]),p=m("PIPELINE_RESOLVE_ERROR PIPELINE_LOAD_ERROR PIPELINE_PARSING_ERROR MANIFEST_PARSE_ERROR MANIFEST_INCOMPATIBLE_CODECS_ERROR MEDIA_IS_ENCRYPTED_ERROR KEY_ERROR KEY_STATUS_CHANGE_ERROR KEY_UPDATE_ERROR KEY_LOAD_ERROR KEY_LOAD_TIMEOUT KEY_GENERATE_REQUEST_ERROR INCOMPATIBLE_KEYSYSTEMS LICENSE_SERVER_CERTIFICATE_ERROR BUFFER_APPEND_ERROR BUFFER_FULL_ERROR BUFFER_TYPE_UNKNOWN MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_SOURCE_NOT_SUPPORTED MEDIA_KEYS_NOT_SUPPORTED OUT_OF_INDEX_ERROR UNKNOWN_INDEX".split(" "));
k.prototype=Error();g.prototype=Error();g.prototype.isHttpError=function(a){return this.reqType==t.ERROR_HTTP_CODE&&this.status==a};e.prototype=Error();d.prototype=Error();c.prototype=Error();l.prototype=Error()},function(b,f,a){var m=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;b.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var e={},a=0;10>a;a++)e["_"+
String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(a){return e[a]}).join(""))return!1;var d={};"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},d)).join("")?!1:!0}catch(c){return!1}}()?Object.assign:function(a,e){var d,c;if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");c=Object(a);for(var l,g=1;g<arguments.length;g++){d=Object(arguments[g]);
for(var b in d)h.call(d,b)&&(c[b]=d[b]);if(m){l=m(d);for(var f=0;f<l.length;f++)k.call(d,l[f])&&(c[l[f]]=d[l[f]])}}return c}},function(b,f,a){var m=this&&this.__extends||function(a,c){function d(){this.constructor=a}for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)},h=a(0);b=a(2);var k=a(4),g=a(60),e=a(110),d=a(39),c=function(a){function c(c){a.call(this,c);this.destination=c}m(c,a);return c}(b.Subscriber);f.SubjectSubscriber=c;a=
function(a){function b(){a.call(this);this.observers=[];this.hasError=this.isStopped=this.closed=!1;this.thrownError=null}m(b,a);b.prototype[d.rxSubscriber]=function(){return new c(this)};b.prototype.lift=function(a){var c=new l(this,this);c.operator=a;return c};b.prototype.next=function(a){if(this.closed)throw new g.ObjectUnsubscribedError;if(!this.isStopped)for(var c=this.observers,d=c.length,c=c.slice(),e=0;e<d;e++)c[e].next(a)};b.prototype.error=function(a){if(this.closed)throw new g.ObjectUnsubscribedError;
this.hasError=!0;this.thrownError=a;this.isStopped=!0;for(var c=this.observers,d=c.length,c=c.slice(),e=0;e<d;e++)c[e].error(a);this.observers.length=0};b.prototype.complete=function(){if(this.closed)throw new g.ObjectUnsubscribedError;this.isStopped=!0;for(var a=this.observers,c=a.length,a=a.slice(),d=0;d<c;d++)a[d].complete();this.observers.length=0};b.prototype.unsubscribe=function(){this.closed=this.isStopped=!0;this.observers=null};b.prototype._trySubscribe=function(c){if(this.closed)throw new g.ObjectUnsubscribedError;
return a.prototype._trySubscribe.call(this,c)};b.prototype._subscribe=function(a){if(this.closed)throw new g.ObjectUnsubscribedError;if(this.hasError)return a.error(this.thrownError),k.Subscription.EMPTY;if(this.isStopped)return a.complete(),k.Subscription.EMPTY;this.observers.push(a);return new e.SubjectSubscription(this,a)};b.prototype.asObservable=function(){var a=new h.Observable;a.source=this;return a};b.create=function(a,c){return new l(a,c)};return b}(h.Observable);f.Subject=a;var l=function(a){function c(c,
d){a.call(this);this.destination=c;this.source=d}m(c,a);c.prototype.next=function(a){var c=this.destination;c&&c.next&&c.next(a)};c.prototype.error=function(a){var c=this.destination;c&&c.error&&this.destination.error(a)};c.prototype.complete=function(){var a=this.destination;a&&a.complete&&this.destination.complete()};c.prototype._subscribe=function(a){return this.source?this.source.subscribe(a):k.Subscription.EMPTY};return c}(a);f.AnonymousSubject=l},function(b,f,a){var m=this&&this.__extends||
function(a,k){function g(){this.constructor=a}for(var e in k)k.hasOwnProperty(e)&&(a[e]=k[e]);a.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)};b=function(a){function k(g){a.call(this);this.scheduler=g}m(k,a);k.create=function(a){return new k(a)};k.dispatch=function(a){a.subscriber.complete()};k.prototype._subscribe=function(a){var e=this.scheduler;if(e)return e.schedule(k.dispatch,0,{subscriber:a});a.complete()};return k}(a(0).Observable);f.EmptyObservable=b},function(b,f,a){b=
a(56);f.merge=b.mergeStatic},function(b,f,a){function m(a,c){return a.reduce(function(a,d){return a.concat((c||Z).map(function(a){return a+d}))},[])}function h(a,c){return c.filter(function(c){var d;d=document.createElement(a.tagName);c="on"+c;c in d?d=!0:(d.setAttribute(c,"return;"),d="function"==typeof d[c]);return d})[0]}function k(c,d){var e=void 0;c=m(c,d);return function(d){return d instanceof ba?("undefined"==typeof e&&(e=h(d,c)||null),e?R(d,e):O()):a.i(G.a)(d,c)}}function g(a){return!!X&&
X.isTypeSupported(a)}function e(){return H}function d(a){return"open"==a.readyState?C.Observable.of(null):ma(a).take(1)}function c(a){return a.readyState>=V?C.Observable.of(null):ha(a).take(1)}function l(c){return c.readyState>=P?C.Observable.of(null):a.i(G.a)(c,"canplay").take(1)}function n(c,d){function e(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.errorCode&&(a={systemCode:a.systemCode,code:a.errorCode.code});this.name="KeySessionError";this.mediaKeyError=a;this.message=
"MediaKeyError code:"+a.code+" and systemCode:"+a.systemCode}e.prototype=Error();return function(l,g){var k="function"==typeof d?d.call(this):this,b=da(k),n=fa(k).map(function(a){throw new e(k.error||a);});try{return c.call(this,l,g),a.i(E.merge)(b,n).take(1)}catch(na){return C.Observable["throw"](na)}}}function q(a,c){if(c instanceof W)return c._setVideo(a);if(a.setMediaKeys)return a.setMediaKeys(c);if(null!==c){if(a.WebkitSetMediaKeys)return a.WebkitSetMediaKeys(c);if(a.mozSetMediaKeys)return a.mozSetMediaKeys(c);
if(a.msSetMediaKeys)return a.msSetMediaKeys(c)}}function t(a){v()||(a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}function p(){v()&&(F.exitFullscreen?F.exitFullscreen():F.msExitFullscreen?F.msExitFullscreen():F.mozCancelFullScreen?F.mozCancelFullScreen():F.webkitExitFullscreen&&F.webkitExitFullscreen())}function v(){return!!(F.fullscreenElement||
F.mozFullScreenElement||F.webkitFullscreenElement||F.msFullscreenElement)}function u(){var c=void 0;null!=F.hidden?c="":null!=F.mozHidden?c="moz":null!=F.msHidden?c="ms":null!=F.webkitHidden&&(c="webkit");var d=c?c+"Hidden":"hidden",c=c+"visibilitychange";return a.i(G.a)(F,c).map(function(){return F[d]})}function r(){return a.i(G.a)(K,"resize")}function w(a,c){var d,e=void 0;H?(d=a.textTracks.length,d=0<d?a.textTracks[d-1]:a.addTextTrack("subtitles"),d.mode=c?d.HIDDEN:d.SHOWING):(e=document.createElement("track"),
a.appendChild(e),d=e.track,e.kind="subtitles",d.mode=c?"hidden":"showing");return{track:d,trackElement:e}}function y(){return!H}function x(a){return Y&&"timeupdate"===a.name&&a.range&&10<a.range.end-a.ts}function z(a){a.src="";a.removeAttribute("src")}a.d(f,"a",function(){return Q});a.d(f,"m",function(){return X});a.d(f,"k",function(){return g});a.d(f,"n",function(){return d});a.d(f,"o",function(){return c});a.d(f,"p",function(){return l});a.d(f,"h",function(){return S});a.d(f,"i",function(){return I});
a.d(f,"j",function(){return oa});a.d(f,"f",function(){return B});a.d(f,"g",function(){return e});a.d(f,"c",function(){return v});a.d(f,"b",function(){return ea});a.d(f,"e",function(){return t});a.d(f,"d",function(){return p});a.d(f,"v",function(){return r});a.d(f,"u",function(){return u});a.d(f,"r",function(){return w});a.d(f,"l",function(){return z});a.d(f,"s",function(){return y});a.d(f,"q",function(){return x});a.d(f,"t",function(){return H});b=a(7);b=a.n(b);var C=a(0);a.n(C);var E=a(10);a.n(E);
f=a(52);a.n(f);var D=a(145);a.n(D);var T=a(51);a.n(T);a(3);var L=a(30),M=a(12),A=a(1),G=a(13),N=a(6),aa=function(){function a(a,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(c,d,e){d&&a(c.prototype,d);e&&a(c,e);return c}}(),R=f.FromEventObservable.create,O=D.NeverObservable.create,U=T.DeferObservable.create,F=document,K=window,Z=["","webkit","moz","ms"],ba=K.HTMLElement,Q=K.HTMLVideoElement,
X=K.MediaSource||K.MozMediaSource||K.WebKitMediaSource||K.MSMediaSource,J=K.MediaKeys||K.MozMediaKeys||K.WebKitMediaKeys||K.MSMediaKeys,H="Microsoft Internet Explorer"==navigator.appName||"Netscape"==navigator.appName&&/(Trident|Edge)\//.test(navigator.userAgent),Y=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),V=1,P=4,W=function(){},I=void 0;navigator.requestMediaKeySystemAccess&&(I=function(c,d){return a.i(G.b)(navigator.requestMediaKeySystemAccess(c,d))});var S=function(){function a(c,
d,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._keyType=c;this._mediaKeys=d;this._configuration=e}a.prototype.createMediaKeys=function(){return C.Observable.of(this._mediaKeys)};a.prototype.getConfiguration=function(){return this._configuration};aa(a,[{key:"keySystem",get:function(){return this._keyType}}]);return a}(),ha=k(["loadedmetadata"]),ma=k(["sourceopen","webkitsourceopen"]);f=k(["encrypted","needkey"]);var ga=k(["keymessage","message"]),da=k(["keyadded",
"ready"]),fa=k(["keyerror","error"]),D=k(["keystatuseschange"]),B={onEncrypted:f,onKeyMessage:ga,onKeyStatusesChange:D,onKeyError:fa};if(!I&&Q.prototype.webkitGenerateKeyRequest){var ia=function(c,d){var e=this;L.a.call(this);this.sessionId="";this._vid=c;this._key=d;this._con=a.i(E.merge)(ga(c),da(c),fa(c)).subscribe(function(a){return e.trigger(a.type,a)})};ia.prototype=b()({generateRequest:function(a,c){this._vid.webkitGenerateKeyRequest(this._key,c)},update:n(function(c,d){if(0<=this._key.indexOf("clearkey")){var e=
JSON.parse(a.i(M.a)(c)),l=a.i(M.b)(atob(e.keys[0].k)),e=a.i(M.b)(atob(e.keys[0].kid));this._vid.webkitAddKey(this._key,l,e,d)}else this._vid.webkitAddKey(this._key,c,null,d);this.sessionId=d}),close:function(){this._con&&this._con.unsubscribe();this._vid=this._con=null}},L.a.prototype);W=function(a){this.ks_=a};W.prototype={_setVideo:function(a){this._vid=a},createSession:function(){return new ia(this._vid,this.ks_)}};var pa=function(a){var c=F.querySelector("video")||F.createElement("video");return c&&
c.canPlayType?!!c.canPlayType("video/mp4",a):!1},I=function(a,c){if(!pa(a))return C.Observable["throw"]();for(var d=0;d<c.length;d++){var e=c[d],l=e.videoCapabilities,g=e.audioCapabilities,k=e.initDataTypes,b=e.sessionTypes,n=e.distinctiveIdentifier,e=e.persistentState,h=!0;if(h=(h=(h=(h=h&&(!k||!!k.filter(function(a){return"cenc"===a})[0]))&&(!b||b.filter(function(a){return"temporary"===a}).length===b.length))&&"required"!==n)&&"required"!==e)return d={videoCapabilities:l,audioCapabilities:g,initDataTypes:["cenc"],
distinctiveIdentifier:"not-allowed",persistentState:"not-allowed",sessionTypes:["temporary"]},C.Observable.of(new S(a,new W(a),d))}return C.Observable["throw"]()}}else if(J&&!I){var ja=function(a){L.a.call(this);this.sessionId="";this._mk=a};ja.prototype=b()({generateRequest:function(c,d){var e=this;this._ss=this._mk.memCreateSession("video/mp4",d);this._con=a.i(E.merge)(ga(this._ss),da(this._ss),fa(this._ss)).subscribe(function(a){return e.trigger(a.type,a)})},update:n(function(c,d){a.i(A.a)(this._ss);
this._ss.update(c,d);this.sessionId=d},function(){return this._ss}),close:function(){this._ss&&(this._ss.close(),this._ss=null);this._con&&(this._con.unsubscribe(),this._con=null)}},L.a.prototype);J.prototype.alwaysRenew=!0;J.prototype.memCreateSession=J.prototype.createSession;J.prototype.createSession=function(){return new ja(this)};I=function(a,c){if(!J.isTypeSupported(a))return C.Observable["throw"]();for(var d=0;d<c.length;d++){var e=c[d],l=e.videoCapabilities,g=e.audioCapabilities,k=e.initDataTypes,
e=e.distinctiveIdentifier,b=!0;if(b=(b=b&&(!k||!!k.filter(function(a){return"cenc"===a})[0]))&&"required"!==e)return d={videoCapabilities:l,audioCapabilities:g,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"required",sessionTypes:["temporary","persistent-license"]},C.Observable.of(new S(a,new J(a),d))}return C.Observable["throw"]()}}J||(b=function(){throw new N.d("MEDIA_KEYS_NOT_SUPPORTED",null,!0);},J={create:b,isTypeSupported:b});var oa=function(c,d){return U(function(){return a.i(G.b)(q(c,
d))})};if(K.WebKitSourceBuffer&&!K.WebKitSourceBuffer.prototype.addEventListener){b=K.WebKitSourceBuffer.prototype;for(var ka in L.a.prototype)b[ka]=L.a.prototype[ka];b.__listeners=[];b.appendBuffer=function(a){if(this.updating)throw Error("updating");this.trigger("updatestart");this.updating=!0;try{this.append(a)}catch(la){this.__emitUpdate("error",la);return}this.__emitUpdate("update")};b.__emitUpdate=function(a,c){var d=this;setTimeout(function(){d.trigger(a,c);d.updating=!1;d.trigger("updateend")},
0)}}var ea=k(["fullscreenchange","FullscreenChange"],Z.concat("MS"))},function(b,f,a){function m(a){for(var c=a.length,d=new Uint8Array(c),e=0;e<c;e++)d[e]=a.charCodeAt(e)&255;return d}function h(a){return String.fromCharCode.apply(null,a)}function k(a){for(var c="",d=a.length,e=0;e<d;e+=2)c+=String.fromCharCode(a[e]);return c}function g(a){for(var c=a.length,d=new Uint8Array(c/2),e=0,l=0;e<c;e+=2,l++)d[l]=parseInt(a.substr(e,2),16)&255;return d}function e(a,c){c||(c="");for(var d="",e=0;e<a.byteLength;e++)d+=
(a[e]>>>4).toString(16),d+=(a[e]&15).toString(16),c.length&&e<a.byteLength-1&&(d+=c);return d}function d(){for(var a=arguments.length,c=-1,d=0,e;++c<a;)e=arguments[c],d+="number"===typeof e?e:e.length;for(var d=new Uint8Array(d),l=0,c=-1;++c<a;)e=arguments[c],"number"===typeof e?l+=e:0<e.length&&(d.set(e,l),l+=e.length);return d}function c(a,c){return(a[0+c]<<8)+(a[1+c]<<0)}function l(a,c){return 16777216*a[0+c]+65536*a[1+c]+256*a[2+c]+a[3+c]}function n(a,c){return 4294967296*(16777216*a[0+c]+65536*
a[1+c]+256*a[2+c]+a[3+c])+16777216*a[4+c]+65536*a[5+c]+256*a[6+c]+a[7+c]}function q(a){return new Uint8Array([a>>>8&255,a&255])}function t(a){return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255])}function p(a){var c=a%4294967296;a=(a-c)/4294967296;return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255,c>>>24&255,c>>>16&255,c>>>8&255,c&255])}function v(a,c){return(a[0+c]<<0)+(a[1+c]<<8)}function u(a,c){return a[0+c]+256*a[1+c]+65536*a[2+c]+16777216*a[3+c]}function r(a){w.a.equal(a.length,
16,"UUID length should be 16");var c=m(a);a=c[0];var d=c[1],l=c[2],g=c[3],k=c[4],b=c[5],n=c[6],h=c[7],f=c.subarray(8,10),c=c.subarray(10,16),u=new Uint8Array(16);u[0]=g;u[1]=l;u[2]=d;u[3]=a;u[4]=b;u[5]=k;u[6]=h;u[7]=n;u.set(f,8);u.set(c,10);return e(u)}a.d(f,"b",function(){return m});a.d(f,"a",function(){return h});a.d(f,"k",function(){return k});a.d(f,"j",function(){return g});a.d(f,"o",function(){return e});a.d(f,"h",function(){return d});a.d(f,"g",function(){return c});a.d(f,"e",function(){return l});
a.d(f,"f",function(){return n});a.d(f,"d",function(){return v});a.d(f,"c",function(){return u});a.d(f,"m",function(){return q});a.d(f,"i",function(){return t});a.d(f,"n",function(){return p});a.d(f,"l",function(){return r});var w=a(1)},function(b,f,a){function m(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&
(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function h(a,d){return Array.isArray(d)?c.merge.apply(null,d.map(function(c){return l(a,c)})):l(a,d)}function k(a){return a instanceof d.Observable?a:a&&"function"==typeof a.subscribe?new d.Observable(function(c){var d=a.subscribe(function(a){return c.next(a)},function(a){return c.error(a)},function(){return c.complete()});return function(){d&&d.dispose?d.dispose():d&&d.unsubscribe&&d.unsubscribe()}}):a&&"function"==typeof a.then?n(a):
d.Observable.of(a)}function g(a){return new q(a)}function e(a,c){try{return a(c)}catch(u){return d.Observable["throw"](u)}}a.d(f,"a",function(){return h});a.d(f,"e",function(){return g});a.d(f,"c",function(){return e});a.d(f,"b",function(){return k});a.d(f,"d",function(){return t});var d=a(0);a.n(d);var c=a(10);a.n(c);b=a(52);a.n(b);f=a(53);a.n(f);var l=b.FromEventObservable.create,n=f.PromiseObservable.create,q=function(a){function c(d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var e;e=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.value=d;return e}m(c,a);c.prototype._subscribe=function(a){a.next(this.value)};return c}(d.Observable),t=function(a){var c=!1;return function(){if(c)return d.Observable.empty();c=!0;return k(a.apply(void 0,arguments))["do"](null,function(){return c=!1},function(){return c=!1})}}},function(b,f,a){var m=this&&this.__extends||function(a,
k){function g(){this.constructor=a}for(var e in k)k.hasOwnProperty(e)&&(a[e]=k[e]);a.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)};b=function(a){function k(){a.apply(this,arguments)}m(k,a);k.prototype.notifyNext=function(a,e,d,c,l){this.destination.next(e)};k.prototype.notifyError=function(a,e){this.destination.error(a)};k.prototype.notifyComplete=function(a){this.destination.complete()};return k}(a(2).Subscriber);f.OuterSubscriber=b},function(b,f,a){var m=this&&this.__extends||
function(a,d){function c(){this.constructor=a}for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};b=a(0);var h=a(34),k=a(9),g=a(17);a=function(a){function d(c,d){a.call(this);this.array=c;this.scheduler=d;d||1!==c.length||(this._isScalar=!0,this.value=c[0])}m(d,a);d.create=function(a,e){return new d(a,e)};d.of=function(){for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];e=a[a.length-1];g.isScheduler(e)?a.pop():e=null;var b=
a.length;return 1<b?new d(a,e):1===b?new h.ScalarObservable(a[0],e):new k.EmptyObservable(e)};d.dispatch=function(a){var c=a.array,d=a.index,e=a.subscriber;d>=a.count?e.complete():(e.next(c[d]),e.closed||(a.index=d+1,this.schedule(a)))};d.prototype._subscribe=function(a){var c=this.array,e=c.length,g=this.scheduler;if(g)return g.schedule(d.dispatch,0,{array:c,index:0,count:e,subscriber:a});for(g=0;g<e&&!a.closed;g++)a.next(c[g]);a.complete()};return d}(b.Observable);f.ArrayObservable=a},function(b,
f,a){var m=a(5),h=a(62),k=a(66),g=a(65),e=a(0),d=a(37),c=a(107),l=a(38);f.subscribeToResult=function(a,b,f,p){var n=new c.InnerSubscriber(a,f,p);if(n.closed)return null;if(b instanceof e.Observable)if(b._isScalar)n.next(b.value),n.complete();else return b.subscribe(n);else if(h.isArrayLike(b)){a=0;for(f=b.length;a<f&&!n.closed;a++)n.next(b[a]);n.closed||n.complete()}else{if(k.isPromise(b))return b.then(function(a){n.closed||(n.next(a),n.complete())},function(a){return n.error(a)}).then(null,function(a){m.root.setTimeout(function(){throw a;
})}),n;if(b&&"function"===typeof b[d.iterator]){b=b[d.iterator]();do{a=b.next();if(a.done){n.complete();break}n.next(a.value);if(n.closed)break}while(1)}else if(b&&"function"===typeof b[l.observable])if(b=b[l.observable](),"function"!==typeof b.subscribe)n.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return b.subscribe(new c.InnerSubscriber(a,f,p));else b=g.isObject(b)?"an invalid object":"'"+b+"'",n.error(new TypeError("You provided "+b+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}return null}},
function(b,f,a){f.isScheduler=function(a){return a&&"function"===typeof a.schedule}},function(b,f,a){b.exports=function(a,b,k){if("function"===typeof Array.prototype.find)return a.find(b,k);k=k||this;var g=a.length,e;if("function"!==typeof b)throw new TypeError(b+" is not a function");for(e=0;e<g;e++)if(b.call(k,a[e],e,a))return a[e]}},function(b,f,a){function m(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function h(a){for(var c=a.length,d=[],e=0;e<c;e++)d.push(new t(a.start(e),
a.end(e),0));return d}function k(a){for(var c=a.length,d=[],e=0;e<c;e++)d.push(a[e].clone());return d}function g(a,c){return a.start<=c&&c<a.end}function e(a,c){for(var e=0;e<c.length;e++)if(d(a,c[e]))return c[e];return null}function d(a,c){return g(a,c.start)||g(a,c.end)||g(c,a.start)}function c(a,c){return g(a,c.start)&&g(a,c.end)}function l(a){for(var c=1;c<a.length;c++){var d=a[c-1],e=a[c];d.bitrate===e.bitrate&&(Math.abs(e.start-d.end)<q||Math.abs(e.end-d.start)<q)&&(d=new t(Math.min(d.start,
e.start),Math.max(d.end,e.end),e.bitrate),a.splice(--c,2,d))}return a}function n(a){a=k(a);for(var c=0;c<a.length;c++)a[c].bitrate=0;return l(a)}a.d(f,"b",function(){return h});a.d(f,"a",function(){return p});a(1);var q=1/60,t=function(){function a(c,d,e){m(this,a);this.start=c;this.end=d;this.bitrate=e}a.prototype.isNil=function(){return this.start===this.end};a.prototype.clone=function(){return new a(this.start,this.end,this.bitrate)};return a}(),p=function(){function a(c){m(this,a);this.ranges=
c=c?Array.isArray(c)?k(c):h(c):[];this.length=c.length}a.prototype.start=function(a){return this.ranges[a].start};a.prototype.end=function(a){return this.ranges[a].end};a.prototype.hasRange=function(a,c){for(var d=a+c,e=0;e<this.ranges.length;e++){var l=this.ranges[e],g=l.start,l=l.end;if(g-a<=q&&a-l<=q&&g-d<=q&&d-l<=q)return this.ranges[e]}return null};a.prototype.getRange=function(a){for(var c=0;c<this.ranges.length;c++)if(g(this.ranges[c],a))return this.ranges[c];return null};a.prototype.getOuterRanges=
function(a){for(var c=[],d=0;d<this.ranges.length;d++)g(this.ranges[d],a)||c.push(this.ranges[d]);return c};a.prototype.getGap=function(a){var c=this.getRange(a);return c?c.end-a:Infinity};a.prototype.getLoaded=function(a){var c=this.getRange(a);return c?a-c.start:0};a.prototype.getSize=function(a){return(a=this.getRange(a))?a.end-a.start:0};a.prototype.getNextRangeGap=function(a){for(var c=this.ranges,d=-1,e=void 0;++d<c.length;){var l=c[d].start;if(l>a){e=l;break}}return null!=e?e-a:Infinity};a.prototype.insert=
function(a,e,g){var b=this.ranges;a=new t(e,g,a);if(!a.isNil()){for(e=0;e<b.length;e++){g=b[e];var k=d(a,g),n=Math.abs(g.start-a.end)<q||Math.abs(g.end-a.start)<q;if(k||n)if(a.bitrate===g.bitrate)a=new t(Math.min(a.start,g.start),Math.max(a.end,g.end),g.bitrate),b.splice(e--,1);else if(k)if(c(g,a))b.splice(++e,0,a),k=g.end,g.end=a.start,a=new t(a.end,k,g.bitrate);else if(c(a,g))b.splice(e--,1);else if(g.start<a.start)g.end=a.start;else{g.start=a.end;break}else break;else if(0===e){if(a.end<=b[0].start)break}else if(b[e-
1].end<=a.start&&a.end<=g.start)break}b.splice(e,0,a);for(a=0;a<b.length;a++)b[a].isNil()&&b.splice(a++,1);l(b)}this.length=this.ranges.length;return this.ranges};a.prototype.remove=function(c,d){this.intersect(new a([new t(0,c,0),new t(d,Infinity,0)]))};a.prototype.equals=function(a){a:{var c=a.ranges;a=n(this.ranges);for(var c=n(c),d=0;d<a.length;d++){var l=a[d],g=e(l,c);if(!(g&&Math.abs(g.start-l.start)<q&&Math.abs(g.end-l.end)<q)){a=!1;break a}}a=!0}return a};a.prototype.intersect=function(a){var c=
this.ranges;a=a.ranges;for(var d=0;d<c.length;d++){var l=c[d],g=e(l,a);g?(g.start>l.start&&(l.start=g.start),g.end<l.end&&(l.end=g.end)):c.splice(d--,1)}this.length=this.ranges.length;return this.ranges};return a}()},function(b,f,a){a.d(f,"e",function(){return h});a.d(f,"d",function(){return k});a.d(f,"a",function(){return g});a.d(f,"b",function(){return e});a.d(f,"c",function(){return d});a(1);var m=a(25),h=function(a,d,e){var c=a.presentationTimeOffset||0;a=a.timescale||1;return{up:d*a-c,to:(d+
e)*a-c}},k=function(a){var c=a.ts,d=a.d;a=a.r;return-1===d?c:c+(a+1)*d},g=function(a,d){var c=d.initialization,c=void 0===c?{}:c;return new m.a({id:""+a+"_init",init:!0,range:c.range||null,indexRange:d.indexRange||null,media:c.media,timescale:d.timescale})},e=function(a,d){a.timescale!==d&&(a.timescale=d);return a},d=function(a,d){return d/a.timescale}},function(b,f,a){f.a=function(a,b,k){if("function"===typeof Array.prototype.includes)return a.includes(b,k);var g=a.length>>>0;if(0===g)return!1;k|=
0;for(k=Math.max(0<=k?k:g-Math.abs(k),0);k<g;){var e=a[k],d=b;if(e===d||"number"===typeof e&&"number"===typeof d&&isNaN(e)&&isNaN(d))return!0;k++}return!1}},function(b,f,a){function m(a){if(null!=a){var c;"string"===typeof a?(c=a,a=!1):(c=g(a.language),a=!!a.closedCaption);return{language:c,closedCaption:a}}}function h(a){if(null!=a){var c;"string"===typeof a?(c=a,a=!1):(c=g(a.language),a=!!a.audioDescription);return{language:c,audioDescription:a}}}function k(a,l){if(!l)return-1;l=g(l);for(var b=
d;b<=c;b++)for(var k=0;k<a.length;k++){var n;n=g(a[k]);var h=l,f=b;if(n===h)n=!0;else{var m=n.split("-")[0],h=h.split("-")[0];n=f>=e.BASE_LANG_MATCH&&n===h?!0:f>=e.OTHER_SUBLANG_MATCH&&m===h?!0:!1}if(n)return k}return-1}function g(a){if(null==a||""===a)return"";a=(""+a).toLowerCase().split("-");var c=a[0],d=void 0;2===c.length?d=l[c]:3===c.length&&(d=n[c]);(c=d||c)&&(a[0]=c);return a.join("-")}a.d(f,"c",function(){return g});a.d(f,"a",function(){return h});a.d(f,"b",function(){return m});a.d(f,"d",
function(){return k});var e={PERFECT_MATCH:0,BASE_LANG_MATCH:1,OTHER_SUBLANG_MATCH:2},d=e.PERFECT_MATCH,c=e.OTHER_SUBLANG_MATCH,l={aa:"aar",ab:"abk",ae:"ave",af:"afr",ak:"aka",am:"amh",an:"arg",ar:"ara",as:"asm",av:"ava",ay:"aym",az:"aze",ba:"bak",be:"bel",bg:"bul",bh:"bih",bi:"bis",bm:"bam",bn:"ben",bo:"bod",br:"bre",bs:"bos",ca:"cat",ce:"che",ch:"cha",co:"cos",cr:"cre",cs:"ces",cu:"chu",cv:"chv",cy:"cym",da:"dan",de:"deu",dv:"div",dz:"dzo",ee:"ewe",el:"ell",en:"eng",eo:"epo",es:"spa",et:"est",eu:"baq",
fa:"fas",ff:"ful",fi:"fin",fj:"fij",fo:"fao",fr:"fre",fy:"fry",ga:"gle",gd:"gla",gl:"glg",gn:"grn",gu:"guj",gv:"glv",ha:"hau",he:"heb",hi:"hin",ho:"hmo",hr:"hrv",ht:"hat",hu:"hun",hy:"arm",hz:"her",ia:"ina",id:"ind",ie:"ile",ig:"ibo",ii:"iii",ik:"ipk",io:"ido",is:"ice",it:"ita",iu:"iku",ja:"jpn",jv:"jav",ka:"geo",kg:"kon",ki:"kik",kj:"kua",kk:"kaz",kl:"kal",km:"khm",kn:"kan",ko:"kor",kr:"kau",ks:"kas",ku:"kur",kv:"kom",kw:"cor",ky:"kir",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",
lu:"lub",lv:"lav",mg:"mlg",mh:"mah",mi:"mao",mk:"mac",ml:"mal",mn:"mon",mr:"mar",ms:"may",mt:"mlt",my:"bur",na:"nau",nb:"nob",nd:"nde",ne:"nep",ng:"ndo",nl:"dut",nn:"nno",no:"nor",nr:"nbl",nv:"nav",ny:"nya",oc:"oci",oj:"oji",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",pl:"pol",ps:"pus",pt:"por",qu:"que",rm:"roh",rn:"run",ro:"ron",ru:"rus",rw:"kin",sa:"san",sc:"srd",sd:"snd",se:"sme",sg:"sag",si:"sin",sk:"slk",sl:"slv",sm:"smo",sn:"sna",so:"som",sq:"alb",sr:"srp",ss:"ssw",st:"sot",su:"sun",sv:"swe",
sw:"swa",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",ts:"tso",tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",wo:"wol",xh:"xho",yi:"yid",yo:"yor",za:"zha",zh:"chi",zu:"zul"},n={tib:"bod",cze:"ces",wel:"cym",ger:"deu",gre:"ell",eus:"baq",per:"fas",fra:"fre",hye:"arm",isl:"ice",kat:"geo",mri:"mao",mkd:"mac",msa:"may",mya:"bur",nld:"dut",rum:"ron",slo:"slk",sqi:"alb",zho:"chi"}},function(b,f,a){var m=a(17),
h=a(24),k=a(15),g=a(150);f.combineLatest=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];var c=d=null;m.isScheduler(a[a.length-1])&&(c=a.pop());"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0]);return(new k.ArrayObservable(a,c)).lift(new g.CombineLatestOperator(d))}},function(b,f,a){f.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length}},function(b,f,a){f.a=function h(){var a=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{};if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.id=a.id;this.duration=a.duration;this.isInit=!!a.init;this.range=a.range;this.time=a.time;this.indexRange=a.indexRange;this.number=a.number;this.timescale=null==a.timescale?1:a.timescale;this.media=a.media}},function(b,f,a){function m(){for(var a=arguments.length,d=Array(a),c=0;c<a;c++)d[c]=arguments[c];a=d.length;if(0===a)return"";for(var c="",l=0;l<a;l++){var b=d[l];"string"===typeof b&&""!==b&&
(k.test(b)?c=b:("/"===b[0]&&(b=b.substr(1)),"/"===c[c.length-1]&&(c=c.substr(0,c.length-1)),c=c+"/"+b))}a=c;if(g.test(a)){d=[];a=a.split("/");c=0;for(l=a.length;c<l;c++)".."==a[c]?d.pop():"."!=a[c]&&d.push(a[c]);d=d.join("/")}else d=a;return d}function h(a){var d=a.lastIndexOf("/");return 0<=d?a.substring(0,d+1):a}a.d(f,"b",function(){return m});a.d(f,"a",function(){return h});var k=/^(?:[a-z]+:)?\/\//i,g=/\/\.{1,2}\//},function(b,f,a){b=a(58);a=a(59);f.async=new a.AsyncScheduler(b.AsyncAction)},
function(b,f,a){f.errorObject={e:{}}},function(b,f,a){var m=a(25),h=a(20),k=function(a,e){for(var d=a.timeline,c=0,g=d.length;c<g;){var b=c+g>>>1;d[b].ts<e?c=b+1:g=b}return 0<c?c-1:c};f.a={getInitSegment:h.a,setTimescale:h.b,scale:h.c,getSegments:function(g,e,d,c){c=a.i(h.e)(e,d,c);d=c.up;c=c.to;var b=e.timeline,n=e.timescale,f=e.media,t=[],p=b.length;e=k(e,d)-1;var v=b.length&&b[0].d||0;a:for(;!(++e>=p);){var u=b[e],r=u.d,w=u.ts,y=u.range,v=Math.max(v,r);if(0>r){w+v<c&&t.push(new m.a({id:""+g+"_"+
w,time:w,init:!1,range:y,duration:void 0,indexRange:null,timescale:n,media:f}));break}var x=b[e+1],z=u.r||0;0>z&&(z=Math.ceil(((x?x.t:Infinity)-u.ts)/u.d)-1);u=z;x=d-w;x=0<x?Math.floor(x/r):0;for(;(z=w+x*r)<c;)if(x++<=u)t.push(new m.a({id:""+g+"_"+z,time:z,init:!1,range:y,duration:r,indexRange:null,timescale:n,media:f}));else continue a;break}return t},shouldRefresh:function(b,e,d,c){d=b.timeline;e=b.timescale;b=b.presentationTimeOffset;d=d[d.length-1];if(!d)return!1;0>d.d&&(d={ts:d.ts,d:0,r:d.r});
return!(c*e-(void 0===b?0:b)<=a.i(h.d)(d))},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(b){if(b.timeline.length){var e=b.timeline[b.timeline.length-1];return a.i(h.d)(e)/b.timescale}},checkDiscontinuity:function(b,e){var d=b.timeline,c=b.timescale,c=void 0===c?1:c,g=e*c;if(0>=g)return-1;var n=k(b,g);if(0>n||n>=d.length-1)return-1;var f=d[n];if(-1===f.d)return-1;var m=f.ts,f=a.i(h.d)(f),d=d[n+1];return f!==d.ts&&g>=m&&g<=f&&f-g<c?
d.ts/c:-1},_addSegmentInfos:function(b,e,d){var c=b.timeline,g=c.length,k=c[g-1];if(d&&e.ts===d.ts){e=e.ts+e.d;d=e-(k.ts+k.d*k.r);if(0>=d)return!1;-1===k.d&&((g=c[g-2])&&g.d===d?(g.r++,c.pop()):k.d=d);b.timeline.push({d:-1,ts:e,r:0});return!0}return e.ts>=a.i(h.d)(k)?(k.d===e.d?k.r++:b.timeline.push({d:e.d,ts:e.ts,r:0}),!0):!1}}},function(b,f,a){function m(){this.__listeners={}}var h=a(1);m.prototype.addEventListener=function(b,g){a.i(h.a)("function"==typeof g,"eventemitter: second argument should be a function");
this.__listeners[b]||(this.__listeners[b]=[]);this.__listeners[b].push(g)};m.prototype.removeEventListener=function(a,b){if(0===arguments.length)this.__listeners={};else if(this.__listeners.hasOwnProperty(a))if(1===arguments.length)delete this.__listeners[a];else{var e=this.__listeners[a],d=e.indexOf(b);~d&&e.splice(d,1);e.length||delete this.__listeners[a]}};m.prototype.trigger=function(a,b){this.__listeners.hasOwnProperty(a)&&this.__listeners[a].slice().forEach(function(a){try{a(b)}catch(d){console.error(d,
d.stack)}})};m.prototype.on=m.prototype.addEventListener;m.prototype.off=m.prototype.removeEventListener;f.a=m},function(b,f,a){var m=0;f.a=function(){var a=0;m<Number.MAX_VALUE&&(a=m+1);m=a;return""+a}},function(b,f,a){function m(a,c){var d=0;return function(){d&&clearTimeout(d);d=setTimeout(a,c)}}function h(d,c){var b=c.retryDelay,k=c.totalRetry,h=c.shouldRetry,f=c.resetDelay,p=c.errorSelector,v=c.onRetry,u=0,r=void 0;0<f&&(r=m(function(){return u=0},f));return d["catch"](function(c,d){if(h&&!h(c)||
u++>=k){if(p)throw p(c,u);throw c;}v&&v(c,u);var l=a.i(g.a)(b,u);return e(l).mergeMap(function(){r&&r();return d})})}function k(d,c){var b=c.retryDelay,k=c.totalRetry,h=c.shouldRetry,f=c.resetDelay,p=c.errorSelector,v=c.onRetry,u=0,r=void 0;0<f&&(r=m(function(){return u=0},f));return function y(){for(var c=arguments.length,l=Array(c),n=0;n<c;n++)l[n]=arguments[n];return d.apply(void 0,l)["catch"](function(c){if(h&&!h(c)||u++>=k){if(p)throw p(c,u);throw c;}v&&v(c,u);c=a.i(g.a)(b,u);return e(c).mergeMap(function(){r&&
r();return y.apply(void 0,l)})})}}a.d(f,"a",function(){return h});a.d(f,"b",function(){return k});var g=a(103);b=a(54);a.n(b);var e=b.TimerObservable.create},function(b,f,a){var m=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=a(8);var h=a(60);a=function(a){function b(e){a.call(this);this._value=e}m(b,a);Object.defineProperty(b.prototype,"value",{get:function(){return this.getValue()},
enumerable:!0,configurable:!0});b.prototype._subscribe=function(e){var d=a.prototype._subscribe.call(this,e);d&&!d.closed&&e.next(this._value);return d};b.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new h.ObjectUnsubscribedError;return this._value};b.prototype.next=function(e){a.prototype.next.call(this,this._value=e)};return b}(b.Subject);f.BehaviorSubject=a},function(b,f,a){var m=this&&this.__extends||function(a,b){function g(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&
(a[e]=b[e]);a.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)};b=function(a){function b(b,e){a.call(this);this.value=b;this.scheduler=e;this._isScalar=!0;e&&(this._isScalar=!1)}m(b,a);b.create=function(a,e){return new b(a,e)};b.dispatch=function(a){var e=a.value,d=a.subscriber;a.done?d.complete():(d.next(e),d.closed||(a.done=!0,this.schedule(a)))};b.prototype._subscribe=function(a){var e=this.value,d=this.scheduler;if(d)return d.schedule(b.dispatch,0,{done:!1,value:e,subscriber:a});
a.next(e);a.closed||a.complete()};return b}(a(0).Observable);f.ScalarObservable=b},function(b,f,a){var m=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};b=a(14);var h=a(16);f.mergeAll=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return this.lift(new k(a))};var k=function(){function a(a){this.concurrent=a}a.prototype.call=function(a,c){return c.subscribe(new g(a,
this.concurrent))};return a}();f.MergeAllOperator=k;var g=function(a){function d(c,d){a.call(this,c);this.concurrent=d;this.hasCompleted=!1;this.buffer=[];this.active=0}m(d,a);d.prototype._next=function(a){this.active<this.concurrent?(this.active++,this.add(h.subscribeToResult(this,a))):this.buffer.push(a)};d.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};d.prototype.notifyComplete=function(a){var c=this.buffer;this.remove(a);
this.active--;0<c.length?this._next(c.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return d}(b.OuterSubscriber);f.MergeAllSubscriber=g},function(b,f,a){var m=a(140);f.multicast=function(a,b){var e;e="function"===typeof a?a:function(){return a};if("function"===typeof b)return this.lift(new h(e,b));var d=Object.create(this,m.connectableObservableDescriptor);d.source=this;d.subjectFactory=e;return d};var h=function(){function a(a,e){this.subjectFactory=a;this.selector=e}
a.prototype.call=function(a,e){var d=this.selector,c=this.subjectFactory(),d=d(c).subscribe(a);d.add(e.subscribe(c));return d};return a}();f.MulticastOperator=h},function(b,f,a){function m(a){var b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof(new b)["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),g=0;g<b.length;++g){var e=b[g];if("entries"!==e&&"size"!==e&&a.prototype[e]===
a.prototype.entries)return e}return"@@iterator"}b=a(5);f.symbolIteratorPonyfill=m;f.iterator=m(b.root);f.$$iterator=f.iterator},function(b,f,a){function m(a){var b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a}b=a(5);f.getSymbolObservable=m;f.observable=m(b.root);f.$$observable=f.observable},function(b,f,a){b=a(5).root.Symbol;f.rxSubscriber="function"===typeof b&&"function"===typeof b["for"]?b["for"]("rxSubscriber"):"@@rxSubscriber";
f.$$rxSubscriber=f.rxSubscriber},function(b,f,a){f.isFunction=function(a){return"function"===typeof a}},function(b,f,a){function m(){try{return k.apply(this,arguments)}catch(g){return h.errorObject.e=g,h.errorObject}}var h=a(28),k;f.tryCatch=function(a){k=a;return m}},function(b,f,a){function m(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?a:c}function h(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function k(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function g(a){if("number"==typeof a)return a;for(var c=0,d,e=0;e<a.length;e++)d=a[e],c=(c<<5)-c+d,c&=c;return c}function e(a,c,d){return{type:"eme",value:E()({name:a,session:c},d)}}function d(c){if(!I||!P||a.i(R.g)())return null;
var d=W;return(c=c.filter(function(a){return a.type!==I.type||a.persistentLicense&&"required"!=d.persistentState||a.distinctiveIdentifierRequired&&"required"!=d.distinctiveIdentifier?!1:!0})[0])?{keySystem:c,keySystemAccess:new R.h(I,P,W)}:null}function c(a){var c=["temporary"],d="optional",e="optional";a.persistentLicense&&(d="required",c.push("persistent-license"));a.persistentStateRequired&&(d="required");a.distinctiveIdentifierRequired&&(e="required");var b=a.audioRobustnesses||J;a=(a.videoRobustnesses||
J).map(function(a){return{contentType:'video/mp4;codecs="avc1.4d401e"',robustness:a}});b=b.map(function(a){return{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:a}});return[{initDataTypes:["cenc"],videoCapabilities:a,audioCapabilities:b,distinctiveIdentifier:e,persistentState:d,sessionTypes:c},{initDataTypes:["cenc"],videoCapabilities:void 0,audioCapabilities:void 0,distinctiveIdentifier:e,persistentState:d,sessionTypes:c}]}function l(e){var b=d(e);if(b)return A.a.debug("eme: found compatible keySystem quickly",
b),D.Observable.of(b);var l=e.reduce(function(a,c){return a.concat((X[c.type]||[]).map(function(a){return{keyType:a,keySystem:c}}))},[]);return D.Observable.create(function(d){function e(k){if(!b)if(k>=l.length)d.error(new O.c("INCOMPATIBLE_KEYSYSTEMS",null,!0));else{var n=l[k],h=n.keyType,f=n.keySystem,m=c(f);A.a.debug("eme: request keysystem access "+h+","+(k+1+" of "+l.length),m);g=a.i(R.i)(h,m).subscribe(function(a){A.a.info("eme: found compatible keysystem",h,m);d.next({keySystem:f,keySystemAccess:a});
d.complete()},function(){A.a.debug("eme: rejected access to keysystem",h,m);g=null;e(k+1)})}}var b=!1,g=null;e(0);return function(){b=!0;g&&g.unsubscribe()}})}function n(c,d,e){var b=S,l=P;return a.i(N.b)(e.createMediaKeys()).mergeMap(function(g){P=g;W=e.getConfiguration();I=d;S=c;if(c.mediaKeys===g)return D.Observable.of(g);l&&l!==P&&V.dispose();var k;b&&b!==S?(A.a.debug("eme: unlink old video element and set mediakeys"),k=a.i(R.j)(b,null).concat(a.i(R.j)(S,g))):(A.a.debug("eme: set mediakeys"),
k=a.i(R.j)(S,g));return k.mapTo(g)})}function q(a,c,d,e,b){A.a.debug("eme: create a new "+c+" session");var l=a.createSession(c);a=r(l,d,b)["finally"](function(){V.deleteAndClose(l);Y["delete"](e)}).publish();return{session:l,sessionEvents:a}}function t(c,d,b,l,g,k){c=q(c,b,d,g,k);var n=c.session;c=c.sessionEvents;V.add(g,n,c);A.a.debug("eme: generate request",l,g);l=a.i(N.b)(n.generateRequest(l,g))["catch"](function(a){throw new O.c("KEY_GENERATE_REQUEST_ERROR",a,!1);})["do"](function(){"persistent-license"==
b&&Y.add(g,n)}).mapTo(e("generated-request",n,{initData:g,initDataType:l}));return a.i(L.merge)(c,l)}function p(a,c,d,e,b,l){return t(a,c,d,e,b,l)["catch"](function(g){if(g.code!==O.b.KEY_GENERATE_REQUEST_ERROR)throw g;var k=V.getFirst();if(!k)throw g;A.a.warn("eme: could not create a new session, retry after closing a currently loaded session",g);return V.deleteAndClose(k).mergeMap(function(){return t(a,c,d,e,b,l)})})}function v(c,d,b,l,g,k){A.a.debug("eme: load persisted session",b);var n=q(c,"persistent-license",
d,g,k),h=n.session,f=n.sessionEvents;return a.i(N.b)(h.load(b))["catch"](function(){return D.Observable.of(!1)}).mergeMap(function(a){if(a)return V.add(g,h,f),Y.add(g,h),f.startWith(e("loaded-session",h,{storedSessionId:b}));A.a.warn("eme: no data stored for the loaded session, do fallback",b);V.deleteById(b);Y["delete"](g);h.sessionId&&h.remove();return p(c,d,"persistent-license",l,g,k).startWith(e("loaded-session-failed",h,{storedSessionId:b}))})}function u(a,c,d,b,l,g){var k=V.get(l);if(k&&k.sessionId)return A.a.debug("eme: reuse loaded session",
k.sessionId),D.Observable.of(e("reuse-session",k));c=(k=(c=c.sessionTypes)&&0<=c.indexOf("persistent-license"))&&d.persistentLicense?"persistent-license":"temporary";return k&&d.persistentLicense&&(k=Y.get(l))?v(a,d,k.sessionId,b,l,g):p(a,d,c,b,l,g)}function r(c,d,b){function l(a,c){return a.type===O.a.ENCRYPTED_MEDIA_ERROR?(a.fatal=c,a):new O.c("KEY_LOAD_ERROR",a,c)}A.a.debug("eme: handle message events",c);var g=void 0,k={totalRetry:2,retryDelay:200,errorSelector:function(a){return l(a,!0)},onRetry:function(a){return b.next(l(a,
!1))}},n=K(c).map(function(a){throw new O.c("KEY_ERROR",a,!0);}),h=Z(c).mergeMap(function(e){g=e.sessionId;A.a.debug("eme: keystatuseschange event",g,c,e);c.keyStatuses.forEach(function(a,c){if(H[c]||H[a])throw new O.c("KEY_STATUS_CHANGE_ERROR",c,!0);});return d.onKeyStatusesChange?a.i(N.c)(function(){return a.i(N.b)(d.onKeyStatusesChange(e,c))})["catch"](function(a){throw new O.c("KEY_STATUS_CHANGE_ERROR",a,!0);}):(A.a.info("eme: keystatuseschange event not handled"),ba())}),f=F(c).mergeMap(function(e){g=
e.sessionId;var b=new Uint8Array(e.message),l=e.messageType||"license-request";A.a.debug("eme: event message type "+l,c,e);e=Q(function(){return a.i(N.b)(d.getLicense(b,l)).timeout(1E4)["catch"](function(a){if(a instanceof M.TimeoutError)throw new O.c("KEY_LOAD_TIMEOUT",null,!1);throw a;})});return a.i(aa.a)(e,k)}),h=a.i(L.merge)(f,h).concatMap(function(d){A.a.debug("eme: update session",g,d);return a.i(N.b)(c.update(d,g))["catch"](function(a){throw new O.c("KEY_UPDATE_ERROR",a,!0);}).mapTo(e("session-update",
c,{updatedWith:d}))}),n=a.i(L.merge)(h,n);return c.closed?n.takeUntil(a.i(N.b)(c.closed)):n}function w(c,d){return a.i(N.b)(c.setServerCertificate(d)).ignoreElements()["catch"](function(a){throw new O.c("LICENSE_SERVER_CERTIFICATE_ERROR",a,!0);})}function y(a,c,d){return w(a,c)["catch"](function(a){a.fatal=!1;d.next(a);return D.Observable.empty()})}function x(c,d,e){function b(a,d){var b=d.keySystem,l=d.keySystemAccess;b.persistentLicense&&Y.setStorage(b.licenseStorage);A.a.info("eme: encrypted event",
a);return n(c,b,l).mergeMap(function(c){var d=b.serverCertificate;return(d&&"function"===typeof c.setServerCertificate?y(c,d,e):D.Observable.empty()).concat(u(c,l.getConfiguration(),b,a.initDataType,new Uint8Array(a.initData),e))})}return a.i(T.combineLatest)(U(c),l(d)).take(1).mergeMap(function(a){return b(a[0],a[1])})}function z(){return I&&I.type}function C(){S&&a.i(R.j)(S,null).subscribe(function(){});S=I=P=null;V.dispose()}a.d(f,"c",function(){return x});a.d(f,"b",function(){return z});a.d(f,
"d",function(){return U});a.d(f,"a",function(){return C});b=a(7);var E=a.n(b),D=a(0);a.n(D);b=a(9);a.n(b);f=a(51);a.n(f);var T=a(23);a.n(T);var L=a(10);a.n(L);var M=a(61);a.n(M);var A=a(3),G=a(1),N=a(13),aa=a(32),R=a(11),O=a(6),U=R.f.onEncrypted,F=R.f.onKeyMessage,K=R.f.onKeyError,Z=R.f.onKeyStatusesChange,ba=b.EmptyObservable.create,Q=f.DeferObservable.create,X={clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.chromecast.playready",
"com.youtube.playready"]},J=["HW_SECURE_ALL","HW_SECURE_DECODE","HW_SECURE_CRYPTO","SW_SECURE_DECODE","SW_SECURE_CRYPTO"],H={expired:!0,"internal-error":!0};b=function(){function a(){k(this,a);this._entries=[]}a.prototype.find=function(a){for(var c=0;c<this._entries.length;c++)if(!0===a(this._entries[c]))return this._entries[c];return null};return a}();f=function(c){function d(){k(this,d);return m(this,c.apply(this,arguments))}h(d,c);d.prototype.getFirst=function(){if(0<this._entries.length)return this._entries[0].session};
d.prototype.find=function(a){for(var c=0;c<this._entries.length;c++)if(!0===a(this._entries[c]))return this._entries[c];return null};d.prototype.get=function(a){a=g(a);var c=this.find(function(c){return c.initData===a});return c?c.session:null};d.prototype.add=function(a,c,d){a=g(a);var e=this.get(a);e&&this.deleteAndClose(e);d=d.connect();a={session:c,initData:a,eventSubscription:d};A.a.debug("eme-mem-store: add session",a);this._entries.push(a)};d.prototype.deleteById=function(a){var c=this.find(function(c){return c.session.sessionId===
a});return c?this["delete"](c.session):null};d.prototype["delete"]=function(a){var c=this.find(function(c){return c.session===a});if(!c)return null;var d=c.session,e=c.eventSubscription;A.a.debug("eme-mem-store: delete session",c);c=this._entries.indexOf(c);this._entries.splice(c,1);e.unsubscribe();return d};d.prototype.deleteAndClose=function(c){return(c=this["delete"](c))?(A.a.debug("eme-mem-store: close session",c),a.i(N.b)(c.close())["catch"](function(){return D.Observable.of(null)})):D.Observable.of(null)};
d.prototype.dispose=function(){var a=this,c=this._entries.map(function(c){return a.deleteAndClose(c.session)});this._entries=[];return L.merge.apply(null,c)};return d}(b);var Y=new (function(c){function d(a){k(this,d);var e=m(this,c.call(this));e.setStorage(a);return e}h(d,c);d.prototype.setStorage=function(c){if(this._storage!==c){a.i(G.a)(c,"no licenseStorage given for keySystem with persistentLicense");G.a.iface(c,"licenseStorage",{save:"function",load:"function"});this._storage=c;try{this._entries=
this._storage.load(),a.i(G.a)(Array.isArray(this._entries))}catch(da){A.a.warn("eme-persitent-store: could not get entries from license storage",da),this.dispose()}}};d.prototype.get=function(a){a=g(a);return this.find(function(c){return c.initData===a})||null};d.prototype.add=function(a,c){var d=c&&c.sessionId;if(d){a=g(a);var e=this.get(a);e&&e.sessionId===d||(e&&this["delete"](a),A.a.info("eme-persitent-store: add new session",d,c),this._entries.push({sessionId:d,initData:a}),this._save())}};d.prototype["delete"]=
function(a){a=g(a);var c=this.find(function(c){return c.initData===a});c&&(A.a.warn("eme-persitent-store: delete session from store",c),c=this._entries.indexOf(c),this._entries.splice(c,1),this._save())};d.prototype.dispose=function(){this._entries=[];this._save()};d.prototype._save=function(){try{this._storage.save(this._entries)}catch(ga){A.a.warn("eme-persitent-store: could not save licenses in localStorage")}};return d}(b))({load:function(){return[]},save:function(){}}),V=new f,P=void 0,W=void 0,
I=void 0,S=void 0},function(b,f,a){function m(c){var d=a.i(r.a)(c.locations[0]);(c=c.periods[0])&&c.baseURL&&(d+=""+c.baseURL);return d}function h(a,b,l,g){if(!b.transportType)throw new y.d("MANIFEST_PARSE_ERROR",null,!0);b.id=b.id||D++;b.type=b.type||"static";var n=b.locations;n&&n.length||(b.locations=[a]);b.isLive="dynamic"==b.type;var h={rootURL:m(b),baseURL:b.baseURL,isLive:b.isLive};l&&(l=e(l));g&&(g=d(g));a=b.periods.map(function(a){return k(a,h,l,g)});b=c(b,a[0]);b.periods=null;b.duration||
(b.duration=Infinity);b.isLive&&(b.suggestedPresentationDelay=b.suggestedPresentationDelay||L,b.availabilityStartTime=b.availabilityStartTime||0);return new z.a(b)}function k(a,c,d,e){a.id=a.id||D++;var b=a.adaptations,b=b.concat(d||[]),b=b.concat(e||[]),b=b.map(function(a){return g(a,c)}),b=b.filter(function(a){return 0>T.indexOf(a.type)?(u.a.info("not supported adaptation type",a.type),!1):!0});if(0===b.length)throw new y.d("MANIFEST_PARSE_ERROR",null,!0);d={};for(e=0;e<b.length;e++){var l=b[e],
k=l.type,n=l.representations;d[k]=d[k]||[];0<n.length&&d[k].push(l)}for(var h in d)if(0===d[h].length)throw new y.d("MANIFEST_INCOMPATIBLE_CODECS_ERROR",null,!0);a.adaptations=d;return a}function g(d,e){if("undefined"==typeof d.id)throw new y.d("MANIFEST_PARSE_ERROR",null,!0);var b=c(e,d),l={};E.forEach(function(a){a in b&&(l[a]=b[a])});var g=b.representations.map(function(d){var e=b.rootURL,g=b.baseURL;if("undefined"==typeof d.id)throw new y.d("MANIFEST_PARSE_ERROR",null,!0);d=c(l,d);d.index=d.index||
{};d.index.timescale||(d.index.timescale=1);d.bitrate||(d.bitrate=1);"mp4a.40.02"==d.codecs&&(d.codecs="mp4a.40.2");d.baseURL=a.i(r.b)(e,g,d.baseURL);d.codec=d.codecs;return d}).sort(function(a,c){return a.bitrate-c.bitrate}),k=b.type,h=b.accessibility,h=void 0===h?[]:h;if(!k)throw new y.d("MANIFEST_PARSE_ERROR",null,!0);"video"==k||"audio"==k?(g=g.filter(function(c){return a.i(w.k)(n(c))}),"audio"===k&&(k=a.i(v.a)(h,"visuallyImpaired"),b.audioDescription=k)):"text"===k&&(k=a.i(v.a)(h,"hardOfHearing"),
b.closedCaption=k);b.representations=g;b.bitrates=g.map(function(a){return a.bitrate});return b}function e(a){Array.isArray(a)||(a=[a]);return a.reduce(function(a,c){var d=c.mimeType,e=c.url,b=c.language,l=c.languages,g=c.closedCaption;b&&(l=[b]);return a.concat(l.map(function(a){return{id:D++,type:"text",language:a,closedCaption:!!g,baseURL:e,representations:[{id:D++,mimeType:d,index:{indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0}}]}}))},[])}function d(a){Array.isArray(a)||
(a=[a]);return a.map(function(a){var c=a.mimeType;a=a.url;return{id:D++,type:"image",baseURL:a,representations:[{id:D++,mimeType:c,index:{indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0}}]}})}function c(){for(var a={},d=arguments.length,e=Array(d),b=0;b<d;b++)e[b]=arguments[b];for(d=e.length-1;0<=d;d--){var b=e[d],l;for(l in b)if(!a.hasOwnProperty(l)){var g=b[l];g&&"object"===("undefined"===typeof g?"undefined":C(g))?g instanceof Date?a[l]=new Date(g.getTime()):Array.isArray(g)?
a[l]=g.slice(0):a[l]=c(g):a[l]=g}}return a}function l(a,c){for(var d=function(a,c){return p()(c,function(c){return c.id===a})},e=a.getAdaptations(),b=c.getAdaptations(),l=0;l<e.length;l++){var g=d(e[l].id,b);g||console.warn('manifest: adaptation "'+e[l].id+'" not found when merging.');for(var k=e[l].representations,g=g.representations,n=0;n<k.length;n++){var h=d(k[n].id,g);h||console.warn('manifest: representation "'+k[n].id+'" not found when merging.');k[n].index.update(h.index)}}return a}function n(a){return a.mimeType+
';codecs="'+a.codec+'"'}function q(c){return(c=c.adaptations.audio)?c.map(function(c){return{language:a.i(x.c)(c.language),audioDescription:c.isAudioDescription,id:c.id}}):[]}function t(c){return(c=c.adaptations.text)?c.map(function(c){return{language:a.i(x.c)(c.language),closedCaption:c.isClosedCaption,id:c.id}}):[]}a.d(f,"c",function(){return h});a.d(f,"e",function(){return n});a.d(f,"d",function(){return l});a.d(f,"a",function(){return q});a.d(f,"b",function(){return t});b=a(18);var p=a.n(b),v=
a(21),u=a(3),r=a(26),w=a(11),y=a(6),x=a(22),z=a(88),C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},E="audioSamplingRate codecs codingDependency frameRate height index maxPlayoutRate maximumSAPPeriod mimeType profiles segmentProfiles width".split(" "),D=0,T=["audio","video","text","image"],L=15},function(b,f,a){function m(a,c){if("function"!==
typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}a.d(f,"a",function(){return e});b=a(30);var h=a(19),k=a(1),g=a(13),e=function(d){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var e;e=d.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.codec=a;e.updating=!1;e.readyState="opened";e.buffered=new h.a;return e}m(c,d);c.prototype.appendBuffer=function(a){var c=this;this._lock(function(){return c._append(a)})};c.prototype.remove=function(a,c){var d=this;this._lock(function(){return d._remove(a,c)})};c.prototype.abort=function(){this.remove(0,Infinity);this.updating=!1;this.readyState="closed";this._abort()};c.prototype._append=function(){};c.prototype._remove=function(){};c.prototype._abort=
function(){};c.prototype._lock=function(c){var d=this;a.i(k.a)(!this.updating,"updating");this.updating=!0;this.trigger("updatestart");a.i(g.c)(function(){return a.i(g.b)(c())}).subscribe(function(){return setTimeout(function(){return d._unlock("update")},0)},function(a){return setTimeout(function(){return d._unlock("error",a)},0)})};c.prototype._unlock=function(a,c){this.updating=!1;this.trigger(a,c);this.trigger("updateend")};return c}(b.a)},function(b,f,a){function m(){return new E(0,new v.a,0,
Infinity,"timeupdate",1,null,0,null,null)}function h(a,c){var d=a.currentTime,e=a.paused,b=new v.a(a.buffered);return new E(d,b,a.duration,b.getGap(d),c,a.playbackRate,b.getRange(d),a.readyState,null,e)}function k(a,c){var d=c.requiresMediaSource;return t.Observable.create(function(c){function e(e){e=h(a,e&&e.type||"timeupdate");var g=e.name,l=e.ts,k=e.gap,n=e.paused,f=e.readyState,m=e.playback,q=b.stalled,u=b.name,t=b.ts,r;r=(r=e.range)?e.duration-(k+r.end)<=w:!1;var p=1<=f&&"loadedmetadata"!=g&&
!q&&!r;d?(n=p&&(k<=w||Infinity===k||1===f),l=q&&1<f&&Infinity>k&&(k>("seeking"==q.name?w:y)||r)):(n=p&&(!n&&"timeupdate"==g&&"timeupdate"==u&&l===t||"seeking"==g&&Infinity===k),l=q&&("seeking"!=g&&l!==t||"canplay"==g||Infinity>k&&(k>("seeking"==q.name?w:y)||r)));e.stalled=n?{name:g,playback:m}:l?null:q;b=e;c.next(b)}var b=h(a,"init"),g=setInterval(e,d?u:r);C.forEach(function(c){return a.addEventListener(c,e)});c.next(b);return function(){clearInterval(g);C.forEach(function(c){return a.removeEventListener(c,
e)})}}).multicast(function(){return new p.BehaviorSubject({name:"init",stalled:null})}).refCount()}function g(a){return a.filter(function(a){return"seeking"==a.name&&(Infinity===a.gap||a.gap<-x)}).skip(1).startWith(!0)}function e(a,c){return new Date(1E3*(a+c.availabilityStartTime))}function d(a,c){var d=a,e=c.suggestedPresentationDelay,b=c.presentationLiveGap,g=c.timeShiftBufferDepth;"number"!=typeof d&&(d=d.getTime());var l=Date.now();return Math.max(Math.min(d,l-1E3*(b+e)),l-1E3*g)/1E3-c.availabilityStartTime}
function c(a){return q(a)[0]}function l(a){if(!a.isLive)return a.getDuration();var c=a.availabilityStartTime;a=a.presentationLiveGap;return Date.now()/1E3-c-a}function n(a){var c=l(a);return a.isLive?c-z:c}function q(a){if(!a.isLive)return[0,a.getDuration()];var c=a.availabilityStartTime,d=a.presentationLiveGap;a=a.timeShiftBufferDepth;c=Date.now()/1E3-c-d;return[Math.min(c,c-a+5),c]}a.d(f,"b",function(){return m});a.d(f,"a",function(){return k});a.d(f,"i",function(){return g});a.d(f,"c",function(){return e});
a.d(f,"f",function(){return d});a.d(f,"g",function(){return c});a.d(f,"d",function(){return l});a.d(f,"e",function(){return n});a.d(f,"h",function(){return q});var t=a(0);a.n(t);var p=a(33);a.n(p);var v=a(19),u=1E3,r=500,w=.5,y=5,x=2,z=10,C="canplay play progress seeking seeked loadedmetadata".split(" "),E=function(){function a(c,d,e,b,g,l,k,n,h,f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.ts=c;this.buffered=d;this.duration=e;this.gap=b;this.name=g;this.playback=
l;this.range=k;this.readyState=n;this.stalled=h;this.paused=f}a.prototype.clone=function(){return new a(this.ts,this.buffered,this.duration,this.gap,this.name,this.playback,this.range,this.readyState,this.stalled,this.paused)};return a}()},function(b,f,a){function m(a){if("timeline"===a.indexType){var c=a.timeline[a.timeline.length-1];return(c.ts+(c.r+1)*c.d)/a.timescale}return Date.now()/1E3}function h(a){return a}function k(a){return"true"==a}function g(a){return"true"==a?!0:"false"==a?!1:parseInt(a)}
function e(a){return new Date(Date.parse(a))}function d(c){if(!c)return 0;var d=w.exec(c);a.i(r.a)(d,c+" is not a valid ISO8601 duration");return 31536E3*parseFloat(d[2]||0)+2592E3*parseFloat(d[4]||0)+86400*parseFloat(d[6]||0)+3600*parseFloat(d[8]||0)+60*parseFloat(d[10]||0)+parseFloat(d[12]||0)}function c(a){var c=x.exec(a);if(!c)return-1;a=parseInt(c[1])||0;c=parseInt(c[2])||0;return 0<c?a/c:a}function l(a){return a}function n(a){return(a=y.exec(a))?[+a[1],+a[2]]:null}function q(a,c,d){for(a=a.firstElementChild;a;)d=
c(d,a.nodeName,a),a=a.nextElementSibling;return d}function t(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===a.schemeIdUri&&1===a.value:!1}function p(c){var d=c.mimeType,d=void 0===d?"":d,e=d.split("/")[0];if(a.i(u.a)(z,e))return e;if("application/bif"===d)return"image";if("application/ttml+xml"===d)return"text";if("application/mp4"===d)return(c=c.role)&&"urn:mpeg:dash:role:2011"===c.schemeIdUri&&"subtitle"===c.value?"text":"metadata";c=c.representations;c=void 0===c?[]:c;return c.length&&
(c=c[0].mimeType.split("/")[0],a.i(u.a)(z,c))?c:"unknown"}function v(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===a.schemeIdUri&&2===a.value:!1}a.d(f,"g",function(){return h});a.d(f,"h",function(){return c});a.d(f,"f",function(){return n});a.d(f,"i",function(){return k});a.d(f,"m",function(){return e});a.d(f,"j",function(){return d});a.d(f,"l",function(){return g});a.d(f,"k",function(){return l});a.d(f,"a",function(){return q});a.d(f,"b",function(){return C});a.d(f,"d",function(){return v});
a.d(f,"e",function(){return t});a.d(f,"c",function(){return p});var u=a(21),r=a(1),w=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,y=/([0-9]+)-([0-9]+)/,x=/([0-9]+)(\/([0-9]+))?/,z=["audio","video","text","image"],C=function(a){if(a){var c=a.representations||[],d=c.filter(function(a){return a&&a.index});if(!c.length)return m(a.index);var e=Math.min.apply(Math,d.map(function(a){return m(a.index)}));if(!isNaN(e)){if(c.length===d.length)return e;if(a.index)return a=m(a.index),
Math.min(e,a)}}}},function(b,f,a){function m(b){var g=0,e=b.length,d=a.i(h.a)(b.subarray(g,g+8)),g=g+8,c=b[g],g=g+1,l=b[g],g=g+1,k=b[g],g=g+1,f=b[g],g=g+1,c=[c,l,k,f].join("."),l=b[g]+a.i(h.c)(b,g+1),g=g+4,k=a.i(h.c)(b,g),g=g+4,f=a.i(h.a)(b.subarray(g,g+4)),g=g+4,m=a.i(h.d)(b,g),g=g+2,p=a.i(h.d)(b,g),g=g+2,v=[b[g],b[g+1]].join(":"),u=1===b[g+2],g=64,r=[],w=void 0,y=0;if(!l)throw Error("bif: no images to parse");for(;g<e;){var x=a.i(h.c)(b,g),g=g+4,z=a.i(h.c)(b,g),g=g+4;if(w){var C=w.index,E=k,D=y,
w=b.subarray(w.offset,z);r.push({index:C,duration:E,ts:D,data:w});y+=k}if(4294967295===x)break;w={index:x,offset:z}}return{fileFormat:d,version:c,imageCount:l,timescale:k,format:f,width:m,height:p,aspectRatio:v,isVod:u,thumbs:r}}a.d(f,"a",function(){return m});var h=a(12)},function(b,f,a){function m(a,c,d){a="string"==typeof a?(new DOMParser).parseFromString(a,"text/xml"):a;if(!(a instanceof window.Document||a instanceof window.HTMLElement))throw Error("ttml needs a Document to parse");a=a.querySelector("tt");
if(!a)throw Error("ttml could not find <tt> tag");a=h(a.querySelector("body"),0);for(c=0;c<a.length;c++){var e=a[c];e.start+=d;e.end+=d}return a}function h(a,c){var d=0;a=a.firstChild;for(var b=[],l;a;){if(1===a.nodeType)switch(a.tagName.toUpperCase()){case "P":l=a;var n=c,f=d,d=k(l.getAttribute("begin"),n),m=k(l.getAttribute("end"),n),q=k(l.getAttribute("dur"),0);if("number"==!("undefined"===typeof d||g(d))&&"number"==!("undefined"===typeof m||g(m))&&"number"==!("undefined"===typeof q||g(q)))throw Error("ttml unsupported timestamp format");
0<q?(null==d&&(d=f||n),null==m&&(m=d+q)):null==m&&(m=k(l.getAttribute("duration"),0),m=0<=m?m+d:Number.MAX_VALUE);n=l.innerHTML;null==n&&(n=(new XMLSerializer).serializeToString(l),n=(new DOMParser).parseFromString(n,"text/html").body.firstChild.innerHTML);n=window.escape(n.replace(e,"\r\n"));n=n.replace(/%C3%26nbsp%3B/gm,"%C3%A0");l={id:l.getAttribute("xml:id")||l.getAttribute("id"),text:decodeURIComponent(n),start:d,end:m};d=l.end;b.push(l);break;case "DIV":l=k(a.getAttribute("begin"),0),null==
l&&(l=c),b.push.apply(b,h(a,l))}a=a.nextSibling}return b}function k(a,e){if(!a)return null;var b;if(b=a.match(d)){var g=b[3],k=b[4],n=b[6];return 3600*parseInt(b[2]||0,10)+60*parseInt(g,10)+parseInt(k,10)+parseFloat("0."+n)}return(b=a.match(c))?(g=b[4],parseFloat(b[1])*l[g]+e):null}a.d(f,"a",function(){return m});var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a},e=/<br.*?>/gm,d=/^(([0-9]+):)?([0-9]+):([0-9]+)(\.([0-9]+))?$/,c=/(([0-9]+)(\.[0-9]+)?)(ms|h|m|s)/,l={h:3600,m:60,s:1,ms:.001}},function(b,f,a){function m(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?a:c}function h(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,
{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function k(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function g(){return new XMLHttpRequest}function e(a){return new n(a)}b=a(0);a.n(b);var d=a(2);a.n(d);var c=a(6),l=function p(a,c,d,e,b,l,g){k(this,p);this.status=a;this.url=c;this.responseType=d;this.sentTime=e;this.receivedTime=b;this.duration=this.receivedTime-this.sentTime;
this.size=l;this.responseData=g},n=function(a){function c(d){k(this,c);var e=m(this,a.call(this)),b={url:"",createXHR:g,headers:null,method:"GET",responseType:"json",timeout:1E4,resultSelector:null,body:null},l;for(l in d)b[l]=d[l];e.request=b;return e}h(c,a);c.prototype._subscribe=function(a){return new q(a,this.request)};return c}(b.Observable),q=function(a){function d(c,e){k(this,d);var b=m(this,a.call(this,c));b.request=e;b.sentTime=Date.now();b.receivedTime=0;b.xhr=null;b.done=!1;b.resultSelector=
e.resultSelector;b.send();return b}h(d,a);d.prototype.next=function(){this.done=!0;var a=this.resultSelector,d=this.xhr,e=this.request,b=this.destination,g=d.status,k=this.responseType,n=this.totalSize,h=this.sentTime,f=this.receivedTime,m=d.responseURL||e.url,q=void 0;if("json"==e.responseType)if("string"!=typeof d.response)q=d.response;else try{q=JSON.parse(d.responseText)}catch(M){q=null}else q=d.response;null==q?b.error(new c.h(this,e,c.i.PARSE_ERROR)):(d=new l(g,m,k,h,f,n,q),a?b.next(a(d)):b.next(d))};
d.prototype.setHeaders=function(a,c){for(var d in c)a.setRequestHeader(d,c[d])};d.prototype.setupEvents=function(a,d){a.ontimeout=function y(){y.subscriber.error(new c.h(this,y.request,c.i.TIMEOUT))};a.ontimeout.request=d;a.ontimeout.subscriber=this;a.onerror=function x(){x.subscriber.error(new c.h(this,x.request,c.i.ERROR_EVENT))};a.onerror.request=d;a.onerror.subscriber=this;a.onload=function z(a){if(4===this.readyState){var d=z.subscriber,e=z.request;d.receivedTime=Date.now();d.totalSize=a.total;
var b=this.status;200<=b&&300>b?(d.next(a),d.complete()):d.error(new c.h(this,e,c.i.ERROR_HTTP_CODE))}};a.onload.subscriber=this;a.onload.request=d};d.prototype.send=function(){var a=this.request,c=this.request,d=c.method,e=c.url,b=c.headers,l=c.body,k=c.responseType,c=c.timeout,n=(a.createXHR||g)(a);this.xhr=n;n.open(d,e,!0);n.timeout=c;n.responseType=k;"document"==k&&n.overrideMimeType("text/xml");b&&this.setHeaders(n,b);this.setupEvents(n,a);l?n.send(l):n.send()};d.prototype.unsubscribe=function(){var c=
this.xhr;!this.done&&c&&4!==c.readyState&&c.abort();c.ontimeout=null;c.onerror=null;c.onload=null;a.prototype.unsubscribe.call(this)};return d}(d.Subscriber);e.RequestObservable=n;e.RequestError=c.h;e.RequestResponse=l;e.RequestErrorTypes=c.i;f.a=e},function(b,f,a){f.empty={closed:!0,next:function(a){},error:function(a){throw a;},complete:function(){}}},function(b,f,a){var m=this&&this.__extends||function(a,e){function d(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.prototype=
null===e?Object.create(e):(d.prototype=e.prototype,new d)};b=a(0);var h=a(16);a=a(14);b=function(a){function e(d){a.call(this);this.observableFactory=d}m(e,a);e.create=function(a){return new e(a)};e.prototype._subscribe=function(a){return new k(a,this.observableFactory)};return e}(b.Observable);f.DeferObservable=b;var k=function(a){function e(d,c){a.call(this,d);this.factory=c;this.tryDefer()}m(e,a);e.prototype.tryDefer=function(){try{this._callFactory()}catch(d){this._error(d)}};e.prototype._callFactory=
function(){var a=this.factory();a&&this.add(h.subscribeToResult(this,a))};return e}(a.OuterSubscriber)},function(b,f,a){var m=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};b=a(0);var h=a(41),k=a(40),g=a(28),e=a(4),d=Object.prototype.toString;a=function(a){function c(c,d,e,b){a.call(this);this.sourceObj=c;this.eventName=d;this.selector=e;this.options=b}m(c,a);
c.create=function(a,d,e,b){k.isFunction(e)&&(b=e,e=void 0);return new c(a,d,b,e)};c.setupSubscription=function(a,b,l,g,k){var h;if(a&&"[object NodeList]"===d.call(a)||a&&"[object HTMLCollection]"===d.call(a))for(var n=0,f=a.length;n<f;n++)c.setupSubscription(a[n],b,l,g,k);else if(a&&"function"===typeof a.addEventListener&&"function"===typeof a.removeEventListener)a.addEventListener(b,l,k),h=function(){return a.removeEventListener(b,l)};else if(a&&"function"===typeof a.on&&"function"===typeof a.off)a.on(b,
l),h=function(){return a.off(b,l)};else if(a&&"function"===typeof a.addListener&&"function"===typeof a.removeListener)a.addListener(b,l),h=function(){return a.removeListener(b,l)};else throw new TypeError("Invalid event target");g.add(new e.Subscription(h))};c.prototype._subscribe=function(a){var d=this.selector;c.setupSubscription(this.sourceObj,this.eventName,d?function(){for(var c=[],e=0;e<arguments.length;e++)c[e-0]=arguments[e];c=h.tryCatch(d).apply(void 0,c);c===g.errorObject?a.error(g.errorObject.e):
a.next(c)}:function(c){return a.next(c)},a,this.options)};return c}(b.Observable);f.FromEventObservable=a},function(b,f,a){function m(a){var d=a.value;a=a.subscriber;a.closed||(a.next(d),a.complete())}function h(a){var d=a.err;a=a.subscriber;a.closed||a.error(d)}var k=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)},g=a(5);b=function(a){function d(c,d){a.call(this);
this.promise=c;this.scheduler=d}k(d,a);d.create=function(a,e){return new d(a,e)};d.prototype._subscribe=function(a){var c=this,d=this.promise,e=this.scheduler;if(null==e)this._isScalar?a.closed||(a.next(this.value),a.complete()):d.then(function(d){c.value=d;c._isScalar=!0;a.closed||(a.next(d),a.complete())},function(c){a.closed||a.error(c)}).then(null,function(a){g.root.setTimeout(function(){throw a;})});else if(this._isScalar){if(!a.closed)return e.schedule(m,0,{value:this.value,subscriber:a})}else d.then(function(d){c.value=
d;c._isScalar=!0;a.closed||a.add(e.schedule(m,0,{value:d,subscriber:a}))},function(c){a.closed||a.add(e.schedule(h,0,{err:c,subscriber:a}))}).then(null,function(a){g.root.setTimeout(function(){throw a;})})};return d}(a(0).Observable);f.PromiseObservable=b},function(b,f,a){var m=this&&this.__extends||function(a,c){function d(){this.constructor=a}for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)},h=a(64);b=a(0);var k=a(27),g=a(17),
e=a(63);a=function(a){function c(c,d,b){void 0===c&&(c=0);a.call(this);this.period=-1;this.dueTime=0;h.isNumeric(d)?this.period=1>Number(d)&&1||Number(d):g.isScheduler(d)&&(b=d);g.isScheduler(b)||(b=k.async);this.scheduler=b;this.dueTime=e.isDate(c)?+c-this.scheduler.now():c}m(c,a);c.create=function(a,d,e){void 0===a&&(a=0);return new c(a,d,e)};c.dispatch=function(a){var c=a.index,d=a.period,e=a.subscriber;e.next(c);if(!e.closed){if(-1===d)return e.complete();a.index=c+1;this.schedule(a,d)}};c.prototype._subscribe=
function(a){return this.scheduler.schedule(c.dispatch,this.dueTime,{index:0,period:this.period,subscriber:a})};return c}(b.Observable);f.TimerObservable=a},function(b,f,a){function m(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];c=null;k.isScheduler(a[a.length-1])&&(c=a.pop());return null===c&&1===a.length&&a[0]instanceof h.Observable?a[0]:(new g.ArrayObservable(a,c)).lift(new e.MergeAllOperator(1))}var h=a(0),k=a(17),g=a(15),e=a(35);f.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-
0]=arguments[c];return this.lift.call(m.apply(void 0,[this].concat(a)))};f.concatStatic=m},function(b,f,a){function m(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];var c=Number.POSITIVE_INFINITY,b=null,n=a[a.length-1];e.isScheduler(n)?(b=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(c=a.pop())):"number"===typeof n&&(c=a.pop());return null===b&&1===a.length&&a[0]instanceof h.Observable?a[0]:(new k.ArrayObservable(a,b)).lift(new g.MergeAllOperator(c))}var h=a(0),k=a(15),g=a(35),
e=a(17);f.merge=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return this.lift.call(m.apply(void 0,[this].concat(a)))};f.mergeStatic=m},function(b,f,a){var m=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)},h=a(16);b=a(14);f.mergeMap=function(a,d,c){void 0===c&&(c=Number.POSITIVE_INFINITY);"number"===typeof d&&(c=d,d=null);return this.lift(new k(a,
d,c))};var k=function(){function a(a,c,e){void 0===e&&(e=Number.POSITIVE_INFINITY);this.project=a;this.resultSelector=c;this.concurrent=e}a.prototype.call=function(a,c){return c.subscribe(new g(a,this.project,this.resultSelector,this.concurrent))};return a}();f.MergeMapOperator=k;var g=function(a){function d(c,d,e,b){void 0===b&&(b=Number.POSITIVE_INFINITY);a.call(this,c);this.project=d;this.resultSelector=e;this.concurrent=b;this.hasCompleted=!1;this.buffer=[];this.index=this.active=0}m(d,a);d.prototype._next=
function(a){this.active<this.concurrent?this._tryNext(a):this.buffer.push(a)};d.prototype._tryNext=function(a){var c,d=this.index++;try{c=this.project(a,d)}catch(q){this.destination.error(q);return}this.active++;this._innerSub(c,a,d)};d.prototype._innerSub=function(a,d,e){this.add(h.subscribeToResult(this,a,d,e))};d.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};d.prototype.notifyNext=function(a,d,e,b,g){this.resultSelector?
this._notifyResultSelector(a,d,e,b):this.destination.next(d)};d.prototype._notifyResultSelector=function(a,d,e,b){var c;try{c=this.resultSelector(a,d,e,b)}catch(p){this.destination.error(p);return}this.destination.next(c)};d.prototype.notifyComplete=function(a){var c=this.buffer;this.remove(a);this.active--;0<c.length?this._next(c.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return d}(b.OuterSubscriber);f.MergeMapSubscriber=g},function(b,f,a){var m=this&&this.__extends||
function(a,b){function e(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)},h=a(5);b=function(a){function b(e,d){a.call(this,e,d);this.scheduler=e;this.work=d;this.pending=!1}m(b,a);b.prototype.schedule=function(a,d){void 0===d&&(d=0);if(this.closed)return this;this.state=a;this.pending=!0;var c=this.id,e=this.scheduler;null!=c&&(this.id=this.recycleAsyncId(e,c,d));this.delay=d;this.id=this.id||this.requestAsyncId(e,
this.id,d);return this};b.prototype.requestAsyncId=function(a,d,c){void 0===c&&(c=0);return h.root.setInterval(a.flush.bind(a,this),c)};b.prototype.recycleAsyncId=function(a,d,c){void 0===c&&(c=0);return null!==c&&this.delay===c&&!1===this.pending?d:(h.root.clearInterval(d),void 0)};b.prototype.execute=function(a,d){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var c=this._execute(a,d);if(c)return c;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,
this.id,null))};b.prototype._execute=function(a,d){var c=!1,e=void 0;try{this.work(a)}catch(n){c=!0,e=!!n&&n||Error(n)}if(c)return this.unsubscribe(),e};b.prototype._unsubscribe=function(){var a=this.id,d=this.scheduler,c=d.actions,b=c.indexOf(this);this.state=this.work=null;this.pending=!1;this.scheduler=null;-1!==b&&c.splice(b,1);null!=a&&(this.id=this.recycleAsyncId(d,a,null));this.delay=null};return b}(a(171).Action);f.AsyncAction=b},function(b,f,a){var m=this&&this.__extends||function(a,b){function g(){this.constructor=
a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)};b=function(a){function b(){a.apply(this,arguments);this.actions=[];this.active=!1;this.scheduled=void 0}m(b,a);b.prototype.flush=function(a){var e=this.actions;if(this.active)e.push(a);else{var d;this.active=!0;do if(d=a.execute(a.state,a.delay))break;while(a=e.shift());this.active=!1;if(d){for(;a=e.shift();)a.unsubscribe();throw d;}}};return b}(a(109).Scheduler);f.AsyncScheduler=
b},function(b,f,a){var m=this&&this.__extends||function(a,b){function g(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)};b=function(a){function b(){var b=a.call(this,"object unsubscribed");this.name=b.name="ObjectUnsubscribedError";this.stack=b.stack;this.message=b.message}m(b,a);return b}(Error);f.ObjectUnsubscribedError=b},function(b,f,a){var m=this&&this.__extends||function(a,b){function g(){this.constructor=
a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)};b=function(a){function b(){var b=a.call(this,"Timeout has occurred");this.name=b.name="TimeoutError";this.stack=b.stack;this.message=b.message}m(b,a);return b}(Error);f.TimeoutError=b},function(b,f,a){f.isArrayLike=function(a){return a&&"number"===typeof a.length}},function(b,f,a){f.isDate=function(a){return a instanceof Date&&!isNaN(+a)}},function(b,f,a){var m=a(24);f.isNumeric=
function(a){return!m.isArray(a)&&0<=a-parseFloat(a)+1}},function(b,f,a){f.isObject=function(a){return null!=a&&"object"===typeof a}},function(b,f,a){f.isPromise=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then}},function(b,f,a){f.noop=function(){}},function(b,f,a){Object.defineProperty(f,"__esModule",{value:!0});b=a(111);a.n(b);b=a(112);a.n(b);b=a(113);a.n(b);b=a(114);a.n(b);b=a(115);a.n(b);b=a(116);a.n(b);b=a(117);a.n(b);b=a(118);a.n(b);b=a(119);a.n(b);b=a(120);a.n(b);
b=a(121);a.n(b);b=a(122);a.n(b);b=a(123);a.n(b);b=a(124);a.n(b);b=a(125);a.n(b);b=a(126);a.n(b);b=a(127);a.n(b);b=a(128);a.n(b);b=a(129);a.n(b);b=a(130);a.n(b);b=a(131);a.n(b);b=a(132);a.n(b);b=a(133);a.n(b);b=a(134);a.n(b);b=a(135);a.n(b);b=a(136);a.n(b);b=a(137);a.n(b);b=a(138);a.n(b);a(3);a=a(77);f["default"]=a.a},function(b,f,a){function m(a){return function(b,g){return null==b?g:a*g+(1-a)*b}}f.a=function(a,b){return a.map(function(a){return a.value.response}).filter(function(a){return!a||2E3<
a.size}).map(function(a){return a?a.size/a.duration*8E3:0}).scan(m(b.alpha))}},function(b,f,a){function m(a,c){for(var d=0;d<a.length;d++)if(!0===c(a[d],d,a))return a[d];return null}function h(a,c){return"number"==typeof a&&0<a?a:c}function k(a,c){for(var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,b=a.length-1;0<=b;b--)if(a[b]/c<=1-d)return a[b];return a[0]}function g(a,c){var d=a.sort(function(a,c){return a.width-c.width}),b=q()(d,function(a){return a.width>=c});return b?(d=a.filter(function(a){return a.width<=
b.width}),d.length?d[d.length-1].bitrate:(d=a[0])&&d.bitrate||0):Infinity}function e(c,d){var b=c.map(function(a){return a.language}),b=a.i(r.d)(b,d);return 0<=b?c[b]:null}function d(a,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,b=a.filter(function(a){return a.isAudioDescription==d});return e(b,c)}function c(a,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,b=a.filter(function(a){return a.isClosedCaption==d});return e(b,c)}function l(a,c){return a.filter(function(a){return a.type===
c})}b=a(7);var n=a.n(b);b=a(18);var q=a.n(b),t=a(4);a.n(t);var p=a(33);a.n(p);var v=a(23);a.n(v);var u=a(13),r=a(22),w=a(69),y={defaultAudioTrack:{language:"fra",audioDescription:!1},defaultTextTrack:null,defaultWantedBufferAhead:30,defaultMaxBufferBehind:Infinity,defaultMaxBufferAhead:Infinity,defaultBufferThreshold:.3,initialVideoBitrate:0,initialAudioBitrate:0,maxVideoBitrate:Infinity,maxAudioBitrate:Infinity};f.a=function(b,e){function f(a){return Q.distinctUntilChanged().map(function(c){return d(a,
c.language,c.audioDescription)||a[0]})}function q(a){return X.distinctUntilChanged().map(function(d){return d?c(a,d.language,d.closedCaption):null})}var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Object.keys(r).forEach(function(a){return void 0===r[a]&&delete r[a]});var x=n()({},y,r),z=x.defaultTextTrack,M=x.defaultWantedBufferAhead,A=x.defaultMaxBufferBehind,G=x.defaultMaxBufferAhead,N=x.defaultBufferThreshold,aa=x.initialVideoBitrate,R=x.initialAudioBitrate,O=x.maxVideoBitrate,
U=x.maxAudioBitrate,F=x.limitVideoWidth,K=x.throttleWhenHidden,Z=e.videoWidth,ba=e.inBackground,Q=new p.BehaviorSubject(x.defaultAudioTrack),X=new p.BehaviorSubject(z),J={audio:new p.BehaviorSubject(R),video:new p.BehaviorSubject(aa)},x=[a.i(w.a)(l(b,"audio"),{alpha:.6}).multicast(J.audio),a.i(w.a)(l(b,"video"),{alpha:.6}).multicast(J.video)],H=new t.Subscription;x.forEach(function(a){return H.add(a.connect())});var Y={audio:new p.BehaviorSubject(Infinity),video:new p.BehaviorSubject(Infinity)},V=
{audio:new p.BehaviorSubject(U),video:new p.BehaviorSubject(O)},P={audio:new p.BehaviorSubject(M),video:new p.BehaviorSubject(M),text:new p.BehaviorSubject(M)},W={audio:new p.BehaviorSubject(A),video:new p.BehaviorSubject(A),text:new p.BehaviorSubject(A)},I={audio:new p.BehaviorSubject(G),video:new p.BehaviorSubject(G),text:new p.BehaviorSubject(G)};return{setAudioTrack:function(a){Q.next(a)},setTextTrack:function(a){X.next(a)},getAudioTrack:function(){return Q.getValue()},getTextTrack:function(){return X.getValue()},
getAverageBitrates:function(){return J},getAudioMaxBitrate:function(){return V.audio.getValue()},getVideoMaxBitrate:function(){return V.video.getValue()},getAudioBufferSize:function(){return P.audio.getValue()},getVideoBufferSize:function(){return P.video.getValue()},setAudioBitrate:function(a){Y.audio.next(h(a,Infinity))},setVideoBitrate:function(a){Y.video.next(h(a,Infinity))},setAudioMaxBitrate:function(a){V.audio.next(h(a,Infinity))},setVideoMaxBitrate:function(a){V.video.next(h(a,Infinity))},
setAudioBufferSize:function(a){P.audio.next(h(a,M))},setVideoBufferSize:function(a){P.video.next(h(a,M))},setMaxBufferBehind:function(a){W.audio.next(h(a,A));W.video.next(h(a,A));W.text.next(h(a,A))},setMaxBufferAhead:function(a){I.audio.next(h(a,G));I.video.next(h(a,G));I.text.next(h(a,G))},setWantedBufferAhead:function(a){P.audio.next(h(a,A));P.video.next(h(a,A));P.text.next(h(a,A))},getMaxBufferBehind:function(){return Math.min(W.audio.getValue(),W.video.getValue(),W.text.getValue())},getMaxBufferAhead:function(){return Math.min(I.audio.getValue(),
I.video.getValue(),I.text.getValue())},getWantedBufferAhead:function(){return Math.min(P.audio.getValue(),P.video.getValue(),P.text.getValue())},getBufferAdapters:function(c){var d=c.type,b=c.representations,e=c.getAvailableBitrates();c=void 0;if(1<b.length){c=Y[d];var l=V[d],h=J[d].map(function(a,c){return k(e,a,0===c?0:N)}).distinctUntilChanged().debounceTime(2E3).startWith(k(e,J[d].getValue(),0));"video"==d&&(l=a.i(v.combineLatest)([l,Z,ba]).map(function(a){var c=a[0],d=a[1];a=a[2];if(K&&a)return e[0];
d=F?g(b,d):e[e.length-1];return Math.min(d,c)}));c=a.i(v.combineLatest)(c,l,h,function(a,c,d){var g=void 0,g=Infinity>a?a:Infinity>c?Math.min(c,d):d;return m(b,function(a){return a.bitrate===k(e,g)})}).distinctUntilChanged(function(a,c){return a.id===c.id})}else c=a.i(u.e)(b[0]);return{representations:c,wantedBufferAhead:P[d]||new p.BehaviorSubject(M),maxBufferBehind:W[d]||new p.BehaviorSubject(A),maxBufferAhead:I[d]||new p.BehaviorSubject(G)}},getAdaptationsChoice:function(c,d){return"audio"==c?
f(d):"text"==c?q(d):a.i(u.e)(d[0])},unsubscribe:function(){H&&(H.unsubscribe(),H=null)}}}},function(b,f,a){function m(b){function l(a,c){for(var d=a.ts,b=a.buffered,e=b.getRange(d),b=b.getOuterRanges(d),g=[],l=0;l<b.length;l++){var k=b[l];d-c<k.end?g.push(k):d+c>k.start&&g.push(k)}e&&(n.a.debug("buffer: gc removing part of inner range",g),d-c>e.start&&g.push({start:e.start,end:d-c}),d+c<e.end&&g.push({start:d+c,end:e.end}));return g}function h(){n.a.warn("buffer: running garbage collector");return aa.take(1).mergeMap(function(a){var c=
l(a,x);0===c.length&&(c=l(a,z));n.a.debug("buffer: gc cleaning",c);return r(c.map(function(a){return J.removeBuffer(a)})).concatAll()})}function f(b){function e(a){return q.test(a.id)?!1:a.isInit||0>a.time?!0:(a=X.hasRange(a.time/a.timescale,a.duration/a.timescale))?a.bitrate*y<b.bitrate:!0}function l(a,c,d){var l=new t.a(C.buffered);X.equals(l)||X.intersect(l);if(a.stalled&&O){var k=b.index.checkDiscontinuity(a.ts);0<k&&U.next({type:"index-discontinuity",value:{ts:k+1}})}k=void 0;try{var h=null;
0===d&&(n.a.debug("add init segment",m),h=b.index.getInitSegment());if(0===a.readyState)k=h?[h]:[];else{var f=a.ts,r=Math.max(0,Math.min(c,a.liveGap,(a.duration||Infinity)-f));a=void 0;var p=l.getGap(f);a=p>F&&Infinity>p?Math.min(p,K):0;var Q=X.getRange(f);if(Q&&Q.bitrate===b.bitrate){var w=Math.floor(Q.end-f);w>a&&(a=w)}l=f+a;p=f+r-l;if(b.index.shouldRefresh(f,l,f+r))throw new v.g("OUT_OF_INDEX_ERROR",b.index.getType(),!1);var x=b.index.getSegments(l,p);h&&x.unshift(h);k=x}k=k.filter(e)}catch(ca){if(ca.type===
v.a.INDEX_ERROR&&ca.code===v.b.OUT_OF_INDEX_ERROR)return U.next({type:"out-of-index",value:ca}),u();throw ca;}for(f=0;f<k.length;f++)q.add(k[f].id);return g.Observable.of.apply(g.Observable,k)}n.a.info("bitrate",m,b.bitrate);var q=new p.a,x=function(a,c,d){if(!isFinite(c)&&!isFinite(d))return g.Observable.empty();var b=new t.a(C.buffered),e=[],l=b.getRange(a),k=b.getOuterRanges(a);(function(){if(isFinite(c)){for(var d=0;d<k.length;d++){var b=k[d];a-c>=b.end?e.push(b):a>=b.end&&a-c>b.start&&a-c<b.end&&
e.push({start:b.start,end:a-c})}l&&a-c>l.start&&e.push({start:l.start,end:a-c})}})();(function(){if(isFinite(d)){for(var c=0;c<k.length;c++){var b=k[c];a+d<=b.start?e.push(b):a<=b.start&&a+d<b.end&&a+d>b.start&&e.push({start:a+d,end:b.end})}l&&a+d<l.end&&e.push({start:a+d,end:l.end})}})();return r(e.map(function(a){return J.removeBuffer(a)})).concatAll().ignoreElements()},E=function(a){return G({segment:a,representation:b}).map(function(c){return k()({segment:a},c)})},z=a.i(d.combineLatest)(aa,Z,
ba,Q).mergeMap(function(a,c){var d=a[0],b=a[2],e=a[3];return g.Observable.merge(l(d,Math.min(a[1],e),c).concatMap(E),x(d.ts,b,e))}).concatMap(function(a){var c=a.segment,d=a.parsed,e=d.segmentData,g=d.nextSegments,l=d.currentSegment;(d=d.timescale)&&b.index.setTimescale(d);var f=g?b.index._addSegments(g,l):[];q.remove(c.id);l&&X.insert(b.bitrate,l.ts/c.timescale,(l.ts+l.d)/c.timescale);return J.appendBuffer(e)["catch"](function(a){if("QuotaExceededError"!=a.name)throw new v.d("BUFFER_APPEND_ERROR",
a,!0);return h().mergeMap(function(){return J.appendBuffer(e)})["catch"](function(a){throw new v.d("BUFFER_FULL_ERROR",a,!0);})}).map(function(){return{type:"pipeline",value:k()({bufferType:m,addedSegments:f},a)}})});return a.i(c.merge)(z,U)["catch"](function(a){if(!O||a.type!=v.a.NETWORK_ERROR||!a.isHttpError(412))throw a;return g.Observable.of({type:"precondition-failed",value:a}).concat(w(2E3)).concat(f(b))}).startWith({type:"buffer",value:{bufferType:m,adaptation:A,representation:b}})}var m=b.bufferType,
C=b.sourceBuffer,A=b.adaptation,G=b.pipeline,N=b.adapters,aa=b.timings,R=b.seekings,O=b.isLive,U=new e.Subject,F="video"==m?4:1,K="video"==m?6:1;b=N.representations;var Z=N.wantedBufferAhead,ba=N.maxBufferBehind,Q=N.maxBufferAhead,X=new t.a,J=new q.a(C);return a.i(d.combineLatest)(b,R,function(a){return a}).switchMap(f)["finally"](function(){return J.dispose()})}function h(a){return g.Observable.of({type:"buffer",value:{bufferType:a,adaptation:null,representation:null}})}a.d(f,"b",function(){return m});
a.d(f,"a",function(){return h});b=a(7);var k=a.n(b),g=a(0);a.n(g);var e=a(8);a.n(e);var d=a(23);a.n(d);var c=a(10);a.n(c);b=a(9);a.n(b);f=a(142);a.n(f);var l=a(54);a.n(l);var n=a(3),q=a(72),t=a(19),p=a(104),v=a(6),u=b.EmptyObservable.create,r=f.FromObservable.create,w=l.TimerObservable.create,y=1.5,x=240,z=30},function(b,f,a){a.d(f,"a",function(){return h});var m=a(8);a.n(m);var h=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.buffer=
b;this.queue=[];this.flushing=null;this._onUpdate=this.onUpdate.bind(this);this._onError=this.onError.bind(this);this._flush=this.flush.bind(this);this.buffer.addEventListener("update",this._onUpdate);this.buffer.addEventListener("error",this._onError);this.buffer.addEventListener("updateend",this._flush)}a.prototype.dispose=function(){this.buffer.removeEventListener("update",this._onUpdate);this.buffer.removeEventListener("error",this._onError);this.buffer.removeEventListener("updateend",this._flush);
this.buffer=null;this.queue.length=0;this.flushing=null};a.prototype.onUpdate=function(a){this.flushing&&(this.flushing.next(a),this.flushing.complete(),this.flushing=null)};a.prototype.onError=function(a){this.flushing&&(this.flushing.error(a),this.flushing=null)};a.prototype.queueAction=function(a,b){var d=new m.Subject;1===this.queue.unshift({type:a,args:b,subj:d})&&this.flush();return d};a.prototype.appendBuffer=function(a){return this.queueAction("append",a)};a.prototype.removeBuffer=function(a){return this.queueAction("remove",
{start:a.start,end:a.end})};a.prototype.appendStream=function(a){return this.queueAction("stream",a)};a.prototype.flush=function(){if(!this.flushing&&0!==this.queue.length&&!this.buffer.updating){var a=this.queue.pop(),b=a.type,d=a.args;this.flushing=a.subj;try{switch(b){case "append":this.buffer.appendBuffer(d);break;case "stream":this.buffer.appendStream(d);break;case "remove":this.buffer.remove(d.start,d.end)}}catch(c){this.onError(c)}}};return a}()},function(b,f,a){a.d(f,"a",function(){return m});
var m=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.cache={}}a.prototype.add=function(a,b){var e=a.segment;e.isInit&&(this.cache[e.id]=b)};a.prototype.get=function(a){a=a.segment;return a.isInit&&(a=this.cache[a.id],null!=a)?a:null};return a}()},function(b,f,a){var m=a(10);a.n(m);b=a(143);a.n(b);var h=a(11),k=b.IntervalObservable.create,g=window.devicePixelRatio||1;f.a=function(b){var d=a.i(h.u)().filter(function(a){return!1===a}),c=
a.i(h.u)().debounceTime(6E4).filter(function(a){return!0===a}),d=a.i(m.merge)(d,c).startWith(!1);return{videoWidth:a.i(m.merge)(k(2E4),a.i(h.v)().debounceTime(500)).startWith("init").map(function(){return b.clientWidth*g}).distinctUntilChanged(),inBackground:d}}},function(b,f,a){function m(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var g=a.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!==typeof g&&"function"!==typeof g?this:g}m(b,a);b.prototype._append=function(){this.buffered.insert(0,0,Infinity)};return b}(a(44).a);f.a=b},function(b,f,a){function m(c,
d,b){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;a.i(n.e)(b)||(b=new (b instanceof n.h?n.j:n.f)(c,b,e));b.pipelineType=d;return b}function h(a){return a instanceof n.h?a.type===n.i.ERROR_HTTP_CODE?500<=a.status||404==a.status:a.type===n.i.TIMEOUT||a.type===n.i.ERROR_EVENT:!1}function k(b,e,k,f){function n(a){throw m("PIPELINE_RESOLVE_ERROR",b,a);}function u(a){throw m("PIPELINE_PARSING_ERROR",b,a);}function t(a){k.next(a)}function p(d){return a.i(c.a)(a.i(l.c)(L,d),aa)}function z(c){var d=
N?N.get(c):null;return null===d?p(c):a.i(l.b)(d)["catch"](function(){return p(c)})}function C(c){return a.i(l.c)(M,c)["catch"](u)}function E(a,c){var d=g()({response:c},a);N&&N.add(a,c);q.schedule(t,0,{type:b,value:d});return d}function v(a,c){return g()({parsed:c},a)}var T=e.resolver,L=e.loader,M=e.parser,A=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};T||(T=d.Observable.of);L||(L=d.Observable.of);M||(M=d.Observable.of);var G=A.maxRetry,N=A.cache,A="number"===typeof G?G:4,aa={retryDelay:200,
errorSelector:function(a){throw m("PIPELINE_LOAD_ERROR",b,a);},totalRetry:A,shouldRetry:A&&h,onRetry:function(a){q.schedule(t,0,{type:b,value:a.xhr});f.next(m("PIPELINE_LOAD_ERROR",b,a,!1))}};return function(c){return a.i(l.c)(T,c)["catch"](n).mergeMap(z,E).mergeMap(C,v)}}b=a(7);var g=a.n(b),e=a(8);a.n(e);b=a(174);a.n(b);var d=a(0);a.n(d);var c=a(32),l=a(13),n=a(6),q=b.asap;f.a=function(){var a=new e.Subject;return{createPipelines:function(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{},b={requiresMediaSource:function(){return!0!==c.directFile}},e;for(e in c)b[e]=k(e,c[e],a,d.errorStream,d[e]);return b},metrics:a}}},function(b,f,a){function m(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?a:c}function h(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function k(a,c){if(a===c)return!0;if("object"===("undefined"===typeof a?"undefined":K(a))&&"object"===("undefined"===typeof c?"undefined":K(c))){if(null===a||null===c)return!1;var d=Object.keys(a);if(d.length!==Object.keys(c).length)return!1;for(var b=Array.isArray(d),e=0,d=b?d:d[Symbol.iterator]();;){var l;if(b){if(e>=d.length)break;l=d[e++]}else{e=d.next();if(e.done)break;l=e.value}if(!c.hasOwnProperty(l)||
!k(a[l],c[l]))return!1}return!0}return!1}function g(a,c){return c?"seeking"==c.name?"SEEKING":"BUFFERING":a?"PLAYING":"PAUSED"}function e(){}function d(c){a.i(z.a)(c._manifest,"player: no manifest loaded")}function c(a,c){return a.filter(function(a){return a.type==c}).map(function(a){return a.value})}b=a(7);var l=a.n(b);b=a(18);var n=a.n(b),q=a(4);a.n(q);var t=a(8);a.n(t);var p=a(33);a.n(p);var v=a(23);a.n(v);var u=a(3),r=a(106),w=a(13),y=a(22);b=a(30);var x=a(105),z=a(1),C=a(11),E=a(45),D=a(6),T=
a(73),L=a(19),M=a(80),A=a(74),G=a(43),N=a(98),aa=a(76),R=a(70),O=a(78),U=a(42),F=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}(),K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a};b=function(b){function f(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var d=c.videoElement,e=c.transport,l=c.transportOptions,g=c.defaultLanguage,k=c.defaultAudioTrack,h=c.defaultSubtitle,n=c.defaultTextTrack,q=c.initVideoBitrate,w=c.initialVideoBitrate,x=c.initAudioBitrate,E=c.initialAudioBitrate,F=c.maxVideoBitrate,v=c.maxAudioBitrate,D=c.limitVideoWidth,D=void 0===D?!0:D,c=c.throttleWhenHidden,
c=void 0===c?!0:c,B=m(this,b.call(this)),Z=w,K=E,T=k,L=n;null!=q&&null==w&&(a.i(r.a)("initVideoBitrate is deprecated. Use initialVideoBitrate instead"),Z=q);null!=x&&null==E&&(a.i(r.a)("initAudioBitrate is deprecated. Use initialAudioBitrate instead"),K=x);null!=g&&null==k&&(a.i(r.a)("defaultLanguage is deprecated. Use defaultAudioTrack instead"),T=g);null!=h&&null==n&&(a.i(r.a)("defaultSubtitle is deprecated. Use defaultTextTrack instead"),L=h);B._playPauseNext$=B._playPauseNext.bind(B);B._textTrackChanges$=
B._textTrackChanges.bind(B);B._setPlayerState$=B._setPlayerState.bind(B);B._triggerTimeChange$=B._triggerTimeChange.bind(B);B._streamNext$=B._streamNext.bind(B);B._streamError$=B._streamError.bind(B);B._streamFatalError$=B._streamFatalError.bind(B);B._streamComplete$=B._streamComplete.bind(B);B.defaultTransport=e;B.defaultTransportOptions=l||{};d||(d=document.createElement("video"));a.i(z.a)(d instanceof C.a,"requires an actual HTMLVideoElement");d.preload="auto";B.version="2.3.0";B.video=d;B.fullscreen=
a.i(C.b)(d).subscribe(function(){return B.trigger("fullscreenChange",B.isFullscreen())});B.playing=new p.BehaviorSubject;B.stream=new t.Subject;B.images=new t.Subject;B.errorStream=new t.Subject;l=a.i(aa.a)();e=l.createPipelines;l=l.metrics;d=a.i(A.a)(d);B.createPipelines=e;B.metrics=l;B.adaptive=a.i(R.a)(l,d,{initialVideoBitrate:Z,initialAudioBitrate:K,maxVideoBitrate:F,maxAudioBitrate:v,defaultAudioTrack:a.i(y.a)(T),defaultTextTrack:a.i(y.b)(L),limitVideoWidth:D,throttleWhenHidden:c});B.muted=.1;
B._setPlayerState("STOPPED");B._resetStates();B.log=u.a;return B}h(f,b);f.getErrorTypes=function(){a.i(r.a)("getErrorTypes is deprecated. Use the ErrorTypes property instead");return D.a};f.getErrorCodes=function(){a.i(r.a)("getErrorCodes is deprecated. Use the ErrorCodes property instead");return D.b};F(f,null,[{key:"ErrorTypes",get:function(){return D.a}},{key:"ErrorCodes",get:function(){return D.b}}]);f.prototype._resetStates=function(){this._manifest=null;this.reps={video:null,audio:null,text:null,
images:null};this.adas={video:null,audio:null,text:null,images:null};this.evts={};this.frag={start:null,end:null};this.error=null;this.images.next(null);this._currentImagePlaylist=null};f.prototype._unsubscribe=function(){if(this.subscriptions){var a=this.subscriptions;this.subscriptions=null;a.unsubscribe()}};f.prototype.stop=function(){"STOPPED"!==this.state&&(this._resetStates(),this._unsubscribe(),this._setPlayerState("STOPPED"))};f.prototype.dispose=function(){this.stop();this.metrics.unsubscribe();
this.adaptive.unsubscribe();this.fullscreen.unsubscribe();this.stream.unsubscribe();a.i(U.a)();this.video=this.createPipelines=this.stream=this.fullscreen=this.adaptive=this.metrics=null};f.prototype._recordState=function(a,c){k(this.evts[a],c)||(this.evts[a]=c,this.trigger(a+"Change",c))};f.prototype._parseOptions=function(c){var d=c=l()({transport:this.defaultTransport,transportOptions:{},keySystems:[],timeFragment:{},textTracks:[],imageTracks:[],autoPlay:!1,hideNativeSubtitle:!1,directFile:!1},
c),b=d.transport,e=d.url,g=d.keySystems,f=d.timeFragment,k=d.supplementaryTextTracks,h=d.supplementaryImageTracks,n=c,m=n.subtitles,q=n.images,d=n.transportOptions,u=n.manifests,t=n.autoPlay,p=n.directFile,w=n.defaultLanguage,x=n.defaultAudioTrack,Q=n.defaultSubtitle,C=n.hideNativeSubtitle,E=n.startAt,y=x,n=n.defaultTextTrack;null!=w&&null==x&&(a.i(r.a)("defaultLanguage is deprecated. Use defaultAudioTrack instead"),y=w);c.hasOwnProperty("defaultSubtitle")&&!c.hasOwnProperty("defaultTextTrack")&&
(a.i(r.a)("defaultSubtitle is deprecated. Use defaultTextTrack instead"),n=Q);void 0!==m&&void 0===k&&(a.i(r.a)("the subtitles option is deprecated. Use supplementaryTextTracks instead"),k=m);void 0!==q&&void 0===h&&(a.i(r.a)("the images option is deprecated. Use supplementaryImageTracks instead"),h=q);f=a.i(M.a)(f);p&&(b="directfile");a.i(z.a)(!!u^!!e,"player: you have to pass either a url or a list of manifests");u&&(a.i(r.a)("the manifests options is deprecated, use url instead"),g=u[0],e=g.url,
k=g.subtitles||[],h=g.images||[],g=u.map(function(a){return a.keySystem}).filter(Boolean));"string"==typeof b&&(b=N.a[b]);"function"==typeof b&&(b=b(l()({},this.defaultTransportOptions,d)));a.i(z.a)(b,"player: transport "+c.transport+" is not supported");return{url:e,keySystems:g,supplementaryTextTracks:k,hideNativeSubtitle:C,supplementaryImageTracks:h,timeFragment:f,autoPlay:t,defaultAudioTrack:y,defaultTextTrack:n,transport:b,startAt:E}};f.prototype.loadVideo=function(){var d=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{},d=this._parseOptions(d);u.a.info("loadvideo",d);var b=d,l=b.url,f=b.keySystems,k=b.supplementaryTextTracks,h=b.hideNativeSubtitle,n=b.supplementaryImageTracks,m=b.timeFragment,r=b.autoPlay,t=b.transport,d=b.defaultAudioTrack,p=b.defaultTextTrack,b=b.startAt;this.stop();this.frag=m;this.playing.next(r);null!=d&&this.adaptive.setAudioTrack(a.i(y.a)(d));void 0!==p&&this.adaptive.setTextTrack(a.i(y.b)(p));var p=this.video,x=this.adaptive,d=this.errorStream,C=this.createPipelines(t,
{errorStream:d,audio:{cache:new T.a},video:{cache:new T.a},image:{maxRetry:0}}),t=a.i(E.a)(p,{requiresMediaSource:C.requiresMediaSource()}),l=a.i(O.a)({url:l,errorStream:d,keySystems:f,supplementaryTextTracks:k,hideNativeSubtitle:h,timings:t,supplementaryImageTracks:n,timeFragment:m,adaptive:x,pipelines:C,videoElement:p,autoPlay:r,startAt:b}).publish(),k=c(l,"stalled").startWith(null),f=c(l,"loaded").take(1).share(),k=f.mapTo("LOADED").concat(a.i(v.combineLatest)(this.playing,k,g)).distinctUntilChanged().startWith("LOADING"),
h=a.i(w.a)(p,["play","pause"]),p=a.i(w.a)(p.textTracks,["addtrack"]),n=this.subscriptions=new q.Subscription;n.add(h.subscribe(this._playPauseNext$,e));n.add(p.subscribe(this._textTrackChanges$,e));n.add(k.subscribe(this._setPlayerState$,e));n.add(t.subscribe(this._triggerTimeChange$,e));n.add(l.subscribe(this._streamNext$,this._streamFatalError$,this._streamComplete$));n.add(d.subscribe(this._streamError$));n.add(l.connect());this.subscriptions?this._triggerTimeChange():n.unsubscribe();return f};
f.prototype._streamNext=function(a){var c=a.type,d=a.value;"buffer"==c&&this._bufferNext(d);"manifest"==c&&this._manifestNext(d);"pipeline"==c&&(this.trigger("progress",d.segment),c=d.parsed,"image"===d.bufferType&&(this._currentImagePlaylist=d=c.segmentData,this.trigger("imageTrackUpdate",{data:this._currentImagePlaylist}),this.images.next(d)));this.stream&&this.stream.next(a)};f.prototype._streamError=function(a){this.trigger("warning",a);this.stream&&this.stream.next({type:"warning",value:a})};
f.prototype._streamFatalError=function(a){this._resetStates();this.error=a;this._setPlayerState("STOPPED");this._unsubscribe();this.trigger("error",a);this.stream&&this.stream.next({type:"error",value:a})};f.prototype._streamComplete=function(){this._resetStates();this._setPlayerState("ENDED");this._unsubscribe();this.stream&&this.stream.next({type:"ended",value:null})};f.prototype._manifestNext=function(a){this._manifest=a;this.trigger("manifestChange",a)};f.prototype._bufferNext=function(a){var c=
a.bufferType,d=a.adaptation;a=a.representation;this.reps[c]=a;this.adas[c]=d;if("text"==c){var b=d&&d.language?{language:d.language,closedCaption:!!d.isClosedCaption,id:d.id}:null;this._recordState("subtitle",b&&b.language);this._recordState("textTrack",b)}"video"==c&&this._recordState("videoBitrate",a&&a.bitrate||-1);"audio"==c&&(c={language:d&&d.language||"",audioDescription:!(!d||!d.isAudioDescription),id:d.id},this._recordState("language",c.language),this._recordState("audioTrack",c),this._recordState("audioBitrate",
a&&a.bitrate||-1))};f.prototype._playPauseNext=function(a){!0!==this.video.ended&&this.playing.next("play"==a.type)};f.prototype._textTrackChanges=function(a){(a=a.target[0])&&this.trigger("nativeTextTrackChange",a)};f.prototype._setPlayerState=function(a){this.state!==a&&(this.state=a,u.a.info("playerStateChange",a),this.trigger("playerStateChange",a))};f.prototype._triggerTimeChange=function(c){if(this._manifest&&c){this._manifest.isLive&&0<c.ts&&(c.wallClockTime=a.i(E.c)(c.ts,this._manifest),c.liveGap=
a.i(E.d)(this._manifest)-c.ts);var d={position:c.ts,duration:c.duration,bufferGap:isFinite(c.gap)?c.gap:0,liveGap:c.liveGap,playbackRate:c.playback,wallClockTime:c.wallClockTime&&c.wallClockTime.getTime()/1E3,maximumBufferTime:a.i(E.e)(this._manifest)};this.trigger("positionUpdate",d);c.liveGap=d.maximumBufferTime-c.ts;this.trigger("currentTimeChange",c)}else this.trigger("currentTimeChange",a.i(E.b)())};f.prototype.getError=function(){return this.error};f.prototype.getManifest=function(){return this._manifest||
null};f.prototype.getCurrentAdaptations=function(){return this._manifest?this.adas:null};f.prototype.getCurrentRepresentations=function(){return this._manifest?this.reps:null};f.prototype.getVideoElement=function(){return this.video};f.prototype.getNativeTextTrack=function(){return 0<this.video.textTracks.length?this.video.textTracks[0]:null};f.prototype.getImageTrack=function(){return this.images.distinctUntilChanged()};f.prototype.getPlayerState=function(){return this.state};f.prototype.isLive=
function(){d(this);return this._manifest.isLive};f.prototype.getUrl=function(){d(this);return this._manifest.getUrl()};f.prototype.getVideoDuration=function(){return this.video.duration};f.prototype.getVideoLoadedTime=function(){return(new L.a(this.video.buffered)).getSize(this.video.currentTime)};f.prototype.getVideoPlayedTime=function(){return(new L.a(this.video.buffered)).getLoaded(this.video.currentTime)};f.prototype.getCurrentTime=function(){a.i(r.a)("getCurrentTime is deprecated and won't be available in the next major version. Use either getWallClockTime or getPosition instead.");
if(!this._manifest)return 0;var c=this.video.currentTime;return this._manifest.isLive?a.i(E.c)(c,this._manifest):c};f.prototype.getWallClockTime=function(){if(!this._manifest)return 0;var c=this.video.currentTime;return this.isLive()?+a.i(E.c)(c,this._manifest)/1E3:c};f.prototype.getPosition=function(){return this.video.currentTime};f.prototype.getStartTime=function(){return this.frag.start};f.prototype.getEndTime=function(){return this.frag.end};f.prototype.getPlaybackRate=function(){return this.video.playbackRate};
f.prototype.getVolume=function(){return this.video.volume};f.prototype.isFullscreen=function(){return a.i(C.c)()};f.prototype.getAvailableLanguages=function(){a.i(r.a)("getAvailableLanguages is deprecated and won't be available in the next major version. Use getAvailableAudioTracks instead.");return this._manifest&&a.i(G.a)(this._manifest).map(function(a){return a.language})||[]};f.prototype.getAvailableSubtitles=function(){a.i(r.a)("getAvailableSubtitles is deprecated and won't be available in the next major version. Use getAvailableTextTracks instead.");
return this._manifest&&a.i(G.b)(this._manifest).map(function(a){return a.language})||[]};f.prototype.getLanguage=function(){a.i(r.a)("getLanguage is deprecated and won't be available in the next major version. Use getAudioTrack instead.");return this.evts.language};f.prototype.getSubtitle=function(){a.i(r.a)("getSubtitle is deprecated and won't be available in the next major version. Use getTextTrack instead.");return this.evts.subtitle};f.prototype.getAvailableVideoBitrates=function(){return this.adas.video&&
this.adas.video.getAvailableBitrates()||[]};f.prototype.getAvailableAudioBitrates=function(){return this.adas.audio&&this.adas.audio.getAvailableBitrates()||[]};f.prototype.getVideoBitrate=function(){return this.evts.videoBitrate};f.prototype.getAudioBitrate=function(){return this.evts.audioBitrate};f.prototype.getVideoMaxBitrate=function(){a.i(r.a)("getVideoMaxBitrate is deprecated. Use getMaxVideoBitrate instead");return this.getMaxVideoBitrate()};f.prototype.getMaxVideoBitrate=function(){return this.adaptive.getVideoMaxBitrate()};
f.prototype.getAudioMaxBitrate=function(){a.i(r.a)("getAudioMaxBitrate is deprecated. Use getMaxAudioBitrate instead");return this.getMaxAudioBitrate()};f.prototype.getMaxAudioBitrate=function(){return this.adaptive.getAudioMaxBitrate()};f.prototype.getVideoBufferSize=function(){return this.adaptive.getVideoBufferSize()};f.prototype.getAudioBufferSize=function(){return this.adaptive.getAudioBufferSize()};f.prototype.getAverageBitrates=function(){return this.adaptive.getAverageBitrates()};f.prototype.getMetrics=
function(){return this.metrics};f.prototype.play=function(){this.video.play()};f.prototype.pause=function(){this.video.pause()};f.prototype.setPlaybackRate=function(a){this.video.playbackRate=a};f.prototype.goToStart=function(){return this.seekTo(this.getStartTime())};f.prototype.seekTo=function(c){d(this);var b=this.video.currentTime;if(c){if(null!=c.relative){this.video.currentTime=b+c.relative;return}if(null!=c.position){this.video.currentTime=c.position;return}if(null!=c.wallClockTime){this.video.currentTime=
a.i(E.f)(1E3*c.wallClockTime,this._manifest);return}}this._manifest.isLive&&(c=a.i(E.f)(c,this._manifest));return c!==b?(u.a.info("seek to",c),this.video.currentTime=c):b};f.prototype.exitFullscreen=function(){a.i(C.d)()};f.prototype.setFullscreen=function(){!1===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0)?(a.i(r.a)("setFullscreen(false) is deprecated. Use exitFullscreen instead"),a.i(C.d)()):a.i(C.e)(this.video)};f.prototype.setVolume=function(a){a!==this.video.volume&&(this.video.volume=
a,this.trigger("volumeChange",a))};f.prototype.mute=function(){this.muted=this.getVolume()||.1;this.setVolume(0)};f.prototype.unMute=function(){0===this.getVolume()&&this.setVolume(this.muted)};f.prototype.normalizeLanguageCode=function(c){return a.i(y.c)(c)};f.prototype.isLanguageAvailable=function(c){a.i(r.a)("isLanguageAvailable is deprecated and won't be available in the next major version.");var d=a.i(y.a)(c);return d?(c=this.getAvailableAudioTracks())?!!n()(c,function(a){return a.language===
d.language}):!1:!1};f.prototype.isSubtitleAvailable=function(c){a.i(r.a)("isSubtitleAvailable is deprecated and won't be available in the next major version.");var d=a.i(y.b)(c);return d?(c=this.getAvailableTextTracks())?!!n()(c,function(a){return a.language===d.language}):!1:!1};f.prototype.setLanguage=function(c){a.i(r.a)("setLanguage is deprecated and won't be available in the next major version. Use setAudioTrack instead.");d(this);c=a.i(y.a)(c);a.i(z.a)(this.isLanguageAvailable(c),"player: unknown language");
this.adaptive.setAudioTrack(c)};f.prototype.setSubtitle=function(c){a.i(r.a)("setSubtitle is deprecated and won't be available in the next major version. Use setTextTrack instead.");d(this);null==c?(this.adaptive.setTextTrack(null),this._recordState("subtitle",null)):(c=a.i(y.b)(c),a.i(z.a)(this.isSubtitleAvailable(c),"player: unknown subtitle"),this.adaptive.setTextTrack(c))};f.prototype.setVideoBitrate=function(c){d(this);a.i(z.a)(0===c||0<=this.getAvailableVideoBitrates().indexOf(c),"player: video bitrate unavailable");
this.adaptive.setVideoBitrate(c)};f.prototype.setAudioBitrate=function(c){d(this);a.i(z.a)(0===c||0<=this.getAvailableAudioBitrates().indexOf(c),"player: audio bitrate unavailable");this.adaptive.setAudioBitrate(c)};f.prototype.setVideoMaxBitrate=function(c){a.i(r.a)("setVideoMaxBitrate is deprecated. Use setMaxVideoBitrate instead");return this.setMaxVideoBitrate(c)};f.prototype.setMaxVideoBitrate=function(a){this.adaptive.setVideoMaxBitrate(a)};f.prototype.setAudioMaxBitrate=function(c){a.i(r.a)("setAudioMaxBitrate is deprecated. Use setMaxAudioBitrate instead");
return this.setMaxAudioBitrate(c)};f.prototype.setMaxAudioBitrate=function(a){this.adaptive.setAudioMaxBitrate(a)};f.prototype.setMaxBufferBehind=function(a){this.adaptive.setMaxBufferBehind(a)};f.prototype.setMaxBufferAhead=function(a){this.adaptive.setMaxBufferAhead(a)};f.prototype.setWantedBufferAhead=function(a){this.adaptive.setWantedBufferAhead(a)};f.prototype.getMaxBufferBehind=function(){return this.adaptive.getMaxBufferBehind()};f.prototype.getMaxBufferAhead=function(){return this.adaptive.getMaxBufferAhead()};
f.prototype.getWantedBufferAhead=function(){return this.adaptive.getWantedBufferAhead()};f.prototype.setVideoBufferSize=function(a){this.adaptive.setVideoBufferSize(a)};f.prototype.setAudioBufferSize=function(a){this.adaptive.setAudioBufferSize(a)};f.prototype.asObservable=function(){return this.stream};f.prototype.getDebug=function(){return x.a.getDebug(this)};f.prototype.showDebug=function(){x.a.showDebug(this,this.video)};f.prototype.hideDebug=function(){x.a.hideDebug()};f.prototype.toggleDebug=
function(){x.a.toggleDebug(this,this.video)};f.prototype.getCurrentKeySystem=function(){return a.i(U.b)()};f.prototype.getAvailableAudioTracks=function(){var c=this.getAudioTrack();return this._manifest?a.i(G.a)(this._manifest).map(function(a){return l()({},a,{active:c.id===a.id})}):null};f.prototype.getAvailableTextTracks=function(){var c=this.getTextTrack();return this._manifest?a.i(G.b)(this._manifest).map(function(a){return l()({},a,{active:!!c&&c.id===a.id})}):null};f.prototype.getAudioTrack=
function(){return this.evts.audioTrack};f.prototype.getTextTrack=function(){return this.evts.textTrack};f.prototype.setAudioTrack=function(c){var d=n()(this.getAvailableAudioTracks(),function(a){return a.id===c});a.i(z.a)(d,"player: unknown audio track");this.adaptive.setAudioTrack(d)};f.prototype.setTextTrack=function(c){var d=n()(this.getAvailableTextTracks(),function(a){return a.id===c});a.i(z.a)(d,"player: unknown text track");this.adaptive.setTextTrack(d)};f.prototype.disableTextTrack=function(){this.adaptive.setTextTrack(null);
this._recordState("subtitle",null)};f.prototype.getImageTrackData=function(){return this._manifest?this._currentImagePlaylist:null};f.prototype.getMinimumPosition=function(){return this._manifest?a.i(E.g)(this._manifest):null};f.prototype.getMaximumPosition=function(){return this._manifest?a.i(E.d)(this._manifest):null};return f}(b.a);f.a=b},function(b,f,a){function m(a){return"audio"==a||"video"==a}function h(c,d,b){var l=c.getDuration(),f=b.start,k=b.end,n=/^\d*(\.\d+)? ?%$/;if(d){l=a.i(e.h)(c);
b=l[0];l=l[1];if(null!=d.position)return Math.max(Math.min(d.position,l),b);if(null!=d.wallClockTime)return Math.max(Math.min(c.isLive?d.wallClockTime-c.availabilityStartTime:d.wallClockTime,l),b);if(null!=d.fromFirstPosition)return c=d.fromFirstPosition,0>=c?b:Math.min(b+c,l);if(null!=d.fromLastPosition)return c=d.fromLastPosition,0<=c?l:Math.max(b,l+c)}else{"string"==typeof f&&n.test(f)&&(f=parseFloat(f)/100*l);"string"==typeof k&&n.test(k)&&(b.end=parseFloat(k)/100*l);if(Infinity===k||"100%"===
k)k=l;if(c.isLive){if(f)return a.i(e.f)(f,c);d=c.suggestedPresentationDelay;return a.i(e.d)(c)-(null==d?15:d)}a.i(g.a)(f<l&&k<=l,"stream: bad startTime and endTime");return f}return 0}var k=a(3),g=a(1),e=a(45),d=a(32),c=a(0);a.n(c);var l=a(13),n=a(10);a.n(n);var q=a(23);a.n(q);var t=a(11),p=a(79),v=a(75),u=a(71),r=a(42),w=a(6),y=a(43);f.a=function(b){function g(a,c,d){I[c]||(k.a.info("add sourcebuffer",d),I[c]=a.addSourceBuffer(d));return I[c]}function f(a,c,d,b){if(m(d))a=g(c,d,b);else{if(c=S[d])try{c.abort()}catch(B){k.a.warn(B)}finally{delete S[d]}if("text"==
d)k.a.info("add text sourcebuffer",b),a=new p.a(a,b,K);else if("image"==d)k.a.info("add image sourcebuffer",b),a=new v.a(b);else throw k.a.error("unknown buffer type "+d),new w.d("BUFFER_TYPE_UNKNOWN",null,!0);S[d]=a}return a}function x(a,c,d){var b=m(d);b?(a=I[d],delete I[d]):(a=S[d],delete S[d]);if(a)try{a.abort(),b&&c.removeSourceBuffer(a)}catch(B){k.a.warn(B)}}function D(c){var d=ba.map(function(d){var b;P?(b=d.clone(),b.ts=Math.min(d.ts,Q.end),b.duration=Math.min(d.duration,Q.end)):b=d;b.liveGap=
c.isLive?a.i(e.e)(c)-d.ts:Infinity;return b}),b=a.i(e.i)(d);return{timings:d,seekings:b}}function T(d,b,e,l,g,n,h){return X.getAdaptationsChoice(b,l).switchMap(function(l){if(!l)return x(H,d,b),a.i(u.a)(b);var q=f(H,d,b,e),r=X.getBufferAdapters(l);return a.i(u.b)({bufferType:b,sourceBuffer:q,adaptation:l,timings:g,seekings:n,adapters:r,pipeline:function(a){return J[b]({segment:a.segment,representation:a.representation,adaptation:l,manifest:h})},isLive:h.isLive})["catch"](function(a){k.a.error("buffer",
b,"has crashed",a);if(!m(b))return O.next(a),c.Observable.empty();throw a;})})}function L(c){var d=a.i(t.o)(H)["do"](function(){var a=h(c,V,Q);k.a.info("set initial time",a);H.playbackRate=1;H.currentTime=a}),b=a.i(t.p)(H)["do"](function(){k.a.info("canplay event");Y&&H.play();Y=!0});return a.i(q.combineLatest)(d,b).take(1).mapTo({type:"loaded",value:!0})}function M(){return U&&U.length?a.i(r.c)(H,U,O):a.i(r.d)(H).map(function(){k.a.error("eme: ciphered media and no keySystem passed");throw new w.c("MEDIA_IS_ENCRYPTED_ERROR",
null,!0);})}function A(c,d){var b=d.changePlaybackRate,e=void 0===b?!0:b;return c.distinctUntilChanged(function(c,d){var b=d.stalled,l=c.stalled,g;g=l||b?l&&b?l.name==b.name:!1:!0;!g&&e&&(l?(k.a.info("resume playback",d.ts,d.name),H.playbackRate=l.playback):(k.a.info("stop playback",d.ts,d.name),H.playbackRate=0));b&&(b=d.buffered.getNextRangeGap(d.ts),a.i(t.q)(d)?(H.currentTime=d.ts,k.a.warn("after freeze seek",d.ts,d.range)):1>b&&(l=d.ts+b+1/60,H.currentTime=l,k.a.warn("discontinuity seek",d.ts,
b,l)));return g}).map(function(a){return{type:"stalled",value:a.stalled}})}function G(c){return W({url:c.getUrl()}).map(function(d){d=d.parsed;return{type:"manifest",value:a.i(y.d)(c,a.i(y.c)(d.url,d.manifest,F,Z))}})}function N(d,b,e,l){var f=Object.keys(b.adaptations).map(function(c){var f=b.adaptations[c],k=a.i(y.e)(f[0].representations[0]);m(c)&&g(d,c,k);return T(d,c,k,f,e,l,b)}),f=n.merge.apply(void 0,f);return b.isLive?f.concatMap(function(a){a:{switch(a.type){case "index-discontinuity":k.a.warn("explicit discontinuity seek",
a.value.ts);H.currentTime=a.value.ts;break;case "precondition-failed":b.updateLiveGap(1);k.a.warn("precondition failed",b.presentationLiveGap);break;case "out-of-index":k.a.info("out of index");a=G(b);break a}a=c.Observable.of(a)}return a}):f}function aa(){return a.i(l.a)(H,"error").mergeMap(function(){var a=void 0;switch(H.error.code){case 1:a="MEDIA_ERR_ABORTED";break;case 2:a="MEDIA_ERR_NETWORK";break;case 3:a="MEDIA_ERR_DECODE";break;case 4:a="MEDIA_ERR_SRC_NOT_SUPPORTED"}k.a.error("stream: video element MEDIA_ERR("+
a+")");throw new w.d(a,null,!0);})}var R=b.url,O=b.errorStream,U=b.keySystems,F=b.supplementaryTextTracks,K=b.hideNativeSubtitle,Z=b.supplementaryImageTracks,ba=b.timings,Q=b.timeFragment,X=b.adaptive,J=b.pipelines,H=b.videoElement,Y=b.autoPlay,V=b.startAt,P=Infinity>Q.end,W=a.i(l.d)(J.manifest),I={},S={};b=ba.filter(function(a){var c=a.ts;a=a.duration;return 0<a&&.5>Math.min(a,Q.end)-c});var ha=a.i(d.b)(function(d){var b=d.url,e=d.mediaSource;d=e?a.i(t.n)(e):c.Observable.of(null);return a.i(q.combineLatest)(W({url:b}),
d).mergeMap(function(d){d=d[0].parsed;d=a.i(y.c)(d.url,d.manifest,F,Z);if(e){var b=d.getDuration(),b=Infinity===b?Number.MAX_VALUE:b;e.duration!==b&&(e.duration=b,k.a.info("set duration",e.duration))}var b=D(d),l=b.timings,g=b.seekings,b=c.Observable.of({type:"manifest",value:d}),f=M(),h=A(l,{changePlaybackRate:J.requiresMediaSource()}),m=L(d);d=N(e,d,l,g);l=aa();return a.i(n.merge)(b,m,h,f,d,l)})},{totalRetry:3,retryDelay:250,resetDelay:6E4,shouldRetry:function(a){return!0!==a.fatal},errorSelector:function(c){a.i(w.e)(c)||
(c=new w.f("NONE",c,!0));c.fatal=!0;return c},onRetry:function(a,c){k.a.warn("stream retry",a,c);O.next(a)}});return function(d,b){return c.Observable.create(function(c){function e(){if(l&&"closed"!=l.readyState)for(var c=l,d=c.readyState,c=c.sourceBuffers,e=0;e<c.length;e++){var f=c[e];try{"open"==d&&f.abort(),l.removeSourceBuffer(f)}catch(ea){k.a.warn("error while disposing souceBuffer",ea)}}Object.keys(S).forEach(function(a){a=S[a];try{a.abort()}catch(ca){k.a.warn("error while disposing souceBuffer",
ca)}});a.i(t.l)(b);if(g)try{URL.revokeObjectURL(g)}catch(ea){k.a.warn("error while revoking ObjectURL",ea)}I={};S={};g=l=null}var l=void 0,g=void 0;e();if(J.requiresMediaSource()){if(!t.m)throw new w.d("MEDIA_SOURCE_NOT_SUPPORTED",null,!0);l=new t.m;g=URL.createObjectURL(l)}else l=null,g=d;b.src=g;c.next({url:d,mediaSource:l});k.a.info("create mediasource object",g);return e})}(R,H).mergeMap(ha).takeUntil(b)}},function(b,f,a){function m(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+
typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}b=a(44);var h=a(11),k=a(3),g=window.VTTCue||window.TextTrackCue;b=function(b){function d(c,e,g){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var l;l=b.call(this,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");l=!l||"object"!==typeof l&&
"function"!==typeof l?this:l;l.video=c;l.codec=e;l.isVTT=/^text\/vtt/.test(e);c=a.i(h.r)(c,g);e=c.trackElement;l.track=c.track;l.trackElement=e;return l}m(d,b);d.prototype.createCuesFromArray=function(a){for(var c=[],d=0;d<a.length;d++){var b=a[d],e=b.start,f=b.end;(b=b.text)&&c.push(new g(e,f,b))}return c};d.prototype._append=function(c){var d=this;if(this.isVTT)a.i(h.s)()&&this.trackElement?(c=new Blob([c],{type:"text/vtt"}),c=URL.createObjectURL(c),this.trackElement.src=c,this.buffered.insert(0,
Infinity)):k.a.warn("vtt subtitles not supported");else if(c=this.createCuesFromArray(c),0<c.length){var b=c[0],e=c[c.length-1],g=this.track.cues;0<g.length&&b.startTime<g[g.length-1].startTime&&this._remove(b.startTime,Infinity);c.forEach(function(a){return d.track.addCue(a)});this.buffered.insert(0,b.startTime,e.endTime)}};d.prototype._remove=function(a,d){for(var c=this.track,b=c.cues,e=b.length-1;0<=e;e--){var l=b[e],g=l.startTime,f=l.endTime;g>=a&&g<=d&&f<=d&&c.removeCue(l)}this.buffered.remove(a,
d)};d.prototype._abort=function(){var a=this.trackElement,d=this.video;a&&d&&d.hasChildNodes(a)&&d.removeChild(a);this.track.mode="disabled";this.size=0;this.video=this.track=this.trackElement=null};return d}(b.a);f.a=b},function(b,f,a){function m(b){if("string"==typeof b){var l=b,f=l.split(",");a.i(d.a)(2>=f.length,c);b=f[0]?f[0]:"";f=f[1]?f[1]:"";a.i(d.a)((b||f)&&(!b||f||-1===l.indexOf(",")),c);b=b.replace(/^smpte(-25|-30|-30-drop)?:/,"").replace(/^npt[:=]/,"").replace("clock:","");var l=/(((\d+:)?(\d\d):(\d\d))|(\d+))(\.\d*)?$/,
m=/^\d+:\d\d:\d\d(:\d\d(\.\d\d)?)?$/,p=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))?$/,v=/^\d*(\.\d+)? ?%$/;if(l.test(b)&&l.test(f))l=h;else if(m.test(b)&&m.test(f))l=k;else if(p.test(b)&&p.test(f))l=g;else if(v.test(b)&&v.test(f))l=e;else throw Error(c);b=l(b);f=l(f);a.i(d.a)(!1!==b||!1!==f,c);b={start:!1===b?"":b,end:!1===f?"":f}}else b||(b={});"string"==typeof b.start&&"string"==typeof b.end?(b.start||(b.start="0%"),b.end||(b.end="100%")):(b.start||(b.start=0),b.end||(b.end=
Infinity));"string"==typeof b.start&&"string"==typeof b.end?(a.i(d.a)(0<=parseFloat(b.start)&&100>=parseFloat(b.start),"player: startTime should be between 0% and 100%"),a.i(d.a)(0<=parseFloat(b.end)&&100>=parseFloat(b.end),"player: endTime should be between 0% and 100%")):(a.i(d.a)(("number"==typeof b.start||b.start instanceof Date)&&("number"==typeof b.end||b.end instanceof Date),"player: timeFragment should have interface { start, end } where start and end are numbers or dates"),a.i(d.a)(b.start<
b.end,"player: startTime should be lower than endTime"),a.i(d.a)(0<=b.start,"player: startTime should be greater than 0"));return b}function h(b){if(!b)return!1;b=b.replace(/\.$/,"");var e,g;b=b.split(":");var l=b.length;switch(l){case 3:e=parseInt(b[0],10);g=parseInt(b[1],10);b=parseFloat(b[2]);break;case 2:e=0;g=parseInt(b[0],10);b=parseFloat(b[1]);break;case 1:g=e=0;b=parseFloat(b[0]);break;default:return!1}a.i(d.a)(23>=e,c);a.i(d.a)(59>=g,c);a.i(d.a)(1>=l||60>b,c);return 3600*e+60*g+b}function k(b){if(!b)return!1;
var e,g,f,l;b=b.split(":");switch(b.length){case 3:e=parseInt(b[0],10);g=parseInt(b[1],10);f=parseInt(b[2],10);l=b=0;break;case 4:e=parseInt(b[0],10);g=parseInt(b[1],10);f=parseInt(b[2],10);-1===b[3].indexOf(".")?(b=parseInt(b[3],10),l=0):(l=b[3].split("."),b=parseInt(l[0],10),l=parseInt(l[1],10));break;default:return!1}a.i(d.a)(23>=e,c);a.i(d.a)(59>=g,c);a.i(d.a)(59>=f,c);return 3600*e+60*g+f+.001*b+1E-6*l}function g(a){return new Date(Date.parse(a))}function e(a){return a?a:!1}a.d(f,"a",function(){return m});
var d=a(1),c="invalid MediaFragment"},function(b,f,a){b.exports=a(68)["default"]},function(b,f,a){b=a(7);var m=a.n(b);b=a(18);var h=a.n(b),k=a(21),g=a(89),e=a(31);b=function(){function d(){var c=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var f=a.i(e.a)();this.id=null==b.id?f:""+b.id;this.type=b.type||"";this.representations=Array.isArray(b.representations)?b.representations.map(function(a){return new g.a(m()({rootId:c.id},
a))}).sort(function(a,c){return a.bitrate-c.bitrate}):[];null!=b.language?this.language=b.language:null!=b.language&&(this.language=b.language);f=b.accessibility;Array.isArray(f)&&(a.i(k.a)(f,"audioDescription")&&(this.isAudioDescription=!0),a.i(k.a)(f,"closedCaption")&&(this.isClosedCaption=!0));null!=b.closedCaption&&(this.isClosedCaption=b.closedCaption);null!=b.audioDescription&&(this.isAudioDescription=b.audioDescription);null!=b.contentProtection&&(this.contentProtection=b.contentProtection);
null!=b.smoothProtection&&(this._smoothProtection=b.smoothProtection);this.manual=b.manual}d.prototype.getAvailableBitrates=function(){return this.representations.map(function(a){return a.bitrate})};d.prototype.getRepresentation=function(a){return h()(this.representations,function(c){return a===c.id})};d.prototype.getRepresentationsForBitrate=function(a){return this.representations.filter(function(c){return c.bitrate===a})||null};return d}();f.a=b},function(b,f,a){b=a(7);b=a.n(b);var m=a(29);a=a(20);
f.a=b()({},m.a,{getInitSegment:a.a,setTimescale:a.b,scale:a.c,_addSegmentInfos:function(a,b){a.timeline.push({ts:b.ts,d:b.d,r:b.r,range:b.range});return!0},shouldRefresh:function(){return!1}})},function(b,f,a){a.d(f,"a",function(){return d});var m=a(29),h=a(85),k=a(87),g=a(86),e=a(83),d=function(a){switch(a.indexType){case "timeline":return m.a;case "list":return h.a;case "template":return k.a;case "smooth":return g.a;case "base":return e.a;default:return m.a}}},function(b,f,a){var m=a(25),h=a(20);
f.a={getInitSegment:h.a,setTimescale:h.b,scale:h.c,getSegments:function(b,g,e,d){var c=a.i(h.e)(g,e,d);e=g.duration;d=g.list;g=g.timescale;for(var f=Math.min(d.length-1,Math.floor(c.to/e)),k=[],c=Math.floor(c.up/e);c<=f;)k.push(new m.a({id:""+b+"_"+c,time:c*e,init:!1,range:d[c].range,duration:e,indexRange:null,timescale:g,media:d[c].media})),c++;return k},getFirstPosition:function(){return 0},getLastPosition:function(a){return a.list.length*a.duration/a.timescale},shouldRefresh:function(a,b,e,d){b=
a.list;e=a.presentationTimeOffset;a=Math.floor((d*a.timescale-(void 0===e?0:e))/a.duration);return!(0<=a&&a<b.length)},_addSegmentInfos:function(){return!1},checkDiscontinuity:function(){return-1}}},function(b,f,a){b=a(29);var m=a(20);f.a={getSegments:b.a.getSegments,getInitSegment:m.a,checkDiscontinuity:b.a.checkDiscontinuity,_addSegmentInfos:b.a._addSegmentInfos,setTimescale:m.b,scale:m.c,shouldRefresh:function(b,f){var g=b.timeline,e=b.timescale,d=b.presentationTimeOffset,g=g[g.length-1];if(!g)return!1;
0>g.d&&(g={ts:g.ts,d:0,r:g.r});return f*e-(void 0===d?0:d)>=a.i(m.d)(g)},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(b){if(b.timeline.length){var f=b.timeline[b.timeline.length-1];return a.i(m.d)(f)/b.timescale}}}},function(b,f,a){var m=a(25),h=a(20);f.a={getInitSegment:h.a,setTimescale:h.b,scale:h.c,getSegments:function(b,g,e,d){var c=a.i(h.e)(g,e,d);e=c.to;d=g.duration;var f=g.startNumber,k=g.timescale;g=g.media;for(var q=[],c=
c.up;c<=e;c+=d){var t=Math.floor(c/d)+(null==f?1:f),c=t*d;q.push(new m.a({id:""+b+"_"+t,number:t,time:c,init:!1,duration:d,range:null,indexRange:null,timescale:k,media:g}))}return q},getFirstPosition:function(){},getLastPosition:function(){},shouldRefresh:function(){return!1},checkDiscontinuity:function(){return-1},_addSegmentInfos:function(){return!1}}},function(b,f,a){b=a(18);var m=a.n(b),h=a(82),k=a(31);b=function(){function b(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");var d=a.i(k.a)();this.id=null==e.id?d:""+e.id;this.transport=e.transportType||"";this.adaptations=e.adaptations?Object.keys(e.adaptations).reduce(function(a,d){a[d]=e.adaptations[d].map(function(a){return new h.a(a)});return a},{}):[];this.periods=[{adaptations:this.adaptations}];this.isLive="dynamic"===e.type;this.uris=e.locations||[];this._duration=e.duration;this.suggestedPresentationDelay=e.suggestedPresentationDelay;this.availabilityStartTime=
e.availabilityStartTime;this.presentationLiveGap=e.presentationLiveGap;this.timeShiftBufferDepth=e.timeShiftBufferDepth}b.prototype.getDuration=function(){return this._duration};b.prototype.getUrl=function(){return this.uris[0]};b.prototype.getAdaptations=function(){var a=this.adaptations;if(!a)return[];var d=[],c;for(c in a)d.push.apply(d,a[c]);return d};b.prototype.getAdaptation=function(a){return m()(this.getAdaptations(),function(d){return a===d.id})};b.prototype.updateLiveGap=function(a){this.isLive&&
(this.presentationLiveGap+=a)};return b}();f.a=b},function(b,f,a){var m=a(31),h=a(90);f.a=function g(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var d=a.i(m.a)();this.id=null==b.id?d:b.id;this.bitrate=b.bitrate;this.codec=b.codecs;null!=b.height&&(this.height=b.height);null!=b.width&&(this.width=b.width);null!=b.mimeType&&(this.mimeType=b.mimeType);this.index=new h.a({index:b.index,rootId:this.id});
this.baseURL=b.baseURL;null!=b.codecPrivateData&&(this._codecPrivateData=b.codecPrivateData);null!=b.channels&&(this._channels=b.channels);null!=b.bitsPerSample&&(this._bitsPerSample=b.bitsPerSample);null!=b.packetSize&&(this._packetSize=b.packetSize);null!=b.samplingRate&&(this._samplingRate=b.samplingRate)}},function(b,f,a){var m=a(84);b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._index=f.index;this._rootId=f.rootId;this._indexHelpers=
a.i(m.a)(this._index)}b.prototype.getInitSegment=function(){return this._indexHelpers.getInitSegment(this._rootId,this._index)};b.prototype.getSegments=function(a,b){return this._indexHelpers.getSegments(this._rootId,this._index,a,b)};b.prototype.shouldRefresh=function(a,b,e){return this._indexHelpers.shouldRefresh(this._index,a,b,e)};b.prototype.getFirstPosition=function(){return this._indexHelpers.getFirstPosition(this._index)};b.prototype.getLastPosition=function(){return this._indexHelpers.getLastPosition(this._index)};
b.prototype.checkDiscontinuity=function(a){return this._indexHelpers.checkDiscontinuity(this._index,a)};b.prototype.scale=function(a){return this._indexHelpers.scale(this._index,a)};b.prototype.setTimescale=function(a){return this._indexHelpers.setTimescale(this._index,a)};b.prototype._addSegments=function(a,b){for(var e=[],d=0;d<a.length;d++)this._indexHelpers._addSegmentInfos(this._index,a[d],b)&&e.push(a[d]);return e};b.prototype.update=function(a){this._index=a._index};b.prototype.getType=function(){return this._index.indexType||
""};return b}();f.a=b},function(b,f,a){function m(a){var c=a[0];return(a=a[1])&&Infinity!==a?"bytes="+ +c+"-"+ +a:"bytes="+ +c+"-"}function h(a){return function(c,d,b){c=b?parseInt(b,10):1;d=""+a;d=d.toString();c=d.length>=c?d:(Array(c+1).join("0")+d).slice(-c);return c}}function k(a,c,d){return-1===a.indexOf("$")?a:a.replace(/\$\$/g,"$").replace(/\$RepresentationID\$/g,d.id).replace(/\$Bandwidth(|\%0(\d+)d)\$/g,h(d.bitrate)).replace(/\$Number(|\%0(\d+)d)\$/g,h(c.number)).replace(/\$Time(|\%0(\d+)d)\$/g,
h(c.time))}var g=a(0);a.n(g);b=a(9);a.n(b);var e=a(10);a.n(e);a(1);var d=a(26),c=a(96),l=a(12),n=a(49),q=a(94),t=a(48),p=a(47),v=b.EmptyObservable.create;f.a=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},f=b.contentProtectionParser;f||(f=function(){});var h=b.createXHR,y=function(c){var d=c.url;c=c.segment;var b=c.range;c=c.indexRange;if(b&&c&&b[1]===c[0]-1)return a.i(n.a)({url:d,responseType:"arraybuffer",headers:{Range:m([b[0],c[1]])},createXHR:h});b=b?{Range:m(b)}:
null;b=a.i(n.a)({url:d,responseType:"arraybuffer",headers:b,createXHR:h});return c?(d=a.i(n.a)({url:d,responseType:"arraybuffer",headers:{Range:m(c)},createXHR:h}),a.i(e.merge)(b,d)):b},x=function(c){var e=c.segment,f=c.adaptation,l=c.representation;c=c.manifest;var h=e.media,n=e.range,m=e.indexRange;if(e.isInit&&!(h||n||m))return v();var q=b.segmentLoader,h=h?k(h,e,l):"",h=a.i(d.b)(l.baseURL,h),u={adaptation:f,representation:l,manifest:c,segment:e,transport:"dash",url:h};return q?g.Observable.create(function(a){var c=
!1,d=!1,b=q(u,{reject:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(c=!0,a.error(b))},resolve:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(c=!0,a.next({responseData:b.data,size:b.size||0,duration:b.duration||0}),a.complete())},fallback:function(){d=!0;y(u).subscribe(a)}});return function(){c||d||"function"!==typeof b||b()}}):y(u)},z={loader:function(a){return x({segment:a.segment,representation:a.representation,adaptation:a.adaptation,
manifest:a.manifest})},parser:function(d){var b=d.segment,e=d.adaptation;d=new Uint8Array(d.response.responseData);var f=void 0,l=void 0,k=void 0,h=b.indexRange,n=b.isInit;if(h=a.i(c.a)(d,h?h[0]:0))f=h.segments,l=h.timescale;n||(0<=b.time&&0<=b.duration?k={ts:b.time,d:b.duration}:h&&1===h.segments.length&&(k={ts:h.segments[0].ts,d:h.segments[0].d}));b=d;n&&e.contentProtection&&(b=a.i(c.b)(d,e.contentProtection));return g.Observable.of({segmentData:b,currentSegment:k,nextSegments:f,timescale:l})}};
return{directFile:!1,manifest:{loader:function(c){c=c.url;return a.i(n.a)({url:c,responseType:"document",createXHR:h})},parser:function(c){c=c.response;var d=c.responseData;return g.Observable.of({manifest:a.i(q.a)(d,f),url:c.url})}},audio:z,video:z,text:{loader:function(c){var b=c.segment,f=c.representation,g=b.media,l=b.range;c=b.indexRange;var q=0<=("application/mp4"===f.mimeType)?"arraybuffer":"text";if(b.isInit&&!(g||l||c))return v();b=g?k(g,b,f):"";b=a.i(d.b)(f.baseURL,b);if(l&&c&&l[1]===c[0]-
1)return a.i(n.a)({url:b,responseType:q,headers:{Range:m([l[0],c[1]])},createXHR:h});l=a.i(n.a)({url:b,responseType:q,headers:l?{Range:m(l)}:null,createXHR:h});return c?(c=a.i(n.a)({url:b,responseType:q,headers:{Range:m(c)},createXHR:h}),a.i(e.merge)(l,c)):l},parser:function(d){var b=d.response,e=d.segment,f=d.representation;d=d.adaptation.language;var k=e.isInit,h=e.indexRange,n;"application/mp4"===f.mimeType?(n=new Uint8Array(b.responseData),b=a.i(l.a)(a.i(c.c)(n))):b=n=b.responseData;var m=void 0,
q=void 0,u=void 0;if(n=a.i(c.a)(n,h?h[0]:0))m=n.segments,q=n.timescale;h=[];if(!k)switch(0<=e.time&&0<=e.duration?u={ts:e.time,d:e.duration}:n&&1===n.segments.length&&(u={ts:n.segments[0].ts,d:n.segments[0].d}),e=f.codec,(void 0===e?"":e).toLowerCase()){case "stpp":h=a.i(t.a)(b,d,0);break;default:console.warn("The codec used for the subtitle is not managed yet.")}return g.Observable.of({segmentData:h,currentSegment:u,nextSegments:m,timescale:q})}},image:{loader:function(c){var b=c.segment;c=c.representation;
if(b.isInit)return v();var e=b.media,b=e?k(e,b,c):"",b=a.i(d.b)(c.baseURL,b);return a.i(n.a)({url:b,responseType:"arraybuffer",createXHR:h})},parser:function(c){var d=new Uint8Array(c.response.responseData),b=c=void 0;d&&(d=a.i(p.a)(d),c=d.thumbs,b=d.timescale);return g.Observable.of({segmentData:c,currentSegment:{ts:0,d:Infinity},timescale:b})}}}}},function(b,f,a){var m=a(1);b=a(22);var h=a(46),k=[{k:"profiles",fn:h.g},{k:"width",fn:parseInt},{k:"height",fn:parseInt},{k:"frameRate",fn:h.h},{k:"audioSamplingRate",
fn:h.g},{k:"mimeType",fn:h.g},{k:"segmentProfiles",fn:h.g},{k:"codecs",fn:h.g},{k:"maximumSAPPeriod",fn:parseFloat},{k:"maxPlayoutRate",fn:parseFloat},{k:"codingDependency",fn:h.i}],g=[{k:"timescale",fn:parseInt,def:1},{k:"timeShiftBufferDepth",fn:h.j},{k:"presentationTimeOffset",fn:parseFloat,def:0},{k:"indexRange",fn:h.f},{k:"indexRangeExact",fn:h.i,def:!1},{k:"availabilityTimeOffset",fn:parseFloat},{k:"availabilityTimeComplete",fn:h.i,def:!0}],e=g.concat([{k:"duration",fn:parseInt},{k:"startNumber",
fn:parseInt}]),d={ContentProtection:[{k:"schemeIdUri",fn:h.g},{k:"value",fn:h.g}],SegmentURL:[{k:"media",fn:h.g},{k:"mediaRange",fn:h.f},{k:"index",fn:h.g},{k:"indexRange",fn:h.f}],S:[{k:"t",fn:parseInt,n:"ts"},{k:"d",fn:parseInt},{k:"r",fn:parseInt}],SegmentTimeline:[],SegmentBase:g,SegmentTemplate:e.concat([{k:"initialization",fn:function(a){return{media:a,range:void 0}}},{k:"index",fn:h.g},{k:"media",fn:h.g},{k:"bitstreamSwitching",fn:h.g}]),SegmentList:e,ContentComponent:[{k:"id",fn:h.g},{k:"lang",
fn:b.c,n:"language"},{k:"contentType",fn:h.g},{k:"par",fn:h.k}],Representation:k.concat([{k:"id",fn:h.g},{k:"bandwidth",fn:parseInt,n:"bitrate"},{k:"qualityRanking",fn:parseInt}]),AdaptationSet:k.concat([{k:"id",fn:h.g},{k:"group",fn:parseInt},{k:"lang",fn:b.c,n:"language"},{k:"contentType",fn:h.g},{k:"par",fn:h.k},{k:"minBandwidth",fn:parseInt,n:"minBitrate"},{k:"maxBandwidth",fn:parseInt,n:"maxBitrate"},{k:"minWidth",fn:parseInt},{k:"maxWidth",fn:parseInt},{k:"minHeight",fn:parseInt},{k:"maxHeight",
fn:parseInt},{k:"minFrameRate",fn:h.h},{k:"maxFrameRate",fn:h.h},{k:"segmentAlignment",fn:h.l},{k:"subsegmentAlignment",fn:h.l},{k:"bitstreamSwitching",fn:h.i}]),Period:[{k:"id",fn:h.g},{k:"start",fn:h.j},{k:"duration",fn:h.j},{k:"bitstreamSwitching",fn:h.i}],MPD:[{k:"id",fn:h.g},{k:"profiles",fn:h.g},{k:"type",fn:h.g,def:"static"},{k:"availabilityStartTime",fn:h.m},{k:"availabilityEndTime",fn:h.m},{k:"publishTime",fn:h.m},{k:"mediaPresentationDuration",fn:h.j,n:"duration"},{k:"minimumUpdatePeriod",
fn:h.j},{k:"minBufferTime",fn:h.j},{k:"timeShiftBufferDepth",fn:h.j},{k:"suggestedPresentationDelay",fn:h.j},{k:"maxSegmentDuration",fn:h.j},{k:"maxSubsegmentDuration",fn:h.j}],Role:[{k:"schemeIdUri",fn:h.g},{k:"value",fn:h.g}],Accessibility:[{k:"schemeIdUri",fn:h.g},{k:"value",fn:parseInt}]};f.a=function(c,b){var e=d[c.nodeName];a.i(m.a)(e,"no attributes for "+c.nodeName);for(var f=b||{},g=0;g<e.length;g++){var l=e[g],k=l.k,h=l.fn,r=l.n,l=l.def;c.hasAttribute(k)?f[r||k]=h(c.getAttribute(k)):null!=
l&&(f[r||k]=l)}return f}},function(b,f,a){a.d(f,"a",function(){return m});a.d(f,"b",function(){return h});a.d(f,"c",function(){return k});a.d(f,"d",function(){return g});b=function(a){return function(d){return a.reduce(function(a,b){d.hasOwnProperty(b)&&(a[b]=d[b]);return a},{})}};var m=b("availabilityStartTime baseURL duration id locations periods presentationLiveGap suggestedPresentationDelay timeShiftBufferDepth transportType type".split(" ")),h=b(["adaptations","baseURL","duration","id","start"]),
k=b("contentProtection accessibility baseURL contentProtection id language representations type".split(" ")),g=b("bitrate baseURL codecs height id index mimeType width".split(" "))},function(b,f,a){function m(a,b){return"string"==typeof a?m.parseFromString(a,b):m.parseFromDocument(a,b)}var h=a(1),k=a(95);m.parseFromString=function(a,b){return m.parseFromDocument((new DOMParser).parseFromString(a,"application/xml"),b)};m.parseFromDocument=function(b,e){var d=b.documentElement;h.a.equal(d.nodeName,
"MPD","document root should be MPD");return a.i(k.a)(d,e)};f.a=m},function(b,f,a){function m(c,b){var d=a.i(q.a)(c,function(a,c,d){switch(c){case "BaseURL":a.baseURL=d.textContent;break;case "Location":a.locations.push(d.textContent);break;case "Period":a.periods.push(h(d,b))}return a},{transportType:"dash",periods:[],locations:[]}),d=a.i(p.a)(c,d);if(/dynamic/.test(d.type)){var e=d.periods[0].adaptations.filter(function(a){return"video"==a.type})[0],e=a.i(q.b)(e);e||(console.warn("Live edge not deduced from manifest, setting a default one"),
e=Date.now()/1E3-60);d.availabilityStartTime=d.availabilityStartTime.getTime()/1E3;d.presentationLiveGap=Date.now()/1E3-(e+d.availabilityStartTime)}return a.i(t.a)(d)}function h(c,d){var b=a.i(p.a)(c,a.i(q.a)(c,function(a,c,b){switch(c){case "BaseURL":a.baseURL=b.textContent;break;case "AdaptationSet":c=k(b,d),null==c.id&&(c.id=a.adaptations.length),a.adaptations.push(c)}return a},{adaptations:[]}));return a.i(t.b)(b)}function k(b,f){var l=void 0,k=a.i(q.a)(b,function(b,k,h){switch(k){case "Accessibility":l=
a.i(p.a)(h);break;case "BaseURL":b.baseURL=h.textContent;break;case "ContentComponent":k=a.i(p.a)(h);b.contentComponent=k;break;case "ContentProtection":k=f(a.i(p.a)(h),h);b.contentProtection=k;break;case "Representation":k=g(h);null==k.id&&(k.id=b.representations.length);b.representations.push(k);break;case "Role":k=a.i(p.a)(h);b.role=k;break;case "SegmentBase":b.index=c(h);break;case "SegmentList":b.index=d(h);break;case "SegmentTemplate":b.index=e(h)}return b},{representations:[]}),h=a.i(p.a)(b,
k);h.type=a.i(q.c)(h);h.accessibility=[];a.i(q.d)(l)&&h.accessibility.push("hardOfHearing");a.i(q.e)(l)&&h.accessibility.push("visuallyImpaired");h.representations=h.representations.map(function(a){v.forEach(function(c){!a.hasOwnProperty(c)&&h.hasOwnProperty(c)&&(a[c]=h[c])});return a});return a.i(t.c)(h)}function g(b){var f=a.i(q.a)(b,function(a,b,f){switch(b){case "BaseURL":a.baseURL=f.textContent;break;case "SegmentBase":a.index=c(f);break;case "SegmentList":a.index=d(f);break;case "SegmentTemplate":a.index=
e(f)}return a},{});b=a.i(p.a)(b,f);return a.i(t.d)(b)}function e(a){a=l(a);a.indexType||(a.indexType="template");return a}function d(c){var b=l(c);b.list=[];b.indexType="list";return a.i(q.a)(c,function(c,b,d){"SegmentURL"==b&&c.list.push(a.i(p.a)(d));return c},b)}function c(c){var b=a.i(q.a)(c,function(c,b,d){if("Initialization"==b){var e=b=void 0;d.hasAttribute("range")&&(b=a.i(q.f)(d.getAttribute("range")));d.hasAttribute("sourceURL")&&(e=d.getAttribute("sourceURL"));c.initialization={range:b,
media:e}}return c},a.i(p.a)(c));"SegmentBase"==c.nodeName&&(b.indexType="base",b.timeline=[]);return b}function l(b){return a.i(q.a)(b,function(a,c,b){"SegmentTimeline"==c&&(a.indexType="timeline",a.timeline=n(b));return a},c(b))}function n(c){return a.i(q.a)(c,function(c,b,d){b=c.length;d=a.i(p.a)(d);null==d.ts&&(b=0<b&&c[b-1],d.ts=b?b.ts+b.d*(b.r+1):0);null==d.r&&(d.r=0);c.push(d);return c},[])}a.d(f,"a",function(){return m});a(1);var q=a(46),t=a(93),p=a(92),v=["codecs","height","index","mimeType",
"width"]},function(b,f,a){function m(b,e){for(var f=b.length,g=0,l,k=void 0;g+8<f&&(k=a.i(c.e)(b,g),l=a.i(c.e)(b,g+4),a.i(d.a)(0<k,"dash: out of range size"),l!==e);)g+=k;if(g>=f)return-1;a.i(d.a)(g+k<=f,"dash: atom out of range");return g}function h(b){for(var e=b.length,f=0,g,l=void 0;f+8<e&&(l=a.i(c.e)(b,f),g=a.i(c.e)(b,f+4),a.i(d.a)(0<l,"dash: out of range size"),1835295092!==g);)f+=l;b=f<e?b.subarray(f+8,f+l):null;return b}function k(b,d){var e=m(b,1936286840);if(-1==e)return null;var f=a.i(c.e)(b,
e),e=e+4+4,g=b[e],e=e+8,l=a.i(c.e)(b,e),e=e+4;if(0===g)g=a.i(c.e)(b,e),e+=4,d+=a.i(c.e)(b,e)+f,e+=4;else if(1===g)g=a.i(c.f)(b,e),e+=8,d+=a.i(c.f)(b,e)+f,e+=8;else return null;for(var f=[],e=e+2,k=a.i(c.g)(b,e),e=e+2;0<=--k;){var h=a.i(c.e)(b,e),e=e+4,n=h&2147483647;if(1==(h&2147483648)>>>31)throw Error("not implemented");h=a.i(c.e)(b,e);e+=4;e+=4;f.push({ts:g,d:h,r:0,range:[d,d+n-1]});g+=h;d+=n}return{segments:f,timescale:l}}function g(b){var e=b.systemId;b=b.privateData;e=e.replace(/-/g,"");a.i(d.a)(32===
e.length);e=a.i(c.h)(4,a.i(c.j)(e),a.i(c.i)(b.length),b);b=e.length+8;return a.i(c.h)(a.i(c.i)(b),a.i(c.b)("pssh"),e)}function e(b,d){if(!d||!d.length)return b;var e=m(b,1836019574);if(-1==e)return b;for(var f=a.i(c.e)(b,e),l=[b.subarray(e,e+f)],k=0;k<d.length;k++)l.push(g(d[k]));l=c.h.apply(null,l);l.set(a.i(c.i)(l.length),0);return a.i(c.h)(b.subarray(0,e),l,b.subarray(e+f))}a.d(f,"a",function(){return k});a.d(f,"b",function(){return e});a.d(f,"c",function(){return h});var d=a(1),c=a(12)},function(b,
f,a){var m=a(0);a.n(m);f.a={directFile:!0,manifest:{parser:function(a){a=a.url;return m.Observable.of({manifest:{transportType:"directfile",locations:[a],periods:[],isLive:!1,duration:Infinity,adaptations:null},url:a})}}}},function(b,f,a){b=a(100);var m=a(91);a=a(97);f.a={smooth:b.a,dash:m.a,directfile:a.a}},function(b,f,a){function m(a){return a.replace(e,"\n").replace(g,function(a,c){return String.fromCharCode(c)})}function h(b,e){var f=/<sync[ >]/ig,g=/<sync[ >]|<\/body>/ig,h=[],n=b.match(d)[1],
q,w;g.exec(b);q=/\.(\S+)\s*{([^}]*)}/gi;w={};for(var y;y=q.exec(n);){var x=y[1];y=y[2].match(/\s*lang:\s*(\S+);/i)[1];x&&y&&(w[y]=x)}n=w[e];for(a.i(k.a)(n,"sami: could not find lang "+e+" in CSS");;){q=f.exec(b);w=g.exec(b);if(!q&&!w)break;if(!q||!w||q.index>=w.index)throw Error("parse error");w=b.slice(q.index,w.index);q=w.match(l);if(!q)throw Error("parse error (sync time attribute)");x=+q[1];if(isNaN(x))throw Error("parse error (sync time attribute NaN)");q=h;w=w.split("\n");x/=1E3;y=w.length;
for(var z;0<=--y;)if(z=w[y].match(c)){var C=z[2];n===z[1]&&("&nbsp;"===C?q[q.length-1].end=x:q.push({text:m(C),start:x}))}}return h}a.d(f,"a",function(){return h});var k=a(1),g=/&#([0-9]+);/g,e=/<br>/gi,d=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,c=/\s*<p class=([^>]+)>(.*)/i,l=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i},function(b,f,a){function m(a){return a.responseData.getElementsByTagName("media")[0].getAttribute("src")}function h(a){return(a=a.match(M))&&a[1]||""}function k(a,c){return c?a.replace(M,
"?token="+c):a.replace(M,"")}function g(a,c,b){return a.replace(/\{bitrate\}/g,c.bitrate).replace(/\{start time\}/g,b.time)}var e=a(0);a.n(e);var d=a(12),c=a(3),l=a(26),n=a(49),q=a(102);b=a(101);var t=a(47),p=a(99),v=a(48),u=b.a.patchSegment,r=b.a.createVideoInitSegment,w=b.a.createAudioInitSegment,y=b.a.getMdat,x=b.a.getTraf,z=b.a.parseTfrf,C=b.a.parseTfxd,E={"application/x-sami":p.a,"application/smil":p.a,"application/ttml+xml":v.a,"application/ttml+xml+mp4":v.a,"text/vtt":function(a){return a}},
D=n.a.RequestResponse,T=/\.(isml?)(\?token=\S+)?$/,L=/\.wsx?(\?token=\S+)?/,M=/\?token=(\S+)/;f.a=function(){function b(a,b,d){var e=void 0,f=void 0;d?(a=x(a))?(e=z(a),f=C(a)):c.a.warn("smooth: could not find traf atom"):e=null;f||(f={d:b.duration,ts:b.time});return{nextSegments:e,currentSegment:f}}var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},p=a.i(q.a)(f),v=f.createXHR,M=function(c){var b=c.segment,d=c.representation,k=c.adaptation;c=c.manifest;if(b.isInit){c={};var h=k._smoothProtection||
{};switch(k.type){case "video":c=r(b.timescale,d.width,d.height,72,72,4,d._codecPrivateData,h.keyId,h.keySystems);break;case "audio":c=w(b.timescale,d._channels,d._bitsPerSample,d._packetSize,d._samplingRate,d._codecPrivateData,h.keyId,h.keySystems)}return e.Observable.of(new D(200,"","arraybuffer",Date.now()-100,Date.now(),c.length,c))}var n=f.segmentLoader,h=g(a.i(l.b)(d.baseURL),d,b),m={adaptation:k,representation:d,segment:b,transport:"smooth",url:h,manifest:c};return n?e.Observable.create(function(a){var c=
!1,b=!1,d=n(m,{reject:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b||(c=!0,a.error(d))},resolve:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b||(c=!0,a.next({responseData:d.data,size:d.size||0,duration:d.duration||0}),a.complete())},fallback:function(){b=!0;O(m).subscribe(a)}});return function(){c||b||"function"!==typeof d||d()}}):O(m)},O=function(c){var b=c.url,d=void 0;if(c=c.segment.range)d=c[0],d=(c=c[1])&&Infinity!==c?"bytes="+ +d+
"-"+ +c:"bytes="+ +d+"-",d={Range:d};return a.i(n.a)({url:b,responseType:"arraybuffer",headers:d,createXHR:v})},U={loader:function(a){return M({segment:a.segment,representation:a.representation,adaptation:a.adaptation,manifest:a.manifest})},parser:function(a){var c=a.segment,d=a.manifest;a=a.response.responseData;if(c.isInit)return e.Observable.of({segmentData:a,timings:null});a=new Uint8Array(a);d=b(a,c,d.isLive);c=d.nextSegments;d=d.currentSegment;a=u(a,d.ts);return e.Observable.of({segmentData:a,
nextSegments:c,currentSegment:d})}};return{directFile:!1,manifest:{resolver:function(c){c=c.url;var b=void 0,d=h(c),b=L.test(c)?a.i(n.a)({url:k(c,""),responseType:"document",resultSelector:m,createXHR:v}):e.Observable.of(c);return b.map(function(a){var c=a.match(T);a=c?a.replace(c[1],c[1]+"/manifest"):a;return{url:k(a,d)}})},loader:function(c){c=c.url;return a.i(n.a)({url:c,responseType:"document",createXHR:v})},parser:function(a){a=a.response;return e.Observable.of({manifest:p(a.responseData),url:a.url})}},
audio:U,video:U,text:{loader:function(c){var b=c.segment,d=c.representation;if(b.isInit)return e.Observable.empty();c=d.mimeType;var f=a.i(l.b)(d.baseURL),b=g(f,d,b);return 0<=c.indexOf("mp4")?a.i(n.a)({url:b,responseType:"arraybuffer",createXHR:v}):a.i(n.a)({url:b,responseType:"text",createXHR:v})},parser:function(c){var f=c.response,g=c.segment,l=c.manifest,k=c.adaptation.language,h=c.representation.mimeType;c=E[h];if(!c)throw Error("could not find a text-track parser for the type "+h);var n=f.responseData;
0<=h.indexOf("mp4")?(n=new Uint8Array(n),f=a.i(d.a)(y(n))):f=n;h=b(n,g,l.isLive);l=h.nextSegments;h=h.currentSegment;g=c(f,k,g.time/g.timescale);return e.Observable.of({segmentData:g,currentSegment:h,nextSegments:l})}},image:{loader:function(c){var b=c.segment;c=c.representation;if(b.isInit)return e.Observable.empty();var d=a.i(l.b)(c.baseURL),b=g(d,c,b);return a.i(n.a)({url:b,responseType:"arraybuffer",createXHR:v})},parser:function(c){var b=new Uint8Array(c.response.responseData),d=c=void 0;b&&
(b=a.i(t.a)(b),c=b.thumbs,d=b.timescale);return e.Observable.of({segmentData:c,currentSegment:{ts:0,d:Infinity},timescale:d})}}}}},function(b,f,a){function m(c,b){var d=b.length+8,e=a.i(n.h),d=a.i(n.i)(d),f;t[c]?f=t[c]:(f=a.i(n.b)(c),t[c]=f);return e(d,f,b)}function h(c,b,d,e,f){for(var g=c.length,l=0,k;l<g;){k=a.i(n.e)(c,l);if(1970628964===a.i(n.e)(c,l+4)&&a.i(n.e)(c,l+8)===b&&a.i(n.e)(c,l+12)===d&&a.i(n.e)(c,l+16)===e&&a.i(n.e)(c,l+20)===f)return c.subarray(l+24,l+k);l+=k}}function k(b,d){for(var e=
b.length,f=0,g,l=void 0;f+8<e&&(l=a.i(n.e)(b,f),g=a.i(n.e)(b,f+4),a.i(c.a)(0<l,"smooth: out of range size"),g!==d);)f+=l;return f<e?b.subarray(f+8,f+l):null}function g(a,c,b,d){var e=[a,c,b];d.forEach(function(a){a=p.pssh(a.systemId,a.privateData,a.keyIds);e.push(a)});return e}function e(c,b,d,e){var f=c.length,g=b.length;d=d.length;c=c.subarray(d,f);f=new Uint8Array(g+(f-d));f.set(b,0);f.set(c,g);b=b.length+8;f.set(a.i(n.i)(b),e+16);return f}function d(c,b,d,e,f,l,k){d=p.mult("stbl",[d,m("stts",
new Uint8Array(8)),m("stsc",new Uint8Array(8)),m("stsz",new Uint8Array(12)),m("stco",new Uint8Array(8))]);var h=m("url ",new Uint8Array([0,0,0,1])),h=p.dref(h),h=p.mult("dinf",[h]);e=p.mult("minf",[e,h,d]);b=p.hdlr(b);d=p.mdhd(c);b=p.mult("mdia",[d,b,e]);f=p.tkhd(f,l,1);f=p.mult("trak",[f,b]);l=p.trex(1);l=p.mult("mvex",[l]);c=p.mvhd(c,1);k=p.mult("moov",g(c,l,f,k));c=p.ftyp("isom",["isom","iso2","iso6","avc1","dash"]);return a.i(n.h)(c,k)}var c=a(1),l=a(11),n=a(12),q=[96E3,88200,64E3,48E3,44100,
32E3,24E3,22050,16E3,12E3,11025,8E3,7350],t={},p={mult:function(a,c){return m(a,n.h.apply(null,c))},avc1encv:function(c,b,d,e,f,g,l,k,h,q){return m(c,a.i(n.h)(6,a.i(n.m)(b),16,a.i(n.m)(d),a.i(n.m)(e),a.i(n.m)(f),2,a.i(n.m)(g),6,[0,1,l.length],a.i(n.b)(l),31-l.length,a.i(n.m)(k),[255,255],h,"encv"===c?q:[]))},avcc:function(c,b,d){d=2===d?1:4===d?3:0;var e=c[1],f=c[2],g=c[3];return m("avcC",a.i(n.h)([1,e,f,g,252|d,225],a.i(n.m)(c.length),c,[1],a.i(n.m)(b.length),b))},dref:function(c){return m("dref",
a.i(n.h)(7,[1],c))},esds:function(c,b){return m("esds",a.i(n.h)(4,[3,25],a.i(n.m)(c),[0,4,17,64,21],11,[5,2],a.i(n.j)(b),[6,1,2]))},frma:function(c){return m("frma",a.i(n.b)(c))},free:function(a){return m("free",new Uint8Array(a-8))},ftyp:function(c,b){return m("ftyp",n.h.apply(null,[a.i(n.b)(c),[0,0,0,1]].concat(b.map(n.b))))},hdlr:function(c){var b;switch(c){case "video":c="vide";b="VideoHandler";break;case "audio":c="soun";b="SoundHandler";break;default:c="hint",b=""}return m("hdlr",a.i(n.h)(8,
a.i(n.b)(c),12,a.i(n.b)(b),1))},mdhd:function(c){return m("mdhd",a.i(n.h)(12,a.i(n.i)(c),8))},moof:function(a,c){return p.mult("moof",[a,c])},mp4aenca:function(c,b,d,e,f,g,l,k){return m(c,a.i(n.h)(6,a.i(n.m)(b),8,a.i(n.m)(d),a.i(n.m)(e),2,a.i(n.m)(f),a.i(n.m)(g),2,l,"enca"===c?k:[]))},mvhd:function(c,b){return m("mvhd",a.i(n.h)(12,a.i(n.i)(c),4,[0,1],2,[1,0],10,[0,1],14,[0,1],14,[64,0,0,0],26,a.i(n.m)(b+1)))},pssh:function(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],e=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:[];b=b.replace(/-/g,"");a.i(c.a)(32===b.length,"wrong system id length");var f,g=e.length;0<g?(f=1,e=n.h.apply(null,[a.i(n.i)(g)].concat(e))):(f=0,e=[]);return m("pssh",a.i(n.h)([f,0,0,0],a.i(n.j)(b),e,a.i(n.i)(d.length),d))},saio:function(c,b,d,e){return m("saio",a.i(n.h)(4,[0,0,0,1],a.i(n.i)(c.length+b.length+d.length+e.length+8+8+8+8)))},saiz:function(c){if(0===c.length)return m("saiz",new Uint8Array);var b=a.i(n.e)(c,0),d=a.i(n.e)(c,4),e=new Uint8Array(9+d);
e.set(a.i(n.i)(d),5);for(var d=9,f=8,g,l;f<c.length;)f+=8,2===(b&2)?(l=2,g=a.i(n.g)(c,f),f+=2+6*g):l=g=0,e[d]=6*g+8+l,d++;return m("saiz",e)},schm:function(c,b){return m("schm",a.i(n.h)(4,a.i(n.b)(c),a.i(n.i)(b)))},senc:function(a){return m("senc",a)},smhd:function(){return m("smhd",new Uint8Array(8))},stsd:function(a){return m("stsd",n.h.apply(null,[7,[a.length]].concat(a)))},tkhd:function(c,b,d){return m("tkhd",a.i(n.h)(a.i(n.i)(7),8,a.i(n.i)(d),20,[1,0,0,0],[0,1,0,0],12,[0,1,0,0],12,[64,0,0,0],
a.i(n.m)(c),2,a.i(n.m)(b),2))},trex:function(c){return m("trex",a.i(n.h)(4,a.i(n.i)(c),[0,0,0,1],12))},tfdt:function(c){return m("tfdt",a.i(n.h)([1,0,0,0],a.i(n.n)(c)))},tenc:function(c,b,d){return m("tenc",a.i(n.h)(6,[c,b],a.i(n.j)(d)))},traf:function(a,c,b,d,e){var f=[a,c,b];d&&f.push(p.senc(d),p.saiz(d),p.saio(e,a,c,b));return p.mult("traf",f)},trun:function(c){if(c[11]&1)return c;var b=new Uint8Array(c.length+4);b.set(a.i(n.i)(c.length+4),0);b.set(c.subarray(4,16),4);b[11]|=1;b.set([0,0,0,0],
16);b.set(c.subarray(16,c.length),20);return b},vmhd:function(){var a=new Uint8Array(12);a[3]=1;return m("vmhd",a)}},v={traf:function(a){return(a=k(a,1836019558))?k(a,1953653094):null},senc:function(a){return h(a,2721664850,1520127764,2722393154,2086964724)},tfxd:function(a){return h(a,1830656773,1121273062,2162299933,2952222642)},tfrf:function(a){return h(a,3565190898,3392751253,2387879627,2655430559)},mdat:function(a){return k(a,1835295092)}};f.a={getMdat:v.mdat,getTraf:v.traf,parseTfrf:function(c){c=
v.tfrf(c);if(!c)return[];for(var b=[],d=c[0],e=c[4],f=0;f<e;f++){var g,l;1==d?(l=a.i(n.f)(c,16*f+5),g=a.i(n.f)(c,16*f+13)):(l=a.i(n.e)(c,8*f+5),g=a.i(n.e)(c,8*f+9));b.push({ts:l,d:g})}return b},parseTfxd:function(c){if(c=v.tfxd(c))return{d:a.i(n.f)(c,12),ts:a.i(n.f)(c,4)}},createVideoInitSegment:function(c,b,e,f,g,l,k,h,m){m||(m=[]);var q=k.split("00000001");k=q[1];q=q[2];k=a.i(n.j)(k);q=a.i(n.j)(q);l=p.avcc(k,q,l);m.length?(h=p.tenc(1,8,h),h=p.mult("schi",[h]),k=p.schm("cenc",65536),q=p.frma("avc1"),
h=p.mult("sinf",[q,k,h]),f=p.avc1encv("encv",1,b,e,f,g,"AVC Coding",24,l,h)):f=p.avc1encv("avc1",1,b,e,f,g,"AVC Coding",24,l);f=p.stsd([f]);return d(c,"video",f,p.vmhd(),b,e,m)},createAudioInitSegment:function(c,b,e,f,g,l,k,h){h||(h=[]);l||(l=(32|q.indexOf(g)&31)<<4,l=(l|b&31)<<3,l=a.i(n.o)(a.i(n.m)(l)));l=p.esds(1,l);if(h.length){k=p.tenc(1,8,k);k=p.mult("schi",[k]);var m=p.schm("cenc",65536),t=p.frma("mp4a");k=p.mult("sinf",[t,m,k]);b=p.mp4aenca("enca",1,b,e,f,g,l,k)}else b=p.mp4aenca("mp4a",1,
b,e,f,g,l);b=p.stsd([b]);return d(c,"audio",b,p.smhd(),0,0,h)},patchSegment:function(c,b){var d=c.subarray(0,a.i(n.e)(c,0)),f=p.tfdt(b),g=f.length,k=a.i(n.e)(d,8),h=a.i(n.e)(d,8+k),m=a.i(n.e)(d,8+k+8),q=a.i(n.e)(d,8+k+8+m),t=d.subarray(8,8+k),r=d.subarray(8+k+8,8+k+8+h-8),h=r.subarray(0,m),q=r.subarray(m,m+q);h.set([0,0,0,1],12);r=v.senc(r);q=p.trun(q);f=p.traf(h,f,q,r,t);t=p.moof(t,f);g=8+k+8+m+g;return l.t?e(c,t,d,g):8<=d.length-t.length?(d=d.length-t.length,c.set(t,0),c.set(p.free(d),t.length),
d=t.length+8+d,c.set(a.i(n.i)(d),g+16),c):e(c,t,d,g)}}},function(b,f,a){function m(a){return"boolean"==typeof a?a:"string"==typeof a?"TRUE"===a.toUpperCase():!1}function h(a){if(!a)return Infinity;a=a.index;var c=a.timeline[a.timeline.length-1];return(c.ts+(c.r+1)*c.d)/a.timescale}function k(c){return[{systemId:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",privateData:a.i(e.h)([8,1,18,16],c)}]}var g=a(21),e=a(12),d=a(1),c=a(22),l={audio:"audio/mp4",video:"video/mp4",text:"application/ttml+xml"},n={audio:"mp4a.40.2",
video:"avc1.4D401E"};b={AACL:"audio/mp4",AVC1:"video/mp4",H264:"video/mp4",TTML:"application/ttml+xml+mp4"};var q={audio:[["Bitrate","bitrate",parseInt],["AudioTag","audiotag",parseInt],["FourCC","mimeType",b],["Channels","channels",parseInt],["SamplingRate","samplingRate",parseInt],["BitsPerSample","bitsPerSample",parseInt],["PacketSize","packetSize",parseInt],["CodecPrivateData","codecPrivateData",String]],video:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",b],["CodecPrivateData","codecs",
function(a){return(a=(/00000001\d7([0-9a-fA-F]{6})/.exec(a)||[])[1])?"avc1."+a:""}],["MaxWidth","width",parseInt],["MaxHeight","height",parseInt],["CodecPrivateData","codecPrivateData",String]],text:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",b]]};f.a=function(){function b(a,c,b){for(a=a.firstElementChild;a;)b=c(b,a.nodeName,a),a=a.nextElementSibling;return b}function f(e,f){e.hasAttribute("Timescale")&&(f=+e.getAttribute("Timescale"));var g=e.getAttribute("Type"),k=e.getAttribute("Subtype"),
h=e.getAttribute("Name"),m=a.i(c.c)(e.getAttribute("Language")),p=e.getAttribute("Url"),t=q[g],r=[];a.i(d.a)(t,"unrecognized QualityLevel type "+g);var u=0,v=b(e,function(a,c,b){switch(c){case "QualityLevel":c={};for(var d=0;d<t.length;d++){var e=t[d],f=e[0],l=e[2];c[e[1]]="function"==typeof l?l(b.getAttribute(f)):l[b.getAttribute(f)]}"audio"==g&&(b=b.getAttribute("FourCC")||"",d=c.codecPrivateData,b="AACH"==b?5:d?(parseInt(d.substr(0,2),16)&248)>>3:2,c.codecs=b?"mp4a.40."+b:"");if("video"!=g||c.bitrate>
z)c.id=u++,a.representations.push(c);break;case "c":c=a.index;var d=a.index.timeline,e=d.length,f=0<e?d[e-1]:{d:0,ts:0,r:0},l=+b.getAttribute("d"),k=b.getAttribute("t");(b=+b.getAttribute("r"))&&b--;0<e&&!f.d&&(f.d=k-f.ts,d[e-1]=f);0<e&&l==f.d&&null==k?f.r+=(b||0)+1:d.push({d:l,ts:null==k?f.ts+f.d*(f.r+1):+k,r:b});c.timeline=d}return a},{representations:[],index:{timeline:[],indexType:"smooth",timescale:f,initialization:{}}}),w=v.representations,v=v.index;a.i(d.a)(w.length,"adaptation should have at least one representation");
w.forEach(function(a){return a.codecs=a.codecs||n[g]});w.forEach(function(a){return a.mimeType=a.mimeType||l[g]});if("ADVT"==k)return null;"text"===g&&"DESC"===k&&r.push("hardOfHearing");return{type:g,accessibility:r,index:v,representations:w,name:h,language:m,baseURL:p}}function v(a){return u((new DOMParser).parseFromString(a,"application/xml"))}function u(c){c=c.documentElement;d.a.equal(c.nodeName,"SmoothStreamingMedia","document root should be SmoothStreamingMedia");a.i(d.a)(/^[2]-[0-2]$/.test(c.getAttribute("MajorVersion")+
"-"+c.getAttribute("MinorVersion")),"Version should be 2.0, 2.1 or 2.2");var l=+c.getAttribute("Timescale")||1E7,k=[],n=b(c,function(c,b,h){switch(b){case "Protection":h=h.firstElementChild;d.a.equal(h.nodeName,"ProtectionHeader","Protection should have ProtectionHeader child");b=a.i(e.b)(atob(h.textContent));var n;n=a.i(e.d)(b,8);n=a.i(e.k)(b.subarray(10,10+n));n=(new DOMParser).parseFromString(n,"application/xml").querySelector("KID").textContent;n=a.i(e.l)(atob(n)).toLowerCase();var m=a.i(e.j)(n);
h=h.getAttribute("SystemID").toLowerCase().replace(/\{|\}/g,"");b={keyId:n,keySystems:[{systemId:h,privateData:b}].concat(C(m))};c.protection=b;break;case "StreamIndex":if(b=f(h,l)){h=0;do n=b.type+"_"+(b.language?b.language+"_":"")+h++;while(a.i(g.a)(k,n));b.id=n;k.push(n);c.adaptations.push(b)}}return c},{protection:null,adaptations:[]}),q=n.protection,n=n.adaptations;n.forEach(function(a){return a.smoothProtection=q});var p=void 0,t=void 0,r=void 0,u=void 0,v=m(c.getAttribute("IsLive"));if(v)var p=
y,r=+c.getAttribute("DVRWindowLength")/l,u=x,t=n.filter(function(a){return"video"==a.type})[0],w=n.filter(function(a){return"audio"==a.type})[0],t=Math.min(h(t),h(w)),t=Date.now()/1E3-(t+u);return{transportType:"smooth",profiles:"",type:v?"dynamic":"static",suggestedPresentationDelay:p,timeShiftBufferDepth:r,presentationLiveGap:t,availabilityStartTime:u,periods:[{duration:(+c.getAttribute("Duration")||Infinity)/l,adaptations:n,laFragCount:+c.getAttribute("LookAheadFragmentCount")}]}}function r(a){return"string"==
typeof a?v(a):u(a)}var w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},y=w.suggestedPresentationDelay||20,x=w.referenceDateTime||Date.UTC(1970,0,1,0,0,0,0)/1E3,z=w.minRepresentationBitrate||19E4,C=w.keySystems||k;r.parseFromString=v;r.parseFromDocument=u;return r}},function(b,f,a){function m(a){return a*Math.pow(2,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)-1)*(1+(2*Math.random()-1)*h)}a.d(f,"a",function(){return m});var h=.3},function(b,f,a){a.d(f,"a",function(){return m});
var m=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.hash={}}a.prototype.add=function(a){this.hash[a]=!0};a.prototype.remove=function(a){delete this.hash[a]};a.prototype.test=function(a){return!0===this.hash[a]};return a}()},function(b,f,a){function m(a){return null==a?"":String(a).replace(n,function(a){return q[a]})}function h(c){var b=c.getAverageBitrates(),e=void 0,f=void 0;b.video.take(1).subscribe(function(a){return f=a|0});b.audio.take(1).subscribe(function(a){return e=
a|0});return{manifest:c._manifest,version:c.version,timeFragment:c.frag,currentTime:c.getCurrentTime(),state:c.getPlayerState(),buffer:a.i(d.b)(c.video.buffered),volume:c.getVolume(),video:{adaptation:c.adas.video,representation:c.reps.video,maxBitrate:c.getVideoMaxBitrate(),bufferSize:c.getVideoBufferSize(),avrBitrate:f},audio:{adaptation:c.adas.audio,representation:c.reps.audio,maxBitrate:c.getAudioMaxBitrate(),bufferSize:c.getAudioBufferSize(),avrBitrate:e}}}function k(a,c){var b=c.parentNode.querySelector("#cp--debug-infos-content");
if(b){var d=void 0;try{d=h(a)}catch(x){return}var e=d,f=e.video,g=e.audio,e=e.manifest,d="<b>Player v"+d.version+"</b> ("+d.state+")<br>";e&&f&&g&&(d+=["Container: "+m(e.transport),"Live: "+m(""+e.isLive),"Downloading bitrate (Kbit/s):\n          "+(f.representation.bitrate/1E3).toFixed(3)+"/"+(g.representation.bitrate/1E3).toFixed(3),"Estimated bandwidth (Kbit/s):\n          "+(f.avrBitrate/1E3).toFixed(3)+"/"+(g.avrBitrate/1E3).toFixed(3),"Location: "+e.uris[0]].join("<br>"));b.innerHTML=d}}function g(a,
b){var d="<style>\n#cp--debug-infos {\n  position: absolute;\n  top: "+m(b.offsetTop+10)+"px;\n  left: "+m(b.offsetLeft+10)+'px;\n  width: 500px;\n  height: 300px;\n  background-color: rgba(10, 10, 10, 0.83);\n  overflow: hidden;\n  color: white;\n  text-align: left;\n  padding: 2em;\n  box-sizing: border-box;\n}\n#cp--debug-hide-infos {\n  float: right;\n  cursor: pointer;\n}\n</style>\n<div id="cp--debug-infos">\n  <a id="cp--debug-hide-infos">[x]</a>\n  <p id="cp--debug-infos-content"></p>\n</div>',
f=b.parentNode,g=f.querySelector("#cp--debug-infos-container");g||(g=document.createElement("div"),g.setAttribute("id","cp--debug-infos-container"),f.appendChild(g));g.innerHTML=d;l||(l=f.querySelector("#cp--debug-hide-infos"),l.addEventListener("click",function(){return e(b)}));c&&clearInterval(c);c=setInterval(function(){return k(a,b)},1E3);k(a,b)}function e(a){(a=a.parentNode.querySelector("#cp--debug-infos-container"))&&a.parentNode.removeChild(a);c&&(clearInterval(c),c=null);l&&(l.removeEventListener("click",
e),l=null)}var d=a(19),c=void 0,l=void 0,n=/[&<>"']/g,q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};f.a={getDebug:h,showDebug:g,hideDebug:e,toggleDebug:function(a,c){c.parentNode.querySelector("#cp--debug-infos-container")?e(c):g(a,c)}}},function(b,f,a){var m=a(21),h=[];f.a=function(b){a.i(m.a)(h,b)||(console.warn(b),h.push(b))}},function(b,f,a){var m=this&&this.__extends||function(a,b){function f(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===
b?Object.create(b):(f.prototype=b.prototype,new f)};b=function(a){function b(b,e,d){a.call(this);this.parent=b;this.outerValue=e;this.outerIndex=d;this.index=0}m(b,a);b.prototype._next=function(a){this.parent.notifyNext(this.outerValue,a,this.outerIndex,this.index++,this)};b.prototype._error=function(a){this.parent.notifyError(a,this);this.unsubscribe()};b.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe()};return b}(a(2).Subscriber);f.InnerSubscriber=b},function(b,
f,a){var m=a(0);b=function(){function a(a,b,e){this.kind=a;this.value=b;this.error=e;this.hasValue="N"===a}a.prototype.observe=function(a){switch(this.kind){case "N":return a.next&&a.next(this.value);case "E":return a.error&&a.error(this.error);case "C":return a.complete&&a.complete()}};a.prototype["do"]=function(a,b,e){switch(this.kind){case "N":return a&&a(this.value);case "E":return b&&b(this.error);case "C":return e&&e()}};a.prototype.accept=function(a,b,e){return a&&"function"===typeof a.next?
this.observe(a):this["do"](a,b,e)};a.prototype.toObservable=function(){switch(this.kind){case "N":return m.Observable.of(this.value);case "E":return m.Observable["throw"](this.error);case "C":return m.Observable.empty()}throw Error("unexpected notification kind value");};a.createNext=function(b){return"undefined"!==typeof b?new a("N",b):a.undefinedValueNotification};a.createError=function(b){return new a("E",void 0,b)};a.createComplete=function(){return a.completeNotification};a.completeNotification=
new a("C");a.undefinedValueNotification=new a("N",void 0);return a}();f.Notification=b},function(b,f,a){b=function(){function a(b,f){void 0===f&&(f=a.now);this.SchedulerAction=b;this.now=f}a.prototype.schedule=function(a,b,f){void 0===b&&(b=0);return(new this.SchedulerAction(this,a)).schedule(f,b)};a.now=Date.now?Date.now:function(){return+new Date};return a}();f.Scheduler=b},function(b,f,a){var m=this&&this.__extends||function(a,b){function f(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&
(a[e]=b[e]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)};b=function(a){function b(b,e){a.call(this);this.subject=b;this.subscriber=e;this.closed=!1}m(b,a);b.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var a=this.subject,b=a.observers;this.subject=null;!b||0===b.length||a.isStopped||a.closed||(a=b.indexOf(this.subscriber),-1!==a&&b.splice(a,1))}};return b}(a(4).Subscription);f.SubjectSubscription=b},function(b,f,a){b=a(0);a=a(146);b.Observable.empty=a.empty},
function(b,f,a){b=a(0);a=a(10);b.Observable.merge=a.merge},function(b,f,a){b=a(0);a=a(147);b.Observable.of=a.of},function(b,f,a){b=a(0);a=a(148);b.Observable["throw"]=a._throw},function(b,f,a){b=a(0);a=a(149);b.Observable.prototype["catch"]=a._catch;b.Observable.prototype._catch=a._catch},function(b,f,a){b=a(0);a=a(55);b.Observable.prototype.concat=a.concat},function(b,f,a){b=a(0);a=a(151);b.Observable.prototype.concatAll=a.concatAll},function(b,f,a){b=a(0);a=a(152);b.Observable.prototype.concatMap=
a.concatMap},function(b,f,a){b=a(0);a=a(153);b.Observable.prototype.debounceTime=a.debounceTime},function(b,f,a){b=a(0);a=a(154);b.Observable.prototype.distinctUntilChanged=a.distinctUntilChanged},function(b,f,a){b=a(0);a=a(155);b.Observable.prototype["do"]=a._do;b.Observable.prototype._do=a._do},function(b,f,a){b=a(0);a=a(156);b.Observable.prototype.filter=a.filter},function(b,f,a){b=a(0);a=a(157);b.Observable.prototype["finally"]=a._finally;b.Observable.prototype._finally=a._finally},function(b,
f,a){b=a(0);a=a(158);b.Observable.prototype.ignoreElements=a.ignoreElements},function(b,f,a){b=a(0);a=a(159);b.Observable.prototype.map=a.map},function(b,f,a){b=a(0);a=a(160);b.Observable.prototype.mapTo=a.mapTo},function(b,f,a){b=a(0);a=a(56);b.Observable.prototype.merge=a.merge},function(b,f,a){b=a(0);a=a(57);b.Observable.prototype.mergeMap=a.mergeMap;b.Observable.prototype.flatMap=a.mergeMap},function(b,f,a){b=a(0);a=a(36);b.Observable.prototype.multicast=a.multicast},function(b,f,a){b=a(0);a=
a(162);b.Observable.prototype.publish=a.publish},function(b,f,a){b=a(0);a=a(163);b.Observable.prototype.scan=a.scan},function(b,f,a){b=a(0);a=a(164);b.Observable.prototype.share=a.share},function(b,f,a){b=a(0);a=a(165);b.Observable.prototype.skip=a.skip},function(b,f,a){b=a(0);a=a(166);b.Observable.prototype.startWith=a.startWith},function(b,f,a){b=a(0);a=a(167);b.Observable.prototype.switchMap=a.switchMap},function(b,f,a){b=a(0);a=a(168);b.Observable.prototype.take=a.take},function(b,f,a){b=a(0);
a=a(169);b.Observable.prototype.takeUntil=a.takeUntil},function(b,f,a){b=a(0);a=a(170);b.Observable.prototype.timeout=a.timeout},function(b,f,a){var m=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(0);var h=a(34),k=a(9);a=function(a){function b(b,c){a.call(this);this.arrayLike=b;this.scheduler=c;c||1!==b.length||(this._isScalar=!0,this.value=b[0])}m(b,a);
b.create=function(a,c){var d=a.length;return 0===d?new k.EmptyObservable:1===d?new h.ScalarObservable(a[0],c):new b(a,c)};b.dispatch=function(a){var c=a.arrayLike,b=a.index,d=a.subscriber;d.closed||(b>=a.length?d.complete():(d.next(c[b]),a.index=b+1,this.schedule(a)))};b.prototype._subscribe=function(a){var c=this.arrayLike,d=this.scheduler,e=c.length;if(d)return d.schedule(b.dispatch,0,{arrayLike:c,index:0,length:e,subscriber:a});for(d=0;d<e&&!a.closed;d++)a.next(c[d]);a.complete()};return b}(b.Observable);
f.ArrayLikeObservable=a},function(b,f,a){var m=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};b=a(8);var h=a(0),k=a(2),g=a(4);a=function(a){function c(c,b){a.call(this);this.source=c;this.subjectFactory=b;this._refCount=0;this._isComplete=!1}m(c,a);c.prototype._subscribe=function(a){return this.getSubject().subscribe(a)};c.prototype.getSubject=function(){var a=
this._subject;if(!a||a.isStopped)this._subject=this.subjectFactory();return this._subject};c.prototype.connect=function(){var a=this._connection;a||(this._isComplete=!1,a=this._connection=new g.Subscription,a.add(this.source.subscribe(new e(this.getSubject(),this))),a.closed?(this._connection=null,a=g.Subscription.EMPTY):this._connection=a);return a};c.prototype.refCount=function(){return this.lift(new d(this))};return c}(h.Observable);f.ConnectableObservable=a;a=a.prototype;f.connectableObservableDescriptor=
{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:a._subscribe},_isComplete:{value:a._isComplete,writable:!0},getSubject:{value:a.getSubject},connect:{value:a.connect},refCount:{value:a.refCount}};var e=function(a){function c(c,b){a.call(this,c);this.connectable=b}m(c,a);c.prototype._error=function(c){this._unsubscribe();a.prototype._error.call(this,c)};c.prototype._complete=function(){this.connectable._isComplete=
!0;this._unsubscribe();a.prototype._complete.call(this)};c.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var c=a._connection;a._refCount=0;a._subject=null;a._connection=null;c&&c.unsubscribe()}};return c}(b.SubjectSubscriber),d=function(){function a(a){this.connectable=a}a.prototype.call=function(a,b){var d=this.connectable;d._refCount++;var e=new c(a,d),f=b.subscribe(e);e.closed||(e.connection=d.connect());return f};return a}(),c=function(a){function c(c,b){a.call(this,
c);this.connectable=b}m(c,a);c.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var c=a._refCount;0>=c?this.connection=null:(a._refCount=c-1,1<c?this.connection=null:(c=this.connection,a=a._connection,this.connection=null,!a||c&&a!==c||a.unsubscribe()))}else this.connection=null};return c}(k.Subscriber)},function(b,f,a){var m=this&&this.__extends||function(a,b){function f(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?
Object.create(b):(f.prototype=b.prototype,new f)};b=function(a){function b(b,e){a.call(this);this.error=b;this.scheduler=e}m(b,a);b.create=function(a,e){return new b(a,e)};b.dispatch=function(a){a.subscriber.error(a.error)};b.prototype._subscribe=function(a){var e=this.error,d=this.scheduler;a.syncErrorThrowable=!0;if(d)return d.schedule(b.dispatch,0,{error:e,subscriber:a});a.error(e)};return b}(a(0).Observable);f.ErrorObservable=b},function(b,f,a){var m=this&&this.__extends||function(a,c){function b(){this.constructor=
a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)},h=a(24),k=a(62),g=a(66),e=a(53),d=a(144),c=a(15),l=a(139),n=a(37),q=a(0),t=a(161),p=a(38);b=function(a){function b(c,b){a.call(this,null);this.ish=c;this.scheduler=b}m(b,a);b.create=function(a,f){if(null!=a){if("function"===typeof a[p.observable])return a instanceof q.Observable&&!f?a:new b(a,f);if(h.isArray(a))return new c.ArrayObservable(a,f);if(g.isPromise(a))return new e.PromiseObservable(a,
f);if("function"===typeof a[n.iterator]||"string"===typeof a)return new d.IteratorObservable(a,f);if(k.isArrayLike(a))return new l.ArrayLikeObservable(a,f)}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};b.prototype._subscribe=function(a){var c=this.ish,b=this.scheduler;return null==b?c[p.observable]().subscribe(a):c[p.observable]().subscribe(new t.ObserveOnSubscriber(a,b,0))};return b}(q.Observable);f.FromObservable=b},function(b,f,a){var m=this&&this.__extends||function(a,b){function d(){this.constructor=
a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},h=a(64);b=a(0);var k=a(27);a=function(a){function b(b,c){void 0===b&&(b=0);void 0===c&&(c=k.async);a.call(this);this.period=b;this.scheduler=c;if(!h.isNumeric(b)||0>b)this.period=0;c&&"function"===typeof c.schedule||(this.scheduler=k.async)}m(b,a);b.create=function(a,c){void 0===a&&(a=0);void 0===c&&(c=k.async);return new b(a,c)};b.dispatch=function(a){var c=a.subscriber,b=a.period;
c.next(a.index);c.closed||(a.index+=1,this.schedule(a,b))};b.prototype._subscribe=function(a){var c=this.period;a.add(this.scheduler.schedule(b.dispatch,c,{index:0,subscriber:a,period:c}))};return b}(b.Observable);f.IntervalObservable=a},function(b,f,a){var m=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},h=a(5);b=a(0);var k=a(37);a=function(a){function c(c,b){a.call(this);
this.scheduler=b;if(null==c)throw Error("iterator cannot be null.");var d;if((d=c[k.iterator])||"string"!==typeof c)if(d||void 0===c.length){if(!d)throw new TypeError("object is not iterable");d=c[k.iterator]()}else d=new e(c);else d=new g(c);this.iterator=d}m(c,a);c.create=function(a,b){return new c(a,b)};c.dispatch=function(a){var c=a.index,b=a.iterator,d=a.subscriber;if(a.hasError)d.error(a.error);else{var e=b.next();e.done?d.complete():(d.next(e.value),a.index=c+1,d.closed?"function"===typeof b["return"]&&
b["return"]():this.schedule(a))}};c.prototype._subscribe=function(a){var b=this.iterator,d=this.scheduler;if(d)return d.schedule(c.dispatch,0,{index:0,iterator:b,subscriber:a});do{d=b.next();if(d.done){a.complete();break}else a.next(d.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break}}while(1)};return c}(b.Observable);f.IteratorObservable=a;var g=function(){function a(a,c,b){void 0===c&&(c=0);void 0===b&&(b=a.length);this.str=a;this.idx=c;this.len=b}a.prototype[k.iterator]=
function(){return this};a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}};return a}(),e=function(){function a(a,c,b){void 0===c&&(c=0);if(void 0===b)if(b=+a.length,isNaN(b))b=0;else if(0!==b&&"number"===typeof b&&h.root.isFinite(b)){var e;e=+b;e=0===e?e:isNaN(e)?e:0>e?-1:1;b=e*Math.floor(Math.abs(b));b=0>=b?0:b>d?d:b}this.arr=a;this.idx=c;this.len=b}a.prototype[k.iterator]=function(){return this};a.prototype.next=function(){return this.idx<
this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}};return a}(),d=Math.pow(2,53)-1},function(b,f,a){var m=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=a(0);var h=a(67);a=function(a){function b(){a.call(this)}m(b,a);b.create=function(){return new b};b.prototype._subscribe=function(a){h.noop()};return b}(b.Observable);f.NeverObservable=a},
function(b,f,a){b=a(9);f.empty=b.EmptyObservable.create},function(b,f,a){b=a(15);f.of=b.ArrayObservable.of},function(b,f,a){b=a(141);f._throw=b.ErrorObservable.create},function(b,f,a){var m=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(14);var h=a(16);f._catch=function(a){a=new k(a);var b=this.lift(a);return a.caught=b};var k=function(){function a(a){this.selector=
a}a.prototype.call=function(a,c){return c.subscribe(new g(a,this.selector,this.caught))};return a}(),g=function(a){function b(c,b,d){a.call(this,c);this.selector=b;this.caught=d}m(b,a);b.prototype.error=function(c){if(!this.isStopped){var b=void 0;try{b=this.selector(c,this.caught)}catch(n){a.prototype.error.call(this,n);return}this._unsubscribeAndRecycle();this.add(h.subscribeToResult(this,b))}};return b}(b.OuterSubscriber)},function(b,f,a){var m=this&&this.__extends||function(a,c){function b(){this.constructor=
a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)},h=a(15),k=a(24);b=a(14);var g=a(16),e={};f.combineLatest=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];c=null;"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&k.isArray(a[0])&&(a=a[0].slice());a.unshift(this);return this.lift.call(new h.ArrayObservable(a),new d(c))};var d=function(){function a(a){this.project=a}a.prototype.call=function(a,b){return b.subscribe(new c(a,
this.project))};return a}();f.CombineLatestOperator=d;var c=function(a){function c(c,b){a.call(this,c);this.project=b;this.active=0;this.values=[];this.observables=[]}m(c,a);c.prototype._next=function(a){this.values.push(e);this.observables.push(a)};c.prototype._complete=function(){var a=this.observables,c=a.length;if(0===c)this.destination.complete();else{this.toRespond=this.active=c;for(var b=0;b<c;b++){var d=a[b];this.add(g.subscribeToResult(this,d,d,b))}}};c.prototype.notifyComplete=function(a){0===
--this.active&&this.destination.complete()};c.prototype.notifyNext=function(a,c,b,d,f){a=this.values;d=a[b];d=this.toRespond?d===e?--this.toRespond:this.toRespond:0;a[b]=c;0===d&&(this.project?this._tryProject(a):this.destination.next(a.slice()))};c.prototype._tryProject=function(a){var c;try{c=this.project.apply(this,a)}catch(p){this.destination.error(p);return}this.destination.next(c)};return c}(b.OuterSubscriber);f.CombineLatestSubscriber=c},function(b,f,a){var m=a(35);f.concatAll=function(){return this.lift(new m.MergeAllOperator(1))}},
function(b,f,a){var m=a(57);f.concatMap=function(a,b){return this.lift(new m.MergeMapOperator(a,b,1))}},function(b,f,a){function m(a){a.debouncedNext()}var h=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};b=a(2);var k=a(27);f.debounceTime=function(a,c){void 0===c&&(c=k.async);return this.lift(new g(a,c))};var g=function(){function a(a,b){this.dueTime=a;this.scheduler=
b}a.prototype.call=function(a,b){return b.subscribe(new e(a,this.dueTime,this.scheduler))};return a}(),e=function(a){function c(c,b,d){a.call(this,c);this.dueTime=b;this.scheduler=d;this.lastValue=this.debouncedSubscription=null;this.hasValue=!1}h(c,a);c.prototype._next=function(a){this.clearDebounce();this.lastValue=a;this.hasValue=!0;this.add(this.debouncedSubscription=this.scheduler.schedule(m,this.dueTime,this))};c.prototype._complete=function(){this.debouncedNext();this.destination.complete()};
c.prototype.debouncedNext=function(){this.clearDebounce();this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)};c.prototype.clearDebounce=function(){var a=this.debouncedSubscription;null!==a&&(this.remove(a),a.unsubscribe(),this.debouncedSubscription=null)};return c}(b.Subscriber)},function(b,f,a){var m=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=
c.prototype,new b)};b=a(2);var h=a(41),k=a(28);f.distinctUntilChanged=function(a,c){return this.lift(new g(a,c))};var g=function(){function a(a,b){this.compare=a;this.keySelector=b}a.prototype.call=function(a,b){return b.subscribe(new e(a,this.compare,this.keySelector))};return a}(),e=function(a){function c(c,b,d){a.call(this,c);this.keySelector=d;this.hasKey=!1;"function"===typeof b&&(this.compare=b)}m(c,a);c.prototype.compare=function(a,c){return a===c};c.prototype._next=function(a){var c=a;if(this.keySelector&&
(c=h.tryCatch(this.keySelector)(a),c===k.errorObject))return this.destination.error(k.errorObject.e);var b=!1;if(this.hasKey){if(b=h.tryCatch(this.compare)(this.key,c),b===k.errorObject)return this.destination.error(k.errorObject.e)}else this.hasKey=!0;!1===!!b&&(this.key=c,this.destination.next(a))};return c}(b.Subscriber)},function(b,f,a){var m=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):
(c.prototype=b.prototype,new c)},h=a(2);f._do=function(a,b,c){return this.lift(new k(a,b,c))};var k=function(){function a(a,c,b){this.nextOrObserver=a;this.error=c;this.complete=b}a.prototype.call=function(a,c){return c.subscribe(new g(a,this.nextOrObserver,this.error,this.complete))};return a}(),g=function(a){function b(c,b,d,e){a.call(this,c);c=new h.Subscriber(b,d,e);c.syncErrorThrowable=!0;this.add(c);this.safeSubscriber=c}m(b,a);b.prototype._next=function(a){var c=this.safeSubscriber;c.next(a);
c.syncErrorThrown?this.destination.error(c.syncErrorValue):this.destination.next(a)};b.prototype._error=function(a){var c=this.safeSubscriber;c.error(a);c.syncErrorThrown?this.destination.error(c.syncErrorValue):this.destination.error(a)};b.prototype._complete=function(){var a=this.safeSubscriber;a.complete();a.syncErrorThrown?this.destination.error(a.syncErrorValue):this.destination.complete()};return b}(h.Subscriber)},function(b,f,a){var m=this&&this.__extends||function(a,b){function d(){this.constructor=
a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(2);f.filter=function(a,b){return this.lift(new h(a,b))};var h=function(){function a(a,b){this.predicate=a;this.thisArg=b}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.predicate,this.thisArg))};return a}(),k=function(a){function b(b,c,e){a.call(this,b);this.predicate=c;this.thisArg=e;this.count=0;this.predicate=c}m(b,a);b.prototype._next=function(a){var c;try{c=
this.predicate.call(this.thisArg,a,this.count++)}catch(l){this.destination.error(l);return}c&&this.destination.next(a)};return b}(b.Subscriber)},function(b,f,a){var m=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(2);var h=a(4);f._finally=function(a){return this.lift(new k(a))};var k=function(){function a(a){this.callback=a}a.prototype.call=function(a,c){return c.subscribe(new g(a,
this.callback))};return a}(),g=function(a){function b(c,b){a.call(this,c);this.add(new h.Subscription(b))}m(b,a);return b}(b.Subscriber)},function(b,f,a){var m=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(2);var h=a(67);f.ignoreElements=function(){return this.lift(new k)};var k=function(){function a(){}a.prototype.call=function(a,c){return c.subscribe(new g(a))};
return a}(),g=function(a){function b(){a.apply(this,arguments)}m(b,a);b.prototype._next=function(a){h.noop()};return b}(b.Subscriber)},function(b,f,a){var m=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(2);f.map=function(a,b){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new h(a,
b))};var h=function(){function a(a,b){this.project=a;this.thisArg=b}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.project,this.thisArg))};return a}();f.MapOperator=h;var k=function(a){function b(b,c,e){a.call(this,b);this.project=c;this.count=0;this.thisArg=e||this}m(b,a);b.prototype._next=function(a){var c;try{c=this.project.call(this.thisArg,a,this.count++)}catch(l){this.destination.error(l);return}this.destination.next(c)};return b}(b.Subscriber)},function(b,f,a){var m=this&&this.__extends||
function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(2);f.mapTo=function(a){return this.lift(new h(a))};var h=function(){function a(a){this.value=a}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.value))};return a}(),k=function(a){function b(b,c){a.call(this,b);this.value=c}m(b,a);b.prototype._next=function(a){this.destination.next(this.value)};return b}(b.Subscriber)},
function(b,f,a){var m=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};b=a(2);var h=a(108);f.observeOn=function(a,c){void 0===c&&(c=0);return this.lift(new k(a,c))};var k=function(){function a(a,b){void 0===b&&(b=0);this.scheduler=a;this.delay=b}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.scheduler,this.delay))};return a}();f.ObserveOnOperator=
k;var g=function(a){function c(c,b,d){void 0===d&&(d=0);a.call(this,c);this.scheduler=b;this.delay=d}m(c,a);c.dispatch=function(a){a.notification.observe(a.destination);this.unsubscribe()};c.prototype.scheduleMessage=function(a){this.add(this.scheduler.schedule(c.dispatch,this.delay,new e(a,this.destination)))};c.prototype._next=function(a){this.scheduleMessage(h.Notification.createNext(a))};c.prototype._error=function(a){this.scheduleMessage(h.Notification.createError(a))};c.prototype._complete=
function(){this.scheduleMessage(h.Notification.createComplete())};return c}(b.Subscriber);f.ObserveOnSubscriber=g;var e=function(){return function(a,c){this.notification=a;this.destination=c}}();f.ObserveOnMessage=e},function(b,f,a){var m=a(8),h=a(36);f.publish=function(a){return a?h.multicast.call(this,function(){return new m.Subject},a):h.multicast.call(this,new m.Subject)}},function(b,f,a){var m=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(2);f.scan=function(a,b){var d=!1;2<=arguments.length&&(d=!0);return this.lift(new h(a,b,d))};var h=function(){function a(a,b,c){void 0===c&&(c=!1);this.accumulator=a;this.seed=b;this.hasSeed=c}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.accumulator,this.seed,this.hasSeed))};return a}(),k=function(a){function b(b,c,e,f){a.call(this,b);this.accumulator=c;this._seed=e;this.hasSeed=f;this.index=0}
m(b,a);Object.defineProperty(b.prototype,"seed",{get:function(){return this._seed},set:function(a){this.hasSeed=!0;this._seed=a},enumerable:!0,configurable:!0});b.prototype._next=function(a){if(this.hasSeed)return this._tryNext(a);this.seed=a;this.destination.next(a)};b.prototype._tryNext=function(a){var c=this.index++,b;try{b=this.accumulator(this.seed,a,c)}catch(n){this.destination.error(n)}this.seed=b;this.destination.next(b)};return b}(b.Subscriber)},function(b,f,a){function m(){return new k.Subject}
var h=a(36),k=a(8);f.share=function(){return h.multicast.call(this,m).refCount()}},function(b,f,a){var m=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(2);f.skip=function(a){return this.lift(new h(a))};var h=function(){function a(a){this.total=a}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.total))};return a}(),k=function(a){function b(b,
c){a.call(this,b);this.total=c;this.count=0}m(b,a);b.prototype._next=function(a){++this.count>this.total&&this.destination.next(a)};return b}(b.Subscriber)},function(b,f,a){var m=a(15),h=a(34),k=a(9),g=a(55),e=a(17);f.startWith=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];c=a[a.length-1];e.isScheduler(c)?a.pop():c=null;var b=a.length;return 1===b?g.concatStatic(new h.ScalarObservable(a[0],c),this):1<b?g.concatStatic(new m.ArrayObservable(a,c),this):g.concatStatic(new k.EmptyObservable(c),
this)}},function(b,f,a){var m=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(14);var h=a(16);f.switchMap=function(a,b){return this.lift(new k(a,b))};var k=function(){function a(a,c){this.project=a;this.resultSelector=c}a.prototype.call=function(a,c){return c.subscribe(new g(a,this.project,this.resultSelector))};return a}(),g=function(a){function b(c,b,d){a.call(this,
c);this.project=b;this.resultSelector=d;this.index=0}m(b,a);b.prototype._next=function(a){var c,b=this.index++;try{c=this.project(a,b)}catch(q){this.destination.error(q);return}this._innerSub(c,a,b)};b.prototype._innerSub=function(a,b,d){var c=this.innerSubscription;c&&c.unsubscribe();this.add(this.innerSubscription=h.subscribeToResult(this,a,b,d))};b.prototype._complete=function(){var c=this.innerSubscription;c&&!c.closed||a.prototype._complete.call(this)};b.prototype._unsubscribe=function(){this.innerSubscription=
null};b.prototype.notifyComplete=function(c){this.remove(c);this.innerSubscription=null;this.isStopped&&a.prototype._complete.call(this)};b.prototype.notifyNext=function(a,b,d,e,f){this.resultSelector?this._tryNotifyNext(a,b,d,e):this.destination.next(b)};b.prototype._tryNotifyNext=function(a,b,d,e){var c;try{c=this.resultSelector(a,b,d,e)}catch(p){this.destination.error(p);return}this.destination.next(c)};return b}(b.OuterSubscriber)},function(b,f,a){var m=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(2);var h=a(175),k=a(9);f.take=function(a){return 0===a?new k.EmptyObservable:this.lift(new g(a))};var g=function(){function a(a){this.total=a;if(0>this.total)throw new h.ArgumentOutOfRangeError;}a.prototype.call=function(a,b){return b.subscribe(new e(a,this.total))};return a}(),e=function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0}m(b,a);b.prototype._next=function(a){var b=
this.total,c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()))};return b}(b.Subscriber)},function(b,f,a){var m=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(14);var h=a(16);f.takeUntil=function(a){return this.lift(new k(a))};var k=function(){function a(a){this.notifier=a}a.prototype.call=function(a,b){return b.subscribe(new g(a,
this.notifier))};return a}(),g=function(a){function b(b,d){a.call(this,b);this.notifier=d;this.add(h.subscribeToResult(this,d))}m(b,a);b.prototype.notifyNext=function(a,b,d,e,f){this.complete()};b.prototype.notifyComplete=function(){};return b}(b.OuterSubscriber)},function(b,f,a){var m=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},h=a(27),k=a(63);b=a(2);var g=
a(61);f.timeout=function(a,b){void 0===b&&(b=h.async);var c=k.isDate(a),d=c?+a-b.now():Math.abs(a);return this.lift(new e(d,c,b,new g.TimeoutError))};var e=function(){function a(a,b,c,d){this.waitFor=a;this.absoluteTimeout=b;this.scheduler=c;this.errorInstance=d}a.prototype.call=function(a,b){return b.subscribe(new d(a,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))};return a}(),d=function(a){function b(b,c,d,e,f){a.call(this,b);this.absoluteTimeout=c;this.waitFor=d;this.scheduler=
e;this.errorInstance=f;this.action=null;this.scheduleTimeout()}m(b,a);b.dispatchTimeout=function(a){a.error(a.errorInstance)};b.prototype.scheduleTimeout=function(){var a=this.action;a?this.action=a.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(b.dispatchTimeout,this.waitFor,this))};b.prototype._next=function(b){this.absoluteTimeout||this.scheduleTimeout();a.prototype._next.call(this,b)};b.prototype._unsubscribe=function(){this.errorInstance=this.scheduler=this.action=null};
return b}(b.Subscriber)},function(b,f,a){var m=this&&this.__extends||function(a,b){function f(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)};b=function(a){function b(b,e){a.call(this)}m(b,a);b.prototype.schedule=function(a,b){return this};return b}(a(4).Subscription);f.Action=b},function(b,f,a){var m=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=
b[d]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)},h=a(176);b=function(a){function b(b,d){a.call(this,b,d);this.scheduler=b;this.work=d}m(b,a);b.prototype.requestAsyncId=function(b,d,c){void 0===c&&(c=0);if(null!==c&&0<c)return a.prototype.requestAsyncId.call(this,b,d,c);b.actions.push(this);return b.scheduled||(b.scheduled=h.Immediate.setImmediate(b.flush.bind(b,null)))};b.prototype.recycleAsyncId=function(b,d,c){void 0===c&&(c=0);if(null!==c&&0<c||null===c&&0<this.delay)return a.prototype.recycleAsyncId.call(this,
b,d,c);0===b.actions.length&&(h.Immediate.clearImmediate(d),b.scheduled=void 0)};return b}(a(58).AsyncAction);f.AsapAction=b},function(b,f,a){var m=this&&this.__extends||function(a,b){function f(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)};b=function(a){function b(){a.apply(this,arguments)}m(b,a);b.prototype.flush=function(a){this.active=!0;this.scheduled=void 0;var b=this.actions,d,c=-1,f=b.length;a=a||
b.shift();do if(d=a.execute(a.state,a.delay))break;while(++c<f&&(a=b.shift()));this.active=!1;if(d){for(;++c<f&&(a=b.shift());)a.unsubscribe();throw d;}};return b}(a(59).AsyncScheduler);f.AsapScheduler=b},function(b,f,a){b=a(172);a=a(173);f.asap=new a.AsapScheduler(b.AsapAction)},function(b,f,a){var m=this&&this.__extends||function(a,b){function f(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)};b=function(a){function b(){var b=
a.call(this,"argument out of range");this.name=b.name="ArgumentOutOfRangeError";this.stack=b.stack;this.message=b.message}m(b,a);return b}(Error);f.ArgumentOutOfRangeError=b},function(b,f,a){b=a(5);a=function(){function a(a){this.root=a;a.setImmediate&&"function"===typeof a.setImmediate?(this.setImmediate=a.setImmediate.bind(a),this.clearImmediate=a.clearImmediate.bind(a)):(this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():
this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate(),a=function g(a){delete g.instance.tasksByHandle[a]},a.instance=this,this.clearImmediate=a)}a.prototype.identify=function(a){return this.root.Object.prototype.toString.call(a)};a.prototype.canUseProcessNextTick=
function(){return"[object process]"===this.identify(this.root.process)};a.prototype.canUseMessageChannel=function(){return!!this.root.MessageChannel};a.prototype.canUseReadyStateChange=function(){var a=this.root.document;return!!(a&&"onreadystatechange"in a.createElement("script"))};a.prototype.canUsePostMessage=function(){var a=this.root;if(a.postMessage&&!a.importScripts){var b=!0,f=a.onmessage;a.onmessage=function(){b=!1};a.postMessage("","*");a.onmessage=f;return b}return!1};a.prototype.partiallyApplied=
function(a){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];f=function d(){var a=d.handler,b=d.args;"function"===typeof a?a.apply(void 0,b):(new Function(""+a))()};f.handler=a;f.args=b;return f};a.prototype.addFromSetImmediateArguments=function(a){this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,a);return this.nextHandle++};a.prototype.createProcessNextTickSetImmediate=function(){var a=function g(){var a=g.instance,b=a.addFromSetImmediateArguments(arguments);a.root.process.nextTick(a.partiallyApplied(a.runIfPresent,
b));return b};a.instance=this;return a};a.prototype.createPostMessageSetImmediate=function(){var a=this.root,b="setImmediate$"+a.Math.random()+"$",f=function d(c){var f=d.instance;c.source===a&&"string"===typeof c.data&&0===c.data.indexOf(b)&&f.runIfPresent(+c.data.slice(b.length))};f.instance=this;a.addEventListener("message",f,!1);f=function c(){var a=c,b=a.messagePrefix,a=a.instance,f=a.addFromSetImmediateArguments(arguments);a.root.postMessage(b+f,"*");return f};f.instance=this;f.messagePrefix=
b;return f};a.prototype.runIfPresent=function(a){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,a),0);else{var b=this.tasksByHandle[a];if(b){this.currentlyRunningATask=!0;try{b()}finally{this.clearImmediate(a),this.currentlyRunningATask=!1}}}};a.prototype.createMessageChannelSetImmediate=function(){var a=this,b=new this.root.MessageChannel;b.port1.onmessage=function(b){a.runIfPresent(b.data)};var f=function d(){var a=d,b=a.channel,a=a.instance.addFromSetImmediateArguments(arguments);
b.port2.postMessage(a);return a};f.channel=b;f.instance=this;return f};a.prototype.createReadyStateChangeSetImmediate=function(){var a=function g(){var a=g.instance,b=a.root.document,c=b.documentElement,f=a.addFromSetImmediateArguments(arguments),h=b.createElement("script");h.onreadystatechange=function(){a.runIfPresent(f);h.onreadystatechange=null;c.removeChild(h);h=null};c.appendChild(h);return f};a.instance=this;return a};a.prototype.createSetTimeoutSetImmediate=function(){var a=function g(){var a=
g.instance,b=a.addFromSetImmediateArguments(arguments);a.root.setTimeout(a.partiallyApplied(a.runIfPresent,b),0);return b};a.instance=this;return a};return a}();f.ImmediateDefinition=a;f.Immediate=new a(b.root)},function(b,f,a){var m=this&&this.__extends||function(a,b){function f(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)};b=function(a){function b(b){a.call(this);this.errors=b;b=Error.call(this,b?b.length+
" errors occurred during unsubscription:\n  "+b.map(function(a,b){return b+1+") "+a.toString()}).join("\n  "):"");this.name=b.name="UnsubscriptionError";this.stack=b.stack;this.message=b.message}m(b,a);return b}(Error);f.UnsubscriptionError=b},function(b,f,a){var m=a(2),h=a(39),k=a(50);f.toSubscriber=function(a,b,d){if(a){if(a instanceof m.Subscriber)return a;if(a[h.rxSubscriber])return a[h.rxSubscriber]()}return a||b||d?new m.Subscriber(a,b,d):new m.Subscriber(k.empty)}},function(b,f){var a;a=function(){return this}();
try{a=a||Function("return this")()||(0,eval)("this")}catch(m){"object"===typeof window&&(a=window)}b.exports=a}])});
