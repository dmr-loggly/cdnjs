var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,g,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[g]=a.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(e){var g=0;return $jscomp.iteratorPrototype(function(){return g<e.length?{done:!1,value:e[g++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(e,g){$jscomp.initSymbolIterator();e instanceof String&&(e+="");var a=0,l={next:function(){if(a<e.length){var k=a++;return{value:g(k,e[k]),done:!1}}l.next=function(){return{done:!0,value:void 0}};return l.next()}};l[Symbol.iterator]=function(){return l};return l};
$jscomp.polyfill=function(e,g,a,l){if(g){a=$jscomp.global;e=e.split(".");for(l=0;l<e.length-1;l++){var k=e[l];k in a||(a[k]={});a=a[k]}e=e[e.length-1];l=a[e];g=g(l);g!=l&&null!=g&&$jscomp.defineProperty(a,e,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.keys",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6-impl","es3");$jscomp.owns=function(e,g){return Object.prototype.hasOwnProperty.call(e,g)};
$jscomp.polyfill("Object.assign",function(e){return e?e:function(e,a){for(var g=1;g<arguments.length;g++){var k=arguments[g];if(k)for(var h in k)$jscomp.owns(k,h)&&(e[h]=k[h])}return e}},"es6-impl","es3");$jscomp.findInternal=function(e,g,a){e instanceof String&&(e=String(e));for(var l=e.length,k=0;k<l;k++){var h=e[k];if(g.call(a,h,k,e))return{i:k,v:h}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(e,a){return $jscomp.findInternal(this,e,a).v}},"es6-impl","es3");$jscomp.checkStringArgs=function(e,g,a){if(null==e)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(g instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return e+""};
$jscomp.polyfill("String.prototype.includes",function(e){return e?e:function(e,a){return-1!==$jscomp.checkStringArgs(this,e,"includes").indexOf(e,a||0)}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.values",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(e,a){return a})}},"es6","es3");
(function(e,g){"object"===typeof exports&&"object"===typeof module?module.exports=g():"function"===typeof define&&define.amd?define([],g):"object"===typeof exports?exports.RxPlayer=g():e.RxPlayer=g()})(this,function(){return function(e){function g(l){if(a[l])return a[l].exports;var k=a[l]={i:l,l:!1,exports:{}};e[l].call(k.exports,k,k.exports,g);k.l=!0;return k.exports}var a={};g.m=e;g.c=a;g.i=function(a){return a};g.d=function(a,k,h){g.o(a,k)||Object.defineProperty(a,k,{configurable:!1,enumerable:!0,
get:h})};g.n=function(a){var k=a&&a.__esModule?function(){return a["default"]}:function(){return a};g.d(k,"a",k);return k};g.o=function(a,k){return Object.prototype.hasOwnProperty.call(a,k)};g.p="";return g(g.s=77)}([function(e,g,a){var l=a(5),k=a(174),h=a(35);e=function(){function a(a){this._isScalar=!1;a&&(this._subscribe=a)}a.prototype.lift=function(d){var c=new a;c.source=this;c.operator=d;return c};a.prototype.subscribe=function(a,c,b){var d=this.operator;a=k.toSubscriber(a,c,b);d?d.call(a,this.source):
a.add(this.source?this._subscribe(a):this._trySubscribe(a));if(a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a};a.prototype._trySubscribe=function(a){try{return this._subscribe(a)}catch(c){a.syncErrorThrown=!0,a.syncErrorValue=c,a.error(c)}};a.prototype.forEach=function(a,c){var b=this;c||(l.root.Rx&&l.root.Rx.config&&l.root.Rx.config.Promise?c=l.root.Rx.config.Promise:l.root.Promise&&(c=l.root.Promise));if(!c)throw Error("no Promise impl found");
return new c(function(c,d){var m;m=b.subscribe(function(b){if(m)try{a(b)}catch(q){d(q),m.unsubscribe()}else a(b)},d,c)})};a.prototype._subscribe=function(a){return this.source.subscribe(a)};a.prototype[h.observable]=function(){return this};a.create=function(d){return new a(d)};return a}();g.Observable=e},function(e,g,a){function l(a){this.name="AssertionError";this.message=a;Error.captureStackTrace&&Error.captureStackTrace(this,l)}function k(a,d){if(!a)throw new l(d);}var h="function"===typeof Symbol&&
"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};l.prototype=Error();k.equal=function(a,d,c){return k(a===d,c)};k.iface=function(a,d,c){k(a,d+" should be an object");for(var b in c)k.equal(h(a[b]),c[b],d+" should have property "+b+" as a "+c[b])};g.a=k},function(e,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},k=a(37);e=a(4);var h=a(47),f=a(36);a=function(a){function b(c,f,p){a.call(this);this.syncErrorValue=null;this.isStopped=this.syncErrorThrowable=this.syncErrorThrown=!1;switch(arguments.length){case 0:this.destination=h.empty;break;case 1:if(!c){this.destination=h.empty;break}if("object"===typeof c){c instanceof b?(this.destination=c,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new d(this,
c));break}default:this.syncErrorThrowable=!0,this.destination=new d(this,c,f,p)}}l(b,a);b.prototype[f.rxSubscriber]=function(){return this};b.create=function(a,c,d){a=new b(a,c,d);a.syncErrorThrowable=!1;return a};b.prototype.next=function(a){this.isStopped||this._next(a)};b.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))};b.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())};b.prototype.unsubscribe=function(){this.closed||(this.isStopped=
!0,a.prototype.unsubscribe.call(this))};b.prototype._next=function(a){this.destination.next(a)};b.prototype._error=function(a){this.destination.error(a);this.unsubscribe()};b.prototype._complete=function(){this.destination.complete();this.unsubscribe()};b.prototype._unsubscribeAndRecycle=function(){var a=this._parent,b=this._parents;this._parents=this._parent=null;this.unsubscribe();this.isStopped=this.closed=!1;this._parent=a;this._parents=b;return this};return b}(e.Subscription);g.Subscriber=a;
var d=function(a){function b(b,c,d,f){a.call(this);this._parentSubscriber=b;var m;b=this;k.isFunction(c)?m=c:c&&(m=c.next,d=c.error,f=c.complete,c!==h.empty&&(b=Object.create(c),k.isFunction(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this._context=b;this._next=m;this._error=d;this._complete=f}l(b,a);b.prototype.next=function(a){if(!this.isStopped&&this._next){var b=this._parentSubscriber;b.syncErrorThrowable?this.__tryOrSetError(b,this._next,a)&&this.unsubscribe():
this.__tryOrUnsub(this._next,a)}};b.prototype.error=function(a){if(!this.isStopped){var b=this._parentSubscriber;if(this._error)b.syncErrorThrowable?this.__tryOrSetError(b,this._error,a):this.__tryOrUnsub(this._error,a),this.unsubscribe();else if(b.syncErrorThrowable)b.syncErrorValue=a,b.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};b.prototype.complete=function(){var a=this;if(!this.isStopped){var b=this._parentSubscriber;if(this._complete){var c=function(){return a._complete.call(a._context)};
b.syncErrorThrowable?this.__tryOrSetError(b,c):this.__tryOrUnsub(c)}this.unsubscribe()}};b.prototype.__tryOrUnsub=function(a,b){try{a.call(this._context,b)}catch(p){throw this.unsubscribe(),p;}};b.prototype.__tryOrSetError=function(a,b,c){try{b.call(this._context,c)}catch(r){return a.syncErrorValue=r,a.syncErrorThrown=!0}return!1};b.prototype._unsubscribe=function(){var a=this._parentSubscriber;this._parentSubscriber=this._context=null;a.unsubscribe()};return b}(a)},function(e,g,a){function l(){}
var k={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},h=function(){};l.error=h;l.warn=h;l.info=h;l.debug=h;l.setLevel=function(a){"string"==typeof a&&(a=k[a]);l.error=a>=k.ERROR?console.error.bind(console):h;l.warn=a>=k.WARNING?console.warn.bind(console):h;l.info=a>=k.INFO?console.info.bind(console):h;l.debug=a>=k.DEBUG?console.log.bind(console):h};g.a=l},function(e,g,a){function l(a){return a.reduce(function(a,c){return a.concat(c instanceof b.UnsubscriptionError?c.errors:c)},[])}var k=a(21),h=a(61),f=
a(37),d=a(38),c=a(25),b=a(173);e=function(){function a(a){this.closed=!1;this._subscriptions=this._parents=this._parent=null;a&&(this._unsubscribe=a)}a.prototype.unsubscribe=function(){var a=!1,m;if(!this.closed){var e=this._parent,g=this._parents,v=this._unsubscribe,t=this._subscriptions;this.closed=!0;this._subscriptions=this._parents=this._parent=null;for(var u=-1,w=g?g.length:0;e;)e.remove(this),e=++u<w&&g[u]||null;f.isFunction(v)&&(e=d.tryCatch(v).call(this),e===c.errorObject&&(a=!0,m=m||(c.errorObject.e instanceof
b.UnsubscriptionError?l(c.errorObject.e.errors):[c.errorObject.e])));if(k.isArray(t))for(u=-1,w=t.length;++u<w;)e=t[u],h.isObject(e)&&(e=d.tryCatch(e.unsubscribe).call(e),e===c.errorObject&&(a=!0,m=m||[],e=c.errorObject.e,e instanceof b.UnsubscriptionError?m=m.concat(l(e.errors)):m.push(e)));if(a)throw new b.UnsubscriptionError(m);}};a.prototype.add=function(b){if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;var c=b;switch(typeof b){case "function":c=new a(b);case "object":if(c.closed||
"function"!==typeof c.unsubscribe)return c;if(this.closed)return c.unsubscribe(),c;"function"!==typeof c._addParent&&(b=c,c=new a,c._subscriptions=[b]);break;default:throw Error("unrecognized teardown "+b+" added to Subscription.");}(this._subscriptions||(this._subscriptions=[])).push(c);c._addParent(this);return c};a.prototype.remove=function(a){var b=this._subscriptions;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1))};a.prototype._addParent=function(a){var b=this._parent,c=this._parents;b&&b!==a?c?-1===
c.indexOf(a)&&c.push(a):this._parents=[a]:this._parent=a};a.EMPTY=function(a){a.closed=!0;return a}(new a);return a}();g.Subscription=e},function(e,g,a){(function(a){var e="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;a="undefined"!==typeof window&&window||"undefined"!==typeof a&&a||e;g.root=a;if(!a)throw Error("RxJS could not find any global context (window, self, global)");}).call(g,a(175))},function(e,g,a){function l(a){var b=a.reduce(function(a,
b){a[b]=b;return a},{});b.keys=a;return b}function k(a,b,c){return a+"("+b+")"+(c?": "+c.message:"")}function h(a,b,c){this.name="MediaError";this.type=p.MEDIA_ERROR;this.reason=b;this.code=q[a];this.fatal=c;this.message=k(this.name,this.code,this.reason)}function f(a,b,c){this.name="NetworkError";this.type=p.NETWORK_ERROR;this.xhr=b.xhr;this.url=b.url;this.status=b.status;this.reqType=b.type;this.reason=b;this.code=q[a];this.fatal=c;this.message=this.reason?k(this.name,this.code,this.reason):k(this.name,
this.code,{message:""+this.reqType+(0<this.status?"("+this.status+")":"")+" on "+this.url})}function d(a,b,c){this.name="EncryptedMediaError";this.type=p.ENCRYPTED_MEDIA_ERROR;this.reason=b;this.code=q[a];this.fatal=c;this.message=k(this.name,this.code,this.reason)}function c(a,b,c){this.name="IndexError";this.type=p.INDEX_ERROR;this.indexType=b;this.reason=null;this.code=q[a];this.fatal=c;this.message=k(this.name,this.code,null)}function b(a,b,c){this.name="OtherError";this.type=p.OTHER_ERROR;this.reason=
b;this.code=q[a];this.fatal=c;this.message=k(this.name,this.code,this.reason)}function m(a,b,c){this.name="RequestError";this.url=b.url;this.xhr=a;this.status=a.status;this.message=this.type=c}function n(a){return!!a&&!!a.type&&0<=p.keys.indexOf(a.type)}a.d(g,"a",function(){return p});a.d(g,"b",function(){return q});a.d(g,"d",function(){return h});a.d(g,"j",function(){return f});a.d(g,"c",function(){return d});a.d(g,"g",function(){return c});a.d(g,"f",function(){return b});a.d(g,"h",function(){return m});
a.d(g,"i",function(){return r});a.d(g,"e",function(){return n});var p=l(["NETWORK_ERROR","MEDIA_ERROR","ENCRYPTED_MEDIA_ERROR","INDEX_ERROR","OTHER_ERROR"]),r=l(["TIMEOUT","ERROR_EVENT","ERROR_HTTP_CODE","PARSE_ERROR"]),q=l("PIPELINE_RESOLVE_ERROR PIPELINE_LOAD_ERROR PIPELINE_PARSING_ERROR MANIFEST_PARSE_ERROR MANIFEST_INCOMPATIBLE_CODECS_ERROR MEDIA_IS_ENCRYPTED_ERROR KEY_ERROR KEY_STATUS_CHANGE_ERROR KEY_UPDATE_ERROR KEY_LOAD_ERROR KEY_LOAD_TIMEOUT KEY_GENERATE_REQUEST_ERROR INCOMPATIBLE_KEYSYSTEMS BUFFER_APPEND_ERROR BUFFER_FULL_ERROR BUFFER_TYPE_UNKNOWN MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_SOURCE_NOT_SUPPORTED MEDIA_KEYS_NOT_SUPPORTED OUT_OF_INDEX_ERROR UNKNOWN_INDEX".split(" "));
h.prototype=Error();f.prototype=Error();f.prototype.isHttpError=function(a){return this.reqType==r.ERROR_HTTP_CODE&&this.status==a};d.prototype=Error();c.prototype=Error();b.prototype=Error();m.prototype=Error()},function(e,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},k=a(0);e=a(2);var h=a(4),f=a(56),d=a(107),c=a(36),b=function(a){function b(b){a.call(this,
b);this.destination=b}l(b,a);return b}(e.Subscriber);g.SubjectSubscriber=b;a=function(a){function n(){a.call(this);this.observers=[];this.hasError=this.isStopped=this.closed=!1;this.thrownError=null}l(n,a);n.prototype[c.rxSubscriber]=function(){return new b(this)};n.prototype.lift=function(a){var b=new m(this,this);b.operator=a;return b};n.prototype.next=function(a){if(this.closed)throw new f.ObjectUnsubscribedError;if(!this.isStopped)for(var b=this.observers,c=b.length,b=b.slice(),d=0;d<c;d++)b[d].next(a)};
n.prototype.error=function(a){if(this.closed)throw new f.ObjectUnsubscribedError;this.hasError=!0;this.thrownError=a;this.isStopped=!0;for(var b=this.observers,c=b.length,b=b.slice(),d=0;d<c;d++)b[d].error(a);this.observers.length=0};n.prototype.complete=function(){if(this.closed)throw new f.ObjectUnsubscribedError;this.isStopped=!0;for(var a=this.observers,b=a.length,a=a.slice(),c=0;c<b;c++)a[c].complete();this.observers.length=0};n.prototype.unsubscribe=function(){this.closed=this.isStopped=!0;
this.observers=null};n.prototype._trySubscribe=function(b){if(this.closed)throw new f.ObjectUnsubscribedError;return a.prototype._trySubscribe.call(this,b)};n.prototype._subscribe=function(a){if(this.closed)throw new f.ObjectUnsubscribedError;if(this.hasError)return a.error(this.thrownError),h.Subscription.EMPTY;if(this.isStopped)return a.complete(),h.Subscription.EMPTY;this.observers.push(a);return new d.SubjectSubscription(this,a)};n.prototype.asObservable=function(){var a=new k.Observable;a.source=
this;return a};n.create=function(a,b){return new m(a,b)};return n}(k.Observable);g.Subject=a;var m=function(a){function b(b,c){a.call(this);this.destination=b;this.source=c}l(b,a);b.prototype.next=function(a){var b=this.destination;b&&b.next&&b.next(a)};b.prototype.error=function(a){var b=this.destination;b&&b.error&&this.destination.error(a)};b.prototype.complete=function(){var a=this.destination;a&&a.complete&&this.destination.complete()};b.prototype._subscribe=function(a){return this.source?this.source.subscribe(a):
h.Subscription.EMPTY};return b}(a);g.AnonymousSubject=m},function(e,g,a){var l=this&&this.__extends||function(a,h){function f(){this.constructor=a}for(var d in h)h.hasOwnProperty(d)&&(a[d]=h[d]);a.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)};e=function(a){function h(f){a.call(this);this.scheduler=f}l(h,a);h.create=function(a){return new h(a)};h.dispatch=function(a){a.subscriber.complete()};h.prototype._subscribe=function(a){var d=this.scheduler;if(d)return d.schedule(h.dispatch,
0,{subscriber:a});a.complete()};return h}(a(0).Observable);g.EmptyObservable=e},function(e,g,a){function l(a,b){return a.reduce(function(a,c){return a.concat((b||P).map(function(a){return a+c}))},[])}function k(a,b){return b.filter(function(b){var c;c=document.createElement(a.tagName);b="on"+b;b in c?c=!0:(c.setAttribute(b,"return;"),c="function"==typeof c[b]);return c})[0]}function h(b,c){var d=void 0;b=l(b,c);return function(c){return c instanceof Q?("undefined"==typeof d&&(d=k(c,b)||null),d?Y(c,
d):U()):a.i(E.a)(c,b)}}function f(a){return!!O&&O.isTypeSupported(a)}function d(){return M}function c(a){return"open"==a.readyState?G.Observable.of(null):ga(a).take(1)}function b(a){return a.readyState>=V?G.Observable.of(null):W(a).take(1)}function m(b){return b.readyState>=X?G.Observable.of(null):a.i(E.a)(b,"canplay").take(1)}function n(b,c){function d(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.errorCode&&(a={systemCode:a.systemCode,code:a.errorCode.code});this.name="KeySessionError";
this.mediaKeyError=a;this.message="MediaKeyError code:"+a.code+" and systemCode:"+a.systemCode}d.prototype=Error();return function(f,m){var h="function"==typeof c?c.call(this):this,n=ha(h),e=B(h).map(function(a){throw new d(h.error||a);});try{return b.call(this,f,m),a.i(N.merge)(n,e).take(1)}catch(ka){return G.Observable["throw"](ka)}}}function p(a,b){if(b instanceof ca)return b._setVideo(a);if(a.setMediaKeys)return a.setMediaKeys(b);if(null!==b){if(a.WebkitSetMediaKeys)return a.WebkitSetMediaKeys(b);
if(a.mozSetMediaKeys)return a.mozSetMediaKeys(b);if(a.msSetMediaKeys)return a.msSetMediaKeys(b)}}function r(a){v()||(a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}function q(){v()&&(C.exitFullscreen?C.exitFullscreen():C.msExitFullscreen?C.msExitFullscreen():C.mozCancelFullScreen?C.mozCancelFullScreen():C.webkitExitFullscreen&&
C.webkitExitFullscreen())}function v(){return!!(C.fullscreenElement||C.mozFullScreenElement||C.webkitFullscreenElement||C.msFullscreenElement)}function t(){var b=void 0;null!=C.hidden?b="":null!=C.mozHidden?b="moz":null!=C.msHidden?b="ms":null!=C.webkitHidden&&(b="webkit");var c=b?b+"Hidden":"hidden",b=b+"visibilitychange";return a.i(E.a)(C,b).map(function(){return C[c]})}function u(){return a.i(E.a)(I,"resize")}function w(a,b){var c,d=void 0;M?(c=a.textTracks.length,c=0<c?a.textTracks[c-1]:a.addTextTrack("subtitles"),
c.mode=b?c.HIDDEN:c.SHOWING):(d=document.createElement("track"),a.appendChild(d),c=d.track,d.kind="subtitles",c.mode=b?"hidden":"showing");return{track:c,trackElement:d}}function y(){return!M}function x(a){return L&&"timeupdate"===a.name&&a.range&&10<a.range.end-a.ts}function A(a){a.src="";a.removeAttribute("src")}a.d(g,"a",function(){return R});a.d(g,"m",function(){return O});a.d(g,"k",function(){return f});a.d(g,"n",function(){return c});a.d(g,"o",function(){return b});a.d(g,"p",function(){return m});
a.d(g,"h",function(){return Z});a.d(g,"i",function(){return aa});a.d(g,"j",function(){return la});a.d(g,"f",function(){return ma});a.d(g,"g",function(){return d});a.d(g,"c",function(){return v});a.d(g,"b",function(){return na});a.d(g,"e",function(){return r});a.d(g,"d",function(){return q});a.d(g,"v",function(){return u});a.d(g,"u",function(){return t});a.d(g,"r",function(){return w});a.d(g,"l",function(){return A});a.d(g,"s",function(){return y});a.d(g,"q",function(){return x});a.d(g,"t",function(){return M});
a(3);var z=a(27),D=a(10),J=a(1),G=a(0);a.n(G);var N=a(14);a.n(N);e=a(49);a.n(e);g=a(140);a.n(g);var F=a(48);a.n(F);var E=a(11),K=a(6),T=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),Y=e.FromEventObservable.create,U=g.NeverObservable.create,S=F.DeferObservable.create,C=document,I=window,P=["","webkit","moz",
"ms"],Q=I.HTMLElement,R=I.HTMLVideoElement,O=I.MediaSource||I.MozMediaSource||I.WebKitMediaSource||I.MSMediaSource,H=I.MediaKeys||I.MozMediaKeys||I.WebKitMediaKeys||I.MSMediaKeys,M="Microsoft Internet Explorer"==navigator.appName||"Netscape"==navigator.appName&&/(Trident|Edge)\//.test(navigator.userAgent),L=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),V=1,X=4,ca=function(){},aa=void 0;navigator.requestMediaKeySystemAccess&&(aa=function(b,c){return a.i(E.b)(navigator.requestMediaKeySystemAccess(b,
c))});var Z=function(){function a(b,c,d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._keyType=b;this._mediaKeys=c;this._configuration=d}a.prototype.createMediaKeys=function(){return G.Observable.of(this._mediaKeys)};a.prototype.getConfiguration=function(){return this._configuration};T(a,[{key:"keySystem",get:function(){return this._keyType}}]);return a}(),W=h(["loadedmetadata"]),ga=h(["sourceopen","webkitsourceopen"]);e=h(["encrypted","needkey"]);var ia=h(["keymessage",
"message"]),ha=h(["keyadded","ready"]),B=h(["keyerror","error"]);g=h(["keystatuseschange"]);var ma={onEncrypted:e,onKeyMessage:ia,onKeyStatusesChange:g,onKeyError:B};if(!aa&&R.prototype.webkitGenerateKeyRequest){var da=function(b,c){var d=this;z.a.call(this);this.sessionId="";this._vid=b;this._key=c;this._con=a.i(N.merge)(ia(b),ha(b),B(b)).subscribe(function(a){return d.trigger(a.type,a)})};da.prototype=Object.assign({generateRequest:function(a,b){this._vid.webkitGenerateKeyRequest(this._key,b)},
update:n(function(b,c){if(0<=this._key.indexOf("clearkey")){var d=JSON.parse(a.i(D.a)(b)),f=a.i(D.b)(atob(d.keys[0].k)),d=a.i(D.b)(atob(d.keys[0].kid));this._vid.webkitAddKey(this._key,f,d,c)}else this._vid.webkitAddKey(this._key,b,null,c);this.sessionId=c}),close:function(){this._con&&this._con.unsubscribe();this._vid=this._con=null}},z.a.prototype);ca=function(a){this.ks_=a};ca.prototype={_setVideo:function(a){this._vid=a},createSession:function(){return new da(this._vid,this.ks_)}};var oa=function(a){var b=
C.querySelector("video")||C.createElement("video");return b&&b.canPlayType?!!b.canPlayType("video/mp4",a):!1},aa=function(a,b){if(!oa(a))return G.Observable["throw"]();for(var c=0;c<b.length;c++){var d=b[c],f=d.videoCapabilities,m=d.audioCapabilities,h=d.initDataTypes,n=d.sessionTypes,e=d.distinctiveIdentifier,d=d.persistentState,k=!0;if(k=(k=(k=(k=k&&(!h||!!h.filter(function(a){return"cenc"===a})[0]))&&(!n||n.filter(function(a){return"temporary"===a}).length===n.length))&&"required"!==e)&&"required"!==
d)return c={videoCapabilities:f,audioCapabilities:m,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"not-allowed",sessionTypes:["temporary"]},G.Observable.of(new Z(a,new ca(a),c))}return G.Observable["throw"]()}}else if(H&&!aa){var ba=function(a){z.a.call(this);this.sessionId="";this._mk=a};ba.prototype=Object.assign({generateRequest:function(b,c){var d=this;this._ss=this._mk.memCreateSession("video/mp4",c);this._con=a.i(N.merge)(ia(this._ss),ha(this._ss),B(this._ss)).subscribe(function(a){return d.trigger(a.type,
a)})},update:n(function(b,c){a.i(J.a)(this._ss);this._ss.update(b,c);this.sessionId=c},function(){return this._ss}),close:function(){this._ss&&(this._ss.close(),this._ss=null);this._con&&(this._con.unsubscribe(),this._con=null)}},z.a.prototype);H.prototype.alwaysRenew=!0;H.prototype.memCreateSession=H.prototype.createSession;H.prototype.createSession=function(){return new ba(this)};aa=function(a,b){if(!H.isTypeSupported(a))return G.Observable["throw"]();for(var c=0;c<b.length;c++){var d=b[c],f=d.videoCapabilities,
m=d.audioCapabilities,h=d.initDataTypes,d=d.distinctiveIdentifier,n=!0;if(n=(n=n&&(!h||!!h.filter(function(a){return"cenc"===a})[0]))&&"required"!==d)return c={videoCapabilities:f,audioCapabilities:m,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"required",sessionTypes:["temporary","persistent-license"]},G.Observable.of(new Z(a,new H(a),c))}return G.Observable["throw"]()}}H||(e=function(){throw new K.d("MEDIA_KEYS_NOT_SUPPORTED",null,!0);},H={create:e,isTypeSupported:e});
var la=function(b,c){return S(function(){return a.i(E.b)(p(b,c))})};if(I.WebKitSourceBuffer&&!I.WebKitSourceBuffer.prototype.addEventListener){e=I.WebKitSourceBuffer.prototype;for(var ja in z.a.prototype)e[ja]=z.a.prototype[ja];e.__listeners=[];e.appendBuffer=function(a){if(this.updating)throw Error("updating");this.trigger("updatestart");this.updating=!0;try{this.append(a)}catch(fa){this.__emitUpdate("error",fa);return}this.__emitUpdate("update")};e.__emitUpdate=function(a,b){var c=this;setTimeout(function(){c.trigger(a,
b);c.updating=!1;c.trigger("updateend")},0)}}var na=h(["fullscreenchange","FullscreenChange"],P.concat("MS"))},function(e,g,a){function l(a){for(var b=a.length,c=new Uint8Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d)&255;return c}function k(a){return String.fromCharCode.apply(null,a)}function h(a){for(var b="",c=a.length,d=0;d<c;d+=2)b+=String.fromCharCode(a[d]);return b}function f(a){for(var b=a.length,c=new Uint8Array(b/2),d=0,f=0;d<b;d+=2,f++)c[f]=parseInt(a.substr(d,2),16)&255;return c}function d(a,
b){b||(b="");for(var c="",d=0;d<a.byteLength;d++)c+=(a[d]>>>4).toString(16),c+=(a[d]&15).toString(16),b.length&&d<a.byteLength-1&&(c+=b);return c}function c(){for(var a=arguments.length,b=-1,c=0,d;++b<a;)d=arguments[b],c+="number"===typeof d?d:d.length;for(var c=new Uint8Array(c),f=0,b=-1;++b<a;)d=arguments[b],"number"===typeof d?f+=d:0<d.length&&(c.set(d,f),f+=d.length);return c}function b(a,b){return(a[0+b]<<8)+(a[1+b]<<0)}function m(a,b){return 16777216*a[0+b]+65536*a[1+b]+256*a[2+b]+a[3+b]}function n(a,
b){return 4294967296*(16777216*a[0+b]+65536*a[1+b]+256*a[2+b]+a[3+b])+16777216*a[4+b]+65536*a[5+b]+256*a[6+b]+a[7+b]}function p(a){return new Uint8Array([a>>>8&255,a&255])}function r(a){return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255])}function q(a){var b=a%4294967296;a=(a-b)/4294967296;return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255,b>>>24&255,b>>>16&255,b>>>8&255,b&255])}function v(a,b){return(a[0+b]<<0)+(a[1+b]<<8)}function t(a,b){return a[0+b]+256*a[1+b]+65536*a[2+b]+
16777216*a[3+b]}function u(a){w.a.equal(a.length,16,"UUID length should be 16");var b=l(a);a=b[0];var c=b[1],f=b[2],m=b[3],h=b[4],n=b[5],e=b[6],k=b[7],p=b.subarray(8,10),b=b.subarray(10,16),g=new Uint8Array(16);g[0]=m;g[1]=f;g[2]=c;g[3]=a;g[4]=n;g[5]=h;g[6]=k;g[7]=e;g.set(p,8);g.set(b,10);return d(g)}a.d(g,"b",function(){return l});a.d(g,"a",function(){return k});a.d(g,"k",function(){return h});a.d(g,"j",function(){return f});a.d(g,"o",function(){return d});a.d(g,"h",function(){return c});a.d(g,"g",
function(){return b});a.d(g,"e",function(){return m});a.d(g,"f",function(){return n});a.d(g,"d",function(){return v});a.d(g,"c",function(){return t});a.d(g,"m",function(){return p});a.d(g,"i",function(){return r});a.d(g,"n",function(){return q});a.d(g,"l",function(){return u});var w=a(1)},function(e,g,a){function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function k(a,c){return Array.isArray(c)?b.merge.apply(null,c.map(function(b){return m(a,b)})):m(a,c)}function h(a){return a instanceof c.Observable?a:a&&"function"==typeof a.subscribe?new c.Observable(function(b){var c=a.subscribe(function(a){return b.next(a)},function(a){return b.error(a)},function(){return b.complete()});return function(){c&&c.dispose?c.dispose():c&&c.unsubscribe&&c.unsubscribe()}}):
a&&"function"==typeof a.then?n(a):c.Observable.of(a)}function f(a){return new p(a)}function d(a,b){try{return a(b)}catch(t){return c.Observable["throw"](t)}}a.d(g,"a",function(){return k});a.d(g,"e",function(){return f});a.d(g,"c",function(){return d});a.d(g,"b",function(){return h});a.d(g,"d",function(){return r});var c=a(0);a.n(c);var b=a(14);a.n(b);e=a(49);a.n(e);g=a(50);a.n(g);var m=e.FromEventObservable.create,n=g.PromiseObservable.create,p=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var d;d=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.value=c;return d}l(b,a);b.prototype._subscribe=function(a){a.next(this.value)};return b}(c.Observable),r=function(a){var b=!1;return function(){if(b)return c.Observable.empty();b=!0;return h(a.apply(void 0,arguments))["do"](null,function(){return b=!1},function(){return b=!1})}}},function(e,g,a){var l=this&&this.__extends||function(a,
h){function f(){this.constructor=a}for(var d in h)h.hasOwnProperty(d)&&(a[d]=h[d]);a.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)};e=function(a){function h(){a.apply(this,arguments)}l(h,a);h.prototype.notifyNext=function(a,d,c,b,m){this.destination.next(d)};h.prototype.notifyError=function(a,d){this.destination.error(a)};h.prototype.notifyComplete=function(a){this.destination.complete()};return h}(a(2).Subscriber);g.OuterSubscriber=e},function(e,g,a){var l=this&&this.__extends||
function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};e=a(0);var k=a(31),h=a(8),f=a(16);a=function(a){function c(b,c){a.call(this);this.array=b;this.scheduler=c;c||1!==b.length||(this._isScalar=!0,this.value=b[0])}l(c,a);c.create=function(a,d){return new c(a,d)};c.of=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];d=a[a.length-1];f.isScheduler(d)?a.pop():d=null;var n=
a.length;return 1<n?new c(a,d):1===n?new k.ScalarObservable(a[0],d):new h.EmptyObservable(d)};c.dispatch=function(a){var b=a.array,c=a.index,d=a.subscriber;c>=a.count?d.complete():(d.next(b[c]),d.closed||(a.index=c+1,this.schedule(a)))};c.prototype._subscribe=function(a){var b=this.array,d=b.length,f=this.scheduler;if(f)return f.schedule(c.dispatch,0,{array:b,index:0,count:d,subscriber:a});for(f=0;f<d&&!a.closed;f++)a.next(b[f]);a.complete()};return c}(e.Observable);g.ArrayObservable=a},function(e,
g,a){e=a(156);g.merge=e.mergeStatic},function(e,g,a){var l=a(5),k=a(58),h=a(62),f=a(61),d=a(0),c=a(34),b=a(104),m=a(35);g.subscribeToResult=function(a,e,g,q){var n=new b.InnerSubscriber(a,g,q);if(n.closed)return null;if(e instanceof d.Observable)if(e._isScalar)n.next(e.value),n.complete();else return e.subscribe(n);else if(k.isArrayLike(e)){a=0;for(g=e.length;a<g&&!n.closed;a++)n.next(e[a]);n.closed||n.complete()}else{if(h.isPromise(e))return e.then(function(a){n.closed||(n.next(a),n.complete())},
function(a){return n.error(a)}).then(null,function(a){l.root.setTimeout(function(){throw a;})}),n;if(e&&"function"===typeof e[c.iterator]){e=e[c.iterator]();do{a=e.next();if(a.done){n.complete();break}n.next(a.value);if(n.closed)break}while(1)}else if(e&&"function"===typeof e[m.observable])if(e=e[m.observable](),"function"!==typeof e.subscribe)n.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return e.subscribe(new b.InnerSubscriber(a,g,q));else e=f.isObject(e)?
"an invalid object":"'"+e+"'",n.error(new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}return null}},function(e,g,a){g.isScheduler=function(a){return a&&"function"===typeof a.schedule}},function(e,g,a){function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function k(a){for(var b=a.length,c=[],d=0;d<b;d++)c.push(new r(a.start(d),a.end(d),0));return c}function h(a){for(var b=a.length,
c=[],d=0;d<b;d++)c.push(a[d].clone());return c}function f(a,b){return a.start<=b&&b<a.end}function d(a,b){for(var d=0;d<b.length;d++)if(c(a,b[d]))return b[d];return null}function c(a,b){return f(a,b.start)||f(a,b.end)||f(b,a.start)}function b(a,b){return f(a,b.start)&&f(a,b.end)}function m(a){for(var b=1;b<a.length;b++){var c=a[b-1],d=a[b];c.bitrate===d.bitrate&&(Math.abs(d.start-c.end)<p||Math.abs(d.end-c.start)<p)&&(c=new r(Math.min(c.start,d.start),Math.max(c.end,d.end),d.bitrate),a.splice(--b,
2,c))}return a}function n(a){a=h(a);for(var b=0;b<a.length;b++)a[b].bitrate=0;return m(a)}a.d(g,"b",function(){return k});a.d(g,"a",function(){return q});a(1);var p=1/60,r=function(){function a(b,c,d){l(this,a);this.start=b;this.end=c;this.bitrate=d}a.prototype.isNil=function(){return this.start===this.end};a.prototype.clone=function(){return new a(this.start,this.end,this.bitrate)};return a}(),q=function(){function a(b){l(this,a);this.ranges=b=b?Array.isArray(b)?h(b):k(b):[];this.length=b.length}
a.prototype.start=function(a){return this.ranges[a].start};a.prototype.end=function(a){return this.ranges[a].end};a.prototype.hasRange=function(a,b){for(var c=a+b,d=0;d<this.ranges.length;d++){var f=this.ranges[d],m=f.start,f=f.end;if(m-a<=p&&a-f<=p&&m-c<=p&&c-f<=p)return this.ranges[d]}return null};a.prototype.getRange=function(a){for(var b=0;b<this.ranges.length;b++)if(f(this.ranges[b],a))return this.ranges[b];return null};a.prototype.getOuterRanges=function(a){for(var b=[],c=0;c<this.ranges.length;c++)f(this.ranges[c],
a)||b.push(this.ranges[c]);return b};a.prototype.getGap=function(a){var b=this.getRange(a);return b?b.end-a:Infinity};a.prototype.getLoaded=function(a){var b=this.getRange(a);return b?a-b.start:0};a.prototype.getSize=function(a){return(a=this.getRange(a))?a.end-a.start:0};a.prototype.getNextRangeGap=function(a){for(var b=this.ranges,c=-1,d=void 0;++c<b.length;){var f=b[c].start;if(f>a){d=f;break}}return null!=d?d-a:Infinity};a.prototype.insert=function(a,d,f){var h=this.ranges;a=new r(d,f,a);if(!a.isNil()){for(d=
0;d<h.length;d++){f=h[d];var n=c(a,f),e=Math.abs(f.start-a.end)<p||Math.abs(f.end-a.start)<p;if(n||e)if(a.bitrate===f.bitrate)a=new r(Math.min(a.start,f.start),Math.max(a.end,f.end),f.bitrate),h.splice(d--,1);else if(n)if(b(f,a))h.splice(++d,0,a),n=f.end,f.end=a.start,a=new r(a.end,n,f.bitrate);else if(b(a,f))h.splice(d--,1);else if(f.start<a.start)f.end=a.start;else{f.start=a.end;break}else break;else if(0===d){if(a.end<=h[0].start)break}else if(h[d-1].end<=a.start&&a.end<=f.start)break}h.splice(d,
0,a);for(a=0;a<h.length;a++)h[a].isNil()&&h.splice(a++,1);m(h)}this.length=this.ranges.length;return this.ranges};a.prototype.remove=function(b,c){this.intersect(new a([new r(0,b,0),new r(c,Infinity,0)]))};a.prototype.equals=function(a){a:{var b=a.ranges;a=n(this.ranges);for(var b=n(b),c=0;c<a.length;c++){var f=a[c],m=d(f,b);if(!(m&&Math.abs(m.start-f.start)<p&&Math.abs(m.end-f.end)<p)){a=!1;break a}}a=!0}return a};a.prototype.intersect=function(a){var b=this.ranges;a=a.ranges;for(var c=0;c<b.length;c++){var f=
b[c],m=d(f,a);m?(m.start>f.start&&(f.start=m.start),m.end<f.end&&(f.end=m.end)):b.splice(c--,1)}this.length=this.ranges.length;return this.ranges};return a}()},function(e,g,a){a.d(g,"e",function(){return k});a.d(g,"d",function(){return h});a.d(g,"a",function(){return f});a.d(g,"b",function(){return d});a.d(g,"c",function(){return c});a(1);var l=a(22),k=function(a,c,d){var b=a.presentationTimeOffset||0;a=a.timescale||1;return{up:c*a-b,to:(c+d)*a-b}},h=function(a){var b=a.ts,c=a.d;a=a.r;return-1===
c?b:b+(a+1)*c},f=function(a,c){var b=c.initialization,b=void 0===b?{}:b;return new l.a({id:""+a+"_init",init:!0,range:b.range||null,indexRange:c.indexRange||null,media:b.media,timescale:c.timescale})},d=function(a,c){a.timescale!==c&&(a.timescale=c);return a},c=function(a,c){return c/a.timescale}},function(e,g,a){function l(a){if(null!=a){var b;"string"===typeof a?(b=a,a=!1):(b=f(a.language),a=!!a.closedCaption);return{language:b,closedCaption:a}}}function k(a){if(null!=a){var b;"string"===typeof a?
(b=a,a=!1):(b=f(a.language),a=!!a.audioDescription);return{language:b,audioDescription:a}}}function h(a,m){if(!m)return-1;m=f(m);for(var h=c;h<=b;h++)for(var n=0;n<a.length;n++){var e;e=f(a[n]);var k=m,g=h;if(e===k)e=!0;else{var p=e.split("-")[0],k=k.split("-")[0];e=g>=d.BASE_LANG_MATCH&&e===k?!0:g>=d.OTHER_SUBLANG_MATCH&&p===k?!0:!1}if(e)return n}return-1}function f(a){if(null==a||""===a)return"";a=(""+a).toLowerCase().split("-");var b=a[0],c=void 0;2===b.length?c=m[b]:3===b.length&&(c=n[b]);(b=
c||b)&&(a[0]=b);return a.join("-")}a.d(g,"c",function(){return f});a.d(g,"a",function(){return k});a.d(g,"b",function(){return l});a.d(g,"d",function(){return h});var d={PERFECT_MATCH:0,BASE_LANG_MATCH:1,OTHER_SUBLANG_MATCH:2},c=d.PERFECT_MATCH,b=d.OTHER_SUBLANG_MATCH,m={aa:"aar",ab:"abk",ae:"ave",af:"afr",ak:"aka",am:"amh",an:"arg",ar:"ara",as:"asm",av:"ava",ay:"aym",az:"aze",ba:"bak",be:"bel",bg:"bul",bh:"bih",bi:"bis",bm:"bam",bn:"ben",bo:"bod",br:"bre",bs:"bos",ca:"cat",ce:"che",ch:"cha",co:"cos",
cr:"cre",cs:"ces",cu:"chu",cv:"chv",cy:"cym",da:"dan",de:"deu",dv:"div",dz:"dzo",ee:"ewe",el:"ell",en:"eng",eo:"epo",es:"spa",et:"est",eu:"baq",fa:"fas",ff:"ful",fi:"fin",fj:"fij",fo:"fao",fr:"fre",fy:"fry",ga:"gle",gd:"gla",gl:"glg",gn:"grn",gu:"guj",gv:"glv",ha:"hau",he:"heb",hi:"hin",ho:"hmo",hr:"hrv",ht:"hat",hu:"hun",hy:"arm",hz:"her",ia:"ina",id:"ind",ie:"ile",ig:"ibo",ii:"iii",ik:"ipk",io:"ido",is:"ice",it:"ita",iu:"iku",ja:"jpn",jv:"jav",ka:"geo",kg:"kon",ki:"kik",kj:"kua",kk:"kaz",kl:"kal",
km:"khm",kn:"kan",ko:"kor",kr:"kau",ks:"kas",ku:"kur",kv:"kom",kw:"cor",ky:"kir",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",lu:"lub",lv:"lav",mg:"mlg",mh:"mah",mi:"mao",mk:"mac",ml:"mal",mn:"mon",mr:"mar",ms:"may",mt:"mlt",my:"bur",na:"nau",nb:"nob",nd:"nde",ne:"nep",ng:"ndo",nl:"dut",nn:"nno",no:"nor",nr:"nbl",nv:"nav",ny:"nya",oc:"oci",oj:"oji",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",pl:"pol",ps:"pus",pt:"por",qu:"que",rm:"roh",rn:"run",ro:"ron",ru:"rus",rw:"kin",sa:"san",
sc:"srd",sd:"snd",se:"sme",sg:"sag",si:"sin",sk:"slk",sl:"slv",sm:"smo",sn:"sna",so:"som",sq:"alb",sr:"srp",ss:"ssw",st:"sot",su:"sun",sv:"swe",sw:"swa",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",ts:"tso",tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",wo:"wol",xh:"xho",yi:"yid",yo:"yor",za:"zha",zh:"chi",zu:"zul"},n={tib:"bod",cze:"ces",wel:"cym",ger:"deu",gre:"ell",eus:"baq",per:"fas",fra:"fre",hye:"arm",
isl:"ice",kat:"geo",mri:"mao",mkd:"mac",msa:"may",mya:"bur",nld:"dut",rum:"ron",slo:"slk",sqi:"alb",zho:"chi"}},function(e,g,a){var l=a(16),k=a(21),h=a(13),f=a(145);g.combineLatest=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];var b=c=null;l.isScheduler(a[a.length-1])&&(b=a.pop());"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&k.isArray(a[0])&&(a=a[0]);return(new h.ArrayObservable(a,b)).lift(new f.CombineLatestOperator(c))}},function(e,g,a){g.isArray=Array.isArray||
function(a){return a&&"number"===typeof a.length}},function(e,g,a){g.a=function k(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");this.id=a.id;this.duration=a.duration;this.isInit=!!a.init;this.range=a.range;this.time=a.time;this.indexRange=a.indexRange;this.number=a.number;this.timescale=null==a.timescale?1:a.timescale;this.media=a.media}},function(e,g,a){function l(){for(var a=arguments.length,c=Array(a),
b=0;b<a;b++)c[b]=arguments[b];a=c.length;if(0===a)return"";for(var b="",m=0;m<a;m++){var n=c[m];"string"===typeof n&&""!==n&&(h.test(n)?b=n:("/"===n[0]&&(n=n.substr(1)),"/"===b[b.length-1]&&(b=b.substr(0,b.length-1)),b=b+"/"+n))}a=b;if(f.test(a)){c=[];a=a.split("/");b=0;for(m=a.length;b<m;b++)".."==a[b]?c.pop():"."!=a[b]&&c.push(a[b]);c=c.join("/")}else c=a;return c}function k(a){var c=a.lastIndexOf("/");return 0<=c?a.substring(0,c+1):a}a.d(g,"b",function(){return l});a.d(g,"a",function(){return k});
var h=/^(?:[a-z]+:)?\/\//i,f=/\/\.{1,2}\//},function(e,g,a){e=a(54);a=a(55);g.async=new a.AsyncScheduler(e.AsyncAction)},function(e,g,a){g.errorObject={e:{}}},function(e,g,a){var l=a(22),k=a(18),h=function(a,d){for(var c=a.timeline,b=0,f=c.length;b<f;){var h=b+f>>>1;c[h].ts<d?b=h+1:f=h}return 0<b?b-1:b};g.a={getInitSegment:k.a,setTimescale:k.b,scale:k.c,getSegments:function(f,d,c,b){b=a.i(k.e)(d,c,b);c=b.up;b=b.to;var m=d.timeline,e=d.timescale,g=d.media,r=[],q=m.length;d=h(d,c)-1;var v=m.length&&
m[0].d||0;a:for(;!(++d>=q);){var t=m[d],u=t.d,w=t.ts,y=t.range,v=Math.max(v,u);if(0>u){w+v<b&&r.push(new l.a({id:""+f+"_"+w,time:w,init:!1,range:y,duration:void 0,indexRange:null,timescale:e,media:g}));break}var x=m[d+1],A=t.r||0;0>A&&(A=Math.ceil(((x?x.t:Infinity)-t.ts)/t.d)-1);t=A;x=c-w;x=0<x?Math.floor(x/u):0;for(;(A=w+x*u)<b;)if(x++<=t)r.push(new l.a({id:""+f+"_"+A,time:A,init:!1,range:y,duration:u,indexRange:null,timescale:e,media:g}));else continue a;break}return r},shouldRefresh:function(f,
d,c,b){c=f.timeline;d=f.timescale;f=f.presentationTimeOffset;c=c[c.length-1];if(!c)return!1;0>c.d&&(c={ts:c.ts,d:0,r:c.r});return!(b*d-(void 0===f?0:f)<=a.i(k.d)(c))},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(f){if(f.timeline.length){var d=f.timeline[f.timeline.length-1];return a.i(k.d)(d)/f.timescale}},checkDiscontinuity:function(f,d){var c=f.timeline,b=f.timescale,b=void 0===b?1:b,m=d*b;if(0>=m)return-1;var e=h(f,m);if(0>e||e>=
c.length-1)return-1;var g=c[e];if(-1===g.d)return-1;var l=g.ts,g=a.i(k.d)(g),c=c[e+1];return g!==c.ts&&m>=l&&m<=g&&g-m<b?c.ts/b:-1},_addSegmentInfos:function(f,d,c){var b=f.timeline,m=b.length,h=b[m-1];if(c&&d.ts===c.ts){d=d.ts+d.d;c=d-(h.ts+h.d*h.r);if(0>=c)return!1;-1===h.d&&((m=b[m-2])&&m.d===c?(m.r++,b.pop()):h.d=c);f.timeline.push({d:-1,ts:d,r:0});return!0}return d.ts>=a.i(k.d)(h)?(h.d===d.d?h.r++:f.timeline.push({d:d.d,ts:d.ts,r:0}),!0):!1}}},function(e,g,a){function l(){this.__listeners={}}
var k=a(1);l.prototype.addEventListener=function(h,f){a.i(k.a)("function"==typeof f,"eventemitter: second argument should be a function");this.__listeners[h]||(this.__listeners[h]=[]);this.__listeners[h].push(f)};l.prototype.removeEventListener=function(a,f){if(0===arguments.length)this.__listeners={};else if(this.__listeners.hasOwnProperty(a))if(1===arguments.length)delete this.__listeners[a];else{var d=this.__listeners[a],c=d.indexOf(f);~c&&d.splice(c,1);d.length||delete this.__listeners[a]}};l.prototype.trigger=
function(a,f){this.__listeners.hasOwnProperty(a)&&this.__listeners[a].slice().forEach(function(a){try{a(f)}catch(c){console.error(c,c.stack)}})};l.prototype.on=l.prototype.addEventListener;l.prototype.off=l.prototype.removeEventListener;g.a=l},function(e,g,a){var l=0;g.a=function(){var a=0;l<Number.MAX_VALUE&&(a=l+1);l=a;return""+a}},function(e,g,a){function l(a,b){var c=0;return function(){c&&clearTimeout(c);c=setTimeout(a,b)}}function k(c,b){var h=b.retryDelay,e=b.totalRetry,k=b.shouldRetry,g=b.resetDelay,
q=b.errorSelector,v=b.onRetry,t=0,u=void 0;0<g&&(u=l(function(){return t=0},g));return c["catch"](function(b,c){if(k&&!k(b)||t++>=e){if(q)throw q(b,t);throw b;}v&&v(b,t);var m=a.i(f.a)(h,t);return d(m).mergeMap(function(){u&&u();return c})})}function h(c,b){var h=b.retryDelay,e=b.totalRetry,k=b.shouldRetry,g=b.resetDelay,q=b.errorSelector,v=b.onRetry,t=0,u=void 0;0<g&&(u=l(function(){return t=0},g));return function y(){for(var b=arguments.length,m=Array(b),n=0;n<b;n++)m[n]=arguments[n];return c.apply(void 0,
m)["catch"](function(b){if(k&&!k(b)||t++>=e){if(q)throw q(b,t);throw b;}v&&v(b,t);b=a.i(f.a)(h,t);return d(b).mergeMap(function(){u&&u();return y.apply(void 0,m)})})}}a.d(g,"a",function(){return k});a.d(g,"b",function(){return h});var f=a(99);e=a(51);a.n(e);var d=e.TimerObservable.create},function(e,g,a){var l=this&&this.__extends||function(a,f){function d(){this.constructor=a}for(var c in f)f.hasOwnProperty(c)&&(a[c]=f[c]);a.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)};e=
a(7);var k=a(56);a=function(a){function f(d){a.call(this);this._value=d}l(f,a);Object.defineProperty(f.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0});f.prototype._subscribe=function(d){var c=a.prototype._subscribe.call(this,d);c&&!c.closed&&d.next(this._value);return c};f.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new k.ObjectUnsubscribedError;return this._value};f.prototype.next=function(d){a.prototype.next.call(this,
this._value=d)};return f}(e.Subject);g.BehaviorSubject=a},function(e,g,a){var l=this&&this.__extends||function(a,h){function f(){this.constructor=a}for(var d in h)h.hasOwnProperty(d)&&(a[d]=h[d]);a.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)};e=function(a){function h(f,d){a.call(this);this.value=f;this.scheduler=d;this._isScalar=!0;d&&(this._isScalar=!1)}l(h,a);h.create=function(a,d){return new h(a,d)};h.dispatch=function(a){var d=a.value,c=a.subscriber;a.done?c.complete():
(c.next(d),c.closed||(a.done=!0,this.schedule(a)))};h.prototype._subscribe=function(a){var d=this.value,c=this.scheduler;if(c)return c.schedule(h.dispatch,0,{done:!1,value:d,subscriber:a});a.next(d);a.closed||a.complete()};return h}(a(0).Observable);g.ScalarObservable=e},function(e,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};e=a(12);var k=a(15);
g.mergeAll=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return this.lift(new h(a))};var h=function(){function a(a){this.concurrent=a}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.concurrent))};return a}();g.MergeAllOperator=h;var f=function(a){function c(b,c){a.call(this,b);this.concurrent=c;this.hasCompleted=!1;this.buffer=[];this.active=0}l(c,a);c.prototype._next=function(a){this.active<this.concurrent?(this.active++,this.add(k.subscribeToResult(this,a))):this.buffer.push(a)};
c.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};c.prototype.notifyComplete=function(a){var b=this.buffer;this.remove(a);this.active--;0<b.length?this._next(b.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return c}(e.OuterSubscriber);g.MergeAllSubscriber=f},function(e,g,a){var l=a(135);g.multicast=function(a,f){var d;d="function"===typeof a?a:function(){return a};if("function"===typeof f)return this.lift(new k(d,
f));var c=Object.create(this,l.connectableObservableDescriptor);c.source=this;c.subjectFactory=d;return c};var k=function(){function a(a,d){this.subjectFactory=a;this.selector=d}a.prototype.call=function(a,d){var c=this.selector,b=this.subjectFactory(),c=c(b).subscribe(a);c.add(d.subscribe(b));return c};return a}();g.MulticastOperator=k},function(e,g,a){function l(a){var h=a.Symbol;if("function"===typeof h)return h.iterator||(h.iterator=h("iterator polyfill")),h.iterator;if((h=a.Set)&&"function"===
typeof(new h)["@@iterator"])return"@@iterator";if(a=a.Map)for(var h=Object.getOwnPropertyNames(a.prototype),f=0;f<h.length;++f){var d=h[f];if("entries"!==d&&"size"!==d&&a.prototype[d]===a.prototype.entries)return d}return"@@iterator"}e=a(5);g.symbolIteratorPonyfill=l;g.iterator=l(e.root);g.$$iterator=g.iterator},function(e,g,a){function l(a){var h=a.Symbol;"function"===typeof h?h.observable?a=h.observable:(a=h("observable"),h.observable=a):a="@@observable";return a}e=a(5);g.getSymbolObservable=l;
g.observable=l(e.root);g.$$observable=g.observable},function(e,g,a){e=a(5).root.Symbol;g.rxSubscriber="function"===typeof e&&"function"===typeof e["for"]?e["for"]("rxSubscriber"):"@@rxSubscriber";g.$$rxSubscriber=g.rxSubscriber},function(e,g,a){g.isFunction=function(a){return"function"===typeof a}},function(e,g,a){function l(){try{return h.apply(this,arguments)}catch(f){return k.errorObject.e=f,k.errorObject}}var k=a(25),h;g.tryCatch=function(a){h=a;return l}},function(e,g,a){function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function f(a){if("number"==typeof a)return a;
for(var b=0,c,d=0;d<a.length;d++)c=a[d],b=(b<<5)-b+c,b&=b;return b}function d(a,b,c){return{type:"eme",value:Object.assign({name:a,session:b},c)}}function c(b){if(!V||!M||a.i(E.g)())return null;var c=L;return(b=b.filter(function(a){return a.type!==V.type||a.persistentLicense&&"required"!=c.persistentState||a.distinctiveIdentifierRequired&&"required"!=c.distinctiveIdentifier?!1:!0})[0])?{keySystem:b,keySystemAccess:new E.h(V,M,L)}:null}function b(a){var b=["temporary"],c="optional",d="optional";a.persistentLicense&&
(c="required",b.push("persistent-license"));a.persistentStateRequired&&(c="required");a.distinctiveIdentifierRequired&&(d="required");var f=[],m=[];Q.forEach(function(a){f.push({contentType:'video/mp4;codecs="avc1.4d401e"',robustness:a});m.push({contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:a})});return{initDataTypes:["cenc"],videoCapabilities:f,audioCapabilities:m,distinctiveIdentifier:d,persistentState:c,sessionTypes:b}}function m(d){var f=c(d);if(f)return x.a.debug("eme: found compatible keySystem quickly",
f),J.Observable.of(f);var m=d.reduce(function(a,b){return a.concat((P[b.type]||[]).map(function(a){return{keyType:a,keySystem:b}}))},[]);return J.Observable.create(function(c){function d(e){if(!f)if(e>=m.length)c.error(new K.c("INCOMPATIBLE_KEYSYSTEMS",null,!0));else{var n=m[e],k=n.keyType,g=n.keySystem,p=[b(g)];x.a.debug("eme: request keysystem access "+k+","+(e+1+" of "+m.length),p);h=a.i(E.i)(k,p).subscribe(function(a){x.a.info("eme: found compatible keysystem",k,p);c.next({keySystem:g,keySystemAccess:a});
c.complete()},function(){x.a.debug("eme: rejected access to keysystem",k,p);h=null;d(e+1)})}}var f=!1,h=null;d(0);return function(){f=!0;h&&h.unsubscribe()}})}function n(b,c,d){var f=X,m=M;return a.i(z.b)(d.createMediaKeys()).mergeMap(function(h){M=h;L=d.getConfiguration();V=c;X=b;if(b.mediaKeys===h)return J.Observable.of(h);m&&m!==M&&H.dispose();var e;f&&f!==X?(x.a.debug("eme: unlink old video element and set mediakeys"),e=a.i(E.j)(f,null).concat(a.i(E.j)(X,h))):(x.a.debug("eme: set mediakeys"),
e=a.i(E.j)(X,h));return e.mapTo(h)})}function p(a,b,c,d,f){x.a.debug("eme: create a new "+b+" session");var m=a.createSession(b);a=t(m,c,f)["finally"](function(){H.deleteAndClose(m);O["delete"](d)}).publish();return{session:m,sessionEvents:a}}function r(b,c,f,m,h,e){b=p(b,f,c,h,e);var n=b.session;b=b.sessionEvents;H.add(h,n,b);x.a.debug("eme: generate request",m,h);m=a.i(z.b)(n.generateRequest(m,h))["catch"](function(a){throw new K.c("KEY_GENERATE_REQUEST_ERROR",a,!1);})["do"](function(){"persistent-license"==
f&&O.add(h,n)}).mapTo(d("generated-request",n,{initData:h,initDataType:m}));return a.i(N.merge)(b,m)}function q(a,b,c,d,f,m){return r(a,b,c,d,f,m)["catch"](function(h){if(h.code!==K.b.KEY_GENERATE_REQUEST_ERROR)throw h;var e=H.getFirst();if(!e)throw h;x.a.warn("eme: could not create a new session, retry after closing a currently loaded session",h);return H.deleteAndClose(e).mergeMap(function(){return r(a,b,c,d,f,m)})})}function v(b,c,f,m,h,e){x.a.debug("eme: load persisted session",f);var n=p(b,"persistent-license",
c,h,e),k=n.session,g=n.sessionEvents;return a.i(z.b)(k.load(f))["catch"](function(){return J.Observable.of(!1)}).mergeMap(function(a){if(a)return H.add(h,k,g),O.add(h,k),g.startWith(d("loaded-session",k,{storedSessionId:f}));x.a.warn("eme: no data stored for the loaded session, do fallback",f);H.deleteById(f);O["delete"](h);k.sessionId&&k.remove();return q(b,c,"persistent-license",m,h,e).startWith(d("loaded-session-failed",k,{storedSessionId:f}))})}function t(b,c,f){function h(a,b){return a.type===
K.a.ENCRYPTED_MEDIA_ERROR?(a.fatal=b,a):new K.c("KEY_LOAD_ERROR",a,b)}x.a.debug("eme: handle message events",b);var m=void 0,e={totalRetry:2,retryDelay:200,errorSelector:function(a){return h(a,!0)},onRetry:function(a){return f.next(h(a,!1))}},n=U(b).map(function(a){throw new K.c("KEY_ERROR",a,!0);}),k=S(b).mergeMap(function(d){m=d.sessionId;x.a.debug("eme: keystatuseschange event",m,b,d);b.keyStatuses.forEach(function(a,b){if(R[b]||R[a])throw new K.c("KEY_STATUS_CHANGE_ERROR",b,!0);});return c.onKeyStatusesChange?
a.i(z.c)(function(){return a.i(z.b)(c.onKeyStatusesChange(d,b))})["catch"](function(a){throw new K.c("KEY_STATUS_CHANGE_ERROR",a,!0);}):(x.a.info("eme: keystatuseschange event not handled"),C())}),g=Y(b).mergeMap(function(d){m=d.sessionId;var f=new Uint8Array(d.message),h=d.messageType||"license-request";x.a.debug("eme: event message type "+h,b,d);d=I(function(){return a.i(z.b)(c.getLicense(f,h)).timeout(1E4)["catch"](function(a){if(a instanceof F.TimeoutError)throw new K.c("KEY_LOAD_TIMEOUT",null,
!1);throw a;})});return a.i(D.a)(d,e)}),k=a.i(N.merge)(g,k).concatMap(function(c){x.a.debug("eme: update session",m,c);return a.i(z.b)(b.update(c,m))["catch"](function(a){throw new K.c("KEY_UPDATE_ERROR",a,!0);}).mapTo(d("session-update",b,{updatedWith:c}))}),n=a.i(N.merge)(k,n);return b.closed?n.takeUntil(a.i(z.b)(b.closed)):n}function u(b,c,f){function h(a,c){var h=c.keySystem,m=c.keySystemAccess;h.persistentLicense&&O.setStorage(h.licenseStorage);x.a.info("eme: encrypted event",a);return n(b,h,
m).mergeMap(function(b){a:{var c=m.getConfiguration(),e=a.initDataType,n=new Uint8Array(a.initData),k=H.get(n);if(k&&k.sessionId)x.a.debug("eme: reuse loaded session",k.sessionId),b=J.Observable.of(d("reuse-session",k));else{c=(k=(c=c.sessionTypes)&&0<=c.indexOf("persistent-license"))&&h.persistentLicense?"persistent-license":"temporary";if(k&&h.persistentLicense&&(k=O.get(n))){b=v(b,h,k.sessionId,e,n,f);break a}b=q(b,h,c,e,n,f)}}return b})}return a.i(G.combineLatest)(T(b),m(c)).take(1).mergeMap(function(a){return h(a[0],
a[1])})}function w(){return V&&V.type}function y(){X&&a.i(E.j)(X,null).subscribe(function(){});X=V=M=null;H.dispose()}a.d(g,"c",function(){return u});a.d(g,"b",function(){return w});a.d(g,"d",function(){return T});a.d(g,"a",function(){return y});var x=a(3),A=a(1),z=a(11),D=a(29),J=a(0);a.n(J);e=a(8);a.n(e);g=a(48);a.n(g);var G=a(20);a.n(G);var N=a(14);a.n(N);var F=a(57);a.n(F);var E=a(9),K=a(6),T=E.f.onEncrypted,Y=E.f.onKeyMessage,U=E.f.onKeyError,S=E.f.onKeyStatusesChange,C=e.EmptyObservable.create,
I=g.DeferObservable.create,P={clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.chromecast.playready","com.youtube.playready"]},Q=["HW_SECURE_ALL","HW_SECURE_DECODE","HW_SECURE_CRYPTO","SW_SECURE_DECODE","SW_SECURE_CRYPTO"],R={expired:!0,"internal-error":!0};e=function(){function a(){h(this,a);this._entries=[]}a.prototype.find=function(a){for(var b=0;b<this._entries.length;b++)if(!0===a(this._entries[b]))return this._entries[b];
return null};return a}();g=function(b){function c(){h(this,c);return l(this,b.apply(this,arguments))}k(c,b);c.prototype.getFirst=function(){if(0<this._entries.length)return this._entries[0].session};c.prototype.find=function(a){for(var b=0;b<this._entries.length;b++)if(!0===a(this._entries[b]))return this._entries[b];return null};c.prototype.get=function(a){a=f(a);var b=this.find(function(b){return b.initData===a});return b?b.session:null};c.prototype.add=function(a,b,c){a=f(a);var d=this.get(a);
d&&this.deleteAndClose(d);c=c.connect();a={session:b,initData:a,eventSubscription:c};x.a.debug("eme-mem-store: add session",a);this._entries.push(a)};c.prototype.deleteById=function(a){var b=this.find(function(b){return b.session.sessionId===a});return b?this["delete"](b.session):null};c.prototype["delete"]=function(a){var b=this.find(function(b){return b.session===a});if(!b)return null;var c=b.session,d=b.eventSubscription;x.a.debug("eme-mem-store: delete session",b);b=this._entries.indexOf(b);this._entries.splice(b,
1);d.unsubscribe();return c};c.prototype.deleteAndClose=function(b){return(b=this["delete"](b))?(x.a.debug("eme-mem-store: close session",b),a.i(z.b)(b.close())["catch"](function(){return J.Observable.of(null)})):J.Observable.of(null)};c.prototype.dispose=function(){var a=this,b=this._entries.map(function(b){return a.deleteAndClose(b.session)});this._entries=[];return N.merge.apply(null,b)};return c}(e);var O=new (function(b){function c(a){h(this,c);var d=l(this,b.call(this));d.setStorage(a);return d}
k(c,b);c.prototype.setStorage=function(b){if(this._storage!==b){a.i(A.a)(b,"no licenseStorage given for keySystem with persistentLicense");A.a.iface(b,"licenseStorage",{save:"function",load:"function"});this._storage=b;try{this._entries=this._storage.load(),a.i(A.a)(Array.isArray(this._entries))}catch(W){x.a.warn("eme-persitent-store: could not get entries from license storage",W),this.dispose()}}};c.prototype.get=function(a){a=f(a);return this.find(function(b){return b.initData===a})||null};c.prototype.add=
function(a,b){var c=b&&b.sessionId;if(c){a=f(a);var d=this.get(a);d&&d.sessionId===c||(d&&this["delete"](a),x.a.info("eme-persitent-store: add new session",c,b),this._entries.push({sessionId:c,initData:a}),this._save())}};c.prototype["delete"]=function(a){a=f(a);var b=this.find(function(b){return b.initData===a});b&&(x.a.warn("eme-persitent-store: delete session from store",b),b=this._entries.indexOf(b),this._entries.splice(b,1),this._save())};c.prototype.dispose=function(){this._entries=[];this._save()};
c.prototype._save=function(){try{this._storage.save(this._entries)}catch(Z){x.a.warn("eme-persitent-store: could not save licenses in localStorage")}};return c}(e))({load:function(){return[]},save:function(){}}),H=new g,M=void 0,L=void 0,V=void 0,X=void 0},function(e,g,a){function l(b){var c=a.i(v.a)(b.locations[0]);(b=b.periods[0])&&b.baseURL&&(c+=""+b.baseURL);return c}function k(a,f,m,e){if(!f.transportType)throw new u.d("MANIFEST_PARSE_ERROR",null,!0);f.id=f.id||z++;f.type=f.type||"static";var n=
f.locations;n&&n.length||(f.locations=[a]);f.isLive="dynamic"==f.type;var k={rootURL:l(f),baseURL:f.baseURL,isLive:f.isLive};m&&(m=d(m));e&&(e=c(e));a=f.periods.map(function(a){return h(a,k,m,e)});f=b(f,a[0]);f.periods=null;f.duration||(f.duration=Infinity);f.isLive&&(f.suggestedPresentationDelay=f.suggestedPresentationDelay||J,f.availabilityStartTime=f.availabilityStartTime||0);return new y.a(f)}function h(a,b,c,d){a.id=a.id||z++;var h=a.adaptations,h=h.concat(c||[]),h=h.concat(d||[]),h=h.map(function(a){return f(a,
b)}),h=h.filter(function(a){return 0>D.indexOf(a.type)?(q.a.info("not supported adaptation type",a.type),!1):!0});if(0===h.length)throw new u.d("MANIFEST_PARSE_ERROR",null,!0);c={};for(d=0;d<h.length;d++){var m=h[d],e=m.type,n=m.representations;c[e]=c[e]||[];0<n.length&&c[e].push(m)}for(var k in c)if(0===c[k].length)throw new u.d("MANIFEST_INCOMPATIBLE_CODECS_ERROR",null,!0);a.adaptations=c;return a}function f(c,d){if("undefined"==typeof c.id)throw new u.d("MANIFEST_PARSE_ERROR",null,!0);var f=b(d,
c),h={};A.forEach(function(a){a in f&&(h[a]=f[a])});var m=f.representations.map(function(c){var d=f.rootURL,m=f.baseURL;if("undefined"==typeof c.id)throw new u.d("MANIFEST_PARSE_ERROR",null,!0);c=b(h,c);c.index=c.index||{};c.index.timescale||(c.index.timescale=1);c.bitrate||(c.bitrate=1);"mp4a.40.02"==c.codecs&&(c.codecs="mp4a.40.2");c.baseURL=a.i(v.b)(d,m,c.baseURL);c.codec=c.codecs;return c}).sort(function(a,b){return a.bitrate-b.bitrate}),e=f.type,k=f.accessibility,k=void 0===k?[]:k;if(!e)throw new u.d("MANIFEST_PARSE_ERROR",
null,!0);"video"==e||"audio"==e?(m=m.filter(function(b){return a.i(t.k)(n(b))}),"audio"===e&&(e=k.includes("visuallyImpaired"),f.audioDescription=e)):"text"===e&&(e=k.includes("hardOfHearing"),f.closedCaption=e);f.representations=m;f.bitrates=m.map(function(a){return a.bitrate});return f}function d(a){Array.isArray(a)||(a=[a]);return a.reduce(function(a,b){var c=b.mimeType,d=b.url,f=b.language,h=b.languages,m=b.closedCaption;f&&(h=[f]);return a.concat(h.map(function(a){return{id:z++,type:"text",language:a,
closedCaption:!!m,baseURL:d,representations:[{id:z++,mimeType:c,index:{indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0}}]}}))},[])}function c(a){Array.isArray(a)||(a=[a]);return a.map(function(a){var b=a.mimeType;a=a.url;return{id:z++,type:"image",baseURL:a,representations:[{id:z++,mimeType:b,index:{indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0}}]}})}function b(){for(var a={},c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];for(c=d.length-
1;0<=c;c--){var f=d[c],h;for(h in f)if(!a.hasOwnProperty(h)){var m=f[h];m&&"object"===("undefined"===typeof m?"undefined":x(m))?m instanceof Date?a[h]=new Date(m.getTime()):Array.isArray(m)?a[h]=m.slice(0):a[h]=b(m):a[h]=m}}return a}function m(a,b){for(var c=function(a,b){return b.find(function(b){return b.id===a})},d=a.getAdaptations(),f=b.getAdaptations(),h=0;h<d.length;h++){var m=c(d[h].id,f);m||console.warn('manifest: adaptation "'+d[h].id+'" not found when merging.');for(var e=d[h].representations,
m=m.representations,n=0;n<e.length;n++){var k=c(e[n].id,m);k||console.warn('manifest: representation "'+e[n].id+'" not found when merging.');e[n].index.update(k.index)}}return a}function n(a){return a.mimeType+';codecs="'+a.codec+'"'}function p(b){return(b=b.adaptations.audio)?b.map(function(b){return{language:a.i(w.c)(b.language),audioDescription:b.isAudioDescription,id:b.id}}):[]}function r(b){return(b=b.adaptations.text)?b.map(function(b){return{language:a.i(w.c)(b.language),closedCaption:b.isClosedCaption,
id:b.id}}):[]}a.d(g,"c",function(){return k});a.d(g,"e",function(){return n});a.d(g,"d",function(){return m});a.d(g,"a",function(){return p});a.d(g,"b",function(){return r});var q=a(3),v=a(23),t=a(9),u=a(6),w=a(19),y=a(84),x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},A="audioSamplingRate codecs codingDependency frameRate height index maxPlayoutRate maximumSAPPeriod mimeType profiles segmentProfiles width".split(" "),
z=0,D=["audio","video","text","image"],J=15},function(e,g,a){function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a.d(g,"a",function(){return d});e=a(27);var k=a(17),h=a(1),f=a(11),d=function(c){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var d;d=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.codec=a;d.updating=!1;d.readyState="opened";d.buffered=new k.a;return d}l(b,c);b.prototype.appendBuffer=function(a){var b=this;this._lock(function(){return b._append(a)})};b.prototype.remove=function(a,b){var c=this;this._lock(function(){return c._remove(a,b)})};b.prototype.abort=function(){this.remove(0,Infinity);this.updating=
!1;this.readyState="closed";this._abort()};b.prototype._append=function(){};b.prototype._remove=function(){};b.prototype._abort=function(){};b.prototype._lock=function(b){var c=this;a.i(h.a)(!this.updating,"updating");this.updating=!0;this.trigger("updatestart");a.i(f.c)(function(){return a.i(f.b)(b())}).subscribe(function(){return setTimeout(function(){return c._unlock("update")},0)},function(a){return setTimeout(function(){return c._unlock("error",a)},0)})};b.prototype._unlock=function(a,b){this.updating=
!1;this.trigger(a,b);this.trigger("updateend")};return b}(e.a)},function(e,g,a){function l(){return new D(0,new v.a,0,Infinity,"timeupdate",1,null,0,null,null)}function k(a,b){var c=a.currentTime,d=a.paused,f=new v.a(a.buffered);return new D(c,f,a.duration,f.getGap(c),b,a.playbackRate,f.getRange(c),a.readyState,null,d)}function h(a,b){var c=b.requiresMediaSource;return r.Observable.create(function(b){function d(d){d=k(a,d&&d.type||"timeupdate");var h=d.name,m=d.ts,e=d.gap,n=d.paused,g=d.readyState,
p=d.playback,l=f.stalled,t=f.name,z=f.ts,r;r=(r=d.range)?d.duration-(e+r.end)<=w:!1;var u=1<=g&&"loadedmetadata"!=h&&!l&&!r;c?(n=u&&(e<=w||Infinity===e||1===g),m=l&&1<g&&Infinity>e&&(e>("seeking"==l.name?w:y)||r)):(n=u&&(!n&&"timeupdate"==h&&"timeupdate"==t&&m===z||"seeking"==h&&Infinity===e),m=l&&("seeking"!=h&&m!==z||"canplay"==h||Infinity>e&&(e>("seeking"==l.name?w:y)||r)));d.stalled=n?{name:h,playback:p}:m?null:l;f=d;b.next(f)}var f=k(a,"init"),h=setInterval(d,c?t:u);z.forEach(function(b){return a.addEventListener(b,
d)});b.next(f);return function(){clearInterval(h);z.forEach(function(b){return a.removeEventListener(b,d)})}}).multicast(function(){return new q.BehaviorSubject({name:"init",stalled:null})}).refCount()}function f(a){return a.filter(function(a){return"seeking"==a.name&&(Infinity===a.gap||a.gap<-x)}).skip(1).startWith(!0)}function d(a,b){return new Date(1E3*(a+b.availabilityStartTime))}function c(a,b){var c=a,d=b.suggestedPresentationDelay,f=b.presentationLiveGap,h=b.timeShiftBufferDepth;"number"!=
typeof c&&(c=c.getTime());var m=Date.now();return Math.max(Math.min(c,m-1E3*(f+d)),m-1E3*h)/1E3-b.availabilityStartTime}function b(a){return p(a)[0]}function m(a){if(!a.isLive)return a.getDuration();var b=a.availabilityStartTime;a=a.presentationLiveGap;return Date.now()/1E3-b-a}function n(a){var b=m(a);return a.isLive?b-A:b}function p(a){if(!a.isLive)return[0,a.getDuration()];var b=a.availabilityStartTime,c=a.presentationLiveGap;a=a.timeShiftBufferDepth;b=Date.now()/1E3-b-c;return[Math.min(b,b-a+
5),b]}a.d(g,"b",function(){return l});a.d(g,"a",function(){return h});a.d(g,"i",function(){return f});a.d(g,"c",function(){return d});a.d(g,"f",function(){return c});a.d(g,"g",function(){return b});a.d(g,"d",function(){return m});a.d(g,"e",function(){return n});a.d(g,"h",function(){return p});var r=a(0);a.n(r);var q=a(30);a.n(q);var v=a(17),t=1E3,u=500,w=.5,y=5,x=2,A=10,z="canplay play progress seeking seeked loadedmetadata".split(" "),D=function(){function a(b,c,d,f,h,m,e,n,k,g){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this.ts=b;this.buffered=c;this.duration=d;this.gap=f;this.name=h;this.playback=m;this.range=e;this.readyState=n;this.stalled=k;this.paused=g}a.prototype.clone=function(){return new a(this.ts,this.buffered,this.duration,this.gap,this.name,this.playback,this.range,this.readyState,this.stalled,this.paused)};return a}()},function(e,g,a){function l(a){if("timeline"===a.indexType){var b=a.timeline[a.timeline.length-1];return(b.ts+(b.r+1)*b.d)/
a.timescale}return Date.now()/1E3}function k(a){return a}function h(a){return"true"==a}function f(a){return"true"==a?!0:"false"==a?!1:parseInt(a)}function d(a){return new Date(Date.parse(a))}function c(b){if(!b)return 0;var c=u.exec(b);a.i(t.a)(c,b+" is not a valid ISO8601 duration");return 31536E3*parseFloat(c[2]||0)+2592E3*parseFloat(c[4]||0)+86400*parseFloat(c[6]||0)+3600*parseFloat(c[8]||0)+60*parseFloat(c[10]||0)+parseFloat(c[12]||0)}function b(a){var b=y.exec(a);if(!b)return-1;a=parseInt(b[1])||
0;b=parseInt(b[2])||0;return 0<b?a/b:a}function m(a){return a}function n(a){return(a=w.exec(a))?[+a[1],+a[2]]:null}function p(a,b,c){for(a=a.firstElementChild;a;)c=b(c,a.nodeName,a),a=a.nextElementSibling;return c}function r(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===a.schemeIdUri&&1===a.value:!1}function q(a){var b=a.mimeType,b=void 0===b?"":b,c=b.split("/")[0];if(x.includes(c))return c;if("application/bif"===b)return"image";if("application/ttml+xml"===b)return"text";if("application/mp4"===
b)return(a=a.role)&&"urn:mpeg:dash:role:2011"===a.schemeIdUri&&"subtitle"===a.value?"text":"metadata";a=a.representations;a=void 0===a?[]:a;return a.length&&(a=a[0].mimeType.split("/")[0],x.includes(a))?a:"unknown"}function v(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===a.schemeIdUri&&2===a.value:!1}a.d(g,"g",function(){return k});a.d(g,"h",function(){return b});a.d(g,"f",function(){return n});a.d(g,"i",function(){return h});a.d(g,"m",function(){return d});a.d(g,"j",function(){return c});
a.d(g,"l",function(){return f});a.d(g,"k",function(){return m});a.d(g,"a",function(){return p});a.d(g,"b",function(){return A});a.d(g,"d",function(){return v});a.d(g,"e",function(){return r});a.d(g,"c",function(){return q});var t=a(1),u=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,w=/([0-9]+)-([0-9]+)/,y=/([0-9]+)(\/([0-9]+))?/,x=["audio","video","text","image"],A=function(a){if(a){var b=a.representations||[],c=b.filter(function(a){return a&&a.index});if(!b.length)return l(a.index);
var d=Math.min.apply(Math,c.map(function(a){return l(a.index)}));if(!isNaN(d)){if(b.length===c.length)return d;if(a.index)return a=l(a.index),Math.min(d,a)}}}},function(e,g,a){function l(h){var f=0,d=h.length,c=a.i(k.a)(h.subarray(f,f+8)),f=f+8,b=h[f],f=f+1,m=h[f],f=f+1,e=h[f],f=f+1,g=h[f],f=f+1,b=[b,m,e,g].join("."),m=h[f]+a.i(k.c)(h,f+1),f=f+4,e=a.i(k.c)(h,f),f=f+4,g=a.i(k.a)(h.subarray(f,f+4)),f=f+4,l=a.i(k.d)(h,f),f=f+2,q=a.i(k.d)(h,f),f=f+2,v=[h[f],h[f+1]].join(":"),t=1===h[f+2],f=64,u=[],w=
void 0,y=0;if(!m)throw Error("bif: no images to parse");for(;f<d;){var x=a.i(k.c)(h,f),f=f+4,A=a.i(k.c)(h,f),f=f+4;if(w){var z=w.index,D=e,J=y,w=h.subarray(w.offset,A);u.push({index:z,duration:D,ts:J,data:w});y+=e}if(4294967295===x)break;w={index:x,offset:A}}return{fileFormat:c,version:b,imageCount:m,timescale:e,format:g,width:l,height:q,aspectRatio:v,isVod:t,thumbs:u}}a.d(g,"a",function(){return l});var k=a(10)},function(e,g,a){function l(a,b,c){a="string"==typeof a?(new DOMParser).parseFromString(a,
"text/xml"):a;if(!(a instanceof window.Document||a instanceof window.HTMLElement))throw Error("ttml needs a Document to parse");a=a.querySelector("tt");if(!a)throw Error("ttml could not find <tt> tag");a=k(a.querySelector("body"),0);for(b=0;b<a.length;b++){var d=a[b];d.start+=c;d.end+=c}return a}function k(a,b){var c=0;a=a.firstChild;for(var m=[],e;a;){if(1===a.nodeType)switch(a.tagName.toUpperCase()){case "P":e=a;var n=b,g=c,c=h(e.getAttribute("begin"),n),p=h(e.getAttribute("end"),n),l=h(e.getAttribute("dur"),
0);if("number"==!("undefined"===typeof c||f(c))&&"number"==!("undefined"===typeof p||f(p))&&"number"==!("undefined"===typeof l||f(l)))throw Error("ttml unsupported timestamp format");0<l?(null==c&&(c=g||n),null==p&&(p=c+l)):null==p&&(p=h(e.getAttribute("duration"),0),p=0<=p?p+c:Number.MAX_VALUE);n=e.innerHTML;null==n&&(n=(new XMLSerializer).serializeToString(e),n=(new DOMParser).parseFromString(n,"text/html").body.firstChild.innerHTML);n=window.escape(n.replace(d,"\r\n"));n=n.replace(/%C3%26nbsp%3B/gm,
"%C3%A0");e={id:e.getAttribute("xml:id")||e.getAttribute("id"),text:decodeURIComponent(n),start:c,end:p};c=e.end;m.push(e);break;case "DIV":e=h(a.getAttribute("begin"),0),null==e&&(e=b),m.push.apply(m,k(a,e))}a=a.nextSibling}return m}function h(a,d){if(!a)return null;var f;if(f=a.match(c)){var h=f[3],e=f[4],n=f[6];return 3600*parseInt(f[2]||0,10)+60*parseInt(h,10)+parseInt(e,10)+parseFloat("0."+n)}return(f=a.match(b))?(h=f[4],parseFloat(f[1])*m[h]+d):null}a.d(g,"a",function(){return l});var f="function"===
typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=/<br.*?>/gm,c=/^(([0-9]+):)?([0-9]+):([0-9]+)(\.([0-9]+))?$/,b=/(([0-9]+)(\.[0-9]+)?)(ms|h|m|s)/,m={h:3600,m:60,s:1,ms:.001}},function(e,g,a){function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}
function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function f(){return new XMLHttpRequest}function d(a){return new n(a)}e=a(0);a.n(e);var c=a(2);
a.n(c);var b=a(6),m=function q(a,b,c,d,f,m,e){h(this,q);this.status=a;this.url=b;this.responseType=c;this.sentTime=d;this.receivedTime=f;this.duration=this.receivedTime-this.sentTime;this.size=m;this.responseData=e},n=function(a){function b(c){h(this,b);var d=l(this,a.call(this)),m={url:"",createXHR:f,headers:null,method:"GET",responseType:"json",timeout:1E4,resultSelector:null,body:null},e;for(e in c)m[e]=c[e];d.request=m;return d}k(b,a);b.prototype._subscribe=function(a){return new p(a,this.request)};
return b}(e.Observable),p=function(a){function c(b,d){h(this,c);var f=l(this,a.call(this,b));f.request=d;f.sentTime=Date.now();f.receivedTime=0;f.xhr=null;f.done=!1;f.resultSelector=d.resultSelector;f.send();return f}k(c,a);c.prototype.next=function(){this.done=!0;var a=this.resultSelector,c=this.xhr,d=this.request,f=this.destination,h=c.status,e=this.responseType,k=this.totalSize,n=this.sentTime,g=this.receivedTime,p=c.responseURL||d.url,l=void 0;if("json"==d.responseType)if("string"!=typeof c.response)l=
c.response;else try{l=JSON.parse(c.responseText)}catch(F){l=null}else l=c.response;null==l?f.error(new b.h(this,d,b.i.PARSE_ERROR)):(c=new m(h,p,e,n,g,k,l),a?f.next(a(c)):f.next(c))};c.prototype.setHeaders=function(a,b){for(var c in b)a.setRequestHeader(c,b[c])};c.prototype.setupEvents=function(a,c){a.ontimeout=function y(){y.subscriber.error(new b.h(this,y.request,b.i.TIMEOUT))};a.ontimeout.request=c;a.ontimeout.subscriber=this;a.onerror=function x(){x.subscriber.error(new b.h(this,x.request,b.i.ERROR_EVENT))};
a.onerror.request=c;a.onerror.subscriber=this;a.onload=function A(a){if(4===this.readyState){var c=A.subscriber,d=A.request;c.receivedTime=Date.now();c.totalSize=a.total;var f=this.status;200<=f&&300>f?(c.next(a),c.complete()):c.error(new b.h(this,d,b.i.ERROR_HTTP_CODE))}};a.onload.subscriber=this;a.onload.request=c};c.prototype.send=function(){var a=this.request,b=this.request,c=b.method,d=b.url,h=b.headers,m=b.body,e=b.responseType,b=b.timeout,k=(a.createXHR||f)(a);this.xhr=k;k.open(c,d,!0);k.timeout=
b;k.responseType=e;"document"==e&&k.overrideMimeType("text/xml");h&&this.setHeaders(k,h);this.setupEvents(k,a);m?k.send(m):k.send()};c.prototype.unsubscribe=function(){var b=this.xhr;!this.done&&b&&4!==b.readyState&&b.abort();b.ontimeout=null;b.onerror=null;b.onload=null;a.prototype.unsubscribe.call(this)};return c}(c.Subscriber);d.RequestObservable=n;d.RequestError=b.h;d.RequestResponse=m;d.RequestErrorTypes=b.i;g.a=d},function(e,g,a){g.empty={closed:!0,next:function(a){},error:function(a){throw a;
},complete:function(){}}},function(e,g,a){var l=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};e=a(0);var k=a(15);a=a(12);e=function(a){function d(c){a.call(this);this.observableFactory=c}l(d,a);d.create=function(a){return new d(a)};d.prototype._subscribe=function(a){return new h(a,this.observableFactory)};return d}(e.Observable);g.DeferObservable=e;var h=function(a){function d(c,
b){a.call(this,c);this.factory=b;this.tryDefer()}l(d,a);d.prototype.tryDefer=function(){try{this._callFactory()}catch(c){this._error(c)}};d.prototype._callFactory=function(){var a=this.factory();a&&this.add(k.subscribeToResult(this,a))};return d}(a.OuterSubscriber)},function(e,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};e=a(0);var k=a(38),h=a(37),
f=a(25),d=a(4),c=Object.prototype.toString;a=function(a){function b(b,c,d,f){a.call(this);this.sourceObj=b;this.eventName=c;this.selector=d;this.options=f}l(b,a);b.create=function(a,c,d,f){h.isFunction(d)&&(f=d,d=void 0);return new b(a,c,f,d)};b.setupSubscription=function(a,f,h,e,m){var k;if(a&&"[object NodeList]"===c.call(a)||a&&"[object HTMLCollection]"===c.call(a))for(var n=0,g=a.length;n<g;n++)b.setupSubscription(a[n],f,h,e,m);else if(a&&"function"===typeof a.addEventListener&&"function"===typeof a.removeEventListener)a.addEventListener(f,
h,m),k=function(){return a.removeEventListener(f,h)};else if(a&&"function"===typeof a.on&&"function"===typeof a.off)a.on(f,h),k=function(){return a.off(f,h)};else if(a&&"function"===typeof a.addListener&&"function"===typeof a.removeListener)a.addListener(f,h),k=function(){return a.removeListener(f,h)};else throw new TypeError("Invalid event target");e.add(new d.Subscription(k))};b.prototype._subscribe=function(a){var c=this.selector;b.setupSubscription(this.sourceObj,this.eventName,c?function(){for(var b=
[],d=0;d<arguments.length;d++)b[d-0]=arguments[d];b=k.tryCatch(c).apply(void 0,b);b===f.errorObject?a.error(f.errorObject.e):a.next(b)}:function(b){return a.next(b)},a,this.options)};return b}(e.Observable);g.FromEventObservable=a},function(e,g,a){function l(a){var c=a.value;a=a.subscriber;a.closed||(a.next(c),a.complete())}function k(a){var c=a.err;a=a.subscriber;a.closed||a.error(c)}var h=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=
c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)},f=a(5);e=function(a){function c(b,c){a.call(this);this.promise=b;this.scheduler=c}h(c,a);c.create=function(a,d){return new c(a,d)};c.prototype._subscribe=function(a){var b=this,c=this.promise,d=this.scheduler;if(null==d)this._isScalar?a.closed||(a.next(this.value),a.complete()):c.then(function(c){b.value=c;b._isScalar=!0;a.closed||(a.next(c),a.complete())},function(b){a.closed||a.error(b)}).then(null,function(a){f.root.setTimeout(function(){throw a;
})});else if(this._isScalar){if(!a.closed)return d.schedule(l,0,{value:this.value,subscriber:a})}else c.then(function(c){b.value=c;b._isScalar=!0;a.closed||a.add(d.schedule(l,0,{value:c,subscriber:a}))},function(b){a.closed||a.add(d.schedule(k,0,{err:b,subscriber:a}))}).then(null,function(a){f.root.setTimeout(function(){throw a;})})};return c}(a(0).Observable);g.PromiseObservable=e},function(e,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},k=a(60);e=a(0);var h=a(24),f=a(16),d=a(59);a=function(a){function b(b,c,e){void 0===b&&(b=0);a.call(this);this.period=-1;this.dueTime=0;k.isNumeric(c)?this.period=1>Number(c)&&1||Number(c):f.isScheduler(c)&&(e=c);f.isScheduler(e)||(e=h.async);this.scheduler=e;this.dueTime=d.isDate(b)?+b-this.scheduler.now():b}l(b,a);b.create=function(a,c,d){void 0===a&&(a=0);return new b(a,c,d)};b.dispatch=function(a){var b=a.index,
c=a.period,d=a.subscriber;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.schedule(a,c)}};b.prototype._subscribe=function(a){return this.scheduler.schedule(b.dispatch,this.dueTime,{index:0,period:this.period,subscriber:a})};return b}(e.Observable);g.TimerObservable=a},function(e,g,a){function l(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=null;h.isScheduler(a[a.length-1])&&(b=a.pop());return null===b&&1===a.length&&a[0]instanceof k.Observable?a[0]:(new f.ArrayObservable(a,
b)).lift(new d.MergeAllOperator(1))}var k=a(0),h=a(16),f=a(13),d=a(32);g.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return this.lift.call(l.apply(void 0,[this].concat(a)))};g.concatStatic=l},function(e,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)},k=a(15);e=a(12);g.mergeMap=function(a,c,b){void 0===b&&(b=Number.POSITIVE_INFINITY);
"number"===typeof c&&(b=c,c=null);return this.lift(new h(a,c,b))};var h=function(){function a(a,b,d){void 0===d&&(d=Number.POSITIVE_INFINITY);this.project=a;this.resultSelector=b;this.concurrent=d}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.project,this.resultSelector,this.concurrent))};return a}();g.MergeMapOperator=h;var f=function(a){function c(b,c,d,f){void 0===f&&(f=Number.POSITIVE_INFINITY);a.call(this,b);this.project=c;this.resultSelector=d;this.concurrent=f;this.hasCompleted=
!1;this.buffer=[];this.index=this.active=0}l(c,a);c.prototype._next=function(a){this.active<this.concurrent?this._tryNext(a):this.buffer.push(a)};c.prototype._tryNext=function(a){var b,c=this.index++;try{b=this.project(a,c)}catch(p){this.destination.error(p);return}this.active++;this._innerSub(b,a,c)};c.prototype._innerSub=function(a,c,d){this.add(k.subscribeToResult(this,a,c,d))};c.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};
c.prototype.notifyNext=function(a,c,d,f,h){this.resultSelector?this._notifyResultSelector(a,c,d,f):this.destination.next(c)};c.prototype._notifyResultSelector=function(a,c,d,f){var b;try{b=this.resultSelector(a,c,d,f)}catch(q){this.destination.error(q);return}this.destination.next(b)};c.prototype.notifyComplete=function(a){var b=this.buffer;this.remove(a);this.active--;0<b.length?this._next(b.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return c}(e.OuterSubscriber);g.MergeMapSubscriber=
f},function(e,g,a){var l=this&&this.__extends||function(a,f){function d(){this.constructor=a}for(var c in f)f.hasOwnProperty(c)&&(a[c]=f[c]);a.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)},k=a(5);e=function(a){function f(d,c){a.call(this,d,c);this.scheduler=d;this.work=c;this.pending=!1}l(f,a);f.prototype.schedule=function(a,c){void 0===c&&(c=0);if(this.closed)return this;this.state=a;this.pending=!0;var b=this.id,d=this.scheduler;null!=b&&(this.id=this.recycleAsyncId(d,b,c));
this.delay=c;this.id=this.id||this.requestAsyncId(d,this.id,c);return this};f.prototype.requestAsyncId=function(a,c,b){void 0===b&&(b=0);return k.root.setInterval(a.flush.bind(a,this),b)};f.prototype.recycleAsyncId=function(a,c,b){void 0===b&&(b=0);return null!==b&&this.delay===b&&!1===this.pending?c:(k.root.clearInterval(c),void 0)};f.prototype.execute=function(a,c){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var b=this._execute(a,c);if(b)return b;!1===this.pending&&
null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))};f.prototype._execute=function(a,c){var b=!1,d=void 0;try{this.work(a)}catch(n){b=!0,d=!!n&&n||Error(n)}if(b)return this.unsubscribe(),d};f.prototype._unsubscribe=function(){var a=this.id,c=this.scheduler,b=c.actions,f=b.indexOf(this);this.state=this.work=null;this.pending=!1;this.scheduler=null;-1!==f&&b.splice(f,1);null!=a&&(this.id=this.recycleAsyncId(c,a,null));this.delay=null};return f}(a(167).Action);g.AsyncAction=e},
function(e,g,a){var l=this&&this.__extends||function(a,h){function f(){this.constructor=a}for(var d in h)h.hasOwnProperty(d)&&(a[d]=h[d]);a.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)};e=function(a){function h(){a.apply(this,arguments);this.actions=[];this.active=!1;this.scheduled=void 0}l(h,a);h.prototype.flush=function(a){var d=this.actions;if(this.active)d.push(a);else{var c;this.active=!0;do if(c=a.execute(a.state,a.delay))break;while(a=d.shift());this.active=!1;if(c){for(;a=
d.shift();)a.unsubscribe();throw c;}}};return h}(a(106).Scheduler);g.AsyncScheduler=e},function(e,g,a){var l=this&&this.__extends||function(a,h){function f(){this.constructor=a}for(var d in h)h.hasOwnProperty(d)&&(a[d]=h[d]);a.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)};e=function(a){function h(){var f=a.call(this,"object unsubscribed");this.name=f.name="ObjectUnsubscribedError";this.stack=f.stack;this.message=f.message}l(h,a);return h}(Error);g.ObjectUnsubscribedError=e},
function(e,g,a){var l=this&&this.__extends||function(a,h){function f(){this.constructor=a}for(var d in h)h.hasOwnProperty(d)&&(a[d]=h[d]);a.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)};e=function(a){function h(){var f=a.call(this,"Timeout has occurred");this.name=f.name="TimeoutError";this.stack=f.stack;this.message=f.message}l(h,a);return h}(Error);g.TimeoutError=e},function(e,g,a){g.isArrayLike=function(a){return a&&"number"===typeof a.length}},function(e,g,a){g.isDate=function(a){return a instanceof
Date&&!isNaN(+a)}},function(e,g,a){var l=a(21);g.isNumeric=function(a){return!l.isArray(a)&&0<=a-parseFloat(a)+1}},function(e,g,a){g.isObject=function(a){return null!=a&&"object"===typeof a}},function(e,g,a){g.isPromise=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then}},function(e,g,a){g.noop=function(){}},function(e,g,a){Object.defineProperty(g,"__esModule",{value:!0});e=a(108);a.n(e);e=a(109);a.n(e);e=a(110);a.n(e);e=a(111);a.n(e);e=a(112);a.n(e);e=a(113);a.n(e);
e=a(114);a.n(e);e=a(115);a.n(e);e=a(116);a.n(e);e=a(117);a.n(e);e=a(118);a.n(e);e=a(119);a.n(e);e=a(120);a.n(e);e=a(121);a.n(e);e=a(122);a.n(e);e=a(123);a.n(e);e=a(124);a.n(e);e=a(125);a.n(e);e=a(126);a.n(e);e=a(127);a.n(e);e=a(128);a.n(e);e=a(129);a.n(e);e=a(130);a.n(e);e=a(131);a.n(e);e=a(132);a.n(e);e=a(133);a.n(e);e=a(102);a(3);a=a(73);"function"!=typeof Object.assign&&(Object.assign=e.a);g["default"]=a.a},function(e,g,a){function l(a){return function(h,f){return null==h?f:a*f+(1-a)*h}}g.a=function(a,
h){return a.map(function(a){return a.value.response}).filter(function(a){return!a||2E3<a.size}).map(function(a){return a?a.size/a.duration*8E3:0}).scan(l(h.alpha))}},function(e,g,a){function l(a,b){for(var c=0;c<a.length;c++)if(!0===b(a[c],c,a))return a[c];return null}function k(a,b){return"number"==typeof a&&0<a?a:b}function h(a,b){for(var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,d=a.length-1;0<=d;d--)if(a[d]/b<=1-c)return a[d];return a[0]}function f(a,b){var c=a.sort(function(a,
b){return a.width-b.width}).find(function(a){return a.width>=b});if(c){var d=a.filter(function(a){return a.width<=c.width});return d.length?d[d.length-1].bitrate:(d=a[0])&&d.bitrate||0}return Infinity}function d(b,c){var d=b.map(function(a){return a.language}),d=a.i(v.d)(d,c);return 0<=d?b[d]:null}function c(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=a.filter(function(a){return a.isAudioDescription==c});return d(f,b)}function b(a,b){var c=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:!1,f=a.filter(function(a){return a.isClosedCaption==c});return d(f,b)}function m(a,b){return a.filter(function(a){return a.type===b})}var n=a(4);a.n(n);var p=a(30);a.n(p);var r=a(20);a.n(r);var q=a(11),v=a(19),t=a(65),u={defaultAudioTrack:{language:"fra",audioDescription:!1},defaultTextTrack:null,defaultBufferSize:30,defaultBufferThreshold:.3,initialVideoBitrate:0,initialAudioBitrate:0,maxVideoBitrate:Infinity,maxAudioBitrate:Infinity};g.a=function(d,e){function g(a){return I.distinctUntilChanged().map(function(b){return c(a,
b.language,b.audioDescription)||a[0]})}function w(a){return P.distinctUntilChanged().map(function(c){return c?b(a,c.language,c.closedCaption):null})}var z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Object.keys(z).forEach(function(a){return void 0===z[a]&&delete z[a]});var D=Object.assign({},u,z),y=D.defaultTextTrack,v=D.defaultBufferSize,N=D.defaultBufferThreshold,F=D.initialVideoBitrate,E=D.initialAudioBitrate,K=D.maxVideoBitrate,T=D.maxAudioBitrate,Y=D.limitVideoWidth,U=D.throttleWhenHidden,
S=e.videoWidth,C=e.inBackground,I=new p.BehaviorSubject(D.defaultAudioTrack),P=new p.BehaviorSubject(y),Q={audio:new p.BehaviorSubject(E),video:new p.BehaviorSubject(F)},D=[a.i(t.a)(m(d,"audio"),{alpha:.6}).multicast(Q.audio),a.i(t.a)(m(d,"video"),{alpha:.6}).multicast(Q.video)],R=new n.Subscription;D.forEach(function(a){return R.add(a.connect())});var O={audio:new p.BehaviorSubject(Infinity),video:new p.BehaviorSubject(Infinity)},H={audio:new p.BehaviorSubject(T),video:new p.BehaviorSubject(K)},
M={audio:new p.BehaviorSubject(v),video:new p.BehaviorSubject(v),text:new p.BehaviorSubject(v)};return{setAudioTrack:function(a){I.next(a)},setTextTrack:function(a){P.next(a)},getAudioTrack:function(){return I.getValue()},getTextTrack:function(){return P.getValue()},getAverageBitrates:function(){return Q},getAudioMaxBitrate:function(){return H.audio.getValue()},getVideoMaxBitrate:function(){return H.video.getValue()},getAudioBufferSize:function(){return M.audio.getValue()},getVideoBufferSize:function(){return M.video.getValue()},
setAudioBitrate:function(a){O.audio.next(k(a,Infinity))},setVideoBitrate:function(a){O.video.next(k(a,Infinity))},setAudioMaxBitrate:function(a){H.audio.next(k(a,Infinity))},setVideoMaxBitrate:function(a){H.video.next(k(a,Infinity))},setAudioBufferSize:function(a){M.audio.next(k(a,v))},setVideoBufferSize:function(a){M.video.next(k(a,v))},getBufferAdapters:function(b){var c=b.type,d=b.representations,e=b.getAvailableBitrates();b=void 0;if(1<d.length){b=O[c];var m=H[c],k=Q[c].map(function(a,b){return h(e,
a,0===b?0:N)}).distinctUntilChanged().debounceTime(2E3).startWith(h(e,Q[c].getValue(),0));"video"==c&&(m=a.i(r.combineLatest)([m,S,C]).map(function(a){var b=a[0],c=a[1];a=a[2];if(U&&a)return e[0];c=Y?f(d,c):e[e.length-1];return Math.min(c,b)}));b=a.i(r.combineLatest)(b,m,k,function(a,b,c){var f=void 0,f=Infinity>a?a:Infinity>b?Math.min(b,c):c;return l(d,function(a){return a.bitrate===h(e,f)})}).distinctUntilChanged(function(a,b){return a.id===b.id})}else b=a.i(q.e)(d[0]);return{representations:b,
bufferSizes:M[c]||new p.BehaviorSubject(v)}},getAdaptationsChoice:function(b,c){return"audio"==b?g(c):"text"==b?w(c):a.i(q.e)(c[0])},unsubscribe:function(){R&&(R.unsubscribe(),R=null)}}}},function(e,g,a){function l(e){function k(a,b){for(var c=a.ts,d=a.buffered,f=d.getRange(c),d=d.getOuterRanges(c),e=[],m=0;m<d.length;m++){var k=d[m];c-b<k.end?e.push(k):c+b>k.start&&e.push(k)}f&&(h.a.debug("buffer: gc removing part of inner range",e),c-b>f.start&&e.push({start:f.start,end:c-b}),c+b<f.end&&e.push({start:c+
b,end:f.end}));return e}function g(){h.a.warn("buffer: running garbage collector");return T.take(1).mergeMap(function(a){var b=k(a,y);0===b.length&&(b=k(a,x));h.a.debug("buffer: gc cleaning",b);return t(b.map(function(a){return R.removeBuffer(a)})).concatAll()})}function l(b){function f(a){return e.test(a.id)?!1:a.isInit||0>a.time?!0:(a=Q.hasRange(a.time/a.timescale,a.duration/a.timescale))?a.bitrate*w<b.bitrate:!0}h.a.info("bitrate",p,b.bitrate);var e=new r.a,k=a.i(m.combineLatest)(T,P).mergeMap(function(a,
c){var m=a[0],k=a[1],g=new d.a(A.buffered);if(m.stalled&&U){var n=b.index.checkDiscontinuity(m.ts);0<n&&S.next({type:"index-discontinuity",value:{ts:n+1}})}n=void 0;try{var l=null;0===c&&(h.a.debug("add init segment",p),l=b.index.getInitSegment());if(0===m.readyState)n=l?[l]:[];else{var t=m.ts,u=Math.max(0,Math.min(k,m.liveGap,(m.duration||Infinity)-t)),m=void 0,r=g.getGap(t),m=r>C&&Infinity>r?Math.min(r,I):0,z=Q.getRange(t);if(z&&z.bitrate===b.bitrate){var w=Math.floor(z.end-t);w>m&&(m=w)}g=t+m;
r=t+u-g;if(b.index.shouldRefresh(t,g,t+u))throw new q.g("OUT_OF_INDEX_ERROR",b.index.getType(),!1);var P=b.index.getSegments(g,r);l&&P.unshift(l);n=P}n=n.filter(f)}catch(ba){if(ba.type===q.a.INDEX_ERROR&&ba.code===q.b.OUT_OF_INDEX_ERROR)return S.next({type:"out-of-index",value:ba}),v();throw ba;}for(t=0;t<n.length;t++)e.add(n[t].id);return n}).concatMap(function(a){return E({segment:a,representation:b}).map(function(b){return Object.assign({segment:a},b)})}).concatMap(function(a){var c=a.segment,
d=a.parsed,f=d.segmentData,h=d.nextSegments,m=d.currentSegment;(d=d.timescale)&&b.index.setTimescale(d);var k=h?b.index._addSegments(h,m):[];e.remove(c.id);m&&Q.insert(b.bitrate,m.ts/c.timescale,(m.ts+m.d)/c.timescale);return R.appendBuffer(f)["catch"](function(a){if("QuotaExceededError"!=a.name)throw new q.d("BUFFER_APPEND_ERROR",a,!0);return g().mergeMap(function(){return R.appendBuffer(f)})["catch"](function(a){throw new q.d("BUFFER_FULL_ERROR",a,!0);})}).map(function(){return{type:"pipeline",
value:Object.assign({bufferType:p,addedSegments:k},a)}})});return a.i(n.merge)(k,S)["catch"](function(a){if(!U||a.type!=q.a.NETWORK_ERROR||!a.isHttpError(412))throw a;return c.Observable.of({type:"precondition-failed",value:a}).concat(u(2E3)).concat(l(b))}).startWith({type:"buffer",value:{bufferType:p,adaptation:F,representation:b}})}var p=e.bufferType,A=e.sourceBuffer,F=e.adaptation,E=e.pipeline,K=e.adapters,T=e.timings,Y=e.seekings,U=e.isLive,S=new b.Subject,C="video"==p?4:1,I="video"==p?6:1;e=
K.representations;var P=K.bufferSizes,Q=new d.a,R=new f.a(A);return a.i(m.combineLatest)(e,Y,function(a){return a}).switchMap(l)["finally"](function(){return R.dispose()})}function k(a){return c.Observable.of({type:"buffer",value:{bufferType:a,adaptation:null,representation:null}})}a.d(g,"b",function(){return l});a.d(g,"a",function(){return k});var h=a(3),f=a(68),d=a(17),c=a(0);a.n(c);var b=a(7);a.n(b);var m=a(20);a.n(m);var n=a(14);a.n(n);e=a(8);a.n(e);g=a(137);a.n(g);var p=a(51);a.n(p);var r=a(100),
q=a(6),v=e.EmptyObservable.create,t=g.FromObservable.create,u=p.TimerObservable.create,w=1.5,y=240,x=30},function(e,g,a){a.d(g,"a",function(){return k});var l=a(7);a.n(l);var k=function(){function a(f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.buffer=f;this.queue=[];this.flushing=null;this._onUpdate=this.onUpdate.bind(this);this._onError=this.onError.bind(this);this._flush=this.flush.bind(this);this.buffer.addEventListener("update",this._onUpdate);this.buffer.addEventListener("error",
this._onError);this.buffer.addEventListener("updateend",this._flush)}a.prototype.dispose=function(){this.buffer.removeEventListener("update",this._onUpdate);this.buffer.removeEventListener("error",this._onError);this.buffer.removeEventListener("updateend",this._flush);this.buffer=null;this.queue.length=0;this.flushing=null};a.prototype.onUpdate=function(a){this.flushing&&(this.flushing.next(a),this.flushing.complete(),this.flushing=null)};a.prototype.onError=function(a){this.flushing&&(this.flushing.error(a),
this.flushing=null)};a.prototype.queueAction=function(a,d){var c=new l.Subject;1===this.queue.unshift({type:a,args:d,subj:c})&&this.flush();return c};a.prototype.appendBuffer=function(a){return this.queueAction("append",a)};a.prototype.removeBuffer=function(a){return this.queueAction("remove",{start:a.start,end:a.end})};a.prototype.appendStream=function(a){return this.queueAction("stream",a)};a.prototype.flush=function(){if(!this.flushing&&0!==this.queue.length&&!this.buffer.updating){var a=this.queue.pop(),
d=a.type,c=a.args;this.flushing=a.subj;try{switch(d){case "append":this.buffer.appendBuffer(c);break;case "stream":this.buffer.appendStream(c);break;case "remove":this.buffer.remove(c.start,c.end)}}catch(b){this.onError(b)}}};return a}()},function(e,g,a){a.d(g,"a",function(){return l});var l=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.cache={}}a.prototype.add=function(a,f){var d=a.segment;d.isInit&&(this.cache[d.id]=f)};a.prototype.get=
function(a){a=a.segment;return a.isInit&&(a=this.cache[a.id],null!=a)?a:null};return a}()},function(e,g,a){var l=a(14);a.n(l);e=a(138);a.n(e);var k=a(9),h=e.IntervalObservable.create,f=window.devicePixelRatio||1;g.a=function(d){var c=a.i(k.u)().filter(function(a){return!1===a}),b=a.i(k.u)().debounceTime(6E4).filter(function(a){return!0===a}),c=a.i(l.merge)(c,b).startWith(!1);return{videoWidth:a.i(l.merge)(h(2E4),a.i(k.v)().debounceTime(500)).startWith("init").map(function(){return d.clientWidth*f}).distinctUntilChanged(),
inBackground:c}}},function(e,g,a){function l(a,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}e=function(a){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var f=a.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!f||"object"!==typeof f&&"function"!==typeof f?this:f}l(e,a);e.prototype._append=function(){this.buffered.insert(0,0,Infinity)};return e}(a(41).a);g.a=e},function(e,g,a){function l(b,c,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;a.i(m.e)(d)||(d=new (d instanceof m.h?m.j:m.f)(b,d,f));d.pipelineType=c;return d}function k(a){return a instanceof m.h?a.type===m.i.ERROR_HTTP_CODE?500<=a.status||404==a.status:a.type===m.i.TIMEOUT||a.type===m.i.ERROR_EVENT:!1}function h(f,e,h,
m){function g(a){throw l("PIPELINE_RESOLVE_ERROR",f,a);}function p(a){throw l("PIPELINE_PARSING_ERROR",f,a);}function r(a){h.next(a)}function q(d){return a.i(c.a)(a.i(b.c)(G,d),T)}function x(c){var d=K?K.get(c):null;return null===d?q(c):a.i(b.b)(d)["catch"](function(){return q(c)})}function A(c){return a.i(b.c)(N,c)["catch"](p)}function z(a,b){var c=Object.assign({response:b},a);K&&K.add(a,b);n.schedule(r,0,{type:f,value:c});return c}function D(a,b){return Object.assign({parsed:b},a)}var v=e.resolver,
G=e.loader,N=e.parser,F=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};v||(v=d.Observable.of);G||(G=d.Observable.of);N||(N=d.Observable.of);var E=F.maxRetry,K=F.cache,F="number"===typeof E?E:4,T={retryDelay:200,errorSelector:function(a){throw l("PIPELINE_LOAD_ERROR",f,a);},totalRetry:F,shouldRetry:F&&k,onRetry:function(a){n.schedule(r,0,{type:f,value:a.xhr});m.next(l("PIPELINE_LOAD_ERROR",f,a,!1))}};return function(c){return a.i(b.c)(v,c)["catch"](g).mergeMap(x,z).mergeMap(A,D)}}var f=
a(7);a.n(f);e=a(170);a.n(e);var d=a(0);a.n(d);var c=a(29),b=a(11),m=a(6),n=e.asap;g.a=function(){var a=new f.Subject;return{createPipelines:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d={requiresMediaSource:function(){return!0!==b.directFile}},f;for(f in b)d[f]=h(f,b[f],a,c.errorStream,c[f]);return d},metrics:a}}},function(e,g,a){function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&
"function"!==typeof b?a:b}function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){if(a===b)return!0;if("object"===("undefined"===typeof a?"undefined":C(a))&&"object"===("undefined"===typeof b?"undefined":C(b))){if(null===a||null===
b)return!1;var c=Object.keys(a);if(c.length!==Object.keys(b).length)return!1;for(var d=Array.isArray(c),f=0,c=d?c:c[Symbol.iterator]();;){var e;if(d){if(f>=c.length)break;e=c[f++]}else{f=c.next();if(f.done)break;e=f.value}if(!b.hasOwnProperty(e)||!h(a[e],b[e]))return!1}return!0}return!1}function f(a,b){return b?"seeking"==b.name?"SEEKING":"BUFFERING":a?"PLAYING":"PAUSED"}function d(){}function c(b){a.i(y.a)(b._manifest,"player: no manifest loaded")}function b(a,b){return a.filter(function(a){return a.type==
b}).map(function(a){return a.value})}var m=a(3),n=a(4);a.n(n);var p=a(103),r=a(7);a.n(r);var q=a(30);a.n(q);var v=a(20);a.n(v);var t=a(11),u=a(19);e=a(27);var w=a(101),y=a(1),x=a(9),A=a(42),z=a(6),D=a(69),J=a(17),G=a(76),N=a(70),F=a(40),E=a(94),K=a(72),T=a(66),Y=a(74),U=a(39),S=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&
a(b,d);return b}}(),C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};e=function(e){function g(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var c=b.videoElement,d=b.transport,f=b.transportOptions,h=b.defaultLanguage,k=b.defaultAudioTrack,n=b.defaultSubtitle,
t=b.defaultTextTrack,z=b.initVideoBitrate,w=b.initialVideoBitrate,D=b.initAudioBitrate,A=b.initialAudioBitrate,I=b.maxVideoBitrate,v=b.maxAudioBitrate,J=b.limitVideoWidth,J=void 0===J?!0:J,b=b.throttleWhenHidden,b=void 0===b?!0:b,B=l(this,e.call(this)),P=w,G=A,E=k,C=t;null!=z&&null==w&&(a.i(p.a)("initVideoBitrate is deprecated. Use initialVideoBitrate instead"),P=z);null!=D&&null==A&&(a.i(p.a)("initAudioBitrate is deprecated. Use initialAudioBitrate instead"),G=D);null!=h&&null==k&&(a.i(p.a)("defaultLanguage is deprecated. Use defaultAudioTrack instead"),
E=h);null!=n&&null==t&&(a.i(p.a)("defaultSubtitle is deprecated. Use defaultTextTrack instead"),C=n);B._playPauseNext$=B._playPauseNext.bind(B);B._textTrackChanges$=B._textTrackChanges.bind(B);B._setPlayerState$=B._setPlayerState.bind(B);B._triggerTimeChange$=B._triggerTimeChange.bind(B);B._streamNext$=B._streamNext.bind(B);B._streamError$=B._streamError.bind(B);B._streamFatalError$=B._streamFatalError.bind(B);B._streamComplete$=B._streamComplete.bind(B);B.defaultTransport=d;B.defaultTransportOptions=
f||{};c||(c=document.createElement("video"));a.i(y.a)(c instanceof x.a,"requires an actual HTMLVideoElement");c.preload="auto";B.version="2.2.1";B.video=c;B.fullscreen=a.i(x.b)(c).subscribe(function(){return B.trigger("fullscreenChange",B.isFullscreen())});B.playing=new q.BehaviorSubject;B.stream=new r.Subject;B.images=new r.Subject;B.errorStream=new r.Subject;f=a.i(K.a)();d=f.createPipelines;f=f.metrics;c=a.i(N.a)(c);B.createPipelines=d;B.metrics=f;B.adaptive=a.i(T.a)(f,c,{initialVideoBitrate:P,
initialAudioBitrate:G,maxVideoBitrate:I,maxAudioBitrate:v,defaultAudioTrack:a.i(u.a)(E),defaultTextTrack:a.i(u.b)(C),limitVideoWidth:J,throttleWhenHidden:b});B.muted=.1;B._setPlayerState("STOPPED");B._resetStates();B.log=m.a;return B}k(g,e);g.getErrorTypes=function(){a.i(p.a)("getErrorTypes is deprecated. Use the ErrorTypes property instead");return z.a};g.getErrorCodes=function(){a.i(p.a)("getErrorCodes is deprecated. Use the ErrorCodes property instead");return z.b};S(g,null,[{key:"ErrorTypes",
get:function(){return z.a}},{key:"ErrorCodes",get:function(){return z.b}}]);g.prototype._resetStates=function(){this._manifest=null;this.reps={video:null,audio:null,text:null,images:null};this.adas={video:null,audio:null,text:null,images:null};this.evts={};this.frag={start:null,end:null};this.error=null;this.images.next(null);this._currentImagePlaylist=null};g.prototype._unsubscribe=function(){if(this.subscriptions){var a=this.subscriptions;this.subscriptions=null;a.unsubscribe()}};g.prototype.stop=
function(){"STOPPED"!==this.state&&(this._resetStates(),this._unsubscribe(),this._setPlayerState("STOPPED"))};g.prototype.dispose=function(){this.stop();this.metrics.unsubscribe();this.adaptive.unsubscribe();this.fullscreen.unsubscribe();this.stream.unsubscribe();a.i(U.a)();this.video=this.createPipelines=this.stream=this.fullscreen=this.adaptive=this.metrics=null};g.prototype._recordState=function(a,b){h(this.evts[a],b)||(this.evts[a]=b,this.trigger(a+"Change",b))};g.prototype._parseOptions=function(b){var c=
b=Object.assign({transport:this.defaultTransport,transportOptions:{},keySystems:[],timeFragment:{},textTracks:[],imageTracks:[],autoPlay:!1,hideNativeSubtitle:!1,directFile:!1},b),d=c.transport,f=c.url,e=c.keySystems,h=c.timeFragment,m=c.supplementaryTextTracks,g=c.supplementaryImageTracks,k=b,n=k.subtitles,l=k.images,c=k.transportOptions,t=k.manifests,u=k.autoPlay,r=k.directFile,z=k.defaultLanguage,w=k.defaultAudioTrack,q=k.defaultSubtitle,Q=k.hideNativeSubtitle,x=k.startAt,D=w,k=k.defaultTextTrack;
null!=z&&null==w&&(a.i(p.a)("defaultLanguage is deprecated. Use defaultAudioTrack instead"),D=z);b.hasOwnProperty("defaultSubtitle")&&!b.hasOwnProperty("defaultTextTrack")&&(a.i(p.a)("defaultSubtitle is deprecated. Use defaultTextTrack instead"),k=q);void 0!==n&&void 0===m&&(a.i(p.a)("the subtitles option is deprecated. Use supplementaryTextTracks instead"),m=n);void 0!==l&&void 0===g&&(a.i(p.a)("the images option is deprecated. Use supplementaryImageTracks instead"),g=l);h=a.i(G.a)(h);r&&(d="directfile");
a.i(y.a)(!!t^!!f,"player: you have to pass either a url or a list of manifests");t&&(a.i(p.a)("the manifests options is deprecated, use url instead"),e=t[0],f=e.url,m=e.subtitles||[],g=e.images||[],e=t.map(function(a){return a.keySystem}).filter(Boolean));"string"==typeof d&&(d=E.a[d]);"function"==typeof d&&(d=d(Object.assign({},this.defaultTransportOptions,c)));a.i(y.a)(d,"player: transport "+b.transport+" is not supported");return{url:f,keySystems:e,supplementaryTextTracks:m,hideNativeSubtitle:Q,
supplementaryImageTracks:g,timeFragment:h,autoPlay:u,defaultAudioTrack:D,defaultTextTrack:k,transport:d,startAt:x}};g.prototype.loadVideo=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=this._parseOptions(c);m.a.info("loadvideo",c);var e=c,h=e.url,g=e.keySystems,k=e.supplementaryTextTracks,l=e.hideNativeSubtitle,p=e.supplementaryImageTracks,r=e.timeFragment,z=e.autoPlay,w=e.transport,c=e.defaultAudioTrack,q=e.defaultTextTrack,e=e.startAt;this.stop();this.frag=r;this.playing.next(z);
null!=c&&this.adaptive.setAudioTrack(a.i(u.a)(c));void 0!==q&&this.adaptive.setTextTrack(a.i(u.b)(q));var q=this.video,x=this.adaptive,c=this.errorStream,y=this.createPipelines(w,{errorStream:c,audio:{cache:new D.a},video:{cache:new D.a},image:{maxRetry:0}}),w=a.i(A.a)(q,{requiresMediaSource:y.requiresMediaSource()}),h=a.i(Y.a)({url:h,errorStream:c,keySystems:g,supplementaryTextTracks:k,hideNativeSubtitle:l,timings:w,supplementaryImageTracks:p,timeFragment:r,adaptive:x,pipelines:y,videoElement:q,
autoPlay:z,startAt:e}).publish(),k=b(h,"stalled").startWith(null),g=b(h,"loaded").take(1).share(),k=g.mapTo("LOADED").concat(a.i(v.combineLatest)(this.playing,k,f)).distinctUntilChanged().startWith("LOADING"),l=a.i(t.a)(q,["play","pause"]),q=a.i(t.a)(q.textTracks,["addtrack"]),p=this.subscriptions=new n.Subscription;p.add(l.subscribe(this._playPauseNext$,d));p.add(q.subscribe(this._textTrackChanges$,d));p.add(k.subscribe(this._setPlayerState$,d));p.add(w.subscribe(this._triggerTimeChange$,d));p.add(h.subscribe(this._streamNext$,
this._streamFatalError$,this._streamComplete$));p.add(c.subscribe(this._streamError$));p.add(h.connect());this.subscriptions?this._triggerTimeChange():p.unsubscribe();return g};g.prototype._streamNext=function(a){var b=a.type,c=a.value;"buffer"==b&&this._bufferNext(c);"manifest"==b&&this._manifestNext(c);"pipeline"==b&&(this.trigger("progress",c.segment),b=c.parsed,"image"===c.bufferType&&(this._currentImagePlaylist=c=b.segmentData,this.trigger("imageTrackUpdate",{data:this._currentImagePlaylist}),
this.images.next(c)));this.stream&&this.stream.next(a)};g.prototype._streamError=function(a){this.trigger("warning",a);this.stream&&this.stream.next({type:"warning",value:a})};g.prototype._streamFatalError=function(a){this._resetStates();this.error=a;this._setPlayerState("STOPPED");this._unsubscribe();this.trigger("error",a);this.stream&&this.stream.next({type:"error",value:a})};g.prototype._streamComplete=function(){this._resetStates();this._setPlayerState("ENDED");this._unsubscribe();this.stream&&
this.stream.next({type:"ended",value:null})};g.prototype._manifestNext=function(a){this._manifest=a;this.trigger("manifestChange",a)};g.prototype._bufferNext=function(a){var b=a.bufferType,c=a.adaptation;a=a.representation;this.reps[b]=a;this.adas[b]=c;if("text"==b){var d=c&&c.language?{language:c.language,closedCaption:!!c.isClosedCaption,id:c.id}:null;this._recordState("subtitle",d&&d.language);this._recordState("textTrack",d)}"video"==b&&this._recordState("videoBitrate",a&&a.bitrate||-1);"audio"==
b&&(b={language:c&&c.language||"",audioDescription:!(!c||!c.isAudioDescription),id:c.id},this._recordState("language",b.language),this._recordState("audioTrack",b),this._recordState("audioBitrate",a&&a.bitrate||-1))};g.prototype._playPauseNext=function(a){!0!==this.video.ended&&this.playing.next("play"==a.type)};g.prototype._textTrackChanges=function(a){(a=a.target[0])&&this.trigger("nativeTextTrackChange",a)};g.prototype._setPlayerState=function(a){this.state!==a&&(this.state=a,m.a.info("playerStateChange",
a),this.trigger("playerStateChange",a))};g.prototype._triggerTimeChange=function(b){if(this._manifest&&b){this._manifest.isLive&&0<b.ts&&(b.wallClockTime=a.i(A.c)(b.ts,this._manifest),b.liveGap=a.i(A.d)(this._manifest)-b.ts);var c={position:b.ts,duration:b.duration,bufferGap:isFinite(b.gap)?b.gap:0,liveGap:b.liveGap,playbackRate:b.playback,wallClockTime:b.wallClockTime&&b.wallClockTime.getTime()/1E3,maximumBufferTime:a.i(A.e)(this._manifest)};this.trigger("positionUpdate",c);b.liveGap=c.maximumBufferTime-
b.ts;this.trigger("currentTimeChange",b)}else this.trigger("currentTimeChange",a.i(A.b)())};g.prototype.getError=function(){return this.error};g.prototype.getManifest=function(){return this._manifest||null};g.prototype.getCurrentAdaptations=function(){return this._manifest?this.adas:null};g.prototype.getCurrentRepresentations=function(){return this._manifest?this.reps:null};g.prototype.getVideoElement=function(){return this.video};g.prototype.getNativeTextTrack=function(){return 0<this.video.textTracks.length?
this.video.textTracks[0]:null};g.prototype.getImageTrack=function(){return this.images.distinctUntilChanged()};g.prototype.getPlayerState=function(){return this.state};g.prototype.isLive=function(){c(this);return this._manifest.isLive};g.prototype.getUrl=function(){c(this);return this._manifest.getUrl()};g.prototype.getVideoDuration=function(){return this.video.duration};g.prototype.getVideoLoadedTime=function(){return(new J.a(this.video.buffered)).getSize(this.video.currentTime)};g.prototype.getVideoPlayedTime=
function(){return(new J.a(this.video.buffered)).getLoaded(this.video.currentTime)};g.prototype.getCurrentTime=function(){a.i(p.a)("getCurrentTime is deprecated and won't be available in the next major version. Use either getWallClockTime or getPosition instead.");if(!this._manifest)return 0;var b=this.video.currentTime;return this._manifest.isLive?a.i(A.c)(b,this._manifest):b};g.prototype.getWallClockTime=function(){if(!this._manifest)return 0;var b=this.video.currentTime;return this.isLive()?+a.i(A.c)(b,
this._manifest)/1E3:b};g.prototype.getPosition=function(){return this.video.currentTime};g.prototype.getStartTime=function(){return this.frag.start};g.prototype.getEndTime=function(){return this.frag.end};g.prototype.getPlaybackRate=function(){return this.video.playbackRate};g.prototype.getVolume=function(){return this.video.volume};g.prototype.isFullscreen=function(){return a.i(x.c)()};g.prototype.getAvailableLanguages=function(){a.i(p.a)("getAvailableLanguages is deprecated and won't be available in the next major version. Use getAvailableAudioTracks instead.");
return this._manifest&&a.i(F.a)(this._manifest).map(function(a){return a.language})||[]};g.prototype.getAvailableSubtitles=function(){a.i(p.a)("getAvailableSubtitles is deprecated and won't be available in the next major version. Use getAvailableTextTracks instead.");return this._manifest&&a.i(F.b)(this._manifest).map(function(a){return a.language})||[]};g.prototype.getLanguage=function(){a.i(p.a)("getLanguage is deprecated and won't be available in the next major version. Use getAudioTrack instead.");
return this.evts.language};g.prototype.getSubtitle=function(){a.i(p.a)("getSubtitle is deprecated and won't be available in the next major version. Use getTextTrack instead.");return this.evts.subtitle};g.prototype.getAvailableVideoBitrates=function(){return this.adas.video&&this.adas.video.getAvailableBitrates()||[]};g.prototype.getAvailableAudioBitrates=function(){return this.adas.audio&&this.adas.audio.getAvailableBitrates()||[]};g.prototype.getVideoBitrate=function(){return this.evts.videoBitrate};
g.prototype.getAudioBitrate=function(){return this.evts.audioBitrate};g.prototype.getVideoMaxBitrate=function(){a.i(p.a)("getVideoMaxBitrate is deprecated. Use getMaxVideoBitrate instead");return this.getMaxVideoBitrate()};g.prototype.getMaxVideoBitrate=function(){return this.adaptive.getVideoMaxBitrate()};g.prototype.getAudioMaxBitrate=function(){a.i(p.a)("getAudioMaxBitrate is deprecated. Use getMaxAudioBitrate instead");return this.getMaxAudioBitrate()};g.prototype.getMaxAudioBitrate=function(){return this.adaptive.getAudioMaxBitrate()};
g.prototype.getVideoBufferSize=function(){return this.adaptive.getVideoBufferSize()};g.prototype.getAudioBufferSize=function(){return this.adaptive.getAudioBufferSize()};g.prototype.getAverageBitrates=function(){return this.adaptive.getAverageBitrates()};g.prototype.getMetrics=function(){return this.metrics};g.prototype.play=function(){this.video.play()};g.prototype.pause=function(){this.video.pause()};g.prototype.setPlaybackRate=function(a){this.video.playbackRate=a};g.prototype.goToStart=function(){return this.seekTo(this.getStartTime())};
g.prototype.seekTo=function(b){c(this);var d=this.video.currentTime;if(b){if(null!=b.relative){this.video.currentTime=d+b.relative;return}if(null!=b.position){this.video.currentTime=b.position;return}if(null!=b.wallClockTime){this.video.currentTime=a.i(A.f)(1E3*b.wallClockTime,this._manifest);return}}this._manifest.isLive&&(b=a.i(A.f)(b,this._manifest));return b!==d?(m.a.info("seek to",b),this.video.currentTime=b):d};g.prototype.exitFullscreen=function(){a.i(x.d)()};g.prototype.setFullscreen=function(){!1===
(0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0)?(a.i(p.a)("setFullscreen(false) is deprecated. Use exitFullscreen instead"),a.i(x.d)()):a.i(x.e)(this.video)};g.prototype.setVolume=function(a){a!==this.video.volume&&(this.video.volume=a,this.trigger("volumeChange",a))};g.prototype.mute=function(){this.muted=this.getVolume()||.1;this.setVolume(0)};g.prototype.unMute=function(){0===this.getVolume()&&this.setVolume(this.muted)};g.prototype.normalizeLanguageCode=function(b){return a.i(u.c)(b)};
g.prototype.isLanguageAvailable=function(b){a.i(p.a)("isLanguageAvailable is deprecated and won't be available in the next major version.");var c=a.i(u.a)(b);return c?(b=this.getAvailableAudioTracks())?!!b.find(function(a){return a.language===c.language}):!1:!1};g.prototype.isSubtitleAvailable=function(b){a.i(p.a)("isSubtitleAvailable is deprecated and won't be available in the next major version.");var c=a.i(u.b)(b);return c?(b=this.getAvailableTextTracks())?!!b.find(function(a){return a.language===
c.language}):!1:!1};g.prototype.setLanguage=function(b){a.i(p.a)("setLanguage is deprecated and won't be available in the next major version. Use setAudioTrack instead.");c(this);b=a.i(u.a)(b);a.i(y.a)(this.isLanguageAvailable(b),"player: unknown language");this.adaptive.setAudioTrack(b)};g.prototype.setSubtitle=function(b){a.i(p.a)("setSubtitle is deprecated and won't be available in the next major version. Use setTextTrack instead.");c(this);null==b?(this.adaptive.setTextTrack(null),this._recordState("subtitle",
null)):(b=a.i(u.b)(b),a.i(y.a)(this.isSubtitleAvailable(b),"player: unknown subtitle"),this.adaptive.setTextTrack(b))};g.prototype.setVideoBitrate=function(b){c(this);a.i(y.a)(0===b||0<=this.getAvailableVideoBitrates().indexOf(b),"player: video bitrate unavailable");this.adaptive.setVideoBitrate(b)};g.prototype.setAudioBitrate=function(b){c(this);a.i(y.a)(0===b||0<=this.getAvailableAudioBitrates().indexOf(b),"player: audio bitrate unavailable");this.adaptive.setAudioBitrate(b)};g.prototype.setVideoMaxBitrate=
function(b){a.i(p.a)("setVideoMaxBitrate is deprecated. Use setMaxVideoBitrate instead");return this.setMaxVideoBitrate(b)};g.prototype.setMaxVideoBitrate=function(a){this.adaptive.setVideoMaxBitrate(a)};g.prototype.setAudioMaxBitrate=function(b){a.i(p.a)("setAudioMaxBitrate is deprecated. Use setMaxAudioBitrate instead");return this.setMaxAudioBitrate(b)};g.prototype.setMaxAudioBitrate=function(a){this.adaptive.setAudioMaxBitrate(a)};g.prototype.setVideoBufferSize=function(a){this.adaptive.setVideoBufferSize(a)};
g.prototype.setAudioBufferSize=function(a){this.adaptive.setAudioBufferSize(a)};g.prototype.asObservable=function(){return this.stream};g.prototype.getDebug=function(){return w.a.getDebug(this)};g.prototype.showDebug=function(){w.a.showDebug(this,this.video)};g.prototype.hideDebug=function(){w.a.hideDebug()};g.prototype.toggleDebug=function(){w.a.toggleDebug(this,this.video)};g.prototype.getCurrentKeySystem=function(){return a.i(U.b)()};g.prototype.getAvailableAudioTracks=function(){var b=this.getAudioTrack();
return this._manifest?a.i(F.a)(this._manifest).map(function(a){return Object.assign({},a,{active:b.id===a.id})}):null};g.prototype.getAvailableTextTracks=function(){var b=this.getTextTrack();return this._manifest?a.i(F.b)(this._manifest).map(function(a){return Object.assign({},a,{active:!!b&&b.id===a.id})}):null};g.prototype.getAudioTrack=function(){return this.evts.audioTrack};g.prototype.getTextTrack=function(){return this.evts.textTrack};g.prototype.setAudioTrack=function(b){var c=this.getAvailableAudioTracks().find(function(a){return a.id===
b});a.i(y.a)(c,"player: unknown audio track");this.adaptive.setAudioTrack(c)};g.prototype.setTextTrack=function(b){var c=this.getAvailableTextTracks().find(function(a){return a.id===b});a.i(y.a)(c,"player: unknown text track");this.adaptive.setTextTrack(c)};g.prototype.disableTextTrack=function(){this.adaptive.setTextTrack(null);this._recordState("subtitle",null)};g.prototype.getImageTrackData=function(){return this._manifest?this._currentImagePlaylist:null};g.prototype.getMinimumPosition=function(){return this._manifest?
a.i(A.g)(this._manifest):null};g.prototype.getMaximumPosition=function(){return this._manifest?a.i(A.d)(this._manifest):null};return g}(e.a);g.a=e},function(e,g,a){function l(a){return"audio"==a||"video"==a}function k(b,c,e){var h=b.getDuration(),m=e.start,g=e.end,k=/^\d*(\.\d+)? ?%$/;if(c){h=a.i(d.h)(b);e=h[0];h=h[1];if(null!=c.position)return Math.max(Math.min(c.position,h),e);if(null!=c.wallClockTime)return Math.max(Math.min(b.isLive?c.wallClockTime-b.availabilityStartTime:c.wallClockTime,h),e);
if(null!=c.fromFirstPosition)return b=c.fromFirstPosition,0>=b?e:Math.min(e+b,h);if(null!=c.fromLastPosition)return b=c.fromLastPosition,0<=b?h:Math.max(e,h+b)}else{"string"==typeof m&&k.test(m)&&(m=parseFloat(m)/100*h);"string"==typeof g&&k.test(g)&&(e.end=parseFloat(g)/100*h);if(Infinity===g||"100%"===g)g=h;if(b.isLive){if(m)return a.i(d.f)(m,b);c=b.suggestedPresentationDelay;return a.i(d.d)(b)-(null==c?15:c)}a.i(f.a)(m<h&&g<=h,"stream: bad startTime and endTime");return m}return 0}var h=a(3),f=
a(1),d=a(42),c=a(29),b=a(0);a.n(b);var m=a(11),n=a(14);a.n(n);var p=a(20);a.n(p);var r=a(9),q=a(75),v=a(71),t=a(67),u=a(39),w=a(6),y=a(40);g.a=function(f){function e(a,b,c){Z[b]||(h.a.info("add sourcebuffer",c),Z[b]=a.addSourceBuffer(c));return Z[b]}function g(a,b,c,d){if(l(c))a=e(b,c,d);else{if(b=W[c])try{b.abort()}catch(da){h.a.warn(da)}finally{delete W[c]}if("text"==c)h.a.info("add text sourcebuffer",d),a=new q.a(a,d,P);else if("image"==c)h.a.info("add image sourcebuffer",d),a=new v.a(d);else throw h.a.error("unknown buffer type "+
c),new w.d("BUFFER_TYPE_UNKNOWN",null,!0);W[c]=a}return a}function x(a,b,c){var d=l(c);d?(a=Z[c],delete Z[c]):(a=W[c],delete W[c]);if(a)try{a.abort(),d&&b.removeSourceBuffer(a)}catch(da){h.a.warn(da)}}function J(b){var c=R.map(function(c){var f;ca?(f=c.clone(),f.ts=Math.min(c.ts,O.end),f.duration=Math.min(c.duration,O.end)):f=c;f.liveGap=b.isLive?a.i(d.e)(b)-c.ts:Infinity;return f}),f=a.i(d.i)(c);return{timings:c,seekings:f}}function G(c,d,f,e,m,k,n){return H.getAdaptationsChoice(d,e).switchMap(function(e){if(!e)return x(L,
c,d),a.i(t.a)(d);var p=g(L,c,d,f),u=H.getBufferAdapters(e);return a.i(t.b)({bufferType:d,sourceBuffer:p,adaptation:e,timings:m,seekings:k,adapters:u,pipeline:function(a){return M[d]({segment:a.segment,representation:a.representation,adaptation:e,manifest:n})},isLive:n.isLive})["catch"](function(a){h.a.error("buffer",d,"has crashed",a);if(!l(d))return S.next(a),b.Observable.empty();throw a;})})}function N(b){var c=a.i(r.o)(L)["do"](function(){var a=k(b,X,O);h.a.info("set initial time",a);L.playbackRate=
1;L.currentTime=a}),d=a.i(r.p)(L)["do"](function(){h.a.info("canplay event");V&&L.play();V=!0});return a.i(p.combineLatest)(c,d).take(1).mapTo({type:"loaded",value:!0})}function F(){return C&&C.length?a.i(u.c)(L,C,S):a.i(u.d)(L).map(function(){h.a.error("eme: ciphered media and no keySystem passed");throw new w.c("MEDIA_IS_ENCRYPTED_ERROR",null,!0);})}function E(b,c){var d=c.changePlaybackRate,f=void 0===d?!0:d;return b.distinctUntilChanged(function(b,c){var d=c.stalled,e=b.stalled,m;m=e||d?e&&d?
e.name==d.name:!1:!0;!m&&f&&(e?(h.a.info("resume playback",c.ts,c.name),L.playbackRate=e.playback):(h.a.info("stop playback",c.ts,c.name),L.playbackRate=0));d&&(d=c.buffered.getNextRangeGap(c.ts),a.i(r.q)(c)?(L.currentTime=c.ts,h.a.warn("after freeze seek",c.ts,c.range)):1>d&&(e=c.ts+d+1/60,L.currentTime=e,h.a.warn("discontinuity seek",c.ts,d,e)));return m}).map(function(a){return{type:"stalled",value:a.stalled}})}function K(b){return aa({url:b.getUrl()}).map(function(c){c=c.parsed;return{type:"manifest",
value:a.i(y.d)(b,a.i(y.c)(c.url,c.manifest,I,Q))}})}function T(c,d,f,m){var g=Object.keys(d.adaptations).map(function(b){var h=d.adaptations[b],g=a.i(y.e)(h[0].representations[0]);l(b)&&e(c,b,g);return G(c,b,g,h,f,m,d)}),g=n.merge.apply(void 0,g);return d.isLive?g.concatMap(function(a){a:{switch(a.type){case "index-discontinuity":h.a.warn("explicit discontinuity seek",a.value.ts);L.currentTime=a.value.ts;break;case "precondition-failed":d.updateLiveGap(1);h.a.warn("precondition failed",d.presentationLiveGap);
break;case "out-of-index":h.a.info("out of index");a=K(d);break a}a=b.Observable.of(a)}return a}):g}function Y(){return a.i(m.a)(L,"error").mergeMap(function(){var a=void 0;switch(L.error.code){case 1:a="MEDIA_ERR_ABORTED";break;case 2:a="MEDIA_ERR_NETWORK";break;case 3:a="MEDIA_ERR_DECODE";break;case 4:a="MEDIA_ERR_SRC_NOT_SUPPORTED"}h.a.error("stream: video element MEDIA_ERR("+a+")");throw new w.d(a,null,!0);})}var U=f.url,S=f.errorStream,C=f.keySystems,I=f.supplementaryTextTracks,P=f.hideNativeSubtitle,
Q=f.supplementaryImageTracks,R=f.timings,O=f.timeFragment,H=f.adaptive,M=f.pipelines,L=f.videoElement,V=f.autoPlay,X=f.startAt,ca=Infinity>O.end,aa=a.i(m.d)(M.manifest),Z={},W={};f=R.filter(function(a){var b=a.ts;a=a.duration;return 0<a&&.5>Math.min(a,O.end)-b});var ga=a.i(c.b)(function(c){var d=c.url,f=c.mediaSource;c=f?a.i(r.n)(f):b.Observable.of(null);return a.i(p.combineLatest)(aa({url:d}),c).mergeMap(function(c){c=c[0].parsed;c=a.i(y.c)(c.url,c.manifest,I,Q);if(f){var d=c.getDuration(),d=Infinity===
d?Number.MAX_VALUE:d;f.duration!==d&&(f.duration=d,h.a.info("set duration",f.duration))}var d=J(c),e=d.timings,m=d.seekings,d=b.Observable.of({type:"manifest",value:c}),g=F(),k=E(e,{changePlaybackRate:M.requiresMediaSource()}),l=N(c);c=T(f,c,e,m);e=Y();return a.i(n.merge)(d,l,k,g,c,e)})},{totalRetry:3,retryDelay:250,resetDelay:6E4,shouldRetry:function(a){return!0!==a.fatal},errorSelector:function(b){a.i(w.e)(b)||(b=new w.f("NONE",b,!0));b.fatal=!0;return b},onRetry:function(a,b){h.a.warn("stream retry",
a,b);S.next(a)}});return function(c,d){return b.Observable.create(function(b){function f(){if(e&&"closed"!=e.readyState)for(var b=e,c=b.readyState,b=b.sourceBuffers,f=0;f<b.length;f++){var g=b[f];try{"open"==c&&g.abort(),e.removeSourceBuffer(g)}catch(ea){h.a.warn("error while disposing souceBuffer",ea)}}Object.keys(W).forEach(function(a){a=W[a];try{a.abort()}catch(fa){h.a.warn("error while disposing souceBuffer",fa)}});a.i(r.l)(d);if(m)try{URL.revokeObjectURL(m)}catch(ea){h.a.warn("error while revoking ObjectURL",
ea)}Z={};W={};m=e=null}var e=void 0,m=void 0;f();if(M.requiresMediaSource()){if(!r.m)throw new w.d("MEDIA_SOURCE_NOT_SUPPORTED",null,!0);e=new r.m;m=URL.createObjectURL(e)}else e=null,m=c;d.src=m;b.next({url:c,mediaSource:e});h.a.info("create mediasource object",m);return f})}(U,L).mergeMap(ga).takeUntil(f)}},function(e,g,a){function l(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,
{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}e=a(41);var k=a(9),h=a(3),f=window.VTTCue||window.TextTrackCue;e=function(d){function c(b,f,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var h;h=d.call(this,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.video=b;h.codec=
f;h.isVTT=/^text\/vtt/.test(f);b=a.i(k.r)(b,e);f=b.trackElement;h.track=b.track;h.trackElement=f;return h}l(c,d);c.prototype.createCuesFromArray=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=d.start,h=d.end;(d=d.text)&&b.push(new f(e,h,d))}return b};c.prototype._append=function(b){var c=this;if(this.isVTT)a.i(k.s)()&&this.trackElement?(b=new Blob([b],{type:"text/vtt"}),b=URL.createObjectURL(b),this.trackElement.src=b,this.buffered.insert(0,Infinity)):h.a.warn("vtt subtitles not supported");
else if(b=this.createCuesFromArray(b),0<b.length){var d=b[0],f=b[b.length-1],e=this.track.cues;0<e.length&&d.startTime<e[e.length-1].startTime&&this._remove(d.startTime,Infinity);b.forEach(function(a){return c.track.addCue(a)});this.buffered.insert(0,d.startTime,f.endTime)}};c.prototype._remove=function(a,c){for(var b=this.track,d=b.cues,f=d.length-1;0<=f;f--){var e=d[f],h=e.startTime,m=e.endTime;h>=a&&h<=c&&m<=c&&b.removeCue(e)}this.buffered.remove(a,c)};c.prototype._abort=function(){var a=this.trackElement,
c=this.video;a&&c&&c.hasChildNodes(a)&&c.removeChild(a);this.track.mode="disabled";this.size=0;this.video=this.track=this.trackElement=null};return c}(e.a);g.a=e},function(e,g,a){function l(e){if("string"==typeof e){var g=e,m=g.split(",");a.i(c.a)(2>=m.length,b);e=m[0]?m[0]:"";m=m[1]?m[1]:"";a.i(c.a)((e||m)&&(!e||m||-1===g.indexOf(",")),b);e=e.replace(/^smpte(-25|-30|-30-drop)?:/,"").replace(/^npt[:=]/,"").replace("clock:","");var g=/(((\d+:)?(\d\d):(\d\d))|(\d+))(\.\d*)?$/,l=/^\d+:\d\d:\d\d(:\d\d(\.\d\d)?)?$/,
q=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))?$/,v=/^\d*(\.\d+)? ?%$/;if(g.test(e)&&g.test(m))g=k;else if(l.test(e)&&l.test(m))g=h;else if(q.test(e)&&q.test(m))g=f;else if(v.test(e)&&v.test(m))g=d;else throw Error(b);e=g(e);m=g(m);a.i(c.a)(!1!==e||!1!==m,b);e={start:!1===e?"":e,end:!1===m?"":m}}else e||(e={});"string"==typeof e.start&&"string"==typeof e.end?(e.start||(e.start="0%"),e.end||(e.end="100%")):(e.start||(e.start=0),e.end||(e.end=Infinity));"string"==typeof e.start&&
"string"==typeof e.end?(a.i(c.a)(0<=parseFloat(e.start)&&100>=parseFloat(e.start),"player: startTime should be between 0% and 100%"),a.i(c.a)(0<=parseFloat(e.end)&&100>=parseFloat(e.end),"player: endTime should be between 0% and 100%")):(a.i(c.a)(("number"==typeof e.start||e.start instanceof Date)&&("number"==typeof e.end||e.end instanceof Date),"player: timeFragment should have interface { start, end } where start and end are numbers or dates"),a.i(c.a)(e.start<e.end,"player: startTime should be lower than endTime"),
a.i(c.a)(0<=e.start,"player: startTime should be greater than 0"));return e}function k(d){if(!d)return!1;d=d.replace(/\.$/,"");var f,e;d=d.split(":");var h=d.length;switch(h){case 3:f=parseInt(d[0],10);e=parseInt(d[1],10);d=parseFloat(d[2]);break;case 2:f=0;e=parseInt(d[0],10);d=parseFloat(d[1]);break;case 1:e=f=0;d=parseFloat(d[0]);break;default:return!1}a.i(c.a)(23>=f,b);a.i(c.a)(59>=e,b);a.i(c.a)(1>=h||60>d,b);return 3600*f+60*e+d}function h(d){if(!d)return!1;var f,e,h,g;d=d.split(":");switch(d.length){case 3:f=
parseInt(d[0],10);e=parseInt(d[1],10);h=parseInt(d[2],10);g=d=0;break;case 4:f=parseInt(d[0],10);e=parseInt(d[1],10);h=parseInt(d[2],10);-1===d[3].indexOf(".")?(d=parseInt(d[3],10),g=0):(g=d[3].split("."),d=parseInt(g[0],10),g=parseInt(g[1],10));break;default:return!1}a.i(c.a)(23>=f,b);a.i(c.a)(59>=e,b);a.i(c.a)(59>=h,b);return 3600*f+60*e+h+.001*d+1E-6*g}function f(a){return new Date(Date.parse(a))}function d(a){return a?a:!1}a.d(g,"a",function(){return l});var c=a(1),b="invalid MediaFragment"},
function(e,g,a){e.exports=a(64)["default"]},function(e,g,a){var l=a(85),k=a(28);e=function(){function e(){var f=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var c=a.i(k.a)();this.id=null==d.id?c:""+d.id;this.type=d.type||"";this.representations=Array.isArray(d.representations)?d.representations.map(function(a){return new l.a(Object.assign({rootId:f.id},a))}).sort(function(a,c){return a.bitrate-c.bitrate}):
[];null!=d.language?this.language=d.language:null!=d.language&&(this.language=d.language);c=d.accessibility;Array.isArray(c)&&(c.includes("audioDescription")&&(this.isAudioDescription=!0),c.includes("closedCaption")&&(this.isClosedCaption=!0));null!=d.closedCaption&&(this.isClosedCaption=d.closedCaption);null!=d.audioDescription&&(this.isAudioDescription=d.audioDescription);null!=d.contentProtection&&(this.contentProtection=d.contentProtection);null!=d.smoothProtection&&(this._smoothProtection=d.smoothProtection);
this.manual=d.manual}e.prototype.getAvailableBitrates=function(){return this.representations.map(function(a){return a.bitrate})};e.prototype.getRepresentation=function(a){return this.representations.find(function(d){return a===d.id})};e.prototype.getRepresentationsForBitrate=function(a){return this.representations.filter(function(d){return d.bitrate===a})||null};return e}();g.a=e},function(e,g,a){e=a(26);a=a(18);g.a=Object.assign({},e.a,{getInitSegment:a.a,setTimescale:a.b,scale:a.c,_addSegmentInfos:function(a,
e){a.timeline.push({ts:e.ts,d:e.d,r:e.r,range:e.range});return!0},shouldRefresh:function(){return!1}})},function(e,g,a){a.d(g,"a",function(){return c});var l=a(26),k=a(81),h=a(83),f=a(82),d=a(79),c=function(a){switch(a.indexType){case "timeline":return l.a;case "list":return k.a;case "template":return h.a;case "smooth":return f.a;case "base":return d.a;default:return l.a}}},function(e,g,a){var l=a(22),k=a(18);g.a={getInitSegment:k.a,setTimescale:k.b,scale:k.c,getSegments:function(e,f,d,c){var b=a.i(k.e)(f,
d,c);d=f.duration;c=f.list;f=f.timescale;for(var h=Math.min(c.length-1,Math.floor(b.to/d)),g=[],b=Math.floor(b.up/d);b<=h;)g.push(new l.a({id:""+e+"_"+b,time:b*d,init:!1,range:c[b].range,duration:d,indexRange:null,timescale:f,media:c[b].media})),b++;return g},getFirstPosition:function(){return 0},getLastPosition:function(a){return a.list.length*a.duration/a.timescale},shouldRefresh:function(a,f,d,c){f=a.list;d=a.presentationTimeOffset;a=Math.floor((c*a.timescale-(void 0===d?0:d))/a.duration);return!(0<=
a&&a<f.length)},_addSegmentInfos:function(){return!1},checkDiscontinuity:function(){return-1}}},function(e,g,a){e=a(26);var l=a(18);g.a={getSegments:e.a.getSegments,getInitSegment:l.a,checkDiscontinuity:e.a.checkDiscontinuity,_addSegmentInfos:e.a._addSegmentInfos,setTimescale:l.b,scale:l.c,shouldRefresh:function(e,h){var f=e.timeline,d=e.timescale,c=e.presentationTimeOffset,f=f[f.length-1];if(!f)return!1;0>f.d&&(f={ts:f.ts,d:0,r:f.r});return h*d-(void 0===c?0:c)>=a.i(l.d)(f)},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/
a.timescale},getLastPosition:function(e){if(e.timeline.length){var h=e.timeline[e.timeline.length-1];return a.i(l.d)(h)/e.timescale}}}},function(e,g,a){var l=a(22),k=a(18);g.a={getInitSegment:k.a,setTimescale:k.b,scale:k.c,getSegments:function(e,f,d,c){var b=a.i(k.e)(f,d,c);d=b.to;c=f.duration;var h=f.startNumber,g=f.timescale;f=f.media;for(var p=[],b=b.up;b<=d;b+=c){var r=Math.floor(b/c)+(null==h?1:h),b=r*c;p.push(new l.a({id:""+e+"_"+r,number:r,time:b,init:!1,duration:c,range:null,indexRange:null,
timescale:g,media:f}))}return p},getFirstPosition:function(){},getLastPosition:function(){},shouldRefresh:function(){return!1},checkDiscontinuity:function(){return-1},_addSegmentInfos:function(){return!1}}},function(e,g,a){var l=a(78),k=a(28);e=function(){function e(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var d=a.i(k.a)();this.id=null==f.id?d:""+f.id;this.transport=f.transportType||"";this.adaptations=
f.adaptations?Object.keys(f.adaptations).reduce(function(a,b){a[b]=f.adaptations[b].map(function(a){return new l.a(a)});return a},{}):[];this.periods=[{adaptations:this.adaptations}];this.isLive="dynamic"===f.type;this.uris=f.locations||[];this._duration=f.duration;this.suggestedPresentationDelay=f.suggestedPresentationDelay;this.availabilityStartTime=f.availabilityStartTime;this.presentationLiveGap=f.presentationLiveGap;this.timeShiftBufferDepth=f.timeShiftBufferDepth}e.prototype.getDuration=function(){return this._duration};
e.prototype.getUrl=function(){return this.uris[0]};e.prototype.getAdaptations=function(){var a=this.adaptations;if(!a)return[];var d=[],c;for(c in a)d.push.apply(d,a[c]);return d};e.prototype.getAdaptation=function(a){return this.getAdaptations().find(function(d){return a===d.id})};e.prototype.updateLiveGap=function(a){this.isLive&&(this.presentationLiveGap+=a)};return e}();g.a=e},function(e,g,a){var l=a(28),k=a(86);g.a=function f(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};
if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var c=a.i(l.a)();this.id=null==d.id?c:d.id;this.bitrate=d.bitrate;this.codec=d.codecs;null!=d.height&&(this.height=d.height);null!=d.width&&(this.width=d.width);null!=d.mimeType&&(this.mimeType=d.mimeType);this.index=new k.a({index:d.index,rootId:this.id});this.baseURL=d.baseURL;null!=d.codecPrivateData&&(this._codecPrivateData=d.codecPrivateData);null!=d.channels&&(this._channels=d.channels);null!=d.bitsPerSample&&(this._bitsPerSample=
d.bitsPerSample);null!=d.packetSize&&(this._packetSize=d.packetSize);null!=d.samplingRate&&(this._samplingRate=d.samplingRate)}},function(e,g,a){var l=a(80);e=function(){function e(h){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._index=h.index;this._rootId=h.rootId;this._indexHelpers=a.i(l.a)(this._index)}e.prototype.getInitSegment=function(){return this._indexHelpers.getInitSegment(this._rootId,this._index)};e.prototype.getSegments=function(a,e){return this._indexHelpers.getSegments(this._rootId,
this._index,a,e)};e.prototype.shouldRefresh=function(a,e,d){return this._indexHelpers.shouldRefresh(this._index,a,e,d)};e.prototype.getFirstPosition=function(){return this._indexHelpers.getFirstPosition(this._index)};e.prototype.getLastPosition=function(){return this._indexHelpers.getLastPosition(this._index)};e.prototype.checkDiscontinuity=function(a){return this._indexHelpers.checkDiscontinuity(this._index,a)};e.prototype.scale=function(a){return this._indexHelpers.scale(this._index,a)};e.prototype.setTimescale=
function(a){return this._indexHelpers.setTimescale(this._index,a)};e.prototype._addSegments=function(a,e){for(var d=[],c=0;c<a.length;c++)this._indexHelpers._addSegmentInfos(this._index,a[c],e)&&d.push(a[c]);return d};e.prototype.update=function(a){this._index=a._index};e.prototype.getType=function(){return this._index.indexType||""};return e}();g.a=e},function(e,g,a){function l(a){var b=a[0];return(a=a[1])&&Infinity!==a?"bytes="+ +b+"-"+ +a:"bytes="+ +b+"-"}function k(a){return function(b,c,d){b=
d?parseInt(d,10):1;c=""+a;c=c.toString();b=c.length>=b?c:(Array(b+1).join("0")+c).slice(-b);return b}}function h(a,b,c){return-1===a.indexOf("$")?a:a.replace(/\$\$/g,"$").replace(/\$RepresentationID\$/g,c.id).replace(/\$Bandwidth(|\%0(\d+)d)\$/g,k(c.bitrate)).replace(/\$Number(|\%0(\d+)d)\$/g,k(b.number)).replace(/\$Time(|\%0(\d+)d)\$/g,k(b.time))}var f=a(0);a.n(f);e=a(8);a.n(e);var d=a(14);a.n(d);a(1);var c=a(23),b=a(92),m=a(10),n=a(46),p=a(90),r=a(45),q=a(44),v=e.EmptyObservable.create;g.a=function(){var e=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},g=e.contentProtectionParser;g||(g=function(){});var k=e.createXHR,y=function(b){var c=b.url;b=b.segment;var e=b.range;b=b.indexRange;if(e&&b&&e[1]===b[0]-1)return a.i(n.a)({url:c,responseType:"arraybuffer",headers:{Range:l([e[0],b[1]])},createXHR:k});e=e?{Range:l(e)}:null;e=a.i(n.a)({url:c,responseType:"arraybuffer",headers:e,createXHR:k});return b?(c=a.i(n.a)({url:c,responseType:"arraybuffer",headers:{Range:l(b)},createXHR:k}),a.i(d.merge)(e,
c)):e},x=function(b){var d=b.segment,g=b.adaptation,m=b.representation;b=b.manifest;var k=d.media,n=d.range,l=d.indexRange;if(d.isInit&&!(k||n||l))return v();var p=e.segmentLoader,k=k?h(k,d,m):"",k=a.i(c.b)(m.baseURL,k),t={adaptation:g,representation:m,manifest:b,segment:d,transport:"dash",url:k};return p?f.Observable.create(function(a){var b=!1,c=!1,d=p(t,{reject:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c||(b=!0,a.error(d))},resolve:function(){var d=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{};c||(b=!0,a.next({responseData:d.data,size:d.size||0,duration:d.duration||0}),a.complete())},fallback:function(){c=!0;y(t).subscribe(a)}});return function(){b||c||"function"!==typeof d||d()}}):y(t)},A={loader:function(a){return x({segment:a.segment,representation:a.representation,adaptation:a.adaptation,manifest:a.manifest})},parser:function(c){var d=c.segment,e=c.adaptation;c=new Uint8Array(c.response.responseData);var h=void 0,g=void 0,m=void 0,k=d.indexRange,
n=d.isInit;if(k=a.i(b.a)(c,k?k[0]:0))h=k.segments,g=k.timescale;n||(0<=d.time&&0<=d.duration?m={ts:d.time,d:d.duration}:k&&1===k.segments.length&&(m={ts:k.segments[0].ts,d:k.segments[0].d}));d=c;n&&e.contentProtection&&(d=a.i(b.b)(c,e.contentProtection));return f.Observable.of({segmentData:d,currentSegment:m,nextSegments:h,timescale:g})}};return{directFile:!1,manifest:{loader:function(b){b=b.url;return a.i(n.a)({url:b,responseType:"document",createXHR:k})},parser:function(b){b=b.response;var c=b.responseData;
return f.Observable.of({manifest:a.i(p.a)(c,g),url:b.url})}},audio:A,video:A,text:{loader:function(b){var e=b.segment,f=b.representation,g=e.media,m=e.range;b=e.indexRange;var p=0<=("application/mp4"===f.mimeType)?"arraybuffer":"text";if(e.isInit&&!(g||m||b))return v();e=g?h(g,e,f):"";e=a.i(c.b)(f.baseURL,e);if(m&&b&&m[1]===b[0]-1)return a.i(n.a)({url:e,responseType:p,headers:{Range:l([m[0],b[1]])},createXHR:k});m=a.i(n.a)({url:e,responseType:p,headers:m?{Range:l(m)}:null,createXHR:k});return b?(b=
a.i(n.a)({url:e,responseType:p,headers:{Range:l(b)},createXHR:k}),a.i(d.merge)(m,b)):m},parser:function(c){var d=c.response,e=c.segment,h=c.representation;c=c.adaptation.language;var g=e.isInit,k=e.indexRange,n;"application/mp4"===h.mimeType?(n=new Uint8Array(d.responseData),d=a.i(m.a)(a.i(b.c)(n))):d=n=d.responseData;var l=void 0,p=void 0,t=void 0;if(n=a.i(b.a)(n,k?k[0]:0))l=n.segments,p=n.timescale;k=[];if(!g)switch(0<=e.time&&0<=e.duration?t={ts:e.time,d:e.duration}:n&&1===n.segments.length&&(t=
{ts:n.segments[0].ts,d:n.segments[0].d}),e=h.codec,(void 0===e?"":e).toLowerCase()){case "stpp":k=a.i(r.a)(d,c,0);break;default:console.warn("The codec used for the subtitle is not managed yet.")}return f.Observable.of({segmentData:k,currentSegment:t,nextSegments:l,timescale:p})}},image:{loader:function(b){var d=b.segment;b=b.representation;if(d.isInit)return v();var e=d.media,d=e?h(e,d,b):"",d=a.i(c.b)(b.baseURL,d);return a.i(n.a)({url:d,responseType:"arraybuffer",createXHR:k})},parser:function(b){var c=
new Uint8Array(b.response.responseData),d=b=void 0;c&&(c=a.i(q.a)(c),b=c.thumbs,d=c.timescale);return f.Observable.of({segmentData:b,currentSegment:{ts:0,d:Infinity},timescale:d})}}}}},function(e,g,a){var l=a(1);e=a(19);var k=a(43),h=[{k:"profiles",fn:k.g},{k:"width",fn:parseInt},{k:"height",fn:parseInt},{k:"frameRate",fn:k.h},{k:"audioSamplingRate",fn:k.g},{k:"mimeType",fn:k.g},{k:"segmentProfiles",fn:k.g},{k:"codecs",fn:k.g},{k:"maximumSAPPeriod",fn:parseFloat},{k:"maxPlayoutRate",fn:parseFloat},
{k:"codingDependency",fn:k.i}],f=[{k:"timescale",fn:parseInt,def:1},{k:"timeShiftBufferDepth",fn:k.j},{k:"presentationTimeOffset",fn:parseFloat,def:0},{k:"indexRange",fn:k.f},{k:"indexRangeExact",fn:k.i,def:!1},{k:"availabilityTimeOffset",fn:parseFloat},{k:"availabilityTimeComplete",fn:k.i,def:!0}],d=f.concat([{k:"duration",fn:parseInt},{k:"startNumber",fn:parseInt}]),c={ContentProtection:[{k:"schemeIdUri",fn:k.g},{k:"value",fn:k.g}],SegmentURL:[{k:"media",fn:k.g},{k:"mediaRange",fn:k.f},{k:"index",
fn:k.g},{k:"indexRange",fn:k.f}],S:[{k:"t",fn:parseInt,n:"ts"},{k:"d",fn:parseInt},{k:"r",fn:parseInt}],SegmentTimeline:[],SegmentBase:f,SegmentTemplate:d.concat([{k:"initialization",fn:function(a){return{media:a,range:void 0}}},{k:"index",fn:k.g},{k:"media",fn:k.g},{k:"bitstreamSwitching",fn:k.g}]),SegmentList:d,ContentComponent:[{k:"id",fn:k.g},{k:"lang",fn:e.c,n:"language"},{k:"contentType",fn:k.g},{k:"par",fn:k.k}],Representation:h.concat([{k:"id",fn:k.g},{k:"bandwidth",fn:parseInt,n:"bitrate"},
{k:"qualityRanking",fn:parseInt}]),AdaptationSet:h.concat([{k:"id",fn:k.g},{k:"group",fn:parseInt},{k:"lang",fn:e.c,n:"language"},{k:"contentType",fn:k.g},{k:"par",fn:k.k},{k:"minBandwidth",fn:parseInt,n:"minBitrate"},{k:"maxBandwidth",fn:parseInt,n:"maxBitrate"},{k:"minWidth",fn:parseInt},{k:"maxWidth",fn:parseInt},{k:"minHeight",fn:parseInt},{k:"maxHeight",fn:parseInt},{k:"minFrameRate",fn:k.h},{k:"maxFrameRate",fn:k.h},{k:"segmentAlignment",fn:k.l},{k:"subsegmentAlignment",fn:k.l},{k:"bitstreamSwitching",
fn:k.i}]),Period:[{k:"id",fn:k.g},{k:"start",fn:k.j},{k:"duration",fn:k.j},{k:"bitstreamSwitching",fn:k.i}],MPD:[{k:"id",fn:k.g},{k:"profiles",fn:k.g},{k:"type",fn:k.g,def:"static"},{k:"availabilityStartTime",fn:k.m},{k:"availabilityEndTime",fn:k.m},{k:"publishTime",fn:k.m},{k:"mediaPresentationDuration",fn:k.j,n:"duration"},{k:"minimumUpdatePeriod",fn:k.j},{k:"minBufferTime",fn:k.j},{k:"timeShiftBufferDepth",fn:k.j},{k:"suggestedPresentationDelay",fn:k.j},{k:"maxSegmentDuration",fn:k.j},{k:"maxSubsegmentDuration",
fn:k.j}],Role:[{k:"schemeIdUri",fn:k.g},{k:"value",fn:k.g}],Accessibility:[{k:"schemeIdUri",fn:k.g},{k:"value",fn:parseInt}]};g.a=function(b,d){var e=c[b.nodeName];a.i(l.a)(e,"no attributes for "+b.nodeName);for(var f=d||{},h=0;h<e.length;h++){var g=e[h],m=g.k,k=g.fn,u=g.n,g=g.def;b.hasAttribute(m)?f[u||m]=k(b.getAttribute(m)):null!=g&&(f[u||m]=g)}return f}},function(e,g,a){a.d(g,"a",function(){return l});a.d(g,"b",function(){return k});a.d(g,"c",function(){return h});a.d(g,"d",function(){return f});
e=function(a){return function(c){return a.reduce(function(a,d){c.hasOwnProperty(d)&&(a[d]=c[d]);return a},{})}};var l=e("availabilityStartTime baseURL duration id locations periods presentationLiveGap suggestedPresentationDelay timeShiftBufferDepth transportType type".split(" ")),k=e(["adaptations","baseURL","duration","id","start"]),h=e("contentProtection accessibility baseURL contentProtection id language representations type".split(" ")),f=e("bitrate baseURL codecs height id index mimeType width".split(" "))},
function(e,g,a){function l(a,d){return"string"==typeof a?l.parseFromString(a,d):l.parseFromDocument(a,d)}var k=a(1),h=a(91);l.parseFromString=function(a,d){return l.parseFromDocument((new DOMParser).parseFromString(a,"application/xml"),d)};l.parseFromDocument=function(e,d){var c=e.documentElement;k.a.equal(c.nodeName,"MPD","document root should be MPD");return a.i(h.a)(c,d)};g.a=l},function(e,g,a){function l(b,c){var d=a.i(p.a)(b,function(a,b,d){switch(b){case "BaseURL":a.baseURL=d.textContent;break;
case "Location":a.locations.push(d.textContent);break;case "Period":a.periods.push(k(d,c))}return a},{transportType:"dash",periods:[],locations:[]}),d=a.i(q.a)(b,d);if(/dynamic/.test(d.type)){var e=d.periods[0].adaptations.filter(function(a){return"video"==a.type})[0],e=a.i(p.b)(e);e||(console.warn("Live edge not deduced from manifest, setting a default one"),e=Date.now()/1E3-60);d.availabilityStartTime=d.availabilityStartTime.getTime()/1E3;d.presentationLiveGap=Date.now()/1E3-(e+d.availabilityStartTime)}return a.i(r.a)(d)}
function k(b,c){var d=a.i(q.a)(b,a.i(p.a)(b,function(a,b,d){switch(b){case "BaseURL":a.baseURL=d.textContent;break;case "AdaptationSet":b=h(d,c),null==b.id&&(b.id=a.adaptations.length),a.adaptations.push(b)}return a},{adaptations:[]}));return a.i(r.b)(d)}function h(e,h){var g=void 0,m=a.i(p.a)(e,function(e,m,k){switch(m){case "Accessibility":g=a.i(q.a)(k);break;case "BaseURL":e.baseURL=k.textContent;break;case "ContentComponent":m=a.i(q.a)(k);e.contentComponent=m;break;case "ContentProtection":m=
h(a.i(q.a)(k),k);e.contentProtection=m;break;case "Representation":m=f(k);null==m.id&&(m.id=e.representations.length);e.representations.push(m);break;case "Role":m=a.i(q.a)(k);e.role=m;break;case "SegmentBase":e.index=b(k);break;case "SegmentList":e.index=c(k);break;case "SegmentTemplate":e.index=d(k)}return e},{representations:[]}),k=a.i(q.a)(e,m);k.type=a.i(p.c)(k);k.accessibility=[];a.i(p.d)(g)&&k.accessibility.push("hardOfHearing");a.i(p.e)(g)&&k.accessibility.push("visuallyImpaired");k.representations=
k.representations.map(function(a){v.forEach(function(b){!a.hasOwnProperty(b)&&k.hasOwnProperty(b)&&(a[b]=k[b])});return a});return a.i(r.c)(k)}function f(e){var f=a.i(p.a)(e,function(a,e,f){switch(e){case "BaseURL":a.baseURL=f.textContent;break;case "SegmentBase":a.index=b(f);break;case "SegmentList":a.index=c(f);break;case "SegmentTemplate":a.index=d(f)}return a},{});e=a.i(q.a)(e,f);return a.i(r.d)(e)}function d(a){a=m(a);a.indexType||(a.indexType="template");return a}function c(b){var c=m(b);c.list=
[];c.indexType="list";return a.i(p.a)(b,function(b,c,d){"SegmentURL"==c&&b.list.push(a.i(q.a)(d));return b},c)}function b(b){var c=a.i(p.a)(b,function(b,c,d){if("Initialization"==c){var e=c=void 0;d.hasAttribute("range")&&(c=a.i(p.f)(d.getAttribute("range")));d.hasAttribute("sourceURL")&&(e=d.getAttribute("sourceURL"));b.initialization={range:c,media:e}}return b},a.i(q.a)(b));"SegmentBase"==b.nodeName&&(c.indexType="base",c.timeline=[]);return c}function m(c){return a.i(p.a)(c,function(a,b,c){"SegmentTimeline"==
b&&(a.indexType="timeline",a.timeline=n(c));return a},b(c))}function n(b){return a.i(p.a)(b,function(b,c,d){c=b.length;d=a.i(q.a)(d);null==d.ts&&(c=0<c&&b[c-1],d.ts=c?c.ts+c.d*(c.r+1):0);null==d.r&&(d.r=0);b.push(d);return b},[])}a.d(g,"a",function(){return l});a(1);var p=a(43),r=a(89),q=a(88),v=["codecs","height","index","mimeType","width"]},function(e,g,a){function l(d,e){for(var f=d.length,h=0,g,m=void 0;h+8<f&&(m=a.i(b.e)(d,h),g=a.i(b.e)(d,h+4),a.i(c.a)(0<m,"dash: out of range size"),g!==e);)h+=
m;if(h>=f)return-1;a.i(c.a)(h+m<=f,"dash: atom out of range");return h}function k(d){for(var e=d.length,f=0,h,g=void 0;f+8<e&&(g=a.i(b.e)(d,f),h=a.i(b.e)(d,f+4),a.i(c.a)(0<g,"dash: out of range size"),1835295092!==h);)f+=g;d=f<e?d.subarray(f+8,f+g):null;return d}function h(c,d){var e=l(c,1936286840);if(-1==e)return null;var f=a.i(b.e)(c,e),e=e+4+4,h=c[e],e=e+8,g=a.i(b.e)(c,e),e=e+4;if(0===h)h=a.i(b.e)(c,e),e+=4,d+=a.i(b.e)(c,e)+f,e+=4;else if(1===h)h=a.i(b.f)(c,e),e+=8,d+=a.i(b.f)(c,e)+f,e+=8;else return null;
for(var f=[],e=e+2,k=a.i(b.g)(c,e),e=e+2;0<=--k;){var m=a.i(b.e)(c,e),e=e+4,n=m&2147483647;if(1==(m&2147483648)>>>31)throw Error("not implemented");m=a.i(b.e)(c,e);e+=4;e+=4;f.push({ts:h,d:m,r:0,range:[d,d+n-1]});h+=m;d+=n}return{segments:f,timescale:g}}function f(d){var e=d.systemId;d=d.privateData;e=e.replace(/-/g,"");a.i(c.a)(32===e.length);e=a.i(b.h)(4,a.i(b.j)(e),a.i(b.i)(d.length),d);d=e.length+8;return a.i(b.h)(a.i(b.i)(d),a.i(b.b)("pssh"),e)}function d(c,d){if(!d||!d.length)return c;var e=
l(c,1836019574);if(-1==e)return c;for(var h=a.i(b.e)(c,e),g=[c.subarray(e,e+h)],k=0;k<d.length;k++)g.push(f(d[k]));g=b.h.apply(null,g);g.set(a.i(b.i)(g.length),0);return a.i(b.h)(c.subarray(0,e),g,c.subarray(e+h))}a.d(g,"a",function(){return h});a.d(g,"b",function(){return d});a.d(g,"c",function(){return k});var c=a(1),b=a(10)},function(e,g,a){var l=a(0);a.n(l);g.a={directFile:!0,manifest:{parser:function(a){a=a.url;return l.Observable.of({manifest:{transportType:"directfile",locations:[a],periods:[],
isLive:!1,duration:Infinity,adaptations:null},url:a})}}}},function(e,g,a){e=a(96);var l=a(87);a=a(93);g.a={smooth:e.a,dash:l.a,directfile:a.a}},function(e,g,a){function l(a){return a.replace(d,"\n").replace(f,function(a,b){return String.fromCharCode(b)})}function k(d,e){var f=/<sync[ >]/ig,g=/<sync[ >]|<\/body>/ig,k=[],n=d.match(c)[1],p,w;g.exec(d);p=/\.(\S+)\s*{([^}]*)}/gi;w={};for(var y;y=p.exec(n);){var x=y[1];y=y[2].match(/\s*lang:\s*(\S+);/i)[1];x&&y&&(w[y]=x)}n=w[e];for(a.i(h.a)(n,"sami: could not find lang "+
e+" in CSS");;){p=f.exec(d);w=g.exec(d);if(!p&&!w)break;if(!p||!w||p.index>=w.index)throw Error("parse error");w=d.slice(p.index,w.index);p=w.match(m);if(!p)throw Error("parse error (sync time attribute)");x=+p[1];if(isNaN(x))throw Error("parse error (sync time attribute NaN)");p=k;w=w.split("\n");x/=1E3;y=w.length;for(var A;0<=--y;)if(A=w[y].match(b)){var z=A[2];n===A[1]&&("&nbsp;"===z?p[p.length-1].end=x:p.push({text:l(z),start:x}))}}return k}a.d(g,"a",function(){return k});var h=a(1),f=/&#([0-9]+);/g,
d=/<br>/gi,c=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,b=/\s*<p class=([^>]+)>(.*)/i,m=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i},function(e,g,a){function l(a){return a.responseData.getElementsByTagName("media")[0].getAttribute("src")}function k(a){return(a=a.match(F))&&a[1]||""}function h(a,b){return b?a.replace(F,"?token="+b):a.replace(F,"")}function f(a,b,c){return a.replace(/\{bitrate\}/g,b.bitrate).replace(/\{start time\}/g,c.time)}var d=a(0);a.n(d);var c=a(10),b=a(3),m=a(23),n=a(46),p=a(98);e=a(97);
var r=a(44),q=a(95),v=a(45),t=e.a.patchSegment,u=e.a.createVideoInitSegment,w=e.a.createAudioInitSegment,y=e.a.getMdat,x=e.a.getTraf,A=e.a.parseTfrf,z=e.a.parseTfxd,D={"application/x-sami":q.a,"application/smil":q.a,"application/ttml+xml":v.a,"application/ttml+xml+mp4":v.a,"text/vtt":function(a){return a}},J=n.a.RequestResponse,G=/\.(isml?)(\?token=\S+)?$/,N=/\.wsx?(\?token=\S+)?/,F=/\?token=(\S+)/;g.a=function(){function e(a,c,d){var e=void 0,f=void 0;d?(a=x(a))?(e=A(a),f=z(a)):b.a.warn("smooth: could not find traf atom"):
e=null;f||(f={d:c.duration,ts:c.time});return{nextSegments:e,currentSegment:f}}var g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},q=a.i(p.a)(g),v=g.createXHR,F=function(b){var c=b.segment,e=b.representation,h=b.adaptation;b=b.manifest;if(c.isInit){b={};var k=h._smoothProtection||{};switch(h.type){case "video":b=u(c.timescale,e.width,e.height,72,72,4,e._codecPrivateData,k.keyId,k.keySystems);break;case "audio":b=w(c.timescale,e._channels,e._bitsPerSample,e._packetSize,e._samplingRate,
e._codecPrivateData,k.keyId,k.keySystems)}return d.Observable.of(new J(200,"","arraybuffer",Date.now()-100,Date.now(),b.length,b))}var n=g.segmentLoader,k=f(a.i(m.b)(e.baseURL),e,c),l={adaptation:h,representation:e,segment:c,transport:"smooth",url:k,manifest:b};return n?d.Observable.create(function(a){var b=!1,c=!1,d=n(l,{reject:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c||(b=!0,a.error(d))},resolve:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{};c||(b=!0,a.next({responseData:d.data,size:d.size||0,duration:d.duration||0}),a.complete())},fallback:function(){c=!0;S(l).subscribe(a)}});return function(){b||c||"function"!==typeof d||d()}}):S(l)},S=function(b){var c=b.url,d=void 0;if(b=b.segment.range)d=b[0],d=(b=b[1])&&Infinity!==b?"bytes="+ +d+"-"+ +b:"bytes="+ +d+"-",d={Range:d};return a.i(n.a)({url:c,responseType:"arraybuffer",headers:d,createXHR:v})},C={loader:function(a){return F({segment:a.segment,representation:a.representation,adaptation:a.adaptation,
manifest:a.manifest})},parser:function(a){var b=a.segment,c=a.manifest;a=a.response.responseData;if(b.isInit)return d.Observable.of({segmentData:a,timings:null});a=new Uint8Array(a);c=e(a,b,c.isLive);b=c.nextSegments;c=c.currentSegment;a=t(a,c.ts);return d.Observable.of({segmentData:a,nextSegments:b,currentSegment:c})}};return{directFile:!1,manifest:{resolver:function(b){b=b.url;var c=void 0,e=k(b),c=N.test(b)?a.i(n.a)({url:h(b,""),responseType:"document",resultSelector:l,createXHR:v}):d.Observable.of(b);
return c.map(function(a){var b=a.match(G);a=b?a.replace(b[1],b[1]+"/manifest"):a;return{url:h(a,e)}})},loader:function(b){b=b.url;return a.i(n.a)({url:b,responseType:"document",createXHR:v})},parser:function(a){a=a.response;return d.Observable.of({manifest:q(a.responseData),url:a.url})}},audio:C,video:C,text:{loader:function(b){var c=b.segment,e=b.representation;if(c.isInit)return d.Observable.empty();b=e.mimeType;var h=a.i(m.b)(e.baseURL),c=f(h,e,c);return 0<=b.indexOf("mp4")?a.i(n.a)({url:c,responseType:"arraybuffer",
createXHR:v}):a.i(n.a)({url:c,responseType:"text",createXHR:v})},parser:function(b){var f=b.response,h=b.segment,g=b.manifest,k=b.adaptation.language,m=b.representation.mimeType;b=D[m];if(!b)throw Error("could not find a text-track parser for the type "+m);var n=f.responseData;0<=m.indexOf("mp4")?(n=new Uint8Array(n),f=a.i(c.a)(y(n))):f=n;m=e(n,h,g.isLive);g=m.nextSegments;m=m.currentSegment;h=b(f,k,h.time/h.timescale);return d.Observable.of({segmentData:h,currentSegment:m,nextSegments:g})}},image:{loader:function(b){var c=
b.segment;b=b.representation;if(c.isInit)return d.Observable.empty();var e=a.i(m.b)(b.baseURL),c=f(e,b,c);return a.i(n.a)({url:c,responseType:"arraybuffer",createXHR:v})},parser:function(b){var c=new Uint8Array(b.response.responseData),e=b=void 0;c&&(c=a.i(r.a)(c),b=c.thumbs,e=c.timescale);return d.Observable.of({segmentData:b,currentSegment:{ts:0,d:Infinity},timescale:e})}}}}},function(e,g,a){function l(b,c){var d=c.length+8,e=a.i(n.h),d=a.i(n.i)(d),f;r[b]?f=r[b]:(f=a.i(n.b)(b),r[b]=f);return e(d,
f,c)}function k(b,c,d,e,f){for(var h=b.length,g=0,k;g<h;){k=a.i(n.e)(b,g);if(1970628964===a.i(n.e)(b,g+4)&&a.i(n.e)(b,g+8)===c&&a.i(n.e)(b,g+12)===d&&a.i(n.e)(b,g+16)===e&&a.i(n.e)(b,g+20)===f)return b.subarray(g+24,g+k);g+=k}}function h(c,d){for(var e=c.length,f=0,h,g=void 0;f+8<e&&(g=a.i(n.e)(c,f),h=a.i(n.e)(c,f+4),a.i(b.a)(0<g,"smooth: out of range size"),h!==d);)f+=g;return f<e?c.subarray(f+8,f+g):null}function f(a,b,c,d){var e=[a,b,c];d.forEach(function(a){a=q.pssh(a.systemId,a.privateData,a.keyIds);
e.push(a)});return e}function d(b,c,d,e){var f=b.length,h=c.length;d=d.length;b=b.subarray(d,f);f=new Uint8Array(h+(f-d));f.set(c,0);f.set(b,h);c=c.length+8;f.set(a.i(n.i)(c),e+16);return f}function c(b,c,d,e,h,g,k){d=q.mult("stbl",[d,l("stts",new Uint8Array(8)),l("stsc",new Uint8Array(8)),l("stsz",new Uint8Array(12)),l("stco",new Uint8Array(8))]);var m=l("url ",new Uint8Array([0,0,0,1])),m=q.dref(m),m=q.mult("dinf",[m]);e=q.mult("minf",[e,m,d]);c=q.hdlr(c);d=q.mdhd(b);c=q.mult("mdia",[d,c,e]);h=
q.tkhd(h,g,1);h=q.mult("trak",[h,c]);g=q.trex(1);g=q.mult("mvex",[g]);b=q.mvhd(b,1);k=q.mult("moov",f(b,g,h,k));b=q.ftyp("isom",["isom","iso2","iso6","avc1","dash"]);return a.i(n.h)(b,k)}var b=a(1),m=a(9),n=a(10),p=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],r={},q={mult:function(a,b){return l(a,n.h.apply(null,b))},avc1encv:function(b,c,d,e,f,h,g,k,m,p){return l(b,a.i(n.h)(6,a.i(n.m)(c),16,a.i(n.m)(d),a.i(n.m)(e),a.i(n.m)(f),2,a.i(n.m)(h),6,[0,1,g.length],a.i(n.b)(g),31-
g.length,a.i(n.m)(k),[255,255],m,"encv"===b?p:[]))},avcc:function(b,c,d){d=2===d?1:4===d?3:0;var e=b[1],f=b[2],h=b[3];return l("avcC",a.i(n.h)([1,e,f,h,252|d,225],a.i(n.m)(b.length),b,[1],a.i(n.m)(c.length),c))},dref:function(b){return l("dref",a.i(n.h)(7,[1],b))},esds:function(b,c){return l("esds",a.i(n.h)(4,[3,25],a.i(n.m)(b),[0,4,17,64,21],11,[5,2],a.i(n.j)(c),[6,1,2]))},frma:function(b){return l("frma",a.i(n.b)(b))},free:function(a){return l("free",new Uint8Array(a-8))},ftyp:function(b,c){return l("ftyp",
n.h.apply(null,[a.i(n.b)(b),[0,0,0,1]].concat(c.map(n.b))))},hdlr:function(b){var c;switch(b){case "video":b="vide";c="VideoHandler";break;case "audio":b="soun";c="SoundHandler";break;default:b="hint",c=""}return l("hdlr",a.i(n.h)(8,a.i(n.b)(b),12,a.i(n.b)(c),1))},mdhd:function(b){return l("mdhd",a.i(n.h)(12,a.i(n.i)(b),8))},moof:function(a,b){return q.mult("moof",[a,b])},mp4aenca:function(b,c,d,e,f,h,g,k){return l(b,a.i(n.h)(6,a.i(n.m)(c),8,a.i(n.m)(d),a.i(n.m)(e),2,a.i(n.m)(f),a.i(n.m)(h),2,g,"enca"===
b?k:[]))},mvhd:function(b,c){return l("mvhd",a.i(n.h)(12,a.i(n.i)(b),4,[0,1],2,[1,0],10,[0,1],14,[0,1],14,[64,0,0,0],26,a.i(n.m)(c+1)))},pssh:function(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];c=c.replace(/-/g,"");a.i(b.a)(32===c.length,"wrong system id length");var f,h=e.length;0<h?(f=1,e=n.h.apply(null,[a.i(n.i)(h)].concat(e))):(f=0,e=[]);return l("pssh",a.i(n.h)([f,0,0,0],a.i(n.j)(c),e,a.i(n.i)(d.length),d))},
saio:function(b,c,d,e){return l("saio",a.i(n.h)(4,[0,0,0,1],a.i(n.i)(b.length+c.length+d.length+e.length+8+8+8+8)))},saiz:function(b){if(0===b.length)return l("saiz",new Uint8Array);var c=a.i(n.e)(b,0),d=a.i(n.e)(b,4),e=new Uint8Array(9+d);e.set(a.i(n.i)(d),5);for(var d=9,f=8,h,g;f<b.length;)f+=8,2===(c&2)?(g=2,h=a.i(n.g)(b,f),f+=2+6*h):g=h=0,e[d]=6*h+8+g,d++;return l("saiz",e)},schm:function(b,c){return l("schm",a.i(n.h)(4,a.i(n.b)(b),a.i(n.i)(c)))},senc:function(a){return l("senc",a)},smhd:function(){return l("smhd",
new Uint8Array(8))},stsd:function(a){return l("stsd",n.h.apply(null,[7,[a.length]].concat(a)))},tkhd:function(b,c,d){return l("tkhd",a.i(n.h)(a.i(n.i)(7),8,a.i(n.i)(d),20,[1,0,0,0],[0,1,0,0],12,[0,1,0,0],12,[64,0,0,0],a.i(n.m)(b),2,a.i(n.m)(c),2))},trex:function(b){return l("trex",a.i(n.h)(4,a.i(n.i)(b),[0,0,0,1],12))},tfdt:function(b){return l("tfdt",a.i(n.h)([1,0,0,0],a.i(n.n)(b)))},tenc:function(b,c,d){return l("tenc",a.i(n.h)(6,[b,c],a.i(n.j)(d)))},traf:function(a,b,c,d,e){var f=[a,b,c];d&&f.push(q.senc(d),
q.saiz(d),q.saio(e,a,b,c));return q.mult("traf",f)},trun:function(b){if(b[11]&1)return b;var c=new Uint8Array(b.length+4);c.set(a.i(n.i)(b.length+4),0);c.set(b.subarray(4,16),4);c[11]|=1;c.set([0,0,0,0],16);c.set(b.subarray(16,b.length),20);return c},vmhd:function(){var a=new Uint8Array(12);a[3]=1;return l("vmhd",a)}},v={traf:function(a){return(a=h(a,1836019558))?h(a,1953653094):null},senc:function(a){return k(a,2721664850,1520127764,2722393154,2086964724)},tfxd:function(a){return k(a,1830656773,
1121273062,2162299933,2952222642)},tfrf:function(a){return k(a,3565190898,3392751253,2387879627,2655430559)},mdat:function(a){return h(a,1835295092)}};g.a={getMdat:v.mdat,getTraf:v.traf,parseTfrf:function(b){b=v.tfrf(b);if(!b)return[];for(var c=[],d=b[0],e=b[4],f=0;f<e;f++){var h,g;1==d?(g=a.i(n.f)(b,16*f+5),h=a.i(n.f)(b,16*f+13)):(g=a.i(n.e)(b,8*f+5),h=a.i(n.e)(b,8*f+9));c.push({ts:g,d:h})}return c},parseTfxd:function(b){if(b=v.tfxd(b))return{d:a.i(n.f)(b,12),ts:a.i(n.f)(b,4)}},createVideoInitSegment:function(b,
d,e,f,h,g,k,m,l){l||(l=[]);var p=k.split("00000001");k=p[1];p=p[2];k=a.i(n.j)(k);p=a.i(n.j)(p);g=q.avcc(k,p,g);l.length?(m=q.tenc(1,8,m),m=q.mult("schi",[m]),k=q.schm("cenc",65536),p=q.frma("avc1"),m=q.mult("sinf",[p,k,m]),f=q.avc1encv("encv",1,d,e,f,h,"AVC Coding",24,g,m)):f=q.avc1encv("avc1",1,d,e,f,h,"AVC Coding",24,g);f=q.stsd([f]);return c(b,"video",f,q.vmhd(),d,e,l)},createAudioInitSegment:function(b,d,e,f,h,g,k,m){m||(m=[]);g||(g=(32|p.indexOf(h)&31)<<4,g=(g|d&31)<<3,g=a.i(n.o)(a.i(n.m)(g)));
g=q.esds(1,g);if(m.length){k=q.tenc(1,8,k);k=q.mult("schi",[k]);var l=q.schm("cenc",65536),r=q.frma("mp4a");k=q.mult("sinf",[r,l,k]);d=q.mp4aenca("enca",1,d,e,f,h,g,k)}else d=q.mp4aenca("mp4a",1,d,e,f,h,g);d=q.stsd([d]);return c(b,"audio",d,q.smhd(),0,0,m)},patchSegment:function(b,c){var e=b.subarray(0,a.i(n.e)(b,0)),f=q.tfdt(c),g=f.length,h=a.i(n.e)(e,8),k=a.i(n.e)(e,8+h),l=a.i(n.e)(e,8+h+8),p=a.i(n.e)(e,8+h+8+l),r=e.subarray(8,8+h),u=e.subarray(8+h+8,8+h+8+k-8),k=u.subarray(0,l),p=u.subarray(l,
l+p);k.set([0,0,0,1],12);u=v.senc(u);p=q.trun(p);f=q.traf(k,f,p,u,r);r=q.moof(r,f);g=8+h+8+l+g;return m.t?d(b,r,e,g):8<=e.length-r.length?(e=e.length-r.length,b.set(r,0),b.set(q.free(e),r.length),e=r.length+8+e,b.set(a.i(n.i)(e),g+16),b):d(b,r,e,g)}}},function(e,g,a){function l(a){return"boolean"==typeof a?a:"string"==typeof a?"TRUE"===a.toUpperCase():!1}function k(a){if(!a)return Infinity;a=a.index;var b=a.timeline[a.timeline.length-1];return(b.ts+(b.r+1)*b.d)/a.timescale}function h(b){return[{systemId:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",
privateData:a.i(f.h)([8,1,18,16],b)}]}var f=a(10),d=a(1),c=a(19),b={audio:"audio/mp4",video:"video/mp4",text:"application/ttml+xml"},m={audio:"mp4a.40.2",video:"avc1.4D401E"};e={AACL:"audio/mp4",AVC1:"video/mp4",H264:"video/mp4",TTML:"application/ttml+xml+mp4"};var n={audio:[["Bitrate","bitrate",parseInt],["AudioTag","audiotag",parseInt],["FourCC","mimeType",e],["Channels","channels",parseInt],["SamplingRate","samplingRate",parseInt],["BitsPerSample","bitsPerSample",parseInt],["PacketSize","packetSize",
parseInt],["CodecPrivateData","codecPrivateData",String]],video:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",e],["CodecPrivateData","codecs",function(a){return(a=(/00000001\d7([0-9a-fA-F]{6})/.exec(a)||[])[1])?"avc1."+a:""}],["MaxWidth","width",parseInt],["MaxHeight","height",parseInt],["CodecPrivateData","codecPrivateData",String]],text:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",e]]};g.a=function(){function e(a,b,c){for(a=a.firstElementChild;a;)c=b(c,a.nodeName,a),a=a.nextElementSibling;
return c}function g(f,g){f.hasAttribute("Timescale")&&(g=+f.getAttribute("Timescale"));var h=f.getAttribute("Type"),k=f.getAttribute("Subtype"),l=f.getAttribute("Name"),p=a.i(c.c)(f.getAttribute("Language")),r=f.getAttribute("Url"),q=n[h],u=[];a.i(d.a)(q,"unrecognized QualityLevel type "+h);var t=0,v=e(f,function(a,b,c){switch(b){case "QualityLevel":b={};for(var d=0;d<q.length;d++){var e=q[d],f=e[0],g=e[2];b[e[1]]="function"==typeof g?g(c.getAttribute(f)):g[c.getAttribute(f)]}"audio"==h&&(c=c.getAttribute("FourCC")||
"",d=b.codecPrivateData,c="AACH"==c?5:d?(parseInt(d.substr(0,2),16)&248)>>3:2,b.codecs=c?"mp4a.40."+c:"");if("video"!=h||b.bitrate>x)b.id=t++,a.representations.push(b);break;case "c":b=a.index;var d=a.index.timeline,e=d.length,f=0<e?d[e-1]:{d:0,ts:0,r:0},g=+c.getAttribute("d"),k=c.getAttribute("t");(c=+c.getAttribute("r"))&&c--;0<e&&!f.d&&(f.d=k-f.ts,d[e-1]=f);0<e&&g==f.d&&null==k?f.r+=(c||0)+1:d.push({d:g,ts:null==k?f.ts+f.d*(f.r+1):+k,r:c});b.timeline=d}return a},{representations:[],index:{timeline:[],
indexType:"smooth",timescale:g,initialization:{}}}),w=v.representations,v=v.index;a.i(d.a)(w.length,"adaptation should have at least one representation");w.forEach(function(a){return a.codecs=a.codecs||m[h]});w.forEach(function(a){return a.mimeType=a.mimeType||b[h]});if("ADVT"==k)return null;"text"===h&&"DESC"===k&&u.push("hardOfHearing");return{type:h,accessibility:u,index:v,representations:w,name:l,language:p,baseURL:r}}function q(a){return v((new DOMParser).parseFromString(a,"application/xml"))}
function v(b){b=b.documentElement;d.a.equal(b.nodeName,"SmoothStreamingMedia","document root should be SmoothStreamingMedia");a.i(d.a)(/^[2]-[0-2]$/.test(b.getAttribute("MajorVersion")+"-"+b.getAttribute("MinorVersion")),"Version should be 2.0, 2.1 or 2.2");var c=+b.getAttribute("Timescale")||1E7,h=[],m=e(b,function(b,e,k){switch(e){case "Protection":k=k.firstElementChild;d.a.equal(k.nodeName,"ProtectionHeader","Protection should have ProtectionHeader child");e=a.i(f.b)(atob(k.textContent));var m;
m=a.i(f.d)(e,8);m=a.i(f.k)(e.subarray(10,10+m));m=(new DOMParser).parseFromString(m,"application/xml").querySelector("KID").textContent;m=a.i(f.l)(atob(m)).toLowerCase();var n=a.i(f.j)(m);k=k.getAttribute("SystemID").toLowerCase().replace(/\{|\}/g,"");e={keyId:m,keySystems:[{systemId:k,privateData:e}].concat(A(n))};b.protection=e;break;case "StreamIndex":if(e=g(k,c)){k=0;do m=e.type+"_"+(e.language?e.language+"_":"")+k++;while(h.includes(m));e.id=m;h.push(m);b.adaptations.push(e)}}return b},{protection:null,
adaptations:[]}),n=m.protection,m=m.adaptations;m.forEach(function(a){return a.smoothProtection=n});var p=void 0,r=void 0,q=void 0,u=void 0,t=l(b.getAttribute("IsLive"));if(t)var p=w,q=+b.getAttribute("DVRWindowLength")/c,u=y,r=m.filter(function(a){return"video"==a.type})[0],v=m.filter(function(a){return"audio"==a.type})[0],r=Math.min(k(r),k(v)),r=Date.now()/1E3-(r+u);return{transportType:"smooth",profiles:"",type:t?"dynamic":"static",suggestedPresentationDelay:p,timeShiftBufferDepth:q,presentationLiveGap:r,
availabilityStartTime:u,periods:[{duration:(+b.getAttribute("Duration")||Infinity)/c,adaptations:m,laFragCount:+b.getAttribute("LookAheadFragmentCount")}]}}function t(a){return"string"==typeof a?q(a):v(a)}var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},w=u.suggestedPresentationDelay||20,y=u.referenceDateTime||Date.UTC(1970,0,1,0,0,0,0)/1E3,x=u.minRepresentationBitrate||19E4,A=u.keySystems||h;t.parseFromString=q;t.parseFromDocument=v;return t}},function(e,g,a){function l(a){return a*
Math.pow(2,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)-1)*(1+(2*Math.random()-1)*k)}a.d(g,"a",function(){return l});var k=.3},function(e,g,a){a.d(g,"a",function(){return l});var l=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.hash={}}a.prototype.add=function(a){this.hash[a]=!0};a.prototype.remove=function(a){delete this.hash[a]};a.prototype.test=function(a){return!0===this.hash[a]};return a}()},function(e,g,a){function l(a){return null==
a?"":String(a).replace(n,function(a){return p[a]})}function k(b){var d=b.getAverageBitrates(),e=void 0,f=void 0;d.video.take(1).subscribe(function(a){return f=a|0});d.audio.take(1).subscribe(function(a){return e=a|0});return{manifest:b._manifest,version:b.version,timeFragment:b.frag,currentTime:b.getCurrentTime(),state:b.getPlayerState(),buffer:a.i(c.b)(b.video.buffered),volume:b.getVolume(),video:{adaptation:b.adas.video,representation:b.reps.video,maxBitrate:b.getVideoMaxBitrate(),bufferSize:b.getVideoBufferSize(),
avrBitrate:f},audio:{adaptation:b.adas.audio,representation:b.reps.audio,maxBitrate:b.getAudioMaxBitrate(),bufferSize:b.getAudioBufferSize(),avrBitrate:e}}}function h(a,b){var c=b.parentNode.querySelector("#cp--debug-infos-content");if(c){var d=void 0;try{d=k(a)}catch(x){return}var e=d,f=e.video,g=e.audio,e=e.manifest,d="<b>Player v"+d.version+"</b> ("+d.state+")<br>";e&&f&&g&&(d+=["Container: "+l(e.transport),"Live: "+l(""+e.isLive),"Downloading bitrate (Kbit/s):\n          "+(f.representation.bitrate/
1E3).toFixed(3)+"/"+(g.representation.bitrate/1E3).toFixed(3),"Estimated bandwidth (Kbit/s):\n          "+(f.avrBitrate/1E3).toFixed(3)+"/"+(g.avrBitrate/1E3).toFixed(3),"Location: "+e.uris[0]].join("<br>"));c.innerHTML=d}}function f(a,c){var e="<style>\n#cp--debug-infos {\n  position: absolute;\n  top: "+l(c.offsetTop+10)+"px;\n  left: "+l(c.offsetLeft+10)+'px;\n  width: 500px;\n  height: 300px;\n  background-color: rgba(10, 10, 10, 0.83);\n  overflow: hidden;\n  color: white;\n  text-align: left;\n  padding: 2em;\n  box-sizing: border-box;\n}\n#cp--debug-hide-infos {\n  float: right;\n  cursor: pointer;\n}\n</style>\n<div id="cp--debug-infos">\n  <a id="cp--debug-hide-infos">[x]</a>\n  <p id="cp--debug-infos-content"></p>\n</div>',
f=c.parentNode,g=f.querySelector("#cp--debug-infos-container");g||(g=document.createElement("div"),g.setAttribute("id","cp--debug-infos-container"),f.appendChild(g));g.innerHTML=e;m||(m=f.querySelector("#cp--debug-hide-infos"),m.addEventListener("click",function(){return d(c)}));b&&clearInterval(b);b=setInterval(function(){return h(a,c)},1E3);h(a,c)}function d(a){(a=a.parentNode.querySelector("#cp--debug-infos-container"))&&a.parentNode.removeChild(a);b&&(clearInterval(b),b=null);m&&(m.removeEventListener("click",
d),m=null)}var c=a(17),b=void 0,m=void 0,n=/[&<>"']/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};g.a={getDebug:k,showDebug:f,hideDebug:d,toggleDebug:function(a,b){b.parentNode.querySelector("#cp--debug-infos-container")?d(b):f(a,b)}}},function(e,g,a){g.a=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(a),g=1;g<arguments.length;g++){var f=arguments[g];if(void 0!==f&&null!==f)for(var d in f)f.hasOwnProperty(d)&&
(e[d]=f[d])}return e}},function(e,g,a){var l=[];g.a=function(a){l.includes(a)||(console.warn(a),l.push(a))}},function(e,g,a){var l=this&&this.__extends||function(a,e){function f(){this.constructor=a}for(var d in e)e.hasOwnProperty(d)&&(a[d]=e[d]);a.prototype=null===e?Object.create(e):(f.prototype=e.prototype,new f)};e=function(a){function e(e,d,c){a.call(this);this.parent=e;this.outerValue=d;this.outerIndex=c;this.index=0}l(e,a);e.prototype._next=function(a){this.parent.notifyNext(this.outerValue,
a,this.outerIndex,this.index++,this)};e.prototype._error=function(a){this.parent.notifyError(a,this);this.unsubscribe()};e.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe()};return e}(a(2).Subscriber);g.InnerSubscriber=e},function(e,g,a){var l=a(0);e=function(){function a(a,e,d){this.kind=a;this.value=e;this.error=d;this.hasValue="N"===a}a.prototype.observe=function(a){switch(this.kind){case "N":return a.next&&a.next(this.value);case "E":return a.error&&a.error(this.error);
case "C":return a.complete&&a.complete()}};a.prototype["do"]=function(a,e,d){switch(this.kind){case "N":return a&&a(this.value);case "E":return e&&e(this.error);case "C":return d&&d()}};a.prototype.accept=function(a,e,d){return a&&"function"===typeof a.next?this.observe(a):this["do"](a,e,d)};a.prototype.toObservable=function(){switch(this.kind){case "N":return l.Observable.of(this.value);case "E":return l.Observable["throw"](this.error);case "C":return l.Observable.empty()}throw Error("unexpected notification kind value");
};a.createNext=function(e){return"undefined"!==typeof e?new a("N",e):this.undefinedValueNotification};a.createError=function(e){return new a("E",void 0,e)};a.createComplete=function(){return this.completeNotification};a.completeNotification=new a("C");a.undefinedValueNotification=new a("N",void 0);return a}();g.Notification=e},function(e,g,a){e=function(){function a(e,g){void 0===g&&(g=a.now);this.SchedulerAction=e;this.now=g}a.prototype.schedule=function(a,e,f){void 0===e&&(e=0);return(new this.SchedulerAction(this,
a)).schedule(f,e)};a.now=Date.now?Date.now:function(){return+new Date};return a}();g.Scheduler=e},function(e,g,a){var l=this&&this.__extends||function(a,e){function f(){this.constructor=a}for(var d in e)e.hasOwnProperty(d)&&(a[d]=e[d]);a.prototype=null===e?Object.create(e):(f.prototype=e.prototype,new f)};e=function(a){function e(e,d){a.call(this);this.subject=e;this.subscriber=d;this.closed=!1}l(e,a);e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var a=this.subject,d=a.observers;
this.subject=null;!d||0===d.length||a.isStopped||a.closed||(a=d.indexOf(this.subscriber),-1!==a&&d.splice(a,1))}};return e}(a(4).Subscription);g.SubjectSubscription=e},function(e,g,a){e=a(0);a=a(141);e.Observable.empty=a.empty},function(e,g,a){e=a(0);a=a(142);e.Observable.of=a.of},function(e,g,a){e=a(0);a=a(143);e.Observable["throw"]=a._throw},function(e,g,a){e=a(0);a=a(144);e.Observable.prototype["catch"]=a._catch;e.Observable.prototype._catch=a._catch},function(e,g,a){e=a(0);a=a(52);e.Observable.prototype.concat=
a.concat},function(e,g,a){e=a(0);a=a(146);e.Observable.prototype.concatAll=a.concatAll},function(e,g,a){e=a(0);a=a(147);e.Observable.prototype.concatMap=a.concatMap},function(e,g,a){e=a(0);a=a(148);e.Observable.prototype.debounceTime=a.debounceTime},function(e,g,a){e=a(0);a=a(149);e.Observable.prototype.distinctUntilChanged=a.distinctUntilChanged},function(e,g,a){e=a(0);a=a(150);e.Observable.prototype["do"]=a._do;e.Observable.prototype._do=a._do},function(e,g,a){e=a(0);a=a(151);e.Observable.prototype.filter=
a.filter},function(e,g,a){e=a(0);a=a(152);e.Observable.prototype["finally"]=a._finally;e.Observable.prototype._finally=a._finally},function(e,g,a){e=a(0);a=a(153);e.Observable.prototype.ignoreElements=a.ignoreElements},function(e,g,a){e=a(0);a=a(154);e.Observable.prototype.map=a.map},function(e,g,a){e=a(0);a=a(155);e.Observable.prototype.mapTo=a.mapTo},function(e,g,a){e=a(0);a=a(53);e.Observable.prototype.mergeMap=a.mergeMap;e.Observable.prototype.flatMap=a.mergeMap},function(e,g,a){e=a(0);a=a(33);
e.Observable.prototype.multicast=a.multicast},function(e,g,a){e=a(0);a=a(158);e.Observable.prototype.publish=a.publish},function(e,g,a){e=a(0);a=a(159);e.Observable.prototype.scan=a.scan},function(e,g,a){e=a(0);a=a(160);e.Observable.prototype.share=a.share},function(e,g,a){e=a(0);a=a(161);e.Observable.prototype.skip=a.skip},function(e,g,a){e=a(0);a=a(162);e.Observable.prototype.startWith=a.startWith},function(e,g,a){e=a(0);a=a(163);e.Observable.prototype.switchMap=a.switchMap},function(e,g,a){e=a(0);
a=a(164);e.Observable.prototype.take=a.take},function(e,g,a){e=a(0);a=a(165);e.Observable.prototype.takeUntil=a.takeUntil},function(e,g,a){e=a(0);a=a(166);e.Observable.prototype.timeout=a.timeout},function(e,g,a){var l=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};e=a(0);var k=a(31),h=a(8);a=function(a){function d(c,b){a.call(this);this.arrayLike=c;this.scheduler=
b;b||1!==c.length||(this._isScalar=!0,this.value=c[0])}l(d,a);d.create=function(a,b){var c=a.length;return 0===c?new h.EmptyObservable:1===c?new k.ScalarObservable(a[0],b):new d(a,b)};d.dispatch=function(a){var b=a.arrayLike,c=a.index,d=a.subscriber;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.schedule(a)))};d.prototype._subscribe=function(a){var b=this.arrayLike,c=this.scheduler,e=b.length;if(c)return c.schedule(d.dispatch,0,{arrayLike:b,index:0,length:e,subscriber:a});for(c=
0;c<e&&!a.closed;c++)a.next(b[c]);a.complete()};return d}(e.Observable);g.ArrayLikeObservable=a},function(e,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};e=a(7);var k=a(0),h=a(2),f=a(4);a=function(a){function b(b,c){a.call(this);this.source=b;this.subjectFactory=c;this._refCount=0;this._isComplete=!1}l(b,a);b.prototype._subscribe=function(a){return this.getSubject().subscribe(a)};
b.prototype.getSubject=function(){var a=this._subject;if(!a||a.isStopped)this._subject=this.subjectFactory();return this._subject};b.prototype.connect=function(){var a=this._connection;a||(this._isComplete=!1,a=this._connection=new f.Subscription,a.add(this.source.subscribe(new d(this.getSubject(),this))),a.closed?(this._connection=null,a=f.Subscription.EMPTY):this._connection=a);return a};b.prototype.refCount=function(){return this.lift(new c(this))};return b}(k.Observable);g.ConnectableObservable=
a;a=a.prototype;g.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:a._subscribe},_isComplete:{value:a._isComplete,writable:!0},getSubject:{value:a.getSubject},connect:{value:a.connect},refCount:{value:a.refCount}};var d=function(a){function b(b,c){a.call(this,b);this.connectable=c}l(b,a);b.prototype._error=function(b){this._unsubscribe();a.prototype._error.call(this,b)};b.prototype._complete=
function(){this.connectable._isComplete=!0;this._unsubscribe();a.prototype._complete.call(this)};b.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var b=a._connection;a._refCount=0;a._subject=null;a._connection=null;b&&b.unsubscribe()}};return b}(e.SubjectSubscriber),c=function(){function a(a){this.connectable=a}a.prototype.call=function(a,c){var d=this.connectable;d._refCount++;var e=new b(a,d),f=c.subscribe(e);e.closed||(e.connection=d.connect());return f};return a}(),
b=function(a){function b(b,c){a.call(this,b);this.connectable=c}l(b,a);b.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var b=a._refCount;0>=b?this.connection=null:(a._refCount=b-1,1<b?this.connection=null:(b=this.connection,a=a._connection,this.connection=null,!a||b&&a!==b||a.unsubscribe()))}else this.connection=null};return b}(h.Subscriber)},function(e,g,a){var l=this&&this.__extends||function(a,e){function f(){this.constructor=a}for(var d in e)e.hasOwnProperty(d)&&
(a[d]=e[d]);a.prototype=null===e?Object.create(e):(f.prototype=e.prototype,new f)};e=function(a){function e(e,d){a.call(this);this.error=e;this.scheduler=d}l(e,a);e.create=function(a,d){return new e(a,d)};e.dispatch=function(a){a.subscriber.error(a.error)};e.prototype._subscribe=function(a){var d=this.error,c=this.scheduler;a.syncErrorThrowable=!0;if(c)return c.schedule(e.dispatch,0,{error:d,subscriber:a});a.error(d)};return e}(a(0).Observable);g.ErrorObservable=e},function(e,g,a){var l=this&&this.__extends||
function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},k=a(21),h=a(58),f=a(62),d=a(50),c=a(139),b=a(13),m=a(134),n=a(34),p=a(0),r=a(157),q=a(35);e=function(a){function e(b,c){a.call(this,null);this.ish=b;this.scheduler=c}l(e,a);e.create=function(a,g){if(null!=a){if("function"===typeof a[q.observable])return a instanceof p.Observable&&!g?a:new e(a,g);if(k.isArray(a))return new b.ArrayObservable(a,
g);if(f.isPromise(a))return new d.PromiseObservable(a,g);if("function"===typeof a[n.iterator]||"string"===typeof a)return new c.IteratorObservable(a,g);if(h.isArrayLike(a))return new m.ArrayLikeObservable(a,g)}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};e.prototype._subscribe=function(a){var b=this.ish,c=this.scheduler;return null==c?b[q.observable]().subscribe(a):b[q.observable]().subscribe(new r.ObserveOnSubscriber(a,c,0))};return e}(p.Observable);g.FromObservable=e},function(e,
g,a){var l=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)},k=a(60);e=a(0);var h=a(24);a=function(a){function d(c,b){void 0===c&&(c=0);void 0===b&&(b=h.async);a.call(this);this.period=c;this.scheduler=b;if(!k.isNumeric(c)||0>c)this.period=0;b&&"function"===typeof b.schedule||(this.scheduler=h.async)}l(d,a);d.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=
h.async);return new d(a,b)};d.dispatch=function(a){var b=a.subscriber,c=a.period;b.next(a.index);b.closed||(a.index+=1,this.schedule(a,c))};d.prototype._subscribe=function(a){var b=this.period;a.add(this.scheduler.schedule(d.dispatch,b,{index:0,subscriber:a,period:b}))};return d}(e.Observable);g.IntervalObservable=a},function(e,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=
c.prototype,new b)},k=a(5);e=a(0);var h=a(34);a=function(a){function b(b,c){a.call(this);this.scheduler=c;if(null==b)throw Error("iterator cannot be null.");var e;if((e=b[h.iterator])||"string"!==typeof b)if(e||void 0===b.length){if(!e)throw new TypeError("object is not iterable");e=b[h.iterator]()}else e=new d(b);else e=new f(b);this.iterator=e}l(b,a);b.create=function(a,c){return new b(a,c)};b.dispatch=function(a){var b=a.index,c=a.iterator,d=a.subscriber;if(a.hasError)d.error(a.error);else{var e=
c.next();e.done?d.complete():(d.next(e.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.schedule(a))}};b.prototype._subscribe=function(a){var c=this.iterator,d=this.scheduler;if(d)return d.schedule(b.dispatch,0,{index:0,iterator:c,subscriber:a});do{d=c.next();if(d.done){a.complete();break}else a.next(d.value);if(a.closed){"function"===typeof c["return"]&&c["return"]();break}}while(1)};return b}(e.Observable);g.IteratorObservable=a;var f=function(){function a(a,b,c){void 0===
b&&(b=0);void 0===c&&(c=a.length);this.str=a;this.idx=b;this.len=c}a.prototype[h.iterator]=function(){return this};a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}};return a}(),d=function(){function a(a,b,d){void 0===b&&(b=0);if(void 0===d)if(d=+a.length,isNaN(d))d=0;else if(0!==d&&"number"===typeof d&&k.root.isFinite(d)){var e;e=+d;e=0===e?e:isNaN(e)?e:0>e?-1:1;d=e*Math.floor(Math.abs(d));d=0>=d?0:d>c?c:d}this.arr=a;this.idx=
b;this.len=d}a.prototype[h.iterator]=function(){return this};a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}};return a}(),c=Math.pow(2,53)-1},function(e,g,a){var l=this&&this.__extends||function(a,e){function d(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)};e=a(0);var k=a(63);a=function(a){function e(){a.call(this)}l(e,a);e.create=function(){return new e};
e.prototype._subscribe=function(a){k.noop()};return e}(e.Observable);g.NeverObservable=a},function(e,g,a){e=a(8);g.empty=e.EmptyObservable.create},function(e,g,a){e=a(13);g.of=e.ArrayObservable.of},function(e,g,a){e=a(136);g._throw=e.ErrorObservable.create},function(e,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};e=a(12);var k=a(15);g._catch=function(a){a=
new h(a);var c=this.lift(a);return a.caught=c};var h=function(){function a(a){this.selector=a}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.selector,this.caught))};return a}(),f=function(a){function c(b,c,d){a.call(this,b);this.selector=c;this.caught=d}l(c,a);c.prototype.error=function(b){if(!this.isStopped){var c=void 0;try{c=this.selector(b,this.caught)}catch(n){a.prototype.error.call(this,n);return}this._unsubscribeAndRecycle();this.add(k.subscribeToResult(this,c))}};return c}(e.OuterSubscriber)},
function(e,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},k=a(13),h=a(21);e=a(12);var f=a(15),d={};g.combineLatest=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=null;"function"===typeof a[a.length-1]&&(b=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());a.unshift(this);return this.lift.call(new k.ArrayObservable(a),
new c(b))};var c=function(){function a(a){this.project=a}a.prototype.call=function(a,c){return c.subscribe(new b(a,this.project))};return a}();g.CombineLatestOperator=c;var b=function(a){function b(b,c){a.call(this,b);this.project=c;this.active=0;this.values=[];this.observables=[]}l(b,a);b.prototype._next=function(a){this.values.push(d);this.observables.push(a)};b.prototype._complete=function(){var a=this.observables,b=a.length;if(0===b)this.destination.complete();else{this.toRespond=this.active=
b;for(var c=0;c<b;c++){var d=a[c];this.add(f.subscribeToResult(this,d,d,c))}}};b.prototype.notifyComplete=function(a){0===--this.active&&this.destination.complete()};b.prototype.notifyNext=function(a,b,c,e,f){a=this.values;e=a[c];e=this.toRespond?e===d?--this.toRespond:this.toRespond:0;a[c]=b;0===e&&(this.project?this._tryProject(a):this.destination.next(a.slice()))};b.prototype._tryProject=function(a){var b;try{b=this.project.apply(this,a)}catch(q){this.destination.error(q);return}this.destination.next(b)};
return b}(e.OuterSubscriber);g.CombineLatestSubscriber=b},function(e,g,a){var l=a(32);g.concatAll=function(){return this.lift(new l.MergeAllOperator(1))}},function(e,g,a){var l=a(53);g.concatMap=function(a,e){return this.lift(new l.MergeMapOperator(a,e,1))}},function(e,g,a){function l(a){a.debouncedNext()}var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};e=
a(2);var h=a(24);g.debounceTime=function(a,b){void 0===b&&(b=h.async);return this.lift(new f(a,b))};var f=function(){function a(a,c){this.dueTime=a;this.scheduler=c}a.prototype.call=function(a,c){return c.subscribe(new d(a,this.dueTime,this.scheduler))};return a}(),d=function(a){function b(b,c,d){a.call(this,b);this.dueTime=c;this.scheduler=d;this.lastValue=this.debouncedSubscription=null;this.hasValue=!1}k(b,a);b.prototype._next=function(a){this.clearDebounce();this.lastValue=a;this.hasValue=!0;
this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))};b.prototype._complete=function(){this.debouncedNext();this.destination.complete()};b.prototype.debouncedNext=function(){this.clearDebounce();this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)};b.prototype.clearDebounce=function(){var a=this.debouncedSubscription;null!==a&&(this.remove(a),a.unsubscribe(),this.debouncedSubscription=null)};return b}(e.Subscriber)},function(e,g,
a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};e=a(2);var k=a(38),h=a(25);g.distinctUntilChanged=function(a,b){return this.lift(new f(a,b))};var f=function(){function a(a,c){this.compare=a;this.keySelector=c}a.prototype.call=function(a,c){return c.subscribe(new d(a,this.compare,this.keySelector))};return a}(),d=function(a){function b(b,c,d){a.call(this,
b);this.keySelector=d;this.hasKey=!1;"function"===typeof c&&(this.compare=c)}l(b,a);b.prototype.compare=function(a,b){return a===b};b.prototype._next=function(a){var b=a;if(this.keySelector&&(b=k.tryCatch(this.keySelector)(a),b===h.errorObject))return this.destination.error(h.errorObject.e);var c=!1;if(this.hasKey){if(c=k.tryCatch(this.compare)(this.key,b),c===h.errorObject)return this.destination.error(h.errorObject.e)}else this.hasKey=!0;!1===!!c&&(this.key=b,this.destination.next(a))};return b}(e.Subscriber)},
function(e,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)},k=a(2);g._do=function(a,c,b){return this.lift(new h(a,c,b))};var h=function(){function a(a,b,d){this.nextOrObserver=a;this.error=b;this.complete=d}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.nextOrObserver,this.error,this.complete))};return a}(),f=function(a){function c(b,
c,d,e){a.call(this,b);b=new k.Subscriber(c,d,e);b.syncErrorThrowable=!0;this.add(b);this.safeSubscriber=b}l(c,a);c.prototype._next=function(a){var b=this.safeSubscriber;b.next(a);b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.next(a)};c.prototype._error=function(a){var b=this.safeSubscriber;b.error(a);b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.error(a)};c.prototype._complete=function(){var a=this.safeSubscriber;a.complete();a.syncErrorThrown?
this.destination.error(a.syncErrorValue):this.destination.complete()};return c}(k.Subscriber)},function(e,g,a){var l=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};e=a(2);g.filter=function(a,d){return this.lift(new k(a,d))};var k=function(){function a(a,c){this.predicate=a;this.thisArg=c}a.prototype.call=function(a,c){return c.subscribe(new h(a,this.predicate,
this.thisArg))};return a}(),h=function(a){function d(c,b,d){a.call(this,c);this.predicate=b;this.thisArg=d;this.count=0;this.predicate=b}l(d,a);d.prototype._next=function(a){var b;try{b=this.predicate.call(this.thisArg,a,this.count++)}catch(m){this.destination.error(m);return}b&&this.destination.next(a)};return d}(e.Subscriber)},function(e,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):
(b.prototype=c.prototype,new b)};e=a(2);var k=a(4);g._finally=function(a){return this.lift(new h(a))};var h=function(){function a(a){this.callback=a}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.callback))};return a}(),f=function(a){function c(b,c){a.call(this,b);this.add(new k.Subscription(c))}l(c,a);return c}(e.Subscriber)},function(e,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===
c?Object.create(c):(b.prototype=c.prototype,new b)};e=a(2);var k=a(63);g.ignoreElements=function(){return this.lift(new h)};var h=function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new f(a))};return a}(),f=function(a){function c(){a.apply(this,arguments)}l(c,a);c.prototype._next=function(a){k.noop()};return c}(e.Subscriber)},function(e,g,a){var l=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);a.prototype=
null===d?Object.create(d):(c.prototype=d.prototype,new c)};e=a(2);g.map=function(a,d){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new k(a,d))};var k=function(){function a(a,c){this.project=a;this.thisArg=c}a.prototype.call=function(a,c){return c.subscribe(new h(a,this.project,this.thisArg))};return a}();g.MapOperator=k;var h=function(a){function d(c,b,d){a.call(this,c);this.project=b;this.count=0;this.thisArg=d||this}
l(d,a);d.prototype._next=function(a){var b;try{b=this.project.call(this.thisArg,a,this.count++)}catch(m){this.destination.error(m);return}this.destination.next(b)};return d}(e.Subscriber)},function(e,g,a){var l=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};e=a(2);g.mapTo=function(a){return this.lift(new k(a))};var k=function(){function a(a){this.value=a}a.prototype.call=
function(a,c){return c.subscribe(new h(a,this.value))};return a}(),h=function(a){function d(c,b){a.call(this,c);this.value=b}l(d,a);d.prototype._next=function(a){this.destination.next(this.value)};return d}(e.Subscriber)},function(e,g,a){function l(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];var b=Number.POSITIVE_INFINITY,e=null,g=a[a.length-1];d.isScheduler(g)?(e=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(b=a.pop())):"number"===typeof g&&(b=a.pop());return null===e&&
1===a.length&&a[0]instanceof k.Observable?a[0]:(new h.ArrayObservable(a,e)).lift(new f.MergeAllOperator(b))}var k=a(0),h=a(13),f=a(32),d=a(16);g.merge=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return this.lift.call(l.apply(void 0,[this].concat(a)))};g.mergeStatic=l},function(e,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};
e=a(2);var k=a(105);g.observeOn=function(a,b){void 0===b&&(b=0);return this.lift(new h(a,b))};var h=function(){function a(a,c){void 0===c&&(c=0);this.scheduler=a;this.delay=c}a.prototype.call=function(a,c){return c.subscribe(new f(a,this.scheduler,this.delay))};return a}();g.ObserveOnOperator=h;var f=function(a){function b(b,c,d){void 0===d&&(d=0);a.call(this,b);this.scheduler=c;this.delay=d}l(b,a);b.dispatch=function(a){a.notification.observe(a.destination);this.unsubscribe()};b.prototype.scheduleMessage=
function(a){this.add(this.scheduler.schedule(b.dispatch,this.delay,new d(a,this.destination)))};b.prototype._next=function(a){this.scheduleMessage(k.Notification.createNext(a))};b.prototype._error=function(a){this.scheduleMessage(k.Notification.createError(a))};b.prototype._complete=function(){this.scheduleMessage(k.Notification.createComplete())};return b}(e.Subscriber);g.ObserveOnSubscriber=f;var d=function(){return function(a,b){this.notification=a;this.destination=b}}();g.ObserveOnMessage=d},
function(e,g,a){var l=a(7),k=a(33);g.publish=function(a){return a?k.multicast.call(this,function(){return new l.Subject},a):k.multicast.call(this,new l.Subject)}},function(e,g,a){var l=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};e=a(2);g.scan=function(a,d){var c=!1;2<=arguments.length&&(c=!0);return this.lift(new k(a,d,c))};var k=function(){function a(a,c,
b){void 0===b&&(b=!1);this.accumulator=a;this.seed=c;this.hasSeed=b}a.prototype.call=function(a,c){return c.subscribe(new h(a,this.accumulator,this.seed,this.hasSeed))};return a}(),h=function(a){function d(c,b,d,e){a.call(this,c);this.accumulator=b;this._seed=d;this.hasSeed=e;this.index=0}l(d,a);Object.defineProperty(d.prototype,"seed",{get:function(){return this._seed},set:function(a){this.hasSeed=!0;this._seed=a},enumerable:!0,configurable:!0});d.prototype._next=function(a){if(this.hasSeed)return this._tryNext(a);
this.seed=a;this.destination.next(a)};d.prototype._tryNext=function(a){var b=this.index++,c;try{c=this.accumulator(this.seed,a,b)}catch(n){this.destination.error(n)}this.seed=c;this.destination.next(c)};return d}(e.Subscriber)},function(e,g,a){function l(){return new h.Subject}var k=a(33),h=a(7);g.share=function(){return k.multicast.call(this,l).refCount()}},function(e,g,a){var l=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);a.prototype=
null===d?Object.create(d):(c.prototype=d.prototype,new c)};e=a(2);g.skip=function(a){return this.lift(new k(a))};var k=function(){function a(a){this.total=a}a.prototype.call=function(a,c){return c.subscribe(new h(a,this.total))};return a}(),h=function(a){function d(c,b){a.call(this,c);this.total=b;this.count=0}l(d,a);d.prototype._next=function(a){++this.count>this.total&&this.destination.next(a)};return d}(e.Subscriber)},function(e,g,a){var l=a(13),k=a(31),h=a(8),f=a(52),d=a(16);g.startWith=function(){for(var a=
[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];d.isScheduler(b)?a.pop():b=null;var e=a.length;return 1===e?f.concatStatic(new k.ScalarObservable(a[0],b),this):1<e?f.concatStatic(new l.ArrayObservable(a,b),this):f.concatStatic(new h.EmptyObservable(b),this)}},function(e,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};e=a(12);var k=
a(15);g.switchMap=function(a,c){return this.lift(new h(a,c))};var h=function(){function a(a,b){this.project=a;this.resultSelector=b}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.project,this.resultSelector))};return a}(),f=function(a){function c(b,c,d){a.call(this,b);this.project=c;this.resultSelector=d;this.index=0}l(c,a);c.prototype._next=function(a){var b,c=this.index++;try{b=this.project(a,c)}catch(p){this.destination.error(p);return}this._innerSub(b,a,c)};c.prototype._innerSub=
function(a,c,d){var b=this.innerSubscription;b&&b.unsubscribe();this.add(this.innerSubscription=k.subscribeToResult(this,a,c,d))};c.prototype._complete=function(){var b=this.innerSubscription;b&&!b.closed||a.prototype._complete.call(this)};c.prototype._unsubscribe=function(){this.innerSubscription=null};c.prototype.notifyComplete=function(b){this.remove(b);this.innerSubscription=null;this.isStopped&&a.prototype._complete.call(this)};c.prototype.notifyNext=function(a,c,d,e,f){this.resultSelector?this._tryNotifyNext(a,
c,d,e):this.destination.next(c)};c.prototype._tryNotifyNext=function(a,c,d,e){var b;try{b=this.resultSelector(a,c,d,e)}catch(q){this.destination.error(q);return}this.destination.next(b)};return c}(e.OuterSubscriber)},function(e,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};e=a(2);var k=a(171),h=a(8);g.take=function(a){return 0===a?new h.EmptyObservable:
this.lift(new f(a))};var f=function(){function a(a){this.total=a;if(0>this.total)throw new k.ArgumentOutOfRangeError;}a.prototype.call=function(a,c){return c.subscribe(new d(a,this.total))};return a}(),d=function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0}l(b,a);b.prototype._next=function(a){var b=this.total,c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()))};return b}(e.Subscriber)},function(e,g,a){var l=this&&this.__extends||
function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};e=a(12);var k=a(15);g.takeUntil=function(a){return this.lift(new h(a))};var h=function(){function a(a){this.notifier=a}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.notifier))};return a}(),f=function(a){function c(b,c){a.call(this,b);this.notifier=c;this.add(k.subscribeToResult(this,c))}l(c,a);c.prototype.notifyNext=function(a,
c,d,e,f){this.complete()};c.prototype.notifyComplete=function(){};return c}(e.OuterSubscriber)},function(e,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)},k=a(24),h=a(59);e=a(2);var f=a(57);g.timeout=function(a,c){void 0===c&&(c=k.async);var b=h.isDate(a),e=b?+a-c.now():Math.abs(a);return this.lift(new d(e,b,c,new f.TimeoutError))};var d=function(){function a(a,
b,c,d){this.waitFor=a;this.absoluteTimeout=b;this.scheduler=c;this.errorInstance=d}a.prototype.call=function(a,b){return b.subscribe(new c(a,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))};return a}(),c=function(a){function b(b,c,d,e,f){a.call(this,b);this.absoluteTimeout=c;this.waitFor=d;this.scheduler=e;this.errorInstance=f;this.action=null;this.scheduleTimeout()}l(b,a);b.dispatchTimeout=function(a){a.error(a.errorInstance)};b.prototype.scheduleTimeout=function(){var a=this.action;
a?this.action=a.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(b.dispatchTimeout,this.waitFor,this))};b.prototype._next=function(b){this.absoluteTimeout||this.scheduleTimeout();a.prototype._next.call(this,b)};b.prototype._unsubscribe=function(){this.errorInstance=this.scheduler=this.action=null};return b}(e.Subscriber)},function(e,g,a){var l=this&&this.__extends||function(a,e){function f(){this.constructor=a}for(var d in e)e.hasOwnProperty(d)&&(a[d]=e[d]);a.prototype=null===
e?Object.create(e):(f.prototype=e.prototype,new f)};e=function(a){function e(e,d){a.call(this)}l(e,a);e.prototype.schedule=function(a,d){return this};return e}(a(4).Subscription);g.Action=e},function(e,g,a){var l=this&&this.__extends||function(a,e){function d(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)},k=a(172);e=function(a){function e(d,c){a.call(this,d,c);this.scheduler=d;this.work=c}l(e,a);e.prototype.requestAsyncId=
function(d,c,b){void 0===b&&(b=0);if(null!==b&&0<b)return a.prototype.requestAsyncId.call(this,d,c,b);d.actions.push(this);return d.scheduled||(d.scheduled=k.Immediate.setImmediate(d.flush.bind(d,null)))};e.prototype.recycleAsyncId=function(d,c,b){void 0===b&&(b=0);if(null!==b&&0<b||null===b&&0<this.delay)return a.prototype.recycleAsyncId.call(this,d,c,b);0===d.actions.length&&(k.Immediate.clearImmediate(c),d.scheduled=void 0)};return e}(a(54).AsyncAction);g.AsapAction=e},function(e,g,a){var l=this&&
this.__extends||function(a,e){function f(){this.constructor=a}for(var d in e)e.hasOwnProperty(d)&&(a[d]=e[d]);a.prototype=null===e?Object.create(e):(f.prototype=e.prototype,new f)};e=function(a){function e(){a.apply(this,arguments)}l(e,a);e.prototype.flush=function(a){this.active=!0;this.scheduled=void 0;var d=this.actions,c,b=-1,e=d.length;a=a||d.shift();do if(c=a.execute(a.state,a.delay))break;while(++b<e&&(a=d.shift()));this.active=!1;if(c){for(;++b<e&&(a=d.shift());)a.unsubscribe();throw c;}};
return e}(a(55).AsyncScheduler);g.AsapScheduler=e},function(e,g,a){e=a(168);a=a(169);g.asap=new a.AsapScheduler(e.AsapAction)},function(e,g,a){var l=this&&this.__extends||function(a,e){function f(){this.constructor=a}for(var d in e)e.hasOwnProperty(d)&&(a[d]=e[d]);a.prototype=null===e?Object.create(e):(f.prototype=e.prototype,new f)};e=function(a){function e(){var e=a.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError";this.stack=e.stack;this.message=e.message}l(e,a);return e}(Error);
g.ArgumentOutOfRangeError=e},function(e,g,a){e=a(5);a=function(){function a(a){this.root=a;a.setImmediate&&"function"===typeof a.setImmediate?(this.setImmediate=a.setImmediate.bind(a),this.clearImmediate=a.clearImmediate.bind(a)):(this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=
this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate(),a=function f(a){delete f.instance.tasksByHandle[a]},a.instance=this,this.clearImmediate=a)}a.prototype.identify=function(a){return this.root.Object.prototype.toString.call(a)};a.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)};a.prototype.canUseMessageChannel=function(){return!!this.root.MessageChannel};
a.prototype.canUseReadyStateChange=function(){var a=this.root.document;return!!(a&&"onreadystatechange"in a.createElement("script"))};a.prototype.canUsePostMessage=function(){var a=this.root;if(a.postMessage&&!a.importScripts){var e=!0,f=a.onmessage;a.onmessage=function(){e=!1};a.postMessage("","*");a.onmessage=f;return e}return!1};a.prototype.partiallyApplied=function(a){for(var e=[],f=1;f<arguments.length;f++)e[f-1]=arguments[f];f=function c(){var a=c.handler,e=c.args;"function"===typeof a?a.apply(void 0,
e):(new Function(""+a))()};f.handler=a;f.args=e;return f};a.prototype.addFromSetImmediateArguments=function(a){this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,a);return this.nextHandle++};a.prototype.createProcessNextTickSetImmediate=function(){var a=function f(){var a=f.instance,c=a.addFromSetImmediateArguments(arguments);a.root.process.nextTick(a.partiallyApplied(a.runIfPresent,c));return c};a.instance=this;return a};a.prototype.createPostMessageSetImmediate=function(){var a=
this.root,e="setImmediate$"+a.Math.random()+"$",f=function c(b){var f=c.instance;b.source===a&&"string"===typeof b.data&&0===b.data.indexOf(e)&&f.runIfPresent(+b.data.slice(e.length))};f.instance=this;a.addEventListener("message",f,!1);f=function b(){var a=b,e=a.messagePrefix,a=a.instance,f=a.addFromSetImmediateArguments(arguments);a.root.postMessage(e+f,"*");return f};f.instance=this;f.messagePrefix=e;return f};a.prototype.runIfPresent=function(a){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,
a),0);else{var e=this.tasksByHandle[a];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(a),this.currentlyRunningATask=!1}}}};a.prototype.createMessageChannelSetImmediate=function(){var a=this,e=new this.root.MessageChannel;e.port1.onmessage=function(d){a.runIfPresent(d.data)};var f=function c(){var a=c,e=a.channel,a=a.instance.addFromSetImmediateArguments(arguments);e.port2.postMessage(a);return a};f.channel=e;f.instance=this;return f};a.prototype.createReadyStateChangeSetImmediate=
function(){var a=function f(){var a=f.instance,c=a.root.document,b=c.documentElement,e=a.addFromSetImmediateArguments(arguments),g=c.createElement("script");g.onreadystatechange=function(){a.runIfPresent(e);g.onreadystatechange=null;b.removeChild(g);g=null};b.appendChild(g);return e};a.instance=this;return a};a.prototype.createSetTimeoutSetImmediate=function(){var a=function f(){var a=f.instance,c=a.addFromSetImmediateArguments(arguments);a.root.setTimeout(a.partiallyApplied(a.runIfPresent,c),0);
return c};a.instance=this;return a};return a}();g.ImmediateDefinition=a;g.Immediate=new a(e.root)},function(e,g,a){var l=this&&this.__extends||function(a,e){function f(){this.constructor=a}for(var d in e)e.hasOwnProperty(d)&&(a[d]=e[d]);a.prototype=null===e?Object.create(e):(f.prototype=e.prototype,new f)};e=function(a){function e(e){a.call(this);this.errors=e;e=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(a,c){return c+1+") "+a.toString()}).join("\n  "):
"");this.name=e.name="UnsubscriptionError";this.stack=e.stack;this.message=e.message}l(e,a);return e}(Error);g.UnsubscriptionError=e},function(e,g,a){var l=a(2),k=a(36),h=a(47);g.toSubscriber=function(a,d,c){if(a){if(a instanceof l.Subscriber)return a;if(a[k.rxSubscriber])return a[k.rxSubscriber]()}return a||d||c?new l.Subscriber(a,d,c):new l.Subscriber(h.empty)}},function(e,g){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(l){"object"===typeof window&&
(a=window)}e.exports=a}])});
