var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,a){b!=Array.prototype&&b!=Object.prototype&&(b[e]=a.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var e=0;return $jscomp.iteratorPrototype(function(){return e<b.length?{done:!1,value:b[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.iteratorFromArray=function(b,e){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var a=0,h={next:function(){if(a<b.length){var l=a++;return{value:e(l,b[l]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill=function(b,e,a,h){if(e){a=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var l=b[h];l in a||(a[l]={});a=a[l]}b=b[b.length-1];h=a[b];e=e(h);e!=h&&null!=e&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(b){return b?b:function(){return[]}},"es6","es5");
$jscomp.owns=function(b,e){return Object.prototype.hasOwnProperty.call(b,e)};$jscomp.polyfill("Object.assign",function(b){return b?b:function(b,a){for(var e=1;e<arguments.length;e++){var l=arguments[e];if(l)for(var g in l)$jscomp.owns(l,g)&&(b[g]=l[g])}return b}},"es6","es3");
$jscomp.checkStringArgs=function(b,e,a){if(null==b)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return b+""};
$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(b,a){var e=$jscomp.checkStringArgs(this,b,"startsWith");b+="";var l=e.length,g=b.length;a=Math.max(0,Math.min(a|0,e.length));for(var k=0;k<g&&a<l;)if(e[a++]!=b[k++])return!1;return k>=g}},"es6","es3");$jscomp.polyfill("Object.is",function(b){return b?b:function(b,a){return b===a?0!==b||1/b===1/a:b!==b&&a!==a}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,a){var e=this;e instanceof String&&(e=String(e));var l=e.length;for(a=a||0;a<l;a++)if(e[a]==b||Object.is(e[a],b))return!0;return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,a){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,a||0)}},"es6","es3");
$jscomp.findInternal=function(b,e,a){b instanceof String&&(b=String(b));for(var h=b.length,l=0;l<h;l++){var g=b[l];if(e.call(a,g,l,b))return{i:l,v:g}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6","es3");$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b,a){return a})}},"es6","es3");
(function(b,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports.RxPlayer=e():b.RxPlayer=e()})(this,function(){return function(b){function e(h){if(a[h])return a[h].exports;var l=a[h]={i:h,l:!1,exports:{}};b[h].call(l.exports,l,l.exports,e);l.l=!0;return l.exports}var a={};e.m=b;e.c=a;e.i=function(a){return a};e.d=function(a,b,g){e.o(a,b)||Object.defineProperty(a,b,{configurable:!1,enumerable:!0,
get:g})};e.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};e.d(b,"a",b);return b};e.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};e.p="";return e(e.s=155)}([function(b,e,a){var h=a(15),l=a(322),g=a(56),k=a(321);b=function(){function a(a){this._isScalar=!1;a&&(this._subscribe=a)}a.prototype.lift=function(d){var c=new a;c.source=this;c.operator=d;return c};a.prototype.subscribe=function(a,c,f){var d=this.operator;a=l.toSubscriber(a,c,f);d?
d.call(a,this.source):a.add(this.source?this._subscribe(a):this._trySubscribe(a));if(a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a};a.prototype._trySubscribe=function(a){try{return this._subscribe(a)}catch(c){a.syncErrorThrown=!0,a.syncErrorValue=c,a.error(c)}};a.prototype.forEach=function(a,c){var d=this;c||(h.root.Rx&&h.root.Rx.config&&h.root.Rx.config.Promise?c=h.root.Rx.config.Promise:h.root.Promise&&(c=h.root.Promise));if(!c)throw Error("no Promise impl found");
return new c(function(c,f){var g=d.subscribe(function(c){if(g)try{a(c)}catch(u){f(u),g.unsubscribe()}else a(c)},f,c)})};a.prototype._subscribe=function(a){return this.source.subscribe(a)};a.prototype[g.observable]=function(){return this};a.prototype.pipe=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return 0===a.length?this:k.pipeFromArray(a)(this)};a.prototype.toPromise=function(a){var c=this;a||(h.root.Rx&&h.root.Rx.config&&h.root.Rx.config.Promise?a=h.root.Rx.config.Promise:
h.root.Promise&&(a=h.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,d){var f;c.subscribe(function(a){return f=a},function(a){return d(a)},function(){return a(f)})})};a.create=function(d){return new a(d)};return a}();e.Observable=b},function(b,e,a){function h(){}var l={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},g=Object.keys(l)[0];b={LEVELS:Object.keys(l),error:h,warn:h,info:h,debug:h,setLevel:function(a){var f;(f=l[a])?g=a:(f=0,g="NONE");this.error=f>=l.ERROR?console.error.bind(console):
h;this.warn=f>=l.WARNING?console.warn.bind(console):h;this.info=f>=l.INFO?console.info.bind(console):h;this.debug=f>=l.DEBUG?console.log.bind(console):h},getLevel:function(){return g}};e.a=b},function(b,e,a){function h(a){this.name="AssertionError";this.message=a;Error.captureStackTrace&&Error.captureStackTrace(this,h)}function l(a,f){if(!a)throw new h(f);}var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};h.prototype=Error();l.equal=function(a,f,d){return l(a===f,d)};l.iface=function(a,f,d){l(a,f+" should be an object");for(var c in d)d.hasOwnProperty(c)&&l.equal(g(a[c]),d[c],f+" should have property "+c+" as a "+d[c])};e.a=l},function(b,e,a){var h=this&&this.__extends||function(a,c){function d(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)},l=
a(59);b=a(14);var g=a(81),k=a(57);a=function(a){function c(d,k,b){a.call(this);this.syncErrorValue=null;this.isStopped=this.syncErrorThrowable=this.syncErrorThrown=!1;switch(arguments.length){case 0:this.destination=g.empty;break;case 1:if(!d){this.destination=g.empty;break}if("object"===typeof d){d instanceof c?(this.destination=d,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,d));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,d,k,b)}}h(c,
a);c.prototype[k.rxSubscriber]=function(){return this};c.create=function(a,d,f){a=new c(a,d,f);a.syncErrorThrowable=!1;return a};c.prototype.next=function(a){this.isStopped||this._next(a)};c.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))};c.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())};c.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))};c.prototype._next=function(a){this.destination.next(a)};
c.prototype._error=function(a){this.destination.error(a);this.unsubscribe()};c.prototype._complete=function(){this.destination.complete();this.unsubscribe()};c.prototype._unsubscribeAndRecycle=function(){var a=this._parent,c=this._parents;this._parents=this._parent=null;this.unsubscribe();this.isStopped=this.closed=!1;this._parent=a;this._parents=c;return this};return c}(b.Subscription);e.Subscriber=a;var f=function(a){function c(c,d,f,k){a.call(this);this._parentSubscriber=c;c=this;if(l.isFunction(d))var m=
d;else d&&(m=d.next,f=d.error,k=d.complete,d!==g.empty&&(c=Object.create(d),l.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this)));this._context=c;this._next=m;this._error=f;this._complete=k}h(c,a);c.prototype.next=function(a){if(!this.isStopped&&this._next){var c=this._parentSubscriber;c.syncErrorThrowable?this.__tryOrSetError(c,this._next,a)&&this.unsubscribe():this.__tryOrUnsub(this._next,a)}};c.prototype.error=function(a){if(!this.isStopped){var c=
this._parentSubscriber;if(this._error)c.syncErrorThrowable?this.__tryOrSetError(c,this._error,a):this.__tryOrUnsub(this._error,a),this.unsubscribe();else if(c.syncErrorThrowable)c.syncErrorValue=a,c.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};c.prototype.complete=function(){var a=this;if(!this.isStopped){var c=this._parentSubscriber;if(this._complete){var d=function(){return a._complete.call(a._context)};c.syncErrorThrowable?this.__tryOrSetError(c,d):this.__tryOrUnsub(d)}this.unsubscribe()}};
c.prototype.__tryOrUnsub=function(a,c){try{a.call(this._context,c)}catch(p){throw this.unsubscribe(),p;}};c.prototype.__tryOrSetError=function(a,c,d){try{c.call(this._context,d)}catch(q){return a.syncErrorValue=q,a.syncErrorThrown=!0}return!1};c.prototype._unsubscribe=function(){var a=this._parentSubscriber;this._parentSubscriber=this._context=null;a.unsubscribe()};return c}(a)},function(b,e,a){e.a={DEFAULT_UNMUTED_VOLUME:.1,DEFAULT_TEXT_TRACK_MODE:"native",DEFAULT_AUTO_PLAY:!1,DEFAULT_SHOW_NATIVE_SUBTITLE:!0,
DEFAULT_WANTED_BUFFER_AHEAD:30,DEFAULT_MAX_BUFFER_AHEAD:Infinity,DEFAULT_MAX_BUFFER_BEHIND:Infinity,DEFAULT_INITIAL_BITRATES:{audio:0,video:0,other:0},DEFAULT_MAX_BITRATES:{audio:Infinity,video:Infinity,other:Infinity},DEFAULT_ADAPTIVE_BUFFER_THRESHOLD:.3,INACTIVITY_DELAY:6E4,DEFAULT_THROTTLE_WHEN_HIDDEN:!1,DEFAULT_LIMIT_VIDEO_WIDTH:!1,DEFAULT_LIVE_GAP:10,DEFAULT_SUGGESTED_PRESENTATION_DELAY:{SMOOTH:10,DASH:10},DISCONTINUITY_THRESHOLD:1,END_OF_PLAY:.5,BITRATE_REBUFFERING_RATIO:1.5,BUFFER_GC_GAPS:{CALM:240,
BEEFY:30},DEFAULT_MAX_PIPELINES_RETRY_ON_ERROR:4,DEFAULT_MAX_PIPELINES_RETRY_ON_OFFLINE:Infinity,INITIAL_BACKOFF_DELAY_BASE:200,MAX_BACKOFF_DELAY_BASE:3E3,SAMPLING_INTERVAL_MEDIASOURCE:1E3,SAMPLING_INTERVAL_NO_MEDIASOURCE:500,ABR_MINIMUM_TOTAL_BYTES:2E5,ABR_MINIMUM_CHUNK_SIZE:16E3,ABR_STARVATION_FACTOR:.85,ABR_REGULAR_FACTOR:.98,ABR_STARVATION_GAP:5,OUT_OF_STARVATION_GAP:7,RESUME_AFTER_SEEKING_GAP:.5,RESUME_AFTER_BUFFERING_GAP:5,STALL_GAP:.5,MAX_TIME_MISSING_FROM_COMPLETE_SEGMENT:.12,MAX_BUFFERED_DISTANCE:.1,
MINIMUM_SEGMENT_SIZE:.3,MAXIMUM_HTML_TEXT_TRACK_UPDATE_INTERVAL:100,EME_DEFAULT_WIDEVINE_ROBUSTNESSES:["HW_SECURE_ALL","HW_SECURE_DECODE","HW_SECURE_CRYPTO","SW_SECURE_DECODE","SW_SECURE_CRYPTO"],EME_KEY_SYSTEMS:{clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.chromecast.playready","com.youtube.playready"]}}},function(b,e,a){function h(a){return!!t.a&&t.a.isTypeSupported(a)}function l(){return t.b}function g(){return t.b}
function k(a){return a.readyState>=t.c.HAVE_METADATA?q.Observable.of(null):v.h(a).take(1)}function f(c){return c.readyState>=t.c.HAVE_ENOUGH_DATA?q.Observable.of(null):a.i(r.a)(c,"canplay").take(1)}function d(a,c){var d=void 0;if(t.b){var f=a.textTracks.length;a=0<f?a.textTracks[f-1]:a.addTextTrack("subtitles");a.mode=c?a.HIDDEN:a.SHOWING}else d=document.createElement("track"),a.appendChild(d),a=d.track,d.kind="subtitles",a.mode=c?"hidden":"showing";return{track:a,trackElement:d}}function c(a,c,d,
f){return t.d&&f&&"timeupdate"===d&&!!c&&10<c.end-a}function m(a){a.src="";a.removeAttribute("src")}function n(){return!1===navigator.onLine}function p(a,c,d){return a>=c?(u.a.warn("Invalid cue times: "+a+" - "+c),null):new t.e(a,c,d)}a.d(e,"o",function(){return d});a.d(e,"k",function(){return f});a.d(e,"j",function(){return k});a.d(e,"l",function(){return m});a.d(e,"q",function(){return h});a.d(e,"r",function(){return n});a.d(e,"n",function(){return c});a.d(e,"p",function(){return p});a.d(e,"f",
function(){return l});a.d(e,"e",function(){return g});var q=a(0);a.n(q);var r=a(49);b=a(32);var u=a(1),t=a(35),v=a(11),w=a(105),x=a(103);a.d(e,"a",function(){return t.f});a.d(e,"g",function(){return x.a});a.d(e,"m",function(){return t.a});a.d(e,"c",function(){return w.a});a.d(e,"b",function(){return w.b});a.d(e,"s",function(){return t.b});a.d(e,"d",function(){return w.c});a.d(e,"h",function(){return x.b});a.d(e,"i",function(){return x.c});if(window.WebKitSourceBuffer&&!window.WebKitSourceBuffer.prototype.addEventListener){e=
window.WebKitSourceBuffer.prototype;for(var y in b.a.prototype)e[y]=b.a.prototype[y];e.__listeners=[];e.appendBuffer=function(a){if(this.updating)throw Error("updating");this.trigger("updatestart");this.updating=!0;try{this.append(a)}catch(A){this.__emitUpdate("error",A);return}this.__emitUpdate("update")};e.__emitUpdate=function(a,c){var d=this;setTimeout(function(){d.trigger(a,c);d.updating=!1;d.trigger("updateend")},0)}}},function(b,e,a){var h=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,
g=Object.prototype.propertyIsEnumerable;b.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var f={};for(a=0;10>a;a++)f["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(f).map(function(a){return f[a]}).join(""))return!1;var d={};"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},d)).join("")?!1:!0}catch(c){return!1}}()?
Object.assign:function(a,f){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var d=Object(a);for(var c,m=1;m<arguments.length;m++){var k=Object(arguments[m]);for(var b in k)l.call(k,b)&&(d[b]=k[b]);if(h){c=h(k);for(var e=0;e<c.length;e++)g.call(k,c[e])&&(d[c[e]]=k[c[e]])}}return d}},function(b,e,a){var h=this&&this.__extends||function(a,c){function d(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):
(d.prototype=c.prototype,new d)},l=a(0);b=a(3);var g=a(14),k=a(58),f=a(83),d=a(57),c=function(a){function c(c){a.call(this,c);this.destination=c}h(c,a);return c}(b.Subscriber);e.SubjectSubscriber=c;a=function(a){function n(){a.call(this);this.observers=[];this.hasError=this.isStopped=this.closed=!1;this.thrownError=null}h(n,a);n.prototype[d.rxSubscriber]=function(){return new c(this)};n.prototype.lift=function(a){var c=new m(this,this);c.operator=a;return c};n.prototype.next=function(a){if(this.closed)throw new k.ObjectUnsubscribedError;
if(!this.isStopped){var c=this.observers,d=c.length;c=c.slice();for(var f=0;f<d;f++)c[f].next(a)}};n.prototype.error=function(a){if(this.closed)throw new k.ObjectUnsubscribedError;this.hasError=!0;this.thrownError=a;this.isStopped=!0;var c=this.observers,d=c.length;c=c.slice();for(var f=0;f<d;f++)c[f].error(a);this.observers.length=0};n.prototype.complete=function(){if(this.closed)throw new k.ObjectUnsubscribedError;this.isStopped=!0;var a=this.observers,c=a.length;a=a.slice();for(var d=0;d<c;d++)a[d].complete();
this.observers.length=0};n.prototype.unsubscribe=function(){this.closed=this.isStopped=!0;this.observers=null};n.prototype._trySubscribe=function(c){if(this.closed)throw new k.ObjectUnsubscribedError;return a.prototype._trySubscribe.call(this,c)};n.prototype._subscribe=function(a){if(this.closed)throw new k.ObjectUnsubscribedError;if(this.hasError)return a.error(this.thrownError),g.Subscription.EMPTY;if(this.isStopped)return a.complete(),g.Subscription.EMPTY;this.observers.push(a);return new f.SubjectSubscription(this,
a)};n.prototype.asObservable=function(){var a=new l.Observable;a.source=this;return a};n.create=function(a,c){return new m(a,c)};return n}(l.Observable);e.Subject=a;var m=function(a){function c(c,d){a.call(this);this.destination=c;this.source=d}h(c,a);c.prototype.next=function(a){var c=this.destination;c&&c.next&&c.next(a)};c.prototype.error=function(a){var c=this.destination;c&&c.error&&this.destination.error(a)};c.prototype.complete=function(){var a=this.destination;a&&a.complete&&this.destination.complete()};
c.prototype._subscribe=function(a){return this.source?this.source.subscribe(a):g.Subscription.EMPTY};return c}(a);e.AnonymousSubject=m},function(b,e,a){function h(a){return!!a&&!!a.type&&0<=l.a.keys.indexOf(a.type)}a.d(e,"d",function(){return h});var l=a(18),g=a(39),k=a(151),f=a(23),d=a(152),c=a(153),m=a(154);a.d(e,"b",function(){return l.b});a.d(e,"a",function(){return l.a});a.d(e,"j",function(){return l.c});a.d(e,"c",function(){return g.a});a.d(e,"g",function(){return k.a});a.d(e,"f",function(){return f.a});
a.d(e,"i",function(){return d.a});a.d(e,"e",function(){return c.a});a.d(e,"h",function(){return m.a})},function(b,e,a){e.a=function(a,b,g){if("function"===typeof Array.prototype.includes)return a.includes(b,g);var k=a.length>>>0;if(0===k)return!1;g|=0;for(g=Math.max(0<=g?g:k-Math.abs(g),0);g<k;){var f=a[g],d=b;if(f===d||"number"===typeof f&&"number"===typeof d&&isNaN(f)&&isNaN(d))return!0;g++}return!1}},function(b,e,a){e.a=function(a){return a instanceof h.Observable?a:a&&"function"==typeof a.subscribe?
new h.Observable(function(g){var k=a.subscribe(function(a){return g.next(a)},function(a){return g.error(a)},function(){return g.complete()});return function(){k&&k.dispose?k.dispose():k&&k.unsubscribe&&k.unsubscribe()}}):a&&"function"===typeof a.then?h.Observable.fromPromise(a):h.Observable.of(a)};var h=a(0);a.n(h)},function(b,e,a){function h(a,c){return c.filter(function(c){var d=document.createElement(a.tagName);c="on"+c;c in d?d=!0:(d.setAttribute(c,"return;"),d="function"==typeof d[c]);return d})[0]}
function l(a,c){return a.reduce(function(a,f){return a.concat((c||d.h).map(function(a){return a+f}))},[])}function g(c,g){var m=void 0;c=l(c,g);return function(g){return g instanceof d.i?("undefined"==typeof m&&(m=h(g,c)||null),m?k.Observable.fromEvent(g,m):k.Observable.never()):a.i(f.a)(g,c)}}a.d(e,"c",function(){return p});a.d(e,"d",function(){return q});a.d(e,"e",function(){return x});a.d(e,"b",function(){return y});a.d(e,"h",function(){return r});a.d(e,"m",function(){return u});a.d(e,"n",function(){return t});
a.d(e,"o",function(){return v});a.d(e,"a",function(){return w});a.d(e,"g",function(){return z});a.d(e,"f",function(){return A});a.d(e,"k",function(){return B});a.d(e,"i",function(){return D});a.d(e,"j",function(){return F});a.d(e,"l",function(){return C});var k=a(0);a.n(k);b=a(4);a(1);var f=a(49),d=a(35);b=b.a.INACTIVITY_DELAY;var c=window.devicePixelRatio||1;e=function(){var c=void 0;null!=document.hidden?c="":null!=document.mozHidden?c="moz":null!=document.msHidden?c="ms":null!=document.webkitHidden&&
(c="webkit");var d=c?c+"Hidden":"hidden";c+="visibilitychange";return a.i(f.a)(document,c).map(function(){return document[d]})};var m=e().filter(function(a){return!1===a}),n=e().debounceTime(b).filter(function(a){return!0===a}),p=function(){return k.Observable.merge(m,n).startWith(!1)},q=function(d){return k.Observable.merge(k.Observable.interval(2E4),a.i(f.a)(window,"resize").debounceTime(500)).startWith("init").map(function(){return d.clientWidth*c}).distinctUntilChanged()},r=g(["loadedmetadata"]),
u=g(["seeking"]),t=g(["seeked"]),v=g(["ended"]);g(["timeupdate"]);var w=g(["fullscreenchange","FullscreenChange"],d.h.concat("MS")),x=function(a){return k.Observable.merge(g(["play"])(a),g(["pause"])(a))},y=function(a){return k.Observable.merge(g(["addtrack"])(a),g(["removetrack"])(a))},z=g(["sourceopen","webkitsourceopen"]),A=g(["encrypted","needkey"]),B=g(["keymessage","message"]),D=g(["keyadded","ready"]),F=g(["keyerror","error"]),C=g(["keystatuseschange"])},function(b,e,a){function h(a,c){return{start:Math.min(a.start,
c.start),end:Math.max(a.end,c.end)}}function l(a,c){var d=a.end;return a.start<=c&&c<d}function g(a,c){return l(a,c.start)||a.start<c.end&&c.end<a.end||l(c,a.start)}function k(a){for(var c=[],d=0;d<a.length;d++)c.push({start:a.start(d),end:a.end(d)});return c}function f(a,c){for(var d=a.length-1;0<=d;d--){var f=a.start(d);if(c>=f){var g=a.end(d);if(c<g)return{start:f,end:g}}}return null}function d(a,c){for(var d=a.length,f=0;f<d;f++){var g=a.start(f);if(c<g)return g-c}return Infinity}function c(a,
c){for(var d=null,f=[],g=a.length-1;0<=g;g--){var m=a.start(g),k=a.end(g);c<m||c>=k?f.push({start:m,end:k}):d={start:m,end:k}}return{outerRanges:f,innerRange:d}}function m(a,c){return(a=f(a,c))?a.end-a.start:0}function n(a,c){return(a=f(a,c))?c-a.start:0}function p(a,c){return(a=f(a,c))?a.end-c:Infinity}function q(a,c){if(c.start===c.end)return a;for(var d=0;d<a.length;d++){var f=a[d],m=g(c,f),k=Math.abs(f.start-c.end)<u||Math.abs(f.end-c.start)<u;if(m||k)c=h(c,f),a.splice(d--,1);else if(0===d){if(c.end<=
a[0].start)break}else if(a[d-1].end<=c.start&&c.end<=f.start)break}a.splice(d,0,c);for(c=0;c<a.length;c++)d=a[c],d.start===d.end&&a.splice(c++,1);for(c=1;c<a.length;c++)if(d=a[c-1],f=a[c],Math.abs(f.start-d.end)<u||Math.abs(f.end-d.start)<u)d=h(d,f),a.splice(--c,2,d);return a}function r(a,c){for(var d=0;d<a.length;d++){var f=a[d];a:{var m=f;for(var k=c,n=0;n<k.length;n++)if(g(m,k[n])){m=k[n];break a}m=null}m?m.start>f.start?f.start=m.start:m.end<f.end&&(f.end=m.end):a.splice(d--,1)}return a}a.d(e,
"h",function(){return k});a.d(e,"g",function(){return c});a.d(e,"a",function(){return p});a.d(e,"d",function(){return d});a.d(e,"c",function(){return n});a.d(e,"i",function(){return f});a.d(e,"b",function(){return m});a.d(e,"e",function(){return q});a.d(e,"f",function(){return r});var u=1/60},function(b,e,a){var h=this&&this.__extends||function(a,g){function k(){this.constructor=a}for(var f in g)g.hasOwnProperty(f)&&(a[f]=g[f]);a.prototype=null===g?Object.create(g):(k.prototype=g.prototype,new k)};
b=function(a){function g(){a.apply(this,arguments)}h(g,a);g.prototype.notifyNext=function(a,f,d,c,g){this.destination.next(f)};g.prototype.notifyError=function(a,f){this.destination.error(a)};g.prototype.notifyComplete=function(a){this.destination.complete()};return g}(a(3).Subscriber);e.OuterSubscriber=b},function(b,e,a){function h(a){return a.reduce(function(a,d){return a.concat(d instanceof c.UnsubscriptionError?d.errors:d)},[])}var l=a(28),g=a(100),k=a(59),f=a(61),d=a(34),c=a(319);b=function(){function a(a){this.closed=
!1;this._subscriptions=this._parents=this._parent=null;a&&(this._unsubscribe=a)}a.prototype.unsubscribe=function(){var a=!1;if(!this.closed){var m=this._parent;var b=this._parents,e=this._unsubscribe,u=this._subscriptions;this.closed=!0;this._subscriptions=this._parents=this._parent=null;for(var t=-1,v=b?b.length:0;m;)m.remove(this),m=++t<v&&b[t]||null;if(k.isFunction(e)&&(m=f.tryCatch(e).call(this),m===d.errorObject)){a=!0;var w=w||(d.errorObject.e instanceof c.UnsubscriptionError?h(d.errorObject.e.errors):
[d.errorObject.e])}if(l.isArray(u))for(t=-1,v=u.length;++t<v;)m=u[t],g.isObject(m)&&(m=f.tryCatch(m.unsubscribe).call(m),m===d.errorObject&&(a=!0,w=w||[],m=d.errorObject.e,m instanceof c.UnsubscriptionError?w=w.concat(h(m.errors)):w.push(m)));if(a)throw new c.UnsubscriptionError(w);}};a.prototype.add=function(c){if(!c||c===a.EMPTY)return a.EMPTY;if(c===this)return this;var d=c;switch(typeof c){case "function":d=new a(c);case "object":if(d.closed||"function"!==typeof d.unsubscribe)return d;if(this.closed)return d.unsubscribe(),
d;"function"!==typeof d._addParent&&(c=d,d=new a,d._subscriptions=[c]);break;default:throw Error("unrecognized teardown "+c+" added to Subscription.");}(this._subscriptions||(this._subscriptions=[])).push(d);d._addParent(this);return d};a.prototype.remove=function(a){var c=this._subscriptions;c&&(a=c.indexOf(a),-1!==a&&c.splice(a,1))};a.prototype._addParent=function(a){var c=this._parent,d=this._parents;c&&c!==a?d?-1===d.indexOf(a)&&d.push(a):this._parents=[a]:this._parent=a};a.EMPTY=function(a){a.closed=
!0;return a}(new a);return a}();e.Subscription=b},function(b,e,a){b=a(323);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;b="undefined"!==typeof window&&window||"undefined"!==typeof b&&b||a;e.root=b;if(!b)throw Error("RxJS could not find any global context (window, self, global)");},function(b,e,a){var h=a(15),l=a(97),g=a(101),k=a(100),f=a(0),d=a(55),c=a(202),m=a(56);e.subscribeToResult=function(a,b,e,r){var n=new c.InnerSubscriber(a,e,
r);if(n.closed)return null;if(b instanceof f.Observable)if(b._isScalar)n.next(b.value),n.complete();else return n.syncErrorThrowable=!0,b.subscribe(n);else if(l.isArrayLike(b)){a=0;for(e=b.length;a<e&&!n.closed;a++)n.next(b[a]);n.closed||n.complete()}else{if(g.isPromise(b))return b.then(function(a){n.closed||(n.next(a),n.complete())},function(a){return n.error(a)}).then(null,function(a){h.root.setTimeout(function(){throw a;})}),n;if(b&&"function"===typeof b[d.iterator]){b=b[d.iterator]();do{a=b.next();
if(a.done){n.complete();break}n.next(a.value);if(n.closed)break}while(1)}else if(b&&"function"===typeof b[m.observable])if(b=b[m.observable](),"function"!==typeof b.subscribe)n.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return b.subscribe(new c.InnerSubscriber(a,e,r));else b=k.isObject(b)?"an invalid object":"'"+b+"'",n.error(new TypeError("You provided "+b+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}return null}},
function(b,e,a){b.exports=function(a,b,g){if("function"===typeof Array.prototype.find)return a.find(b,g);g=g||this;var k=a.length,f;if("function"!==typeof b)throw new TypeError(b+" is not a function");for(f=0;f<k;f++)if(b.call(g,a[f],f,a))return a[f]}},function(b,e,a){a.d(e,"a",function(){return h});a.d(e,"c",function(){return l});a.d(e,"b",function(){return g});b=a(195);var h=a.i(b.a)(["NETWORK_ERROR","MEDIA_ERROR","ENCRYPTED_MEDIA_ERROR","INDEX_ERROR","OTHER_ERROR"]),l=a.i(b.a)(["TIMEOUT","ERROR_EVENT",
"ERROR_HTTP_CODE","PARSE_ERROR"]),g=a.i(b.a)("PIPELINE_RESOLVE_ERROR PIPELINE_LOAD_ERROR PIPELINE_PARSING_ERROR MANIFEST_PARSE_ERROR MANIFEST_INCOMPATIBLE_CODECS_ERROR MEDIA_IS_ENCRYPTED_ERROR KEY_ERROR KEY_STATUS_CHANGE_ERROR KEY_UPDATE_ERROR KEY_LOAD_ERROR KEY_LOAD_TIMEOUT KEY_GENERATE_REQUEST_ERROR INCOMPATIBLE_KEYSYSTEMS LICENSE_SERVER_CERTIFICATE_ERROR BUFFER_APPEND_ERROR BUFFER_FULL_ERROR BUFFER_TYPE_UNKNOWN MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_SOURCE_NOT_SUPPORTED MEDIA_KEYS_NOT_SUPPORTED OUT_OF_INDEX_ERROR UNKNOWN_INDEX".split(" "))},
function(b,e,a){function h(){for(var a=arguments.length,d=Array(a),c=0;c<a;c++)d[c]=arguments[c];a=d.length;if(0===a)return"";c="";for(var m=0;m<a;m++){var b=d[m];"string"===typeof b&&""!==b&&(g.test(b)?c=b:("/"===b[0]&&(b=b.substr(1)),"/"===c[c.length-1]&&(c=c.substr(0,c.length-1)),c=c+"/"+b))}a=c;if(k.test(a)){d=[];a=a.split("/");c=0;for(m=a.length;c<m;c++)".."===a[c]?d.pop():"."!==a[c]&&d.push(a[c]);d=d.join("/")}else d=a;return d}function l(a){var d=a.lastIndexOf("/");return 0<=d?a.substring(0,
d+1):a}a.d(e,"b",function(){return h});a.d(e,"a",function(){return l});var g=/^(?:[a-z]+:)?\/\//i,k=/\/\.{1,2}\//},function(b,e,a){var h=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};b=a(0);var l=a(52),g=a(27),k=a(22);a=function(a){function d(c,d){a.call(this);this.array=c;this.scheduler=d;d||1!==c.length||(this._isScalar=!0,this.value=c[0])}h(d,a);d.create=
function(a,f){return new d(a,f)};d.of=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];f=a[a.length-1];k.isScheduler(f)?a.pop():f=null;var b=a.length;return 1<b?new d(a,f):1===b?new l.ScalarObservable(a[0],f):new g.EmptyObservable(f)};d.dispatch=function(a){var c=a.array,d=a.index,f=a.subscriber;d>=a.count?f.complete():(f.next(c[d]),f.closed||(a.index=d+1,this.schedule(a)))};d.prototype._subscribe=function(a){var c=this.array,f=c.length,g=this.scheduler;if(g)return g.schedule(d.dispatch,
0,{array:c,index:0,count:f,subscriber:a});for(g=0;g<f&&!a.closed;g++)a.next(c[g]);a.complete()};return d}(b.Observable);e.ArrayObservable=a},function(b,e,a){b=a(94);a=a(95);e.async=new a.AsyncScheduler(b.AsyncAction)},function(b,e,a){e.isScheduler=function(a){return a&&"function"===typeof a.schedule}},function(b,e,a){function h(k,f,d){this.name="MediaError";this.type=l.a.MEDIA_ERROR;this.reason=f;this.code=l.b[k];this.fatal=d;this.message=a.i(g.a)(this.name,this.code,this.reason)}var l=a(18),g=a(24);
h.prototype=Error();e.a=h},function(b,e,a){e.a=function(a,g,k){if(k)switch("undefined"===typeof k?"undefined":h(k)){case "string":return a+" ("+g+") "+k;default:return a+" ("+g+") "+k.message}else return a+" ("+g+")"};var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}},function(b,e,a){a.d(e,"d",function(){return l});a.d(e,"e",function(){return g});
a.d(e,"a",function(){return k});a.d(e,"b",function(){return f});a.d(e,"c",function(){return d});a(2);var h=a(29),l=function(a,d,f){var c=a.presentationTimeOffset||0;a=a.timescale||1;return{up:d*a-c,to:(d+f)*a-c}},g=function(a){var c=a.ts,d=a.d;a=a.r;return-1===d?c:c+(a+1)*d},k=function(a,d){var c=d.initialization;c=void 0===c?{}:c;return new h.a({id:""+a+"_init",init:!0,range:c.range||null,indexRange:d.indexRange||null,media:c.media,timescale:d.timescale})},f=function(a,d){a.timescale!==d&&(a.timescale=
d);return a},d=function(a,d){return d/a.timescale}},function(b,e,a){function h(a){for(var c=a.length,d=new Uint8Array(c),f=0;f<c;f++)d[f]=a.charCodeAt(f)&255;return d}function l(a){return String.fromCharCode.apply(null,a)}function g(a){for(var c="",d=a.length,f=0;f<d;f+=2)c+=String.fromCharCode(a[f]);return c}function k(a){for(var c=a.length,d=new Uint8Array(c/2),f=0,g=0;f<c;f+=2,g++)d[g]=parseInt(a.substr(f,2),16)&255;return d}function f(a,c){c||(c="");for(var d="",f=0;f<a.byteLength;f++)d+=(a[f]>>>
4).toString(16),d+=(a[f]&15).toString(16),c.length&&f<a.byteLength-1&&(d+=c);return d}function d(){for(var a=arguments.length,c=-1,d=0,f;++c<a;)f=arguments.length<=c?void 0:arguments[c],d+="number"===typeof f?f:f.length;d=new Uint8Array(d);var g=0;for(c=-1;++c<a;)f=arguments.length<=c?void 0:arguments[c],"number"===typeof f?g+=f:0<f.length&&(d.set(f,g),g+=f.length);return d}function c(a,c){return(a[0+c]<<8)+(a[1+c]<<0)}function m(a,c){return 65536*a[0+c]+256*a[1+c]+a[2+c]}function n(a,c){return 16777216*
a[0+c]+65536*a[1+c]+256*a[2+c]+a[3+c]}function p(a,c){return 4294967296*(16777216*a[0+c]+65536*a[1+c]+256*a[2+c]+a[3+c])+16777216*a[4+c]+65536*a[5+c]+256*a[6+c]+a[7+c]}function q(a){return new Uint8Array([a>>>8&255,a&255])}function r(a){return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255])}function u(a){var c=a%4294967296;a=(a-c)/4294967296;return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255,c>>>24&255,c>>>16&255,c>>>8&255,c&255])}function t(a,c){return(a[0+c]<<0)+(a[1+c]<<8)}function v(a,
c){return a[0+c]+256*a[1+c]+65536*a[2+c]+16777216*a[3+c]}function w(a){x.a.equal(a.length,16,"UUID length should be 16");var c=h(a);a=c[0];var d=c[1],g=c[2],k=c[3],m=c[4],b=c[5],n=c[6],l=c[7],e=c.subarray(8,10);c=c.subarray(10,16);var p=new Uint8Array(16);p[0]=k;p[1]=g;p[2]=d;p[3]=a;p[4]=b;p[5]=m;p[6]=l;p[7]=n;p.set(e,8);p.set(c,10);return f(p)}a.d(e,"b",function(){return h});a.d(e,"a",function(){return l});a.d(e,"l",function(){return g});a.d(e,"k",function(){return k});a.d(e,"p",function(){return f});
a.d(e,"i",function(){return d});a.d(e,"g",function(){return c});a.d(e,"h",function(){return m});a.d(e,"e",function(){return n});a.d(e,"f",function(){return p});a.d(e,"d",function(){return t});a.d(e,"c",function(){return v});a.d(e,"n",function(){return q});a.d(e,"j",function(){return r});a.d(e,"o",function(){return u});a.d(e,"m",function(){return w});var x=a(2)},function(b,e,a){var h=this&&this.__extends||function(a,g){function k(){this.constructor=a}for(var f in g)g.hasOwnProperty(f)&&(a[f]=g[f]);
a.prototype=null===g?Object.create(g):(k.prototype=g.prototype,new k)};b=function(a){function g(g){a.call(this);this.scheduler=g}h(g,a);g.create=function(a){return new g(a)};g.dispatch=function(a){a.subscriber.complete()};g.prototype._subscribe=function(a){var f=this.scheduler;if(f)return f.schedule(g.dispatch,0,{subscriber:a});a.complete()};return g}(a(0).Observable);e.EmptyObservable=b},function(b,e,a){e.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length}},function(b,e,a){e.a=
function l(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.id=a.id;this.duration=a.duration;this.isInit=!!a.init;this.range=a.range;this.time=a.time;this.indexRange=a.indexRange;this.number=a.number;this.timescale=null==a.timescale?1:a.timescale;this.media=a.media}},function(b,e,a){function h(a,c){return new Date(1E3*(a+c.availabilityStartTime))}function l(a,c){var d=c.suggestedPresentationDelay,
f=c.presentationLiveGap,g=c.timeShiftBufferDepth;"number"!=typeof a&&(a=a.getTime());var k=Date.now();return Math.max(Math.min(a,k-1E3*(f+d)),k-1E3*g)/1E3-c.availabilityStartTime}function g(a){return f(a)[0]}function k(a){if(!a.isLive)return a.getDuration();var c=a.availabilityStartTime;a=a.presentationLiveGap;return Date.now()/1E3-c-a}function f(a){if(!a.isLive)return[0,a.getDuration()];var c=a.availabilityStartTime,d=a.presentationLiveGap;a=a.timeShiftBufferDepth;c=Date.now()/1E3-c-d;return[Math.min(c,
c-a+5),c]}a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});a.d(e,"c",function(){return g});a.d(e,"d",function(){return k});a.d(e,"e",function(){return f})},function(b,e,a){function h(c,d){for(var f=c.length,g=0,k,m=0;g+8<f&&(m=a.i(q.e)(c,g),k=a.i(q.e)(c,g+4),a.i(p.a)(0<m,"out of range size"),k!==d);)g+=m;if(g>=f)return-1;a.i(p.a)(g+m<=f,"atom out of range");return g}function l(c,d){var f=h(c,1936286840);if(-1===f)return null;var g=a.i(q.e)(c,f);f=f+4+4;var k=c[f];f+=8;var m=a.i(q.e)(c,
f);f+=4;if(0===k)k=a.i(q.e)(c,f),f+=4,d+=a.i(q.e)(c,f)+g,f+=4;else if(1===k)k=a.i(q.f)(c,f),f+=8,d+=a.i(q.f)(c,f)+g,f+=8;else return null;g=[];f+=2;var b=a.i(q.g)(c,f);for(f+=2;0<=--b;){var n=a.i(q.e)(c,f);f+=4;var l=n&2147483647;if(1===(n&2147483648)>>>31)throw Error("not implemented");n=a.i(q.e)(c,f);f+=4;f+=4;g.push({time:k,duration:n,count:0,timescale:m,range:[d,d+l-1]});k+=n;d+=l}return g}function g(c){c=d(c,1836019558);if(!c)return-1;c=d(c,1953653094);if(!c)return-1;var f=h(c,1952867444);if(-1===
f)return-1;f=f+4+4;var g=c[f];f+=4;return 1<g?-1:g?a.i(q.f)(c,f):a.i(q.e)(c,f)}function k(c){c=d(c,1836019558);if(!c)return-1;c=d(c,1953653094);if(!c)return-1;var f=h(c,1953658222);if(-1===f)return-1;f=f+4+4;var g=c[f];f+=1;if(1<g)return-1;var k=a.i(q.h)(c,f);f+=3;g=k&256;var m=0;if(!g)return f=h(c,1952868452),-1===f?m=-1:(f=f+4+4+1,g=a.i(q.h)(c,f),g&8?(f+=4,g&1&&(f+=8),g&2&&(f+=4),m=a.i(q.e)(c,f)):m=-1),0<=m?m:-1;var b=k&1,n=k&4,l=k&512,e=k&1024;k&=2048;var p=a.i(q.e)(c,f);f+=4;b&&(f+=4);n&&(f+=
4);b=p;for(n=0;b--;)g?(n+=a.i(q.e)(c,f),f+=4):n+=m,l&&(f+=4),e&&(f+=4),k&&(f+=4);return n}function f(c){c=d(c,1836019574);if(!c)return-1;c=d(c,1953653099);if(!c)return-1;c=d(c,1835297121);if(!c)return-1;var f=h(c,1835296868);if(-1===f)return-1;f=f+4+4;var g=c[f];f+=4;return 1===g?(f+=16,a.i(q.e)(c,f)):0===g?(f+=8,a.i(q.e)(c,f)):-1}function d(c,d){for(var f=c.length,g=0,k,m=0;g+8<f&&(m=a.i(q.e)(c,g),k=a.i(q.e)(c,g+4),a.i(p.a)(0<m,"out of range size"),k!==d);)g+=m;return g<f?c.subarray(g+8,g+m):null}
function c(a){return d(a,1835295092)}function m(c){var d=c.systemId;c=c.privateData;d=d.replace(/-/g,"");a.i(p.a)(32===d.length);d=a.i(q.i)(4,a.i(q.k)(d),a.i(q.j)(c.length),c);c=d.length+8;return a.i(q.i)(a.i(q.j)(c),a.i(q.b)("pssh"),d)}function n(c,d){if(!d||!d.length)return c;var f=h(c,1836019574);if(-1===f)return c;for(var g=a.i(q.e)(c,f),k=[c.subarray(f,f+g)],b=0;b<d.length;b++)k.push(m(d[b]));d=q.i.apply(void 0,k);d.set(a.i(q.j)(d.length),0);return a.i(q.i)(c.subarray(0,f),d,c.subarray(f+g))}
a.d(e,"b",function(){return f});a.d(e,"e",function(){return g});a.d(e,"f",function(){return k});a.d(e,"a",function(){return l});a.d(e,"d",function(){return c});a.d(e,"c",function(){return n});var p=a(2),q=a(26)},function(b,e,a){function h(){this.__listeners={}}var l=a(1),g=a(2);h.prototype.addEventListener=function(k,f){a.i(g.a)("function"==typeof f,"eventemitter: second argument should be a function");this.__listeners[k]||(this.__listeners[k]=[]);this.__listeners[k].push(f)};h.prototype.removeEventListener=
function(a,f){if(0===arguments.length)this.__listeners={};else if(this.__listeners.hasOwnProperty(a))if(1===arguments.length)delete this.__listeners[a];else{var d=this.__listeners[a],c=d.indexOf(f);~c&&d.splice(c,1);d.length||delete this.__listeners[a]}};h.prototype.trigger=function(a,f){this.__listeners.hasOwnProperty(a)&&this.__listeners[a].slice().forEach(function(a){try{a(f)}catch(c){l.a.error(c,c.stack)}})};h.prototype.on=h.prototype.addEventListener;h.prototype.off=h.prototype.removeEventListener;
e.a=h},function(b,e,a){function h(a){if(null!=a){if("string"===typeof a){var c=a;a=!1}else c=a.language,a=!!a.closedCaption;return{language:c,closedCaption:a,normalized:g(c)}}return a}function l(a){if(null!=a){if("string"===typeof a){var c=a;a=!1}else c=a.language,a=!!a.audioDescription;return{language:c,audioDescription:a,normalized:g(c)}}return a}function g(a){if(null==a||""===a)return"";a=(""+a).toLowerCase().split("-");var c=a[0],d=void 0;2===c.length?d=k.a[c]:3===c.length&&(d=f.a[c]);(c=d||c)&&
(a[0]=c);return a.join("-")}a.d(e,"a",function(){return g});a.d(e,"b",function(){return l});a.d(e,"c",function(){return h});var k=a(193),f=a(194)},function(b,e,a){e.errorObject={e:{}}},function(b,e,a){a.d(e,"h",function(){return l});a.d(e,"i",function(){return g});a.d(e,"f",function(){return k});a.d(e,"a",function(){return d});a.d(e,"g",function(){return c});a.d(e,"b",function(){return m});a.d(e,"d",function(){return n});a.d(e,"c",function(){return p});a.d(e,"e",function(){return f});var h=a(23);
b=window;var l=["","webkit","moz","ms"],g=b.HTMLElement,k=b.HTMLVideoElement,f=b.VTTCue||b.TextTrackCue,d=b.MediaSource||b.MozMediaSource||b.WebKitMediaSource||b.MSMediaSource,c=b.MediaKeys||b.MozMediaKeys||b.WebKitMediaKeys||b.MSMediaKeys;c||(b=function(){throw new h.a("MEDIA_KEYS_NOT_SUPPORTED",null,!0);},c={create:b,isTypeSupported:b});var m="Microsoft Internet Explorer"==navigator.appName||"Netscape"==navigator.appName&&/(Trident|Edge)\//.test(navigator.userAgent),n=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),
p={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4}},function(b,e,a){a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});b=a(127);var h=new b.a({load:function(){return[]},save:function(){}}),l=new b.b},function(b,e,a){function h(c){return a.i(n.a)(c.createMediaKeys())}function l(f,d,g,k){var b=d.keySystem,n=d.keySystemAccess;b.persistentLicense&&r.a.setStorage(b.licenseStorage);m.a.info("eme: encrypted event",f);return h(n).mergeMap(function(d){var m=
b.serverCertificate;m=m&&"function"===typeof d.setServerCertificate?a.i(u.a)(d,m,k):c.Observable.empty();var l=n.getConfiguration(),e=a.i(t.a)(d,l,g,b,x),h=new Uint8Array(f.initData);d=a.i(v.a)(d,l,b,f.initDataType,h,k);return m.concat(c.Observable.merge(e,d))})}function g(d,f,g){return c.Observable.combineLatest(a.i(q.f)(d),a.i(w.a)(f,x)).take(1).mergeMap(function(a){return l(a[0],a[1],d,g)})}function k(){a.i(t.b)(x.$videoElement).subscribe(function(){});x.$mediaKeys=null;x.$keySystem=null;x.$videoElement=
null;x.$mediaKeySystemConfiguration=null;r.b.dispose()}function f(){return c.Observable.defer(function(){return x.$videoElement&&a.i(p.e)()?a.i(t.b)(x.$videoElement).finally(function(){x.$videoElement=null}):c.Observable.empty()})}function d(){return a.i(w.b)(x)}a.d(e,"c",function(){return g});a.d(e,"d",function(){return f});a.d(e,"b",function(){return d});a.d(e,"a",function(){return k});var c=a(0);a.n(c);var m=a(1),n=a(10);a(2);var p=a(5),q=a(11),r=a(36),u=a(124),t=a(129),v=a(125),w=a(123),x={$mediaKeys:null,
$mediaKeySystemConfiguration:null,$keySystem:null,$videoElement:null}},function(b,e,a){function h(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}a.d(e,"a",function(){return d});b=a(32);var l=a(2),g=a(50),k=a(10),f=a(147),d=function(c){function d(a){if(!(this instanceof
d))throw new TypeError("Cannot call a class as a function");var g=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.codec=a;g.updating=!1;g.readyState="opened";g.buffered=new f.a;return g}h(d,c);d.prototype.appendBuffer=function(a){var c=this;this._lock(function(){return c._append(a)})};d.prototype.remove=function(a,c){var d=this;this._lock(function(){return d._remove(a,c)})};d.prototype.abort=
function(){this.remove(0,Infinity);this.updating=!1;this.readyState="closed";this._abort()};d.prototype._append=function(){};d.prototype._remove=function(){};d.prototype._abort=function(){};d.prototype._lock=function(c){var d=this;a.i(l.a)(!this.updating,"updating");this.updating=!0;this.trigger("updatestart");a.i(g.a)(function(){return a.i(k.a)(c())}).subscribe(function(){return setTimeout(function(){return d._unlock("update")},0)},function(a){return setTimeout(function(){return d._unlock("error",
a)},0)})};d.prototype._unlock=function(a,c){this.updating=!1;this.trigger(a,c);this.trigger("updateend")};return d}(b.a)},function(b,e,a){function h(k,f,d){this.name="EncryptedMediaError";this.type=l.a.ENCRYPTED_MEDIA_ERROR;this.reason=f;this.code=l.b[k];this.fatal=d;this.message=a.i(g.a)(this.name,this.code,this.reason)}var l=a(18),g=a(24);h.prototype=Error();e.a=h},function(b,e,a){Object.defineProperty(e,"__esModule",{value:!0});var h=a(29),l=a(25);e["default"]={getInitSegment:l.a,setTimescale:l.b,
scale:l.c,getSegments:function(g,k,f,d){d=a.i(l.d)(k,f,d);f=d.up;d=d.to;var c=k.timeline,b=k.timescale,n=k.media,e=k.startNumber,q=(k=null!=e)?e:void 0;e=[];for(var r=c.length,u=c.length&&c[0].d||0,t=0;t<r;t++){var v=c[t],w=v.d,x=v.ts,y=v.range;u=Math.max(u,w);if(0>w){x+u<d&&(g=new h.a({id:""+g+"_"+x,time:x,init:!1,range:y,duration:void 0,indexRange:null,timescale:b,media:n,number:k?q:void 0}),e.push(g));break}var z=c[t+1],A=v.r||0;0>A&&(A=Math.ceil(((z?z.t:Infinity)-v.ts)/v.d)-1);v=A;z=f-x;z=0<z?
Math.floor(z/w):0;for(A=x+z*w;A<d&&z<=v;)A=new h.a({id:""+g+"_"+A,time:A,init:!1,range:y,duration:w,indexRange:null,timescale:b,media:n,number:k?q+z:void 0}),e.push(A),z++,A=x+z*w;if(A>=d)break;k&&(q+=v+1)}return e},shouldRefresh:function(g,k,f,d){f=g.timeline;k=g.timescale;g=g.presentationTimeOffset;f=f[f.length-1];if(!f)return!1;0>f.d&&(f={ts:f.ts,d:0,r:f.r});return!(d*k-(void 0===g?0:g)<=a.i(l.e)(f))},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(g){if(g.timeline.length){var k=
g.timeline[g.timeline.length-1];return a.i(l.e)(k)/g.timescale}},checkDiscontinuity:function(g,k){var f=g.timeline,d=g.timescale;d=void 0===d?1:d;k*=d;if(0>=k)return-1;g=g.timeline;var c=0;for(var b=g.length;c<b;){var n=c+b>>>1;g[n].ts<k?c=n+1:b=n}c=0<c?c-1:c;if(0>c||c>=f.length-1)return-1;b=f[c];if(-1===b.d)return-1;g=b.ts;b=a.i(l.e)(b);f=f[c+1];return b!==f.ts&&k>=g&&k<=b&&b-k<d?f.ts/d:-1},_addSegmentInfos:function(g,k,f){var d=g.timeline,c=g.timescale,b=d.length,n=d[b-1];k=k.timescale===c?{time:k.time,
duration:k.duration}:{time:k.time/k.timescale*c,duration:k.duration/k.timescale*c};var e=void 0;f&&(e=f.timescale===c?f.time:f.time/f.timescale*c);if(null!=e&&k.time===e){f=k.time+k.duration;c=f-(n.ts+n.d*n.r);if(0>=c)return!1;-1===n.d&&((b=d[b-2])&&b.d===c?(b.r++,d.pop()):n.d=c);g.timeline.push({d:-1,ts:f,r:0});return!0}return k.time>=a.i(l.e)(n)?(n.d===k.duration?n.r++:g.timeline.push({d:k.duration,ts:k.time,r:0}),!0):!1}}},function(b,e,a){function h(a){var g=a.value;return"response"===a.type?{type:"response",
value:{responseData:g.responseData,size:g.size,duration:g.receivedTime-g.sentTime,url:g.url}}:{type:"progress",value:{size:g.loadedSize,totalSize:g.totalSize,duration:g.currentTime-g.sentTime,url:g.url}}}var l=a(48);e.a=function(g){return a.i(l.a)(g).map(h)}},function(b,e,a){function h(a){return function(d,c,f){d=f?parseInt(f,10):1;c=""+a;c=c.toString();d=c.length>=d?c:(Array(d+1).join("0")+c).slice(-d);return d}}function l(a,d,c){return-1===a.indexOf("$")?a:a.replace(/\$\$/g,"$").replace(/\$RepresentationID\$/g,
c.id).replace(/\$Bandwidth(|\%0(\d+)d)\$/g,h(c.bitrate)).replace(/\$Number(|\%0(\d+)d)\$/g,h(d.number)).replace(/\$Time(|\%0(\d+)d)\$/g,h(d.time))}function g(a){return"application/mp4"===a.mimeType}function k(a){var d=a[0];return(a=a[1])&&Infinity!==a?"bytes="+ +d+"-"+ +a:"bytes="+ +d+"-"}a.d(e,"a",function(){return l});a.d(e,"b",function(){return g});a.d(e,"c",function(){return k})},function(b,e,a){function h(c,d){var f=d.length+8,g=a.i(n.i);f=a.i(n.j)(f);if(q[c])c=q[c];else{var b=a.i(n.b)(c);c=
q[c]=b}return g(f,c,d)}function l(c,d,f,g,b){for(var k=c.length,m=0,l;m<k;){l=a.i(n.e)(c,m);if(1970628964===a.i(n.e)(c,m+4)&&a.i(n.e)(c,m+8)===d&&a.i(n.e)(c,m+12)===f&&a.i(n.e)(c,m+16)===g&&a.i(n.e)(c,m+20)===b)return c.subarray(m+24,m+l);m+=l}}function g(c,d){for(var f=c.length,g=0,b,k=void 0;g+8<f&&(k=a.i(n.e)(c,g),b=a.i(n.e)(c,g+4),a.i(m.a)(0<k,"smooth: out of range size"),b!==d);)g+=k;return g<f?c.subarray(g+8,g+k):null}function k(a,c,d,f){var g=[a,c,d];f.forEach(function(a){a=r.pssh(a.systemId,
a.privateData,a.keyIds);g.push(a)});return g}function f(c,d,f,g){var b=c.length,k=d.length;f=f.length;c=c.subarray(f,b);b=new Uint8Array(k+(b-f));b.set(d,0);b.set(c,k);d=d.length+8;b.set(a.i(n.j)(d),g+16);return b}function d(c,d,f,g,b,m,l){f=r.mult("stbl",[f,h("stts",new Uint8Array(8)),h("stsc",new Uint8Array(8)),h("stsz",new Uint8Array(12)),h("stco",new Uint8Array(8))]);var e=h("url ",new Uint8Array([0,0,0,1]));e=r.dref(e);e=r.mult("dinf",[e]);g=r.mult("minf",[g,e,f]);d=r.hdlr(d);f=r.mdhd(c);d=r.mult("mdia",
[f,d,g]);b=r.tkhd(b,m,1);b=r.mult("trak",[b,d]);m=r.trex(1);m=r.mult("mvex",[m]);c=r.mvhd(c,1);l=r.mult("moov",k(c,m,b,l));c=r.ftyp("isom",["isom","iso2","iso6","avc1","dash"]);return a.i(n.i)(c,l)}var c=a(5),m=a(2),n=a(26),p=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],q={},r={mult:function(a,c){return h(a,n.i.apply(null,c))},avc1encv:function(c,d,f,g,b,k,m,l,e,p){return h(c,a.i(n.i)(6,a.i(n.n)(d),16,a.i(n.n)(f),a.i(n.n)(g),a.i(n.n)(b),2,a.i(n.n)(k),6,[0,1,m.length],a.i(n.b)(m),
31-m.length,a.i(n.n)(l),[255,255],e,"encv"===c?p:[]))},avcc:function(c,d,f){f=2===f?1:4===f?3:0;var g=c[1],b=c[2],k=c[3];return h("avcC",a.i(n.i)([1,g,b,k,252|f,225],a.i(n.n)(c.length),c,[1],a.i(n.n)(d.length),d))},dref:function(c){return h("dref",a.i(n.i)(7,[1],c))},esds:function(c,d){return h("esds",a.i(n.i)(4,[3,25],a.i(n.n)(c),[0,4,17,64,21],11,[5,2],a.i(n.k)(d),[6,1,2]))},frma:function(c){return h("frma",a.i(n.b)(c))},free:function(a){return h("free",new Uint8Array(a-8))},ftyp:function(c,d){return h("ftyp",
n.i.apply(null,[a.i(n.b)(c),[0,0,0,1]].concat(d.map(n.b))))},hdlr:function(c){switch(c){case "video":c="vide";var d="VideoHandler";break;case "audio":c="soun";d="SoundHandler";break;default:c="hint",d=""}return h("hdlr",a.i(n.i)(8,a.i(n.b)(c),12,a.i(n.b)(d),1))},mdhd:function(c){return h("mdhd",a.i(n.i)(12,a.i(n.j)(c),8))},moof:function(a,c){return r.mult("moof",[a,c])},mp4aenca:function(c,d,f,g,b,k,m,l){return h(c,a.i(n.i)(6,a.i(n.n)(d),8,a.i(n.n)(f),a.i(n.n)(g),2,a.i(n.n)(b),a.i(n.n)(k),2,m,"enca"===
c?l:[]))},mvhd:function(c,d){return h("mvhd",a.i(n.i)(12,a.i(n.j)(c),4,[0,1],2,[1,0],10,[0,1],14,[0,1],14,[64,0,0,0],26,a.i(n.n)(d+1)))},pssh:function(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];c=c.replace(/-/g,"");a.i(m.a)(32===c.length,"wrong system id length");var g=f.length;if(0<g){var b=1;f=n.i.apply(null,[a.i(n.j)(g)].concat(f))}else b=0,f=[];return h("pssh",a.i(n.i)([b,0,0,0],a.i(n.k)(c),f,a.i(n.j)(d.length),
d))},saio:function(c,d,f,g){return h("saio",a.i(n.i)(4,[0,0,0,1],a.i(n.j)(c.length+d.length+f.length+g.length+8+8+8+8)))},saiz:function(c){if(0===c.length)return h("saiz",new Uint8Array);var d=a.i(n.e)(c,0),f=a.i(n.e)(c,4),g=new Uint8Array(9+f);g.set(a.i(n.j)(f),5);f=9;for(var b=8,k,m;b<c.length;)b+=8,2===(d&2)?(m=2,k=a.i(n.g)(c,b),b+=2+6*k):m=k=0,g[f]=6*k+8+m,f++;return h("saiz",g)},schm:function(c,d){return h("schm",a.i(n.i)(4,a.i(n.b)(c),a.i(n.j)(d)))},senc:function(a){return h("senc",a)},smhd:function(){return h("smhd",
new Uint8Array(8))},stsd:function(a){return h("stsd",n.i.apply(null,[7,[a.length]].concat(a)))},tkhd:function(c,d,f){return h("tkhd",a.i(n.i)(a.i(n.j)(7),8,a.i(n.j)(f),20,[1,0,0,0],[0,1,0,0],12,[0,1,0,0],12,[64,0,0,0],a.i(n.n)(c),2,a.i(n.n)(d),2))},trex:function(c){return h("trex",a.i(n.i)(4,a.i(n.j)(c),[0,0,0,1],12))},tfdt:function(c){return h("tfdt",a.i(n.i)([1,0,0,0],a.i(n.o)(c)))},tenc:function(c,d,f){return h("tenc",a.i(n.i)(6,[c,d],a.i(n.k)(f)))},traf:function(a,c,d,f,g){var b=[a,c,d];f&&b.push(r.senc(f),
r.saiz(f),r.saio(g,a,c,d));return r.mult("traf",b)},trun:function(c){if(c[11]&1)return c;var d=new Uint8Array(c.length+4);d.set(a.i(n.j)(c.length+4),0);d.set(c.subarray(4,16),4);d[11]|=1;d.set([0,0,0,0],16);d.set(c.subarray(16,c.length),20);return d},vmhd:function(){var a=new Uint8Array(12);a[3]=1;return h("vmhd",a)}},u={traf:function(a){return(a=g(a,1836019558))?g(a,1953653094):null},senc:function(a){return l(a,2721664850,1520127764,2722393154,2086964724)},tfxd:function(a){return l(a,1830656773,
1121273062,2162299933,2952222642)},tfrf:function(a){return l(a,3565190898,3392751253,2387879627,2655430559)},mdat:function(a){return g(a,1835295092)}};e.a={getMdat:u.mdat,getTraf:u.traf,parseTfrf:function(c){c=u.tfrf(c);if(!c)return[];for(var d=[],f=c[0],g=c[4],b=0;b<g;b++){if(1==f){var k=a.i(n.f)(c,16*b+5);var m=a.i(n.f)(c,16*b+13)}else k=a.i(n.e)(c,8*b+5),m=a.i(n.e)(c,8*b+9);d.push({time:k,duration:m})}return d},parseTfxd:function(c){if(c=u.tfxd(c))return{duration:a.i(n.f)(c,12),time:a.i(n.f)(c,
4)}},createVideoInitSegment:function(c,f,g,b,k,m,l,e,h){h||(h=[]);var p=l.split("00000001");l=p[1];p=p[2];l=a.i(n.k)(l);p=a.i(n.k)(p);m=r.avcc(l,p,m);h.length?(e=r.tenc(1,8,e),e=r.mult("schi",[e]),l=r.schm("cenc",65536),p=r.frma("avc1"),e=r.mult("sinf",[p,l,e]),b=r.avc1encv("encv",1,f,g,b,k,"AVC Coding",24,m,e)):b=r.avc1encv("avc1",1,f,g,b,k,"AVC Coding",24,m);b=r.stsd([b]);return d(c,"video",b,r.vmhd(),f,g,h)},createAudioInitSegment:function(c,f,g,b,k,m,l,e){e||(e=[]);m||(m=(32|p.indexOf(k)&31)<<
4,m=(m|f&31)<<3,m=a.i(n.p)(a.i(n.n)(m)));m=r.esds(1,m);if(e.length){l=r.tenc(1,8,l);l=r.mult("schi",[l]);var h=r.schm("cenc",65536),q=r.frma("mp4a");l=r.mult("sinf",[q,h,l]);f=r.mp4aenca("enca",1,f,g,b,k,m,l)}else f=r.mp4aenca("mp4a",1,f,g,b,k,m);f=r.stsd([f]);return d(c,"audio",f,r.smhd(),0,0,e)},patchSegment:function(d,g){var b=d.subarray(0,a.i(n.e)(d,0)),k=r.tfdt(g);g=k.length;var m=a.i(n.e)(b,8),l=a.i(n.e)(b,8+m),e=a.i(n.e)(b,8+m+8),h=a.i(n.e)(b,8+m+8+e),p=b.subarray(8,8+m),q=b.subarray(8+m+8,
8+m+8+l-8);l=q.subarray(0,e);h=q.subarray(e,e+h);l.set([0,0,0,1],12);q=u.senc(q);h=r.trun(h);k=r.traf(l,k,h,q,p);p=r.moof(p,k);g=8+m+8+e+g;return c.s?f(d,p,b,g):8<=b.length-p.length?(b=b.length-p.length,d.set(p,0),d.set(r.free(b),p.length),b=p.length+8+b,d.set(a.i(n.j)(b),g+16),d):f(d,p,b,g)}}},function(b,e,a){e.a=function(a,b){function g(a){var f=[];a.tagName.toLowerCase()===b.toLowerCase()&&f.push(a);a=a.parentNode;a instanceof Element&&f.push.apply(f,g(a));return f}return a.parentNode instanceof
Element?g(a.parentNode):[]}},function(b,e,a){a.d(e,"a",function(){return c});a.d(e,"c",function(){return l});a.d(e,"b",function(){return h});a.d(e,"d",function(){return g});a.d(e,"e",function(){return k});a.d(e,"g",function(){return d});a.d(e,"f",function(){return f});a.d(e,"i",function(){return n});a.d(e,"h",function(){return m});var h=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,l=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,g=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,k=/^(\d*\.?\d*)f$/,f=/^(\d*\.?\d*)t$/,
d=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/,c=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,m=/^#([0-9A-f]{2})([0-9A-f]{2})([0-9A-f]{2})([0-9A-f]{2})$/,n=/^#([0-9A-f])([0-9A-f])([0-9A-f])([0-9A-f])$/},function(b,e,a){e.b=function(b,f,d,c){var k={},n=b.slice();for(b=0;b<=f.length-1;b++){var e=f[b];if(e){var q=function(){for(var f=void 0,g=void 0,b=0;b<=e.attributes.length-1;b++){var m=e.attributes[b],p=m.name;if("style"===p)f=m.value;else if("region"===p)g=m.value;else if(p=p.substr(4),
a.i(l.a)(n,p)&&(k[m.name]=m.value,n.splice(b,1),!n.length))return{v:k}}if(f&&(b=h()(d,function(a){return a.id===f})))for(m=0;m<=n.length-1;m++)if(p=n[m],!k[p]&&b.style[p]){k[p]=b.style[p];n.splice(m,1);if(!n.length)return{v:k};m--}if(g&&(b=h()(c,function(a){return a.id===g})))for(m=0;m<=n.length-1;m++)if(p=n[m],!k[p]&&b.style[p]){k[p]=b.style[p];n.splice(m,1);if(!n.length)return{v:k};m--}}();if("object"===("undefined"===typeof q?"undefined":g(q)))return q.v}}return k};e.a=function(a){for(var f={},
d=0;d<=a.attributes.length-1;d++){var c=a.attributes[d];if(c.name.startsWith("tts")){var g=c.name.substr(4);f[g]=c.value}}return f};b=a(17);var h=a.n(b),l=a(9),g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}},function(b,e,a){e.a=function(){var a=0;h<Number.MAX_VALUE&&(a=h+1);h=a;return""+a};var h=0},function(b,e,a){e.a=function(a){var g={url:"",
headers:null,method:"GET",responseType:"json",timeout:3E4,body:void 0},f;for(f in g)a.hasOwnProperty(f)&&(g[f]=a[f]);return h.Observable.create(function(d){var c=g.url,f=g.headers,b=g.responseType,k=g.timeout,e=g.body,h=new XMLHttpRequest;h.open(g.method,c,!0);0<=k&&(h.timeout=k);h.responseType=b;"document"===h.responseType&&h.overrideMimeType("text/xml");if(f)for(var u in f)h.setRequestHeader(u,f[u]);var t=Date.now();h.onerror=function(){d.error(new l.h(h,c,l.j.ERROR_EVENT))};h.ontimeout=function(){d.error(new l.h(h,
c,l.j.TIMEOUT))};a.ignoreProgressEvents||(h.onprogress=function(a){d.next({type:"progress",value:{url:c,sentTime:t,currentTime:Date.now(),loadedSize:a.loaded,totalSize:a.total}})});h.onload=function(a){if(4===h.readyState)if(200<=h.status&&300>h.status){var f=Date.now();a=a.total;var g=h.status,b=h.responseType,k=h.responseURL||c,m=void 0;if("json"===b)if("string"!==typeof h.response)m=h.response;else try{m=JSON.parse(h.responseText)}catch(B){m=null}else m=h.response;null==m?d.error(new l.h(h,k,l.j.PARSE_ERROR)):
(d.next({type:"response",value:{status:g,url:k,responseType:b,sentTime:t,receivedTime:f,size:a,responseData:m}}),d.complete())}else d.error(new l.h(h,c,l.j.ERROR_HTTP_CODE))};void 0!==e?h.send(e):h.send();return function(){h&&4!==h.readyState&&h.abort()}})};var h=a(0);a.n(h);var l=a(8)},function(b,e,a){e.a=function(a,g){return Array.isArray(g)?(g=g.map(function(g){return h.Observable.fromEvent(a,g)}),h.Observable.merge.apply(h.Observable,g)):h.Observable.fromEvent(a,g)};var h=a(0);a.n(h)},function(b,
e,a){e.a=function(a,g){try{return a(g)}catch(k){return h.Observable.throw(k)}};var h=a(0);a.n(h)},function(b,e,a){var h=this&&this.__extends||function(a,b){function f(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)};b=a(7);var l=a(58);a=function(a){function g(f){a.call(this);this._value=f}h(g,a);Object.defineProperty(g.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0});
g.prototype._subscribe=function(f){var d=a.prototype._subscribe.call(this,f);d&&!d.closed&&f.next(this._value);return d};g.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new l.ObjectUnsubscribedError;return this._value};g.prototype.next=function(f){a.prototype.next.call(this,this._value=f)};return g}(b.Subject);e.BehaviorSubject=a},function(b,e,a){var h=this&&this.__extends||function(a,g){function b(){this.constructor=a}for(var f in g)g.hasOwnProperty(f)&&
(a[f]=g[f]);a.prototype=null===g?Object.create(g):(b.prototype=g.prototype,new b)};b=function(a){function g(g,f){a.call(this);this.value=g;this.scheduler=f;this._isScalar=!0;f&&(this._isScalar=!1)}h(g,a);g.create=function(a,f){return new g(a,f)};g.dispatch=function(a){var f=a.value,d=a.subscriber;a.done?d.complete():(d.next(f),d.closed||(a.done=!0,this.schedule(a)))};g.prototype._subscribe=function(a){var f=this.value,d=this.scheduler;if(d)return d.schedule(g.dispatch,0,{done:!1,value:f,subscriber:a});
a.next(f);a.closed||a.complete()};return g}(a(0).Observable);e.ScalarObservable=b},function(b,e,a){var h=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)},l=a(16);b=a(13);e.mergeMap=function(a,d,c){void 0===c&&(c=Number.POSITIVE_INFINITY);return function(f){"number"===typeof d&&(c=d,d=null);return f.lift(new g(a,d,c))}};var g=function(){function a(a,c,f){void 0===
f&&(f=Number.POSITIVE_INFINITY);this.project=a;this.resultSelector=c;this.concurrent=f}a.prototype.call=function(a,c){return c.subscribe(new k(a,this.project,this.resultSelector,this.concurrent))};return a}();e.MergeMapOperator=g;var k=function(a){function d(c,d,f,g){void 0===g&&(g=Number.POSITIVE_INFINITY);a.call(this,c);this.project=d;this.resultSelector=f;this.concurrent=g;this.hasCompleted=!1;this.buffer=[];this.index=this.active=0}h(d,a);d.prototype._next=function(a){this.active<this.concurrent?
this._tryNext(a):this.buffer.push(a)};d.prototype._tryNext=function(a){var c=this.index++;try{var d=this.project(a,c)}catch(p){this.destination.error(p);return}this.active++;this._innerSub(d,a,c)};d.prototype._innerSub=function(a,d,f){this.add(l.subscribeToResult(this,a,d,f))};d.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};d.prototype.notifyNext=function(a,d,f,g,b){this.resultSelector?this._notifyResultSelector(a,d,f,g):
this.destination.next(d)};d.prototype._notifyResultSelector=function(a,d,f,g){try{var c=this.resultSelector(a,d,f,g)}catch(r){this.destination.error(r);return}this.destination.next(c)};d.prototype.notifyComplete=function(a){var c=this.buffer;this.remove(a);this.active--;0<c.length?this._next(c.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return d}(b.OuterSubscriber);e.MergeMapSubscriber=k},function(b,e,a){var h=a(245);e.multicast=function(a,b){return function(f){var d=
"function"===typeof a?a:function(){return a};if("function"===typeof b)return f.lift(new l(d,b));var c=Object.create(f,h.connectableObservableDescriptor);c.source=f;c.subjectFactory=d;return c}};var l=function(){function a(a,f){this.subjectFactory=a;this.selector=f}a.prototype.call=function(a,f){var d=this.selector,c=this.subjectFactory();a=d(c).subscribe(a);a.add(f.subscribe(c));return a};return a}();e.MulticastOperator=l},function(b,e,a){function h(a){var g=a.Symbol;if("function"===typeof g)return g.iterator||
(g.iterator=g("iterator polyfill")),g.iterator;if((g=a.Set)&&"function"===typeof(new g)["@@iterator"])return"@@iterator";if(a=a.Map){g=Object.getOwnPropertyNames(a.prototype);for(var b=0;b<g.length;++b){var f=g[b];if("entries"!==f&&"size"!==f&&a.prototype[f]===a.prototype.entries)return f}}return"@@iterator"}b=a(15);e.symbolIteratorPonyfill=h;e.iterator=h(b.root);e.$$iterator=e.iterator},function(b,e,a){function h(a){var g=a.Symbol;"function"===typeof g?g.observable?a=g.observable:(a=g("observable"),
g.observable=a):a="@@observable";return a}b=a(15);e.getSymbolObservable=h;e.observable=h(b.root);e.$$observable=e.observable},function(b,e,a){b=a(15).root.Symbol;e.rxSubscriber="function"===typeof b&&"function"===typeof b.for?b.for("rxSubscriber"):"@@rxSubscriber";e.$$rxSubscriber=e.rxSubscriber},function(b,e,a){var h=this&&this.__extends||function(a,g){function b(){this.constructor=a}for(var f in g)g.hasOwnProperty(f)&&(a[f]=g[f]);a.prototype=null===g?Object.create(g):(b.prototype=g.prototype,new b)};
b=function(a){function g(){var g=a.call(this,"object unsubscribed");this.name=g.name="ObjectUnsubscribedError";this.stack=g.stack;this.message=g.message}h(g,a);return g}(Error);e.ObjectUnsubscribedError=b},function(b,e,a){e.isFunction=function(a){return"function"===typeof a}},function(b,e,a){e.noop=function(){}},function(b,e,a){function h(){try{return g.apply(this,arguments)}catch(k){return l.errorObject.e=k,l.errorObject}}var l=a(34),g;e.tryCatch=function(a){g=a;return h}},function(b,e,a){b.exports=
function(a,b,g){if("function"===typeof Array.prototype.findIndex)return a.findIndex(b,g);if("function"!==typeof b)throw new TypeError("predicate must be a function");a=Object(a);var k=a.length;if(0===k)return-1;for(var f=0;f<k;f++)if(b.call(g,a[f],f,a))return f;return-1}},function(b,e,a){function h(a,c){function d(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.errorCode&&(a={systemCode:a.systemCode,code:a.errorCode.code});this.name="KeySessionError";this.mediaKeyError=a;this.message=
"MediaKeyError code:"+a.code+" and systemCode:"+a.systemCode}d.prototype=Error();return function(f,g){var b="function"==typeof c?c.call(this):this,k=m.i(b),n=m.j(b).map(function(a){throw new d(b.error||a);});try{return a.call(this,f,g),l.Observable.merge(k,n).take(1)}catch(F){return l.Observable.throw(F)}}}a.d(e,"b",function(){return q});a.d(e,"a",function(){return p});b=a(6);b=a.n(b);var l=a(0);a.n(l);var g=a(32),k=a(26),f=a(2),d=a(10),c=a(35),m=a(11),n=a(64),p=void 0;navigator.requestMediaKeySystemAccess&&
(p=function(c,f){return a.i(d.a)(navigator.requestMediaKeySystemAccess(c,f))});var q=function(){};if(!p&&c.f.prototype.webkitGenerateKeyRequest){var r=function(a,c){var d=this;g.a.call(this);this.sessionId="";this._vid=a;this._key=c;this._con=l.Observable.merge(m.k(a),m.i(a),m.j(a)).subscribe(function(a){return d.trigger(a.type,a)})};r.prototype=b()({generateRequest:function(a,c){this._vid.webkitGenerateKeyRequest(this._key,c)},update:h(function(c,d){if(0<=this._key.indexOf("clearkey")){var f=JSON.parse(a.i(k.a)(c));
c=a.i(k.b)(atob(f.keys[0].k));f=a.i(k.b)(atob(f.keys[0].kid));this._vid.webkitAddKey(this._key,c,f,d)}else this._vid.webkitAddKey(this._key,c,null,d);this.sessionId=d}),close:function(){this._con&&this._con.unsubscribe();this._vid=this._con=null}},g.a.prototype);q=function(a){this.ks_=a};q.prototype={_setVideo:function(a){this._vid=a},createSession:function(){return new r(this._vid,this.ks_)}};var u=function(a){var c=document.querySelector("video")||document.createElement("video");return c&&c.canPlayType?
!!c.canPlayType("video/mp4",a):!1};p=function(a,c){if(!u(a))return l.Observable.throw();for(var d=0;d<c.length;d++){var f=c[d],g=f.videoCapabilities,b=f.audioCapabilities,m=f.initDataTypes,k=f.sessionTypes,e=f.distinctiveIdentifier;f=f.persistentState;var h=!0;if(h=(h=(h=(h=h&&(!m||!!m.filter(function(a){return"cenc"===a})[0]))&&(!k||k.filter(function(a){return"temporary"===a}).length===k.length))&&"required"!==e)&&"required"!==f)return c={videoCapabilities:g,audioCapabilities:b,initDataTypes:["cenc"],
distinctiveIdentifier:"not-allowed",persistentState:"not-allowed",sessionTypes:["temporary"]},l.Observable.of(new n.a(a,new q(a),c))}return l.Observable.throw()}}else if(c.g&&!p){var t=function(a){g.a.call(this);this.sessionId="";this._mk=a};t.prototype=b()({generateRequest:function(a,c){var d=this;this._ss=this._mk.memCreateSession("video/mp4",c);this._con=l.Observable.merge(m.k(this._ss),m.i(this._ss),m.j(this._ss)).subscribe(function(a){return d.trigger(a.type,a)})},update:h(function(c,d){a.i(f.a)(this._ss);
this._ss.update(c,d);this.sessionId=d},function(){return this._ss}),close:function(){this._ss&&(this._ss.close(),this._ss=null);this._con&&(this._con.unsubscribe(),this._con=null)}},g.a.prototype);c.g.prototype||(c.g.prototype={});c.g.prototype.alwaysRenew=!0;c.g.prototype.memCreateSession=c.g.prototype.createSession;c.g.prototype.createSession=function(){return new t(this)};p=function(a,d){if(!c.g.isTypeSupported(a))return l.Observable.throw();for(var f=0;f<d.length;f++){var g=d[f],b=g.videoCapabilities,
m=g.audioCapabilities,k=g.initDataTypes;g=g.distinctiveIdentifier;var e=!0;if(e=(e=e&&(!k||!!k.filter(function(a){return"cenc"===a})[0]))&&"required"!==g)return d={videoCapabilities:b,audioCapabilities:m,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"required",sessionTypes:["temporary","persistent-license"]},l.Observable.of(new n.a(a,new c.g(a),d))}return l.Observable.throw()}}},function(b,e,a){var h=a(0);a.n(h);var l=function(){function a(a,f){for(var d=0;d<f.length;d++){var c=
f[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(g,f,d){f&&a(g.prototype,f);d&&a(g,d);return g}}();b=function(){function a(g,f,d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._keyType=g;this._mediaKeys=f;this._configuration=d}a.prototype.createMediaKeys=function(){return h.Observable.of(this._mediaKeys)};a.prototype.getConfiguration=function(){return this._configuration};l(a,
[{key:"keySystem",get:function(){return this._keyType}}]);return a}();e.a=b},function(b,e,a){b=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._alpha=Math.exp(Math.log(.5)/b);this._totalWeight=this._lastEstimate=0}a.prototype.addSample=function(a,g){var b=Math.pow(this._alpha,a);g=g*(1-b)+b*this._lastEstimate;isNaN(g)||(this._lastEstimate=g,this._totalWeight+=a)};a.prototype.getEstimate=function(){return this._lastEstimate/(1-Math.pow(this._alpha,
this._totalWeight))};return a}();e.a=b},function(b,e,a){a.d(e,"a",function(){return h});var h={STOPPED:"STOPPED",LOADED:"LOADED",LOADING:"LOADING",PLAYING:"PLAYING",PAUSED:"PAUSED",ENDED:"ENDED",BUFFERING:"BUFFERING",SEEKING:"SEEKING"}},function(b,e,a){b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._entries=[]}a.prototype.find=function(a){for(var g=0;g<this._entries.length;g++)if(!0===a(this._entries[g]))return this._entries[g];return null};
return a}();e.a=b},function(b,e,a){e.a=function(a){if("number"==typeof a)return a;for(var b=0,g,k=0;k<a.length;k++)g=a[k],b=(b<<5)-b+g,b&=b;return b}},function(b,e,a){a(2);var h=a(31);e.a=function(b,g,k,f){k||(k=[]);var d=void 0,c=void 0,m=a.i(h.e)(g),n=a.i(h.f)(g);f=f&&0<f.timescale?f.timescale:b.timescale;if(f===b.timescale){g=Math.min(.9*f,b.duration/4);var e=b.time;b=b.duration}else g=Math.min(.9*f,b.duration/b.timescale*f/4),e=b.time/b.timescale*f,b=b.duration/b.timescale*f;0<=m&&(null==e||Math.abs(m-
e)<=g)&&(d=m);0<=n&&(null==b||Math.abs(n-b)<=g)&&(c=n);null==d&&(1===k.length?(d=k[0].time,0<=d&&(null==e||Math.abs(e-d)<=g)?(m=k[0].timescale,d=null!=m&&m!==f?d/m*f:d):d=e):d=e);null==c&&(1===k.length?(c=k[0].duration,0<=c&&(null==b||Math.abs(b-c)<=g)?(k=k[0].timescale,c=null!=k&&k!==f?c/k*f:c):c=b):c=b);return{timescale:f,time:d||0,duration:c||0}}},function(b,e,a){function h(a){if("timeline"===a.indexType){var c=a.timeline[a.timeline.length-1],d=c.d;return(c.ts+(c.r+1)*d)/a.timescale-Math.min(Math.max(d/
a.timescale,5),10)}}function l(a){return a}function g(a){return"true"==a}function k(a){return"true"==a?!0:"false"==a?!1:parseInt(a)}function f(a){return new Date(Date.parse(a))}function d(c){if(!c)return 0;var d=w.exec(c);a.i(v.a)(d,c+" is not a valid ISO8601 duration");return 31536E3*parseFloat(d[2]||0)+2592E3*parseFloat(d[4]||0)+86400*parseFloat(d[6]||0)+3600*parseFloat(d[8]||0)+60*parseFloat(d[10]||0)+parseFloat(d[12]||0)}function c(a){var c=y.exec(a);if(!c)return-1;a=parseInt(c[1])||0;c=parseInt(c[2])||
0;return 0<c?a/c:a}function m(a){return a}function n(a){return(a=x.exec(a))?[+a[1],+a[2]]:null}function p(a,c,d){for(a=a.firstElementChild;a;)d=c(d,a.nodeName,a),a=a.nextElementSibling;return d}function q(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===a.schemeIdUri&&1===a.value:!1}function r(c){var d=c.mimeType;d=void 0===d?"":d;var f=d.split("/")[0];if(a.i(t.a)(z,f))return f;if("application/bif"===d)return"image";if("application/ttml+xml"===d)return"text";if("application/mp4"===d)return(c=
c.role)&&"urn:mpeg:dash:role:2011"===c.schemeIdUri&&"subtitle"===c.value?"text":"metadata";c=c.representations;c=void 0===c?[]:c;return c.length&&(c=c[0].mimeType.split("/")[0],a.i(t.a)(z,c))?c:"unknown"}function u(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===a.schemeIdUri&&2===a.value:!1}a.d(e,"g",function(){return l});a.d(e,"h",function(){return c});a.d(e,"f",function(){return n});a.d(e,"i",function(){return g});a.d(e,"m",function(){return f});a.d(e,"j",function(){return d});a.d(e,"l",
function(){return k});a.d(e,"k",function(){return m});a.d(e,"a",function(){return p});a.d(e,"b",function(){return A});a.d(e,"d",function(){return u});a.d(e,"e",function(){return q});a.d(e,"c",function(){return r});var t=a(9),v=a(2),w=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,x=/([0-9]+)-([0-9]+)/,y=/([0-9]+)(\/([0-9]+))?/,z=["audio","video","text","image"],A=function(a){if(a){var c=a.representations||[],d=c.filter(function(a){return a&&a.index});if(!c.length)return h(a.index);
var f=Math.min.apply(Math,d.map(function(a){return h(a.index)}));if(!isNaN(f)){if(c.length===d.length)return f;if(a.index)return a=h(a.index),Math.min(f,a)}}}},function(b,e,a){function h(a){var g=a.value;return"response"===a.type?{type:"response",value:{responseData:g.responseData,size:g.size,duration:g.receivedTime-g.sentTime,url:g.url}}:{type:"progress",value:{size:g.loadedSize,totalSize:g.totalSize,duration:g.currentTime-g.sentTime,url:g.url}}}var l=a(48);e.a=function(g){return a.i(l.a)(g).map(h)}},
function(b,e,a){function h(a){var c=a[0];return(a=a[1])&&Infinity!==a?"bytes="+ +c+"-"+ +a:"bytes="+ +c+"-"}function l(a){return a.responseData.getElementsByTagName("media")[0].getAttribute("src")}function g(a){return(a=a.match(m))&&a[1]||""}function k(a,c){return c?a.replace(m,"?token="+c):a.replace(m,"")}function f(a){var d=a.match(c);return d?a.replace(d[1],d[1]+"/manifest"):a}function d(a,c,d){return a.replace(/\{bitrate\}/g,c.bitrate).replace(/\{start time\}/g,d.time)}a.d(e,"f",function(){return h});
a.d(e,"c",function(){return l});a.d(e,"a",function(){return g});a.d(e,"b",function(){return k});a.d(e,"d",function(){return f});a.d(e,"e",function(){return d});var c=/\.(isml?)(\?token=\S+)?$/,m=/\?token=(\S+)/},function(b,e,a){var h=a(26);e.a=function(b){var g=0,k=b.length,f=a.i(h.a)(b.subarray(g,g+8));g+=8;var d=b[g];g+=1;var c=b[g];g+=1;var m=b[g];g+=1;var e=b[g];g+=1;d=[d,c,m,e].join(".");c=b[g]+a.i(h.c)(b,g+1);g+=4;m=a.i(h.c)(b,g);g+=4;e=a.i(h.a)(b.subarray(g,g+4));g+=4;var l=a.i(h.d)(b,g);g+=
2;var q=a.i(h.d)(b,g);g+=2;var r=[b[g],b[g+1]].join(":"),u=1===b[g+2];g=64;var t=[],v=void 0,w=0;if(!c)throw Error("bif: no images to parse");for(;g<k;){var x=a.i(h.c)(b,g);g+=4;var y=a.i(h.c)(b,g);g+=4;if(v){var z=v.index,A=m,B=w;v=b.subarray(v.offset,y);t.push({index:z,duration:A,ts:B,data:v});w+=m}if(4294967295===x)break;v={index:x,offset:y}}return{fileFormat:f,version:d,imageCount:c,timescale:m,format:e,width:l,height:q,aspectRatio:r,isVod:u,thumbs:t}}},function(b,e,a){e.a=function(a){var b=a.split(":");
if(b[2]){a=parseInt(b[0],10);var g=parseInt(b[1],10);b=parseFloat(b[2].replace(",","."));return isNaN(a)||isNaN(g)||isNaN(b)?void 0:3600*a+60*g+b}}},function(b,e,a){e.a=function(a){var b=a.getAttribute("ttp:frameRate"),g=a.getAttribute("ttp:subFramRate"),k=a.getAttribute("ttp:tickRate"),f=a.getAttribute("ttp:frameRateMultiplier"),d=a.getAttribute("xml:space");if(d&&"default"!==d&&"preserve"!==d)throw Error("Invalid spacing style");a=Number(b)||30;g=Number(g)||1;var c=Number(k)||0;k=c;var m=a,e=null!=
g?g:1;d=d||"default";0===c&&(k=b?a*g:1);f&&(b=/^(\d+) (\d+)$/g.exec(f))&&(m=Number(b[1])/Number(b[2])*a);return{tickRate:k,frameRate:m,subFrameRate:e,spaceStyle:d}}},function(b,e,a){e.a=function(b,g){var k=b.getAttribute("begin"),f=b.getAttribute("dur");b=b.getAttribute("end");k=k?a.i(h.a)(k,g):null;f=f?a.i(h.a)(f,g):null;g=b?a.i(h.a)(b,g):null;if(null==k||null==g&&null==f)throw Error("Invalid text cue");return{start:k,end:null==g?k+f:g}};var h=a(187)},function(b,e,a){function h(a){return a.getElementsByTagName("body")[0]}
function l(a){return a.getElementsByTagName("style")}function g(a){return a.getElementsByTagName("region")}function k(a){return a.getElementsByTagName("p")}a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});a.d(e,"c",function(){return g});a.d(e,"d",function(){return k})},function(b,e,a){function h(a){return a*(1+(2*Math.random()-1)*g)}function l(a){return h(a*Math.pow(2,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)-1))}a.d(e,"b",function(){return h});a.d(e,"a",function(){return l});
var g=.3},function(b,e,a){function h(a,c){var d=0;return function(){d&&clearTimeout(d);d=setTimeout(a,c)}}function l(d,c){var g=c.retryDelay,b=c.totalRetry,e=c.shouldRetry,l=c.resetDelay,r=c.errorSelector,u=c.onRetry,t=0,v=void 0;null!=l&&0<l&&(v=h(function(){t=0},l));return d.catch(function(c,d){if(e&&!e(c)||t++>=b){if(r)throw r(c,t);throw c;}u&&u(c,t);c=a.i(f.a)(g,t);return k.Observable.timer(c).mergeMap(function(){v&&v();return d})})}function g(d,c){var g=c.retryDelay,b=c.totalRetry,e=c.shouldRetry,
l=c.resetDelay,r=c.errorSelector,u=c.onRetry,t=0,v=void 0;null!=l&&0<l&&(v=h(function(){t=0},l));return function x(){for(var c=arguments.length,m=Array(c),n=0;n<c;n++)m[n]=arguments[n];return d.apply(void 0,m).catch(function(c){if(e&&!e(c)||t++>=b){if(r)throw r(c,t);throw c;}u&&u(c,t);c=a.i(f.a)(g,t);return k.Observable.timer(c).mergeMap(function(){v&&v();return x.apply(void 0,m)})})}}a.d(e,"a",function(){return l});a.d(e,"b",function(){return g});var k=a(0);a.n(k);var f=a(78)},function(b,e,a){function h(a){if(!a)return"";
a=new Uint8Array(a);239===a[0]&&187===a[1]&&191===a[2]&&(a=a.subarray(3));for(var g="",b=0;b<a.length;b+=16E3){var f=a.subarray(b,b+16E3);g+=String.fromCharCode.apply(null,f)}a=escape(g);return decodeURIComponent(a)}a.d(e,"a",function(){return h})},function(b,e,a){e.empty={closed:!0,next:function(a){},error:function(a){throw a;},complete:function(){}}},function(b,e,a){var h=this&&this.__extends||function(a,c){function d(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=
null===c?Object.create(c):(d.prototype=c.prototype,new d)};b=a(7);var l=a(317),g=a(14),k=a(92),f=a(58),d=a(83);a=function(a){function b(c,d,f){void 0===c&&(c=Number.POSITIVE_INFINITY);void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this);this.scheduler=f;this._events=[];this._bufferSize=1>c?1:c;this._windowTime=1>d?1:d}h(b,a);b.prototype.next=function(d){var f=this._getNow();this._events.push(new c(f,d));this._trimBufferThenGetEvents();a.prototype.next.call(this,d)};b.prototype._subscribe=function(a){var c=
this._trimBufferThenGetEvents(),b=this.scheduler;if(this.closed)throw new f.ObjectUnsubscribedError;if(this.hasError)var m=g.Subscription.EMPTY;else this.isStopped?m=g.Subscription.EMPTY:(this.observers.push(a),m=new d.SubjectSubscription(this,a));b&&a.add(a=new k.ObserveOnSubscriber(a,b));b=c.length;for(var e=0;e<b&&!a.closed;e++)a.next(c[e].value);this.hasError?a.error(this.thrownError):this.isStopped&&a.complete();return m};b.prototype._getNow=function(){return(this.scheduler||l.queue).now()};
b.prototype._trimBufferThenGetEvents=function(){for(var a=this._getNow(),c=this._bufferSize,d=this._windowTime,f=this._events,g=f.length,b=0;b<g&&!(a-f[b].time<d);)b++;g>c&&(b=Math.max(b,g-c));0<b&&f.splice(0,b);return f};return b}(b.Subject);e.ReplaySubject=a;var c=function(){return function(a,c){this.time=a;this.value=c}}()},function(b,e,a){var h=this&&this.__extends||function(a,g){function b(){this.constructor=a}for(var f in g)g.hasOwnProperty(f)&&(a[f]=g[f]);a.prototype=null===g?Object.create(g):
(b.prototype=g.prototype,new b)};b=function(a){function g(g,f){a.call(this);this.subject=g;this.subscriber=f;this.closed=!1}h(g,a);g.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var a=this.subject,f=a.observers;this.subject=null;!f||0===f.length||a.isStopped||a.closed||(a=f.indexOf(this.subscriber),-1!==a&&f.splice(a,1))}};return g}(a(14).Subscription);e.SubjectSubscription=b},function(b,e,a){function h(a){var d=a.value;a=a.subscriber;a.closed||(a.next(d),a.complete())}function l(a){var d=
a.err;a=a.subscriber;a.closed||a.error(d)}var g=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)},k=a(15);b=function(a){function d(c,d){a.call(this);this.promise=c;this.scheduler=d}g(d,a);d.create=function(a,f){return new d(a,f)};d.prototype._subscribe=function(a){var c=this,d=this.promise,f=this.scheduler;if(null==f)this._isScalar?a.closed||(a.next(this.value),
a.complete()):d.then(function(d){c.value=d;c._isScalar=!0;a.closed||(a.next(d),a.complete())},function(c){a.closed||a.error(c)}).then(null,function(a){k.root.setTimeout(function(){throw a;})});else if(this._isScalar){if(!a.closed)return f.schedule(h,0,{value:this.value,subscriber:a})}else d.then(function(d){c.value=d;c._isScalar=!0;a.closed||a.add(f.schedule(h,0,{value:d,subscriber:a}))},function(c){a.closed||a.add(f.schedule(l,0,{err:c,subscriber:a}))}).then(null,function(a){k.root.setTimeout(function(){throw a;
})})};return d}(a(0).Observable);e.PromiseObservable=b},function(b,e,a){var h=a(22),l=a(87),g=a(86),k=a(89);e.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return 1===a.length||2===a.length&&h.isScheduler(a[1])?g.from(a[0]):k.concatAll()(l.of.apply(void 0,a))}},function(b,e,a){b=a(249);e.from=b.FromObservable.create},function(b,e,a){b=a(20);e.of=b.ArrayObservable.of},function(b,e,a){var h=a(90);b=a(90);e.mergeStatic=b.mergeStatic;e.merge=function(){for(var a=[],g=0;g<
arguments.length;g++)a[g-0]=arguments[g];return h.merge.apply(void 0,a)(this)}},function(b,e,a){var h=a(91);e.concatAll=function(){return h.mergeAll(1)}},function(b,e,a){function h(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];c=Number.POSITIVE_INFINITY;var b=null,e=a[a.length-1];f.isScheduler(e)?(b=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(c=a.pop())):"number"===typeof e&&(c=a.pop());return null===b&&1===a.length&&a[0]instanceof l.Observable?a[0]:k.mergeAll(c)(new g.ArrayObservable(a,
b))}var l=a(0),g=a(20),k=a(91),f=a(22);e.merge=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.lift.call(h.apply(void 0,[c].concat(a)))}};e.mergeStatic=h},function(b,e,a){var h=a(53),l=a(320);e.mergeAll=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return h.mergeMap(l.identity,null,a)}},function(b,e,a){var h=this&&this.__extends||function(a,c){function d(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===
c?Object.create(c):(d.prototype=c.prototype,new d)};b=a(3);var l=a(203);e.observeOn=function(a,c){void 0===c&&(c=0);return function(d){return d.lift(new g(a,c))}};var g=function(){function a(a,d){void 0===d&&(d=0);this.scheduler=a;this.delay=d}a.prototype.call=function(a,d){return d.subscribe(new k(a,this.scheduler,this.delay))};return a}();e.ObserveOnOperator=g;var k=function(a){function c(c,d,f){void 0===f&&(f=0);a.call(this,c);this.scheduler=d;this.delay=f}h(c,a);c.dispatch=function(a){a.notification.observe(a.destination);
this.unsubscribe()};c.prototype.scheduleMessage=function(a){this.add(this.scheduler.schedule(c.dispatch,this.delay,new f(a,this.destination)))};c.prototype._next=function(a){this.scheduleMessage(l.Notification.createNext(a))};c.prototype._error=function(a){this.scheduleMessage(l.Notification.createError(a))};c.prototype._complete=function(){this.scheduleMessage(l.Notification.createComplete())};return c}(b.Subscriber);e.ObserveOnSubscriber=k;var f=function(){return function(a,c){this.notification=
a;this.destination=c}}();e.ObserveOnMessage=f},function(b,e,a){var h=this&&this.__extends||function(a,f){function d(){this.constructor=a}for(var c in f)f.hasOwnProperty(c)&&(a[c]=f[c]);a.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)};b=a(3);e.refCount=function(){return function(a){return a.lift(new l(a))}};var l=function(){function a(a){this.connectable=a}a.prototype.call=function(a,d){var c=this.connectable;c._refCount++;a=new g(a,c);d=d.subscribe(a);a.closed||(a.connection=
c.connect());return d};return a}(),g=function(a){function f(d,c){a.call(this,d);this.connectable=c}h(f,a);f.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var c=a._refCount;0>=c?this.connection=null:(a._refCount=c-1,1<c?this.connection=null:(c=this.connection,a=a._connection,this.connection=null,!a||c&&a!==c||a.unsubscribe()))}else this.connection=null};return f}(b.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function f(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)},l=a(15);b=function(a){function b(f,d){a.call(this,f,d);this.scheduler=f;this.work=d;this.pending=!1}h(b,a);b.prototype.schedule=function(a,d){void 0===d&&(d=0);if(this.closed)return this;this.state=a;this.pending=!0;a=this.id;var c=this.scheduler;null!=a&&(this.id=this.recycleAsyncId(c,a,d));this.delay=d;this.id=this.id||this.requestAsyncId(c,this.id,d);return this};b.prototype.requestAsyncId=
function(a,d,c){void 0===c&&(c=0);return l.root.setInterval(a.flush.bind(a,this),c)};b.prototype.recycleAsyncId=function(a,d,c){void 0===c&&(c=0);return null!==c&&this.delay===c&&!1===this.pending?d:(l.root.clearInterval(d),void 0)};b.prototype.execute=function(a,d){if(this.closed)return Error("executing a cancelled action");this.pending=!1;if(a=this._execute(a,d))return a;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))};b.prototype._execute=function(a,
d){d=!1;var c=void 0;try{this.work(a)}catch(m){d=!0,c=!!m&&m||Error(m)}if(d)return this.unsubscribe(),c};b.prototype._unsubscribe=function(){var a=this.id,d=this.scheduler,c=d.actions,b=c.indexOf(this);this.state=this.work=null;this.pending=!1;this.scheduler=null;-1!==b&&c.splice(b,1);null!=a&&(this.id=this.recycleAsyncId(d,a,null));this.delay=null};return b}(a(314).Action);e.AsyncAction=b},function(b,e,a){var h=this&&this.__extends||function(a,b){function g(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&
(a[f]=b[f]);a.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)};b=function(a){function b(){a.apply(this,arguments);this.actions=[];this.active=!1;this.scheduled=void 0}h(b,a);b.prototype.flush=function(a){var f=this.actions;if(this.active)f.push(a);else{var d;this.active=!0;do if(d=a.execute(a.state,a.delay))break;while(a=f.shift());this.active=!1;if(d){for(;a=f.shift();)a.unsubscribe();throw d;}}};return b}(a(204).Scheduler);e.AsyncScheduler=b},function(b,e,a){var h=this&&this.__extends||
function(a,b){function g(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)};b=function(a){function b(){var b=a.call(this,"Timeout has occurred");this.name=b.name="TimeoutError";this.stack=b.stack;this.message=b.message}h(b,a);return b}(Error);e.TimeoutError=b},function(b,e,a){e.isArrayLike=function(a){return a&&"number"===typeof a.length}},function(b,e,a){e.isDate=function(a){return a instanceof Date&&!isNaN(+a)}},
function(b,e,a){var h=a(28);e.isNumeric=function(a){return!h.isArray(a)&&0<=a-parseFloat(a)+1}},function(b,e,a){e.isObject=function(a){return null!=a&&"object"===typeof a}},function(b,e,a){e.isPromise=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then}},function(b,e,a){Object.defineProperty(e,"__esModule",{value:!0});b=a(205);a.n(b);b=a(206);a.n(b);b=a(207);a.n(b);b=a(208);a.n(b);b=a(209);a.n(b);b=a(210);a.n(b);b=a(211);a.n(b);b=a(212);a.n(b);b=a(213);a.n(b);b=a(214);
a.n(b);b=a(215);a.n(b);b=a(216);a.n(b);b=a(217);a.n(b);b=a(218);a.n(b);b=a(219);a.n(b);b=a(220);a.n(b);b=a(221);a.n(b);b=a(222);a.n(b);b=a(223);a.n(b);b=a(224);a.n(b);b=a(225);a.n(b);b=a(226);a.n(b);b=a(227);a.n(b);b=a(228);a.n(b);b=a(229);a.n(b);b=a(230);a.n(b);b=a(231);a.n(b);b=a(232);a.n(b);b=a(233);a.n(b);b=a(234);a.n(b);b=a(235);a.n(b);b=a(236);a.n(b);b=a(237);a.n(b);b=a(238);a.n(b);b=a(239);a.n(b);b=a(240);a.n(b);b=a(241);a.n(b);b=a(242);a.n(b);b=a(243);a.n(b);a(1);a=a(113);e["default"]=a.a},
function(b,e,a){var h=a(63),l=a(104),g=a(64);a.d(e,"b",function(){return h.a});a.d(e,"c",function(){return l.a});a.d(e,"a",function(){return g.a})},function(b,e,a){function h(a,d){if(d instanceof k.b)return d._setVideo(a);if(a.setMediaKeys)return a.setMediaKeys(d);if(null!==d){if(a.WebkitSetMediaKeys)return a.WebkitSetMediaKeys(d);if(a.mozSetMediaKeys)return a.mozSetMediaKeys(d);if(a.msSetMediaKeys)return a.msSetMediaKeys(d)}}var l=a(0);a.n(l);var g=a(10),k=a(63);e.a=function(f,d){return l.Observable.defer(function(){return a.i(g.a)(h(f,
d))})}},function(b,e,a){function h(a){g()||(a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}function l(){g()&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}
function g(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}a.d(e,"c",function(){return h});a.d(e,"a",function(){return l});a.d(e,"b",function(){return g})},function(b,e,a){var h=a(65);b=a(4);var l=b.a.ABR_MINIMUM_TOTAL_BYTES,g=b.a.ABR_MINIMUM_CHUNK_SIZE;b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._fast=new h.a(2);this._slow=new h.a(10);this._bytesSampled=
0}a.prototype.addSample=function(a,d){if(!(d<g)){var c=8E3*d/a;a/=1E3;this._bytesSampled+=d;this._fast.addSample(a,c);this._slow.addSample(a,c)}};a.prototype.getEstimate=function(){if(!(this._bytesSampled<l))return Math.min(this._fast.getEstimate(),this._slow.getEstimate())};a.prototype.reset=function(){this._fast=new h.a(2);this._slow=new h.a(10);this._bytesSampled=0};return a}();e.a=b},function(b,e,a){e.a=function(a,b){var g=h()(a,function(a){return a.bitrate>b});return-1===g?a:a.slice(0,g)};b=
a(62);var h=a.n(b)},function(b,e,a){e.a=function(a,b){var g=a.sort(function(a,c){return a.width-c.width});if(g=h()(g,function(a){return a.width>=b})){var f=g.width;return a.filter(function(a){return a.width<=f})}return a};b=a(17);var h=a.n(b)},function(b,e,a){e.a=function(a,b){var g=h()(a,function(a){return a.bitrate>b});return-1===g?a[a.length-1]:a[g-1]};b=a(62);var h=a.n(b)},function(b,e,a){var h=a(7);a.n(h);a(9);a(2);var l=a(111),g=function(a,f){if(!a._choosers[f]){var d=a._choosers;a=a._chooserInstanceOptions;
a=new l.a({limitWidth$:a.limitWidth[f],throttle$:a.throttle[f],initialBitrate:a.initialBitrates[f],manualBitrate:a.manualBitrates[f],maxAutoBitrate:a.maxAutoBitrates[f]});d[f]=a}};b=function(){function a(f,d){var c=this,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._dispose$=new h.Subject;this._choosers={};this._chooserInstanceOptions={initialBitrates:b.initialBitrates||{},manualBitrates:b.manualBitrates||
{},maxAutoBitrates:b.maxAutoBitrates||{},throttle:b.throttle||{},limitWidth:b.limitWidth||{}};d.takeUntil(this._dispose$).subscribe(function(a){var d=a.type;a=a.value;g(c,d);c._choosers[d].addEstimate(a.duration,a.size)});f.mergeMap(function(a){return a}).takeUntil(this._dispose$).subscribe(function(a){var d=a.type,f=a.event;a=a.value;g(c,d);switch(f){case "requestBegin":c._choosers[d].addPendingRequest(a.id,a);break;case "requestEnd":c._choosers[d].removePendingRequest(a.id);break;case "progress":c._choosers[d].addRequestProgress(a.id,
a)}})}a.prototype.get$=function(a,d){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];g(this,a);return this._choosers[a].get$(d,c)};a.prototype.setManualBitrate=function(a,d){var c=this._choosers[a];c?c.manualBitrate$.next(d):this._chooserInstanceOptions.initialBitrates[a]=d};a.prototype.setMaxAutoBitrate=function(a,d){var c=this._choosers[a];c?c.maxAutoBitrate$.next(d):this._chooserInstanceOptions.maxAutoBitrates[a]=d};a.prototype.getManualBitrate=function(a){var d=this._choosers[a];
return d?d.manualBitrate$.getValue():this._chooserInstanceOptions.manualBitrates[a]};a.prototype.getMaxAutoBitrate=function(a){var d=this._choosers[a];return d?d.maxAutoBitrate$.getValue():this._chooserInstanceOptions.maxAutoBitrates[a]};a.prototype.dispose=function(){var a=this;Object.keys(this._choosers).forEach(function(d){a._choosers[d].dispose()});this._choosers=this._chooserInstanceOptions=null;this._dispose$.next();this._dispose$.complete()};return a}();e.a=b},function(b,e,a){b=a(6);var h=
a.n(b),l=a(51);a.n(l);var g=a(7);a.n(g);var k=a(0);a.n(k);b=a(4);a(2);var f=a(106),d=a(108),c=a(107),m=a(109),n=a(65),p=b.a.ABR_STARVATION_GAP,q=b.a.OUT_OF_STARVATION_GAP,r=b.a.ABR_STARVATION_FACTOR,u=b.a.ABR_REGULAR_FACTOR,t=function(c,d){c=a.i(m.a)(c,d)||c[0];return k.Observable.of({bitrate:void 0,representation:c}).concat(k.Observable.never())};b=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this._dispose$=new g.Subject;this.manualBitrate$=(new l.BehaviorSubject(null!=a.manualBitrate?a.manualBitrate:-1)).takeUntil(this._dispose$);this.maxAutoBitrate$=(new l.BehaviorSubject(null!=a.maxAutoBitrate?a.maxAutoBitrate:Infinity)).takeUntil(this._dispose$);this.estimator=new f.a;this._currentRequests={};this.initialBitrate=a.initialBitrate||0;this._limitWidth$=a.limitWidth$;this._throttle$=a.throttle$}b.prototype.get$=function(f,b){var g=this;if(2>b.length)return k.Observable.of({bitrate:void 0,
representation:b.length?b[0]:null}).concat(k.Observable.never()).takeUntil(this._dispose$);var e=this.manualBitrate$,l=this.maxAutoBitrate$,x=this.initialBitrate,v=[];this._limitWidth$&&v.push(this._limitWidth$.map(function(a){return{width:a}}));this._throttle$&&v.push(this._throttle$.map(function(a){return{bitrate:a}}));var w=v.length?k.Observable.combineLatest.apply(k.Observable,v).map(function(a){return h.a.apply(void 0,[{}].concat(a))}):k.Observable.of({}),C=void 0;return e.switchMap(function(e){if(0<=
e)return t(b,e);var h=!1;return k.Observable.combineLatest(f,l,w).map(function(f){var e=f[0],k=f[1],l=f[2],t=f=void 0,v=e.bufferGap;v<=p?h=!0:h&&v>=q&&(h=!1);if(h){var w=e.bitrate;a:{var y=g._currentRequests;v+=e.position;for(var z=Object.keys(y),D=z.length,A=0;A<D-1;A++){var H=y[z[A]];if(Math.abs(v-H.time)<H.duration){v=H;break a}}v=void 0}if(v&&(z=v.duration,y=v.requestTimestamp,y=(Date.now()-y)/1E3,z&&y>1+1.2*z)){z=v;v=void 0;t=z.duration;if(2<=z.progress.length){v=new n.a(2);z=z.progress;for(D=
1;D<z.length;D++)A=z[D].timestamp-z[D-1].timestamp,v.addSample(A/1E3,8*(z[D].size-z[D-1].size)/(A/1E3));v=v.getEstimate()}v||(v=t*w/(5*y/4));t=v;null!=t&&(g.resetEstimate(),f=Math.min(t,w,k))}}null==f&&(t=g.estimator.getEstimate(),f=Math.min(null!=t?h?t*r:t*u:null!=C?h?C*r:C*u:x,k));1<e.speed&&(f/=e.speed);e=b;l.hasOwnProperty("bitrate")&&(e=a.i(c.a)(e,l.bitrate));l.hasOwnProperty("width")&&(e=a.i(d.a)(e,l.width));return{bitrate:t,representation:a.i(m.a)(e,f)||b[0]}}).do(function(a){a=a.bitrate;null!=
a&&(C=a)}).share()})};b.prototype.addEstimate=function(a,c){null!=a&&null!=c&&this.estimator.addSample(a,c)};b.prototype.resetEstimate=function(){this.estimator.reset()};b.prototype.addPendingRequest=function(a,c){this._currentRequests[a]=c;this._currentRequests[a].progress=[]};b.prototype.addRequestProgress=function(a,c){this._currentRequests[a].progress.push(c)};b.prototype.removePendingRequest=function(a){delete this._currentRequests[a]};b.prototype.resetRequests=function(){this._currentRequests=
{}};b.prototype.dispose=function(){this._dispose$.next()};return b}();e.a=b},function(b,e,a){function h(c,d){var f=c.currentTime,b=c.paused,g=c.playbackRate,m=c.readyState,e=c.buffered;return{currentTime:f,buffered:e,duration:c.duration,bufferGap:a.i(k.a)(e,f),state:d,playbackRate:g,currentRange:a.i(k.i)(e,f),readyState:m,paused:b}}var l=a(0);a.n(l);var g=a(51);a.n(g);b=a(4);var k=a(12),f=b.a.SAMPLING_INTERVAL_MEDIASOURCE,d=b.a.SAMPLING_INTERVAL_NO_MEDIASOURCE,c=b.a.RESUME_AFTER_SEEKING_GAP,m=b.a.RESUME_AFTER_BUFFERING_GAP,
n=b.a.STALL_GAP,p="canplay play progress seeking seeked loadedmetadata".split(" ");e.a=function(a,b){var e=b.withMediaSource;return l.Observable.create(function(b){function g(d){d=h(a,d&&d.type||"timeupdate");var f=d.state;var g=d.currentTime,l=d.bufferGap,p=d.paused,q=d.readyState,r=k.stalled,t=k.state,x=k.currentTime;var v=(v=d.currentRange)&&d.duration-(l+v.end)<=n;var w=1<=q&&"loadedmetadata"!=f&&!r&&!v,u=void 0,y=void 0;e?w&&(l<=n||Infinity===l||1===q)?u=!0:r&&1<q&&Infinity>l&&(l>("seeking"==
r.state?c:m)||v)&&(y=!0):w&&(!p&&"timeupdate"==f&&"timeupdate"==t&&g===x||"seeking"==f&&Infinity===l)?u=!0:r&&("seeking"!=f&&g!==x||"canplay"==f||Infinity>l&&(l>("seeking"==r.state?c:m)||v))&&(y=!0);f=u?{state:f,timestamp:Date.now()}:y?null:r;d.stalled=f;k=d;b.next(k)}var k=h(a,"init");k.stalled=null;var l=setInterval(g,e?f:d);p.forEach(function(c){return a.addEventListener(c,g)});b.next(k);return function(){clearInterval(l);p.forEach(function(c){return a.removeEventListener(c,g)})}}).multicast(function(){return new g.BehaviorSubject({})}).refCount()}},
function(b,e,a){function h(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?a:c}function l(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function g(a,
c){return a.filter(function(a){return a.type==c}).map(function(a){return a.value})}var k=a(0);a.n(k);var f=a(7);a.n(f);var d=a(51);a.n(d);var c=a(82);a.n(c);b=a(4);var m=a(1),n=a(32),p=a(2),q=a(12),r=a(5),u=a(11),t=a(173),v=a(30),w=a(8),x=a(135),y=a(37),z=a(66),A=a(112),B=a(116),D=a(115),F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},C=function(){function a(a,
c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(c,d,f){d&&a(c.prototype,d);f&&a(c,f);return c}}(),E=b.a.DEFAULT_UNMUTED_VOLUME;b=function(b){function e(g){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var k=h(this,b.call(this)),n=a.i(D.a)(g);g=n.initialAudioBitrate;var l=n.initialVideoBitrate,q=n.limitVideoWidth,t=n.maxAudioBitrate,x=n.maxBufferAhead,
v=n.maxBufferBehind,w=n.maxVideoBitrate,y=n.throttleWhenHidden,A=n.videoElement;n=n.wantedBufferAhead;a.i(p.a)(A instanceof r.a,"videoElement needs to be an HTMLVideoElement");A.preload="auto";k.version="3.0.0";k.log=m.a;k.state=void 0;k.videoElement=A;k._priv=a.i(B.a)(k);k._priv.destroy$=new f.Subject;a.i(u.a)(A).takeUntil(k._priv.destroy$).subscribe(function(){return k.trigger("fullscreenChange",k.isFullscreen())});a.i(u.b)(A.textTracks).takeUntil(k._priv.destroy$).map(function(a){var c=[];a=a.target;
var d=Array.isArray(a),f=0;for(a=d?a:a[Symbol.iterator]();;){if(d){if(f>=a.length)break;var b=a[f++]}else{f=a.next();if(f.done)break;b=f.value}c.push(b)}return c}).distinctUntilChanged(function(a,c){if(a.length!==c.length)return!1;for(var d=0;d<a.length;d++)if(a[d]!==c[d])return!1;return!0}).subscribe(function(a){return k._priv.onNativeTextTracksNext(a)});k._priv.errorStream$=(new f.Subject).takeUntil(k._priv.destroy$);k._priv.playing$=new c.ReplaySubject(1);k._priv.speed$=new d.BehaviorSubject(A.playbackRate);
k._priv.unsubscribeLoadedVideo$=(new f.Subject).takeUntil(k._priv.destroy$);k._priv.streamLock$=(new d.BehaviorSubject(!1)).takeUntil(k._priv.destroy$);k._priv.wantedBufferAhead$=new d.BehaviorSubject(n);k._priv.maxBufferAhead$=new d.BehaviorSubject(x);k._priv.maxBufferBehind$=new d.BehaviorSubject(v);k._priv.lastBitrates={audio:g,video:l};k._priv.initialMaxAutoBitrates={audio:t,video:w};k._priv.manualBitrates={audio:-1,video:-1};k._priv.throttleWhenHidden=y;k._priv.limitVideoWidth=q;k._priv.mutedMemory=
E;k._priv.initialAudioTrack=void 0;k._priv.initialTextTrack=void 0;k._priv.languageManager=null;k._priv.abrManager&&(k._priv.abrManager=null);k._priv.manifest=null;k._priv.currentRepresentations={};k._priv.currentAdaptations={};k._priv.recordedEvents={};k._priv.fatalError=null;k._priv.currentImagePlaylist=null;k._priv.setPlayerState(z.a.STOPPED);return k}l(e,b);C(e,null,[{key:"ErrorTypes",get:function(){return w.a}},{key:"ErrorCodes",get:function(){return w.b}},{key:"LogLevel",get:function(){return m.a.getLevel()},
set:function(a){m.a.setLevel(a)}}]);e.prototype.stop=function(){this.state!==z.a.STOPPED&&(this._priv.unsubscribeLoadedVideo$.next(),this._priv.cleanUpCurrentContentState(),this._priv.setPlayerState(z.a.STOPPED))};e.prototype.dispose=function(){this.stop();a.i(y.a)();var c=this._priv;c.destroy$.next();c.destroy$.complete();c.playing$.complete();c.speed$.complete();c.wantedBufferAhead$.complete();c.maxBufferAhead$.complete();c.maxBufferBehind$.complete();c.playing$=null;c.speed$=null;c.wantedBufferAhead$=
null;c.maxBufferAhead$=null;c.maxBufferBehind$=null;c.unsubscribeLoadedVideo$=null;c.errorStream$=null;c.lastBitrates=null;c.manualBitrates=null;c.initialMaxAutoBitrates=null;this.videoElement=c.streamLock$=null};e.prototype.loadVideo=function(){var c=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d=a.i(D.b)(d,this);m.a.info("loadvideo",d);var f=d;d=f.autoPlay;var b=f.defaultAudioTrack,e=f.defaultTextTrack,n=f.hideNativeSubtitle,h=f.keySystems,l=f.startAt,q=f.supplementaryImageTracks,
r=f.supplementaryTextTracks,v=f.textTrackElement,w=f.textTrackMode,y=f.transport,F=f.transportOptions;f=f.url;a.i(p.a)(f,"you have to set at least an url");a.i(p.a)(y,'you have to set the transport type (e.g. "smooth", "dash")');a.i(p.a)("html"!==w||v instanceof Element,'textTrackElement needs to be specified as an Element in "html" textTrackMode.');var B=t.a[y];a.i(p.a)(B,'transport "'+y+'" not supported');F=B(F);this.stop();this._priv.initialAudioTrack=b;this._priv.initialTextTrack=e;this._priv.playing$.next(!1);
B=this.videoElement;var C=this._priv;b=C.errorStream$;var E=C.initialMaxAutoBitrates,G=C.lastBitrates,H=C.limitVideoWidth,R=C.manualBitrates,L=C.maxBufferAhead$,Y=C.maxBufferBehind$,S=C.playing$,Z=C.speed$,T=C.throttleWhenHidden;e=C.unsubscribeLoadedVideo$;var U=C.wantedBufferAhead$;C=!y.directFile;y=a.i(A.a)(B,{withMediaSource:C});E={initialBitrates:G,manualBitrates:R,maxAutoBitrates:E,throttle:T&&{video:a.i(u.c)().map(function(a){return a?0:Infinity}).takeUntil(e)},limitWidth:H&&{video:a.i(u.d)(B).takeUntil(e)}};
L={wantedBufferAhead$:U,maxBufferAhead$:L,maxBufferBehind$:Y};n={textTrackMode:w,textTrackElement:v,hideNativeSubtitle:n};var M=a.i(x.a)({adaptiveOptions:E,autoPlay:d,bufferOptions:L,errorStream:b,keySystems:h,speed$:Z,startAt:l,textTrackOptions:n,timings$:y,transport:F,url:f,videoElement:B,withMediaSource:C,supplementaryImageTracks:q,supplementaryTextTracks:r}).takeUntil(e).publish();d=g(M,"stalled").startWith(null);d=g(M,"loaded").take(1).share().mapTo(z.a.LOADED).concat(k.Observable.combineLatest(S,
d).map(function(a){var c=a[1];return c?"seeking"==c.state?z.a.SEEKING:z.a.BUFFERING:a[0]?z.a.PLAYING:z.a.PAUSED}).skipUntil(S.filter(function(a){return!0===a}))).distinctUntilChanged().startWith(z.a.LOADING);h=a.i(u.e)(B).map(function(a){return"play"===a.type});var N=void 0;e.take(1).subscribe(function(){N&&N.unsubscribe()});l=function(){};h.takeUntil(e).subscribe(function(a){return c._priv.onPlayPauseNext(a)},l);y.takeUntil(e).subscribe(function(a){return c._priv.triggerTimeChange(a)},l);d.takeUntil(e).subscribe(function(a){return c._priv.setPlayerState(a)},
l);M.subscribe(function(a){return c._priv.onStreamNext(a)},function(a){return c._priv.onStreamError(a)},function(){return c._priv.onStreamComplete()});b.takeUntil(e).subscribe(function(a){return c._priv.onErrorStreamNext(a)});this._priv.streamLock$.filter(function(a){return!a}).take(1).takeUntil(e).subscribe(function(){N=M.connect()})};e.prototype.getError=function(){return this._priv.fatalError};e.prototype.getManifest=function(){return this._priv.manifest||null};e.prototype.getCurrentAdaptations=
function(){return this._priv.manifest?this._priv.currentAdaptations:null};e.prototype.getCurrentRepresentations=function(){return this._priv.manifest?this._priv.currentRepresentations:null};e.prototype.getVideoElement=function(){return this.videoElement};e.prototype.getNativeTextTrack=function(){return 0<this.videoElement.textTracks.length?this.videoElement.textTracks[0]:null};e.prototype.getPlayerState=function(){return this.state};e.prototype.isLive=function(){return this._priv.manifest?this._priv.manifest.isLive:
!1};e.prototype.getUrl=function(){if(this._priv.manifest)return this._priv.manifest.getUrl()};e.prototype.getVideoDuration=function(){return this.videoElement.duration};e.prototype.getVideoBufferGap=function(){return a.i(q.a)(this.videoElement.buffered,this.videoElement.currentTime)};e.prototype.getVideoLoadedTime=function(){return a.i(q.b)(this.videoElement.buffered,this.videoElement.currentTime)};e.prototype.getVideoPlayedTime=function(){return a.i(q.c)(this.videoElement.buffered,this.videoElement.currentTime)};
e.prototype.getWallClockTime=function(){if(!this._priv.manifest)return 0;var c=this.videoElement.currentTime;return this.isLive()?+a.i(v.a)(c,this._priv.manifest)/1E3:c};e.prototype.getPosition=function(){return this.videoElement.currentTime};e.prototype.getPlaybackRate=function(){return this._priv.speed$.getValue()};e.prototype.getVolume=function(){return this.videoElement.volume};e.prototype.isFullscreen=function(){return a.i(r.b)()};e.prototype.getAvailableVideoBitrates=function(){var a=this._priv.currentAdaptations.video;
return a?a.representations.map(function(a){return a.bitrate}):[]};e.prototype.getAvailableAudioBitrates=function(){var a=this._priv.currentAdaptations.audio;return a?a.representations.map(function(a){return a.bitrate}):[]};e.prototype.getManualAudioBitrate=function(){return this._priv.manualBitrates.audio};e.prototype.getManualVideoBitrate=function(){return this._priv.manualBitrates.video};e.prototype.getVideoBitrate=function(){return this._priv.recordedEvents.videoBitrate};e.prototype.getAudioBitrate=
function(){return this._priv.recordedEvents.audioBitrate};e.prototype.getMaxVideoBitrate=function(){return this._priv.abrManager?this._priv.abrManager.getMaxAutoBitrate("video"):this._priv.initialMaxAutoBitrates.video};e.prototype.getMaxAudioBitrate=function(){return this._priv.abrManager?this._priv.abrManager.getMaxAutoBitrate("audio"):this._priv.initialMaxAutoBitrates.audio};e.prototype.play=function(){this.videoElement.play()};e.prototype.pause=function(){this.videoElement.pause()};e.prototype.setPlaybackRate=
function(a){this._priv.speed$.next(a)};e.prototype.seekTo=function(c){a.i(p.a)(this._priv.manifest,"player: no manifest loaded");var d=void 0,f="undefined"===typeof c?"undefined":F(c);if("number"===f)d=c;else if("object"===f)if(d=this.videoElement.currentTime,null!=c.relative)d+=c.relative;else if(null!=c.position)d=c.position;else if(c.wallClockTime)d=a.i(v.b)(1E3*c.wallClockTime,this._priv.manifest);else throw Error('invalid time object. You must set one of the following properties: "relative", "position" or "wallClockTime"');
if(void 0===d)throw Error("invalid time given");return this.videoElement.currentTime=d};e.prototype.exitFullscreen=function(){a.i(r.c)()};e.prototype.setFullscreen=function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)?a.i(r.d)(this.videoElement):a.i(r.c)()};e.prototype.setVolume=function(a){a!==this.videoElement.volume&&(this.videoElement.volume=a,this.trigger("volumeChange",a))};e.prototype.isMute=function(){return!this.getVolume()};e.prototype.mute=function(){this._priv.mutedMemory=
this.getVolume();this.setVolume(0)};e.prototype.unMute=function(){0===this.getVolume()&&this.setVolume(this._priv.mutedMemory||E)};e.prototype.setVideoBitrate=function(a){this._priv.manualBitrates.video=a;this._priv.abrManager&&this._priv.abrManager.setManualBitrate("video",a)};e.prototype.setAudioBitrate=function(a){this._priv.manualBitrates.audio=a;this._priv.abrManager&&this._priv.abrManager.setManualBitrate("audio",a)};e.prototype.setMaxVideoBitrate=function(a){this._priv.initialMaxAutoBitrates.video=
a;this._priv.abrManager&&this._priv.abrManager.setMaxAutoBitrate("video",a)};e.prototype.setMaxAudioBitrate=function(a){this._priv.initialMaxAutoBitrates.audio=a;this._priv.abrManager&&this._priv.abrManager.setMaxAutoBitrate("audio",a)};e.prototype.setMaxBufferBehind=function(a){this._priv.maxBufferBehind$.next(a)};e.prototype.setMaxBufferAhead=function(a){this._priv.maxBufferAhead$.next(a)};e.prototype.setWantedBufferAhead=function(a){this._priv.wantedBufferAhead$.next(a)};e.prototype.getMaxBufferBehind=
function(){return this._priv.maxBufferBehind$.getValue()};e.prototype.getMaxBufferAhead=function(){return this._priv.maxBufferAhead$.getValue()};e.prototype.getWantedBufferAhead=function(){return this._priv.wantedBufferAhead$.getValue()};e.prototype.getCurrentKeySystem=function(){return a.i(y.b)()};e.prototype.getAvailableAudioTracks=function(){return this._priv.languageManager?this._priv.languageManager.getAvailableAudioTracks():null};e.prototype.getAvailableTextTracks=function(){return this._priv.languageManager?
this._priv.languageManager.getAvailableTextTracks():null};e.prototype.getAudioTrack=function(){if(this._priv.languageManager)return this._priv.languageManager.getCurrentAudioTrack()};e.prototype.getTextTrack=function(){if(this._priv.languageManager)return this._priv.languageManager.getCurrentTextTrack()};e.prototype.setAudioTrack=function(c){a.i(p.a)(this._priv.languageManager,"No compatible content launched.");try{this._priv.languageManager.setAudioTrackByID(c)}catch(O){throw Error("player: unknown audio track");
}};e.prototype.setTextTrack=function(c){a.i(p.a)(this._priv.languageManager,"No compatible content launched.");try{this._priv.languageManager.setTextTrackByID(c)}catch(O){throw Error("player: unknown text track");}};e.prototype.disableTextTrack=function(){if(this._priv.languageManager)return this._priv.languageManager.disableTextTrack()};e.prototype.getImageTrackData=function(){return this._priv.manifest?this._priv.currentImagePlaylist:null};e.prototype.getMinimumPosition=function(){return this._priv.manifest?
a.i(v.c)(this._priv.manifest):null};e.prototype.getMaximumPosition=function(){return this._priv.manifest?a.i(v.d)(this._priv.manifest):null};return e}(n.a);e.a=b},function(b,e,a){b=a(17);var h=a.n(b),l=function(a,f){if(!f)return null;if(a.length)return h()(a,function(a){return f.normalized===a.normalizedLanguage&&f.closedCaption===a.isClosedCaption})},g=function(a,f){if(a.length&&f)return h()(a,function(a){return f.normalized===a.normalizedLanguage&&f.audioDescription===a.isAudioDescription})};a=
function(){function a(f,d){var c=f.text;f=f.audio;var b=d.text$;d=d.audio$;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._currentTextAdaptation=this._currentAudioAdaptation=void 0;this._audioAdaptations=f||[];this._textAdaptations=c||[];this._text$=b;this._audio$=d}a.prototype.updateAdaptations=function(a){var d=a.audio;a=a.text;this._audioAdaptations=d||[];this._textAdaptations=a||[];var c=this._currentAudioAdaptation;if(c){var f=c.id;h()(d,function(a){return a.id===
f})||(d=g(d,{language:c.language,audioDescription:!!c.isAudioDescription})||d[0]||null,this._currentAudioAdaptation!==d&&(this._currentAudioAdaptation=d,this._audio$.next(this._currentAudioAdaptation)))}if(d=this._currentTextAdaptation){var b=d.id;h()(a,function(a){return a.id===b})||(a=l(a,{language:d.language,closedCaption:!!d.isClosedCaption})||a[0],this._currentTextAdaptation!==a&&(this._currentTextAdaptation=a,this._text$.next(this._currentTextAdaptation)))}};a.prototype.setInitialAudioTrack=
function(a){var d=void 0;a?d=g(this._audioAdaptations,a):null===a&&(d=null);void 0===d&&(d=this._audioAdaptations[0]||null);d!==this._currentAudioAdaptation&&(this._currentAudioAdaptation=d,this._audio$.next(this._currentAudioAdaptation))};a.prototype.setInitialTextTrack=function(a){a=a?l(this._textAdaptations,a)||null:null;a!==this._currentTextAdaptation&&(this._currentTextAdaptation=a,this._text$.next(this._currentTextAdaptation))};a.prototype.setAudioTrackByID=function(a){var d=h()(this._audioAdaptations,
function(c){return c.id===a});if(void 0===d)throw Error("Audio Track not found.");this._currentAudioAdaptation!==d&&(this._currentAudioAdaptation=d,this._audio$.next(this._currentAudioAdaptation))};a.prototype.setTextTrackByID=function(a){var d=h()(this._textAdaptations,function(c){return c.id===a});if(void 0===d)throw Error("Text Track not found.");this._currentTextAdaptation!==d&&(this._currentTextAdaptation=d,this._text$.next(this._currentTextAdaptation))};a.prototype.disableAudioTrack=function(){null!==
this._currentAudioAdaptation&&(this._currentAudioAdaptation=null,this._audio$.next(this._currentAudioAdaptation))};a.prototype.disableTextTrack=function(){null!==this._currentTextAdaptation&&(this._currentTextAdaptation=null,this._text$.next(this._currentTextAdaptation))};a.prototype.getCurrentAudioTrack=function(){var a=this._currentAudioAdaptation;return a?{language:a.language,normalized:a.normalizedLanguage,audioDescription:a.isAudioDescription,id:a.id}:null};a.prototype.getCurrentTextTrack=function(){var a=
this._currentTextAdaptation;return a?{language:a.language,normalized:a.normalizedLanguage,closedCaption:a.isClosedCaption,id:a.id}:null};a.prototype.getAvailableAudioTracks=function(){var a=this._currentAudioAdaptation,d=a&&a.id;return this._audioAdaptations.map(function(a){return{language:a.language,normalized:a.normalizedLanguage,audioDescription:a.isAudioDescription,id:a.id,active:null==d?!1:d===a.id}})};a.prototype.getAvailableTextTracks=function(){var a=this._currentTextAdaptation,d=a&&a.id;
return this._textAdaptations.map(function(a){return{language:a.language,normalized:a.normalizedLanguage,closedCaption:a.isClosedCaption,id:a.id,active:null==d?!1:d===a.id}})};return a}();e.a=a},function(b,e,a){function h(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d={maxBufferAhead:w(a.maxBufferAhead,p),maxBufferBehind:w(a.maxBufferBehind,q),limitVideoWidth:w(a.limitVideoWidth,m),videoElement:a.videoElement||document.createElement("video"),wantedBufferAhead:w(a.wantedBufferAhead,
v),throttleWhenHidden:w(a.throttleWhenHidden,t)},f=c||{},b=n||{};d.initialAudioBitrate=w(a.initialAudioBitrate,f.audio,f.other);d.initialVideoBitrate=w(a.initialVideoBitrate,f.video,f.other);d.maxAudioBitrate=w(a.maxAudioBitrate,b.audio,b.other);d.maxVideoBitrate=w(a.maxVideoBitrate,b.video,b.other);return d}function l(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b={url:c.url,transport:c.transport,autoPlay:w(c.autoPlay,d),keySystems:w(c.keySystems,[]),transportOptions:c.transportOptions,
supplementaryTextTracks:w(c.supplementaryTextTracks,[]),supplementaryImageTracks:w(c.supplementaryImageTracks,[]),textTrackMode:w(c.textTrackMode,u),defaultAudioTrack:a.i(f.b)(c.defaultAudioTrack),defaultTextTrack:a.i(f.c)(c.defaultTextTrack),hideNativeSubtitle:w(c.hideNativeSubtitle,!r)};"html"===c.textTrackMode&&(b.textTrackElement=c.textTrackElement);b.startAt=c.startAt&&c.startAt.wallClockTime instanceof Date?k()({},c.startAt,{wallClockTime:c.startAt.wallClockTime/1E3}):c.startAt;c.directFile&&
(b.transport="directfile");return b}a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});b=a(4);e=a(197);var g=a(6),k=a.n(g),f=a(33),d=b.a.DEFAULT_AUTO_PLAY,c=b.a.DEFAULT_INITIAL_BITRATES,m=b.a.DEFAULT_LIMIT_VIDEO_WIDTH,n=b.a.DEFAULT_MAX_BITRATES,p=b.a.DEFAULT_MAX_BUFFER_AHEAD,q=b.a.DEFAULT_MAX_BUFFER_BEHIND,r=b.a.DEFAULT_SHOW_NATIVE_SUBTITLE,u=b.a.DEFAULT_TEXT_TRACK_MODE,t=b.a.DEFAULT_THROTTLE_WHEN_HIDDEN,v=b.a.DEFAULT_WANTED_BUFFER_AHEAD,w=e.a},function(b,e,a){b=a(199);var h=a.n(b),l=
a(0);a.n(l);var g=a(1);a(2);var k=a(30),f=a(66),d=a(114),c=a(37);e.a=function(b){return{cleanUpCurrentContentState:function(){b._priv.streamLock$.next(!0);b._priv.initialAudioTrack=void 0;b._priv.initialTextTrack=void 0;b._priv.languageManager=null;b._priv.abrManager&&(b._priv.abrManager.dispose(),b._priv.abrManager=null);b._priv.manifest=null;b._priv.currentRepresentations={};b._priv.currentAdaptations={};b._priv.recordedEvents={};b._priv.fatalError=null;b._priv.currentImagePlaylist=null;a.i(c.d)().catch(function(){return l.Observable.empty()}).subscribe(function(){},
function(){},function(){b._priv.streamLock$.next(!1)})},recordState:function(a,c){var d=b._priv.recordedEvents[a];h()(d,c)||(b._priv.recordedEvents[a]=c,b.trigger(a+"Change",c))},onStreamNext:function(a){var c=a.value;switch(a.type){case "representationChange":b._priv.onRepresentationChange(c);break;case "manifestUpdate":b._priv.onManifestUpdate(c);break;case "adaptationChange":b._priv.onAdaptationChange(c);break;case "bitrateEstimationChange":b._priv.onBitrateEstimationChange(c);break;case "manifestChange":b._priv.onManifestChange(c);
break;case "pipeline":a=c.parsed,"image"===c.bufferType&&(b._priv.currentImagePlaylist=a.segmentData,b.trigger("imageTrackUpdate",{data:b._priv.currentImagePlaylist}))}},onErrorStreamNext:function(a){b.trigger("warning",a)},onStreamError:function(a){b._priv.unsubscribeLoadedVideo$.next();b._priv.cleanUpCurrentContentState();b._priv.fatalError=a;b._priv.setPlayerState(f.a.STOPPED);b._priv.fatalError===a&&b.trigger("error",a)},onStreamComplete:function(){b._priv.unsubscribeLoadedVideo$.next();b._priv.cleanUpCurrentContentState();
b._priv.setPlayerState(f.a.ENDED)},onManifestChange:function(a){var c=a.manifest,f=a.adaptations$,g=void 0===f?{}:f;b._priv.manifest=c;b._priv.languageManager=new d.a(c.adaptations,{audio$:g.audio,text$:g.text});Object.keys(g).forEach(function(a){"audio"===a?b._priv.languageManager.setInitialAudioTrack(b._priv.initialAudioTrack):"text"===a?b._priv.languageManager.setInitialTextTrack(b._priv.initialTextTrack):g[a].next((c.adaptations[a]||[])[0]||null)});b._priv.abrManager=a.abrManager;b.trigger("manifestChange",
c)},onManifestUpdate:function(a){a=a.manifest;b._priv.manifest=a;b._priv.languageManager.updateAdaptations(a.adaptations);b.trigger("manifestUpdate",a)},onAdaptationChange:function(a){var c=a.type;b._priv.currentAdaptations[c]=a.adaptation;b._priv.languageManager&&("audio"===c?(a=b._priv.languageManager.getCurrentAudioTrack(),b._priv.recordState("audioTrack",a)):"text"===c&&(a=b._priv.languageManager.getCurrentTextTrack(),b._priv.recordState("textTrack",a)))},onRepresentationChange:function(a){var c=
a.type;a=a.representation;a=(b._priv.currentRepresentations[c]=a)&&a.bitrate;null!=a&&(b._priv.lastBitrates[c]=a);"video"==c?b._priv.recordState("videoBitrate",null!=a?a:-1):"audio"==c&&b._priv.recordState("audioBitrate",null!=a?a:-1)},onBitrateEstimationChange:function(a){b._priv.recordState("bitrateEstimation",{type:a.type,bitrate:a.bitrate})},onPlayPauseNext:function(a){!0!==b.videoElement.ended&&b._priv.playing$.next(a)},onNativeTextTracksNext:function(a){b.trigger("nativeTextTracksChange",a)},
setPlayerState:function(a){b.state!==a&&(b.state=a,g.a.info("playerStateChange",a),b.trigger("playerStateChange",a))},triggerTimeChange:function(c){if(b._priv.manifest&&c){var d={position:c.currentTime,duration:c.duration,playbackRate:c.playbackRate,bufferGap:isFinite(c.bufferGap)?c.bufferGap:0};b._priv.manifest.isLive&&0<c.currentTime&&(d.wallClockTime=a.i(k.a)(c.currentTime,b._priv.manifest).getTime()/1E3,d.liveGap=a.i(k.d)(b._priv.manifest)-c.currentTime);b.trigger("positionUpdate",d)}}}}},function(b,
e,a){e.a=function(b,e,f,d){if(!isFinite(f)&&!isFinite(d))return h.Observable.empty();var c=[],g=a.i(l.g)(b.getBuffered(),e),k=g.innerRange,p=g.outerRanges;(function(){if(isFinite(f)){for(var a=0;a<p.length;a++){var d=p[a];e-f>=d.end?c.push(d):e>=d.end&&e-f>d.start&&e-f<d.end&&c.push({start:d.start,end:e-f})}k&&e-f>k.start&&c.push({start:k.start,end:e-f})}})();(function(){if(isFinite(d)){for(var a=0;a<p.length;a++){var b=p[a];e+d<=b.start?c.push(b):e<=b.start&&e+d<b.end&&e+d>b.start&&c.push({start:e+
d,end:b.end})}k&&e+d<k.end&&c.push({start:e+d,end:k.end})}})();return h.Observable.from(c.map(function(a){return b.removeBuffer(a)})).concatAll().ignoreElements()};var h=a(0);a.n(h);var l=a(12)},function(b,e,a){function h(c,d,b){var f=a.i(k.g)(d,c);d=f.innerRange;f=f.outerRanges;for(var e=[],m=0;m<f.length;m++){var h=f[m];c-b<h.end?e.push(h):c+b>h.start&&e.push(h)}d&&(g.a.debug("buffer: gc removing part of inner range",e),c-b>d.start&&e.push({start:d.start,end:c-b}),c+b<d.end&&e.push({start:c+b,end:d.end}));
return e}e.a=function(a,b){g.a.warn("buffer: running garbage collector");return a.take(1).mergeMap(function(a){var c=b.getBuffered(),e=h(a.currentTime,c,f);0===e.length&&(e=h(a.currentTime,c,d));g.a.debug("buffer: gc cleaning",e);return l.Observable.from(e.map(function(a){return b.removeBuffer(a)})).concatAll()})};var l=a(0);a.n(l);b=a(4);var g=a(1),k=a(12),f=b.a.BUFFER_GC_GAPS.CALM,d=b.a.BUFFER_GC_GAPS.BEEFY},function(b,e,a){function h(c,d,b,f){var g=f.low;f=f.high;var e=d.currentTime+d.timeOffset,
k=(d.duration||Infinity)-e;d=Math.max(0,null==d.liveGap?Math.min(b,k):Math.min(b,d.liveGap,k));c=a.i(n.a)(c,e);return{start:e+(c>g&&Infinity>c?Math.min(c,f):0),end:e+d}}function l(b){function g(a,d,b,f){var g=null;f&&(c.a.debug("add init segment",G),g=a.index.getInitSegment());if(0===b.readyState)return g?[g]:[];f=d.start;var e=d.end;d=e-f;a.index.shouldRefresh(b.currentTime+b.timeOffset,f,e)&&(b=new p.g("OUT_OF_INDEX_ERROR",a.index.getType(),!1),O.next({type:"out-of-index",value:b}));a=a.index.getSegments(f,
d);g&&a.unshift(g);return a}function e(b){function f(a,c,d){var f=J.getBuffered();W.addBufferedInfos(f);if(a.stalled&&H){var e=b.index.checkDiscontinuity(a.currentTime);0<e&&O.next({type:"index-discontinuity",value:{ts:e+1}})}d=0===d;var m=h(f,a,c,{low:da,high:ea});a=g(b,m,a,d).filter(function(a){l.test(a.id)?a=!1:a.isInit||0>a.time?a=!0:(a=W.hasPlayableSegment(m,a.time,a.duration,a.timescale),a=!a||a.bitrate*v<b.bitrate);return a});for(c=0;c<a.length;c++)l.add(a[c].id);return k.Observable.of.apply(k.Observable,
a)}c.a.info("bitrate",G,b.bitrate);var l=new m.a,q=function(a){return n({segment:a,representation:b,init:Q}).map(function(c){return d()({segment:a},c)})},r=k.Observable.combineLatest(D,F,C,E).mergeMap(function(c,d){var b=c[0],g=c[2],e=c[3];c=f(b,Math.min(c[1],e),d).concatMap(q);b=a.i(t.a)(J,b.currentTime,g,e);return k.Observable.merge(c,b)}).concatMap(function(c){var f=c.segment,g=c.parsed,e=g.segmentData,k=g.nextSegments,m=g.segmentInfos;f.isInit&&(Q=m);var h=k?b.index._addSegments(k,m):[],n=function(){l.remove(f.id);
if(!f.isInit){var a=m?m:f,c=a.time,d=a.timescale;W.insert(f,c/d,(c+a.duration)/d,b.bitrate)}},q=function(){return J.appendBuffer(e).do(n)};return q().catch(function(c){if("QuotaExceededError"!=c.name)throw l.remove(f.id),new p.f("BUFFER_APPEND_ERROR",c,!0);return a.i(u.a)(D,J).mergeMap(q).catch(function(a){l.remove(f.id);throw new p.f("BUFFER_FULL_ERROR",a,!0);})}).map(function(){return{type:"pipeline",value:d()({bufferType:G,addedSegments:h},c)}})});return k.Observable.merge(r,O).catch(function(a){if(!H||
a.type!=p.a.NETWORK_ERROR||!a.isHttpError(412))throw a;return k.Observable.of({type:"precondition-failed",value:a}).concat(k.Observable.timer(2E3)).concat(e(b))}).startWith({type:"representationChange",value:{type:G,representation:b}})}var l=b.sourceBuffer,n=b.downloader,w=b.switch$,D=b.clock$,F=b.wantedBufferAhead,C=b.maxBufferBehind,E=b.maxBufferAhead,G=b.bufferType,H=b.isLive,Q=null,O=new f.Subject,da="video"==G?4:1,ea="video"==G?6:1,W=new q.a,J=new r.a(l);return w.switchMap(e).finally(function(){return J.dispose()})}
function g(a){return k.Observable.of({type:"representationChange",value:{type:a.bufferType,representation:null}})}a.d(e,"b",function(){return l});a.d(e,"a",function(){return g});var k=a(0);a.n(k);var f=a(7);a.n(f);b=a(6);var d=a.n(b);b=a(4);var c=a(1),m=a(191),n=a(12),p=a(8),q=a(121),r=a(120),u=a(118),t=a(117),v=b.a.BITRATE_REBUFFERING_RATIO},function(b,e,a){var h=a(7);a.n(h);b=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.buffer=b;
this.queue=[];this.flushing=null;this.__onUpdate=this._onUpdate.bind(this);this.__onError=this._onError.bind(this);this.__flush=this._flush.bind(this);this.buffer.addEventListener("update",this.__onUpdate);this.buffer.addEventListener("error",this.__onError);this.buffer.addEventListener("updateend",this.__flush)}a.prototype.appendBuffer=function(a){return this._queueAction("append",a)};a.prototype.removeBuffer=function(a){return this._queueAction("remove",{start:a.start,end:a.end})};a.prototype.getBuffered=
function(){return this.buffer.buffered};a.prototype.dispose=function(){this.buffer.removeEventListener("update",this.__onUpdate);this.buffer.removeEventListener("error",this.__onError);this.buffer.removeEventListener("updateend",this.__flush);this.buffer=null;this.queue.length=0;this.flushing=null};a.prototype._onUpdate=function(a){this.flushing&&(this.flushing.next(a),this.flushing.complete(),this.flushing=null)};a.prototype._onError=function(a){this.flushing&&(this.flushing.error(a),this.flushing=
null)};a.prototype._queueAction=function(a,b){var f=new h.Subject;1===this.queue.unshift({type:a,args:b,subj:f})&&this._flush();return f};a.prototype._flush=function(){if(!this.flushing&&0!==this.queue.length&&!this.buffer.updating){var a=this.queue.pop(),b=a.type,f=a.args;this.flushing=a.subj;try{switch(b){case "append":this.buffer.appendBuffer(f);break;case "remove":this.buffer.remove(f.start,f.end)}}catch(d){this._onError(d)}}};return a}();e.a=b},function(b,e,a){b=a(4);a(2);var h=a(198),l=a(12),
g=b.a.MAX_TIME_MISSING_FROM_COMPLETE_SEGMENT,k=b.a.MAX_BUFFERED_DISTANCE,f=b.a.MINIMUM_SEGMENT_SIZE;b=function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._inventory=[]}d.prototype.addBufferedInfos=function(c){var d=this._inventory;c=a.i(l.h)(c);for(var b=0,g=d[0],e=c.length,r=0;r<e;r++){if(null==g)return;var u=c[r],t=u.start;u=u.end;if(!(u-t<f)){for(var v=b;g&&a.i(h.a)(g.bufferedEnd,g.end)-t<f;)g=d[++b];var w=-1,x=b-v;0<x&&(b=d[v+x-1],w=a.i(h.a)(b.bufferedEnd,
b.end),d.splice(v,x),b=v);if(null==g)return;if(u-a.i(h.a)(g.bufferedStart,g.start)>=f)for(null!=g.bufferedStart&&g.bufferedStart<t?g.bufferedStart=t:null==g.bufferedStart&&(g.bufferedStart=-1!==w&&w>t&&g.start-w<=k?w:g.start-t<=k?t:g.start),g=d[++b];g&&u-a.i(h.a)(g.bufferedStart,g.start)>=f;)t=d[b-1],null==t.bufferedEnd&&(t.bufferedEnd=t.end),g.bufferedStart=t.bufferedEnd,g=d[++b];if(t=d[b-1])null!=t.bufferedEnd&&t.bufferedEnd>u?t.bufferedEnd=u:null==t.bufferedEnd&&(t.bufferedEnd=u-t.end<=k?u:t.end)}}g&&
d.splice(b,d.length-b)};d.prototype.insert=function(a,d,b,f){if(null!=b){var c=this._inventory;a={bitrate:f,start:d,end:b,bufferedStart:void 0,bufferedEnd:void 0,segment:a};for(f=c.length-1;0<=f;f--){var g=c[f];if(g.start<=d){g.end<=d?this._inventory.splice(f+1,0,a):g.start>=d?this._inventory.splice(f,1,a):(null!=g.end&&(g.end=d),this._inventory.splice(f+1,0,a));return}}(c=this._inventory[0])?null==b?c.start===d?this._inventory.splice(0,1,a):this._inventory.splice(0,0,a):c.start>=b?this._inventory.splice(0,
0,a):c.end<=b?this._inventory.splice(0,1,a):(c.start=b,this._inventory.splice(0,0,a)):this._inventory.push(a)}};d.prototype.hasPlayableSegment=function(a,d,b,f){function c(a,c,d,b){if(!d||null==d.bufferedEnd||null==c.bufferedStart||d.bufferedEnd<c.bufferedStart){if(null==c.bufferedStart)return!1;d=c.bufferedStart-c.start;if(a.start>c.start){if(0<c.bufferedStart-a.start&&d>g)return!1}else if(d>g)return!1}if(null===c.end)return!1;if(!b||null==b.bufferedStart||null==c.bufferedEnd||b.bufferedStart>c.bufferedEnd){if(null==
c.bufferedEnd)return!1;b=c.end-c.bufferedEnd;if(a.end<c.end){if(0<a.end-c.bufferedEnd&&b>g)return!1}else if(b>g)return!1}return!0}for(var e=this._inventory,k=e.length-1;0<=k;k--){var m=e[k],h=e[k-1],l=e[k+1],n=m.segment,p=d,z=b;n.timescale!==f&&(p=d*n.timescale/f,z=b*n.timescale/f);if(n.time===p&&n.duration===z&&(n=h&&null==h.bufferedEnd||null==m.bufferedStart?!1:l&&null==l.bufferedStart||null==m.bufferedEnd?!1:!0,n&&c(a,m,h,l)))return m}return null};return d}();e.a=b},function(b,e,a){a.d(e,"a",function(){return h});
var h={expired:!0,"internal-error":!0}},function(b,e,a){function h(d){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=b.$keySystem,g=b.$mediaKeys,e=b.$mediaKeySystemConfiguration;return f&&g&&!a.i(c.f)()?(b=d.filter(function(a){return a.type!==f.type||a.persistentLicense&&"required"!=e.persistentState||a.distinctiveIdentifierRequired&&"required"!=e.distinctiveIdentifier?!1:!0})[0])?{keySystem:b,keySystemAccess:new c.g(f.type,g,e)}:null:null}function l(a){var c=Object.keys(p),d=Array.isArray(c),
b=0;for(c=d?c:c[Symbol.iterator]();;){if(d){if(b>=c.length)break;var f=c[b++]}else{b=c.next();if(b.done)break;f=b.value}if(p[f].includes(a))return f}}function g(a,c){var d=["temporary"],b="optional",f="optional";c.persistentLicense&&(b="required",d.push("persistent-license"));c.persistentStateRequired&&(b="required");c.distinctiveIdentifierRequired&&(f="required");var g=c.videoRobustnesses||("widevine"===a?n:[]);a=c.audioRobustnesses||("widevine"===a?n:[]);g.length||g.push(void 0);a.length||a.push(void 0);
g=g.map(function(a){return{contentType:'video/mp4;codecs="avc1.4d401e"',robustness:a}});a=a.map(function(a){return{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:a}});return[{initDataTypes:["cenc"],videoCapabilities:g,audioCapabilities:a,distinctiveIdentifier:f,persistentState:b,sessionTypes:d},{}]}function k(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return a.$keySystem&&a.$keySystem.type}a.d(e,"b",function(){return k});var f=a(0);a.n(f);b=a(4);var d=a(1),c=a(5),m=a(8),
n=b.a.EME_DEFAULT_WIDEVINE_ROBUSTNESSES,p=b.a.EME_KEY_SYSTEMS;e.a=function(b,e){if(e=h(b,e))return d.a.debug("eme: found compatible keySystem quickly",e),f.Observable.of(e);var k=b.reduce(function(a,c){var d=void 0;d=p[c.type]?p[c.type].map(function(a){return{keyName:c.type,keyType:a,keySystem:c}}):[{keyName:l(c.type),keyType:c.type,keySystem:c}];return a.concat(d)},[]);return f.Observable.create(function(b){function f(l){if(!e)if(l>=k.length)b.error(new m.c("INCOMPATIBLE_KEYSYSTEMS",null,!0));else{var n=
k[l],p=n.keyType,q=n.keySystem,t=g(n.keyName,q);d.a.debug("eme: request keysystem access "+p+","+(l+1+" of "+k.length),t);h=a.i(c.h)(p,t).subscribe(function(a){d.a.info("eme: found compatible keysystem",p,t);b.next({keySystem:q,keySystemAccess:a});b.complete()},function(){d.a.debug("eme: rejected access to keysystem",p,t);h=null;f(l+1)})}}var e=!1,h=null;f(0);return function(){e=!0;h&&h.unsubscribe()}})}},function(b,e,a){function h(d,c){return g.Observable.defer(function(){return a.i(k.a)(d.setServerCertificate(c)).ignoreElements().catch(function(a){throw new f.a("LICENSE_SERVER_CERTIFICATE_ERROR",
a,!0);})})}function l(a,c,b){return h(a,c).catch(function(a){a.fatal=!1;b.next(a);return g.Observable.empty()})}a.d(e,"a",function(){return l});var g=a(0);a.n(g);var k=a(10),f=a(39)},function(b,e,a){function h(a,d,b){return{type:"eme",value:c()({name:a,session:d},b)}}function l(c,d,b){function f(a,c){return a.type===v.a.ENCRYPTED_MEDIA_ERROR?(a.fatal=c,a):new v.c("KEY_LOAD_ERROR",a,c)}x.a.debug("eme: handle message events",c);var g=void 0,e={totalRetry:2,retryDelay:200,errorSelector:function(a){return f(a,
!0)},onRetry:function(a){return b.next(f(a,!1))}},k=a.i(t.j)(c).map(function(a){throw new v.c("KEY_ERROR",a,!0);}),l=a.i(t.l)(c).mergeMap(function(b){g=b.sessionId;x.a.debug("eme: keystatuseschange event",g,c,b);c.keyStatuses.forEach(function(a,c){if(w.a[c])throw new v.c("KEY_STATUS_CHANGE_ERROR",c,!0);if(w.a[a])throw new v.c("KEY_STATUS_CHANGE_ERROR",a,!0);});return d.onKeyStatusesChange?a.i(q.a)(function(){return a.i(r.a)(d.onKeyStatusesChange(b,c))}).catch(function(a){throw new v.c("KEY_STATUS_CHANGE_ERROR",
a,!0);}):(x.a.info("eme: keystatuseschange event not handled"),m.Observable.empty())}),p=a.i(t.k)(c).mergeMap(function(b){g=b.sessionId;var f=new Uint8Array(b.message),k=b.messageType||"license-request";x.a.debug("eme: event message type "+k,c,b);b=m.Observable.defer(function(){return a.i(r.a)(d.getLicense(f,k)).timeout(1E4).catch(function(a){if(a instanceof n.TimeoutError)throw new v.c("KEY_LOAD_TIMEOUT",null,!1);throw a;})});return a.i(u.a)(b,e)});l=m.Observable.merge(p,l).concatMap(function(d){x.a.debug("eme: update session",
g,d);return a.i(r.a)(c.update(d,g)).catch(function(a){throw new v.c("KEY_UPDATE_ERROR",a,!0);}).mapTo(h("session-update",c,{updatedWith:d}))});k=m.Observable.merge(l,k);return c.closed?k.takeUntil(a.i(r.a)(c.closed)):k}function g(a,c,d,b,f){x.a.debug("eme: create a new "+c+" session");var g=a.createSession(c);a=l(g,d,f).finally(function(){y.b.deleteAndClose(g);y.a.delete(b)}).publish();return{session:g,sessionEvents:a}}function k(c,d,b,f,e,k){c=g(c,b,d,e,k);var l=c.session;c=c.sessionEvents;y.b.add(e,
l,c);x.a.debug("eme: generate request",f,e);f=a.i(r.a)(l.generateRequest(f,e)).catch(function(a){throw new v.c("KEY_GENERATE_REQUEST_ERROR",a,!1);}).do(function(){"persistent-license"==b&&y.a.add(e,l)}).mapTo(h("generated-request",l,{initData:e,initDataType:f}));return m.Observable.merge(c,f)}function f(a,c,d,b,f,g){return k(a,c,d,b,f,g).catch(function(e){if(e.code!==v.b.KEY_GENERATE_REQUEST_ERROR)throw e;var m=y.b.getFirst();if(!m)throw e;x.a.warn("eme: could not create a new session, retry after closing a currently loaded session",
e);return y.b.deleteAndClose(m).mergeMap(function(){return k(a,c,d,b,f,g)})})}function d(c,d,b,e,k,l){x.a.debug("eme: load persisted session",b);var n=g(c,"persistent-license",d,k,l),p=n.session,q=n.sessionEvents;return a.i(r.a)(p.load(b)).catch(function(){return m.Observable.of(!1)}).mergeMap(function(a){if(a)return y.b.add(k,p,q),y.a.add(k,p),q.startWith(h("loaded-session",p,{storedSessionId:b}));x.a.warn("eme: no data stored for the loaded session, do fallback",b);y.b.deleteById(b);y.a.delete(k);
p.sessionId&&p.remove();return f(c,d,"persistent-license",e,k,l).startWith(h("loaded-session-failed",p,{storedSessionId:b}))})}b=a(6);var c=a.n(b),m=a(0);a.n(m);var n=a(96);a.n(n);var p=a(9),q=a(50),r=a(10),u=a(79),t=a(11),v=a(8),w=a(122),x=a(1),y=a(36);e.a=function(c,b,g,e,k,l){return m.Observable.defer(function(){var n=y.b.get(k);if(n&&n.sessionId)return x.a.debug("eme: reuse loaded session",n.sessionId),m.Observable.of(h("reuse-session",n));n="temporary";var q=b.sessionTypes;return q&&a.i(p.a)(q,
"persistent-license")&&g.persistentLicense&&(n="persistent-license",q=y.a.get(k))?d(c,g,q.sessionId,e,k,l):f(c,g,n,e,k,l)})}},function(b,e,a){function h(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}var l=a(0);a.n(l);var g=a(1),k=a(10);b=a(67);
var f=a(68);b=function(d){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a=d.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}h(c,d);c.prototype.getFirst=function(){if(0<this._entries.length)return this._entries[0].session};c.prototype.find=function(a){for(var c=0;c<this._entries.length;c++)if(!0===a(this._entries[c]))return this._entries[c];
return null};c.prototype.get=function(c){c=a.i(f.a)(c);var d=this.find(function(a){return a.initData===c});return d?d.session:null};c.prototype.add=function(c,d,b){c=a.i(f.a)(c);var e=this.get(c);e&&this.deleteAndClose(e);b=b.connect();c={session:d,initData:c,eventSubscription:b};g.a.debug("eme-mem-store: add session",c);this._entries.push(c)};c.prototype.deleteById=function(a){var c=this.find(function(c){return c.session.sessionId===a});return c?this.delete(c.session):null};c.prototype.delete=function(a){var c=
this.find(function(c){return c.session===a});if(!c)return null;var d=c.session,b=c.eventSubscription;g.a.debug("eme-mem-store: delete session",c);c=this._entries.indexOf(c);this._entries.splice(c,1);b.unsubscribe();return d};c.prototype.deleteAndClose=function(c){return(c=this.delete(c))?(g.a.debug("eme-mem-store: close session",c),a.i(k.a)(c.close()).catch(function(){return l.Observable.of(null)})):l.Observable.of(null)};c.prototype.dispose=function(){var a=this,c=this._entries.map(function(c){return a.deleteAndClose(c.session)});
this._entries=[];return l.Observable.merge.apply(null,c)};return c}(b.a);e.a=b},function(b,e,a){var h=a(126),l=a(128);a.d(e,"b",function(){return h.a});a.d(e,"a",function(){return l.a})},function(b,e,a){function h(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
d):a.__proto__=d)}var l=a(1),g=a(2);b=a(67);var k=a(68);b=function(b){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var c=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.setStorage(a);return c}h(d,b);d.prototype.setStorage=function(c){if(this._storage!==c){a.i(g.a)(c,"no licenseStorage given for keySystem with persistentLicense");g.a.iface(c,
"licenseStorage",{save:"function",load:"function"});this._storage=c;try{this._entries=this._storage.load(),a.i(g.a)(Array.isArray(this._entries))}catch(m){l.a.warn("eme-persitent-store: could not get entries from license storage",m),this.dispose()}}};d.prototype.get=function(c){c=a.i(k.a)(c);return this.find(function(a){return a.initData===c})||null};d.prototype.add=function(c,d){var b=d&&d.sessionId;if(b){c=a.i(k.a)(c);var f=this.get(c);f&&f.sessionId===b||(f&&this.delete(c),l.a.info("eme-persitent-store: add new session",
b,d),this._entries.push({sessionId:b,initData:c}),this._save())}};d.prototype.delete=function(c){c=a.i(k.a)(c);var d=this.find(function(a){return a.initData===c});d&&(l.a.warn("eme-persitent-store: delete session from store",d),d=this._entries.indexOf(d),this._entries.splice(d,1),this._save())};d.prototype.dispose=function(){this._entries=[];this._save()};d.prototype._save=function(){try{this._storage.save(this._entries)}catch(c){l.a.warn("eme-persitent-store: could not save licenses in localStorage")}};
return d}(b.a);e.a=b},function(b,e,a){function h(d){return d?a.i(k.i)(d,null):l.Observable.empty()}a.d(e,"b",function(){return h});var l=a(0);a.n(l);var g=a(1),k=a(5),f=a(36);e.a=function(d,c,b,e,h){return l.Observable.defer(function(){var m=h.$videoElement,n=h.$mediaKeys;h.$mediaKeys=d;h.$mediaKeySystemConfiguration=c;h.$keySystem=e;h.$videoElement=b;if(b.mediaKeys===d)return l.Observable.of(d);n&&n!==d&&f.b.dispose();m&&m!==b?(g.a.debug("eme: unlink old video element and set mediakeys"),m=a.i(k.i)(m,
null).concat(a.i(k.i)(b,d))):(g.a.debug("eme: set mediakeys"),m=a.i(k.i)(b,d));return m.mapTo(d)})}},function(b,e,a){function h(c){var d=a.i(u.a)(c.locations[0]);return(c=c.periods[0])&&c.baseURL?a.i(u.b)(d,c.baseURL):d}function l(a,d,b,f){if(!d.transportType)throw new v.f("MANIFEST_PARSE_ERROR",null,!0);d.id=d.id||"gen-manifest-"+A++;d.type=d.type||"static";d.isLive="dynamic"==d.type;var e=d.locations;e&&e.length||(d.locations=[a]);var k={rootURL:h(d),baseURL:d.baseURL,isLive:d.isLive};a=d.periods.map(function(a){return g(a,
k,b,f)});d=c(d,a[0]);d.periods=null;d.duration||(d.duration=Infinity);d.isLive&&(d.suggestedPresentationDelay=d.suggestedPresentationDelay||0,d.availabilityStartTime=d.availabilityStartTime||0);return new x.a(d)}function g(a,c,b,g){"undefined"==typeof a.id&&(a.id="gen-period-"+A++);var e=a.adaptations.map(function(a){return k(a,c)});b&&e.push.apply(e,f(b).map(function(a){return k(a,c)}));g&&e.push.apply(e,d(g).map(function(a){return k(a,c)}));b=e.filter(function(a){return 0>B.indexOf(a.type)?(r.a.info("not supported adaptation type",
a.type),!1):!0});if(0===b.length)throw new v.f("MANIFEST_PARSE_ERROR",null,!0);g={};for(e=0;e<b.length;e++){var m=b[e],h=m.representations,l=m.type;g[l]||(g[l]=[]);0<h.length&&g[l].push(m)}for(var n in g)if(0===g[n].length)throw new v.f("MANIFEST_INCOMPATIBLE_CODECS_ERROR",null,!0);a.adaptations=g;return a}function k(d,b){if("undefined"==typeof d.id)throw new v.f("MANIFEST_PARSE_ERROR",null,!0);var f=c(b,d),g={};z.forEach(function(a){a in f&&(g[a]=f[a])});d=f.representations.map(function(d){var b=
f.rootURL,e=f.baseURL;if("undefined"==typeof d.id)throw new v.f("MANIFEST_PARSE_ERROR",null,!0);d=c(g,d);d.index?d.index.timescale||(d.index.timescale=1):d.index={indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0};d.bitrate||(d.bitrate=1);"mp4a.40.02"==d.codecs&&(d.codecs="mp4a.40.2");d.baseURL=a.i(u.b)(b,e,d.baseURL);d.codec=d.codecs;return d}).sort(function(a,c){return a.bitrate-c.bitrate});b=f.type;var e=f.accessibility;e=void 0===e?[]:e;if(!b)throw new v.f("MANIFEST_PARSE_ERROR",
null,!0);"video"==b||"audio"==b?(d=d.filter(function(c){return a.i(t.q)(n(c))}),"audio"===b&&(b=a.i(q.a)(e,"visuallyImpaired"),f.audioDescription=b)):"text"===b&&(b=a.i(q.a)(e,"hardOfHearing"),f.closedCaption=b);f.representations=d;f.bitrates=d.map(function(a){return a.bitrate});return f}function f(c){return(Array.isArray(c)?c:[c]).reduce(function(c,d){var b=d.mimeType,f=d.codecs,g=d.url,e=d.language,k=d.languages,m=d.closedCaption;e&&(k=[e]);return c.concat(k.map(function(c){return{id:"gen-text-ada-"+
A++,type:"text",language:c,normalizedLanguage:a.i(w.a)(c),accessibility:m?["hardOfHearing"]:[],baseURL:g,representations:[{id:"gen-text-rep-"+A++,mimeType:b,codecs:f,index:{indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0}}]}}))},[])}function d(a){return(Array.isArray(a)?a:[a]).map(function(a){var c=a.mimeType;a=a.url;return{id:"gen-image-ada-"+A++,type:"image",baseURL:a,representations:[{id:"gen-image-rep-"+A++,mimeType:c,index:{indexType:"template",duration:Number.MAX_VALUE,
timescale:1,startNumber:0}}]}})}function c(){for(var a={},d=arguments.length,b=Array(d),f=0;f<d;f++)b[f]=arguments[f];for(d=b.length-1;0<=d;d--){f=b[d];for(var g in f)if(!a.hasOwnProperty(g)){var e=f[g];e&&"object"===("undefined"===typeof e?"undefined":y(e))?e instanceof Date?a[g]=new Date(e.getTime()):Array.isArray(e)?a[g]=e.slice(0):a[g]=c(e):a[g]=e}}return a}function m(a,c){var d=function(a,c){return p()(c,function(c){return c.id===a})},b=a.getAdaptations();c=c.getAdaptations();for(var f=0;f<b.length;f++){var g=
d(b[f].id,c);if(g){var e=b[f].representations;g=g.representations;for(var k=0;k<e.length;k++){var m=d(e[k].id,g);m?e[k].index.update(m.index):r.a.warn('manifest: representation "'+e[k].id+'" not found when merging.')}}else r.a.warn('manifest: adaptation "'+b[f].id+'" not found when merging.')}return a}function n(a){return a.mimeType+';codecs="'+a.codec+'"'}a.d(e,"a",function(){return l});a.d(e,"c",function(){return n});a.d(e,"b",function(){return m});b=a(17);var p=a.n(b),q=a(9),r=a(1),u=a(19),t=a(5),
v=a(8),w=a(33),x=a(157),y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},z="audioSamplingRate codecs codingDependency frameRate height index maxPlayoutRate maximumSAPPeriod mimeType profiles segmentProfiles width".split(" "),A=0,B=["audio","video","text","image"]},function(b,e,a){var h=a(0);a.n(h);var l=a(8),g=a(5),k=a(78);e.a=function(b,d){var c=
d.baseDelay,f=d.maxDelay,e=d.maxRetryRegular,p=d.maxRetryOffline,q=d.onRetry,r=0,u=0;return b.catch(function(d,b){var m=d instanceof l.h?d.type===l.j.ERROR_HTTP_CODE?500<=d.status||404==d.status:d.type===l.j.TIMEOUT||d.type===l.j.ERROR_EVENT:!1;if(!m)throw d;m=d.type===l.j.ERROR_EVENT&&a.i(g.r)()?2:1;var n=2===m?p:e;m!==u&&(r=0,u=m);if(++r>n)throw d;q&&q(d,r);d=Math.min(c*Math.pow(2,r-1),f);d=a.i(k.b)(d);return h.Observable.timer(d).mergeMap(function(){return b})})}},function(b,e,a){function h(c,
d){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;a.i(f.d)(d)||(d=new (d instanceof f.h?f.i:f.e)(c,d,b));return d}e.a=function(b){var f=b.resolver,e=b.loader,t=b.parser,y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},z=y.maxRetry,A=y.cache,B=new k.Subject;f||(f=g.Observable.of);e||(e=g.Observable.of);t||(t=g.Observable.of);var D={baseDelay:u,maxDelay:r,maxRetryRegular:"number"===typeof z?z:p,maxRetryOffline:q,onRetry:function(a){B.next(h("PIPELINE_LOAD_ERROR",a,!1))}},
F=function(d){return a.i(c.a)(f,d).catch(function(a){throw h("PIPELINE_RESOLVE_ERROR",a);})},C=function(d,b){var f=function(d){return a.i(n.a)(a.i(c.a)(e,d),D).catch(function(a){throw h("PIPELINE_LOAD_ERROR",a);}).do(function(a){var c=a.value;"response"===a.type&&A&&A.add(d,c)}).startWith({type:"request",value:b})},g=A?A.get(d):null;return null===g?f(d):a.i(m.a)(g).map(function(a){return{type:"cache",value:a}}).catch(function(){return f(d)})},E=function(d){return a.i(c.a)(t,d).catch(function(a){throw h("PIPELINE_PARSING_ERROR",
a);})};return function(c){var b=F(c).mergeMap(function(b){return C(b,c).mergeMap(function(c){var f=c.type;c=c.value;if(a.i(d.a)(["cache","data","response"],f)){var e=l()({response:c},b);return("response"===f?g.Observable.of({type:"metrics",value:{size:c.size,duration:c.duration}}):g.Observable.empty()).concat(E(e).map(function(a){return{type:"data",value:l()({parsed:a},e)}}))}return g.Observable.of({type:f,value:c})})}).do(null,null,function(){f.complete()}),f=B.map(function(a){return{type:"error",
value:a}});return g.Observable.merge(b,f)}};b=a(6);var l=a.n(b),g=a(0);a.n(g);var k=a(7);a.n(k);b=a(4);var f=a(8),d=a(9),c=a(50),m=a(10),n=a(131),p=b.a.DEFAULT_MAX_PIPELINES_RETRY_ON_ERROR,q=b.a.DEFAULT_MAX_PIPELINES_RETRY_ON_OFFLINE,r=b.a.MAX_BACKOFF_DELAY_BASE,u=b.a.INITIAL_BACKOFF_DELAY_BASE},function(b,e,a){var h=a(39),l=a(1),g=a(11),k=a(37);e.a=function(b,d,c){return d&&d.length?a.i(k.c)(b,d,c):a.i(g.f)(b).map(function(){l.a.error("eme: ciphered media and no keySystem passed");throw new h.a("MEDIA_IS_ENCRYPTED_ERROR",
null,!0);})}},function(b,e,a){e.a=function(b){return a.i(g.a)(b,"error").mergeMap(function(){var a=void 0;switch(b.error.code){case 1:a="MEDIA_ERR_ABORTED";break;case 2:a="MEDIA_ERR_NETWORK";break;case 3:a="MEDIA_ERR_DECODE";break;case 4:a="MEDIA_ERR_SRC_NOT_SUPPORTED"}l.a.error("stream: video element MEDIA_ERR("+a+")");throw new h.a(a,null,!0);})};var h=a(23),l=a(1),g=a(49)},function(b,e,a){e.a=function(b){function f(c,b,f,g,e,k,m,l){var n=H(b);return m.switchMap(function(m){if(!m)return a.i(y.a)(I,
c,b,V),a.i(t.a)({bufferType:b}).startWith({type:"adaptationChange",value:{type:b,adaptation:m}});var p=null,q=X.map(function(a){var c=void 0,d=void 0;p&&(c=p.bitrate,p.index&&(d=p.index.getLastPosition()));return{bitrate:c,bufferGap:a.bufferGap,duration:a.duration,isLive:k.isLive,lastIndexPosition:d,position:a.currentTime,speed:ba.getValue()}});q=l.get$(b,q,m.representations);var r=q.map(function(a){return a.representation}).distinctUntilChanged(function(a,c){return(a&&a.bitrate)===(c&&c.bitrate)&&
(a&&a.id)===(c&&c.id)}).do(function(a){return p=a}),x=a.i(y.b)(I,c,b,f,V,"text"===b?la:{});r=h.Observable.combineLatest(r,e).map(function(a){return a[0]});x=a.i(t.b)({sourceBuffer:x,downloader:function(c){var d=c.segment,f=c.representation;c=c.init;d=a.i(v.a)(L[b],n)({segment:d,representation:f,adaptation:m,manifest:k,init:c});return a.i(D.a)(b,d,T,U,P)},switch$:r,clock$:g,wantedBufferAhead:Y,maxBufferBehind:Z,maxBufferAhead:S,bufferType:b,isLive:k.isLive}).startWith({type:"adaptationChange",value:{type:b,
adaptation:m}}).catch(function(c){d.a.error("buffer",b,"has crashed",c);if(!a.i(y.c)(b))return P.next(c),h.Observable.empty();throw c;});q=q.filter(function(a){return null!=a.bitrate}).map(function(a){return{type:"bitrateEstimationChange",value:{type:b,bitrate:a.bitrate}}});return h.Observable.merge(x,q)})}function e(c,b){var f=a.i(x.a)(c,ha),g=f;c=a.i(q.j)(I).do(function(){d.a.info("set initial time",f);I.playbackRate=1;I.currentTime=f;g=0});var e=a.i(q.k)(I).do(function(){d.a.info("canplay event");
aa&&I.play();aa=!0});return{clock$:b.map(function(a){return k()({timeOffset:g},a)}),loaded$:h.Observable.combineLatest(c,e).take(1).mapTo({type:"loaded",value:!0})}}function n(c){return N(c.getUrl()).map(function(d){return{type:"manifestUpdate",value:{manifest:a.i(u.b)(c,d)}}})}function Q(c,b){c&&a.i(z.a)(c,b.getDuration());var k=a.i(A.a)(b,X),m=k.timings,l=k.seekings,p=e(b,m);k=p.loaded$;var q=p.clock$,r=new w.a(U,T,J),t={};p=Object.keys(b.adaptations).map(function(d){t[d]=new g.ReplaySubject(1);
var e=a.i(u.c)(b.adaptations[d][0].representations[0]);a.i(y.c)(d)&&a.i(y.d)(c,d,e,V);return f(c,d,e,q,l,b,t[d],r)});p=b.isLive?h.Observable.merge.apply(h.Observable,p).mergeMap(function(a){a:{switch(a.type){case "index-discontinuity":d.a.warn("explicit discontinuity seek",a.value.ts);I.currentTime=a.value.ts;break;case "precondition-failed":b.updateLiveGap(1);d.a.warn("precondition failed",b.presentationLiveGap);break;case "out-of-index":d.a.info("out of index");a=n(b);break a}a=h.Observable.of(a)}return a}):
h.Observable.merge.apply(h.Observable,p);var v=h.Observable.of({type:"manifestChange",value:{manifest:b,adaptations$:t,abrManager:r}}),x=a.i(E.a)(I,fa,P),D=a.i(F.a)(I,ba,m,{changePlaybackRate:R}).map(function(a){return{type:"speed",value:a}});m=a.i(C.a)(I,b,m).map(function(a){return{type:"stalled",value:a}});var K=a.i(B.a)(I);return h.Observable.merge(p,x,k,v,K,D,m)}var J=b.adaptiveOptions,aa=b.autoPlay,K=b.bufferOptions,fa=b.keySystems,ha=b.startAt,ia=b.url,I=b.videoElement,ba=b.speed$,ja=b.supplementaryTextTracks,
ka=b.supplementaryImageTracks,la=b.textTrackOptions,X=b.timings$,P=b.errorStream,ca=b.withMediaSource,R=void 0===ca?!0:ca,L=b.transport,Y=K.wantedBufferAhead$,S=K.maxBufferAhead$,Z=K.maxBufferBehind$,T=new l.Subject,U=new l.Subject,M=a.i(v.a)(L.manifest),N=a.i(m.a)(function(c){c=M({url:c});var d=new l.Subject;return a.i(D.a)("manifest",c,d,d,P).map(function(c){c=c.parsed;return a.i(u.a)(c.url,c.manifest,ja,ka)})}),V={native:{},custom:{}};b=X.filter(function(a){var c=a.currentTime;a=a.duration;return 0<
a&&a-c<G});K=a.i(c.b)(function(c){var d=c.url,b=c.mediaSource;c=b?a.i(r.g)(b):h.Observable.of(null);return h.Observable.combineLatest(N(d),c).mergeMap(function(a){return Q(b,a[0])})},{totalRetry:3,retryDelay:250,resetDelay:6E4,shouldRetry:function(a){return!0!==a.fatal},errorSelector:function(c){a.i(p.d)(c)||(c=new p.e("NONE",c,!0));c.fatal=!0;return c},onRetry:function(a,c){d.a.warn("stream retry",a,c);P.next(a)}});return a.i(z.b)(ia,I,R,V).mergeMap(K).takeUntil(b)};var h=a(0);a.n(h);var l=a(7);
a.n(l);var g=a(82);a.n(g);b=a(6);var k=a.n(b);b=a(4);var f=a(9),d=a(1);a(2);var c=a(79),m=a(196),n=a(192),p=a(8),q=a(5),r=a(11),u=a(130),t=a(119),v=a(132),w=a(110),x=a(136),y=a(140),z=a(137),A=a(150),B=a(134),D=a(138),F=a(148),C=a(149),E=a(133),G=b.a.END_OF_PLAY,H=function(c){var d={};a.i(f.a)(["audio","video"],c)?d.cache=new n.a:"image"===c&&(d.maxRetry=0);return d}},function(b,e,a){e.a=function(b,e){if(e){var f=a.i(h.e)(b),d=f[0];f=f[1];if(null!=e.position)return Math.max(Math.min(e.position,f),
d);if(null!=e.wallClockTime)return Math.max(Math.min(b.isLive?e.wallClockTime-b.availabilityStartTime:e.wallClockTime,f),d);if(null!=e.fromFirstPosition)return b=e.fromFirstPosition,0>=b?d:Math.min(d+b,f);if(null!=e.fromLastPosition)return b=e.fromLastPosition,0<=b?f:Math.max(d,f+b);if(null!=e.percentage)return b=e.percentage,100<b?f:0>b?d:d+ +b/100*(f-d)}return b.isLive?(d=b.suggestedPresentationDelay,a.i(h.d)(b)-(null==d?l:d)):0};b=a(4);var h=a(30),l=b.a.DEFAULT_LIVE_GAP},function(b,e,a){a.d(e,
"b",function(){return d});a.d(e,"a",function(){return f});var h=a(0);a.n(h);var l=a(23),g=a(1),k=a(5),f=function(a,d){d=Infinity===d?Number.MAX_VALUE:d;a.duration!==d&&(a.duration=d,g.a.info("set duration",a.duration))},d=function(c,d,b,f){return h.Observable.create(function(e){function m(){if(h&&"closed"!=h.readyState){var c=h,b=c.readyState;c=c.sourceBuffers;for(var f=0;f<c.length;f++){var e=c[f];try{"open"==b&&e.abort(),h.removeSourceBuffer(e)}catch(B){g.a.warn("error while disposing souceBuffer",
B)}}}Object.keys(p).forEach(function(a){delete p[a]});Object.keys(q).forEach(function(a){var c=q[a];try{c.abort()}catch(F){g.a.warn("error while disposing souceBuffer",F)}delete q[a]});a.i(k.l)(d);if(n)try{URL.revokeObjectURL(n)}catch(B){g.a.warn("error while revoking ObjectURL",B)}n=h=null}var h=void 0,n=void 0,p=f.native,q=f.custom;m();if(b){if(!k.m)throw new l.a("MEDIA_SOURCE_NOT_SUPPORTED",null,!0);h=new k.m;n=URL.createObjectURL(h)}else h=null,n=c;d.src=n;e.next({url:c,mediaSource:h});g.a.info("create mediasource object",
n);return m})}},function(b,e,a){e.a=function(a,b,e,f,d){var c=void 0,g=void 0;return b.filter(function(b){var k=b.type;b=b.value;if("data"===k)return!0;if("error"===k)b.pipelineType=a,d.next(b);else if("manifest"!==a)if("metrics"===k)e.next({type:a,value:b});else if("request"===k){if(k=b&&b.segment,null!=k){b=k.duration/k.timescale;var m=k.time/k.timescale;g=k.id;k={duration:isNaN(b)?void 0:b,time:isNaN(m)?void 0:m,requestTimestamp:Date.now(),id:g};c=new h.Subject;f.next(c);c.next({type:a,event:"requestBegin",
value:k})}}else"progress"===k&&b.size!==b.totalSize&&(k={duration:b.duration,size:b.size,totalSize:b.totalSize,timestamp:Date.now(),id:g},c.next({type:a,event:"progress",value:k}))}).map(function(a){return a.value}).finally(function(){c&&(null!=g&&c.next({type:a,event:"requestEnd",value:{id:g}}),c.complete())}).share()};var h=a(7);a.n(h)},function(b,e,a){function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=
Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var g=a.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!==typeof g&&"function"!==typeof g?this:g}h(b,a);b.prototype._append=function(){this.buffered.insert(0,
Number.MAX_VALUE)};return b}(a(38).a);e.a=b},function(b,e,a){function h(a,c,d,b){b=b.native;b[c]||(f.a.info("add sourcebuffer",d),b[c]=a.addSourceBuffer(d));return b[c]}function l(a,b,g,e,l){var n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{};if(m(g))n=h(b,g,e,l);else{var p=l.custom,q=p[g];if(q)try{q.abort()}catch(x){f.a.warn(x)}finally{delete p[g]}if("text"===g)f.a.info("add text sourcebuffer",e),n="html"===n.textTrackMode?new d.a(e,a,n.textTrackElement):new d.b(e,a,n.hideNativeSubtitle);
else if("image"===g)f.a.info("add image sourcebuffer",e),n=new c.a(e);else throw f.a.error("unknown buffer type "+g),new k.a("BUFFER_TYPE_UNKNOWN",null,!0);p[g]=n}return n}function g(a,c,d,b){a=b.native;b=b.custom;var g=m(d);if(g){var e=a[d];delete a[d]}else e=b[d],delete b[d];if(e)try{e.abort(),g&&c.removeSourceBuffer(e)}catch(v){f.a.warn(v)}}a.d(e,"c",function(){return m});a.d(e,"d",function(){return h});a.d(e,"b",function(){return l});a.d(e,"a",function(){return g});var k=a(23),f=a(1),d=a(144),
c=a(139),m=function(a){return"audio"==a||"video"==a}},function(b,e,a){function h(a,b){for(var d=0;d<a.length;d++)if(b<a[d].end)return a.slice(0,d);return a.slice()}function l(a,b){for(var d=0;d<a.length;d++)if(b<a[d].end)return a.slice(d+1,a.length);return[]}function g(a,b,d){b={start:a.start,end:b,cues:h(a.cues,b)};a={start:d,end:a.end,cues:l(a.cues,d)};return[b,a]}a(2);b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._cuesBuffer=[]}
a.prototype.get=function(a){for(var d=this._cuesBuffer,c=d.length-1;0<=c;c--)for(var b=d[c].cues,f=b.length-1;0<=f;f--){var g=b[f];if(a>=g.start){if(a<g.end)return g;return}}};a.prototype.remove=function(a,d){var c=Math.max(a,d);d=this._cuesBuffer;for(var b=d.length;0<b;){var f=d[0];if(f.end>=c){c=g(f,a,c);b=c[1];this._cuesBuffer[0]=c[0];d.splice(1,0,b);break}else f.cues=h(f.cues,a),f.end=a;for(a=1;a<b;a++)if(f=d[0],c<f.end){d.splice(1,a-1);f.cues=l(f.cues,c);f.start=c;return}d.splice(1,d.length-
1);break}};a.prototype.insert=function(a,d,c){var b=this._cuesBuffer;a={start:d,end:c,cues:a};for(var f=0;f<b.length;f++){var e=b[f];if(d<e.end){if(.2>=Math.abs(d-e.start)){if(.2>=Math.abs(c-e.end)){b[f]=a;return}if(c<e.end){e.cues=l(e.cues,c);e.start=c;b.splice(f,0,a);return}do b.splice(f,1),e=b[f];while(e&&c>e.end);if(!e){b[f]=a;return}if(.2>=Math.abs(c-e.end)){b[f]=a;return}e.cues=l(e.cues,c);e.start=c;b.splice(f,0,a);return}if(d<e.start){if(c<e.start){b.splice(f,0,a);return}if(.2>=Math.abs(c-
e.start)){e.start=c;b.splice(f,0,a);return}e.cues=l(e.cues,c);e.start=c;b.splice(f,0,a);return}if(c>e.end||.2>=Math.abs(c-e.end)){e.cues=h(e.cues,d);e.end=d;b.splice(f+1,0,a);return}d=g(e,d,c);c=d[1];this._cuesBuffer[f]=d[0];b.splice(f+1,0,a);b.splice(f+2,0,c);return}}b.push(a)};return a}();e.a=b},function(b,e,a){function h(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?a:c}function l(a,c){if("function"!==
typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function g(c){var b=a.i(m.m)(c),f=a.i(m.n)(c);c=a.i(m.o)(c);f=d.Observable.merge(f,c);c=d.Observable.interval(r).startWith(null);return f.startWith(null).switchMapTo(c.mapTo(!0).takeUntil(b).concat(d.Observable.of(!1)))}
function k(a,c){if(c)try{a.removeChild(c)}catch(v){}}Object.defineProperty(e,"__esModule",{value:!0});var f=a(7);a.n(f);var d=a(0);a.n(d);b=a(4);var c=a(1),m=a(11),n=a(38),p=a(141),q=a(143),r=b.a.MAXIMUM_HTML_TEXT_TRACK_UPDATE_INTERVAL;b=function(d){function b(a,c,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var m=h(this,d.call(this,a));m._videoElement=c;m._textTrackElement=e;m._destroy$=new f.Subject;m._buffer=new p.a;m._currentElement=null;m._track=null;g(m._videoElement).takeUntil(m._destroy$).subscribe(function(a){a?
(a=m._buffer.get(Math.max(m._videoElement.currentTime-r/3E3,0)),a)?m._currentElement!==a.element&&(k(e,m._currentElement),m._currentElement=a.element,e.appendChild(m._currentElement)):(k(e,m._currentElement),m._currentElement=null):(k(e,m._currentElement),m._currentElement=null)});return m}l(b,d);b.prototype._append=function(d){var b=d.timescale,f=d.start,g=d.end,e=d.data,k=d.type,m=d.language;d=d.timeOffset;0>=g-f?c.a.warn("Invalid text track appended: the start time is inferior or equal to the end time."):
(f/=b,b=null!=g?g/b:void 0,e=a.i(q.a)(k,e,d,m),k=null!=b?b:e[e.length-1].end,this._buffer.insert(e,f,k),this.buffered.insert(f,k))};b.prototype._remove=function(a,c){this._buffer.remove(a,c)};b.prototype._abort=function(){this._destroy$.next();this._destroy$.complete();k(this._textTrackElement,this._currentElement)};return b}(n.a);e["default"]=b},function(b,e,a){e.a=function(a,b,e,f){a=h[a];if(!a)throw Error("no parser found for the given text track");return a(b,e,f)};var h={};h.sami=a(178).default;
h.ttml=a(184).default;h.srt=a(180).default;h.vtt=a(188).default},function(b,e,a){a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});var h=a(142).default,l=a(145).default},function(b,e,a){function h(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):
a.__proto__=d)}Object.defineProperty(e,"__esModule",{value:!0});var l=a(1),g=a(5);b=a(38);var k=a(146);b=function(b){function d(c,f,e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");c=b.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;var k=a.i(g.o)(f,e);e=k.track;k=k.trackElement;c._videoElement=f;c._track=e;c._trackElement=k;return c}h(d,b);d.prototype._append=
function(c){var d=this,b=c.timescale,f=c.start,g=c.end,e=c.data,h=c.type,t=c.language;c=c.timeOffset;0>=g-f?l.a.warn("Invalid subtitles appended"):(f/=b,b=null!=g?g/b:void 0,e=a.i(k.a)(h,e,c,t),0<e.length?(h=e[0],t=this._track.cues,0<t.length&&h.startTime<t[t.length-1].startTime&&this._remove(h.startTime,Infinity),e.forEach(function(a){return d._track.addCue(a)}),this.buffered.insert(f,null!=b?b:e[e.length-1].endTime)):null!=b&&this.buffered.insert(f,b))};d.prototype._remove=function(a,d){for(var c=
this._track,b=c.cues,f=b.length-1;0<=f;f--){var g=b[f],e=g.startTime,k=g.endTime;e>=a&&e<=d&&k<=d&&c.removeCue(g)}this.buffered.remove(a,d)};d.prototype._abort=function(){var a=this._trackElement,d=this._videoElement;if(a&&d&&d.hasChildNodes())try{d.removeChild(a)}catch(n){}this._track&&(this._track.mode="disabled",this._track=null);this._trackElement&&(this._trackElement.innerHTML="",this._trackElement=null)};return d}(b.a);e["default"]=b},function(b,e,a){e.a=function(a,b,e,f){a=h[a];if(!a)throw Error("no parser found for the given text track");
return a(b,e,f)};var h={};h.vtt=a(189).default;h.ttml=a(186).default;h.sami=a(179).default;h.srt=a(181).default},function(b,e,a){a(2);var h=a(12);b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._ranges=[];this.length=0}b.prototype.insert=function(b,e){a.i(h.e)(this._ranges,{start:b,end:e});this.length=this._ranges.length};b.prototype.remove=function(b,e){var f=[];0<b&&f.push({start:0,end:b});Infinity>e&&f.push({start:e,end:Infinity});
a.i(h.f)(this._ranges,f);this.length=this._ranges.length};b.prototype.start=function(a){if(a>=this._ranges.length)throw Error("INDEX_SIZE_ERROR");return this._ranges[a].start};b.prototype.end=function(a){if(a>=this._ranges.length)throw Error("INDEX_SIZE_ERROR");return this._ranges[a].end};return b}();e.a=b},function(b,e,a){var h=a(0);a.n(h);var l=a(1);e.a=function(a,b,f,d){d=d.pauseWhenStalled;var c=void 0;c=void 0===d||d?f.pairwise().map(function(a){var c=a[1].stalled;a=a[0].stalled;if(!a!==!c||
a&&c&&a.state!==c.state)return!a}).filter(function(a){return null!=a}).startWith(!1):h.Observable.of(!1).concat(h.Observable.never());return c.switchMap(function(c){return c?h.Observable.defer(function(){l.a.info("pause playback to build buffer");a.playbackRate=0;return h.Observable.of(0)}):b.do(function(c){l.a.info("resume playback speed",c);a.playbackRate=c})})}},function(b,e,a){b=a(4);var h=a(1),l=a(12),g=a(5),k=b.a.DISCONTINUITY_THRESHOLD;e.a=function(b,d,c){return c.do(function(c){if(c.stalled){var d=
c.buffered,f=c.currentTime;d=a.i(l.d)(d,f);a.i(g.n)(c.currentTime,c.currentRange,c.state,!!c.stalled)?(h.a.warn("after freeze seek",f,c.range),b.currentTime=f):d<k&&(c=f+d+1/60,h.a.warn("discontinuity seek",f,d,c),b.currentTime=c)}}).share().map(function(a){return a.stalled}).distinctUntilChanged(function(a,c){return!a&&!c||!!a&&!!c&&a.state===c.state})}},function(b,e,a){function h(a){return a.filter(function(a){return"seeking"==a.state&&(Infinity===a.bufferGap||-2>a.bufferGap)}).skip(1).startWith(!0)}
b=a(6);var l=a.n(b),g=a(30);e.a=function(b,f){f=f.map(function(c){var d=l()({},c);d.liveGap=b.isLive?a.i(g.d)(b)-c.currentTime:Infinity;return d});var d=h(f);return{timings:f,seekings:d}}},function(b,e,a){function h(b,f,d){this.name="IndexError";this.type=l.a.INDEX_ERROR;this.indexType=f;this.reason=null;this.code=l.b[b];this.fatal=d;this.message=a.i(g.a)(this.name,this.code,null)}var l=a(18),g=a(24);h.prototype=Error();e.a=h},function(b,e,a){function h(b,f,d){this.name="NetworkError";this.type=l.a.NETWORK_ERROR;
this.xhr=f.xhr;this.url=f.url;this.status=f.status;this.reqType=f.type;this.reason=f;this.code=l.b[b];this.fatal=d;this.reason?this.message=a.i(g.a)(this.name,this.code,this.reason):(b=""+this.reqType+(0<this.status?"("+this.status+")":"")+" on "+this.url,this.message=a.i(g.a)(this.name,this.code,{message:b}))}var l=a(18),g=a(24);h.prototype=Error();h.prototype.isHttpError=function(a){return this.reqType==l.c.ERROR_HTTP_CODE&&this.status==a};e.a=h},function(b,e,a){function h(b,f,d){this.name="OtherError";
this.type=l.a.OTHER_ERROR;this.reason=f;this.code=l.b[b];this.fatal=d;this.message=a.i(g.a)(this.name,this.code,this.reason)}var l=a(18),g=a(24);h.prototype=Error();e.a=h},function(b,e,a){function h(a,b,e){this.name="RequestError";this.url=b;this.xhr=a;this.status=a.status;this.message=this.type=e}h.prototype=Error();e.a=h},function(b,e,a){b.exports=a(102).default},function(b,e,a){b=a(6);var h=a.n(b);b=a(17);var l=a.n(b),g=a(163),k=a(47);b=function(){function b(){var d=this,c=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var f=a.i(k.a)();this.id=null==c.id?f:""+c.id;this.type=c.type||"";this.representations=Array.isArray(c.representations)?c.representations.map(function(a){return new g.a(h()({rootId:d.id},a))}).sort(function(a,c){return a.bitrate-c.bitrate}):[];null!=c.language&&(this.language=c.language);null!=c.normalizedLanguage&&(this.normalizedLanguage=c.normalizedLanguage);null!=c.closedCaption&&
(this.isClosedCaption=c.closedCaption);null!=c.audioDescription&&(this.isAudioDescription=c.audioDescription);null!=c.contentProtection&&(this.contentProtection=c.contentProtection);null!=c.smoothProtection&&(this._smoothProtection=c.smoothProtection);this.manual=c.manual}b.prototype.getAvailableBitrates=function(){return this.representations.map(function(a){return a.bitrate})};b.prototype.getRepresentation=function(a){return l()(this.representations,function(c){return a===c.id})};b.prototype.getRepresentationsForBitrate=
function(a){return this.representations.filter(function(c){return c.bitrate===a})||null};return b}();e.a=b},function(b,e,a){b=a(17);var h=a.n(b),l=a(156),g=a(47);b=function(){function b(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d=a.i(g.a)();this.id=null==f.id?d:""+f.id;this.transport=f.transportType||"";this.adaptations=f.adaptations?Object.keys(f.adaptations).reduce(function(a,b){a[b]=f.adaptations[b].map(function(a){return new l.a(a)});
return a},{}):[];this.periods=[{adaptations:this.adaptations}];this.isLive="dynamic"===f.type;this.uris=f.locations||[];this._duration=f.duration;this.suggestedPresentationDelay=f.suggestedPresentationDelay;this.availabilityStartTime=f.availabilityStartTime;this.presentationLiveGap=f.presentationLiveGap;this.timeShiftBufferDepth=f.timeShiftBufferDepth}b.prototype.getDuration=function(){return this._duration};b.prototype.getUrl=function(){return this.uris[0]};b.prototype.getAdaptations=function(){var a=
this.adaptations;if(!a)return[];var b=[],c;for(c in a)b.push.apply(b,a[c]);return b};b.prototype.getAdaptation=function(a){return h()(this.getAdaptations(),function(b){return a===b.id})};b.prototype.updateLiveGap=function(a){this.isLive&&(this.presentationLiveGap+=a)};return b}();e.a=b},function(b,e,a){Object.defineProperty(e,"__esModule",{value:!0});b=a(6);b=a.n(b);var h=a(40);a=a(25);e["default"]=b()({},h["default"],{getInitSegment:a.a,setTimescale:a.b,scale:a.c,_addSegmentInfos:function(a,b){if(b.timescale!==
a.timescale){var g=a.timescale;a.timeline.push({ts:b.time/b.timescale*g,d:b.duration/b.timescale*g,r:b.count,range:b.range})}else a.timeline.push({ts:b.time,d:b.duration,r:b.count,range:b.range});return!0},shouldRefresh:function(){return!1}})},function(b,e,a){var h={};h.smooth=a(161).default;h.timeline=a(40).default;h.template=a(162).default;h.list=a(160).default;h.base=a(158).default;e.a=function(a){return h[a.indexType]}},function(b,e,a){Object.defineProperty(e,"__esModule",{value:!0});var h=a(29),
l=a(25);e["default"]={getInitSegment:l.a,setTimescale:l.b,scale:l.c,getSegments:function(b,e,f,d){var c=a.i(l.d)(e,f,d);f=e.duration;d=e.list;e=e.timescale;var g=Math.min(d.length-1,Math.floor(c.to/f)),k=[];for(c=Math.floor(c.up/f);c<=g;)k.push(new h.a({id:""+b+"_"+c,time:c*f,init:!1,range:d[c].range,duration:f,indexRange:null,timescale:e,media:d[c].media})),c++;return k},getFirstPosition:function(){return 0},getLastPosition:function(a){return a.list.length*a.duration/a.timescale},shouldRefresh:function(a,
b,f,d){b=a.list;f=a.presentationTimeOffset;a=Math.floor((d*a.timescale-(void 0===f?0:f))/a.duration);return!(0<=a&&a<b.length)},_addSegmentInfos:function(){return!1},checkDiscontinuity:function(){return-1}}},function(b,e,a){Object.defineProperty(e,"__esModule",{value:!0});b=a(40);var h=a(25);e["default"]={getSegments:b["default"].getSegments,getInitSegment:h.a,checkDiscontinuity:b["default"].checkDiscontinuity,_addSegmentInfos:b["default"]._addSegmentInfos,setTimescale:h.b,scale:h.c,shouldRefresh:function(b,
g,e,f){var d=b.timeline;e=b.timescale;b=b.presentationTimeOffset;b=void 0===b?0:b;g=g*e-b;d=d[d.length-1];if(!d)return!1;0>d.d&&(d={ts:d.ts,d:0,r:d.r});d=a.i(h.e)(d);return 1>=(d-g)/e&&f*e-b>d},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(b){if(b.timeline.length){var g=b.timeline[b.timeline.length-1];return a.i(h.e)(g)/b.timescale}}}},function(b,e,a){Object.defineProperty(e,"__esModule",{value:!0});var h=a(29),l=a(25);e["default"]=
{getInitSegment:l.a,setTimescale:l.b,scale:l.c,getSegments:function(b,e,f,d){var c=a.i(l.d)(e,f,d);f=c.to;d=e.duration;var g=e.startNumber,k=e.timescale;e=e.media;var p=[];for(c=c.up;c<=f;c+=d){var q=Math.floor(c/d)+(null==g?1:g);p.push(new h.a({id:""+b+"_"+q,number:q,time:q*d,init:!1,duration:d,range:null,indexRange:null,timescale:k,media:e}))}return p},getFirstPosition:function(){},getLastPosition:function(){},shouldRefresh:function(){return!1},checkDiscontinuity:function(){return-1},_addSegmentInfos:function(){return!1}}},
function(b,e,a){var h=a(47),l=a(164);e.a=function k(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");var d=a.i(h.a)();this.id=null==b.id?d:b.id;this.bitrate=b.bitrate;this.codec=b.codecs;null!=b.height&&(this.height=b.height);null!=b.width&&(this.width=b.width);null!=b.mimeType&&(this.mimeType=b.mimeType);this.index=new l.a({index:b.index,rootId:this.id});this.baseURL=b.baseURL;null!=b.codecPrivateData&&
(this._codecPrivateData=b.codecPrivateData);null!=b.channels&&(this._channels=b.channels);null!=b.bitsPerSample&&(this._bitsPerSample=b.bitsPerSample);null!=b.packetSize&&(this._packetSize=b.packetSize);null!=b.samplingRate&&(this._samplingRate=b.samplingRate)}},function(b,e,a){var h=a(159);b=function(){function b(g){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._index=g.index;this._rootId=g.rootId;this._indexHelpers=a.i(h.a)(this._index)}b.prototype.getInitSegment=
function(){return this._indexHelpers.getInitSegment(this._rootId,this._index)};b.prototype.getSegments=function(a,b){return this._indexHelpers.getSegments(this._rootId,this._index,a,b)};b.prototype.shouldRefresh=function(a,b,f){return this._indexHelpers.shouldRefresh(this._index,a,b,f)};b.prototype.getFirstPosition=function(){return this._indexHelpers.getFirstPosition(this._index)};b.prototype.getLastPosition=function(){return this._indexHelpers.getLastPosition(this._index)};b.prototype.checkDiscontinuity=
function(a){return this._indexHelpers.checkDiscontinuity(this._index,a)};b.prototype.scale=function(a){return this._indexHelpers.scale(this._index,a)};b.prototype.setTimescale=function(a){return this._indexHelpers.setTimescale(this._index,a)};b.prototype._addSegments=function(a,b){for(var f=[],d=0;d<a.length;d++)this._indexHelpers._addSegmentInfos(this._index,a[d],b)&&f.push(a[d]);return f};b.prototype.update=function(a){this._index=a._index};b.prototype.getType=function(){return this._index.indexType||
""};return b}();e.a=b},function(b,e,a){Object.defineProperty(e,"__esModule",{value:!0});var h=a(0);a.n(h);var l=a(19),g=a(31),k=a(73),f=a(168),d=a(69),c=a(41),m=a(42),n=a(170),p=a(171);e["default"]=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=a.i(n.a)(b.segmentLoader),u=b.contentProtectionParser;u||(u=function(){});b={loader:function(a){return e({segment:a.segment,representation:a.representation,adaptation:a.adaptation,manifest:a.manifest})},parser:function(c){var b=
c.segment,f=c.adaptation,e=c.init;c=new Uint8Array(c.response.responseData);var k=void 0,m=c,l=b.indexRange;(l=a.i(g.a)(c,l?l[0]:0))&&(k=l);b.isInit?(b={time:-1,duration:0},e=a.i(g.b)(c),0<e&&(b.timescale=e),f.contentProtection&&(m=a.i(g.c)(c,f.contentProtection))):b=a.i(d.a)(b,c,l,e);return h.Observable.of({segmentData:m,segmentInfos:b,nextSegments:k})}};return{directFile:!1,manifest:{loader:function(b){b=b.url;return a.i(c.a)({url:b,responseType:"document"})},parser:function(c){c=c.response;var b=
c.responseData;return h.Observable.of({manifest:a.i(f.a)(b,u),url:c.url})}},audio:b,video:b,text:{loader:p.a,parser:p.b},image:{loader:function(b){var d=b.segment;b=b.representation;if(d.isInit)return h.Observable.empty();var f=d.media;d=f?a.i(m.a)(f,d,b):"";d=a.i(l.b)(b.baseURL,d);return a.i(c.a)({url:d,responseType:"arraybuffer"})},parser:function(c){var b=new Uint8Array(c.response.responseData);c={time:0,duration:Number.MAX_VALUE};var d=void 0;b&&(b=a.i(k.a)(b),d=b.thumbs,c.timescale=b.timescale);
return h.Observable.of({segmentData:d,segmentInfos:c})}}}}},function(b,e,a){b=a(4);var h=a(2),l=a(33),g=a(70),k=[{k:"profiles",fn:g.g},{k:"width",fn:parseInt},{k:"height",fn:parseInt},{k:"frameRate",fn:g.h},{k:"audioSamplingRate",fn:g.g},{k:"mimeType",fn:g.g},{k:"segmentProfiles",fn:g.g},{k:"codecs",fn:g.g},{k:"maximumSAPPeriod",fn:parseFloat},{k:"maxPlayoutRate",fn:parseFloat},{k:"codingDependency",fn:g.i}],f=[{k:"timescale",fn:parseInt,def:1},{k:"timeShiftBufferDepth",fn:g.j},{k:"presentationTimeOffset",
fn:parseFloat,def:0},{k:"indexRange",fn:g.f},{k:"indexRangeExact",fn:g.i,def:!1},{k:"availabilityTimeOffset",fn:parseFloat},{k:"availabilityTimeComplete",fn:g.i,def:!0}],d=f.concat([{k:"duration",fn:parseInt},{k:"startNumber",fn:parseInt}]),c={ContentProtection:[{k:"schemeIdUri",fn:g.g},{k:"value",fn:g.g}],SegmentURL:[{k:"media",fn:g.g},{k:"mediaRange",fn:g.f},{k:"index",fn:g.g},{k:"indexRange",fn:g.f}],S:[{k:"t",fn:parseInt,n:"ts"},{k:"d",fn:parseInt},{k:"r",fn:parseInt}],SegmentTimeline:[],SegmentBase:f,
SegmentTemplate:d.concat([{k:"initialization",fn:function(a){return{media:a,range:void 0}}},{k:"index",fn:g.g},{k:"media",fn:g.g},{k:"bitstreamSwitching",fn:g.g}]),SegmentList:d,ContentComponent:[{k:"id",fn:g.g},{k:"lang",fn:g.g,n:"language"},{k:"lang",fn:l.a,n:"normalizedLanguage"},{k:"contentType",fn:g.g},{k:"par",fn:g.k}],Representation:k.concat([{k:"id",fn:g.g},{k:"bandwidth",fn:parseInt,n:"bitrate"},{k:"qualityRanking",fn:parseInt}]),AdaptationSet:k.concat([{k:"id",fn:g.g},{k:"group",fn:parseInt},
{k:"lang",fn:g.g,n:"language"},{k:"lang",fn:l.a,n:"normalizedLanguage"},{k:"contentType",fn:g.g},{k:"par",fn:g.k},{k:"minBandwidth",fn:parseInt,n:"minBitrate"},{k:"maxBandwidth",fn:parseInt,n:"maxBitrate"},{k:"minWidth",fn:parseInt},{k:"maxWidth",fn:parseInt},{k:"minHeight",fn:parseInt},{k:"maxHeight",fn:parseInt},{k:"minFrameRate",fn:g.h},{k:"maxFrameRate",fn:g.h},{k:"segmentAlignment",fn:g.l},{k:"subsegmentAlignment",fn:g.l},{k:"bitstreamSwitching",fn:g.i}]),Period:[{k:"id",fn:g.g},{k:"start",fn:g.j},
{k:"duration",fn:g.j},{k:"bitstreamSwitching",fn:g.i}],MPD:[{k:"id",fn:g.g},{k:"profiles",fn:g.g},{k:"type",fn:g.g,def:"static"},{k:"availabilityStartTime",fn:g.m},{k:"availabilityEndTime",fn:g.m},{k:"publishTime",fn:g.m},{k:"mediaPresentationDuration",fn:g.j,n:"duration"},{k:"minimumUpdatePeriod",fn:g.j},{k:"minBufferTime",fn:g.j},{k:"timeShiftBufferDepth",fn:g.j},{k:"suggestedPresentationDelay",fn:g.j,def:b.a.DEFAULT_SUGGESTED_PRESENTATION_DELAY.DASH},{k:"maxSegmentDuration",fn:g.j},{k:"maxSubsegmentDuration",
fn:g.j}],Role:[{k:"schemeIdUri",fn:g.g},{k:"value",fn:g.g}],Accessibility:[{k:"schemeIdUri",fn:g.g},{k:"value",fn:parseInt}]};e.a=function(b,d){var f=c[b.nodeName];a.i(h.a)(f,"no attributes for "+b.nodeName);d=d||{};for(var g=0;g<f.length;g++){var e=f[g],k=e.k,m=e.fn,l=e.n;e=e.def;b.hasAttribute(k)?d[l||k]=m(b.getAttribute(k)):null!=e&&(d[l||k]=e)}return d}},function(b,e,a){a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});a.d(e,"c",function(){return g});a.d(e,"d",function(){return k});
b=function(a){return function(b){return a.reduce(function(a,d){b.hasOwnProperty(d)&&(a[d]=b[d]);return a},{})}};var h=b("availabilityStartTime baseURL duration id locations periods presentationLiveGap suggestedPresentationDelay timeShiftBufferDepth transportType type".split(" ")),l=b(["adaptations","baseURL","duration","id","start"]),g=b("contentProtection accessibility baseURL contentProtection id language normalizedLanguage representations type".split(" ")),k=b("bitrate baseURL codecs height id index mimeType width".split(" "))},
function(b,e,a){function h(a,b){return"string"==typeof a?h.parseFromString(a,b):h.parseFromDocument(a,b)}var l=a(2),g=a(169);h.parseFromString=function(a,b){return h.parseFromDocument((new DOMParser).parseFromString(a,"application/xml"),b)};h.parseFromDocument=function(b,f){b=b.documentElement;l.a.equal(b.nodeName,"MPD","document root should be MPD");return a.i(g.a)(b,f)};e.a=h},function(b,e,a){function h(c,b){var d=a.i(p.a)(c,function(a,c,d){switch(c){case "BaseURL":a.baseURL=d.textContent;break;
case "Location":a.locations.push(d.textContent);break;case "Period":a.periods.push(l(d,b))}return a},{transportType:"dash",periods:[],locations:[]});c=a.i(r.a)(c,d);/dynamic/.test(c.type)&&(d=c.periods[0].adaptations.filter(function(a){return"video"==a.type})[0],d=a.i(p.b)(d),c.availabilityStartTime=c.availabilityStartTime.getTime()/1E3,c.presentationLiveGap=null!=d?Date.now()/1E3-(d+c.availabilityStartTime):10);return a.i(q.a)(c)}function l(c,b){c=a.i(r.a)(c,a.i(p.a)(c,function(a,c,d){switch(c){case "BaseURL":a.baseURL=
d.textContent;break;case "AdaptationSet":c=g(d,b),null==c.id&&(c.id=a.adaptations.length),a.adaptations.push(c)}return a},{adaptations:[]}));return a.i(q.b)(c)}function g(b,g){var e=void 0,h=a.i(p.a)(b,function(b,h,m){switch(h){case "Accessibility":e=a.i(r.a)(m);break;case "BaseURL":b.baseURL=m.textContent;break;case "ContentComponent":h=a.i(r.a)(m);b.contentComponent=h;break;case "ContentProtection":h=g(a.i(r.a)(m),m);b.contentProtection=h;break;case "Representation":h=k(m);null==h.id&&(h.id=b.representations.length);
b.representations.push(h);break;case "Role":h=a.i(r.a)(m);b.role=h;break;case "SegmentBase":b.index=c(m);break;case "SegmentList":b.index=d(m);break;case "SegmentTemplate":b.index=f(m)}return b},{representations:[]}),m=a.i(r.a)(b,h);m.type=a.i(p.c)(m);m.accessibility=[];a.i(p.d)(e)&&m.accessibility.push("hardOfHearing");a.i(p.e)(e)&&m.accessibility.push("visuallyImpaired");m.representations=m.representations.map(function(a){u.forEach(function(c){!a.hasOwnProperty(c)&&m.hasOwnProperty(c)&&(a[c]=m[c])});
return a});return a.i(q.c)(m)}function k(b){var g=a.i(p.a)(b,function(a,b,g){switch(b){case "BaseURL":a.baseURL=g.textContent;break;case "SegmentBase":a.index=c(g);break;case "SegmentList":a.index=d(g);break;case "SegmentTemplate":a.index=f(g)}return a},{});b=a.i(r.a)(b,g);return a.i(q.d)(b)}function f(a){a=m(a);a.indexType||(a.indexType="template");return a}function d(c){var b=m(c);b.list=[];b.indexType="list";return a.i(p.a)(c,function(c,b,d){"SegmentURL"==b&&c.list.push(a.i(r.a)(d));return c},
b)}function c(c){var b=a.i(p.a)(c,function(c,b,d){if("Initialization"==b){var f=b=void 0;d.hasAttribute("range")&&(b=a.i(p.f)(d.getAttribute("range")));d.hasAttribute("sourceURL")&&(f=d.getAttribute("sourceURL"));c.initialization={range:b,media:f}}return c},a.i(r.a)(c));"SegmentBase"==c.nodeName&&(b.indexType="base",b.timeline=[]);return b}function m(b){return a.i(p.a)(b,function(a,c,b){"SegmentTimeline"==c&&(a.indexType="timeline",a.timeline=n(b));return a},c(b))}function n(c){return a.i(p.a)(c,
function(c,b,d){b=c.length;d=a.i(r.a)(d);null==d.ts&&(b=0<b&&c[b-1],d.ts=b?b.ts+b.d*(b.r+1):0);null==d.r&&(d.r=0);c.push(d);return c},[])}a.d(e,"a",function(){return h});a(1);a(2);var p=a(70),q=a(167),r=a(166),u=["codecs","height","index","mimeType","width"]},function(b,e,a){function h(b){var c=b.url;b=b.segment;var d=b.range;b=b.indexRange;if(d&&b&&d[1]===b[0]-1)return a.i(k.a)({url:c,responseType:"arraybuffer",headers:{Range:a.i(f.c)([d[0],b[1]])}});d=d?{Range:a.i(f.c)(d)}:null;d=a.i(k.a)({url:c,
responseType:"arraybuffer",headers:d});return b?(c=a.i(k.a)({url:c,responseType:"arraybuffer",headers:{Range:a.i(f.c)(b)}}),l.Observable.merge(d,c)):d}var l=a(0);a.n(l);var g=a(19),k=a(41),f=a(42);e.a=function(b){return function(c){var d=c.segment,e=c.adaptation,k=c.representation;c=c.manifest;var q=d.media,r=d.range,u=d.indexRange;if(d.isInit&&!(q||r||u))return l.Observable.empty();q=q?a.i(f.a)(q,d,k):"";q=a.i(g.b)(k.baseURL,q);var t={adaptation:e,representation:k,manifest:c,segment:d,transport:"dash",
url:q};return b?l.Observable.create(function(a){var c=!1,d=!1,f=b(t,{reject:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(c=!0,a.error(b))},resolve:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(c=!0,a.next({responseData:b.data,size:b.size||0,duration:b.duration||0}),a.complete())},fallback:function(){d=!0;h(t).subscribe(a)}});return function(){c||d||"function"!==typeof f||f()}}):h(t)}}},function(b,e,a){function h(c){var b=c.segment,
d=c.representation,e=b.media,k=b.range;c=b.indexRange;var h=b.isInit,l=a.i(p.b)(d)?"arraybuffer":"text";if(h&&!(e||k||c))return g.Observable.empty();b=e?a.i(p.a)(e,b,d):"";b=a.i(f.b)(d.baseURL,b);if(k&&c&&k[1]===c[0]-1)return a.i(m.a)({url:b,responseType:l,headers:{Range:a.i(p.c)([k[0],c[1]])}});k=a.i(m.a)({url:b,responseType:l,headers:k?{Range:a.i(p.c)(k)}:null});return c?(c=a.i(m.a)({url:b,responseType:l,headers:{Range:a.i(p.c)(c)}}),g.Observable.merge(k,c)):k}function l(b){var f=b.response,e=b.segment,
h=b.representation,m=b.manifest,l=b.init,q=b.adaptation.language,y=e.isInit,z=e.indexRange,A=b=void 0,B=a.i(p.b)(h);B?(f=new Uint8Array(f.responseData),(z=a.i(c.a)(f,z?z[0]:0))&&(b=z),y||(A=a.i(n.a)(e,f,z,l))):(f=f.responseData,A={time:e.time,duration:e.duration,timescale:e.timescale});if(y)A={time:-1,duration:0},B&&(f=a.i(c.b)(f),0<f&&(A.timescale=f)),f={start:0,end:0,timescale:A.timescale||0,data:[],timeOffset:m.availabilityStartTime||0};else if(m={start:A.time,end:A.time+A.duration,language:q,
timescale:A.timescale,timeOffset:m.availabilityStartTime||0},B){h=h.codec;e=void 0;switch((void 0===h?"":h).toLowerCase()){case "stpp":e="ttml";break;case "wvtt":e="vtt"}if(!e)throw Error("The codec used for the subtitle is not managed yet.");f=k()({data:a.i(d.a)(a.i(c.d)(f)),type:e},m)}else{e=void 0;l=h.mimeType.mimeType;l=void 0===l?"":l;switch(h.mimeType){case "application/ttml+xml":e="ttml";break;case "application/x-sami":case "application/smil":e="sami";break;case "text/vtt":e="vtt"}if(!e)if(h=
h.codec,"srt"===(void 0===h?"":h).toLowerCase())e="srt";else throw Error("could not find a text-track parser for the type "+l);f=k()({data:f,type:e},m)}return g.Observable.of({segmentData:f,segmentInfos:A,nextSegments:b})}a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});var g=a(0);a.n(g);b=a(6);var k=a.n(b),f=a(19),d=a(80),c=a(31),m=a(41),n=a(69),p=a(42)},function(b,e,a){Object.defineProperty(e,"__esModule",{value:!0});var h=a(0);a.n(h);var l={loader:function(a){return h.Observable.of({url:a.url})},
parser:function(a){a=a.url;return h.Observable.of({manifest:{transportType:"directfile",locations:[a],periods:[],isLive:!1,duration:Infinity,adaptations:null},url:a})}};e["default"]=function(){return{directFile:!0,manifest:l}}},function(b,e,a){b={};b.smooth=a(174).default;b.dash=a(165).default;b.directfile=a(172).default;e.a=b},function(b,e,a){Object.defineProperty(e,"__esModule",{value:!0});var h=a(0);a.n(h);var l=a(19),g=a(80),k=a(48),f=a(176),d=a(73);b=a(43);var c=a(71),m=a(72),n=a(175),p=a(177),
q=b.a.patchSegment,r=b.a.getMdat,u=/\.wsx?(\?token=\S+)?/;e["default"]=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=a.i(f.a)(b),w=a.i(p.a)(b.segmentLoader);b={loader:function(a){return w({segment:a.segment,representation:a.representation,adaptation:a.adaptation,manifest:a.manifest})},parser:function(c){var b=c.segment,d=c.manifest;c=c.response.responseData;if(b.isInit)return h.Observable.of({segmentData:c,segmentInfos:{timescale:b.timescale,time:-1,duration:0}});c=
new Uint8Array(c);d=a.i(n.a)(c,b,d.isLive);b=d.nextSegments;d=d.segmentInfos;c=q(c,d.time);return h.Observable.of({segmentData:c,segmentInfos:d,nextSegments:b})}};return{directFile:!1,manifest:{resolver:function(c){c=c.url;var b=void 0,d=a.i(m.a)(c);b=u.test(c)?a.i(k.a)({url:a.i(m.b)(c,""),responseType:"document",ignoreProgressEvents:!0}).map(function(a){return a.value}).map(m.c):h.Observable.of(c);return b.map(function(c){return{url:a.i(m.b)(a.i(m.d)(c),d)}})},loader:function(b){b=b.url;return a.i(c.a)({url:b,
responseType:"document"})},parser:function(a){a=a.response;var c=e(a.responseData);return h.Observable.of({manifest:c,url:a.url})}},audio:b,video:b,text:{loader:function(b){var d=b.segment,f=b.representation;if(d.isInit)return h.Observable.empty();b=f.mimeType;var e=a.i(l.b)(f.baseURL);d=a.i(m.e)(e,f,d);return a.i(c.a)({url:d,responseType:0<=b.indexOf("mp4")?"arraybuffer":"text"})},parser:function(c){var b=c.segment,d=c.representation,f=c.manifest,e=d.mimeType;e=void 0===e?"":e;d=d.codec;var k=void 0===
d?"":d;d=c.response.responseData;var m=void 0,l=void 0;c={language:c.adaptation.language};var p=0<=e.indexOf("mp4");p?(d=new Uint8Array(d),b=a.i(n.a)(d,b,f.isLive),m=b.nextSegments,l=b.segmentInfos||{},c.start=l.time,c.end=null!=l.duration?l.time+l.duration:void 0,c.timescale=l.timescale):(c.start=b.time,c.end=null!=b.duration?b.time+b.duration:void 0,c.timescale=b.timescale);c.timeOffset=c.start/c.timescale;if(p){b=k.toLowerCase();if("application/ttml+xml+mp4"===e||"stpp"===b)c.type="ttml";else if("wvtt"===
b)c.type="vtt";else throw Error("could not find a text-track parser for the type "+e);c.data=a.i(g.a)(r(d))}else{switch(e){case "application/x-sami":case "application/smil":c.type="sami";break;case "application/ttml+xml":c.type="ttml";break;case "text/vtt":c.type="vtt"}if(!c.type)if("srt"===k.toLowerCase())c.type="srt";else throw Error("could not find a text-track parser for the type "+e);c.data=d}return h.Observable.of({segmentData:c,segmentInfos:l,nextSegments:m})}},image:{loader:function(b){var d=
b.segment;b=b.representation;if(d.isInit)return h.Observable.empty();var f=a.i(l.b)(b.baseURL);d=a.i(m.e)(f,b,d);return a.i(c.a)({url:d,responseType:"arraybuffer"})},parser:function(c){var b=new Uint8Array(c.response.responseData);c={time:0,duration:Number.MAX_VALUE};var f=void 0;b&&(b=a.i(d.a)(b),f=b.thumbs,c.timescale=b.timescale);return h.Observable.of({segmentData:f,segmentInfos:c})}}}}},function(b,e,a){var h=a(1),l=a(31);b=a(43);var g=b.a.getTraf,k=b.a.parseTfrf,f=b.a.parseTfxd;e.a=function(b,
c,e){var d=void 0,m=void 0;e?(e=g(b))?(d=k(e),m=f(e)):h.a.warn("smooth: could not find traf atom"):d=null;m||(m=Math.min(.9*c.timescale,c.duration/4),b=a.i(l.f)(b),m=0<=b&&Math.abs(b-c.duration)<=m?{time:c.time,duration:b}:{time:c.time,duration:c.duration});if(d)for(b=d.length-1;0<=b;b--)d[b].timescale=c.timescale;m&&(m.timescale=c.timescale);return{nextSegments:d,segmentInfos:m}}},function(b,e,a){function h(a){return"boolean"==typeof a?a:"string"==typeof a?"TRUE"===a.toUpperCase():!1}function l(a){if(!a)return Infinity;
a=a.index;var c=a.timeline[a.timeline.length-1];return(c.ts+(c.r+1)*c.d)/a.timescale}function g(c){return[{systemId:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",privateData:a.i(d.i)([8,1,18,16],c)}]}var k=a(9),f=a(4),d=a(26),c=a(2),m=a(33),n={audio:"audio/mp4",video:"video/mp4",text:"application/ttml+xml"},p={audio:"mp4a.40.2",video:"avc1.4D401E"};b={AACL:"audio/mp4",AVC1:"video/mp4",H264:"video/mp4",TTML:"application/ttml+xml+mp4"};var q={audio:[["Bitrate","bitrate",parseInt],["AudioTag","audiotag",parseInt],
["FourCC","mimeType",b],["Channels","channels",parseInt],["SamplingRate","samplingRate",parseInt],["BitsPerSample","bitsPerSample",parseInt],["PacketSize","packetSize",parseInt],["CodecPrivateData","codecPrivateData",String]],video:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",b],["CodecPrivateData","codecs",function(a){return(a=(/00000001\d7([0-9a-fA-F]{6})/.exec(a)||[])[1])?"avc1."+a:""}],["MaxWidth","width",parseInt],["MaxHeight","height",parseInt],["CodecPrivateData","codecPrivateData",
String]],text:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",b]]};e.a=function(){function b(a,c,b){for(a=a.firstElementChild;a;)b=c(b,a.nodeName,a),a=a.nextElementSibling;return b}function e(d,f){d.hasAttribute("Timescale")&&(f=+d.getAttribute("Timescale"));var e=d.getAttribute("Type"),g=d.getAttribute("Subtype"),k=d.getAttribute("Name"),h=d.getAttribute("Language"),l=a.i(m.a)(h),r=d.getAttribute("Url"),v=q[e],t=[];a.i(c.a)(v,"unrecognized QualityLevel type "+e);var u=0;f=b(d,function(a,c,b){switch(c){case "QualityLevel":c=
{};for(var d=0;d<v.length;d++){var f=v[d],g=f[0],k=f[2];c[f[1]]="function"==typeof k?k(b.getAttribute(g)):k[b.getAttribute(g)]}"audio"==e&&(b=b.getAttribute("FourCC")||"",d=c.codecPrivateData,b="AACH"==b?5:d?(parseInt(d.substr(0,2),16)&248)>>3:2,c.codecs=b?"mp4a.40."+b:"");if("video"!=e||c.bitrate>A)c.id=u++,a.representations.push(c);break;case "c":c=a.index;d=a.index.timeline;f=d.length;g=0<f?d[f-1]:{d:0,ts:0,r:0};k=+b.getAttribute("d");var h=b.getAttribute("t");(b=+b.getAttribute("r"))&&b--;0<f&&
!g.d&&(g.d=h-g.ts,d[f-1]=g);0<f&&k==g.d&&null==h?g.r+=(b||0)+1:d.push({d:k,ts:null==h?g.ts+g.d*(g.r+1):+h,r:b});c.timeline=d}return a},{representations:[],index:{timeline:[],indexType:"smooth",timescale:f,initialization:{}}});d=f.representations;f=f.index;a.i(c.a)(d.length,"adaptation should have at least one representation");d.forEach(function(a){return a.codecs=a.codecs||p[e]});d.forEach(function(a){return a.mimeType=a.mimeType||n[e]});if("ADVT"==g)return null;"text"===e&&"DESC"===g&&t.push("hardOfHearing");
return{type:e,accessibility:t,index:f,representations:d,name:k,language:h,normalizedLanguage:l,baseURL:r}}function t(a){return v((new DOMParser).parseFromString(a,"application/xml"))}function v(f){f=f.documentElement;c.a.equal(f.nodeName,"SmoothStreamingMedia","document root should be SmoothStreamingMedia");a.i(c.a)(/^[2]-[0-2]$/.test(f.getAttribute("MajorVersion")+"-"+f.getAttribute("MinorVersion")),"Version should be 2.0, 2.1 or 2.2");var g=+f.getAttribute("Timescale")||1E7,m=[],n=b(f,function(b,
f,h){switch(f){case "Protection":h=h.firstElementChild;c.a.equal(h.nodeName,"ProtectionHeader","Protection should have ProtectionHeader child");f=a.i(d.b)(atob(h.textContent));var l=a.i(d.d)(f,8);l=a.i(d.l)(f.subarray(10,10+l));l=(new DOMParser).parseFromString(l,"application/xml").querySelector("KID").textContent;l=a.i(d.m)(atob(l)).toLowerCase();var n=a.i(d.k)(l);h=h.getAttribute("SystemID").toLowerCase().replace(/\{|\}/g,"");f={keyId:l,keySystems:[{systemId:h,privateData:f}].concat(B(n))};b.protection=
f;break;case "StreamIndex":if(f=e(h,g)){h=0;do l=f.type+"_"+(f.language?f.language+"_":"")+h++;while(a.i(k.a)(m,l));f.id=l;m.push(l);b.adaptations.push(f)}}return b},{protection:null,adaptations:[]}),p=n.protection;n=n.adaptations;n.forEach(function(a){return a.smoothProtection=p});var q=void 0,r=void 0,v=void 0,t=void 0,u=h(f.getAttribute("IsLive"));if(u){q=y;v=+f.getAttribute("DVRWindowLength")/g;t=z;r=n.filter(function(a){return"video"==a.type})[0];var w=n.filter(function(a){return"audio"==a.type})[0];
r=Math.min(l(r),l(w));r=Date.now()/1E3-(r+t)}return{transportType:"smooth",profiles:"",type:u?"dynamic":"static",suggestedPresentationDelay:q,timeShiftBufferDepth:v,presentationLiveGap:r,availabilityStartTime:t,periods:[{duration:(+f.getAttribute("Duration")||Infinity)/g,adaptations:n,laFragCount:+f.getAttribute("LookAheadFragmentCount")}]}}function w(a){return"string"==typeof a?t(a):v(a)}var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},y=null==x.suggestedPresentationDelay?f.a.DEFAULT_SUGGESTED_PRESENTATION_DELAY.SMOOTH:
x.suggestedPresentationDelay,z=x.referenceDateTime||Date.UTC(1970,0,1,0,0,0,0)/1E3,A=x.minRepresentationBitrate||19E4,B=x.keySystems||g;w.parseFromString=t;w.parseFromDocument=v;return w}},function(b,e,a){function h(c){var b=c.url,d=void 0;(c=c.segment.range)&&(d={Range:a.i(f.f)(c)});return a.i(k.a)({url:b,responseType:"arraybuffer",headers:d})}var l=a(0);a.n(l);var g=a(19);b=a(43);var k=a(71),f=a(72),d=b.a.createVideoInitSegment,c=b.a.createAudioInitSegment;e.a=function(b){return function(e){var k=
e.segment,m=e.representation,n=e.adaptation;e=e.manifest;if(k.isInit){e={};var u=n._smoothProtection||{};switch(n.type){case "video":e=d(k.timescale,m.width,m.height,72,72,4,m._codecPrivateData,u.keyId,u.keySystems);break;case "audio":e=c(k.timescale,m._channels,m._bitsPerSample,m._packetSize,m._samplingRate,m._codecPrivateData,u.keyId,u.keySystems)}return l.Observable.of({type:"data",value:{responseData:e}})}u=a.i(f.e)(a.i(g.b)(m.baseURL),m,k);var t={adaptation:n,representation:m,segment:k,transport:"smooth",
url:u,manifest:e};return b?l.Observable.create(function(a){var c=!1,d=!1,f=b(t,{reject:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(c=!0,a.error(b))},resolve:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(c=!0,a.next({type:"response",value:{responseData:b.data,size:b.size||0,duration:b.duration||0}}),a.complete())},fallback:function(){d=!0;h(t).subscribe(a)}});return function(){c||d||"function"!==typeof f||f()}}):h(t)}}},function(b,
e,a){function h(a){return a.replace(g,function(a,c){return String.fromCharCode(c)})}Object.defineProperty(e,"__esModule",{value:!0});var l=a(2),g=/&#([0-9]+);/g,k=/<br>/gi,f=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,d=/\s*<p class=([^>]+)>(.*)/i,c=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i;e["default"]=function(b,e,g){var m=/<sync[ >]/ig,n=/<sync[ >]|<\/body>/ig,p=[],t=b.match(f);t=t?t[1]:"";n.exec(b);var v=/\.(\S+)\s*{([^}]*)}/gi;for(var w={},x;x=v.exec(t);){var y=x[1];x=(x=x[2].match(/\s*lang:\s*(\S+);/i))?
x[1]:null;null!=y&&null!=x&&(w[x]=y)}t=(t=/p\s*{([^}]*)}/gi.exec(t))?t[1]:"";w=w[g];for(a.i(l.a)(w,"sami: could not find lang "+g+" in CSS");;){g=m.exec(b);v=n.exec(b);if(!g&&!v)break;if(!g||!v||g.index>=v.index)throw Error("parse error");g=b.slice(g.index,v.index);v=g.match(c);if(!v)throw Error("parse error (sync time attribute)");v=+v[1];if(isNaN(v))throw Error("parse error (sync time attribute NaN)");g=g.split("\n");v/=1E3;for(y=g.length;0<=--y;)if(x=g[y].match(d)){var z=x[2];if(w===x[1])if("&nbsp;"===
z)p[p.length-1].end=v;else{x=document.createElement("DIV");x.className="rxp-texttrack-region";var A=document.createElement("DIV");A.className="rxp-texttrack-div";A.style.position="absolute";A.style.bottom="0";A.style.width="100%";A.style.color="#fff";A.style.textShadow="-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000";var B=document.createElement("div");B.className="rxp-texttrack-p";t&&(B.style.cssText=t);z=z.split(k);for(var D=0;D<z.length;D++){D&&B.appendChild(document.createElement("BR"));
var F=document.createElement("SPAN");F.className="rxp-texttrack-span";F.textContent=h(z[D]);B.appendChild(F)}A.appendChild(B);x.appendChild(A);p.push({element:x,start:v+e,end:-1})}}}return p}},function(b,e,a){function h(a){return a.replace(f,"\n").replace(k,function(a,c){return String.fromCharCode(c)})}Object.defineProperty(e,"__esModule",{value:!0});var l=a(5),g=a(2),k=/&#([0-9]+);/g,f=/<br>/gi,d=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,c=/\s*<p class=([^>]+)>(.*)/i,m=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i;
e["default"]=function(b,f,e){var k=/<sync[ >]/ig,n=/<sync[ >]|<\/body>/ig,p=[],q=b.match(d);q=q?q[1]:"";n.exec(b);var w=/\.(\S+)\s*{([^}]*)}/gi;for(var x={},y;y=w.exec(q);){var z=y[1];y=(y=y[2].match(/\s*lang:\s*(\S+);/i))?y[1]:null;null!=z&&null!=y&&(x[y]=z)}q=x[e];for(a.i(g.a)(q,"sami: could not find lang "+e+" in CSS");;){e=k.exec(b);w=n.exec(b);if(!e&&!w)break;if(!e||!w||e.index>=w.index)throw Error("parse error");e=b.slice(e.index,w.index);w=e.match(m);if(!w)throw Error("parse error (sync time attribute)");
w=+w[1];if(isNaN(w))throw Error("parse error (sync time attribute NaN)");e=e.split("\n");w/=1E3;for(x=e.length;0<=--x;)if(z=e[x].match(c))y=z[2],q===z[1]&&("&nbsp;"===y?p[p.length-1].end=w:p.push({text:h(y),start:w+f}))}b=[];for(f=0;f<p.length;f++)q=p[f],k=q.start,n=q.end,(q=q.text)&&null!=n&&(k=a.i(l.p)(k,n,q),null!=k&&b.push(k));return b}},function(b,e,a){function h(a){var b=document.createElement("div");b.innerHTML=a;return function d(a){a=a.childNodes;var c=document.createElement("span");c.className=
"rxp-texttrack-span";for(var b=0;b<a.length;b++){var e=a[b];if("#text"===e.nodeName)c.innerHTML+=e.textContent;else if("B"===e.nodeName)e=d(e),e.style.fontWeight="bold",c.appendChild(e);else if("I"===e.nodeName)e=d(e),e.style.fontStyle="italic",c.appendChild(e);else if("U"===e.nodeName)e=d(e),e.style.textDecoration="underline",c.appendChild(e);else if("FONT"===e.nodeName&&null!=e.color){var g=d(e);g.style.color=e.color;c.appendChild(g)}else e=d(e),c.appendChild(e)}return c}(b)}Object.defineProperty(e,
"__esModule",{value:!0});e["default"]=function(b,e){var f=b.split(/\r\n|\n|\r/);b=[];for(var d=0;d<f.length;d++)if(f[d]){var c=d;for(d++;f[d];)d++;b.push(f.slice(c,d))}f=[];for(d=0;d<b.length;d++){var g=b[d];c=e;var k=g[1].split(" --\x3e "),p=k[0];k=k[1];g=g.slice(2,g.length);if(p&&k&&g.length)if(p=a.i(l.a)(p),k=a.i(l.a)(k),null==p||null==k)c=null;else{var q=document.createElement("div");q.className="rxp-texttrack-p";q.style.fontSize="28px";q.style.position="absolute";q.style.bottom="5%";q.style.width=
"100%";q.style.textAlign="center";q.style.color="#fff";q.style.textShadow="-1px -1px 2px #000,1px -1px 2px #000,-1px 1px 2px #000,1px 1px 2px #000";for(var r=0;r<g.length;r++){r&&q.appendChild(document.createElement("br"));var u=h(g[r]);q.appendChild(u)}c={start:p+c,end:k+c,element:q}}else c=null;c&&f.push(c)}return f};var l=a(74)},function(b,e,a){Object.defineProperty(e,"__esModule",{value:!0});e["default"]=function(b,e){var f=b.split(/\r\n|\n|\r/);b=[];for(var d=0;d<f.length;d++)if(f[d]){var c=
d;for(d++;f[d];)d++;b.push(f.slice(c,d))}f=[];for(d=0;d<b.length;d++){var g=b[d];c=e;var k=g[1].split(" --\x3e "),p=k[0];k=k[1];g=g.slice(2,g.length);p&&k&&g.length?(p=a.i(l.a)(p),k=a.i(l.a)(k),null==p||null==k?c=null:(g=g.join("\n"),c=a.i(h.p)(p+c,k+c,g))):c=null;c&&f.push(c)}return f};var h=a(5),l=a(74)},function(b,e,a){a.d(e,"a",function(){return h});var h="backgroundColor color direction display displayAlign extent fontFamily fontSize fontStyle fontWeight lineHeight opacity origin overflow padding textAlign textDecoration textOutline unicodeBidi visibility wrapOption writingMode".split(" ")},
function(b,e,a){function h(a){var c=f.h.exec(a);if(null!=c)return"rgba("+parseInt(c[1],16)+","+parseInt(c[2],16)+","+parseInt(c[3],16)+","+parseInt(c[4],16)/255+")";c=f.i.exec(a);return null!=c?"rgba("+parseInt(c[1]+c[1],16)+","+parseInt(c[2]+c[2],16)+","+parseInt(c[3]+c[3],16)+","+parseInt(c[4]+c[4],16)/255+")":a}function l(a,c){return"-1px -1px "+c+" "+a+","+("1px -1px "+c+" "+a+",")+("-1px 1px "+c+" "+a+",")+("1px 1px "+c+" "+a)}function g(b,d,f,e,g){function n(b,e,p){b=b.childNodes;for(var q=
[],r=0;r<b.length;r++){var v=b[r];if("#text"===v.nodeName){var t=a.i(c.b)(["backgroundColor"],p,f,d).backgroundColor;t?e.backgroundColor=t:delete e.backgroundColor;var u=v,w=e;t=g;v=document.createElement("span");u=u.textContent||"";t&&(t=u.trim(),u=t=t.replace(/\s+/g," "));v.innerHTML=u;v.className="rxp-texttrack-span";t=v;if(u=w.color)t.style.color=h(u);var x=w.backgroundColor;x&&(t.style.backgroundColor=h(x));(x=w.wrapOption)&&"noWrap"===x&&(t.style.whiteSpace="nowrap");if(x=w.textOutline){x=x.trim().replace(/\s+/g,
" ").split(" ");var E=x.length;if(3===E)u=h(x[0]),t.style.textShadow=l(u,x[1]);else if(u&&1===E)t.style.textShadow=l(u,x[0]);else if(2===E){E=/^[#A-Z]/i.test(x[0]);var G=/^[0-9]/.test(x[0]);E!==G&&(E?(u=h(x[0]),t.style.textShadow=l(u,x[1])):u&&(t.style.textShadow=l(u,x[0])))}}if(u=w.textDecoration)t.style.textDecoration="noUnderline"===u||"noLineThrough"===u||"noOverline"===u?"none":"lineThrough"===u?"line-through":u;if(u=w.fontFamily)switch(u){case "proportionalSansSerif":t.style.fontFamily="Arial, Helvetica, Liberation Sans, sans-serif";
break;case "monospaceSansSerif":case "sansSerif":t.style.fontFamily="sans-serif";break;case "monospaceSerif":case "default":t.style.fontFamily="Courier New, Liberation Mono, monospace";break;case "proportionalSerif":t.style.fontFamily="serif";break;default:t.style.fontFamily=u}if(u=w.fontStyle)t.style.fontStyle=u;if(u=w.fontWeight)t.style.fontWeight=u;if(u=w.fontSize)t.style.fontSize=u;if(u=w.direction)t.style.direction=u;if(u=w.unicodeBidi)switch(u){case "bidiOverride":t.style.unicodeBidi="bidi-override";
break;case "embed":t.style.unicodeBidi="embed";break;default:t.style.unicodeBidi="normal"}if(u=w.visibility)t.style.visibility=u;"none"===w.display&&(t.style.display="none");q.push(v)}else"br"===v.nodeName?(v=document.createElement("BR"),q.push(v)):"span"===v.nodeName&&0<v.childNodes.length&&(t=k()({},e,a.i(c.b)(m,[v],f,d)),q.push.apply(q,n(v,t,[v].concat(p))))}return q}return n(b,k()({},e),[])}e.a=function(b,e,k,l,m,t){var n=a.i(d.a)(b,"div"),p=document.createElement("DIV");p.className="rxp-texttrack-region";
var q=m.extent;q&&(q=f.a.exec(q),null!=q&&(p.style.width=q[1]+"%",p.style.height=q[2]+"%"));q=m.overflow;p.style.overflow=q?q:"hidden";if(q=m.padding)p.style.padding=q;if(q=m.origin)q=f.a.exec(q),null!=q&&(p.style.position="relative",p.style.left=q[1]+"%",p.style.top=q[2]+"%");q=m.displayAlign;p.style.display="flex";p.style.flexDirection="column";if(q)switch(q){case "before":p.style.justifyContent="flex-start";break;case "center":p.style.justifyContent="center";break;case "after":p.style.justifyContent=
"flex-end"}if(q=m.opacity)p.style.opacity=q;if(q=m.visibility)p.style.visibility=q;"none"===m.display&&(p.style.display="none");e&&(e=a.i(c.b)(["backgroundColor"],[].concat(n,[e]),l,k).bodyBackgroundColor)&&(p.style.backgroundColor=h(e));e=document.createElement("p");e.className="rxp-texttrack-p";if(n=m.backgroundColor)e.style.backgroundColor=h(n);if(n=m.lineHeight)e.style.lineHeight=n;if(n=m.textAlign)if("center"===n)e.style.textAlign="center";else if("left"===n||"start"===n)e.style.textAlign="left";
else if("right"===n||"end"===n)e.style.textAlign="right";b=g(b,k,l,m,t);for(k=0;k<b.length;k++)e.appendChild(b[k]);p.appendChild(e);return p};b=a(6);var k=a.n(b),f=a(45),d=a(44),c=a(46),m="color direction display fontFamily fontSize fontStyle fontWeight textDecoration textOutline unicodeBidi visibility wrapOption".split(" ")},function(b,e,a){Object.defineProperty(e,"__esModule",{value:!0});e["default"]=function(b,e){var m=[];if(b=(new DOMParser).parseFromString(b,"text/xml")){var n=b.getElementsByTagName("tt")[0];
if(!n)throw Error("invalid XML");b=a.i(g.a)(n);var r=a.i(g.b)(n),u=a.i(g.c)(n),t=a.i(g.d)(n);n=a.i(l.a)(n);for(var v=[],w=0;w<=r.length-1;w++){var x=r[w];if(x instanceof Element){var y=x.getAttribute("xml:id");null!=y&&v.push({id:y,style:a.i(d.a)(x)})}}var z=[];for(r=0;r<=u.length-1;r++){var A=u[r];if(A instanceof Element){var B=A.getAttribute("xml:id");null!=B&&function(){var c=a.i(d.a)(A),b=A.getAttribute("style");if(b){var f=v.find(function(a){return a.id===b});f&&(c=h()({},f.style,c))}z.push({id:B,
style:c})}()}}u=null!=b?a.i(d.b)(f.a,[b],v,z):a.i(d.b)(f.a,[],v,z);for(r=0;r<t.length;r++)w=t[r],w instanceof Element&&(x=a.i(k.a)(w,"div"),x=h()({},u,a.i(d.b)(f.a,[w].concat(x),v,z)),(w=a.i(c.a)(w,e,v,z,b,x,n))&&m.push(w))}return m};b=a(6);var h=a.n(b),l=a(75),g=a(77),k=a(44),f=a(182),d=a(46),c=a(185)},function(b,e,a){e.a=function(b,e,f,d,c,m,n){if(!b.hasAttribute("begin")&&!b.hasAttribute("end")&&/^\s*$/.test(b.textContent||""))return null;var g=a.i(h.a)(b,n),k=g.start;g=g.end;b=a.i(l.a)(b,c,d,
f,m,"default"===n.spaceStyle);return{start:k+e,end:g+e,element:b}};var h=a(76),l=a(183)},function(b,e,a){function h(c,b,d,e,g,h){if(!c.hasAttribute("begin")&&!c.hasAttribute("end")&&/^\s*$/.test(c.textContent||""))return null;e=a.i(p.a)(c,h);d=e.start;e=e.end;c=l(c,"default"===h.spaceStyle);b=a.i(k.p)(d+b,e+b,c);if(!b)return null;if(b instanceof VTTCue){if(c=g.extent)c=f.a.exec(c),null!=c&&(b.size=Number(c[1]));c=g.writingMode;"tb"===c||"tblr"===c?b.vertical="lr":"tbrl"===c&&(b.vertical="rl");(c=
g.origin)&&f.a.exec(c);if(g=g.align)b.align=g,"center"===g&&("center"!==b.align&&(b.align="middle"),b.position="auto"),b.positionAlign=u[g]||"",b.lineAlign=r[g]||""}return b}function l(a,c){function b(a){a=a.childNodes;for(var d="",f=0;f<a.length;f++){var e=a[f];"#text"===e.nodeName?(e=e.textContent||"",c&&(e=e.trim(),e=e.replace(/\s+/g," ")),d+=e):"br"===e.nodeName?d+="\n":"span"===e.nodeName&&0<e.childNodes.length&&(d+=b(e))}return d}return b(a)}Object.defineProperty(e,"__esModule",{value:!0});
b=a(6);var g=a.n(b),k=a(5),f=a(45),d=a(77),c=a(75),m=a(46),n=a(44),p=a(76),q=["extent","writingMode","origin","align"],r={left:"start",center:"center",right:"end",start:"start",end:"end"},u={left:"line-left",center:"center",right:"line-right"};e["default"]=function(b,f){var e=[];if(b=(new DOMParser).parseFromString(b,"text/xml")){var k=b.getElementsByTagName("tt")[0];if(!k)throw Error("invalid XML");var l=a.i(d.a)(k),p=a.i(d.b)(k),r=a.i(d.c)(k);b=a.i(d.d)(k);k=a.i(c.a)(k);for(var t=[],u=0;u<=p.length-
1;u++){var v=p[u];if(v instanceof Element){var C=v.getAttribute("xml:id");null!=C&&t.push({id:C,style:a.i(m.a)(v)})}}var E=[];for(p=0;p<=r.length-1;p++){var G=r[p];if(G instanceof Element){var H=G.getAttribute("xml:id");null!=H&&function(){var c=a.i(m.a)(G),b=G.getAttribute("style");if(b){var d=t.find(function(a){return a.id===b});d&&(c=g()({},d.style,c))}E.push({id:H,style:c})}()}}l=l?a.i(m.b)(q,[l],t,E):a.i(m.b)(q,[],t,E);for(r=0;r<b.length;r++)p=b[r],p instanceof Element&&(u=a.i(n.a)(p,"div"),
u=g()({},l,a.i(m.b)(q,[p].concat(u),t,E)),(p=h(p,f,t,E,u,k))&&e.push(p))}return e}},function(b,e,a){function h(a,b){a=a.exec(b);return null===a||""===a[0]?null:(Number(a[4])||0)/1E3+(Number(a[3])||0)+60*(Number(a[2])||0)+3600*(Number(a[1])||0)}var l=a(45);e.a=function(a,b){if(l.b.test(a)){a=l.b.exec(a);var f=Number(a[1]),d=Number(a[2]),c=Number(a[3]),e=Number(a[4]);e+=(Number(a[5])||0)/b.subFrameRate;c+=e/b.frameRate;return c+60*d+3600*f}if(l.c.test(a))return h(l.c,a);if(l.d.test(a))return h(l.d,
a);if(l.e.test(a))return a=l.e.exec(a),Number(a[1])/b.frameRate;if(l.f.test(a))return a=l.f.exec(a),Number(a[1])/b.tickRate;if(l.g.test(a))return h(l.g,a)}},function(b,e,a){function h(a){var c=[],b=1,d=[];if(a[b].match(/::cue {/))d.push({isGlobalStyle:!0}),b++;else for(var f=void 0;f=a[b].match(/::cue\(\.?(.*?)\)(?:,| {)/);)d.push({className:f[1],isGlobalStyle:!1}),b++;for(var e="";!a[b].match(/}/)&&0!==a[b].length;)e+=a[b],b++;d.forEach(function(a){c.push({className:a.className,isGlobalStyle:a.isGlobalStyle,
styleContent:e.replace(/\s/g,"")})});return c}function l(a,b,d){var c=document.createElement("div"),e=document.createAttribute("style"),h=0;e.value="width:100%;     height:100%;     display:flex;     flex-direction:column;     justify-content:flex-end;     align-items:center;";c.setAttributeNode(e);var l=a[h];h++;if((e=g(a[h]))&&null!=e.start&&null!=e.end){h++;var m=document.createElement("p"),n=document.createAttribute("style");n.value="text-align:center";m.setAttributeNode(n);var w=document.createElement("span");
n=document.createAttribute("style");n.value="background-color:rgba(0,0,0,0.8);     color:white;";w.setAttributeNode(n);var x=d.filter(function(a){return a.className===l&&!a.isGlobalStyle||a.isGlobalStyle}).map(function(a){return a.styleContent});x&&(n.value+=x.join(),w.setAttributeNode(n));for(;a[h];)0!==w.childNodes.length&&w.appendChild(document.createElement("br")),k(a[h],d).forEach(function(a){w.appendChild(a)}),h++;c.appendChild(m);m.appendChild(w);return{start:e.start+b,end:e.end+b,element:c}}f.a.warn("VTT: Invalid cue, the timecode line could not be parsed.")}
function g(c){var b=c.match("((?:[0-9]{2}:?)[0-9]{2}:[0-9]{2}.[0-9]{2,3})(?: |\t)--\x3e(?: |\t)((?:[0-9]{2}:?)[0-9]{2}:[0-9]{2}.[0-9]{2,3})");if(b&&3<=b.length)return c=a.i(d.a)(b[1]),b=a.i(d.a)(b[2]),{start:c,end:b}}function k(a,b){var c=["u","i","b"],d=["u","i","b","c","#text"],f=b.map(function(a){return a.className});a=a.replace(/<[0-9]{2}:[0-9]{2}.[0-9]{3}>/,"").replace(/<([u,i,b,c])(\..*?)?(?: .*?)?>(.*?)<\/\1>/g,"<$1$2>$3</$1$2>");return function(a){function e(a){var g=a.nodeName.toLowerCase().split(".")[0],
k=void 0;if(d.includes(g))if("#text"===g)k=document.createTextNode(a.wholeText);else{var h=[];a.nodeName.toLowerCase().split(".").forEach(function(a){-1!==f.indexOf(a)&&h.push(f.indexOf(a))});if(0!==h.length){var l=document.createAttribute("style");h.forEach(function(a){l.value+=b[a].styleContent});k=c.includes(g)?g:"span";k=document.createElement(k);k.setAttributeNode(l)}else k=c.includes(g)?g:"span",k=document.createElement(k);for(g=0;g<a.childNodes.length;g++)k.appendChild(e(a.childNodes[g]))}else for(k=
document.createElement("span"),g=0;g<a.childNodes.length;g++)k.appendChild(e(a.childNodes[g]));return k}for(var g=[],k=0;k<a.length;k++)g[k]=e(a[k]);return g}((new DOMParser).parseFromString(a,"text/html").body.childNodes)}Object.defineProperty(e,"__esModule",{value:!0});e["default"]=function(a,b){a=a.split(/\r\n|\n|\r/g);var c=[],d=[];if(!a[0].match(/^WEBVTT( |\t|\n|\r|$)/))throw Error("Can't parse WebVTT: Invalid File.");for(var f=1;f<a.length;f++)if(/^STYLE.*?/g.test(a[f])){var e=f;for(f++;0!==
a[f].length;)f++;e=a.slice(e,f);e=h(e);d.push.apply(d,e)}for(f=1;f<a.length;f++)if(0!==a[f].length)if(e=a[f],/^NOTE.*?/g.test(e)||/^STYLE.*?/g.test(e)||/^REGION.*?/g.test(e)||0===e.length)for(;0!==a[f].length;)f++;else{e=f;for(f++;0!==a[f].length;)f++;e=a.slice(e,f);(e=l(e,b,d))&&c.push(e)}return c};var f=a(1),d=a(190)},function(b,e,a){function h(a){a=a.split(":");if(3===a.length){var b=parseInt(a[0],10),c=parseInt(a[1],10);a=parseFloat(a[2]);return isNaN(b)||isNaN(c)||isNaN(a)?void 0:3600*b+60*c+
a}if(2===a.length)return b=parseInt(a[0],10),a=parseFloat(a[1]),isNaN(b)||isNaN(a)?void 0:60*b+a}function l(a){return a.split(/ |\t/).reduce(function(a,c){c=c.split(":");2===c.length&&(a[c[0]]=c[1]);return a},{})}Object.defineProperty(e,"__esModule",{value:!0});e["default"]=function(b,d){var c=b.split(/\r\n|\n|\r/);if(!/^WEBVTT($| |\t)/.test(c[0]))throw Error("Can't parse WebVTT: Invalid file.");b=[];for(var f=1;f<c.length;f++){var e=c[f];e=!e||/^(NOTE)|(REGION)|(STYLE)($| |\t)/.test(e)?!1:!0;if(e){e=
f;for(f++;c[f];)f++;b.push(c.slice(e,f))}else if(c[f])for(;c[f];)f++}c=[];for(f=0;f<b.length;f++){a:{var p=b[f];e=d;var q=/--\x3e/;if(q.test(p[0]))q=p[0],p=p.slice(1,p.length);else{if(!q.test(p[1])){e=null;break a}q=p[1];p=p.slice(2,p.length)}var r;if(r=q.match(/^([\d:.]+)[ |\t]+--\x3e[ |\t]+([\d:.]+)[ |\t]*(.*)$/)){q=h(r[1]);var u=h(r[2]);null==q||null==u?r=null:(r=l(r[3]),r={start:q,end:u,settings:r})}else r=null;if(r){if(q=r.start,u=r.end,r=r.settings,p=p.join("\n"),(e=a.i(k.p)(q+e,u+e,p))&&e instanceof
VTTCue){p=r;q=e;!p.vertical||"rl"!==p.vertical&&"lr"!==p.vertical||(q.vertical=p.vertical);if(p.line)if(u=p.line.match(/^(\d+(\.\d+)?)%(,([a-z]+))?/))q.line=u[1],q.snapToLines=!1,a.i(g.a)(["start","center","end"],u[4])&&(q.lineAlign=u[4]);else if(u=p.line.match(/^(-?\d+)(,([a-z]+))?/))q.line=u[1],q.snapToLines=!0,a.i(g.a)(["start","center","end"],u[3])&&(q.lineAlign=u[3]);p.position&&(u=/^([\d\.]+)%(?:,(line-left|line-right|center))?$/.exec(p.position))&&2<=u.length&&(r=parseInt(u[1],10),isNaN(r)||
(q.position=r,null!=u[2]&&(q.positionAlign=u[2])));p.size&&(q.size=p.size);p.align&&a.i(g.a)(["start","center","end","left"],p.align)&&(q.align=p.align)}}else e=null}e&&c.push(e)}return c};var g=a(9),k=a(5)},function(b,e,a){e.a=function(a){var b=a.split(":").reverse();if(b[2]||b[1]){a=b[2]?parseInt(b[2],10):0;var e=parseInt(b[1],10);b=parseFloat(b[0].replace(",","."));return isNaN(a)||isNaN(e)||isNaN(b)?void 0:3600*a+60*e+b}}},function(b,e,a){a.d(e,"a",function(){return h});var h=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this._hash={}}a.prototype.add=function(a){this._hash[a]=!0};a.prototype.remove=function(a){delete this._hash[a]};a.prototype.test=function(a){return!0===this._hash[a]};return a}()},function(b,e,a){b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._cache={}}a.prototype.add=function(a,b){a=a.segment;a.isInit&&(this._cache[a.id]=b)};a.prototype.get=function(a){a=a.segment;return a.isInit&&
(a=this._cache[a.id],null!=a)?a:null};return a}();e.a=b},function(b,e,a){e.a={aa:"aar",ab:"abk",ae:"ave",af:"afr",ak:"aka",am:"amh",an:"arg",ar:"ara",as:"asm",av:"ava",ay:"aym",az:"aze",ba:"bak",be:"bel",bg:"bul",bi:"bis",bm:"bam",bn:"ben",bo:"bod",br:"bre",bs:"bos",ca:"cat",ce:"che",ch:"cha",co:"cos",cr:"cre",cs:"ces",cu:"chu",cv:"chv",cy:"cym",da:"dan",de:"deu",dv:"div",dz:"dzo",ee:"ewe",el:"ell",en:"eng",eo:"epo",es:"spa",et:"est",eu:"eus",fa:"fas",ff:"ful",fi:"fin",fj:"fij",fo:"fao",fr:"fra",
fy:"fry",ga:"gle",gd:"gla",gl:"glg",gn:"grn",gu:"guj",gv:"glv",ha:"hau",he:"heb",hi:"hin",ho:"hmo",hr:"hrv",ht:"hat",hu:"hun",hy:"hye",hz:"her",ia:"ina",id:"ind",ie:"ile",ig:"ibo",ii:"iii",ik:"ipk",io:"ido",is:"isl",it:"ita",iu:"iku",ja:"jpn",jv:"jav",ka:"kat",kg:"kon",ki:"kik",kj:"kua",kk:"kaz",kl:"kal",km:"khm",kn:"kan",ko:"kor",kr:"kau",ks:"kas",ku:"kur",kv:"kom",kw:"cor",ky:"kir",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",lu:"lub",lv:"lav",mg:"mlg",mh:"mah",mi:"mri",mk:"mkd",
ml:"mal",mn:"mon",mr:"mar",ms:"msa",mt:"mlt",my:"mya",na:"nau",nb:"nob",nd:"nde",ne:"nep",ng:"ndo",nl:"nld",nn:"nno",no:"nor",nr:"nbl",nv:"nav",ny:"nya",oc:"oci",oj:"oji",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",pl:"pol",ps:"pus",pt:"por",qu:"que",rm:"roh",rn:"run",ro:"ron",ru:"rus",rw:"kin",sa:"san",sc:"srd",sd:"snd",se:"sme",sg:"sag",si:"sin",sk:"slk",sl:"slv",sm:"smo",sn:"sna",so:"som",sq:"sqi",sr:"srp",ss:"ssw",st:"sot",su:"sun",sv:"swe",sw:"swa",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",
tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",ts:"tso",tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",wo:"wol",xh:"xho",yi:"yid",yo:"yor",za:"zha",zh:"zho",zu:"zul"}},function(b,e,a){e.a={alb:"sqi",arm:"hye",baq:"eus",bur:"mya",chi:"zho",cze:"ces",dut:"nld",fre:"fra",geo:"kat",ger:"deu",gre:"ell",ice:"isl",mac:"mkd",mao:"mri",may:"msa",per:"fas",slo:"slk",rum:"ron",tib:"bod",wel:"cym"}},function(b,e,a){e.a=function(a){var b=a.reduce(function(a,b){a[b]=
b;return a},{});b.keys=a;return b}},function(b,e,a){e.a=function(b){var e=!1;return function(){if(e)return h.Observable.empty();e=!0;return a.i(l.a)(b.apply(void 0,arguments)).do(function(){},function(){return e=!1},function(){return e=!1})}};var h=a(0);a.n(h);var l=a(10)},function(b,e,a){e.a=function(){for(var a=0,b=arguments.length;a<b;){if(void 0!==(arguments.length<=a?void 0:arguments[a]))return arguments.length<=a?void 0:arguments[a];a++}}},function(b,e,a){e.a=function(){for(var a=0,b=arguments.length;a<
b;){if(null!=(arguments.length<=a?void 0:arguments[a]))return arguments.length<=a?void 0:arguments[a];a++}}},function(b,e,a){function h(a){return!a||"object"!==typeof a||"number"!==typeof a.length||"function"!==typeof a.copy||"function"!==typeof a.slice||0<a.length&&"number"!==typeof a[0]?!1:!0}function l(a,b,e){var c;if(null===a||void 0===a||null===b||void 0===b||a.prototype!==b.prototype)return!1;if(f(a)){if(!f(b))return!1;a=g.call(a);b=g.call(b);return d(a,b,e)}if(h(a)){if(!h(b)||a.length!==b.length)return!1;
for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}try{var l=k(a);var m=k(b)}catch(u){return!1}if(l.length!=m.length)return!1;l.sort();m.sort();for(c=l.length-1;0<=c;c--)if(l[c]!=m[c])return!1;for(c=l.length-1;0<=c;c--)if(m=l[c],!d(a[m],b[m],e))return!1;return typeof a===typeof b}var g=Array.prototype.slice,k=a(201),f=a(200),d=b.exports=function(a,b,d){d||(d={});return a===b?!0:a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():!a||!b||"object"!=typeof a&&"object"!=typeof b?d.strict?
a===b:a==b:l(a,b,d)}},function(b,e){function a(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function h(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}e="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=b.exports=e?a:h;e.supported=a;e.unsupported=h},function(b,e){function a(a){var b=[],e;for(e in a)b.push(e);return b}e=b.exports=
"function"===typeof Object.keys?Object.keys:a;e.shim=a},function(b,e,a){var h=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=function(a){function b(b,f,d){a.call(this);this.parent=b;this.outerValue=f;this.outerIndex=d;this.index=0}h(b,a);b.prototype._next=function(a){this.parent.notifyNext(this.outerValue,a,this.outerIndex,this.index++,this)};b.prototype._error=
function(a){this.parent.notifyError(a,this);this.unsubscribe()};b.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe()};return b}(a(3).Subscriber);e.InnerSubscriber=b},function(b,e,a){var h=a(0);b=function(){function a(a,b,f){this.kind=a;this.value=b;this.error=f;this.hasValue="N"===a}a.prototype.observe=function(a){switch(this.kind){case "N":return a.next&&a.next(this.value);case "E":return a.error&&a.error(this.error);case "C":return a.complete&&a.complete()}};a.prototype.do=
function(a,b,f){switch(this.kind){case "N":return a&&a(this.value);case "E":return b&&b(this.error);case "C":return f&&f()}};a.prototype.accept=function(a,b,f){return a&&"function"===typeof a.next?this.observe(a):this.do(a,b,f)};a.prototype.toObservable=function(){switch(this.kind){case "N":return h.Observable.of(this.value);case "E":return h.Observable.throw(this.error);case "C":return h.Observable.empty()}throw Error("unexpected notification kind value");};a.createNext=function(b){return"undefined"!==
typeof b?new a("N",b):a.undefinedValueNotification};a.createError=function(b){return new a("E",void 0,b)};a.createComplete=function(){return a.completeNotification};a.completeNotification=new a("C");a.undefinedValueNotification=new a("N",void 0);return a}();e.Notification=b},function(b,e,a){b=function(){function a(b,e){void 0===e&&(e=a.now);this.SchedulerAction=b;this.now=e}a.prototype.schedule=function(a,b,e){void 0===b&&(b=0);return(new this.SchedulerAction(this,a)).schedule(e,b)};a.now=Date.now?
Date.now:function(){return+new Date};return a}();e.Scheduler=b},function(b,e,a){b=a(0);a=a(254);b.Observable.combineLatest=a.combineLatest},function(b,e,a){b=a(0);a=a(255);b.Observable.defer=a.defer},function(b,e,a){b=a(0);a=a(256);b.Observable.empty=a.empty},function(b,e,a){b=a(0);a=a(86);b.Observable.from=a.from},function(b,e,a){b=a(0);a=a(257);b.Observable.fromEvent=a.fromEvent},function(b,e,a){b=a(0);a=a(258);b.Observable.fromPromise=a.fromPromise},function(b,e,a){b=a(0);a=a(259);b.Observable.interval=
a.interval},function(b,e,a){b=a(0);a=a(260);b.Observable.merge=a.merge},function(b,e,a){b=a(0);a=a(261);b.Observable.never=a.never},function(b,e,a){b=a(0);a=a(87);b.Observable.of=a.of},function(b,e,a){b=a(0);a=a(262);b.Observable.throw=a._throw},function(b,e,a){b=a(0);a=a(263);b.Observable.timer=a.timer},function(b,e,a){b=a(0);a=a(264);b.Observable.prototype.catch=a._catch;b.Observable.prototype._catch=a._catch},function(b,e,a){b=a(0);a=a(265);b.Observable.prototype.concat=a.concat},function(b,e,
a){b=a(0);a=a(266);b.Observable.prototype.concatAll=a.concatAll},function(b,e,a){b=a(0);a=a(267);b.Observable.prototype.concatMap=a.concatMap},function(b,e,a){b=a(0);a=a(268);b.Observable.prototype.debounceTime=a.debounceTime},function(b,e,a){b=a(0);a=a(269);b.Observable.prototype.distinctUntilChanged=a.distinctUntilChanged},function(b,e,a){b=a(0);a=a(270);b.Observable.prototype.do=a._do;b.Observable.prototype._do=a._do},function(b,e,a){b=a(0);a=a(271);b.Observable.prototype.filter=a.filter},function(b,
e,a){b=a(0);a=a(272);b.Observable.prototype.finally=a._finally;b.Observable.prototype._finally=a._finally},function(b,e,a){b=a(0);a=a(273);b.Observable.prototype.ignoreElements=a.ignoreElements},function(b,e,a){b=a(0);a=a(274);b.Observable.prototype.map=a.map},function(b,e,a){b=a(0);a=a(275);b.Observable.prototype.mapTo=a.mapTo},function(b,e,a){b=a(0);a=a(88);b.Observable.prototype.merge=a.merge},function(b,e,a){b=a(0);a=a(276);b.Observable.prototype.mergeMap=a.mergeMap;b.Observable.prototype.flatMap=
a.mergeMap},function(b,e,a){b=a(0);a=a(277);b.Observable.prototype.multicast=a.multicast},function(b,e,a){b=a(0);a=a(278);b.Observable.prototype.pairwise=a.pairwise},function(b,e,a){b=a(0);a=a(279);b.Observable.prototype.publish=a.publish},function(b,e,a){b=a(0);a=a(280);b.Observable.prototype.scan=a.scan},function(b,e,a){b=a(0);a=a(281);b.Observable.prototype.share=a.share},function(b,e,a){b=a(0);a=a(282);b.Observable.prototype.skip=a.skip},function(b,e,a){b=a(0);a=a(283);b.Observable.prototype.skipUntil=
a.skipUntil},function(b,e,a){b=a(0);a=a(284);b.Observable.prototype.startWith=a.startWith},function(b,e,a){b=a(0);a=a(285);b.Observable.prototype.switchMap=a.switchMap},function(b,e,a){b=a(0);a=a(286);b.Observable.prototype.switchMapTo=a.switchMapTo},function(b,e,a){b=a(0);a=a(287);b.Observable.prototype.take=a.take},function(b,e,a){b=a(0);a=a(288);b.Observable.prototype.takeUntil=a.takeUntil},function(b,e,a){b=a(0);a=a(289);b.Observable.prototype.timeout=a.timeout},function(b,e,a){var h=this&&this.__extends||
function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(0);var l=a(52),g=a(27);a=function(a){function b(b,c){a.call(this);this.arrayLike=b;this.scheduler=c;c||1!==b.length||(this._isScalar=!0,this.value=b[0])}h(b,a);b.create=function(a,c){var d=a.length;return 0===d?new g.EmptyObservable:1===d?new l.ScalarObservable(a[0],c):new b(a,c)};b.dispatch=function(a){var b=a.arrayLike,d=a.index,
f=a.subscriber;f.closed||(d>=a.length?f.complete():(f.next(b[d]),a.index=d+1,this.schedule(a)))};b.prototype._subscribe=function(a){var c=this.arrayLike,d=this.scheduler,f=c.length;if(d)return d.schedule(b.dispatch,0,{arrayLike:c,index:0,length:f,subscriber:a});for(d=0;d<f&&!a.closed;d++)a.next(c[d]);a.complete()};return b}(b.Observable);e.ArrayLikeObservable=a},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);
a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(7);var l=a(0),g=a(3),k=a(14),f=a(93);a=function(a){function b(b,c){a.call(this);this.source=b;this.subjectFactory=c;this._refCount=0;this._isComplete=!1}h(b,a);b.prototype._subscribe=function(a){return this.getSubject().subscribe(a)};b.prototype.getSubject=function(){var a=this._subject;if(!a||a.isStopped)this._subject=this.subjectFactory();return this._subject};b.prototype.connect=function(){var a=this._connection;a||(this._isComplete=
!1,a=this._connection=new k.Subscription,a.add(this.source.subscribe(new d(this.getSubject(),this))),a.closed?(this._connection=null,a=k.Subscription.EMPTY):this._connection=a);return a};b.prototype.refCount=function(){return f.refCount()(this)};return b}(l.Observable);e.ConnectableObservable=a;a=a.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:a._subscribe},
_isComplete:{value:a._isComplete,writable:!0},getSubject:{value:a.getSubject},connect:{value:a.connect},refCount:{value:a.refCount}};var d=function(a){function b(b,c){a.call(this,b);this.connectable=c}h(b,a);b.prototype._error=function(b){this._unsubscribe();a.prototype._error.call(this,b)};b.prototype._complete=function(){this.connectable._isComplete=!0;this._unsubscribe();a.prototype._complete.call(this)};b.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var b=
a._connection;a._refCount=0;a._subject=null;a._connection=null;b&&b.unsubscribe()}};return b}(b.SubjectSubscriber);(function(){function a(a){this.connectable=a}a.prototype.call=function(a,b){var d=this.connectable;d._refCount++;a=new c(a,d);b=b.subscribe(a);a.closed||(a.connection=d.connect());return b};return a})();var c=function(a){function b(b,c){a.call(this,b);this.connectable=c}h(b,a);b.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var b=a._refCount;0>=
b?this.connection=null:(a._refCount=b-1,1<b?this.connection=null:(b=this.connection,a=a._connection,this.connection=null,!a||b&&a!==b||a.unsubscribe()))}else this.connection=null};return b}(g.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(0);var l=a(16);a=a(13);b=function(a){function b(b){a.call(this);this.observableFactory=
b}h(b,a);b.create=function(a){return new b(a)};b.prototype._subscribe=function(a){return new g(a,this.observableFactory)};return b}(b.Observable);e.DeferObservable=b;var g=function(a){function b(b,c){a.call(this,b);this.factory=c;this.tryDefer()}h(b,a);b.prototype.tryDefer=function(){try{this._callFactory()}catch(d){this._error(d)}};b.prototype._callFactory=function(){var a=this.factory();a&&this.add(l.subscribeToResult(this,a))};return b}(a.OuterSubscriber)},function(b,e,a){var h=this&&this.__extends||
function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=function(a){function b(b,f){a.call(this);this.error=b;this.scheduler=f}h(b,a);b.create=function(a,f){return new b(a,f)};b.dispatch=function(a){a.subscriber.error(a.error)};b.prototype._subscribe=function(a){var f=this.error,d=this.scheduler;a.syncErrorThrowable=!0;if(d)return d.schedule(b.dispatch,0,{error:f,subscriber:a});a.error(f)};
return b}(a(0).Observable);e.ErrorObservable=b},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(0);var l=a(61),g=a(59),k=a(34),f=a(14),d=Object.prototype.toString;a=function(a){function b(b,c,d,f){a.call(this);this.sourceObj=b;this.eventName=c;this.selector=d;this.options=f}h(b,a);b.create=function(a,c,d,f){g.isFunction(d)&&(f=d,d=void 0);
return new b(a,c,f,d)};b.setupSubscription=function(a,c,e,g,k){if(a&&"[object NodeList]"===d.call(a)||a&&"[object HTMLCollection]"===d.call(a))for(var h=0,l=a.length;h<l;h++)b.setupSubscription(a[h],c,e,g,k);else if(a&&"function"===typeof a.addEventListener&&"function"===typeof a.removeEventListener){a.addEventListener(c,e,k);var m=function(){return a.removeEventListener(c,e)}}else if(a&&"function"===typeof a.on&&"function"===typeof a.off)a.on(c,e),m=function(){return a.off(c,e)};else if(a&&"function"===
typeof a.addListener&&"function"===typeof a.removeListener)a.addListener(c,e),m=function(){return a.removeListener(c,e)};else throw new TypeError("Invalid event target");g.add(new f.Subscription(m))};b.prototype._subscribe=function(a){var c=this.selector;b.setupSubscription(this.sourceObj,this.eventName,c?function(){for(var b=[],d=0;d<arguments.length;d++)b[d-0]=arguments[d];b=l.tryCatch(c).apply(void 0,b);b===k.errorObject?a.error(k.errorObject.e):a.next(b)}:function(b){return a.next(b)},a,this.options)};
return b}(b.Observable);e.FromEventObservable=a},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(28),g=a(97),k=a(101),f=a(84),d=a(251),c=a(20),m=a(244),n=a(55),p=a(0),q=a(92),r=a(56);b=function(a){function b(b,c){a.call(this,null);this.ish=b;this.scheduler=c}h(b,a);b.create=function(a,e){if(null!=a){if("function"===typeof a[r.observable])return a instanceof
p.Observable&&!e?a:new b(a,e);if(l.isArray(a))return new c.ArrayObservable(a,e);if(k.isPromise(a))return new f.PromiseObservable(a,e);if("function"===typeof a[n.iterator]||"string"===typeof a)return new d.IteratorObservable(a,e);if(g.isArrayLike(a))return new m.ArrayLikeObservable(a,e)}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};b.prototype._subscribe=function(a){var b=this.ish,c=this.scheduler;return null==c?b[r.observable]().subscribe(a):b[r.observable]().subscribe(new q.ObserveOnSubscriber(a,
c,0))};return b}(p.Observable);e.FromObservable=b},function(b,e,a){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},l=a(99);b=a(0);var g=a(21);a=function(a){function b(b,c){void 0===b&&(b=0);void 0===c&&(c=g.async);a.call(this);this.period=b;this.scheduler=c;if(!l.isNumeric(b)||0>b)this.period=0;c&&"function"===typeof c.schedule||(this.scheduler=g.async)}
h(b,a);b.create=function(a,c){void 0===a&&(a=0);void 0===c&&(c=g.async);return new b(a,c)};b.dispatch=function(a){var b=a.subscriber,d=a.period;b.next(a.index);b.closed||(a.index+=1,this.schedule(a,d))};b.prototype._subscribe=function(a){var c=this.period;a.add(this.scheduler.schedule(b.dispatch,c,{index:0,subscriber:a,period:c}))};return b}(b.Observable);e.IntervalObservable=a},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(15);b=a(0);var g=a(55);a=function(a){function b(b,c){a.call(this);this.scheduler=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[g.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");b=b[g.iterator]()}else b=new f(b);else b=new k(b);this.iterator=b}h(b,a);b.create=function(a,c){return new b(a,c)};b.dispatch=function(a){var b=a.index,c=a.iterator,
d=a.subscriber;if(a.hasError)d.error(a.error);else{var f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c.return&&c.return():this.schedule(a))}};b.prototype._subscribe=function(a){var c=this.iterator,d=this.scheduler;if(d)return d.schedule(b.dispatch,0,{index:0,iterator:c,subscriber:a});do{d=c.next();if(d.done){a.complete();break}else a.next(d.value);if(a.closed){"function"===typeof c.return&&c.return();break}}while(1)};return b}(b.Observable);e.IteratorObservable=
a;var k=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.str=a;this.idx=b;this.len=c}a.prototype[g.iterator]=function(){return this};a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}};return a}(),f=function(){function a(a,b,c){void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&l.root.isFinite(c)){var f=+c;f=0===f?f:isNaN(f)?f:0>f?-1:1;c=f*Math.floor(Math.abs(c));
c=0>=c?0:c>d?d:c}this.arr=a;this.idx=b;this.len=c}a.prototype[g.iterator]=function(){return this};a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}};return a}(),d=Math.pow(2,53)-1},function(b,e,a){var h=this&&this.__extends||function(a,b){function f(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)};b=a(0);var l=a(60);a=function(a){function b(){a.call(this)}
h(b,a);b.create=function(){return new b};b.prototype._subscribe=function(a){l.noop()};return b}(b.Observable);e.NeverObservable=a},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(99);b=a(0);var g=a(21),k=a(22),f=a(98);a=function(a){function b(b,c,d){void 0===b&&(b=0);a.call(this);this.period=-1;this.dueTime=0;l.isNumeric(c)?this.period=
1>Number(c)&&1||Number(c):k.isScheduler(c)&&(d=c);k.isScheduler(d)||(d=g.async);this.scheduler=d;this.dueTime=f.isDate(b)?+b-this.scheduler.now():b}h(b,a);b.create=function(a,c,d){void 0===a&&(a=0);return new b(a,c,d)};b.dispatch=function(a){var b=a.index,c=a.period,d=a.subscriber;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.schedule(a,c)}};b.prototype._subscribe=function(a){return this.scheduler.schedule(b.dispatch,this.dueTime,{index:0,period:this.period,subscriber:a})};
return b}(b.Observable);e.TimerObservable=a},function(b,e,a){var h=a(22),l=a(28),g=a(20),k=a(291);e.combineLatest=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];var c=b=null;h.isScheduler(a[a.length-1])&&(c=a.pop());"function"===typeof a[a.length-1]&&(b=a.pop());1===a.length&&l.isArray(a[0])&&(a=a[0]);return(new g.ArrayObservable(a,c)).lift(new k.CombineLatestOperator(b))}},function(b,e,a){b=a(246);e.defer=b.DeferObservable.create},function(b,e,a){b=a(27);e.empty=b.EmptyObservable.create},
function(b,e,a){b=a(248);e.fromEvent=b.FromEventObservable.create},function(b,e,a){b=a(84);e.fromPromise=b.PromiseObservable.create},function(b,e,a){b=a(250);e.interval=b.IntervalObservable.create},function(b,e,a){b=a(88);e.merge=b.mergeStatic},function(b,e,a){b=a(252);e.never=b.NeverObservable.create},function(b,e,a){b=a(247);e._throw=b.ErrorObservable.create},function(b,e,a){b=a(253);e.timer=b.TimerObservable.create},function(b,e,a){var h=a(290);e._catch=function(a){return h.catchError(a)(this)}},
function(b,e,a){var h=a(292);e.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return h.concat.apply(void 0,a)(this)}},function(b,e,a){var h=a(89);e.concatAll=function(){return h.concatAll()(this)}},function(b,e,a){var h=a(293);e.concatMap=function(a,b){return h.concatMap(a,b)(this)}},function(b,e,a){var h=a(21),l=a(294);e.debounceTime=function(a,b){void 0===b&&(b=h.async);return l.debounceTime(a,b)(this)}},function(b,e,a){var h=a(295);e.distinctUntilChanged=function(a,
b){return h.distinctUntilChanged(a,b)(this)}},function(b,e,a){var h=a(312);e._do=function(a,b,e){return h.tap(a,b,e)(this)}},function(b,e,a){var h=a(296);e.filter=function(a,b){return h.filter(a,b)(this)}},function(b,e,a){var h=a(297);e._finally=function(a){return h.finalize(a)(this)}},function(b,e,a){var h=a(298);e.ignoreElements=function(){return h.ignoreElements()(this)}},function(b,e,a){var h=a(299);e.map=function(a,b){return h.map(a,b)(this)}},function(b,e,a){var h=a(300);e.mapTo=function(a){return h.mapTo(a)(this)}},
function(b,e,a){var h=a(53);e.mergeMap=function(a,b,e){void 0===e&&(e=Number.POSITIVE_INFINITY);return h.mergeMap(a,b,e)(this)}},function(b,e,a){var h=a(54);e.multicast=function(a,b){return h.multicast(a,b)(this)}},function(b,e,a){var h=a(301);e.pairwise=function(){return h.pairwise()(this)}},function(b,e,a){var h=a(302);e.publish=function(a){return h.publish(a)(this)}},function(b,e,a){var h=a(303);e.scan=function(a,b){return 2<=arguments.length?h.scan(a,b)(this):h.scan(a)(this)}},function(b,e,a){var h=
a(304);e.share=function(){return h.share()(this)}},function(b,e,a){var h=a(305);e.skip=function(a){return h.skip(a)(this)}},function(b,e,a){var h=a(306);e.skipUntil=function(a){return h.skipUntil(a)(this)}},function(b,e,a){var h=a(307);e.startWith=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return h.startWith.apply(void 0,a)(this)}},function(b,e,a){var h=a(308);e.switchMap=function(a,b){return h.switchMap(a,b)(this)}},function(b,e,a){var h=a(309);e.switchMapTo=function(a,
b){return h.switchMapTo(a,b)(this)}},function(b,e,a){var h=a(310);e.take=function(a){return h.take(a)(this)}},function(b,e,a){var h=a(311);e.takeUntil=function(a){return h.takeUntil(a)(this)}},function(b,e,a){var h=a(21),l=a(313);e.timeout=function(a,b){void 0===b&&(b=h.async);return l.timeout(a,b)(this)}},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,
new c)};b=a(13);var l=a(16);e.catchError=function(a){return function(b){var c=new g(a);b=b.lift(c);return c.caught=b}};var g=function(){function a(a){this.selector=a}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.selector,this.caught))};return a}(),k=function(a){function b(b,d,f){a.call(this,b);this.selector=d;this.caught=f}h(b,a);b.prototype.error=function(b){if(!this.isStopped){var c=void 0;try{c=this.selector(b,this.caught)}catch(n){a.prototype.error.call(this,n);return}this._unsubscribeAndRecycle();
this.add(l.subscribeToResult(this,c))}};return b}(b.OuterSubscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(20),g=a(28);b=a(13);var k=a(16),f={};e.combineLatest=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];var c=null;"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&g.isArray(a[0])&&(a=a[0].slice());
return function(b){return b.lift.call(new l.ArrayObservable([b].concat(a)),new d(c))}};var d=function(){function a(a){this.project=a}a.prototype.call=function(a,b){return b.subscribe(new c(a,this.project))};return a}();e.CombineLatestOperator=d;var c=function(a){function b(b,c){a.call(this,b);this.project=c;this.active=0;this.values=[];this.observables=[]}h(b,a);b.prototype._next=function(a){this.values.push(f);this.observables.push(a)};b.prototype._complete=function(){var a=this.observables,b=a.length;
if(0===b)this.destination.complete();else{this.toRespond=this.active=b;for(var c=0;c<b;c++){var d=a[c];this.add(k.subscribeToResult(this,d,d,c))}}};b.prototype.notifyComplete=function(a){0===--this.active&&this.destination.complete()};b.prototype.notifyNext=function(a,b,c,d,e){a=this.values;d=a[c];d=this.toRespond?d===f?--this.toRespond:this.toRespond:0;a[c]=b;0===d&&(this.project?this._tryProject(a):this.destination.next(a.slice()))};b.prototype._tryProject=function(a){try{var b=this.project.apply(this,
a)}catch(r){this.destination.error(r);return}this.destination.next(b)};return b}(b.OuterSubscriber);e.CombineLatestSubscriber=c},function(b,e,a){var h=a(85);e.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return function(b){return b.lift.call(h.concat.apply(void 0,[b].concat(a)))}}},function(b,e,a){var h=a(53);e.concatMap=function(a,b){return h.mergeMap(a,b,1)}},function(b,e,a){function h(a){a.debouncedNext()}var l=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var g=a(21);e.debounceTime=function(a,b){void 0===b&&(b=g.async);return function(c){return c.lift(new k(a,b))}};var k=function(){function a(a,b){this.dueTime=a;this.scheduler=b}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.dueTime,this.scheduler))};return a}(),f=function(a){function b(b,c,d){a.call(this,b);this.dueTime=c;this.scheduler=d;this.lastValue=this.debouncedSubscription=
null;this.hasValue=!1}l(b,a);b.prototype._next=function(a){this.clearDebounce();this.lastValue=a;this.hasValue=!0;this.add(this.debouncedSubscription=this.scheduler.schedule(h,this.dueTime,this))};b.prototype._complete=function(){this.debouncedNext();this.destination.complete()};b.prototype.debouncedNext=function(){this.clearDebounce();this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)};b.prototype.clearDebounce=function(){var a=this.debouncedSubscription;
null!==a&&(this.remove(a),a.unsubscribe(),this.debouncedSubscription=null)};return b}(b.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var l=a(61),g=a(34);e.distinctUntilChanged=function(a,b){return function(c){return c.lift(new k(a,b))}};var k=function(){function a(a,b){this.compare=a;this.keySelector=b}a.prototype.call=
function(a,b){return b.subscribe(new f(a,this.compare,this.keySelector))};return a}(),f=function(a){function b(b,c,d){a.call(this,b);this.keySelector=d;this.hasKey=!1;"function"===typeof c&&(this.compare=c)}h(b,a);b.prototype.compare=function(a,b){return a===b};b.prototype._next=function(a){var b=a;if(this.keySelector&&(b=l.tryCatch(this.keySelector)(a),b===g.errorObject))return this.destination.error(g.errorObject.e);var c=!1;if(this.hasKey){if(c=l.tryCatch(this.compare)(this.key,b),c===g.errorObject)return this.destination.error(g.errorObject.e)}else this.hasKey=
!0;!1===!!c&&(this.key=b,this.destination.next(a))};return b}(b.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(3);e.filter=function(a,b){return function(d){return d.lift(new l(a,b))}};var l=function(){function a(a,b){this.predicate=a;this.thisArg=b}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.predicate,
this.thisArg))};return a}(),g=function(a){function b(b,c,f){a.call(this,b);this.predicate=c;this.thisArg=f;this.count=0}h(b,a);b.prototype._next=function(a){try{var b=this.predicate.call(this.thisArg,a,this.count++)}catch(m){this.destination.error(m);return}b&&this.destination.next(a)};return b}(b.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=
b.prototype,new c)};b=a(3);var l=a(14);e.finalize=function(a){return function(b){return b.lift(new g(a))}};var g=function(){function a(a){this.callback=a}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.callback))};return a}(),k=function(a){function b(b,d){a.call(this,b);this.add(new l.Subscription(d))}h(b,a);return b}(b.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===
b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var l=a(60);e.ignoreElements=function(){return function(a){return a.lift(new g)}};var g=function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new k(a))};return a}(),k=function(a){function b(){a.apply(this,arguments)}h(b,a);b.prototype._next=function(a){l.noop()};return b}(b.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);
a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(3);e.map=function(a,b){return function(d){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return d.lift(new l(a,b))}};var l=function(){function a(a,b){this.project=a;this.thisArg=b}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.project,this.thisArg))};return a}();e.MapOperator=l;var g=function(a){function b(b,c,e){a.call(this,b);this.project=c;this.count=
0;this.thisArg=e||this}h(b,a);b.prototype._next=function(a){try{var b=this.project.call(this.thisArg,a,this.count++)}catch(m){this.destination.error(m);return}this.destination.next(b)};return b}(b.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(3);e.mapTo=function(a){return function(b){return b.lift(new l(a))}};var l=function(){function a(a){this.value=
a}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.value))};return a}(),g=function(a){function b(b,c){a.call(this,b);this.value=c}h(b,a);b.prototype._next=function(a){this.destination.next(this.value)};return b}(b.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(3);e.pairwise=function(){return function(a){return a.lift(new l)}};
var l=function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new g(a))};return a}(),g=function(a){function b(b){a.call(this,b);this.hasPrev=!1}h(b,a);b.prototype._next=function(a){this.hasPrev?this.destination.next([this.prev,a]):this.hasPrev=!0;this.prev=a};return b}(b.Subscriber)},function(b,e,a){var h=a(7),l=a(54);e.publish=function(a){return a?l.multicast(function(){return new h.Subject},a):l.multicast(new h.Subject)}},function(b,e,a){var h=this&&this.__extends||function(a,
b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(3);e.scan=function(a,b){var d=!1;2<=arguments.length&&(d=!0);return function(c){return c.lift(new l(a,b,d))}};var l=function(){function a(a,b,c){void 0===c&&(c=!1);this.accumulator=a;this.seed=b;this.hasSeed=c}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.accumulator,this.seed,this.hasSeed))};return a}(),g=function(a){function b(b,
c,e,f){a.call(this,b);this.accumulator=c;this._seed=e;this.hasSeed=f;this.index=0}h(b,a);Object.defineProperty(b.prototype,"seed",{get:function(){return this._seed},set:function(a){this.hasSeed=!0;this._seed=a},enumerable:!0,configurable:!0});b.prototype._next=function(a){if(this.hasSeed)return this._tryNext(a);this.seed=a;this.destination.next(a)};b.prototype._tryNext=function(a){var b=this.index++;try{var d=this.accumulator(this.seed,a,b)}catch(n){this.destination.error(n)}this.seed=d;this.destination.next(d)};
return b}(b.Subscriber)},function(b,e,a){function h(){return new k.Subject}var l=a(54),g=a(93),k=a(7);e.share=function(){return function(a){return g.refCount()(l.multicast(h)(a))}}},function(b,e,a){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(3);e.skip=function(a){return function(b){return b.lift(new l(a))}};var l=function(){function a(a){this.total=
a}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.total))};return a}(),g=function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0}h(b,a);b.prototype._next=function(a){++this.count>this.total&&this.destination.next(a)};return b}(b.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(13);var l=a(16);e.skipUntil=
function(a){return function(b){return b.lift(new g(a))}};var g=function(){function a(a){this.notifier=a}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.notifier))};return a}(),k=function(a){function b(b,d){a.call(this,b);this.isInnerStopped=this.hasValue=!1;this.add(l.subscribeToResult(this,d))}h(b,a);b.prototype._next=function(b){this.hasValue&&a.prototype._next.call(this,b)};b.prototype._complete=function(){this.isInnerStopped?a.prototype._complete.call(this):this.unsubscribe()};
b.prototype.notifyNext=function(a,b,d,e,f){this.hasValue=!0};b.prototype.notifyComplete=function(){this.isInnerStopped=!0;this.isStopped&&a.prototype._complete.call(this)};return b}(b.OuterSubscriber)},function(b,e,a){var h=a(20),l=a(52),g=a(27),k=a(85),f=a(22);e.startWith=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return function(b){var c=a[a.length-1];f.isScheduler(c)?a.pop():c=null;var d=a.length;return 1===d?k.concat(new l.ScalarObservable(a[0],c),b):1<d?k.concat(new h.ArrayObservable(a,
c),b):k.concat(new g.EmptyObservable(c),b)}}},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(13);var l=a(16);e.switchMap=function(a,b){return function(c){return c.lift(new g(a,b))}};var g=function(){function a(a,b){this.project=a;this.resultSelector=b}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.project,this.resultSelector))};
return a}(),k=function(a){function b(b,d,e){a.call(this,b);this.project=d;this.resultSelector=e;this.index=0}h(b,a);b.prototype._next=function(a){var b=this.index++;try{var c=this.project(a,b)}catch(p){this.destination.error(p);return}this._innerSub(c,a,b)};b.prototype._innerSub=function(a,b,d){var c=this.innerSubscription;c&&c.unsubscribe();this.add(this.innerSubscription=l.subscribeToResult(this,a,b,d))};b.prototype._complete=function(){var b=this.innerSubscription;b&&!b.closed||a.prototype._complete.call(this)};
b.prototype._unsubscribe=function(){this.innerSubscription=null};b.prototype.notifyComplete=function(b){this.remove(b);this.innerSubscription=null;this.isStopped&&a.prototype._complete.call(this)};b.prototype.notifyNext=function(a,b,d,e,f){this.resultSelector?this._tryNotifyNext(a,b,d,e):this.destination.next(b)};b.prototype._tryNotifyNext=function(a,b,d,e){try{var c=this.resultSelector(a,b,d,e)}catch(r){this.destination.error(r);return}this.destination.next(c)};return b}(b.OuterSubscriber)},function(b,
e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(13);var l=a(16);e.switchMapTo=function(a,b){return function(c){return c.lift(new g(a,b))}};var g=function(){function a(a,b){this.observable=a;this.resultSelector=b}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.observable,this.resultSelector))};return a}(),k=function(a){function b(b,
d,e){a.call(this,b);this.inner=d;this.resultSelector=e;this.index=0}h(b,a);b.prototype._next=function(a){var b=this.innerSubscription;b&&b.unsubscribe();this.add(this.innerSubscription=l.subscribeToResult(this,this.inner,a,this.index++))};b.prototype._complete=function(){var b=this.innerSubscription;b&&!b.closed||a.prototype._complete.call(this)};b.prototype._unsubscribe=function(){this.innerSubscription=null};b.prototype.notifyComplete=function(b){this.remove(b);this.innerSubscription=null;this.isStopped&&
a.prototype._complete.call(this)};b.prototype.notifyNext=function(a,b,d,e,f){f=this.destination;this.resultSelector?this.tryResultSelector(a,b,d,e):f.next(b)};b.prototype.tryResultSelector=function(a,b,d,e){var c=this.resultSelector,f=this.destination;try{var g=c(a,b,d,e)}catch(t){f.error(t);return}f.next(g)};return b}(b.OuterSubscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):
(c.prototype=b.prototype,new c)};b=a(3);var l=a(318),g=a(27);e.take=function(a){return function(b){return 0===a?new g.EmptyObservable:b.lift(new k(a))}};var k=function(){function a(a){this.total=a;if(0>this.total)throw new l.ArgumentOutOfRangeError;}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.total))};return a}(),f=function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0}h(b,a);b.prototype._next=function(a){var b=this.total,c=++this.count;c<=b&&(this.destination.next(a),
c===b&&(this.destination.complete(),this.unsubscribe()))};return b}(b.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(13);var l=a(16);e.takeUntil=function(a){return function(b){return b.lift(new g(a))}};var g=function(){function a(a){this.notifier=a}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.notifier))};
return a}(),k=function(a){function b(b,d){a.call(this,b);this.notifier=d;this.add(l.subscribeToResult(this,d))}h(b,a);b.prototype.notifyNext=function(a,b,d,e,f){this.complete()};b.prototype.notifyComplete=function(){};return b}(b.OuterSubscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(3);e.tap=function(a,b,c){return function(d){return d.lift(new g(a,
b,c))}};var g=function(){function a(a,b,e){this.nextOrObserver=a;this.error=b;this.complete=e}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.nextOrObserver,this.error,this.complete))};return a}(),k=function(a){function b(b,d,e,f){a.call(this,b);b=new l.Subscriber(d,e,f);b.syncErrorThrowable=!0;this.add(b);this.safeSubscriber=b}h(b,a);b.prototype._next=function(a){var b=this.safeSubscriber;b.next(a);b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.next(a)};
b.prototype._error=function(a){var b=this.safeSubscriber;b.error(a);b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.error(a)};b.prototype._complete=function(){var a=this.safeSubscriber;a.complete();a.syncErrorThrown?this.destination.error(a.syncErrorValue):this.destination.complete()};return b}(l.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):
(c.prototype=b.prototype,new c)},l=a(21),g=a(98);b=a(3);var k=a(96);e.timeout=function(a,b){void 0===b&&(b=l.async);var c=g.isDate(a),d=c?+a-b.now():Math.abs(a);return function(a){return a.lift(new f(d,c,b,new k.TimeoutError))}};var f=function(){function a(a,b,c,d){this.waitFor=a;this.absoluteTimeout=b;this.scheduler=c;this.errorInstance=d}a.prototype.call=function(a,b){return b.subscribe(new d(a,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))};return a}(),d=function(a){function b(b,
c,d,e,f){a.call(this,b);this.absoluteTimeout=c;this.waitFor=d;this.scheduler=e;this.errorInstance=f;this.action=null;this.scheduleTimeout()}h(b,a);b.dispatchTimeout=function(a){a.error(a.errorInstance)};b.prototype.scheduleTimeout=function(){var a=this.action;a?this.action=a.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(b.dispatchTimeout,this.waitFor,this))};b.prototype._next=function(b){this.absoluteTimeout||this.scheduleTimeout();a.prototype._next.call(this,b)};b.prototype._unsubscribe=
function(){this.errorInstance=this.scheduler=this.action=null};return b}(b.Subscriber)},function(b,e,a){var h=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=function(a){function b(b,e){a.call(this)}h(b,a);b.prototype.schedule=function(a,b){return this};return b}(a(14).Subscription);e.Action=b},function(b,e,a){var h=this&&this.__extends||function(a,b){function e(){this.constructor=
a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=function(a){function b(b,e){a.call(this,b,e);this.scheduler=b;this.work=e}h(b,a);b.prototype.schedule=function(b,e){void 0===e&&(e=0);if(0<e)return a.prototype.schedule.call(this,b,e);this.delay=e;this.state=b;this.scheduler.flush(this);return this};b.prototype.execute=function(b,e){return 0<e||this.closed?a.prototype.execute.call(this,b,e):this._execute(b,e)};b.prototype.requestAsyncId=
function(b,e,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.delay?a.prototype.requestAsyncId.call(this,b,e,d):b.flush(this)};return b}(a(94).AsyncAction);e.QueueAction=b},function(b,e,a){var h=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=function(a){function b(){a.apply(this,arguments)}h(b,a);return b}(a(95).AsyncScheduler);e.QueueScheduler=b},
function(b,e,a){b=a(315);a=a(316);e.queue=new a.QueueScheduler(b.QueueAction)},function(b,e,a){var h=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=function(a){function b(){var b=a.call(this,"argument out of range");this.name=b.name="ArgumentOutOfRangeError";this.stack=b.stack;this.message=b.message}h(b,a);return b}(Error);e.ArgumentOutOfRangeError=b},function(b,
e,a){var h=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=function(a){function b(b){a.call(this);this.errors=b;b=Error.call(this,b?b.length+" errors occurred during unsubscription:\n  "+b.map(function(a,b){return b+1+") "+a.toString()}).join("\n  "):"");this.name=b.name="UnsubscriptionError";this.stack=b.stack;this.message=b.message}h(b,a);return b}(Error);
e.UnsubscriptionError=b},function(b,e,a){e.identity=function(a){return a}},function(b,e,a){function h(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a)},b)}:l.noop}var l=a(60);e.pipe=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return h(a)};e.pipeFromArray=h},function(b,e,a){var h=a(3),l=a(57),g=a(81);e.toSubscriber=function(a,b,d){if(a){if(a instanceof h.Subscriber)return a;if(a[l.rxSubscriber])return a[l.rxSubscriber]()}return a||b||d?
new h.Subscriber(a,b,d):new h.Subscriber(g.empty)}},function(b,e){e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(e=window)}b.exports=e}])});
