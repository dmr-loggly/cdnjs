var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,e,a){c!=Array.prototype&&c!=Object.prototype&&(c[e]=a.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var e=0;return $jscomp.iteratorPrototype(function(){return e<c.length?{done:!1,value:c[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,e){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var a=0,h={next:function(){if(a<c.length){var l=a++;return{value:e(l,c[l]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill=function(c,e,a,h){if(e){a=$jscomp.global;c=c.split(".");for(h=0;h<c.length-1;h++){var l=c[h];l in a||(a[l]={});a=a[l]}c=c[c.length-1];h=a[c];e=e(h);e!=h&&null!=e&&$jscomp.defineProperty(a,c,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(c){return c?c:function(){return[]}},"es6","es5");
$jscomp.owns=function(c,e){return Object.prototype.hasOwnProperty.call(c,e)};$jscomp.polyfill("Object.assign",function(c){return c?c:function(c,a){for(var e=1;e<arguments.length;e++){var l=arguments[e];if(l)for(var f in l)$jscomp.owns(l,f)&&(c[f]=l[f])}return c}},"es6","es3");
$jscomp.checkStringArgs=function(c,e,a){if(null==c)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return c+""};
$jscomp.polyfill("String.prototype.startsWith",function(c){return c?c:function(c,a){var e=$jscomp.checkStringArgs(this,c,"startsWith");c+="";var l=e.length,f=c.length;a=Math.max(0,Math.min(a|0,e.length));for(var k=0;k<f&&a<l;)if(e[a++]!=c[k++])return!1;return k>=f}},"es6","es3");$jscomp.polyfill("Object.is",function(c){return c?c:function(c,a){return c===a?0!==c||1/c===1/a:c!==c&&a!==a}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(c){return c?c:function(c,a){var e=this;e instanceof String&&(e=String(e));var l=e.length;for(a=a||0;a<l;a++)if(e[a]==c||Object.is(e[a],c))return!0;return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(c){return c?c:function(c,a){return-1!==$jscomp.checkStringArgs(this,c,"includes").indexOf(c,a||0)}},"es6","es3");
$jscomp.findInternal=function(c,e,a){c instanceof String&&(c=String(c));for(var h=c.length,l=0;l<h;l++){var f=c[l];if(e.call(a,f,l,c))return{i:l,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,a){return $jscomp.findInternal(this,c,a).v}},"es6","es3");$jscomp.polyfill("Array.prototype.values",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c,a){return a})}},"es6","es3");
(function(c,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports.RxPlayer=e():c.RxPlayer=e()})(this,function(){return function(c){function e(h){if(a[h])return a[h].exports;var l=a[h]={i:h,l:!1,exports:{}};c[h].call(l.exports,l,l.exports,e);l.l=!0;return l.exports}var a={};e.m=c;e.c=a;e.i=function(a){return a};e.d=function(a,c,f){e.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,
get:f})};e.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};e.d(c,"a",c);return c};e.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};e.p="";return e(e.s=150)}([function(c,e,a){var h=a(16),l=a(291),f=a(56);c=function(){function a(a){this._isScalar=!1;a&&(this._subscribe=a)}a.prototype.lift=function(d){var b=new a;b.source=this;b.operator=d;return b};a.prototype.subscribe=function(a,b,g){var d=this.operator;a=l.toSubscriber(a,b,g);d?d.call(a,
this.source):a.add(this.source?this._subscribe(a):this._trySubscribe(a));if(a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a};a.prototype._trySubscribe=function(a){try{return this._subscribe(a)}catch(b){a.syncErrorThrown=!0,a.syncErrorValue=b,a.error(b)}};a.prototype.forEach=function(a,b){var g=this;b||(h.root.Rx&&h.root.Rx.config&&h.root.Rx.config.Promise?b=h.root.Rx.config.Promise:h.root.Promise&&(b=h.root.Promise));if(!b)throw Error("no Promise impl found");
return new b(function(b,d){var m=g.subscribe(function(b){if(m)try{a(b)}catch(r){d(r),m.unsubscribe()}else a(b)},d,b)})};a.prototype._subscribe=function(a){return this.source.subscribe(a)};a.prototype[f.observable]=function(){return this};a.create=function(d){return new a(d)};return a}();e.Observable=c},function(c,e,a){function h(){}function l(){}var f={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},k=0;h.LEVELS=Object.keys(f);h.error=l;h.warn=l;h.info=l;h.debug=l;h.setLevel=function(a){var b;(b=f[a])?k=
a:(b=0,k="NONE");h.error=b>=f.ERROR?console.error.bind(console):l;h.warn=b>=f.WARNING?console.warn.bind(console):l;h.info=b>=f.INFO?console.info.bind(console):l;h.debug=b>=f.DEBUG?console.log.bind(console):l};h.getLevel=function(){return k};e.a=h},function(c,e,a){function h(a){this.name="AssertionError";this.message=a;Error.captureStackTrace&&Error.captureStackTrace(this,h)}function l(a,d){if(!a)throw new h(d);}var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:
function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};h.prototype=Error();l.equal=function(a,d,b){return l(a===d,b)};l.iface=function(a,d,b){l(a,d+" should be an object");for(var g in b)l.equal(f(a[g]),b[g],d+" should have property "+g+" as a "+b[g])};e.a=l},function(c,e,a){var h=this&&this.__extends||function(a,g){function b(){this.constructor=a}for(var d in g)g.hasOwnProperty(d)&&(a[d]=g[d]);a.prototype=null===g?Object.create(g):(b.prototype=
g.prototype,new b)},l=a(59);c=a(15);var f=a(80),k=a(57);a=function(a){function b(g,n,k){a.call(this);this.syncErrorValue=null;this.isStopped=this.syncErrorThrowable=this.syncErrorThrown=!1;switch(arguments.length){case 0:this.destination=f.empty;break;case 1:if(!g){this.destination=f.empty;break}if("object"===typeof g){g instanceof b?(this.destination=g,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new d(this,g));break}default:this.syncErrorThrowable=!0,this.destination=
new d(this,g,n,k)}}h(b,a);b.prototype[k.rxSubscriber]=function(){return this};b.create=function(a,g,d){a=new b(a,g,d);a.syncErrorThrowable=!1;return a};b.prototype.next=function(a){this.isStopped||this._next(a)};b.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))};b.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())};b.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))};b.prototype._next=
function(a){this.destination.next(a)};b.prototype._error=function(a){this.destination.error(a);this.unsubscribe()};b.prototype._complete=function(){this.destination.complete();this.unsubscribe()};b.prototype._unsubscribeAndRecycle=function(){var a=this._parent,b=this._parents;this._parents=this._parent=null;this.unsubscribe();this.isStopped=this.closed=!1;this._parent=a;this._parents=b;return this};return b}(c.Subscription);e.Subscriber=a;var d=function(a){function b(b,g,d,k){a.call(this);this._parentSubscriber=
b;b=this;if(l.isFunction(g))var m=g;else g&&(m=g.next,d=g.error,k=g.complete,g!==f.empty&&(b=Object.create(g),l.isFunction(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this._context=b;this._next=m;this._error=d;this._complete=k}h(b,a);b.prototype.next=function(a){if(!this.isStopped&&this._next){var b=this._parentSubscriber;b.syncErrorThrowable?this.__tryOrSetError(b,this._next,a)&&this.unsubscribe():this.__tryOrUnsub(this._next,a)}};b.prototype.error=
function(a){if(!this.isStopped){var b=this._parentSubscriber;if(this._error)b.syncErrorThrowable?this.__tryOrSetError(b,this._error,a):this.__tryOrUnsub(this._error,a),this.unsubscribe();else if(b.syncErrorThrowable)b.syncErrorValue=a,b.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};b.prototype.complete=function(){var a=this;if(!this.isStopped){var b=this._parentSubscriber;if(this._complete){var g=function(){return a._complete.call(a._context)};b.syncErrorThrowable?this.__tryOrSetError(b,
g):this.__tryOrUnsub(g)}this.unsubscribe()}};b.prototype.__tryOrUnsub=function(a,b){try{a.call(this._context,b)}catch(p){throw this.unsubscribe(),p;}};b.prototype.__tryOrSetError=function(a,b,g){try{b.call(this._context,g)}catch(q){return a.syncErrorValue=q,a.syncErrorThrown=!0}return!1};b.prototype._unsubscribe=function(){var a=this._parentSubscriber;this._parentSubscriber=this._context=null;a.unsubscribe()};return b}(a)},function(c,e,a){e.a={DEFAULT_UNMUTED_VOLUME:.1,DEFAULT_TEXT_TRACK_MODE:"native",
DEFAULT_AUTO_PLAY:!1,DEFAULT_SHOW_NATIVE_SUBTITLE:!0,DEFAULT_WANTED_BUFFER_AHEAD:30,DEFAULT_MAX_BUFFER_AHEAD:Infinity,DEFAULT_MAX_BUFFER_BEHIND:Infinity,DEFAULT_INITIAL_BITRATES:{audio:0,video:0,other:0},DEFAULT_MAX_BITRATES:{audio:Infinity,video:Infinity,other:Infinity},DEFAULT_ADAPTIVE_BUFFER_THRESHOLD:.3,INACTIVITY_DELAY:6E4,DEFAULT_THROTTLE_WHEN_HIDDEN:!1,DEFAULT_LIMIT_VIDEO_WIDTH:!1,DEFAULT_LIVE_GAP:10,DEFAULT_SUGGESTED_PRESENTATION_DELAY:{SMOOTH:10,DASH:10},DISCONTINUITY_THRESHOLD:1,END_OF_PLAY:.5,
BITRATE_REBUFFERING_RATIO:1.5,BUFFER_GC_GAPS:{CALM:240,BEEFY:30},DEFAULT_MAX_PIPELINES_RETRY_ON_ERROR:4,DEFAULT_MAX_PIPELINES_RETRY_ON_OFFLINE:Infinity,INITIAL_BACKOFF_DELAY_BASE:200,MAX_BACKOFF_DELAY_BASE:3E3,SAMPLING_INTERVAL_MEDIASOURCE:1E3,SAMPLING_INTERVAL_NO_MEDIASOURCE:500,ABR_MINIMUM_TOTAL_BYTES:2E5,ABR_MINIMUM_CHUNK_SIZE:16E3,ABR_STARVATION_FACTOR:.85,ABR_REGULAR_FACTOR:.98,ABR_STARVATION_GAP:5,OUT_OF_STARVATION_GAP:7,RESUME_AFTER_SEEKING_GAP:.5,RESUME_AFTER_BUFFERING_GAP:5,STALL_GAP:.5,
MAX_TIME_MISSING_FROM_COMPLETE_SEGMENT:.12,MAX_BUFFERED_DISTANCE:.1,MINIMUM_SEGMENT_SIZE:.3,MAXIMUM_HTML_TEXT_TRACK_UPDATE_INTERVAL:100,EME_DEFAULT_WIDEVINE_ROBUSTNESSES:["HW_SECURE_ALL","HW_SECURE_DECODE","HW_SECURE_CRYPTO","SW_SECURE_DECODE","SW_SECURE_CRYPTO"],EME_KEY_SYSTEMS:{clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.chromecast.playready","com.youtube.playready"]}}},function(c,e,a){function h(a){return!!t.a&&
t.a.isTypeSupported(a)}function l(){return t.b}function f(){return t.b}function k(a){return a.readyState>=t.c.HAVE_METADATA?q.Observable.of(null):u.h(a).take(1)}function d(b){return b.readyState>=t.c.HAVE_ENOUGH_DATA?q.Observable.of(null):a.i(r.a)(b,"canplay").take(1)}function b(a,b){var g=void 0;if(t.b){var d=a.textTracks.length;a=0<d?a.textTracks[d-1]:a.addTextTrack("subtitles");a.mode=b?a.HIDDEN:a.SHOWING}else g=document.createElement("track"),a.appendChild(g),a=g.track,g.kind="subtitles",a.mode=
b?"hidden":"showing";return{track:a,trackElement:g}}function g(a){return t.d&&a.stalled&&"timeupdate"===a.state&&a.range&&10<a.range.end-a.currentTime}function m(a){a.src="";a.removeAttribute("src")}function n(){return!1===navigator.onLine}function p(a,b,g){return a>=b?(w.a.warn("Invalid cue times: "+a+" - "+b),null):new t.e(a,b,g)}a.d(e,"o",function(){return b});a.d(e,"k",function(){return d});a.d(e,"j",function(){return k});a.d(e,"l",function(){return m});a.d(e,"q",function(){return h});a.d(e,"r",
function(){return n});a.d(e,"n",function(){return g});a.d(e,"p",function(){return p});a.d(e,"f",function(){return l});a.d(e,"e",function(){return f});var q=a(0);a.n(q);var r=a(49);c=a(31);var w=a(1),t=a(35),u=a(13),v=a(100),x=a(98);a.d(e,"a",function(){return t.f});a.d(e,"g",function(){return x.a});a.d(e,"m",function(){return t.a});a.d(e,"c",function(){return v.a});a.d(e,"b",function(){return v.b});a.d(e,"s",function(){return t.b});a.d(e,"d",function(){return v.c});a.d(e,"h",function(){return x.b});
a.d(e,"i",function(){return x.c});if(window.WebKitSourceBuffer&&!window.WebKitSourceBuffer.prototype.addEventListener){e=window.WebKitSourceBuffer.prototype;for(var y in c.a.prototype)e[y]=c.a.prototype[y];e.__listeners=[];e.appendBuffer=function(a){if(this.updating)throw Error("updating");this.trigger("updatestart");this.updating=!0;try{this.append(a)}catch(A){this.__emitUpdate("error",A);return}this.__emitUpdate("update")};e.__emitUpdate=function(a,b){var g=this;setTimeout(function(){g.trigger(a,
b);g.updating=!1;g.trigger("updateend")},0)}}},function(c,e,a){var h=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;c.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var d={};for(a=0;10>a;a++)d["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(d).map(function(a){return d[a]}).join(""))return!1;var b={};"abcdefghijklmnopqrst".split("").forEach(function(a){b[a]=
a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},b)).join("")?!1:!0}catch(g){return!1}}()?Object.assign:function(a,d){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var b=Object(a);for(var g,m=1;m<arguments.length;m++){var k=Object(arguments[m]);for(var c in k)l.call(k,c)&&(b[c]=k[c]);if(h){g=h(k);for(var e=0;e<g.length;e++)f.call(k,g[e])&&(b[g[e]]=k[g[e]])}}return b}},function(c,e,a){var h=this&&this.__extends||function(a,b){function g(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)},l=a(0);c=a(3);var f=a(15),k=a(58),d=a(82),b=a(57),g=function(a){function b(b){a.call(this,b);this.destination=b}h(b,a);return b}(c.Subscriber);e.SubjectSubscriber=g;a=function(a){function n(){a.call(this);this.observers=[];this.hasError=this.isStopped=this.closed=!1;this.thrownError=null}h(n,a);n.prototype[b.rxSubscriber]=function(){return new g(this)};n.prototype.lift=function(a){var b=
new m(this,this);b.operator=a;return b};n.prototype.next=function(a){if(this.closed)throw new k.ObjectUnsubscribedError;if(!this.isStopped){var b=this.observers,g=b.length;b=b.slice();for(var d=0;d<g;d++)b[d].next(a)}};n.prototype.error=function(a){if(this.closed)throw new k.ObjectUnsubscribedError;this.hasError=!0;this.thrownError=a;this.isStopped=!0;var b=this.observers,g=b.length;b=b.slice();for(var d=0;d<g;d++)b[d].error(a);this.observers.length=0};n.prototype.complete=function(){if(this.closed)throw new k.ObjectUnsubscribedError;
this.isStopped=!0;var a=this.observers,b=a.length;a=a.slice();for(var g=0;g<b;g++)a[g].complete();this.observers.length=0};n.prototype.unsubscribe=function(){this.closed=this.isStopped=!0;this.observers=null};n.prototype._trySubscribe=function(b){if(this.closed)throw new k.ObjectUnsubscribedError;return a.prototype._trySubscribe.call(this,b)};n.prototype._subscribe=function(a){if(this.closed)throw new k.ObjectUnsubscribedError;if(this.hasError)return a.error(this.thrownError),f.Subscription.EMPTY;
if(this.isStopped)return a.complete(),f.Subscription.EMPTY;this.observers.push(a);return new d.SubjectSubscription(this,a)};n.prototype.asObservable=function(){var a=new l.Observable;a.source=this;return a};n.create=function(a,b){return new m(a,b)};return n}(l.Observable);e.Subject=a;var m=function(a){function b(b,g){a.call(this);this.destination=b;this.source=g}h(b,a);b.prototype.next=function(a){var b=this.destination;b&&b.next&&b.next(a)};b.prototype.error=function(a){var b=this.destination;b&&
b.error&&this.destination.error(a)};b.prototype.complete=function(){var a=this.destination;a&&a.complete&&this.destination.complete()};b.prototype._subscribe=function(a){return this.source?this.source.subscribe(a):f.Subscription.EMPTY};return b}(a);e.AnonymousSubject=m},function(c,e,a){function h(a){return!!a&&!!a.type&&0<=l.a.keys.indexOf(a.type)}a.d(e,"d",function(){return h});var l=a(19),f=a(39),k=a(146),d=a(22),b=a(147),g=a(148),m=a(149);a.d(e,"b",function(){return l.b});a.d(e,"a",function(){return l.a});
a.d(e,"j",function(){return l.c});a.d(e,"c",function(){return f.a});a.d(e,"g",function(){return k.a});a.d(e,"f",function(){return d.a});a.d(e,"i",function(){return b.a});a.d(e,"e",function(){return g.a});a.d(e,"h",function(){return m.a})},function(c,e,a){e.a=function(a,c,f){if("function"===typeof Array.prototype.includes)return a.includes(c,f);var k=a.length>>>0;if(0===k)return!1;f|=0;for(f=Math.max(0<=f?f:k-Math.abs(f),0);f<k;){var d=a[f],b=c;if(d===b||"number"===typeof d&&"number"===typeof b&&isNaN(d)&&
isNaN(b))return!0;f++}return!1}},function(c,e,a){e.a=function(a){return a instanceof h.Observable?a:a&&"function"==typeof a.subscribe?new h.Observable(function(f){var k=a.subscribe(function(a){return f.next(a)},function(a){return f.error(a)},function(){return f.complete()});return function(){k&&k.dispose?k.dispose():k&&k.unsubscribe&&k.unsubscribe()}}):a&&"function"==typeof a.then?h.Observable.fromPromise(a):h.Observable.of(a)};var h=a(0);a.n(h)},function(c,e,a){var h=this&&this.__extends||function(a,
f){function k(){this.constructor=a}for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d]);a.prototype=null===f?Object.create(f):(k.prototype=f.prototype,new k)};c=function(a){function f(){a.apply(this,arguments)}h(f,a);f.prototype.notifyNext=function(a,d,b,g,f){this.destination.next(d)};f.prototype.notifyError=function(a,d){this.destination.error(a)};f.prototype.notifyComplete=function(a){this.destination.complete()};return f}(a(3).Subscriber);e.OuterSubscriber=c},function(c,e,a){var h=a(16),l=a(91),f=a(95),
k=a(94),d=a(0),b=a(55),g=a(197),m=a(56);e.subscribeToResult=function(a,c,e,r){var n=new g.InnerSubscriber(a,e,r);if(n.closed)return null;if(c instanceof d.Observable)if(c._isScalar)n.next(c.value),n.complete();else return c.subscribe(n);else if(l.isArrayLike(c)){a=0;for(e=c.length;a<e&&!n.closed;a++)n.next(c[a]);n.closed||n.complete()}else{if(f.isPromise(c))return c.then(function(a){n.closed||(n.next(a),n.complete())},function(a){return n.error(a)}).then(null,function(a){h.root.setTimeout(function(){throw a;
})}),n;if(c&&"function"===typeof c[b.iterator]){c=c[b.iterator]();do{a=c.next();if(a.done){n.complete();break}n.next(a.value);if(n.closed)break}while(1)}else if(c&&"function"===typeof c[m.observable])if(c=c[m.observable](),"function"!==typeof c.subscribe)n.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return c.subscribe(new g.InnerSubscriber(a,e,r));else c=k.isObject(c)?"an invalid object":"'"+c+"'",n.error(new TypeError("You provided "+c+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}return null}},
function(c,e,a){function h(a,b){return b.filter(function(b){var g=document.createElement(a.tagName);b="on"+b;b in g?g=!0:(g.setAttribute(b,"return;"),g="function"==typeof g[b]);return g})[0]}function l(a,g){return a.reduce(function(a,d){return a.concat((g||b.h).map(function(a){return a+d}))},[])}function f(g,f){var m=void 0;g=l(g,f);return function(f){return f instanceof b.i?("undefined"==typeof m&&(m=h(f,g)||null),m?k.Observable.fromEvent(f,m):k.Observable.never()):a.i(d.a)(f,g)}}a.d(e,"c",function(){return p});
a.d(e,"d",function(){return q});a.d(e,"e",function(){return x});a.d(e,"b",function(){return y});a.d(e,"h",function(){return r});a.d(e,"m",function(){return w});a.d(e,"n",function(){return t});a.d(e,"o",function(){return u});a.d(e,"a",function(){return v});a.d(e,"g",function(){return z});a.d(e,"f",function(){return A});a.d(e,"k",function(){return C});a.d(e,"i",function(){return E});a.d(e,"j",function(){return D});a.d(e,"l",function(){return B});var k=a(0);a.n(k);c=a(4);a(1);var d=a(49),b=a(35);c=c.a.INACTIVITY_DELAY;
var g=window.devicePixelRatio||1;e=function(){var b=void 0;null!=document.hidden?b="":null!=document.mozHidden?b="moz":null!=document.msHidden?b="ms":null!=document.webkitHidden&&(b="webkit");var g=b?b+"Hidden":"hidden";b+="visibilitychange";return a.i(d.a)(document,b).map(function(){return document[g]})};var m=e().filter(function(a){return!1===a}),n=e().debounceTime(c).filter(function(a){return!0===a}),p=function(){return k.Observable.merge(m,n).startWith(!1)},q=function(b){return k.Observable.merge(k.Observable.interval(2E4),
a.i(d.a)(window,"resize").debounceTime(500)).startWith("init").map(function(){return b.clientWidth*g}).distinctUntilChanged()},r=f(["loadedmetadata"]),w=f(["seeking"]),t=f(["seeked"]),u=f(["ended"]);f(["timeupdate"]);var v=f(["fullscreenchange","FullscreenChange"],b.h.concat("MS")),x=f(["play","pause"]),y=f(["addtrack","removetrack"]),z=f(["sourceopen","webkitsourceopen"]),A=f(["encrypted","needkey"]),C=f(["keymessage","message"]),E=f(["keyadded","ready"]),D=f(["keyerror","error"]),B=f(["keystatuseschange"])},
function(c,e,a){function h(a,b){return{start:Math.min(a.start,b.start),end:Math.max(a.end,b.end)}}function l(a,b){var g=a.end;return a.start<=b&&b<g}function f(a,b){return l(a,b.start)||a.start<b.end&&b.end<a.end||l(b,a.start)}function k(a){for(var b=[],g=0;g<a.length;g++)b.push({start:a.start(g),end:a.end(g)});return b}function d(a,b){for(var g=a.length-1;0<=g;g--){var d=a.start(g);if(b>=d){var f=a.end(g);if(b<f)return{start:d,end:f}}}return null}function b(a,b){for(var g=a.length,d=0;d<g;d++){var f=
a.start(d);if(b<f)return f-b}return Infinity}function g(a,b){for(var g=null,d=[],f=a.length-1;0<=f;f--){var m=a.start(f),k=a.end(f);b<m||b>=k?d.push({start:m,end:k}):g={start:m,end:k}}return{outerRanges:d,innerRange:g}}function m(a,b){return(a=d(a,b))?a.end-a.start:0}function n(a,b){return(a=d(a,b))?b-a.start:0}function p(a,b){return(a=d(a,b))?a.end-b:Infinity}function q(a,b){if(b.start===b.end)return a;for(var g=0;g<a.length;g++){var d=a[g],m=f(b,d),k=Math.abs(d.start-b.end)<w||Math.abs(d.end-b.start)<
w;if(m||k)b=h(b,d),a.splice(g--,1);else if(0===g){if(b.end<=a[0].start)break}else if(a[g-1].end<=b.start&&b.end<=d.start)break}a.splice(g,0,b);for(b=0;b<a.length;b++)g=a[b],g.start===g.end&&a.splice(b++,1);for(b=1;b<a.length;b++)if(g=a[b-1],d=a[b],Math.abs(d.start-g.end)<w||Math.abs(d.end-g.start)<w)g=h(g,d),a.splice(--b,2,g);return a}function r(a,b){for(var g=0;g<a.length;g++){var d=a[g];a:{var m=d;for(var k=b,n=0;n<k.length;n++)if(f(m,k[n])){m=k[n];break a}m=null}m?m.start>d.start?d.start=m.start:
m.end<d.end&&(d.end=m.end):a.splice(g--,1)}return a}a.d(e,"h",function(){return k});a.d(e,"g",function(){return g});a.d(e,"a",function(){return p});a.d(e,"d",function(){return b});a.d(e,"c",function(){return n});a.d(e,"i",function(){return d});a.d(e,"b",function(){return m});a.d(e,"e",function(){return q});a.d(e,"f",function(){return r});var w=1/60},function(c,e,a){function h(a){return a.reduce(function(a,b){return a.concat(b instanceof g.UnsubscriptionError?b.errors:b)},[])}var l=a(27),f=a(94),k=
a(59),d=a(60),b=a(34),g=a(290);c=function(){function a(a){this.closed=!1;this._subscriptions=this._parents=this._parent=null;a&&(this._unsubscribe=a)}a.prototype.unsubscribe=function(){var a=!1;if(!this.closed){var m=this._parent;var c=this._parents,e=this._unsubscribe,w=this._subscriptions;this.closed=!0;this._subscriptions=this._parents=this._parent=null;for(var t=-1,u=c?c.length:0;m;)m.remove(this),m=++t<u&&c[t]||null;if(k.isFunction(e)&&(m=d.tryCatch(e).call(this),m===b.errorObject)){a=!0;var v=
v||(b.errorObject.e instanceof g.UnsubscriptionError?h(b.errorObject.e.errors):[b.errorObject.e])}if(l.isArray(w))for(t=-1,u=w.length;++t<u;)m=w[t],f.isObject(m)&&(m=d.tryCatch(m.unsubscribe).call(m),m===b.errorObject&&(a=!0,v=v||[],m=b.errorObject.e,m instanceof g.UnsubscriptionError?v=v.concat(h(m.errors)):v.push(m)));if(a)throw new g.UnsubscriptionError(v);}};a.prototype.add=function(b){if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;var g=b;switch(typeof b){case "function":g=new a(b);
case "object":if(g.closed||"function"!==typeof g.unsubscribe)return g;if(this.closed)return g.unsubscribe(),g;"function"!==typeof g._addParent&&(b=g,g=new a,g._subscriptions=[b]);break;default:throw Error("unrecognized teardown "+b+" added to Subscription.");}(this._subscriptions||(this._subscriptions=[])).push(g);g._addParent(this);return g};a.prototype.remove=function(a){var b=this._subscriptions;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1))};a.prototype._addParent=function(a){var b=this._parent,g=
this._parents;b&&b!==a?g?-1===g.indexOf(a)&&g.push(a):this._parents=[a]:this._parent=a};a.EMPTY=function(a){a.closed=!0;return a}(new a);return a}();e.Subscription=c},function(c,e,a){c=a(292);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;c="undefined"!==typeof window&&window||"undefined"!==typeof c&&c||a;e.root=c;if(!c)throw Error("RxJS could not find any global context (window, self, global)");},function(c,e,a){var h=this&&this.__extends||
function(a,b){function g(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)};c=a(0);var l=a(52),f=a(26),k=a(21);a=function(a){function b(b,d){a.call(this);this.array=b;this.scheduler=d;d||1!==b.length||(this._isScalar=!0,this.value=b[0])}h(b,a);b.create=function(a,d){return new b(a,d)};b.of=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];d=a[a.length-1];k.isScheduler(d)?a.pop():d=null;var n=
a.length;return 1<n?new b(a,d):1===n?new l.ScalarObservable(a[0],d):new f.EmptyObservable(d)};b.dispatch=function(a){var b=a.array,g=a.index,d=a.subscriber;g>=a.count?d.complete():(d.next(b[g]),d.closed||(a.index=g+1,this.schedule(a)))};b.prototype._subscribe=function(a){var g=this.array,d=g.length,f=this.scheduler;if(f)return f.schedule(b.dispatch,0,{array:g,index:0,count:d,subscriber:a});for(f=0;f<d&&!a.closed;f++)a.next(g[f]);a.complete()};return b}(c.Observable);e.ArrayObservable=a},function(c,
e,a){c.exports=function(a,c,f){if("function"===typeof Array.prototype.find)return a.find(c,f);f=f||this;var k=a.length,d;if("function"!==typeof c)throw new TypeError(c+" is not a function");for(d=0;d<k;d++)if(c.call(f,a[d],d,a))return a[d]}},function(c,e,a){a.d(e,"a",function(){return h});a.d(e,"c",function(){return l});a.d(e,"b",function(){return f});c=a(190);var h=a.i(c.a)(["NETWORK_ERROR","MEDIA_ERROR","ENCRYPTED_MEDIA_ERROR","INDEX_ERROR","OTHER_ERROR"]),l=a.i(c.a)(["TIMEOUT","ERROR_EVENT","ERROR_HTTP_CODE",
"PARSE_ERROR"]),f=a.i(c.a)("PIPELINE_RESOLVE_ERROR PIPELINE_LOAD_ERROR PIPELINE_PARSING_ERROR MANIFEST_PARSE_ERROR MANIFEST_INCOMPATIBLE_CODECS_ERROR MEDIA_IS_ENCRYPTED_ERROR KEY_ERROR KEY_STATUS_CHANGE_ERROR KEY_UPDATE_ERROR KEY_LOAD_ERROR KEY_LOAD_TIMEOUT KEY_GENERATE_REQUEST_ERROR INCOMPATIBLE_KEYSYSTEMS LICENSE_SERVER_CERTIFICATE_ERROR BUFFER_APPEND_ERROR BUFFER_FULL_ERROR BUFFER_TYPE_UNKNOWN MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_SOURCE_NOT_SUPPORTED MEDIA_KEYS_NOT_SUPPORTED OUT_OF_INDEX_ERROR UNKNOWN_INDEX".split(" "))},
function(c,e,a){function h(){for(var a=arguments.length,b=Array(a),g=0;g<a;g++)b[g]=arguments[g];a=b.length;if(0===a)return"";g="";for(var m=0;m<a;m++){var n=b[m];"string"===typeof n&&""!==n&&(f.test(n)?g=n:("/"===n[0]&&(n=n.substr(1)),"/"===g[g.length-1]&&(g=g.substr(0,g.length-1)),g=g+"/"+n))}a=g;if(k.test(a)){b=[];a=a.split("/");g=0;for(m=a.length;g<m;g++)".."==a[g]?b.pop():"."!=a[g]&&b.push(a[g]);b=b.join("/")}else b=a;return b}function l(a){var b=a.lastIndexOf("/");return 0<=b?a.substring(0,
b+1):a}a.d(e,"b",function(){return h});a.d(e,"a",function(){return l});var f=/^(?:[a-z]+:)?\/\//i,k=/\/\.{1,2}\//},function(c,e,a){e.isScheduler=function(a){return a&&"function"===typeof a.schedule}},function(c,e,a){function h(k,d,b){this.name="MediaError";this.type=l.a.MEDIA_ERROR;this.reason=d;this.code=l.b[k];this.fatal=b;this.message=a.i(f.a)(this.name,this.code,this.reason)}var l=a(19),f=a(23);h.prototype=Error();e.a=h},function(c,e,a){e.a=function(a,f,k){if(k)switch("undefined"===typeof k?"undefined":
h(k)){case "string":return a+" ("+f+") "+k;default:return a+" ("+f+") "+k.message}else return a+" ("+f+")"};var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}},function(c,e,a){a.d(e,"d",function(){return l});a.d(e,"e",function(){return f});a.d(e,"a",function(){return k});a.d(e,"b",function(){return d});a.d(e,"c",function(){return b});a(2);
var h=a(28),l=function(a,b,d){var g=a.presentationTimeOffset||0;a=a.timescale||1;return{up:b*a-g,to:(b+d)*a-g}},f=function(a){var b=a.ts,g=a.d;a=a.r;return-1===g?b:b+(a+1)*g},k=function(a,b){var g=b.initialization;g=void 0===g?{}:g;return new h.a({id:""+a+"_init",init:!0,range:g.range||null,indexRange:b.indexRange||null,media:g.media,timescale:b.timescale})},d=function(a,b){a.timescale!==b&&(a.timescale=b);return a},b=function(a,b){return b/a.timescale}},function(c,e,a){function h(a){for(var b=a.length,
g=new Uint8Array(b),d=0;d<b;d++)g[d]=a.charCodeAt(d)&255;return g}function l(a){return String.fromCharCode.apply(null,a)}function f(a){for(var b="",g=a.length,d=0;d<g;d+=2)b+=String.fromCharCode(a[d]);return b}function k(a){for(var b=a.length,g=new Uint8Array(b/2),d=0,f=0;d<b;d+=2,f++)g[f]=parseInt(a.substr(d,2),16)&255;return g}function d(a,b){b||(b="");for(var g="",d=0;d<a.byteLength;d++)g+=(a[d]>>>4).toString(16),g+=(a[d]&15).toString(16),b.length&&d<a.byteLength-1&&(g+=b);return g}function b(){for(var a=
arguments.length,b=-1,g=0,d;++b<a;)d=arguments[b],g+="number"===typeof d?d:d.length;g=new Uint8Array(g);var f=0;for(b=-1;++b<a;)d=arguments[b],"number"===typeof d?f+=d:0<d.length&&(g.set(d,f),f+=d.length);return g}function g(a,b){return(a[0+b]<<8)+(a[1+b]<<0)}function m(a,b){return 65536*a[0+b]+256*a[1+b]+a[2+b]}function n(a,b){return 16777216*a[0+b]+65536*a[1+b]+256*a[2+b]+a[3+b]}function p(a,b){return 4294967296*(16777216*a[0+b]+65536*a[1+b]+256*a[2+b]+a[3+b])+16777216*a[4+b]+65536*a[5+b]+256*a[6+
b]+a[7+b]}function q(a){return new Uint8Array([a>>>8&255,a&255])}function r(a){return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255])}function w(a){var b=a%4294967296;a=(a-b)/4294967296;return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255,b>>>24&255,b>>>16&255,b>>>8&255,b&255])}function t(a,b){return(a[0+b]<<0)+(a[1+b]<<8)}function u(a,b){return a[0+b]+256*a[1+b]+65536*a[2+b]+16777216*a[3+b]}function v(a){x.a.equal(a.length,16,"UUID length should be 16");var b=h(a);a=b[0];var g=b[1],
f=b[2],k=b[3],m=b[4],c=b[5],n=b[6],l=b[7],e=b.subarray(8,10);b=b.subarray(10,16);var p=new Uint8Array(16);p[0]=k;p[1]=f;p[2]=g;p[3]=a;p[4]=c;p[5]=m;p[6]=l;p[7]=n;p.set(e,8);p.set(b,10);return d(p)}a.d(e,"b",function(){return h});a.d(e,"a",function(){return l});a.d(e,"l",function(){return f});a.d(e,"k",function(){return k});a.d(e,"p",function(){return d});a.d(e,"i",function(){return b});a.d(e,"g",function(){return g});a.d(e,"h",function(){return m});a.d(e,"e",function(){return n});a.d(e,"f",function(){return p});
a.d(e,"d",function(){return t});a.d(e,"c",function(){return u});a.d(e,"n",function(){return q});a.d(e,"j",function(){return r});a.d(e,"o",function(){return w});a.d(e,"m",function(){return v});var x=a(2)},function(c,e,a){var h=this&&this.__extends||function(a,f){function k(){this.constructor=a}for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d]);a.prototype=null===f?Object.create(f):(k.prototype=f.prototype,new k)};c=function(a){function f(f){a.call(this);this.scheduler=f}h(f,a);f.create=function(a){return new f(a)};
f.dispatch=function(a){a.subscriber.complete()};f.prototype._subscribe=function(a){var d=this.scheduler;if(d)return d.schedule(f.dispatch,0,{subscriber:a});a.complete()};return f}(a(0).Observable);e.EmptyObservable=c},function(c,e,a){e.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length}},function(c,e,a){e.a=function l(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.id=a.id;
this.duration=a.duration;this.isInit=!!a.init;this.range=a.range;this.time=a.time;this.indexRange=a.indexRange;this.number=a.number;this.timescale=null==a.timescale?1:a.timescale;this.media=a.media}},function(c,e,a){function h(a,g){return new Date(1E3*(a+g.availabilityStartTime))}function l(a,g){var b=g.suggestedPresentationDelay,d=g.presentationLiveGap,f=g.timeShiftBufferDepth;"number"!=typeof a&&(a=a.getTime());var k=Date.now();return Math.max(Math.min(a,k-1E3*(d+b)),k-1E3*f)/1E3-g.availabilityStartTime}
function f(a){return d(a)[0]}function k(a){if(!a.isLive)return a.getDuration();var b=a.availabilityStartTime;a=a.presentationLiveGap;return Date.now()/1E3-b-a}function d(a){if(!a.isLive)return[0,a.getDuration()];var b=a.availabilityStartTime,d=a.presentationLiveGap;a=a.timeShiftBufferDepth;b=Date.now()/1E3-b-d;return[Math.min(b,b-a+5),b]}a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});a.d(e,"c",function(){return f});a.d(e,"d",function(){return k});a.d(e,"e",function(){return d})},
function(c,e,a){function h(b,g){for(var d=b.length,f=0,m,k=void 0;f+8<d&&(k=a.i(q.e)(b,f),m=a.i(q.e)(b,f+4),a.i(p.a)(0<k,"out of range size"),m!==g);)f+=k;if(f>=d)return-1;a.i(p.a)(f+k<=d,"atom out of range");return f}function l(b,g){var d=h(b,1936286840);if(-1==d)return null;var f=a.i(q.e)(b,d);d=d+4+4;var k=b[d];d+=8;var m=a.i(q.e)(b,d);d+=4;if(0===k)k=a.i(q.e)(b,d),d+=4,g+=a.i(q.e)(b,d)+f,d+=4;else if(1===k)k=a.i(q.f)(b,d),d+=8,g+=a.i(q.f)(b,d)+f,d+=8;else return null;f=[];d+=2;var c=a.i(q.g)(b,
d);for(d+=2;0<=--c;){var n=a.i(q.e)(b,d);d+=4;var l=n&2147483647;if(1==(n&2147483648)>>>31)throw Error("not implemented");n=a.i(q.e)(b,d);d+=4;d+=4;f.push({time:k,duration:n,count:0,timescale:m,range:[g,g+l-1]});k+=n;g+=l}return f}function f(g){g=b(g,1836019558);if(!g)return-1;g=b(g,1953653094);if(!g)return-1;var d=h(g,1952867444);if(-1==d)return-1;d=d+4+4;var f=g[d];d+=4;return 1<f?-1:f?a.i(q.f)(g,d):a.i(q.e)(g,d)}function k(g){g=b(g,1836019558);if(!g)return-1;g=b(g,1953653094);if(!g)return-1;var d=
h(g,1953658222);if(-1==d)return-1;d=d+4+4;var f=g[d];d+=1;if(1<f)return-1;var k=a.i(q.h)(g,d);d+=3;f=k&256;var m=0;if(!f)return d=h(g,1952868452),-1==d?m=-1:(d=d+4+4+1,f=a.i(q.h)(g,d),f&8?(d+=4,f&1&&(d+=8),f&2&&(d+=4),m=a.i(q.e)(g,d)):m=-1),0<=m?m:-1;var c=k&1,n=k&4,l=k&512,e=k&1024;k&=2048;var p=a.i(q.e)(g,d);d+=4;c&&(d+=4);n&&(d+=4);c=p;for(n=0;c--;)f?(n+=a.i(q.e)(g,d),d+=4):n+=m,l&&(d+=4),e&&(d+=4),k&&(d+=4);return n}function d(g){g=b(g,1836019574);if(!g)return-1;g=b(g,1953653099);if(-1==d)return-1;
g=b(g,1835297121);if(-1==d)return-1;var d=h(g,1835296868);if(d/-1)return-1;d=d+4+4;var f=g[d];d+=4;return 1===f?(d+=16,a.i(q.e)(g,d)):0==f?(d+=8,a.i(q.e)(g,d)):-1}function b(b,g){for(var d=b.length,f=0,k,m=void 0;f+8<d&&(m=a.i(q.e)(b,f),k=a.i(q.e)(b,f+4),a.i(p.a)(0<m,"out of range size"),k!==g);)f+=m;return f<d?b.subarray(f+8,f+m):null}function g(a){return b(a,1835295092)}function m(b){var d=b.systemId;b=b.privateData;d=d.replace(/-/g,"");a.i(p.a)(32===d.length);d=a.i(q.i)(4,a.i(q.k)(d),a.i(q.j)(b.length),
b);b=d.length+8;return a.i(q.i)(a.i(q.j)(b),a.i(q.b)("pssh"),d)}function n(b,d){if(!d||!d.length)return b;var g=h(b,1836019574);if(-1==g)return b;for(var f=a.i(q.e)(b,g),k=[b.subarray(g,g+f)],c=0;c<d.length;c++)k.push(m(d[c]));k=q.i.apply(null,k);k.set(a.i(q.j)(k.length),0);return a.i(q.i)(b.subarray(0,g),k,b.subarray(g+f))}a.d(e,"b",function(){return d});a.d(e,"e",function(){return f});a.d(e,"f",function(){return k});a.d(e,"a",function(){return l});a.d(e,"d",function(){return g});a.d(e,"c",function(){return n});
var p=a(2),q=a(25)},function(c,e,a){function h(){this.__listeners={}}var l=a(1),f=a(2);h.prototype.addEventListener=function(k,d){a.i(f.a)("function"==typeof d,"eventemitter: second argument should be a function");this.__listeners[k]||(this.__listeners[k]=[]);this.__listeners[k].push(d)};h.prototype.removeEventListener=function(a,d){if(0===arguments.length)this.__listeners={};else if(this.__listeners.hasOwnProperty(a))if(1===arguments.length)delete this.__listeners[a];else{var b=this.__listeners[a],
g=b.indexOf(d);~g&&b.splice(g,1);b.length||delete this.__listeners[a]}};h.prototype.trigger=function(a,d){this.__listeners.hasOwnProperty(a)&&this.__listeners[a].slice().forEach(function(a){try{a(d)}catch(g){l.a.error(g,g.stack)}})};h.prototype.on=h.prototype.addEventListener;h.prototype.off=h.prototype.removeEventListener;e.a=h},function(c,e,a){function h(a){if(null!=a){if("string"===typeof a){var b=a;a=!1}else b=a.language,a=!!a.closedCaption;return{language:b,closedCaption:a,normalized:f(b)}}return a}
function l(a){if(null!=a){if("string"===typeof a){var b=a;a=!1}else b=a.language,a=!!a.audioDescription;return{language:b,audioDescription:a,normalized:f(b)}}return a}function f(a){if(null==a||""===a)return"";a=(""+a).toLowerCase().split("-");var b=a[0],f=void 0;2===b.length?f=k.a[b]:3===b.length&&(f=d.a[b]);(b=f||b)&&(a[0]=b);return a.join("-")}a.d(e,"a",function(){return f});a.d(e,"b",function(){return l});a.d(e,"c",function(){return h});var k=a(188),d=a(189)},function(c,e,a){c=a(88);a=a(89);e.async=
new a.AsyncScheduler(c.AsyncAction)},function(c,e,a){e.errorObject={e:{}}},function(c,e,a){a.d(e,"h",function(){return l});a.d(e,"i",function(){return f});a.d(e,"f",function(){return k});a.d(e,"a",function(){return b});a.d(e,"g",function(){return g});a.d(e,"b",function(){return m});a.d(e,"d",function(){return n});a.d(e,"c",function(){return p});a.d(e,"e",function(){return d});var h=a(22);c=window;var l=["","webkit","moz","ms"],f=c.HTMLElement,k=c.HTMLVideoElement,d=c.VTTCue||c.TextTrackCue,b=c.MediaSource||
c.MozMediaSource||c.WebKitMediaSource||c.MSMediaSource,g=c.MediaKeys||c.MozMediaKeys||c.WebKitMediaKeys||c.MSMediaKeys;g||(c=function(){throw new h.a("MEDIA_KEYS_NOT_SUPPORTED",null,!0);},g={create:c,isTypeSupported:c});var m="Microsoft Internet Explorer"==navigator.appName||"Netscape"==navigator.appName&&/(Trident|Edge)\//.test(navigator.userAgent),n=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),p={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4}},
function(c,e,a){a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});c=a(122);var h=new c.a({load:function(){return[]},save:function(){}}),l=new c.b},function(c,e,a){function h(b){return a.i(n.a)(b.createMediaKeys())}function l(b,d,f,k){var c=d.keySystem,n=d.keySystemAccess;c.persistentLicense&&r.a.setStorage(c.licenseStorage);m.a.info("eme: encrypted event",b);return h(n).mergeMap(function(d){var m=c.serverCertificate;m=m&&"function"===typeof d.setServerCertificate?a.i(w.a)(d,m,k):g.Observable.empty();
var l=n.getConfiguration(),e=a.i(t.a)(d,l,f,c,x),p=new Uint8Array(b.initData);d=a.i(u.a)(d,l,c,b.initDataType,p,k);return m.concat(g.Observable.merge(e,d))})}function f(b,d,f){return g.Observable.combineLatest(a.i(q.f)(b),a.i(v.a)(d,x)).take(1).mergeMap(function(a){return l(a[0],a[1],b,f)})}function k(){a.i(t.b)(x.$videoElement).subscribe(function(){});x.$mediaKeys=null;x.$keySystem=null;x.$videoElement=null;x.$mediaKeySystemConfiguration=null;r.b.dispose()}function d(){return g.Observable.defer(function(){return x.$videoElement&&
a.i(p.e)()?a.i(t.b)(x.$videoElement).finally(function(){x.$videoElement=null}):g.Observable.empty()})}function b(){return a.i(v.b)(x)}a.d(e,"c",function(){return f});a.d(e,"d",function(){return d});a.d(e,"b",function(){return b});a.d(e,"a",function(){return k});var g=a(0);a.n(g);var m=a(1),n=a(10);a(2);var p=a(5),q=a(13),r=a(36),w=a(119),t=a(124),u=a(120),v=a(118),x={$mediaKeys:null,$mediaKeySystemConfiguration:null,$keySystem:null,$videoElement:null}},function(c,e,a){function h(a,b){if("function"!==
typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a.d(e,"a",function(){return b});c=a(31);var l=a(2),f=a(50),k=a(10),d=a(142),b=function(b){function g(a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var f=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.codec=a;f.updating=!1;f.readyState="opened";f.buffered=new d.a;return f}h(g,b);g.prototype.appendBuffer=function(a){var b=this;this._lock(function(){return b._append(a)})};g.prototype.remove=function(a,b){var d=this;this._lock(function(){return d._remove(a,b)})};g.prototype.abort=function(){this.remove(0,Infinity);this.updating=!1;this.readyState="closed";this._abort()};g.prototype._append=function(){};g.prototype._remove=function(){};g.prototype._abort=
function(){};g.prototype._lock=function(b){var d=this;a.i(l.a)(!this.updating,"updating");this.updating=!0;this.trigger("updatestart");a.i(f.a)(function(){return a.i(k.a)(b())}).subscribe(function(){return setTimeout(function(){return d._unlock("update")},0)},function(a){return setTimeout(function(){return d._unlock("error",a)},0)})};g.prototype._unlock=function(a,b){this.updating=!1;this.trigger(a,b);this.trigger("updateend")};return g}(c.a)},function(c,e,a){function h(k,d,b){this.name="EncryptedMediaError";
this.type=l.a.ENCRYPTED_MEDIA_ERROR;this.reason=d;this.code=l.b[k];this.fatal=b;this.message=a.i(f.a)(this.name,this.code,this.reason)}var l=a(19),f=a(23);h.prototype=Error();e.a=h},function(c,e,a){Object.defineProperty(e,"__esModule",{value:!0});var h=a(28),l=a(24);e["default"]={getInitSegment:l.a,setTimescale:l.b,scale:l.c,getSegments:function(f,k,d,b){b=a.i(l.d)(k,d,b);d=b.up;b=b.to;var g=k.timeline,m=k.timescale,c=k.media,e=k.startNumber,q=(k=null!=e)?e:void 0;e=[];for(var r=g.length,w=g.length&&
g[0].d||0,t=0;t<r;t++){var u=g[t],v=u.d,x=u.ts,y=u.range;w=Math.max(w,v);if(0>v){x+w<b&&(f=new h.a({id:""+f+"_"+x,time:x,init:!1,range:y,duration:void 0,indexRange:null,timescale:m,media:c,number:k?q:void 0}),e.push(f));break}var z=g[t+1],A=u.r||0;0>A&&(A=Math.ceil(((z?z.t:Infinity)-u.ts)/u.d)-1);u=A;z=d-x;z=0<z?Math.floor(z/v):0;for(A=x+z*v;A<b&&z<=u;)A=new h.a({id:""+f+"_"+A,time:A,init:!1,range:y,duration:v,indexRange:null,timescale:m,media:c,number:k?q+z:void 0}),e.push(A),z++,A=x+z*v;if(A>=b)break;
k&&(q+=u+1)}return e},shouldRefresh:function(f,k,d,b){d=f.timeline;k=f.timescale;f=f.presentationTimeOffset;d=d[d.length-1];if(!d)return!1;0>d.d&&(d={ts:d.ts,d:0,r:d.r});return!(b*k-(void 0===f?0:f)<=a.i(l.e)(d))},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(f){if(f.timeline.length){var k=f.timeline[f.timeline.length-1];return a.i(l.e)(k)/f.timescale}},checkDiscontinuity:function(f,k){var d=f.timeline,b=f.timescale;b=void 0===b?1:
b;k*=b;if(0>=k)return-1;f=f.timeline;var g=0;for(var m=f.length;g<m;){var c=g+m>>>1;f[c].ts<k?g=c+1:m=c}g=0<g?g-1:g;if(0>g||g>=d.length-1)return-1;m=d[g];if(-1===m.d)return-1;f=m.ts;m=a.i(l.e)(m);d=d[g+1];return m!==d.ts&&k>=f&&k<=m&&m-k<b?d.ts/b:-1},_addSegmentInfos:function(f,k,d){var b=f.timeline,g=f.timescale,m=b.length,c=b[m-1];k=k.timescale===g?{time:k.time,duration:k.duration}:{time:k.time/k.timescale*g,duration:k.duration/k.timescale*g};var e=void 0;d&&(e=d.timescale===g?d.time:d.time/d.timescale*
g);if(null!=e&&k.time===e){d=k.time+k.duration;g=d-(c.ts+c.d*c.r);if(0>=g)return!1;-1===c.d&&((m=b[m-2])&&m.d===g?(m.r++,b.pop()):c.d=g);f.timeline.push({d:-1,ts:d,r:0});return!0}return k.time>=a.i(l.e)(c)?(c.d===k.duration?c.r++:f.timeline.push({d:k.duration,ts:k.time,r:0}),!0):!1}}},function(c,e,a){function h(a){var f=a.value;return"response"===a.type?{type:"response",value:{responseData:f.responseData,size:f.size,duration:f.receivedTime-f.sentTime,url:f.url}}:{type:"progress",value:{size:f.loadedSize,
totalSize:f.totalSize,duration:f.currentTime-f.sentTime,url:f.url}}}var l=a(48);e.a=function(f){return a.i(l.a)(f).map(h)}},function(c,e,a){function h(a){return function(b,d,f){b=f?parseInt(f,10):1;d=""+a;d=d.toString();b=d.length>=b?d:(Array(b+1).join("0")+d).slice(-b);return b}}function l(a,b,g){return-1===a.indexOf("$")?a:a.replace(/\$\$/g,"$").replace(/\$RepresentationID\$/g,g.id).replace(/\$Bandwidth(|\%0(\d+)d)\$/g,h(g.bitrate)).replace(/\$Number(|\%0(\d+)d)\$/g,h(b.number)).replace(/\$Time(|\%0(\d+)d)\$/g,
h(b.time))}function f(a){return"application/mp4"===a.mimeType}function k(a){var b=a[0];return(a=a[1])&&Infinity!==a?"bytes="+ +b+"-"+ +a:"bytes="+ +b+"-"}a.d(e,"a",function(){return l});a.d(e,"b",function(){return f});a.d(e,"c",function(){return k})},function(c,e,a){function h(b,d){var g=d.length+8,f=a.i(n.i);g=a.i(n.j)(g);if(q[b])b=q[b];else{var k=a.i(n.b)(b);b=q[b]=k}return f(g,b,d)}function l(b,d,g,f,k){for(var m=b.length,c=0,l;c<m;){l=a.i(n.e)(b,c);if(1970628964===a.i(n.e)(b,c+4)&&a.i(n.e)(b,
c+8)===d&&a.i(n.e)(b,c+12)===g&&a.i(n.e)(b,c+16)===f&&a.i(n.e)(b,c+20)===k)return b.subarray(c+24,c+l);c+=l}}function f(b,d){for(var g=b.length,f=0,k,c=void 0;f+8<g&&(c=a.i(n.e)(b,f),k=a.i(n.e)(b,f+4),a.i(m.a)(0<c,"smooth: out of range size"),k!==d);)f+=c;return f<g?b.subarray(f+8,f+c):null}function k(a,b,d,g){var f=[a,b,d];g.forEach(function(a){a=r.pssh(a.systemId,a.privateData,a.keyIds);f.push(a)});return f}function d(b,d,g,f){var k=b.length,c=d.length;g=g.length;b=b.subarray(g,k);k=new Uint8Array(c+
(k-g));k.set(d,0);k.set(b,c);d=d.length+8;k.set(a.i(n.j)(d),f+16);return k}function b(b,d,g,f,c,m,l){g=r.mult("stbl",[g,h("stts",new Uint8Array(8)),h("stsc",new Uint8Array(8)),h("stsz",new Uint8Array(12)),h("stco",new Uint8Array(8))]);var e=h("url ",new Uint8Array([0,0,0,1]));e=r.dref(e);e=r.mult("dinf",[e]);f=r.mult("minf",[f,e,g]);d=r.hdlr(d);g=r.mdhd(b);d=r.mult("mdia",[g,d,f]);c=r.tkhd(c,m,1);c=r.mult("trak",[c,d]);m=r.trex(1);m=r.mult("mvex",[m]);b=r.mvhd(b,1);l=r.mult("moov",k(b,m,c,l));b=r.ftyp("isom",
["isom","iso2","iso6","avc1","dash"]);return a.i(n.i)(b,l)}var g=a(5),m=a(2),n=a(25),p=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],q={},r={mult:function(a,b){return h(a,n.i.apply(null,b))},avc1encv:function(b,d,g,f,k,c,m,l,e,p){return h(b,a.i(n.i)(6,a.i(n.n)(d),16,a.i(n.n)(g),a.i(n.n)(f),a.i(n.n)(k),2,a.i(n.n)(c),6,[0,1,m.length],a.i(n.b)(m),31-m.length,a.i(n.n)(l),[255,255],e,"encv"===b?p:[]))},avcc:function(b,d,g){g=2===g?1:4===g?3:0;var f=b[1],k=b[2],c=b[3];return h("avcC",
a.i(n.i)([1,f,k,c,252|g,225],a.i(n.n)(b.length),b,[1],a.i(n.n)(d.length),d))},dref:function(b){return h("dref",a.i(n.i)(7,[1],b))},esds:function(b,d){return h("esds",a.i(n.i)(4,[3,25],a.i(n.n)(b),[0,4,17,64,21],11,[5,2],a.i(n.k)(d),[6,1,2]))},frma:function(b){return h("frma",a.i(n.b)(b))},free:function(a){return h("free",new Uint8Array(a-8))},ftyp:function(b,d){return h("ftyp",n.i.apply(null,[a.i(n.b)(b),[0,0,0,1]].concat(d.map(n.b))))},hdlr:function(b){switch(b){case "video":b="vide";var d="VideoHandler";
break;case "audio":b="soun";d="SoundHandler";break;default:b="hint",d=""}return h("hdlr",a.i(n.i)(8,a.i(n.b)(b),12,a.i(n.b)(d),1))},mdhd:function(b){return h("mdhd",a.i(n.i)(12,a.i(n.j)(b),8))},moof:function(a,b){return r.mult("moof",[a,b])},mp4aenca:function(b,d,g,f,k,c,m,l){return h(b,a.i(n.i)(6,a.i(n.n)(d),8,a.i(n.n)(g),a.i(n.n)(f),2,a.i(n.n)(k),a.i(n.n)(c),2,m,"enca"===b?l:[]))},mvhd:function(b,d){return h("mvhd",a.i(n.i)(12,a.i(n.j)(b),4,[0,1],2,[1,0],10,[0,1],14,[0,1],14,[64,0,0,0],26,a.i(n.n)(d+
1)))},pssh:function(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];b=b.replace(/-/g,"");a.i(m.a)(32===b.length,"wrong system id length");var f=g.length;if(0<f){var k=1;g=n.i.apply(null,[a.i(n.j)(f)].concat(g))}else k=0,g=[];return h("pssh",a.i(n.i)([k,0,0,0],a.i(n.k)(b),g,a.i(n.j)(d.length),d))},saio:function(b,d,g,f){return h("saio",a.i(n.i)(4,[0,0,0,1],a.i(n.j)(b.length+d.length+g.length+f.length+8+8+8+8)))},saiz:function(b){if(0===
b.length)return h("saiz",new Uint8Array);var d=a.i(n.e)(b,0),g=a.i(n.e)(b,4),f=new Uint8Array(9+g);f.set(a.i(n.j)(g),5);g=9;for(var k=8,c,m;k<b.length;)k+=8,2===(d&2)?(m=2,c=a.i(n.g)(b,k),k+=2+6*c):m=c=0,f[g]=6*c+8+m,g++;return h("saiz",f)},schm:function(b,d){return h("schm",a.i(n.i)(4,a.i(n.b)(b),a.i(n.j)(d)))},senc:function(a){return h("senc",a)},smhd:function(){return h("smhd",new Uint8Array(8))},stsd:function(a){return h("stsd",n.i.apply(null,[7,[a.length]].concat(a)))},tkhd:function(b,d,g){return h("tkhd",
a.i(n.i)(a.i(n.j)(7),8,a.i(n.j)(g),20,[1,0,0,0],[0,1,0,0],12,[0,1,0,0],12,[64,0,0,0],a.i(n.n)(b),2,a.i(n.n)(d),2))},trex:function(b){return h("trex",a.i(n.i)(4,a.i(n.j)(b),[0,0,0,1],12))},tfdt:function(b){return h("tfdt",a.i(n.i)([1,0,0,0],a.i(n.o)(b)))},tenc:function(b,d,g){return h("tenc",a.i(n.i)(6,[b,d],a.i(n.k)(g)))},traf:function(a,b,d,g,f){var k=[a,b,d];g&&k.push(r.senc(g),r.saiz(g),r.saio(f,a,b,d));return r.mult("traf",k)},trun:function(b){if(b[11]&1)return b;var d=new Uint8Array(b.length+
4);d.set(a.i(n.j)(b.length+4),0);d.set(b.subarray(4,16),4);d[11]|=1;d.set([0,0,0,0],16);d.set(b.subarray(16,b.length),20);return d},vmhd:function(){var a=new Uint8Array(12);a[3]=1;return h("vmhd",a)}},w={traf:function(a){return(a=f(a,1836019558))?f(a,1953653094):null},senc:function(a){return l(a,2721664850,1520127764,2722393154,2086964724)},tfxd:function(a){return l(a,1830656773,1121273062,2162299933,2952222642)},tfrf:function(a){return l(a,3565190898,3392751253,2387879627,2655430559)},mdat:function(a){return f(a,
1835295092)}};e.a={getMdat:w.mdat,getTraf:w.traf,parseTfrf:function(b){b=w.tfrf(b);if(!b)return[];for(var d=[],g=b[0],f=b[4],k=0;k<f;k++){if(1==g){var c=a.i(n.f)(b,16*k+5);var m=a.i(n.f)(b,16*k+13)}else c=a.i(n.e)(b,8*k+5),m=a.i(n.e)(b,8*k+9);d.push({time:c,duration:m})}return d},parseTfxd:function(b){if(b=w.tfxd(b))return{duration:a.i(n.f)(b,12),time:a.i(n.f)(b,4)}},createVideoInitSegment:function(d,g,f,k,c,m,l,e,p){p||(p=[]);var h=l.split("00000001");l=h[1];h=h[2];l=a.i(n.k)(l);h=a.i(n.k)(h);m=
r.avcc(l,h,m);p.length?(e=r.tenc(1,8,e),e=r.mult("schi",[e]),l=r.schm("cenc",65536),h=r.frma("avc1"),e=r.mult("sinf",[h,l,e]),k=r.avc1encv("encv",1,g,f,k,c,"AVC Coding",24,m,e)):k=r.avc1encv("avc1",1,g,f,k,c,"AVC Coding",24,m);k=r.stsd([k]);return b(d,"video",k,r.vmhd(),g,f,p)},createAudioInitSegment:function(d,g,f,k,c,m,l,e){e||(e=[]);m||(m=(32|p.indexOf(c)&31)<<4,m=(m|g&31)<<3,m=a.i(n.p)(a.i(n.n)(m)));m=r.esds(1,m);if(e.length){l=r.tenc(1,8,l);l=r.mult("schi",[l]);var h=r.schm("cenc",65536),q=r.frma("mp4a");
l=r.mult("sinf",[q,h,l]);g=r.mp4aenca("enca",1,g,f,k,c,m,l)}else g=r.mp4aenca("mp4a",1,g,f,k,c,m);g=r.stsd([g]);return b(d,"audio",g,r.smhd(),0,0,e)},patchSegment:function(b,f){var k=b.subarray(0,a.i(n.e)(b,0)),m=r.tfdt(f);f=m.length;var c=a.i(n.e)(k,8),l=a.i(n.e)(k,8+c),e=a.i(n.e)(k,8+c+8),p=a.i(n.e)(k,8+c+8+e),h=k.subarray(8,8+c),q=k.subarray(8+c+8,8+c+8+l-8);l=q.subarray(0,e);p=q.subarray(e,e+p);l.set([0,0,0,1],12);q=w.senc(q);p=r.trun(p);m=r.traf(l,m,p,q,h);h=r.moof(h,m);f=8+c+8+e+f;return g.s?
d(b,h,k,f):8<=k.length-h.length?(k=k.length-h.length,b.set(h,0),b.set(r.free(k),h.length),k=h.length+8+k,b.set(a.i(n.j)(k),f+16),b):d(b,h,k,f)}}},function(c,e,a){e.a=function(a,c){function f(a){var d=[];a.tagName.toLowerCase()===c.toLowerCase()&&d.push(a);a=a.parentNode;a instanceof Element&&d.push.apply(d,f(a));return d}return a.parentNode instanceof Element?f(a.parentNode):[]}},function(c,e,a){a.d(e,"a",function(){return g});a.d(e,"c",function(){return l});a.d(e,"b",function(){return h});a.d(e,
"d",function(){return f});a.d(e,"e",function(){return k});a.d(e,"g",function(){return b});a.d(e,"f",function(){return d});a.d(e,"i",function(){return n});a.d(e,"h",function(){return m});var h=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,l=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,f=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,k=/^(\d*\.?\d*)f$/,d=/^(\d*\.?\d*)t$/,b=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/,g=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,m=/^#([0-9A-f]{2})([0-9A-f]{2})([0-9A-f]{2})([0-9A-f]{2})$/,
n=/^#([0-9A-f])([0-9A-f])([0-9A-f])([0-9A-f])$/},function(c,e,a){e.b=function(k,d,b,g){var c={},n=k.slice();for(k=0;k<=d.length-1;k++){var e=d[k];if(e){var q=function(){for(var d=void 0,f=void 0,k=0;k<=e.attributes.length-1;k++){var m=e.attributes[k],p=m.name;if("style"===p)d=m.value;else if("region"===p)f=m.value;else if(p=p.substr(4),a.i(l.a)(n,p)&&(c[m.name]=m.value,n.splice(k,1),!n.length))return{v:c}}if(d&&(k=h()(b,function(a){return a.id===d})))for(m=0;m<=n.length-1;m++)if(p=n[m],!c[p]&&k.style[p]){c[p]=
k.style[p];n.splice(m,1);if(!n.length)return{v:c};m--}if(f&&(k=h()(g,function(a){return a.id===f})))for(m=0;m<=n.length-1;m++)if(p=n[m],!c[p]&&k.style[p]){c[p]=k.style[p];n.splice(m,1);if(!n.length)return{v:c};m--}}();if("object"===("undefined"===typeof q?"undefined":f(q)))return q.v}}return c};e.a=function(a){for(var d={},b=0;b<=a.attributes.length-1;b++){var g=a.attributes[b];if(g.name.startsWith("tts")){var f=g.name.substr(4);d[f]=g.value}}return d};c=a(18);var h=a.n(c),l=a(9),f="function"===typeof Symbol&&
"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}},function(c,e,a){var h=0;e.a=function(){var a=0;h<Number.MAX_VALUE&&(a=h+1);h=a;return""+a}},function(c,e,a){var h=a(0);a.n(h);var l=a(8);e.a=function(a){var f={url:"",headers:null,method:"GET",responseType:"json",timeout:3E4,body:void 0},d;for(d in f)a.hasOwnProperty(d)&&(f[d]=a[d]);return h.Observable.create(function(b){var d=
f.url,k=f.headers,c=f.responseType,e=f.timeout,h=f.body,r=new XMLHttpRequest;r.open(f.method,d,!0);0<=e&&(r.timeout=e);r.responseType=c;"document"===r.responseType&&r.overrideMimeType("text/xml");if(k)for(var w in k)r.setRequestHeader(w,k[w]);var t=Date.now();r.onerror=function(){b.error(new l.h(r,d,l.j.ERROR_EVENT))};r.ontimeout=function(){b.error(new l.h(r,d,l.j.TIMEOUT))};a.ignoreProgressEvents||(r.onprogress=function(a){b.next({type:"progress",value:{url:d,sentTime:t,currentTime:Date.now(),loadedSize:a.loaded,
totalSize:a.total}})});r.onload=function(a){if(4===r.readyState)if(200<=r.status&&300>r.status){var g=Date.now();a=a.total;var f=r.status,k=r.responseType,c=r.responseURL||d,m=void 0;if("json"===k)if("string"!=typeof r.response)m=r.response;else try{m=JSON.parse(r.responseText)}catch(C){m=null}else m=r.response;null==m?b.error(new l.h(r,c,l.j.PARSE_ERROR)):(b.next({type:"response",value:{status:f,url:c,responseType:k,sentTime:t,receivedTime:g,size:a,responseData:m}}),b.complete())}else b.error(new l.h(r,
d,l.j.ERROR_HTTP_CODE))};void 0!==h?r.send(h):r.send();return function(){r&&4!==r.readyState&&r.abort()}})}},function(c,e,a){e.a=function(a,f){return Array.isArray(f)?h.Observable.merge.apply(null,f.map(function(f){return h.Observable.fromEvent(a,f)})):h.Observable.fromEvent(a,f)};var h=a(0);a.n(h)},function(c,e,a){e.a=function(a,f){try{return a(f)}catch(k){return h.Observable.throw(k)}};var h=a(0);a.n(h)},function(c,e,a){var h=this&&this.__extends||function(a,k){function d(){this.constructor=a}for(var b in k)k.hasOwnProperty(b)&&
(a[b]=k[b]);a.prototype=null===k?Object.create(k):(d.prototype=k.prototype,new d)};c=a(7);var l=a(58);a=function(a){function f(d){a.call(this);this._value=d}h(f,a);Object.defineProperty(f.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0});f.prototype._subscribe=function(d){var b=a.prototype._subscribe.call(this,d);b&&!b.closed&&d.next(this._value);return b};f.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new l.ObjectUnsubscribedError;
return this._value};f.prototype.next=function(d){a.prototype.next.call(this,this._value=d)};return f}(c.Subject);e.BehaviorSubject=a},function(c,e,a){var h=this&&this.__extends||function(a,f){function k(){this.constructor=a}for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d]);a.prototype=null===f?Object.create(f):(k.prototype=f.prototype,new k)};c=function(a){function f(f,d){a.call(this);this.value=f;this.scheduler=d;this._isScalar=!0;d&&(this._isScalar=!1)}h(f,a);f.create=function(a,d){return new f(a,
d)};f.dispatch=function(a){var d=a.value,b=a.subscriber;a.done?b.complete():(b.next(d),b.closed||(a.done=!0,this.schedule(a)))};f.prototype._subscribe=function(a){var d=this.value,b=this.scheduler;if(b)return b.schedule(f.dispatch,0,{done:!1,value:d,subscriber:a});a.next(d);a.closed||a.complete()};return f}(a(0).Observable);e.ScalarObservable=c},function(c,e,a){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===
b?Object.create(b):(d.prototype=b.prototype,new d)};c=a(11);var l=a(12);e.mergeAll=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return this.lift(new f(a))};var f=function(){function a(a){this.concurrent=a}a.prototype.call=function(a,d){return d.subscribe(new k(a,this.concurrent))};return a}();e.MergeAllOperator=f;var k=function(a){function b(b,d){a.call(this,b);this.concurrent=d;this.hasCompleted=!1;this.buffer=[];this.active=0}h(b,a);b.prototype._next=function(a){this.active<this.concurrent?
(this.active++,this.add(l.subscribeToResult(this,a))):this.buffer.push(a)};b.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};b.prototype.notifyComplete=function(a){var b=this.buffer;this.remove(a);this.active--;0<b.length?this._next(b.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return b}(c.OuterSubscriber);e.MergeAllSubscriber=k},function(c,e,a){var h=a(240);e.multicast=function(a,c){var d="function"===
typeof a?a:function(){return a};if("function"===typeof c)return this.lift(new l(d,c));c=Object.create(this,h.connectableObservableDescriptor);c.source=this;c.subjectFactory=d;return c};var l=function(){function a(a,d){this.subjectFactory=a;this.selector=d}a.prototype.call=function(a,d){var b=this.selector,g=this.subjectFactory();a=b(g).subscribe(a);a.add(d.subscribe(g));return a};return a}();e.MulticastOperator=l},function(c,e,a){function h(a){var f=a.Symbol;if("function"===typeof f)return f.iterator||
(f.iterator=f("iterator polyfill")),f.iterator;if((f=a.Set)&&"function"===typeof(new f)["@@iterator"])return"@@iterator";if(a=a.Map){f=Object.getOwnPropertyNames(a.prototype);for(var c=0;c<f.length;++c){var d=f[c];if("entries"!==d&&"size"!==d&&a.prototype[d]===a.prototype.entries)return d}}return"@@iterator"}c=a(16);e.symbolIteratorPonyfill=h;e.iterator=h(c.root);e.$$iterator=e.iterator},function(c,e,a){function h(a){var f=a.Symbol;"function"===typeof f?f.observable?a=f.observable:(a=f("observable"),
f.observable=a):a="@@observable";return a}c=a(16);e.getSymbolObservable=h;e.observable=h(c.root);e.$$observable=e.observable},function(c,e,a){c=a(16).root.Symbol;e.rxSubscriber="function"===typeof c&&"function"===typeof c.for?c.for("rxSubscriber"):"@@rxSubscriber";e.$$rxSubscriber=e.rxSubscriber},function(c,e,a){var h=this&&this.__extends||function(a,f){function c(){this.constructor=a}for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d]);a.prototype=null===f?Object.create(f):(c.prototype=f.prototype,new c)};
c=function(a){function f(){var f=a.call(this,"object unsubscribed");this.name=f.name="ObjectUnsubscribedError";this.stack=f.stack;this.message=f.message}h(f,a);return f}(Error);e.ObjectUnsubscribedError=c},function(c,e,a){e.isFunction=function(a){return"function"===typeof a}},function(c,e,a){function h(){try{return f.apply(this,arguments)}catch(k){return l.errorObject.e=k,l.errorObject}}var l=a(34),f;e.tryCatch=function(a){f=a;return h}},function(c,e,a){c.exports=function(a,c,f){if("function"===typeof Array.prototype.findIndex)return a.findIndex(c,
f);if("function"!==typeof c)throw new TypeError("predicate must be a function");a=Object(a);var k=a.length;if(0===k)return-1;for(var d=0;d<k;d++)if(c.call(f,a[d],d,a))return d;return-1}},function(c,e,a){function h(a,b){function d(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.errorCode&&(a={systemCode:a.systemCode,code:a.errorCode.code});this.name="KeySessionError";this.mediaKeyError=a;this.message="MediaKeyError code:"+a.code+" and systemCode:"+a.systemCode}d.prototype=Error();
return function(g,f){var c="function"==typeof b?b.call(this):this,k=m.i(c),n=m.j(c).map(function(a){throw new d(c.error||a);});try{return a.call(this,g,f),l.Observable.merge(k,n).take(1)}catch(D){return l.Observable.throw(D)}}}a.d(e,"b",function(){return q});a.d(e,"a",function(){return p});c=a(6);c=a.n(c);var l=a(0);a.n(l);var f=a(31),k=a(25),d=a(2),b=a(10),g=a(35),m=a(13),n=a(63),p=void 0;navigator.requestMediaKeySystemAccess&&(p=function(d,g){return a.i(b.a)(navigator.requestMediaKeySystemAccess(d,
g))});var q=function(){};if(!p&&g.f.prototype.webkitGenerateKeyRequest){var r=function(a,b){var d=this;f.a.call(this);this.sessionId="";this._vid=a;this._key=b;this._con=l.Observable.merge(m.k(a),m.i(a),m.j(a)).subscribe(function(a){return d.trigger(a.type,a)})};r.prototype=c()({generateRequest:function(a,b){this._vid.webkitGenerateKeyRequest(this._key,b)},update:h(function(b,d){if(0<=this._key.indexOf("clearkey")){var g=JSON.parse(a.i(k.a)(b));b=a.i(k.b)(atob(g.keys[0].k));g=a.i(k.b)(atob(g.keys[0].kid));
this._vid.webkitAddKey(this._key,b,g,d)}else this._vid.webkitAddKey(this._key,b,null,d);this.sessionId=d}),close:function(){this._con&&this._con.unsubscribe();this._vid=this._con=null}},f.a.prototype);q=function(a){this.ks_=a};q.prototype={_setVideo:function(a){this._vid=a},createSession:function(){return new r(this._vid,this.ks_)}};var w=function(a){var b=document.querySelector("video")||document.createElement("video");return b&&b.canPlayType?!!b.canPlayType("video/mp4",a):!1};p=function(a,b){if(!w(a))return l.Observable.throw();
for(var d=0;d<b.length;d++){var g=b[d],f=g.videoCapabilities,c=g.audioCapabilities,m=g.initDataTypes,k=g.sessionTypes,e=g.distinctiveIdentifier;g=g.persistentState;var p=!0;if(p=(p=(p=(p=p&&(!m||!!m.filter(function(a){return"cenc"===a})[0]))&&(!k||k.filter(function(a){return"temporary"===a}).length===k.length))&&"required"!==e)&&"required"!==g)return b={videoCapabilities:f,audioCapabilities:c,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"not-allowed",sessionTypes:["temporary"]},
l.Observable.of(new n.a(a,new q(a),b))}return l.Observable.throw()}}else if(g.g&&!p){var t=function(a){f.a.call(this);this.sessionId="";this._mk=a};t.prototype=c()({generateRequest:function(a,b){var d=this;this._ss=this._mk.memCreateSession("video/mp4",b);this._con=l.Observable.merge(m.k(this._ss),m.i(this._ss),m.j(this._ss)).subscribe(function(a){return d.trigger(a.type,a)})},update:h(function(b,g){a.i(d.a)(this._ss);this._ss.update(b,g);this.sessionId=g},function(){return this._ss}),close:function(){this._ss&&
(this._ss.close(),this._ss=null);this._con&&(this._con.unsubscribe(),this._con=null)}},f.a.prototype);g.g.prototype||(g.g.prototype={});g.g.prototype.alwaysRenew=!0;g.g.prototype.memCreateSession=g.g.prototype.createSession;g.g.prototype.createSession=function(){return new t(this)};p=function(a,b){if(!g.g.isTypeSupported(a))return l.Observable.throw();for(var d=0;d<b.length;d++){var f=b[d],c=f.videoCapabilities,m=f.audioCapabilities,k=f.initDataTypes;f=f.distinctiveIdentifier;var e=!0;if(e=(e=e&&
(!k||!!k.filter(function(a){return"cenc"===a})[0]))&&"required"!==f)return b={videoCapabilities:c,audioCapabilities:m,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"required",sessionTypes:["temporary","persistent-license"]},l.Observable.of(new n.a(a,new g.g(a),b))}return l.Observable.throw()}}},function(c,e,a){var h=a(0);a.n(h);var l=function(){function a(a,d){for(var b=0;b<d.length;b++){var g=d[b];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=
!0);Object.defineProperty(a,g.key,g)}}return function(f,d,b){d&&a(f.prototype,d);b&&a(f,b);return f}}();c=function(){function a(f,d,b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._keyType=f;this._mediaKeys=d;this._configuration=b}a.prototype.createMediaKeys=function(){return h.Observable.of(this._mediaKeys)};a.prototype.getConfiguration=function(){return this._configuration};l(a,[{key:"keySystem",get:function(){return this._keyType}}]);return a}();e.a=c},
function(c,e,a){c=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._alpha=Math.exp(Math.log(.5)/c);this._totalWeight=this._lastEstimate=0}a.prototype.addSample=function(a,f){var c=Math.pow(this._alpha,a);f=f*(1-c)+c*this._lastEstimate;isNaN(f)||(this._lastEstimate=f,this._totalWeight+=a)};a.prototype.getEstimate=function(){return this._lastEstimate/(1-Math.pow(this._alpha,this._totalWeight))};return a}();e.a=c},function(c,e,a){a.d(e,"a",
function(){return h});var h={STOPPED:"STOPPED",LOADED:"LOADED",LOADING:"LOADING",PLAYING:"PLAYING",PAUSED:"PAUSED",ENDED:"ENDED",BUFFERING:"BUFFERING",SEEKING:"SEEKING"}},function(c,e,a){c=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._entries=[]}a.prototype.find=function(a){for(var f=0;f<this._entries.length;f++)if(!0===a(this._entries[f]))return this._entries[f];return null};return a}();e.a=c},function(c,e,a){e.a=function(a){if("number"==
typeof a)return a;for(var c=0,f,k=0;k<a.length;k++)f=a[k],c=(c<<5)-c+f,c&=c;return c}},function(c,e,a){a(2);var h=a(30);e.a=function(c,f,k,d){k||(k=[]);var b=void 0,g=void 0,m=a.i(h.e)(f),n=a.i(h.f)(f);d=d&&0<d.timescale?d.timescale:c.timescale;if(d===c.timescale){f=Math.min(.9*d,c.duration/4);var e=c.time;c=c.duration}else f=Math.min(.9*d,c.duration/c.timescale*d/4),e=c.time/c.timescale*d,c=c.duration/c.timescale*d;0<=m&&(null==e||Math.abs(m-e)<=f)&&(b=m);0<=n&&(null==c||Math.abs(n-c)<=f)&&(g=n);
null==b&&(1===k.length?(b=k[0].time,0<=b&&(null==e||Math.abs(e-b)<=f)?(m=k[0].timescale,b=null!=m&&m!==d?b/m*d:b):b=e):b=e);null==g&&(1===k.length?(g=k[0].duration,0<=g&&(null==c||Math.abs(c-g)<=f)?(k=k[0].timescale,g=null!=k&&k!==d?g/k*d:g):g=c):g=c);return{timescale:d,time:b||0,duration:g||0}}},function(c,e,a){function h(a){if("timeline"===a.indexType){var b=a.timeline[a.timeline.length-1],d=b.d;return(b.ts+(b.r+1)*d)/a.timescale-Math.min(Math.max(d/a.timescale,5),10)}return Date.now()/1E3-5}function l(a){return a}
function f(a){return"true"==a}function k(a){return"true"==a?!0:"false"==a?!1:parseInt(a)}function d(a){return new Date(Date.parse(a))}function b(b){if(!b)return 0;var d=v.exec(b);a.i(u.a)(d,b+" is not a valid ISO8601 duration");return 31536E3*parseFloat(d[2]||0)+2592E3*parseFloat(d[4]||0)+86400*parseFloat(d[6]||0)+3600*parseFloat(d[8]||0)+60*parseFloat(d[10]||0)+parseFloat(d[12]||0)}function g(a){var b=y.exec(a);if(!b)return-1;a=parseInt(b[1])||0;b=parseInt(b[2])||0;return 0<b?a/b:a}function m(a){return a}
function n(a){return(a=x.exec(a))?[+a[1],+a[2]]:null}function p(a,b,d){for(a=a.firstElementChild;a;)d=b(d,a.nodeName,a),a=a.nextElementSibling;return d}function q(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===a.schemeIdUri&&1===a.value:!1}function r(b){var d=b.mimeType;d=void 0===d?"":d;var g=d.split("/")[0];if(a.i(t.a)(z,g))return g;if("application/bif"===d)return"image";if("application/ttml+xml"===d)return"text";if("application/mp4"===d)return(b=b.role)&&"urn:mpeg:dash:role:2011"===b.schemeIdUri&&
"subtitle"===b.value?"text":"metadata";b=b.representations;b=void 0===b?[]:b;return b.length&&(b=b[0].mimeType.split("/")[0],a.i(t.a)(z,b))?b:"unknown"}function w(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===a.schemeIdUri&&2===a.value:!1}a.d(e,"g",function(){return l});a.d(e,"h",function(){return g});a.d(e,"f",function(){return n});a.d(e,"i",function(){return f});a.d(e,"m",function(){return d});a.d(e,"j",function(){return b});a.d(e,"l",function(){return k});a.d(e,"k",function(){return m});
a.d(e,"a",function(){return p});a.d(e,"b",function(){return A});a.d(e,"d",function(){return w});a.d(e,"e",function(){return q});a.d(e,"c",function(){return r});var t=a(9),u=a(2),v=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,x=/([0-9]+)-([0-9]+)/,y=/([0-9]+)(\/([0-9]+))?/,z=["audio","video","text","image"],A=function(a){if(a){var b=a.representations||[],d=b.filter(function(a){return a&&a.index});if(!b.length)return h(a.index);var g=Math.min.apply(Math,d.map(function(a){return h(a.index)}));
if(!isNaN(g)){if(b.length===d.length)return g;if(a.index)return a=h(a.index),Math.min(g,a)}}}},function(c,e,a){function h(a){var f=a.value;return"response"===a.type?{type:"response",value:{responseData:f.responseData,size:f.size,duration:f.receivedTime-f.sentTime,url:f.url}}:{type:"progress",value:{size:f.loadedSize,totalSize:f.totalSize,duration:f.currentTime-f.sentTime,url:f.url}}}var l=a(48);e.a=function(f){return a.i(l.a)(f).map(h)}},function(c,e,a){function h(a){var b=a[0];return(a=a[1])&&Infinity!==
a?"bytes="+ +b+"-"+ +a:"bytes="+ +b+"-"}function l(a){return a.responseData.getElementsByTagName("media")[0].getAttribute("src")}function f(a){return(a=a.match(m))&&a[1]||""}function k(a,b){return b?a.replace(m,"?token="+b):a.replace(m,"")}function d(a){var b=a.match(g);return b?a.replace(b[1],b[1]+"/manifest"):a}function b(a,b,d){return a.replace(/\{bitrate\}/g,b.bitrate).replace(/\{start time\}/g,d.time)}a.d(e,"f",function(){return h});a.d(e,"c",function(){return l});a.d(e,"a",function(){return f});
a.d(e,"b",function(){return k});a.d(e,"d",function(){return d});a.d(e,"e",function(){return b});var g=/\.(isml?)(\?token=\S+)?$/,m=/\?token=(\S+)/},function(c,e,a){var h=a(25);e.a=function(c){var f=0,k=c.length,d=a.i(h.a)(c.subarray(f,f+8));f+=8;var b=c[f];f+=1;var g=c[f];f+=1;var m=c[f];f+=1;var n=c[f];f+=1;b=[b,g,m,n].join(".");g=c[f]+a.i(h.c)(c,f+1);f+=4;m=a.i(h.c)(c,f);f+=4;n=a.i(h.a)(c.subarray(f,f+4));f+=4;var e=a.i(h.d)(c,f);f+=2;var l=a.i(h.d)(c,f);f+=2;var r=[c[f],c[f+1]].join(":"),w=1===
c[f+2];f=64;var t=[],u=void 0,v=0;if(!g)throw Error("bif: no images to parse");for(;f<k;){var x=a.i(h.c)(c,f);f+=4;var y=a.i(h.c)(c,f);f+=4;if(u){var z=u.index,A=m,C=v;u=c.subarray(u.offset,y);t.push({index:z,duration:A,ts:C,data:u});v+=m}if(4294967295===x)break;u={index:x,offset:y}}return{fileFormat:d,version:b,imageCount:g,timescale:m,format:n,width:e,height:l,aspectRatio:r,isVod:w,thumbs:t}}},function(c,e,a){e.a=function(a){var c=a.split(":");if(c[2]){a=parseInt(c[0],10);var f=parseInt(c[1],10);
c=parseFloat(c[2].replace(",","."),10);return isNaN(a)||isNaN(f)||isNaN(c)?void 0:3600*a+60*f+c}}},function(c,e,a){e.a=function(a){var c=a.getAttribute("ttp:frameRate"),f=a.getAttribute("ttp:subFramRate"),k=a.getAttribute("ttp:tickRate"),d=a.getAttribute("ttp:frameRateMultiplier"),b=a.getAttribute("xml:space");if(b&&"default"!==b&&"preserve"!==b)throw Error("Invalid spacing style");a=Number(c)||30;f=Number(f)||1;var g=Number(k)||0;k=g;var m=a,n=null!=f?f:1;b=b||"default";0===g&&(k=c?a*f:1);d&&(c=
/^(\d+) (\d+)$/g.exec(d))&&(m=Number(c[1])/Number(c[2])*a);return{tickRate:k,frameRate:m,subFrameRate:n,spaceStyle:b}}},function(c,e,a){e.a=function(c,f){var k=c.getAttribute("begin"),d=c.getAttribute("dur");c=c.getAttribute("end");k=k?a.i(h.a)(k,f):null;d=d?a.i(h.a)(d,f):null;f=c?a.i(h.a)(c,f):null;if(null==k||null==f&&null==d)throw Error("Invalid text cue");return{start:k,end:null==f?k+d:f}};var h=a(182)},function(c,e,a){function h(a){return a.getElementsByTagName("body")[0]}function l(a){return a.getElementsByTagName("style")}
function f(a){return a.getElementsByTagName("region")}function k(a){return a.getElementsByTagName("p")}a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});a.d(e,"c",function(){return f});a.d(e,"d",function(){return k})},function(c,e,a){function h(a){return a*(1+(2*Math.random()-1)*f)}function l(a){return h(a*Math.pow(2,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)-1))}a.d(e,"b",function(){return h});a.d(e,"a",function(){return l});var f=.3},function(c,e,a){function h(a,d){var b=
0;return function(){b&&clearTimeout(b);b=setTimeout(a,d)}}function l(b,g){var f=g.retryDelay,c=g.totalRetry,e=g.shouldRetry,l=g.resetDelay,r=g.errorSelector,w=g.onRetry,t=0,u=void 0;0<l&&(u=h(function(){return t=0},l));return b.catch(function(b,g){if(e&&!e(b)||t++>=c){if(r)throw r(b,t);throw b;}w&&w(b,t);b=a.i(d.a)(f,t);return k.Observable.timer(b).mergeMap(function(){u&&u();return g})})}function f(b,g){var f=g.retryDelay,c=g.totalRetry,e=g.shouldRetry,l=g.resetDelay,r=g.errorSelector,w=g.onRetry,
t=0,u=void 0;0<l&&(u=h(function(){return t=0},l));return function x(){for(var g=arguments.length,m=Array(g),n=0;n<g;n++)m[n]=arguments[n];return b.apply(void 0,m).catch(function(b){if(e&&!e(b)||t++>=c){if(r)throw r(b,t);throw b;}w&&w(b,t);b=a.i(d.a)(f,t);return k.Observable.timer(b).mergeMap(function(){u&&u();return x.apply(void 0,m)})})}}a.d(e,"a",function(){return l});a.d(e,"b",function(){return f});var k=a(0);a.n(k);var d=a(77)},function(c,e,a){function h(a){if(!a)return"";a=new Uint8Array(a);
239==a[0]&&187==a[1]&&191==a[2]&&(a=a.subarray(3));for(var f="",c=0;c<a.length;c+=16E3){var d=a.subarray(c,c+16E3);f+=String.fromCharCode.apply(null,d)}a=escape(f);return decodeURIComponent(a)}a.d(e,"a",function(){return h})},function(c,e,a){e.empty={closed:!0,next:function(a){},error:function(a){throw a;},complete:function(){}}},function(c,e,a){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g]);a.prototype=null===b?Object.create(b):
(d.prototype=b.prototype,new d)};c=a(7);var l=a(288),f=a(15),k=a(87),d=a(58),b=a(82);a=function(a){function c(b,d,g){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this);this.scheduler=g;this._events=[];this._bufferSize=1>b?1:b;this._windowTime=1>d?1:d}h(c,a);c.prototype.next=function(b){var d=this._getNow();this._events.push(new g(d,b));this._trimBufferThenGetEvents();a.prototype.next.call(this,b)};c.prototype._subscribe=function(a){var g=this._trimBufferThenGetEvents(),
c=this.scheduler;if(this.closed)throw new d.ObjectUnsubscribedError;if(this.hasError)var m=f.Subscription.EMPTY;else this.isStopped?m=f.Subscription.EMPTY:(this.observers.push(a),m=new b.SubjectSubscription(this,a));c&&a.add(a=new k.ObserveOnSubscriber(a,c));c=g.length;for(var n=0;n<c&&!a.closed;n++)a.next(g[n].value);this.hasError?a.error(this.thrownError):this.isStopped&&a.complete();return m};c.prototype._getNow=function(){return(this.scheduler||l.queue).now()};c.prototype._trimBufferThenGetEvents=
function(){for(var a=this._getNow(),b=this._bufferSize,d=this._windowTime,g=this._events,f=g.length,c=0;c<f&&!(a-g[c].time<d);)c++;f>b&&(c=Math.max(c,f-b));0<c&&g.splice(0,c);return g};return c}(c.Subject);e.ReplaySubject=a;var g=function(){return function(a,b){this.time=a;this.value=b}}()},function(c,e,a){var h=this&&this.__extends||function(a,f){function c(){this.constructor=a}for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d]);a.prototype=null===f?Object.create(f):(c.prototype=f.prototype,new c)};
c=function(a){function f(f,d){a.call(this);this.subject=f;this.subscriber=d;this.closed=!1}h(f,a);f.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var a=this.subject,d=a.observers;this.subject=null;!d||0===d.length||a.isStopped||a.closed||(a=d.indexOf(this.subscriber),-1!==a&&d.splice(a,1))}};return f}(a(15).Subscription);e.SubjectSubscription=c},function(c,e,a){function h(a){var b=a.value;a=a.subscriber;a.closed||(a.next(b),a.complete())}function l(a){var b=a.err;a=a.subscriber;
a.closed||a.error(b)}var f=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},k=a(16);c=function(a){function b(b,d){a.call(this);this.promise=b;this.scheduler=d}f(b,a);b.create=function(a,d){return new b(a,d)};b.prototype._subscribe=function(a){var b=this,d=this.promise,g=this.scheduler;if(null==g)this._isScalar?a.closed||(a.next(this.value),a.complete()):d.then(function(d){b.value=
d;b._isScalar=!0;a.closed||(a.next(d),a.complete())},function(b){a.closed||a.error(b)}).then(null,function(a){k.root.setTimeout(function(){throw a;})});else if(this._isScalar){if(!a.closed)return g.schedule(h,0,{value:this.value,subscriber:a})}else d.then(function(d){b.value=d;b._isScalar=!0;a.closed||a.add(g.schedule(h,0,{value:d,subscriber:a}))},function(b){a.closed||a.add(g.schedule(l,0,{err:b,subscriber:a}))}).then(null,function(a){k.root.setTimeout(function(){throw a;})})};return b}(a(0).Observable);
e.PromiseObservable=c},function(c,e,a){function h(){for(var a=[],g=0;g<arguments.length;g++)a[g-0]=arguments[g];g=null;f.isScheduler(a[a.length-1])&&(g=a.pop());return null===g&&1===a.length&&a[0]instanceof l.Observable?a[0]:(new k.ArrayObservable(a,g)).lift(new d.MergeAllOperator(1))}var l=a(0),f=a(21),k=a(17),d=a(53);e.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return this.lift.call(h.apply(void 0,[this].concat(a)))};e.concatStatic=h},function(c,e,a){function h(){for(var a=
[],g=0;g<arguments.length;g++)a[g-0]=arguments[g];g=Number.POSITIVE_INFINITY;var c=null,n=a[a.length-1];d.isScheduler(n)?(c=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(g=a.pop())):"number"===typeof n&&(g=a.pop());return null===c&&1===a.length&&a[0]instanceof l.Observable?a[0]:(new f.ArrayObservable(a,c)).lift(new k.MergeAllOperator(g))}var l=a(0),f=a(17),k=a(53),d=a(21);e.merge=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return this.lift.call(h.apply(void 0,[this].concat(a)))};
e.mergeStatic=h},function(c,e,a){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},l=a(12);c=a(11);e.mergeMap=function(a,b,g){void 0===g&&(g=Number.POSITIVE_INFINITY);"number"===typeof b&&(g=b,b=null);return this.lift(new f(a,b,g))};var f=function(){function a(a,d,f){void 0===f&&(f=Number.POSITIVE_INFINITY);this.project=a;this.resultSelector=d;this.concurrent=
f}a.prototype.call=function(a,d){return d.subscribe(new k(a,this.project,this.resultSelector,this.concurrent))};return a}();e.MergeMapOperator=f;var k=function(a){function b(b,d,f,c){void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this,b);this.project=d;this.resultSelector=f;this.concurrent=c;this.hasCompleted=!1;this.buffer=[];this.index=this.active=0}h(b,a);b.prototype._next=function(a){this.active<this.concurrent?this._tryNext(a):this.buffer.push(a)};b.prototype._tryNext=function(a){var b=this.index++;
try{var d=this.project(a,b)}catch(p){this.destination.error(p);return}this.active++;this._innerSub(d,a,b)};b.prototype._innerSub=function(a,b,d){this.add(l.subscribeToResult(this,a,b,d))};b.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};b.prototype.notifyNext=function(a,b,d,f,c){this.resultSelector?this._notifyResultSelector(a,b,d,f):this.destination.next(b)};b.prototype._notifyResultSelector=function(a,b,d,f){try{var g=this.resultSelector(a,
b,d,f)}catch(r){this.destination.error(r);return}this.destination.next(g)};b.prototype.notifyComplete=function(a){var b=this.buffer;this.remove(a);this.active--;0<b.length?this._next(b.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return b}(c.OuterSubscriber);e.MergeMapSubscriber=k},function(c,e,a){var h=this&&this.__extends||function(a,d){function b(){this.constructor=a}for(var g in d)d.hasOwnProperty(g)&&(a[g]=d[g]);a.prototype=null===d?Object.create(d):(b.prototype=
d.prototype,new b)};c=a(3);var l=a(198);e.observeOn=function(a,d){void 0===d&&(d=0);return this.lift(new f(a,d))};var f=function(){function a(a,b){void 0===b&&(b=0);this.scheduler=a;this.delay=b}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.scheduler,this.delay))};return a}();e.ObserveOnOperator=f;var k=function(a){function b(b,d,g){void 0===g&&(g=0);a.call(this,b);this.scheduler=d;this.delay=g}h(b,a);b.dispatch=function(a){a.notification.observe(a.destination);this.unsubscribe()};
b.prototype.scheduleMessage=function(a){this.add(this.scheduler.schedule(b.dispatch,this.delay,new d(a,this.destination)))};b.prototype._next=function(a){this.scheduleMessage(l.Notification.createNext(a))};b.prototype._error=function(a){this.scheduleMessage(l.Notification.createError(a))};b.prototype._complete=function(){this.scheduleMessage(l.Notification.createComplete())};return b}(c.Subscriber);e.ObserveOnSubscriber=k;var d=function(){return function(a,d){this.notification=a;this.destination=
d}}();e.ObserveOnMessage=d},function(c,e,a){var h=this&&this.__extends||function(a,c){function d(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)},l=a(16);c=function(a){function f(d,b){a.call(this,d,b);this.scheduler=d;this.work=b;this.pending=!1}h(f,a);f.prototype.schedule=function(a,b){void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.pending=!0;a=this.id;var d=this.scheduler;null!=a&&(this.id=
this.recycleAsyncId(d,a,b));this.delay=b;this.id=this.id||this.requestAsyncId(d,this.id,b);return this};f.prototype.requestAsyncId=function(a,b,g){void 0===g&&(g=0);return l.root.setInterval(a.flush.bind(a,this),g)};f.prototype.recycleAsyncId=function(a,b,g){void 0===g&&(g=0);return null!==g&&this.delay===g&&!1===this.pending?b:(l.root.clearInterval(b),void 0)};f.prototype.execute=function(a,b){if(this.closed)return Error("executing a cancelled action");this.pending=!1;if(a=this._execute(a,b))return a;
!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))};f.prototype._execute=function(a,b){b=!1;var d=void 0;try{this.work(a)}catch(m){b=!0,d=!!m&&m||Error(m)}if(b)return this.unsubscribe(),d};f.prototype._unsubscribe=function(){var a=this.id,b=this.scheduler,g=b.actions,f=g.indexOf(this);this.state=this.work=null;this.pending=!1;this.scheduler=null;-1!==f&&g.splice(f,1);null!=a&&(this.id=this.recycleAsyncId(b,a,null));this.delay=null};return f}(a(285).Action);
e.AsyncAction=c},function(c,e,a){var h=this&&this.__extends||function(a,f){function c(){this.constructor=a}for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d]);a.prototype=null===f?Object.create(f):(c.prototype=f.prototype,new c)};c=function(a){function f(){a.apply(this,arguments);this.actions=[];this.active=!1;this.scheduled=void 0}h(f,a);f.prototype.flush=function(a){var d=this.actions;if(this.active)d.push(a);else{var b;this.active=!0;do if(b=a.execute(a.state,a.delay))break;while(a=d.shift());this.active=
!1;if(b){for(;a=d.shift();)a.unsubscribe();throw b;}}};return f}(a(199).Scheduler);e.AsyncScheduler=c},function(c,e,a){var h=this&&this.__extends||function(a,f){function c(){this.constructor=a}for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d]);a.prototype=null===f?Object.create(f):(c.prototype=f.prototype,new c)};c=function(a){function f(){var f=a.call(this,"Timeout has occurred");this.name=f.name="TimeoutError";this.stack=f.stack;this.message=f.message}h(f,a);return f}(Error);e.TimeoutError=c},function(c,
e,a){e.isArrayLike=function(a){return a&&"number"===typeof a.length}},function(c,e,a){e.isDate=function(a){return a instanceof Date&&!isNaN(+a)}},function(c,e,a){var h=a(27);e.isNumeric=function(a){return!h.isArray(a)&&0<=a-parseFloat(a)+1}},function(c,e,a){e.isObject=function(a){return null!=a&&"object"===typeof a}},function(c,e,a){e.isPromise=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then}},function(c,e,a){e.noop=function(){}},function(c,e,a){Object.defineProperty(e,
"__esModule",{value:!0});c=a(200);a.n(c);c=a(201);a.n(c);c=a(202);a.n(c);c=a(203);a.n(c);c=a(204);a.n(c);c=a(205);a.n(c);c=a(206);a.n(c);c=a(207);a.n(c);c=a(208);a.n(c);c=a(209);a.n(c);c=a(210);a.n(c);c=a(211);a.n(c);c=a(212);a.n(c);c=a(213);a.n(c);c=a(214);a.n(c);c=a(215);a.n(c);c=a(216);a.n(c);c=a(217);a.n(c);c=a(218);a.n(c);c=a(219);a.n(c);c=a(220);a.n(c);c=a(221);a.n(c);c=a(222);a.n(c);c=a(223);a.n(c);c=a(224);a.n(c);c=a(225);a.n(c);c=a(226);a.n(c);c=a(227);a.n(c);c=a(228);a.n(c);c=a(229);a.n(c);
c=a(230);a.n(c);c=a(231);a.n(c);c=a(232);a.n(c);c=a(233);a.n(c);c=a(234);a.n(c);c=a(235);a.n(c);c=a(236);a.n(c);c=a(237);a.n(c);c=a(238);a.n(c);a(1);a=a(108);e["default"]=a.a},function(c,e,a){var h=a(62),l=a(99),f=a(63);a.d(e,"b",function(){return h.a});a.d(e,"c",function(){return l.a});a.d(e,"a",function(){return f.a})},function(c,e,a){function h(a,b){if(b instanceof k.b)return b._setVideo(a);if(a.setMediaKeys)return a.setMediaKeys(b);if(null!==b){if(a.WebkitSetMediaKeys)return a.WebkitSetMediaKeys(b);
if(a.mozSetMediaKeys)return a.mozSetMediaKeys(b);if(a.msSetMediaKeys)return a.msSetMediaKeys(b)}}var l=a(0);a.n(l);var f=a(10),k=a(62);e.a=function(d,b){return l.Observable.defer(function(){return a.i(f.a)(h(d,b))})}},function(c,e,a){function h(a){f()||(a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}function l(){f()&&(document.exitFullscreen?
document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function f(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}a.d(e,"c",function(){return h});a.d(e,"a",function(){return l});a.d(e,"b",function(){return f})},function(c,e,a){var h=a(64);c=a(4);var l=c.a.ABR_MINIMUM_TOTAL_BYTES,
f=c.a.ABR_MINIMUM_CHUNK_SIZE;c=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._fast=new h.a(2);this._slow=new h.a(10);this._bytesSampled=0}a.prototype.addSample=function(a,b){if(!(b<f)){var d=8E3*b/a;a/=1E3;this._bytesSampled+=b;this._fast.addSample(a,d);this._slow.addSample(a,d)}};a.prototype.getEstimate=function(){if(!(this._bytesSampled<l))return Math.min(this._fast.getEstimate(),this._slow.getEstimate())};a.prototype.reset=function(){this._fast=
new h.a(2);this._slow=new h.a(10);this._bytesSampled=0};return a}();e.a=c},function(c,e,a){e.a=function(a,f){var c=h()(a,function(a){return a.bitrate>f});return-1===c?a:a.slice(0,c)};c=a(61);var h=a.n(c)},function(c,e,a){e.a=function(a,f){var c=a.sort(function(a,d){return a.width-d.width});if(c=h()(c,function(a){return a.width>=f})){var d=c.width;return a.filter(function(a){return a.width<=d})}return a};c=a(18);var h=a.n(c)},function(c,e,a){e.a=function(a,f){var c=h()(a,function(a){return a.bitrate>
f});return-1===c?a[a.length-1]:a[c-1]};c=a(61);var h=a.n(c)},function(c,e,a){var h=a(7);a.n(h);a(9);a(2);var l=a(106),f=function(a,d){if(!a._choosers[d]){var b=a._choosers;a=a._chooserInstanceOptions;a=new l.a({limitWidth$:a.limitWidth[d],throttle$:a.throttle[d],initialBitrate:a.initialBitrates[d],manualBitrate:a.manualBitrates[d],maxAutoBitrate:a.maxAutoBitrates[d]});b[d]=a}};c=function(){function a(d,b){var g=this,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this._dispose$=new h.Subject;this._choosers={};this._chooserInstanceOptions={initialBitrates:c.initialBitrates||{},manualBitrates:c.manualBitrates||{},maxAutoBitrates:c.maxAutoBitrates||{},throttle:c.throttle||{},limitWidth:c.limitWidth||{}};b.takeUntil(this._dispose$).subscribe(function(a){var b=a.type;a=a.value;f(g,b);g._choosers[b].addEstimate(a.duration,a.size)});d.mergeMap(function(a){return a}).takeUntil(this._dispose$).subscribe(function(a){var b=a.type,d=a.event;a=a.value;f(g,b);switch(d){case "requestBegin":g._choosers[b].addPendingRequest(a.id,
a);break;case "requestEnd":g._choosers[b].removePendingRequest(a.id);break;case "progress":g._choosers[b].addRequestProgress(a.id,a)}})}a.prototype.get$=function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];f(this,a);return this._choosers[a].get$(b,d)};a.prototype.setManualBitrate=function(a,b){var d=this._choosers[a];d?d.manualBitrate$.next(b):this._chooserInstanceOptions.initialBitrates[a]=b};a.prototype.setMaxAutoBitrate=function(a,b){var d=this._choosers[a];d?d.maxAutoBitrate$.next(b):
this._chooserInstanceOptions.maxAutoBitrates[a]=b};a.prototype.getManualBitrate=function(a){var b=this._choosers[a];return b?b.manualBitrate$.getValue():this._chooserInstanceOptions.manualBitrates[a]};a.prototype.getMaxAutoBitrate=function(a){var b=this._choosers[a];return b?b.maxAutoBitrate$.getValue():this._chooserInstanceOptions.maxAutoBitrates[a]};a.prototype.dispose=function(){var a=this;Object.keys(this._choosers).forEach(function(b){a._choosers[b].dispose()});this._choosers=this._chooserInstanceOptions=
null;this._dispose$.next();this._dispose$.complete()};return a}();e.a=c},function(c,e,a){c=a(6);var h=a.n(c),l=a(51);a.n(l);var f=a(7);a.n(f);var k=a(0);a.n(k);c=a(4);a(2);var d=a(101),b=a(103),g=a(102),m=a(104),n=a(64),p=c.a.ABR_STARVATION_GAP,q=c.a.OUT_OF_STARVATION_GAP,r=c.a.ABR_STARVATION_FACTOR,w=c.a.ABR_REGULAR_FACTOR,t=function(b,d){b=a.i(m.a)(b,d)||b[0];return k.Observable.of({bitrate:void 0,representation:b}).concat(k.Observable.never())};c=function(){function c(){var a=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._dispose$=new f.Subject;this.manualBitrate$=(new l.BehaviorSubject(null!=a.manualBitrate?a.manualBitrate:-1)).takeUntil(this._dispose$);this.maxAutoBitrate$=(new l.BehaviorSubject(null!=a.maxAutoBitrate?a.maxAutoBitrate:Infinity)).takeUntil(this._dispose$);this.estimator=new d.a;this._currentRequests={};this.initialBitrate=a.initialBitrate||0;this._limitWidth$=a.limitWidth$;
this._throttle$=a.throttle$}c.prototype.get$=function(d,f){var c=this;if(2>f.length)return k.Observable.of({bitrate:void 0,representation:f.length?f[0]:null}).concat(k.Observable.never()).takeUntil(this._dispose$);var e=this.manualBitrate$,l=this.maxAutoBitrate$,x=this.initialBitrate,u=[];this._limitWidth$&&u.push(this._limitWidth$.map(function(a){return{width:a}}));this._throttle$&&u.push(this._throttle$.map(function(a){return{bitrate:a}}));var v=u.length?k.Observable.combineLatest.apply(k.Observable,
u).map(function(a){return h.a.apply(void 0,[{}].concat(a))}):k.Observable.of({}),B=void 0;return e.switchMap(function(e){if(0<=e)return t(f,e);var h=!1;return k.Observable.combineLatest(d,l,v).map(function(d){var k=d[0],e=d[1],l=d[2],u=d=void 0,t=k.bufferGap;t<=p?h=!0:h&&t>=q&&(h=!1);if(h){var v=k.bitrate;a:{var y=c._currentRequests;t+=k.position;for(var z=Object.keys(y),E=z.length,A=0;A<E-1;A++){var I=y[z[A]];if(Math.abs(t-I.time)<I.duration){t=I;break a}}t=void 0}if(t&&(z=t.duration,y=t.requestTimestamp,
y=(Date.now()-y)/1E3,z&&y>1+1.2*z)){z=t;t=void 0;u=z.duration;if(2<=z.progress.length){t=new n.a(2);z=z.progress;for(E=1;E<z.length;E++)A=z[E].timestamp-z[E-1].timestamp,t.addSample(A/1E3,8*(z[E].size-z[E-1].size)/(A/1E3));t=t.getEstimate()}t||(t=u*v/(5*y/4));u=t;null!=u&&(c.resetEstimate(),d=Math.min(u,v,e))}}null==d&&(u=c.estimator.getEstimate(),d=Math.min(null!=u?k.bufferGap<=h?u*r:u*w:null!=B?k.bufferGap<=h?B*r:B*w:x,e));1<k.speed&&(d/=k.speed);k=f;l.hasOwnProperty("bitrate")&&(k=a.i(g.a)(k,l.bitrate));
l.hasOwnProperty("width")&&(k=a.i(b.a)(k,l.width));return{bitrate:u,representation:a.i(m.a)(k,d)||f[0]}}).do(function(a){a=a.bitrate;null!=a&&(B=a)}).share()})};c.prototype.addEstimate=function(a,b){null!=a&&null!=b&&this.estimator.addSample(a,b)};c.prototype.resetEstimate=function(){this.estimator.reset()};c.prototype.addPendingRequest=function(a,b){this._currentRequests[a]=b;this._currentRequests[a].progress=[]};c.prototype.addRequestProgress=function(a,b){this._currentRequests[a].progress.push(b)};
c.prototype.removePendingRequest=function(a){delete this._currentRequests[a]};c.prototype.resetRequests=function(){this._currentRequests={}};c.prototype.dispose=function(){this._dispose$.next()};return c}();e.a=c},function(c,e,a){function h(b,d){var g=b.currentTime,f=b.paused,c=b.playbackRate,m=b.readyState,e=b.buffered;return{currentTime:g,buffered:e,duration:b.duration,bufferGap:a.i(k.a)(e,g),state:d,playbackRate:c,currentRange:a.i(k.i)(e,g),readyState:m,paused:f}}var l=a(0);a.n(l);var f=a(51);
a.n(f);c=a(4);var k=a(14),d=c.a.SAMPLING_INTERVAL_MEDIASOURCE,b=c.a.SAMPLING_INTERVAL_NO_MEDIASOURCE,g=c.a.RESUME_AFTER_SEEKING_GAP,m=c.a.RESUME_AFTER_BUFFERING_GAP,n=c.a.STALL_GAP,p="canplay play progress seeking seeked loadedmetadata".split(" ");e.a=function(a,c){var k=c.withMediaSource;return l.Observable.create(function(f){function c(b){b=h(a,b&&b.type||"timeupdate");var d=b.state;var c=b.currentTime,l=b.bufferGap,p=b.paused,q=b.readyState,r=e.stalled,x=e.state,t=e.currentTime;var u=(u=b.currentRange)&&
b.duration-(l+u.end)<=n;var v=1<=q&&"loadedmetadata"!=d&&!r&&!u,w=void 0,y=void 0;k?v&&(l<=n||Infinity===l||1===q)?w=!0:r&&1<q&&Infinity>l&&(l>("seeking"==r.state?g:m)||u)&&(y=!0):v&&(!p&&"timeupdate"==d&&"timeupdate"==x&&c===t||"seeking"==d&&Infinity===l)?w=!0:r&&("seeking"!=d&&c!==t||"canplay"==d||Infinity>l&&(l>("seeking"==r.state?g:m)||u))&&(y=!0);d=w?{state:d,timestamp:Date.now()}:y?null:r;b.stalled=d;e=b;f.next(e)}var e=h(a,"init");e.stalled=null;var l=setInterval(c,k?d:b);p.forEach(function(b){return a.addEventListener(b,
c)});f.next(e);return function(){clearInterval(l);p.forEach(function(b){return a.removeEventListener(b,c)})}}).multicast(function(){return new f.BehaviorSubject({})}).refCount()}},function(c,e,a){function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(a,b){return a.filter(function(a){return a.type==b}).map(function(a){return a.value})}var k=a(0);a.n(k);var d=a(7);a.n(d);var b=a(51);a.n(b);var g=a(81);a.n(g);c=a(4);var m=a(1),n=a(31),p=a(2),q=a(14),r=a(5),w=a(13),t=a(168),u=a(29),v=a(8),x=a(130),y=a(37),z=a(65),A=a(107),C=a(111),E=a(110),D="function"===typeof Symbol&&
"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},B=function(){function a(a,b){for(var d=0;d<b.length;d++){var g=b[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(b,d,g){d&&a(b.prototype,d);g&&a(b,g);return b}}(),F=c.a.DEFAULT_UNMUTED_VOLUME;c=function(c){function e(f){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");
var k=h(this,c.call(this)),n=a.i(E.a)(f);f=n.initialAudioBitrate;var l=n.initialVideoBitrate,q=n.limitVideoWidth,x=n.maxAudioBitrate,u=n.maxBufferAhead,t=n.maxBufferBehind,v=n.maxVideoBitrate,y=n.throttleWhenHidden,A=n.videoElement;n=n.wantedBufferAhead;a.i(p.a)(A instanceof r.a,"videoElement needs to be an HTMLVideoElement");A.preload="auto";k.version="3.0.0-rc7";k.log=m.a;k.state=void 0;k.videoElement=A;k._priv=a.i(C.a)(k);k._priv.destroy$=new d.Subject;a.i(w.a)(A).takeUntil(k._priv.destroy$).subscribe(function(){return k.trigger("fullscreenChange",
k.isFullscreen())});a.i(w.b)(A.textTracks).takeUntil(k._priv.destroy$).map(function(a){var b=[];a=a.target;var d=Array.isArray(a),g=0;for(a=d?a:a[Symbol.iterator]();;){if(d){if(g>=a.length)break;var f=a[g++]}else{g=a.next();if(g.done)break;f=g.value}b.push(f)}return b}).distinctUntilChanged(function(a,b){if(a.length!==b.length)return!1;for(var d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0}).subscribe(function(a){return k._priv.onNativeTextTracksNext(a)});k._priv.errorStream$=(new d.Subject).takeUntil(k._priv.destroy$);
k._priv.playing$=new g.ReplaySubject(1);k._priv.speed$=new b.BehaviorSubject(A.playbackRate);k._priv.unsubscribeLoadedVideo$=(new d.Subject).takeUntil(k._priv.destroy$);k._priv.streamLock$=(new b.BehaviorSubject(!1)).takeUntil(k._priv.destroy$);k._priv.wantedBufferAhead$=new b.BehaviorSubject(n);k._priv.maxBufferAhead$=new b.BehaviorSubject(u);k._priv.maxBufferBehind$=new b.BehaviorSubject(t);k._priv.lastBitrates={audio:f,video:l};k._priv.initialMaxAutoBitrates={audio:x,video:v};k._priv.manualBitrates=
{audio:-1,video:-1};k._priv.throttleWhenHidden=y;k._priv.limitVideoWidth=q;k._priv.mutedMemory=F;k._priv.initialAudioTrack=void 0;k._priv.initialTextTrack=void 0;k._priv.languageManager=null;k._priv.abrManager&&(k._priv.abrManager=null);k._priv.manifest=null;k._priv.currentRepresentations={};k._priv.currentAdaptations={};k._priv.recordedEvents={};k._priv.fatalError=null;k._priv.currentImagePlaylist=null;k._priv.setPlayerState(z.a.STOPPED);return k}l(e,c);B(e,null,[{key:"ErrorTypes",get:function(){return v.a}},
{key:"ErrorCodes",get:function(){return v.b}},{key:"LogLevel",get:function(){return m.a.getLevel()},set:function(a){m.a.setLevel(a)}}]);e.prototype.stop=function(){this.state!==z.a.STOPPED&&(this._priv.unsubscribeLoadedVideo$.next(),this._priv.cleanUpCurrentContentState(),this._priv.setPlayerState(z.a.STOPPED))};e.prototype.dispose=function(){this.stop();a.i(y.a)();var b=this._priv;b.destroy$.next();b.destroy$.complete();b.playing$.complete();b.speed$.complete();b.wantedBufferAhead$.complete();b.maxBufferAhead$.complete();
b.maxBufferBehind$.complete();b.playing$=null;b.speed$=null;b.wantedBufferAhead$=null;b.maxBufferAhead$=null;b.maxBufferBehind$=null;b.unsubscribeLoadedVideo$=null;b.errorStream$=null;b.lastBitrates=null;b.manualBitrates=null;b.initialMaxAutoBitrates=null;this.videoElement=b.streamLock$=null};e.prototype.loadVideo=function(){var b=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d=a.i(E.b)(d,this);m.a.info("loadvideo",d);var g=d;d=g.autoPlay;var c=g.defaultAudioTrack,e=g.defaultTextTrack,
n=g.hideNativeSubtitle,l=g.keySystems,h=g.startAt,q=g.supplementaryImageTracks,r=g.supplementaryTextTracks,u=g.textTrackElement,v=g.textTrackMode,y=g.transport,C=g.transportOptions;g=g.url;a.i(p.a)(g,"you have to set at least an url");a.i(p.a)(y,'you have to set the transport type (e.g. "smooth", "dash")');a.i(p.a)("html"!==v||u instanceof Element,'textTrackElement needs to be specified as an Element in "html" textTrackMode.');var D=t.a[y];a.i(p.a)(D,'transport "'+y+'" not supported');C=D(C);this.stop();
this._priv.initialAudioTrack=c;this._priv.initialTextTrack=e;this._priv.playing$.next(!1);D=this.videoElement;var B=this._priv;c=B.errorStream$;var F=B.initialMaxAutoBitrates,H=B.lastBitrates,I=B.limitVideoWidth,R=B.manualBitrates,L=B.maxBufferAhead$,Y=B.maxBufferBehind$,S=B.playing$,Z=B.speed$,T=B.throttleWhenHidden;e=B.unsubscribeLoadedVideo$;var U=B.wantedBufferAhead$;B=!y.directFile;y=a.i(A.a)(D,{withMediaSource:B});F={initialBitrates:H,manualBitrates:R,maxAutoBitrates:F,throttle:T&&{video:a.i(w.c)().map(function(a){return a?
0:Infinity}).takeUntil(e)},limitWidth:I&&{video:a.i(w.d)(D).takeUntil(e)}};L={wantedBufferAhead$:U,maxBufferAhead$:L,maxBufferBehind$:Y};n={textTrackMode:v,textTrackElement:u,hideNativeSubtitle:n};var M=a.i(x.a)({adaptiveOptions:F,autoPlay:d,bufferOptions:L,errorStream:c,keySystems:l,speed$:Z,startAt:h,textTrackOptions:n,timings$:y,transport:C,url:g,videoElement:D,withMediaSource:B,supplementaryImageTracks:q,supplementaryTextTracks:r}).takeUntil(e).publish();d=f(M,"stalled").startWith(null);d=f(M,
"loaded").take(1).share().mapTo(z.a.LOADED).concat(k.Observable.combineLatest(S,d).map(function(a){var b=a[1];return b?"seeking"==b.state?z.a.SEEKING:z.a.BUFFERING:a[0]?z.a.PLAYING:z.a.PAUSED}).skipUntil(S.filter(function(a){return!0===a}))).distinctUntilChanged().startWith(z.a.LOADING);l=a.i(w.e)(D).map(function(a){return"play"===a.type});var N=void 0;e.take(1).subscribe(function(){N&&N.unsubscribe()});h=function(){};l.takeUntil(e).subscribe(function(a){return b._priv.onPlayPauseNext(a)},h);y.takeUntil(e).subscribe(function(a){return b._priv.triggerTimeChange(a)},
h);d.takeUntil(e).subscribe(function(a){return b._priv.setPlayerState(a)},h);M.subscribe(function(a){return b._priv.onStreamNext(a)},function(a){return b._priv.onStreamError(a)},function(){return b._priv.onStreamComplete()});c.takeUntil(e).subscribe(function(a){return b._priv.onErrorStreamNext(a)});this._priv.streamLock$.filter(function(a){return!a}).take(1).takeUntil(e).subscribe(function(){N=M.connect()})};e.prototype.getError=function(){return this._priv.fatalError};e.prototype.getManifest=function(){return this._priv.manifest||
null};e.prototype.getCurrentAdaptations=function(){return this._priv.manifest?this._priv.currentAdaptations:null};e.prototype.getCurrentRepresentations=function(){return this._priv.manifest?this._priv.currentRepresentations:null};e.prototype.getVideoElement=function(){return this.videoElement};e.prototype.getNativeTextTrack=function(){return 0<this.videoElement.textTracks.length?this.videoElement.textTracks[0]:null};e.prototype.getPlayerState=function(){return this.state};e.prototype.isLive=function(){return this._priv.manifest?
this._priv.manifest.isLive:!1};e.prototype.getUrl=function(){if(this._priv.manifest)return this._priv.manifest.getUrl()};e.prototype.getVideoDuration=function(){return this.videoElement.duration};e.prototype.getVideoBufferGap=function(){return a.i(q.a)(this.videoElement.buffered,this.videoElement.currentTime)};e.prototype.getVideoLoadedTime=function(){return a.i(q.b)(this.videoElement.buffered,this.videoElement.currentTime)};e.prototype.getVideoPlayedTime=function(){return a.i(q.c)(this.videoElement.buffered,
this.videoElement.currentTime)};e.prototype.getWallClockTime=function(){if(!this._priv.manifest)return 0;var b=this.videoElement.currentTime;return this.isLive()?+a.i(u.a)(b,this._priv.manifest)/1E3:b};e.prototype.getPosition=function(){return this.videoElement.currentTime};e.prototype.getPlaybackRate=function(){return this._priv.speed$.getValue()};e.prototype.getVolume=function(){return this.videoElement.volume};e.prototype.isFullscreen=function(){return a.i(r.b)()};e.prototype.getAvailableVideoBitrates=
function(){var a=this._priv.currentAdaptations.video;return a?a.representations.map(function(a){return a.bitrate}):[]};e.prototype.getAvailableAudioBitrates=function(){var a=this._priv.currentAdaptations.audio;return a?a.representations.map(function(a){return a.bitrate}):[]};e.prototype.getManualAudioBitrate=function(){return this._priv.manualBitrates.audio};e.prototype.getManualVideoBitrate=function(){return this._priv.manualBitrates.video};e.prototype.getVideoBitrate=function(){return this._priv.recordedEvents.videoBitrate};
e.prototype.getAudioBitrate=function(){return this._priv.recordedEvents.audioBitrate};e.prototype.getMaxVideoBitrate=function(){return this._priv.abrManager?this._priv.abrManager.getMaxAutoBitrate("video"):this._priv.initialMaxAutoBitrates.video};e.prototype.getMaxAudioBitrate=function(){return this._priv.abrManager?this._priv.abrManager.getMaxAutoBitrate("audio"):this._priv.initialMaxAutoBitrates.audio};e.prototype.play=function(){this.videoElement.play()};e.prototype.pause=function(){this.videoElement.pause()};
e.prototype.setPlaybackRate=function(a){this._priv.speed$.next(a)};e.prototype.seekTo=function(b){a.i(p.a)(this._priv.manifest,"player: no manifest loaded");var d=void 0,g="undefined"===typeof b?"undefined":D(b);if("number"===g)d=b;else if("object"===g)if(d=this.videoElement.currentTime,null!=b.relative)d+=b.relative;else if(null!=b.position)d=b.position;else if(b.wallClockTime)d=a.i(u.b)(1E3*b.wallClockTime,this._priv.manifest);else throw Error('invalid time object. You must set one of the following properties: "relative", "position" or "wallClockTime"');
if(void 0===d)throw Error("invalid time given");return this.videoElement.currentTime=d};e.prototype.exitFullscreen=function(){a.i(r.c)()};e.prototype.setFullscreen=function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)?a.i(r.d)(this.videoElement):a.i(r.c)()};e.prototype.setVolume=function(a){a!==this.videoElement.volume&&(this.videoElement.volume=a,this.trigger("volumeChange",a))};e.prototype.isMute=function(){return!this.getVolume()};e.prototype.mute=function(){this._priv.mutedMemory=
this.getVolume();this.setVolume(0)};e.prototype.unMute=function(){0===this.getVolume()&&this.setVolume(this._priv.mutedMemory||F)};e.prototype.setVideoBitrate=function(a){this._priv.manualBitrates.video=a;this._priv.abrManager&&this._priv.abrManager.setManualBitrate("video",a)};e.prototype.setAudioBitrate=function(a){this._priv.manualBitrates.audio=a;this._priv.abrManager&&this._priv.abrManager.setManualBitrate("audio",a)};e.prototype.setMaxVideoBitrate=function(a){this._priv.initialMaxAutoBitrates.video=
a;this._priv.abrManager&&this._priv.abrManager.setMaxAutoBitrate("video",a)};e.prototype.setMaxAudioBitrate=function(a){this._priv.initialMaxAutoBitrates.audio=a;this._priv.abrManager&&this._priv.abrManager.setMaxAutoBitrate("audio",a)};e.prototype.setMaxBufferBehind=function(a){this._priv.maxBufferBehind$.next(a)};e.prototype.setMaxBufferAhead=function(a){this._priv.maxBufferAhead$.next(a)};e.prototype.setWantedBufferAhead=function(a){this._priv.wantedBufferAhead$.next(a)};e.prototype.getMaxBufferBehind=
function(){return this._priv.maxBufferBehind$.getValue()};e.prototype.getMaxBufferAhead=function(){return this._priv.maxBufferAhead$.getValue()};e.prototype.getWantedBufferAhead=function(){return this._priv.wantedBufferAhead$.getValue()};e.prototype.getCurrentKeySystem=function(){return a.i(y.b)()};e.prototype.getAvailableAudioTracks=function(){return this._priv.languageManager?this._priv.languageManager.getAvailableAudioTracks():null};e.prototype.getAvailableTextTracks=function(){return this._priv.languageManager?
this._priv.languageManager.getAvailableTextTracks():null};e.prototype.getAudioTrack=function(){if(this._priv.languageManager)return this._priv.languageManager.getCurrentAudioTrack()};e.prototype.getTextTrack=function(){if(this._priv.languageManager)return this._priv.languageManager.getCurrentTextTrack()};e.prototype.setAudioTrack=function(b){a.i(p.a)(this._priv.languageManager,"No compatible content launched.");try{this._priv.languageManager.setAudioTrackByID(b)}catch(O){throw Error("player: unknown audio track");
}};e.prototype.setTextTrack=function(b){a.i(p.a)(this._priv.languageManager,"No compatible content launched.");try{this._priv.languageManager.setTextTrackByID(b)}catch(O){throw Error("player: unknown text track");}};e.prototype.disableTextTrack=function(){if(this._priv.languageManager)return this._priv.languageManager.disableTextTrack()};e.prototype.getImageTrackData=function(){return this._priv.manifest?this._priv.currentImagePlaylist:null};e.prototype.getMinimumPosition=function(){return this._priv.manifest?
a.i(u.c)(this._priv.manifest):null};e.prototype.getMaximumPosition=function(){return this._priv.manifest?a.i(u.d)(this._priv.manifest):null};return e}(n.a);e.a=c},function(c,e,a){c=a(18);var h=a.n(c),l=function(a,d){if(!d)return null;if(a.length)return h()(a,function(a){return d.normalized===a.normalizedLanguage&&d.closedCaption===a.isClosedCaption})},f=function(a,d){if(a.length&&d)return h()(a,function(a){return d.normalized===a.normalizedLanguage&&d.audioDescription===a.isAudioDescription})};a=
function(){function a(d,b){var g=d.text;d=d.audio;var f=b.text$;b=b.audio$;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._currentTextAdaptation=this._currentAudioAdaptation=void 0;this._audioAdaptations=d||[];this._textAdaptations=g||[];this._text$=f;this._audio$=b}a.prototype.updateAdaptations=function(a){var b=a.audio;a=a.text;this._audioAdaptations=b||[];this._textAdaptations=a||[];var d=this._currentAudioAdaptation;if(d){var c=d.id;h()(b,function(a){return a.id===
c})||(b=f(b,{language:d.language,audioDescription:!!d.isAudioDescription})||b[0]||null,this._currentAudioAdaptation!==b&&(this._currentAudioAdaptation=b,this._audio$.next(this._currentAudioAdaptation)))}if(b=this._currentTextAdaptation){var e=b.id;h()(a,function(a){return a.id===e})||(a=l(a,{language:b.language,closedCaption:!!b.isClosedCaption})||a[0],this._currentTextAdaptation!==a&&(this._currentTextAdaptation=a,this._text$.next(this._currentTextAdaptation)))}};a.prototype.setInitialAudioTrack=
function(a){var b=void 0;a?b=f(this._audioAdaptations,a):null===a&&(b=null);void 0===b&&(b=this._audioAdaptations[0]||null);b!==this._currentAudioAdaptation&&(this._currentAudioAdaptation=b,this._audio$.next(this._currentAudioAdaptation))};a.prototype.setInitialTextTrack=function(a){a=a?l(this._textAdaptations,a)||null:null;a!==this._currentTextAdaptation&&(this._currentTextAdaptation=a,this._text$.next(this._currentTextAdaptation))};a.prototype.setAudioTrackByID=function(a){var b=h()(this._audioAdaptations,
function(b){return b.id===a});if(void 0===b)throw Error("Audio Track not found.");this._currentAudioAdaptation!==b&&(this._currentAudioAdaptation=b,this._audio$.next(this._currentAudioAdaptation))};a.prototype.setTextTrackByID=function(a){var b=h()(this._textAdaptations,function(b){return b.id===a});if(void 0===b)throw Error("Text Track not found.");this._currentTextAdaptation!==b&&(this._currentTextAdaptation=b,this._text$.next(this._currentTextAdaptation))};a.prototype.disableAudioTrack=function(){null!==
this._currentAudioAdaptation&&(this._currentAudioAdaptation=null,this._audio$.next(this._currentAudioAdaptation))};a.prototype.disableTextTrack=function(){null!==this._currentTextAdaptation&&(this._currentTextAdaptation=null,this._text$.next(this._currentTextAdaptation))};a.prototype.getCurrentAudioTrack=function(){var a=this._currentAudioAdaptation;return a?{language:a.language,normalized:a.normalizedLanguage,audioDescription:a.isAudioDescription,id:a.id}:null};a.prototype.getCurrentTextTrack=function(){var a=
this._currentTextAdaptation;return a?{language:a.language,normalized:a.normalizedLanguage,closedCaption:a.isClosedCaption,id:a.id}:null};a.prototype.getAvailableAudioTracks=function(){var a=this._currentAudioAdaptation,b=a&&a.id;return this._audioAdaptations.map(function(a){return{language:a.language,normalized:a.normalizedLanguage,audioDescription:a.isAudioDescription,id:a.id,active:null==b?!1:b===a.id}})};a.prototype.getAvailableTextTracks=function(){var a=this._currentTextAdaptation,b=a&&a.id;
return this._textAdaptations.map(function(a){return{language:a.language,normalized:a.normalizedLanguage,closedCaption:a.isClosedCaption,id:a.id,active:null==b?!1:b===a.id}})};return a}();e.a=a},function(c,e,a){function h(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b={maxBufferAhead:v(a.maxBufferAhead,p),maxBufferBehind:v(a.maxBufferBehind,q),limitVideoWidth:v(a.limitVideoWidth,m),videoElement:a.videoElement||document.createElement("video"),wantedBufferAhead:v(a.wantedBufferAhead,
u),throttleWhenHidden:v(a.throttleWhenHidden,t)},d=g||{},f=n||{};b.initialAudioBitrate=v(a.initialAudioBitrate,d.audio,d.other);b.initialVideoBitrate=v(a.initialVideoBitrate,d.video,d.other);b.maxAudioBitrate=v(a.maxAudioBitrate,f.audio,f.other);b.maxVideoBitrate=v(a.maxVideoBitrate,f.video,f.other);return b}function l(){var g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},f={url:g.url,transport:g.transport,autoPlay:v(g.autoPlay,b),keySystems:v(g.keySystems,[]),transportOptions:g.transportOptions,
supplementaryTextTracks:v(g.supplementaryTextTracks,[]),supplementaryImageTracks:v(g.supplementaryImageTracks,[]),textTrackMode:v(g.textTrackMode,w),defaultAudioTrack:a.i(d.b)(g.defaultAudioTrack),defaultTextTrack:a.i(d.c)(g.defaultTextTrack),hideNativeSubtitle:v(g.hideNativeSubtitle,!r)};"html"===g.textTrackMode&&(f.textTrackElement=g.textTrackElement);f.startAt=g.startAt&&g.startAt.wallClockTime instanceof Date?k()({},g.startAt,{wallClockTime:g.startAt.wallClockTime/1E3}):g.startAt;g.directFile&&
(f.transport="directfile");return f}a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});c=a(4);e=a(192);var f=a(6),k=a.n(f),d=a(32),b=c.a.DEFAULT_AUTO_PLAY,g=c.a.DEFAULT_INITIAL_BITRATES,m=c.a.DEFAULT_LIMIT_VIDEO_WIDTH,n=c.a.DEFAULT_MAX_BITRATES,p=c.a.DEFAULT_MAX_BUFFER_AHEAD,q=c.a.DEFAULT_MAX_BUFFER_BEHIND,r=c.a.DEFAULT_SHOW_NATIVE_SUBTITLE,w=c.a.DEFAULT_TEXT_TRACK_MODE,t=c.a.DEFAULT_THROTTLE_WHEN_HIDDEN,u=c.a.DEFAULT_WANTED_BUFFER_AHEAD,v=e.a},function(c,e,a){c=a(194);var h=a.n(c),l=
a(0);a.n(l);var f=a(1);a(2);var k=a(29),d=a(65),b=a(109),g=a(37);e.a=function(c){return{cleanUpCurrentContentState:function(){c._priv.streamLock$.next(!0);c._priv.initialAudioTrack=void 0;c._priv.initialTextTrack=void 0;c._priv.languageManager=null;c._priv.abrManager&&(c._priv.abrManager.dispose(),c._priv.abrManager=null);c._priv.manifest=null;c._priv.currentRepresentations={};c._priv.currentAdaptations={};c._priv.recordedEvents={};c._priv.fatalError=null;c._priv.currentImagePlaylist=null;a.i(g.d)().catch(function(){return l.Observable.empty()}).subscribe(function(){},
function(){},function(){c._priv.streamLock$.next(!1)})},recordState:function(a,b){var d=c._priv.recordedEvents[a];h()(d,b)||(c._priv.recordedEvents[a]=b,c.trigger(a+"Change",b))},onStreamNext:function(a){var b=a.value;switch(a.type){case "representationChange":c._priv.onRepresentationChange(b);break;case "manifestUpdate":c._priv.onManifestUpdate(b);break;case "adaptationChange":c._priv.onAdaptationChange(b);break;case "bitrateEstimationChange":c._priv.onBitrateEstimationChange(b);break;case "manifestChange":c._priv.onManifestChange(b);
break;case "pipeline":a=b.parsed,"image"===b.bufferType&&(c._priv.currentImagePlaylist=a.segmentData,c.trigger("imageTrackUpdate",{data:c._priv.currentImagePlaylist}))}},onErrorStreamNext:function(a){c.trigger("warning",a)},onStreamError:function(a){c._priv.unsubscribeLoadedVideo$.next();this._priv.cleanUpCurrentContentState();c._priv.fatalError=a;c._priv.setPlayerState(d.a.STOPPED);c._priv.fatalError===a&&c.trigger("error",a)},onStreamComplete:function(){c._priv.unsubscribeLoadedVideo$.next();this._priv.cleanUpCurrentContentState();
c._priv.setPlayerState(d.a.ENDED)},onManifestChange:function(a){var d=a.manifest,g=a.adaptations$,f=void 0===g?{}:g;c._priv.manifest=d;c._priv.languageManager=new b.a(d.adaptations,{audio$:f.audio,text$:f.text});Object.keys(f).forEach(function(a){"audio"===a?c._priv.languageManager.setInitialAudioTrack(c._priv.initialAudioTrack):"text"===a?c._priv.languageManager.setInitialTextTrack(c._priv.initialTextTrack):f[a].next((d.adaptations[a]||[])[0]||null)});c._priv.abrManager=a.abrManager;c.trigger("manifestChange",
d)},onManifestUpdate:function(a){a=a.manifest;c._priv.manifest=a;c._priv.languageManager.updateAdaptations(a.adaptations);c.trigger("manifestUpdate",a)},onAdaptationChange:function(a){var b=a.type;c._priv.currentAdaptations[b]=a.adaptation;c._priv.languageManager&&("audio"===b?(a=c._priv.languageManager.getCurrentAudioTrack(),c._priv.recordState("audioTrack",a)):"text"===b&&(a=c._priv.languageManager.getCurrentTextTrack(),c._priv.recordState("textTrack",a)))},onRepresentationChange:function(a){var b=
a.type;a=a.representation;a=(c._priv.currentRepresentations[b]=a)&&a.bitrate;null!=a&&(c._priv.lastBitrates[b]=a);"video"==b?c._priv.recordState("videoBitrate",null!=a?a:-1):"audio"==b&&c._priv.recordState("audioBitrate",null!=a?a:-1)},onBitrateEstimationChange:function(a){c._priv.recordState("bitrateEstimation",{type:a.type,bitrate:a.bitrate})},onPlayPauseNext:function(a){!0!==c.videoElement.ended&&c._priv.playing$.next(a)},onNativeTextTracksNext:function(a){c.trigger("nativeTextTracksChange",a)},
setPlayerState:function(a){c.state!==a&&(c.state=a,f.a.info("playerStateChange",a),c.trigger("playerStateChange",a))},triggerTimeChange:function(b){if(c._priv.manifest&&b){var d={position:b.currentTime,duration:b.duration,playbackRate:b.playbackRate,bufferGap:isFinite(b.bufferGap)?b.bufferGap:0};c._priv.manifest.isLive&&0<b.currentTime&&(d.wallClockTime=a.i(k.a)(b.currentTime,c._priv.manifest).getTime()/1E3,d.liveGap=a.i(k.d)(c._priv.manifest)-b.currentTime);c.trigger("positionUpdate",d)}}}}},function(c,
e,a){e.a=function(c,e,d,b){if(!isFinite(d)&&!isFinite(b))return h.Observable.empty();var g=[],f=a.i(l.g)(c.getBuffered(),e),k=f.innerRange,p=f.outerRanges;(function(){if(isFinite(d)){for(var a=0;a<p.length;a++){var b=p[a];e-d>=b.end?g.push(b):e>=b.end&&e-d>b.start&&e-d<b.end&&g.push({start:b.start,end:e-d})}k&&e-d>k.start&&g.push({start:k.start,end:e-d})}})();(function(){if(isFinite(b)){for(var a=0;a<p.length;a++){var d=p[a];e+b<=d.start?g.push(d):e<=d.start&&e+b<d.end&&e+b>d.start&&g.push({start:e+
b,end:d.end})}k&&e+b<k.end&&g.push({start:e+b,end:k.end})}})();return h.Observable.from(g.map(function(a){return c.removeBuffer(a)})).concatAll().ignoreElements()};var h=a(0);a.n(h);var l=a(14)},function(c,e,a){function h(b,d,c){var g=a.i(k.g)(d,b);d=g.innerRange;g=g.outerRanges;for(var e=[],m=0;m<g.length;m++){var n=g[m];b-c<n.end?e.push(n):b+c>n.start&&e.push(n)}d&&(f.a.debug("buffer: gc removing part of inner range",e),b-c>d.start&&e.push({start:d.start,end:b-c}),b+c<d.end&&e.push({start:b+c,end:d.end}));
return e}e.a=function(a,c){f.a.warn("buffer: running garbage collector");return a.take(1).mergeMap(function(a){var g=c.getBuffered(),e=h(a.currentTime,g,d);0===e.length&&(e=h(a.currentTime,g,b));f.a.debug("buffer: gc cleaning",e);return l.Observable.from(e.map(function(a){return c.removeBuffer(a)})).concatAll()})};var l=a(0);a.n(l);c=a(4);var f=a(1),k=a(14),d=c.a.BUFFER_GC_GAPS.CALM,b=c.a.BUFFER_GC_GAPS.BEEFY},function(c,e,a){function h(b,d,g,c){var f=c.low;c=c.high;var e=d.currentTime+d.timeOffset,
k=(d.duration||Infinity)-e;d=Math.max(0,null==d.liveGap?Math.min(g,k):Math.min(g,d.liveGap,k));b=a.i(n.a)(b,e);return{start:e+(b>f&&Infinity>b?Math.min(b,c):0),end:e+d}}function l(c){function f(a,b,d,c){var f=null;c&&(g.a.debug("add init segment",H),f=a.index.getInitSegment());if(0===d.readyState)return f?[f]:[];c=b.start;var e=b.end;b=e-c;a.index.shouldRefresh(d.currentTime+d.timeOffset,c,e)&&(d=new p.g("OUT_OF_INDEX_ERROR",a.index.getType(),!1),O.next({type:"out-of-index",value:d}));a=a.index.getSegments(c,
b);f&&a.unshift(f);return a}function e(d){function c(a,b,g){var c=J.getBuffered();W.addBufferedInfos(c);if(a.stalled&&I){var e=d.index.checkDiscontinuity(a.currentTime);0<e&&O.next({type:"index-discontinuity",value:{ts:e+1}})}g=0===g;var m=h(c,a,b,{low:da,high:ea});a=f(d,m,a,g).filter(function(a){n.test(a.id)?a=!1:a.isInit||0>a.time?a=!0:(a=W.hasPlayableSegment(m,a.time,a.duration,a.timescale),a=!a||a.bitrate*u<d.bitrate);return a});for(b=0;b<a.length;b++)n.add(a[b].id);return k.Observable.of.apply(k.Observable,
a)}g.a.info("bitrate",H,d.bitrate);var n=new m.a,q=function(a){return l({segment:a,representation:d,init:Q}).map(function(d){return b()({segment:a},d)})},r=k.Observable.combineLatest(E,D,B,F).mergeMap(function(b,d){var g=b[0],f=b[2],e=b[3];b=c(g,Math.min(b[1],e),d).concatMap(q);g=a.i(t.a)(J,g.currentTime,f,e);return k.Observable.merge(b,g)}).concatMap(function(g){var c=g.segment,f=g.parsed,e=f.segmentData,k=f.nextSegments,m=f.segmentInfos;c.isInit&&(Q=m);var l=k?d.index._addSegments(k,m):[],h=function(){n.remove(c.id);
if(!c.isInit){var a=m?m:c,b=a.time,g=a.timescale;W.insert(c,b/g,(b+a.duration)/g,d.bitrate)}},q=function(){return J.appendBuffer(e).do(h)};return q().catch(function(b){if("QuotaExceededError"!=b.name)throw n.remove(c.id),new p.f("BUFFER_APPEND_ERROR",b,!0);return a.i(w.a)(E,J).mergeMap(q).catch(function(a){n.remove(c.id);throw new p.f("BUFFER_FULL_ERROR",a,!0);})}).map(function(){return{type:"pipeline",value:b()({bufferType:H,addedSegments:l},g)}})});return k.Observable.merge(r,O).catch(function(a){if(!I||
a.type!=p.a.NETWORK_ERROR||!a.isHttpError(412))throw a;return k.Observable.of({type:"precondition-failed",value:a}).concat(k.Observable.timer(2E3)).concat(e(d))}).startWith({type:"representationChange",value:{type:H,representation:d}})}var n=c.sourceBuffer,l=c.downloader,v=c.switch$,E=c.clock$,D=c.wantedBufferAhead,B=c.maxBufferBehind,F=c.maxBufferAhead,H=c.bufferType,I=c.isLive,Q=null,O=new d.Subject,da="video"==H?4:1,ea="video"==H?6:1,W=new q.a,J=new r.a(n);return v.switchMap(e).finally(function(){return J.dispose()})}
function f(a){return k.Observable.of({type:"representationChange",value:{type:a.bufferType,representation:null}})}a.d(e,"b",function(){return l});a.d(e,"a",function(){return f});var k=a(0);a.n(k);var d=a(7);a.n(d);c=a(6);var b=a.n(c);c=a(4);var g=a(1),m=a(186),n=a(14),p=a(8),q=a(116),r=a(115),w=a(113),t=a(112),u=c.a.BITRATE_REBUFFERING_RATIO},function(c,e,a){var h=a(7);a.n(h);c=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.buffer=c;
this.queue=[];this.flushing=null;this.__onUpdate=this._onUpdate.bind(this);this.__onError=this._onError.bind(this);this.__flush=this._flush.bind(this);this.buffer.addEventListener("update",this.__onUpdate);this.buffer.addEventListener("error",this.__onError);this.buffer.addEventListener("updateend",this.__flush)}a.prototype.appendBuffer=function(a){return this._queueAction("append",a)};a.prototype.removeBuffer=function(a){return this._queueAction("remove",{start:a.start,end:a.end})};a.prototype.getBuffered=
function(){return this.buffer.buffered};a.prototype.dispose=function(){this.buffer.removeEventListener("update",this.__onUpdate);this.buffer.removeEventListener("error",this.__onError);this.buffer.removeEventListener("updateend",this.__flush);this.buffer=null;this.queue.length=0;this.flushing=null};a.prototype._onUpdate=function(a){this.flushing&&(this.flushing.next(a),this.flushing.complete(),this.flushing=null)};a.prototype._onError=function(a){this.flushing&&(this.flushing.error(a),this.flushing=
null)};a.prototype._queueAction=function(a,c){var d=new h.Subject;1===this.queue.unshift({type:a,args:c,subj:d})&&this._flush();return d};a.prototype._flush=function(){if(!this.flushing&&0!==this.queue.length&&!this.buffer.updating){var a=this.queue.pop(),c=a.type,d=a.args;this.flushing=a.subj;try{switch(c){case "append":this.buffer.appendBuffer(d);break;case "remove":this.buffer.remove(d.start,d.end)}}catch(b){this._onError(b)}}};return a}();e.a=c},function(c,e,a){c=a(4);a(2);var h=a(193),l=a(14),
f=c.a.MAX_TIME_MISSING_FROM_COMPLETE_SEGMENT,k=c.a.MAX_BUFFERED_DISTANCE,d=c.a.MINIMUM_SEGMENT_SIZE;c=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._inventory=[]}b.prototype.addBufferedInfos=function(b){b=a.i(l.h)(b);for(var g=b.length-1,c=this._inventory,f=0,e=c[0],r=0;r<=g;r++){if(!e)return;var w=b[r],t=w.start;w=w.end;if(!(w-t<d)){for(var u=f;e&&a.i(h.a)(e.bufferedEnd,e.end)-t<d;)e=c[++f];var v=-1,x=f-u;x&&(f=c[u+x-1],v=a.i(h.a)(f.bufferedEnd,
f.end),c.splice(u,x),f=u);if(!e)return;w-a.i(h.a)(e.bufferedStart,e.start)>=d&&(null!=e.bufferedStart&&e.bufferedStart<t?e.bufferedStart=t:null==e.bufferedStart&&(-1!==v&&v>t?e.bufferedStart-v<=k&&(e.bufferedStart=v):e.bufferedStart=e.start-t<=k?t:e.start),e=c[++f]);for(;e&&w-a.i(h.a)(e.bufferedStart,e.start)>=d;)t=c[f-1],null==t.bufferedEnd&&(t.bufferedEnd=t.end),e.bufferedStart=t.bufferedEnd,e=c[++f];if(t=c[f-1])null!=t.bufferedEnd&&t.bufferedEnd>w?t.bufferedEnd=w:null==t.bufferedEnd&&(t.bufferedEnd=
w-t.end<=k?w:t.end)}}e&&c.splice(f,c.length-f)};b.prototype.insert=function(a,b,d,c){if(null!=d){var g=this._inventory;d={bitrate:c,start:b,end:d,bufferedStart:void 0,bufferedEnd:void 0,segment:a};for(c=g.length-1;0<=c;c--){var f=g[c];if(f.start<=b){f.end<=b?this._inventory.splice(c+1,0,d):f.start>=b?this._inventory.splice(c,1,d):(null!=f.end&&(f.end=b),this._inventory.splice(c+1,0,d));return}}(g=this._inventory[0])?null==a.end?g.start===b?this._inventory.splice(0,1,d):this._inventory.splice(0,0,
d):g.start>=a.end?this._inventory.splice(0,0,d):g.end<=a.end?this._inventory.splice(0,1,d):(g.start=a.end,this._inventory.splice(0,0,d)):this._inventory.push(d)}};b.prototype.hasPlayableSegment=function(a,b,d,c){function g(a,b,d,g){if(!d||d.bufferedEnd<b.bufferedStart)if(d=b.bufferedStart-b.start,a.start>b.start){if(0<b.bufferedStart-a.start&&d>f)return!1}else if(d>f)return!1;if(null===b.end)return!1;if(!g||g.bufferedStart>b.bufferedEnd)if(g=b.end-b.bufferedEnd,a.end<b.end){if(0<a.end-b.bufferedEnd&&
g>f)return!1}else if(g>f)return!1;return!0}for(var e=this._inventory,k=e.length-1;0<=k;k--){var m=e[k],n=e[k-1],l=e[k+1],h=m.segment,p=b,z=d;h.timescale!==c&&(p=b*h.timescale/c,z=d*h.timescale/c);if(h.time===p&&h.duration===z&&(h=n&&null==n.bufferedEnd||null==m.bufferedStart?!1:l&&null==l.bufferedStart||null==m.bufferedEnd?!1:!0,h&&g(a,m,n,l)))return m}return null};return b}();e.a=c},function(c,e,a){a.d(e,"a",function(){return h});var h={expired:!0,"internal-error":!0}},function(c,e,a){function h(b){var d=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=d.$keySystem,f=d.$mediaKeys,e=d.$mediaKeySystemConfiguration;return c&&f&&!a.i(g.f)()?(d=b.filter(function(a){return a.type!==c.type||a.persistentLicense&&"required"!=e.persistentState||a.distinctiveIdentifierRequired&&"required"!=e.distinctiveIdentifier?!1:!0})[0])?{keySystem:d,keySystemAccess:new g.g(c,f,e)}:null:null}function l(a){var b=Object.keys(p),d=Array.isArray(b),g=0;for(b=d?b:b[Symbol.iterator]();;){if(d){if(g>=b.length)break;
var c=b[g++]}else{g=b.next();if(g.done)break;c=g.value}if(p[c].includes(a))return c}}function f(a,b){var d=["temporary"],g="optional",c="optional";b.persistentLicense&&(g="required",d.push("persistent-license"));b.persistentStateRequired&&(g="required");b.distinctiveIdentifierRequired&&(c="required");var f=b.videoRobustnesses||("widevine"===a?n:[]);a=b.audioRobustnesses||("widevine"===a?n:[]);f.length||f.push(void 0);a.length||a.push(void 0);f=f.map(function(a){return{contentType:'video/mp4;codecs="avc1.4d401e"',
robustness:a}});a=a.map(function(a){return{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:a}});return[{initDataTypes:["cenc"],videoCapabilities:f,audioCapabilities:a,distinctiveIdentifier:c,persistentState:g,sessionTypes:d},{}]}function k(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return a.$keySystem&&a.$keySystem.type}a.d(e,"b",function(){return k});var d=a(0);a.n(d);c=a(4);var b=a(1),g=a(5),m=a(8),n=c.a.EME_DEFAULT_WIDEVINE_ROBUSTNESSES,p=c.a.EME_KEY_SYSTEMS;e.a=function(c,
e){if(e=h(c,e))return b.a.debug("eme: found compatible keySystem quickly",e),d.Observable.of(e);var k=c.reduce(function(a,b){var d=void 0;d=p[b.type]?p[b.type].map(function(a){return{keyName:b.type,keyType:a,keySystem:b}}):[{keyName:l(b.type),keyType:b.type,keySystem:b}];return a.concat(d)},[]);return d.Observable.create(function(d){function c(l){if(!e)if(l>=k.length)d.error(new m.c("INCOMPATIBLE_KEYSYSTEMS",null,!0));else{var h=k[l],p=h.keyType,q=h.keySystem,r=f(h.keyName,q);b.a.debug("eme: request keysystem access "+
p+","+(l+1+" of "+k.length),r);n=a.i(g.h)(p,r).subscribe(function(a){b.a.info("eme: found compatible keysystem",p,r);d.next({keySystem:q,keySystemAccess:a});d.complete()},function(){b.a.debug("eme: rejected access to keysystem",p,r);n=null;c(l+1)})}}var e=!1,n=null;c(0);return function(){e=!0;n&&n.unsubscribe()}})}},function(c,e,a){function h(b,g){return f.Observable.defer(function(){return a.i(k.a)(b.setServerCertificate(g)).ignoreElements().catch(function(a){throw new d.a("LICENSE_SERVER_CERTIFICATE_ERROR",
a,!0);})})}function l(a,d,c){return h(a,d).catch(function(a){a.fatal=!1;c.next(a);return f.Observable.empty()})}a.d(e,"a",function(){return l});var f=a(0);a.n(f);var k=a(10),d=a(39)},function(c,e,a){function h(a,b,d){return{type:"eme",value:g()({name:a,session:b},d)}}function l(b,d,g){function c(a,b){return a.type===u.a.ENCRYPTED_MEDIA_ERROR?(a.fatal=b,a):new u.c("KEY_LOAD_ERROR",a,b)}x.a.debug("eme: handle message events",b);var f=void 0,e={totalRetry:2,retryDelay:200,errorSelector:function(a){return c(a,
!0)},onRetry:function(a){return g.next(c(a,!1))}},k=a.i(t.j)(b).map(function(a){throw new u.c("KEY_ERROR",a,!0);}),l=a.i(t.l)(b).mergeMap(function(g){f=g.sessionId;x.a.debug("eme: keystatuseschange event",f,b,g);b.keyStatuses.forEach(function(a,b){if(v.a[b])throw new u.c("KEY_STATUS_CHANGE_ERROR",b,!0);if(v.a[a])throw new u.c("KEY_STATUS_CHANGE_ERROR",a,!0);});return d.onKeyStatusesChange?a.i(q.a)(function(){return a.i(r.a)(d.onKeyStatusesChange(g,b))}).catch(function(a){throw new u.c("KEY_STATUS_CHANGE_ERROR",
a,!0);}):(x.a.info("eme: keystatuseschange event not handled"),m.Observable.empty())}),p=a.i(t.k)(b).mergeMap(function(g){f=g.sessionId;var c=new Uint8Array(g.message),k=g.messageType||"license-request";x.a.debug("eme: event message type "+k,b,g);g=m.Observable.defer(function(){return a.i(r.a)(d.getLicense(c,k)).timeout(1E4).catch(function(a){if(a instanceof n.TimeoutError)throw new u.c("KEY_LOAD_TIMEOUT",null,!1);throw a;})});return a.i(w.a)(g,e)});l=m.Observable.merge(p,l).concatMap(function(d){x.a.debug("eme: update session",
f,d);return a.i(r.a)(b.update(d,f)).catch(function(a){throw new u.c("KEY_UPDATE_ERROR",a,!0);}).mapTo(h("session-update",b,{updatedWith:d}))});k=m.Observable.merge(l,k);return b.closed?k.takeUntil(a.i(r.a)(b.closed)):k}function f(a,b,d,g,c){x.a.debug("eme: create a new "+b+" session");var f=a.createSession(b);a=l(f,d,c).finally(function(){y.b.deleteAndClose(f);y.a.delete(g)}).publish();return{session:f,sessionEvents:a}}function k(b,d,g,c,e,k){b=f(b,g,d,e,k);var n=b.session;b=b.sessionEvents;y.b.add(e,
n,b);x.a.debug("eme: generate request",c,e);c=a.i(r.a)(n.generateRequest(c,e)).catch(function(a){throw new u.c("KEY_GENERATE_REQUEST_ERROR",a,!1);}).do(function(){"persistent-license"==g&&y.a.add(e,n)}).mapTo(h("generated-request",n,{initData:e,initDataType:c}));return m.Observable.merge(b,c)}function d(a,b,d,g,c,f){return k(a,b,d,g,c,f).catch(function(e){if(e.code!==u.b.KEY_GENERATE_REQUEST_ERROR)throw e;var m=y.b.getFirst();if(!m)throw e;x.a.warn("eme: could not create a new session, retry after closing a currently loaded session",
e);return y.b.deleteAndClose(m).mergeMap(function(){return k(a,b,d,g,c,f)})})}function b(b,g,c,e,k,n){x.a.debug("eme: load persisted session",c);var l=f(b,"persistent-license",g,k,n),p=l.session,q=l.sessionEvents;return a.i(r.a)(p.load(c)).catch(function(){return m.Observable.of(!1)}).mergeMap(function(a){if(a)return y.b.add(k,p,q),y.a.add(k,p),q.startWith(h("loaded-session",p,{storedSessionId:c}));x.a.warn("eme: no data stored for the loaded session, do fallback",c);y.b.deleteById(c);y.a.delete(k);
p.sessionId&&p.remove();return d(b,g,"persistent-license",e,k,n).startWith(h("loaded-session-failed",p,{storedSessionId:c}))})}c=a(6);var g=a.n(c),m=a(0);a.n(m);var n=a(90);a.n(n);var p=a(9),q=a(50),r=a(10),w=a(78),t=a(13),u=a(8),v=a(117),x=a(1),y=a(36);e.a=function(g,c,f,e,k,n){return m.Observable.defer(function(){var l=y.b.get(k);if(l&&l.sessionId)return x.a.debug("eme: reuse loaded session",l.sessionId),m.Observable.of(h("reuse-session",l));l="temporary";var q=c.sessionTypes;return q&&a.i(p.a)(q,
"persistent-license")&&f.persistentLicense&&(l="persistent-license",q=y.a.get(k))?b(g,f,q.sessionId,e,k,n):d(g,f,l,e,k,n)})}},function(c,e,a){function h(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}var l=a(0);a.n(l);var f=a(1),k=a(10);c=a(66);
var d=a(67);c=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}h(c,b);c.prototype.getFirst=function(){if(0<this._entries.length)return this._entries[0].session};c.prototype.find=function(a){for(var b=0;b<this._entries.length;b++)if(!0===a(this._entries[b]))return this._entries[b];
return null};c.prototype.get=function(b){b=a.i(d.a)(b);var c=this.find(function(a){return a.initData===b});return c?c.session:null};c.prototype.add=function(b,c,g){b=a.i(d.a)(b);var e=this.get(b);e&&this.deleteAndClose(e);g=g.connect();b={session:c,initData:b,eventSubscription:g};f.a.debug("eme-mem-store: add session",b);this._entries.push(b)};c.prototype.deleteById=function(a){var b=this.find(function(b){return b.session.sessionId===a});return b?this.delete(b.session):null};c.prototype.delete=function(a){var b=
this.find(function(b){return b.session===a});if(!b)return null;var d=b.session,c=b.eventSubscription;f.a.debug("eme-mem-store: delete session",b);b=this._entries.indexOf(b);this._entries.splice(b,1);c.unsubscribe();return d};c.prototype.deleteAndClose=function(b){return(b=this.delete(b))?(f.a.debug("eme-mem-store: close session",b),a.i(k.a)(b.close()).catch(function(){return l.Observable.of(null)})):l.Observable.of(null)};c.prototype.dispose=function(){var a=this,b=this._entries.map(function(b){return a.deleteAndClose(b.session)});
this._entries=[];return l.Observable.merge.apply(null,b)};return c}(c.a);e.a=c},function(c,e,a){var h=a(121),l=a(123);a.d(e,"b",function(){return h.a});a.d(e,"a",function(){return l.a})},function(c,e,a){function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}var l=a(1),f=a(2);c=a(66);var k=a(67);c=function(d){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c=d.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.setStorage(a);return c}h(b,d);b.prototype.setStorage=function(b){if(this._storage!==b){a.i(f.a)(b,"no licenseStorage given for keySystem with persistentLicense");f.a.iface(b,
"licenseStorage",{save:"function",load:"function"});this._storage=b;try{this._entries=this._storage.load(),a.i(f.a)(Array.isArray(this._entries))}catch(m){l.a.warn("eme-persitent-store: could not get entries from license storage",m),this.dispose()}}};b.prototype.get=function(b){b=a.i(k.a)(b);return this.find(function(a){return a.initData===b})||null};b.prototype.add=function(b,d){var c=d&&d.sessionId;if(c){b=a.i(k.a)(b);var g=this.get(b);g&&g.sessionId===c||(g&&this.delete(b),l.a.info("eme-persitent-store: add new session",
c,d),this._entries.push({sessionId:c,initData:b}),this._save())}};b.prototype.delete=function(b){b=a.i(k.a)(b);var d=this.find(function(a){return a.initData===b});d&&(l.a.warn("eme-persitent-store: delete session from store",d),d=this._entries.indexOf(d),this._entries.splice(d,1),this._save())};b.prototype.dispose=function(){this._entries=[];this._save()};b.prototype._save=function(){try{this._storage.save(this._entries)}catch(g){l.a.warn("eme-persitent-store: could not save licenses in localStorage")}};
return b}(c.a);e.a=c},function(c,e,a){function h(b){return b?a.i(k.i)(b,null):l.Observable.empty()}a.d(e,"b",function(){return h});var l=a(0);a.n(l);var f=a(1),k=a(5),d=a(36);e.a=function(b,c,e,n,h){return l.Observable.defer(function(){var g=h.$videoElement,m=h.$mediaKeys;h.$mediaKeys=b;h.$mediaKeySystemConfiguration=c;h.$keySystem=n;h.$videoElement=e;if(e.mediaKeys===b)return l.Observable.of(b);m&&m!==b&&d.b.dispose();g&&g!==e?(f.a.debug("eme: unlink old video element and set mediakeys"),g=a.i(k.i)(g,
null).concat(a.i(k.i)(e,b))):(f.a.debug("eme: set mediakeys"),g=a.i(k.i)(e,b));return g.mapTo(b)})}},function(c,e,a){function h(b){var d=a.i(w.a)(b.locations[0]);return(b=b.periods[0])&&b.baseURL?a.i(w.b)(d,b.baseURL):d}function l(a,b,d,c){if(!b.transportType)throw new u.f("MANIFEST_PARSE_ERROR",null,!0);b.id=b.id||"gen-manifest-"+A++;b.type=b.type||"static";b.isLive="dynamic"==b.type;var e=b.locations;e&&e.length||(b.locations=[a]);var k={rootURL:h(b),baseURL:b.baseURL,isLive:b.isLive};a=b.periods.map(function(a){return f(a,
k,d,c)});b=g(b,a[0]);b.periods=null;b.duration||(b.duration=Infinity);b.isLive&&(b.suggestedPresentationDelay=b.suggestedPresentationDelay||0,b.availabilityStartTime=b.availabilityStartTime||0);return new x.a(b)}function f(a,c,g,f){"undefined"==typeof a.id&&(a.id="gen-period-"+A++);var e=a.adaptations.map(function(a){return k(a,c)});g&&e.push.apply(e,d(g).map(function(a){return k(a,c)}));f&&e.push.apply(e,b(f).map(function(a){return k(a,c)}));g=e.filter(function(a){return 0>C.indexOf(a.type)?(r.a.info("not supported adaptation type",
a.type),!1):!0});if(0===g.length)throw new u.f("MANIFEST_PARSE_ERROR",null,!0);f={};for(e=0;e<g.length;e++){var m=g[e],n=m.representations,l=m.type;f[l]||(f[l]=[]);0<n.length&&f[l].push(m)}for(var h in f)if(0===f[h].length)throw new u.f("MANIFEST_INCOMPATIBLE_CODECS_ERROR",null,!0);a.adaptations=f;return a}function k(b,d){if("undefined"==typeof b.id)throw new u.f("MANIFEST_PARSE_ERROR",null,!0);var c=g(d,b),f={};z.forEach(function(a){a in c&&(f[a]=c[a])});b=c.representations.map(function(b){var d=
c.rootURL,e=c.baseURL;if("undefined"==typeof b.id)throw new u.f("MANIFEST_PARSE_ERROR",null,!0);b=g(f,b);b.index?b.index.timescale||(b.index.timescale=1):b.index={indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0};b.bitrate||(b.bitrate=1);"mp4a.40.02"==b.codecs&&(b.codecs="mp4a.40.2");b.baseURL=a.i(w.b)(d,e,b.baseURL);b.codec=b.codecs;return b}).sort(function(a,b){return a.bitrate-b.bitrate});d=c.type;var e=c.accessibility;e=void 0===e?[]:e;if(!d)throw new u.f("MANIFEST_PARSE_ERROR",
null,!0);"video"==d||"audio"==d?(b=b.filter(function(b){return a.i(t.q)(n(b))}),"audio"===d&&(d=a.i(q.a)(e,"visuallyImpaired"),c.audioDescription=d)):"text"===d&&(d=a.i(q.a)(e,"hardOfHearing"),c.closedCaption=d);c.representations=b;c.bitrates=b.map(function(a){return a.bitrate});return c}function d(b){return(Array.isArray(b)?b:[b]).reduce(function(b,d){var c=d.mimeType,g=d.codecs,f=d.url,e=d.language,k=d.languages,m=d.closedCaption;e&&(k=[e]);return b.concat(k.map(function(b){return{id:"gen-text-ada-"+
A++,type:"text",language:b,normalizedLanguage:a.i(v.a)(b),accessibility:m?["hardOfHearing"]:[],baseURL:f,representations:[{id:"gen-text-rep-"+A++,mimeType:c,codecs:g,index:{indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0}}]}}))},[])}function b(a){return(Array.isArray(a)?a:[a]).map(function(a){var b=a.mimeType;a=a.url;return{id:"gen-image-ada-"+A++,type:"image",baseURL:a,representations:[{id:"gen-image-rep-"+A++,mimeType:b,index:{indexType:"template",duration:Number.MAX_VALUE,
timescale:1,startNumber:0}}]}})}function g(){for(var a={},b=arguments.length,d=Array(b),c=0;c<b;c++)d[c]=arguments[c];for(b=d.length-1;0<=b;b--){c=d[b];for(var f in c)if(!a.hasOwnProperty(f)){var e=c[f];e&&"object"===("undefined"===typeof e?"undefined":y(e))?e instanceof Date?a[f]=new Date(e.getTime()):Array.isArray(e)?a[f]=e.slice(0):a[f]=g(e):a[f]=e}}return a}function m(a,b){var d=function(a,b){return p()(b,function(b){return b.id===a})},c=a.getAdaptations();b=b.getAdaptations();for(var g=0;g<c.length;g++){var f=
d(c[g].id,b);if(f){var e=c[g].representations;f=f.representations;for(var k=0;k<e.length;k++){var m=d(e[k].id,f);m?e[k].index.update(m.index):r.a.warn('manifest: representation "'+e[k].id+'" not found when merging.')}}else r.a.warn('manifest: adaptation "'+c[g].id+'" not found when merging.')}return a}function n(a){return a.mimeType+';codecs="'+a.codec+'"'}a.d(e,"a",function(){return l});a.d(e,"c",function(){return n});a.d(e,"b",function(){return m});c=a(18);var p=a.n(c),q=a(9),r=a(1),w=a(20),t=a(5),
u=a(8),v=a(32),x=a(152),y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},z="audioSamplingRate codecs codingDependency frameRate height index maxPlayoutRate maximumSAPPeriod mimeType profiles segmentProfiles width".split(" "),A=0,C=["audio","video","text","image"]},function(c,e,a){var h=a(0);a.n(h);var l=a(8),f=a(5),k=a(77);e.a=function(d,b){var c=
b.baseDelay,e=b.maxDelay,n=b.maxRetryRegular,p=b.maxRetryOffline,q=b.onRetry,r=0,w=0;return d.catch(function(b,d){var g=b instanceof l.h?b.type===l.j.ERROR_HTTP_CODE?500<=b.status||404==b.status:b.type===l.j.TIMEOUT||b.type===l.j.ERROR_EVENT:!1;if(!g)throw b;g=b.type===l.j.ERROR_EVENT&&a.i(f.r)()?2:1;var m=2===g?p:n;g!==w&&(r=0,w=g);if(++r>m)throw b;q&&q(b,r);b=Math.min(c*Math.pow(2,r-1),e);b=a.i(k.b)(b);return h.Observable.timer(b).mergeMap(function(){return d})})}},function(c,e,a){function h(b,
c){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;a.i(d.d)(c)||(c=new (c instanceof d.h?d.i:d.e)(b,c,g));return c}e.a=function(d){var c=d.resolver,e=d.loader,x=d.parser,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},z=t.maxRetry,A=t.cache,C=new k.Subject;c||(c=f.Observable.of);e||(e=f.Observable.of);x||(x=f.Observable.of);var E={baseDelay:w,maxDelay:r,maxRetryRegular:"number"===typeof z?z:p,maxRetryOffline:q,onRetry:function(a){C.next(h("PIPELINE_LOAD_ERROR",a,!1))}},
D=function(b){return a.i(g.a)(c,b).catch(function(a){throw h("PIPELINE_RESOLVE_ERROR",a);})},B=function(b,d){var c=function(b){return a.i(n.a)(a.i(g.a)(e,b),E).catch(function(a){throw h("PIPELINE_LOAD_ERROR",a);}).do(function(a){var d=a.value;"response"===a.type&&A&&A.add(b,d)}).startWith({type:"request",value:d})},f=A?A.get(b):null;return null===f?c(b):a.i(m.a)(f).map(function(a){return{type:"cache",value:a}}).catch(function(){return c(b)})},F=function(b){return a.i(g.a)(x,b).catch(function(a){throw h("PIPELINE_PARSING_ERROR",
a);})};return function(d){var c=D(d).mergeMap(function(c){return B(c,d).mergeMap(function(d){var g=d.type;d=d.value;if(a.i(b.a)(["cache","data","response"],g)){var e=l()({response:d},c);return("response"===g?f.Observable.of({type:"metrics",value:{size:d.size,duration:d.duration}}):f.Observable.empty()).concat(F(e).map(function(a){return{type:"data",value:l()({parsed:a},e)}}))}return f.Observable.of({type:g,value:d})})}).do(null,null,function(){g.complete()}),g=C.map(function(a){return{type:"error",
value:a}});return f.Observable.merge(c,g)}};c=a(6);var l=a.n(c),f=a(0);a.n(f);var k=a(7);a.n(k);c=a(4);var d=a(8),b=a(9),g=a(50),m=a(10),n=a(126),p=c.a.DEFAULT_MAX_PIPELINES_RETRY_ON_ERROR,q=c.a.DEFAULT_MAX_PIPELINES_RETRY_ON_OFFLINE,r=c.a.MAX_BACKOFF_DELAY_BASE,w=c.a.INITIAL_BACKOFF_DELAY_BASE},function(c,e,a){var h=a(39),l=a(1),f=a(13),k=a(37);e.a=function(d,b,c){return b&&b.length?a.i(k.c)(d,b,c):a.i(f.f)(d).map(function(){l.a.error("eme: ciphered media and no keySystem passed");throw new h.a("MEDIA_IS_ENCRYPTED_ERROR",
null,!0);})}},function(c,e,a){e.a=function(c){return a.i(f.a)(c,"error").mergeMap(function(){var a=void 0;switch(c.error.code){case 1:a="MEDIA_ERR_ABORTED";break;case 2:a="MEDIA_ERR_NETWORK";break;case 3:a="MEDIA_ERR_DECODE";break;case 4:a="MEDIA_ERR_SRC_NOT_SUPPORTED"}l.a.error("stream: video element MEDIA_ERR("+a+")");throw new h.a(a,null,!0);})};var h=a(22),l=a(1),f=a(49)},function(c,e,a){e.a=function(d){function c(d,c,g,f,e,k,m,n){var l=I(c);return m.switchMap(function(m){if(!m)return a.i(y.a)(G,
d,c,V),a.i(t.a)({bufferType:c}).startWith({type:"adaptationChange",value:{type:c,adaptation:m}});var p=null,q=X.map(function(a){var b=void 0,d=void 0;p&&(b=p.bitrate,p.index&&(d=p.index.getLastPosition()));return{bitrate:b,bufferGap:a.bufferGap,duration:a.duration,isLive:k.isLive,lastIndexPosition:d,position:a.currentTime,speed:ba.getValue()}});q=n.get$(c,q,m.representations);var r=q.map(function(a){return a.representation}).distinctUntilChanged(function(a,b){return(a&&a.bitrate)===(b&&b.bitrate)&&
(a&&a.id)===(b&&b.id)}).do(function(a){return p=a}),x=a.i(y.b)(G,d,c,g,V,"text"===c?la:{});r=h.Observable.combineLatest(r,e).map(function(a){return a[0]});x=a.i(t.b)({sourceBuffer:x,downloader:function(b){var d=b.segment,g=b.representation;b=b.init;d=a.i(u.a)(L[c],l)({segment:d,representation:g,adaptation:m,manifest:k,init:b});return a.i(E.a)(c,d,T,U,P)},switch$:r,clock$:f,wantedBufferAhead:Y,maxBufferBehind:Z,maxBufferAhead:S,bufferType:c,isLive:k.isLive}).startWith({type:"adaptationChange",value:{type:c,
adaptation:m}}).catch(function(d){b.a.error("buffer",c,"has crashed",d);if(!a.i(y.c)(c))return P.next(d),h.Observable.empty();throw d;});q=q.filter(function(a){return null!=a.bitrate}).map(function(a){return{type:"bitrateEstimationChange",value:{type:c,bitrate:a.bitrate}}});return h.Observable.merge(x,q)})}function e(d,c){var g=a.i(x.a)(d,ha),f=g;d=a.i(q.j)(G).do(function(){b.a.info("set initial time",g);G.playbackRate=1;G.currentTime=g;f=0});var e=a.i(q.k)(G).do(function(){b.a.info("canplay event");
aa&&G.play();aa=!0});return{clock$:c.map(function(a){return k()({timeOffset:f},a)}),loaded$:h.Observable.combineLatest(d,e).take(1).mapTo({type:"loaded",value:!0})}}function n(b){return N(b.getUrl()).map(function(d){return{type:"manifestUpdate",value:{manifest:a.i(w.b)(b,d)}}})}function Q(d,g){d&&a.i(z.a)(d,g.getDuration());var k=a.i(A.a)(g,X),m=k.timings,l=k.seekings,p=e(g,m);k=p.loaded$;var q=p.clock$,r=new v.a(U,T,J),u={};p=Object.keys(g.adaptations).map(function(b){u[b]=new f.ReplaySubject(1);
var e=a.i(w.c)(g.adaptations[b][0].representations[0]);a.i(y.c)(b)&&a.i(y.d)(d,b,e,V);return c(d,b,e,q,l,g,u[b],r)});p=g.isLive?h.Observable.merge.apply(h.Observable,p).mergeMap(function(a){a:{switch(a.type){case "index-discontinuity":b.a.warn("explicit discontinuity seek",a.value.ts);G.currentTime=a.value.ts;break;case "precondition-failed":g.updateLiveGap(1);b.a.warn("precondition failed",g.presentationLiveGap);break;case "out-of-index":b.a.info("out of index");a=n(g);break a}a=h.Observable.of(a)}return a}):
h.Observable.merge.apply(h.Observable,p);var x=h.Observable.of({type:"manifestChange",value:{manifest:g,adaptations$:u,abrManager:r}}),t=a.i(F.a)(G,fa,P),E=a.i(D.a)(G,ba,m,{changePlaybackRate:R}).map(function(a){return{type:"speed",value:a}});m=a.i(B.a)(G,g,m).map(function(a){return{type:"stalled",value:a}});var K=a.i(C.a)(G);return h.Observable.merge(p,t,k,x,K,E,m)}var J=d.adaptiveOptions,aa=d.autoPlay,K=d.bufferOptions,fa=d.keySystems,ha=d.startAt,ia=d.url,G=d.videoElement,ba=d.speed$,ja=d.supplementaryTextTracks,
ka=d.supplementaryImageTracks,la=d.textTrackOptions,X=d.timings$,P=d.errorStream,ca=d.withMediaSource,R=void 0===ca?!0:ca,L=d.transport,Y=K.wantedBufferAhead$,S=K.maxBufferAhead$,Z=K.maxBufferBehind$,T=new l.Subject,U=new l.Subject,M=a.i(u.a)(L.manifest),N=a.i(m.a)(function(b){b=M({url:b});var d=new l.Subject;return a.i(E.a)("manifest",b,d,d,P).map(function(b){b=b.parsed;return a.i(w.a)(b.url,b.manifest,ja,ka)})}),V={native:{},custom:{}};d=X.filter(function(a){var b=a.currentTime;a=a.duration;return 0<
a&&a-b<H});K=a.i(g.b)(function(b){var d=b.url,c=b.mediaSource;b=c?a.i(r.g)(c):h.Observable.of(null);return h.Observable.combineLatest(N(d),b).mergeMap(function(a){return Q(c,a[0])})},{totalRetry:3,retryDelay:250,resetDelay:6E4,shouldRetry:function(a){return!0!==a.fatal},errorSelector:function(b){a.i(p.d)(b)||(b=new p.e("NONE",b,!0));b.fatal=!0;return b},onRetry:function(a,d){b.a.warn("stream retry",a,d);P.next(a)}});return a.i(z.b)(ia,G,R,V).mergeMap(K).takeUntil(d)};var h=a(0);a.n(h);var l=a(7);
a.n(l);var f=a(81);a.n(f);c=a(6);var k=a.n(c);c=a(4);var d=a(9),b=a(1);a(2);var g=a(78),m=a(191),n=a(187),p=a(8),q=a(5),r=a(13),w=a(125),t=a(114),u=a(127),v=a(105),x=a(131),y=a(135),z=a(132),A=a(145),C=a(129),E=a(133),D=a(143),B=a(144),F=a(128),H=c.a.END_OF_PLAY,I=function(b){var c={};a.i(d.a)(["audio","video"],b)?c.cache=new n.a:"image"===b&&(c.maxRetry=0);return c}},function(c,e,a){e.a=function(c,e){if(e){var d=a.i(h.e)(c),b=d[0];d=d[1];if(null!=e.position)return Math.max(Math.min(e.position,d),
b);if(null!=e.wallClockTime)return Math.max(Math.min(c.isLive?e.wallClockTime-c.availabilityStartTime:e.wallClockTime,d),b);if(null!=e.fromFirstPosition)return c=e.fromFirstPosition,0>=c?b:Math.min(b+c,d);if(null!=e.fromLastPosition)return c=e.fromLastPosition,0<=c?d:Math.max(b,d+c);if(null!=e.percentage)return c=e.percentage,100<c?d:0>c?b:b+ +c/100*(d-b)}return c.isLive?(b=c.suggestedPresentationDelay,a.i(h.d)(c)-(null==b?l:b)):0};c=a(4);var h=a(29),l=c.a.DEFAULT_LIVE_GAP},function(c,e,a){a.d(e,
"b",function(){return b});a.d(e,"a",function(){return d});var h=a(0);a.n(h);var l=a(22),f=a(1),k=a(5),d=function(a,b){b=Infinity===b?Number.MAX_VALUE:b;a.duration!==b&&(a.duration=b,f.a.info("set duration",a.duration))},b=function(b,d,c,e){return h.Observable.create(function(g){function m(){if(n&&"closed"!=n.readyState){var b=n,c=b.readyState;b=b.sourceBuffers;for(var g=0;g<b.length;g++){var e=b[g];try{"open"==c&&e.abort(),n.removeSourceBuffer(e)}catch(C){f.a.warn("error while disposing souceBuffer",
C)}}}Object.keys(p).forEach(function(a){delete p[a]});Object.keys(q).forEach(function(a){var b=q[a];try{b.abort()}catch(D){f.a.warn("error while disposing souceBuffer",D)}delete q[a]});a.i(k.l)(d);if(h)try{URL.revokeObjectURL(h)}catch(C){f.a.warn("error while revoking ObjectURL",C)}h=n=null}var n=void 0,h=void 0,p=e.native,q=e.custom;m();if(c){if(!k.m)throw new l.a("MEDIA_SOURCE_NOT_SUPPORTED",null,!0);n=new k.m;h=URL.createObjectURL(n)}else n=null,h=b;d.src=h;g.next({url:b,mediaSource:n});f.a.info("create mediasource object",
h);return m})}},function(c,e,a){e.a=function(a,c,e,d,b){var g=void 0,f=void 0;return c.filter(function(c){var k=c.type;c=c.value;if("data"===k)return!0;if("error"===k)c.pipelineType=a,b.next(c);else if("manifest"!==a)if("metrics"===k)e.next({type:a,value:c});else if("request"===k){if(k=c&&c.segment,null!=k){c=k.duration/k.timescale;var m=k.time/k.timescale;f=k.id;k={duration:isNaN(c)?void 0:c,time:isNaN(m)?void 0:m,requestTimestamp:Date.now(),id:f};g=new h.Subject;d.next(g);g.next({type:a,event:"requestBegin",
value:k})}}else"progress"===k&&c.size!==c.totalSize&&(k={duration:c.duration,size:c.size,totalSize:c.totalSize,timestamp:Date.now(),id:f},g.next({type:a,event:"progress",value:k}))}).map(function(a){return a.value}).finally(function(){g&&(null!=f&&g.next({type:a,event:"requestEnd",value:{id:f}}),g.complete())}).share()};var h=a(7);a.n(h)},function(c,e,a){function h(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=
Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}c=function(a){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var f=a.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!==typeof f&&"function"!==typeof f?this:f}h(c,a);c.prototype._append=function(){this.buffered.insert(0,
Number.MAX_VALUE)};return c}(a(38).a);e.a=c},function(c,e,a){function h(a,b,c,g){g=g.native;g[b]||(d.a.info("add sourcebuffer",c),g[b]=a.addSourceBuffer(c));return g[b]}function l(a,c,f,e,l){var n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{};if(m(f))n=h(c,f,e,l);else{var p=l.custom,q=p[f];if(q)try{q.abort()}catch(x){d.a.warn(x)}finally{delete p[f]}if("text"===f)d.a.info("add text sourcebuffer",e),n="html"===n.textTrackMode?new b.a(e,a,n.textTrackElement):new b.b(e,a,n.hideNativeSubtitle);
else if("image"===f)d.a.info("add image sourcebuffer",e),n=new g.a(e);else throw d.a.error("unknown buffer type "+f),new k.a("BUFFER_TYPE_UNKNOWN",null,!0);p[f]=n}return n}function f(a,b,c,g){a=g.native;g=g.custom;var f=m(c);if(f){var e=a[c];delete a[c]}else e=g[c],delete g[c];if(e)try{e.abort(),f&&b.removeSourceBuffer(e)}catch(u){d.a.warn(u)}}a.d(e,"c",function(){return m});a.d(e,"d",function(){return h});a.d(e,"b",function(){return l});a.d(e,"a",function(){return f});var k=a(22),d=a(1),b=a(139),
g=a(134),m=function(a){return"audio"==a||"video"==a}},function(c,e,a){function h(a,d){for(var b=0;b<a.length;b++)if(d<a[b].end)return a.slice(0,b);return a.slice()}function l(a,d){for(var b=0;b<a.length;b++)if(d<a[b].end)return a.slice(b+1,a.length);return[]}function f(a,d,b){d={start:a.start,end:d,cues:h(a.cues,d)};a={start:b,end:a.end,cues:l(a.cues,b)};return[d,a]}a(2);c=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._cuesBuffer=[]}
a.prototype.get=function(a){for(var b=this._cuesBuffer,d=b.length-1;0<=d;d--){var c=b[d];if(a>=c.start){if(a<c.end){a:{b=c.cues;for(d=b.length-1;0<=d;d--)if(c=b[d],a>=c.start){a=a<c.end?c:void 0;break a}a=void 0}return a}break}}};a.prototype.remove=function(a,b){var d=Math.max(a,b);b=this._cuesBuffer;for(var c=b.length;0<c;){var e=b[0];if(e.end>=d){d=f(e,a,d);c=d[1];this._cuesBuffer[0]=d[0];b.splice(1,0,c);break}else e.cues=h(e.cues,a),e.end=a;for(a=1;a<c;a++)if(e=b[0],d<e.end){b.splice(1,a-1);e.cues=
l(e.cues,d);e.start=d;return}b.splice(1,b.length-1);break}};a.prototype.insert=function(a,b,c){var d=this._cuesBuffer;a={start:b,end:c,cues:a};for(var g=0;g<d.length;g++){var e=d[g];if(b<e.end){if(.2>=Math.abs(b-e.start)){if(.2>=Math.abs(c-e.end)){d[g]=a;return}if(c<e.end){e.cues=l(e.cues,c);e.start=c;d.splice(g,0,a);return}do d.splice(g,1),e=d[g];while(e&&c>e.end);if(!e){d[g]=a;return}if(.2>=Math.abs(c-e.end)){d[g]=a;return}e.cues=l(e.cues,c);e.start=c;d.splice(g,0,a);return}if(b<e.start){if(c<e.start){d.splice(g,
0,a);return}if(.2>=Math.abs(c-e.start)){e.start=c;d.splice(g,0,a);return}e.cues=l(e.cues,c);e.start=c;d.splice(g,0,a);return}if(c>e.end||.2>=Math.abs(c-e.end)){e.cues=h(e.cues,b);e.end=b;d.splice(g+1,0,a);return}b=f(e,b,c);c=b[1];this._cuesBuffer[g]=b[0];d.splice(g+1,0,a);d.splice(g+2,0,c);return}}d.push(a)};return a}();e.a=c},function(c,e,a){function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?
a:b}function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(d){var c=a.i(g.m)(d),f=a.i(g.n)(d);d=a.i(g.o)(d);f=b.Observable.merge(f,d);d=b.Observable.interval(q).startWith(null);return f.startWith(null).switchMapTo(d.mapTo(!0).takeUntil(c).concat(b.Observable.of(!1)))}
function k(a,b){if(b)try{a.removeChild(b)}catch(t){}}Object.defineProperty(e,"__esModule",{value:!0});var d=a(7);a.n(d);var b=a(0);a.n(b);c=a(4);var g=a(13),m=a(38),n=a(136),p=a(138),q=c.a.MAXIMUM_HTML_TEXT_TRACK_UPDATE_INTERVAL;c=function(b){function c(a,g,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var m=h(this,b.call(this,a));m._videoElement=g;m._textTrackElement=e;m._destroy$=new d.Subject;m._buffer=new n.a;m._currentElement=null;m._track=null;f(m._videoElement).takeUntil(m._destroy$).subscribe(function(a){a?
(a=m._buffer.get(Math.max(m._videoElement.currentTime-q/3E3,0)),a)?m._currentElement!==a.element&&(k(e,m._currentElement),m._currentElement=a.element,e.appendChild(m._currentElement)):(k(e,m._currentElement),m._currentElement=null):(k(e,m._currentElement),m._currentElement=null)});return m}l(c,b);c.prototype._append=function(b){var d=b.timescale,c=b.start,g=b.end,f=b.data,e=b.type;b=b.language;0>=g-c||(c/=d,d=null!=g?g/d:void 0,f=a.i(p.a)(e,f,b),e=null!=d?d:f[f.length-1].end,this._buffer.insert(f,
c,e),this.buffered.insert(c,e))};c.prototype._remove=function(a,b){this._buffer.remove(a,b)};c.prototype._abort=function(){this._destroy$.next();this._destroy$.complete();k(this._textTrackElement,this._currentElement)};return c}(m.a);e["default"]=c},function(c,e,a){e.a=function(a,c,e){a=h[a];if(!a)throw Error("no parser found for the given text track");return a(c,e)};var h={};h.sami=a(173).default;h.ttml=a(179).default;h.srt=a(175).default;h.vtt=a(183).default},function(c,e,a){a.d(e,"a",function(){return h});
a.d(e,"b",function(){return l});var h=a(137).default,l=a(140).default},function(c,e,a){function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(e,"__esModule",{value:!0});var l=a(1),f=a(5);c=a(38);var k=a(141);c=function(d){function b(c,
e,k){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=d.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;var g=a.i(f.o)(e,k);k=g.track;g=g.trackElement;c._videoElement=e;c._track=k;c._trackElement=g;return c}h(b,d);b.prototype._append=function(b){var d=this,c=b.timescale,g=b.start,f=b.end,e=b.data,h=b.type;b=b.language;0>=f-g?l.a.warn("Invalid subtitles appended"):
(g/=c,c=null!=f?f/c:void 0,e=a.i(k.a)(h,e,b),0<e.length?(h=e[0],f=this._track.cues,0<f.length&&h.startTime<f[f.length-1].startTime&&this._remove(h.startTime,Infinity),e.forEach(function(a){return d._track.addCue(a)}),this.buffered.insert(g,null!=c?c:e[e.length-1].endTime)):null!=c&&this.buffered.insert(g,c))};b.prototype._remove=function(a,b){for(var d=this._track,c=d.cues,g=c.length-1;0<=g;g--){var f=c[g],e=f.startTime,k=f.endTime;e>=a&&e<=b&&k<=b&&d.removeCue(f)}this.buffered.remove(a,b)};b.prototype._abort=
function(){var a=this._trackElement,b=this._videoElement;if(a&&b&&b.hasChildNodes())try{b.removeChild(a)}catch(n){}this._track&&(this._track.mode="disabled",this._track=null);this._trackElement&&(this._trackElement.innerHTML="",this._trackElement=null)};return b}(c.a);e["default"]=c},function(c,e,a){e.a=function(a,c,e){a=h[a];if(!a)throw Error("no parser found for the given text track");return a(c,e)};var h={};h.vtt=a(184).default;h.ttml=a(181).default;h.sami=a(174).default;h.srt=a(176).default},
function(c,e,a){a(2);var h=a(14);c=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._ranges=[];this.length=0}c.prototype.insert=function(c,e){a.i(h.e)(this._ranges,{start:c,end:e});this.length=this._ranges.length};c.prototype.remove=function(c,e){var d=[];0<c&&d.push({start:0,end:c});Infinity>e&&d.push({start:e,end:Infinity});a.i(h.f)(this._ranges,d);this.length=this._ranges.length};c.prototype.start=function(a){if(a>=this._ranges.length)throw Error("INDEX_SIZE_ERROR");
return this._ranges[a].start};c.prototype.end=function(a){if(a>=this._ranges.length)throw Error("INDEX_SIZE_ERROR");return this._ranges[a].end};return c}();e.a=c},function(c,e,a){var h=a(0);a.n(h);var l=a(1);e.a=function(a,c,d,b){b=b.pauseWhenStalled;var g=void 0;g=void 0===b||b?d.pairwise().map(function(a){var b=a[1].stalled;a=a[0].stalled;if(!a!==!b||a&&b&&a.state!==b.state)return!a}).filter(function(a){return null!=a}).startWith(!1):h.Observable.of(!1).concat(h.Observable.never());return g.switchMap(function(b){return b?
h.Observable.defer(function(){l.a.info("pause playback to build buffer");a.playbackRate=0;return h.Observable.of(0)}):c.do(function(b){l.a.info("resume playback speed",b);a.playbackRate=b})})}},function(c,e,a){c=a(4);var h=a(1),l=a(14),f=a(5),k=c.a.DISCONTINUITY_THRESHOLD;e.a=function(d,b,c){return c.do(function(b){if(b.stalled){var c=b.buffered,g=b.currentTime;c=a.i(l.d)(c,g);a.i(f.n)(b)?(h.a.warn("after freeze seek",g,b.range),d.currentTime=g):c<k&&(b=g+c+1/60,h.a.warn("discontinuity seek",g,c,
b),d.currentTime=b)}}).share().map(function(a){return a.stalled}).distinctUntilChanged(function(a,b){return!a&&!b||a&&b&&a.state===b.state})}},function(c,e,a){function h(a){return a.filter(function(a){return"seeking"==a.state&&(Infinity===a.bufferGap||-2>a.bufferGap)}).skip(1).startWith(!0)}c=a(6);var l=a.n(c),f=a(29);e.a=function(c,d){d=d.map(function(b){var d=l()({},b);d.liveGap=c.isLive?a.i(f.d)(c)-b.currentTime:Infinity;return d});var b=h(d);return{timings:d,seekings:b}}},function(c,e,a){function h(c,
d,b){this.name="IndexError";this.type=l.a.INDEX_ERROR;this.indexType=d;this.reason=null;this.code=l.b[c];this.fatal=b;this.message=a.i(f.a)(this.name,this.code,null)}var l=a(19),f=a(23);h.prototype=Error();e.a=h},function(c,e,a){function h(c,d,b){this.name="NetworkError";this.type=l.a.NETWORK_ERROR;this.xhr=d.xhr;this.url=d.url;this.status=d.status;this.reqType=d.type;this.reason=d;this.code=l.b[c];this.fatal=b;this.reason?this.message=a.i(f.a)(this.name,this.code,this.reason):(c=""+this.reqType+
(0<this.status?"("+this.status+")":"")+" on "+this.url,this.message=a.i(f.a)(this.name,this.code,{message:c}))}var l=a(19),f=a(23);h.prototype=Error();h.prototype.isHttpError=function(a){return this.reqType==l.c.ERROR_HTTP_CODE&&this.status==a};e.a=h},function(c,e,a){function h(c,d,b){this.name="OtherError";this.type=l.a.OTHER_ERROR;this.reason=d;this.code=l.b[c];this.fatal=b;this.message=a.i(f.a)(this.name,this.code,this.reason)}var l=a(19),f=a(23);h.prototype=Error();e.a=h},function(c,e,a){function h(a,
c,e){this.name="RequestError";this.url=c;this.xhr=a;this.status=a.status;this.message=this.type=e}h.prototype=Error();e.a=h},function(c,e,a){c.exports=a(97).default},function(c,e,a){c=a(6);var h=a.n(c);c=a(18);var l=a.n(c),f=a(158),k=a(47);c=function(){function d(){var b=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var e=a.i(k.a)();this.id=null==c.id?e:""+c.id;this.type=c.type||"";this.representations=
Array.isArray(c.representations)?c.representations.map(function(a){return new f.a(h()({rootId:b.id},a))}).sort(function(a,b){return a.bitrate-b.bitrate}):[];null!=c.language&&(this.language=c.language);null!=c.normalizedLanguage&&(this.normalizedLanguage=c.normalizedLanguage);null!=c.closedCaption&&(this.isClosedCaption=c.closedCaption);null!=c.audioDescription&&(this.isAudioDescription=c.audioDescription);null!=c.contentProtection&&(this.contentProtection=c.contentProtection);null!=c.smoothProtection&&
(this._smoothProtection=c.smoothProtection);this.manual=c.manual}d.prototype.getAvailableBitrates=function(){return this.representations.map(function(a){return a.bitrate})};d.prototype.getRepresentation=function(a){return l()(this.representations,function(b){return a===b.id})};d.prototype.getRepresentationsForBitrate=function(a){return this.representations.filter(function(b){return b.bitrate===a})||null};return d}();e.a=c},function(c,e,a){c=a(18);var h=a.n(c),l=a(151),f=a(47);c=function(){function c(){var d=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var b=a.i(f.a)();this.id=null==d.id?b:""+d.id;this.transport=d.transportType||"";this.adaptations=d.adaptations?Object.keys(d.adaptations).reduce(function(a,b){a[b]=d.adaptations[b].map(function(a){return new l.a(a)});return a},{}):[];this.periods=[{adaptations:this.adaptations}];this.isLive="dynamic"===d.type;this.uris=d.locations||[];this._duration=d.duration;
this.suggestedPresentationDelay=d.suggestedPresentationDelay;this.availabilityStartTime=d.availabilityStartTime;this.presentationLiveGap=d.presentationLiveGap;this.timeShiftBufferDepth=d.timeShiftBufferDepth}c.prototype.getDuration=function(){return this._duration};c.prototype.getUrl=function(){return this.uris[0]};c.prototype.getAdaptations=function(){var a=this.adaptations;if(!a)return[];var b=[],c;for(c in a)b.push.apply(b,a[c]);return b};c.prototype.getAdaptation=function(a){return h()(this.getAdaptations(),
function(b){return a===b.id})};c.prototype.updateLiveGap=function(a){this.isLive&&(this.presentationLiveGap+=a)};return c}();e.a=c},function(c,e,a){Object.defineProperty(e,"__esModule",{value:!0});c=a(6);c=a.n(c);var h=a(40);a=a(24);e["default"]=c()({},h["default"],{getInitSegment:a.a,setTimescale:a.b,scale:a.c,_addSegmentInfos:function(a,c){if(c.timescale!==a.timescale){var f=a.timescale;a.timeline.push({ts:c.time/c.timescale*f,d:c.duration/c.timescale*f,r:c.count,range:c.range})}else a.timeline.push({ts:c.time,
d:c.duration,r:c.count,range:c.range});return!0},shouldRefresh:function(){return!1}})},function(c,e,a){var h={};h.smooth=a(156).default;h.timeline=a(40).default;h.template=a(157).default;h.list=a(155).default;h.base=a(153).default;e.a=function(a){return h[a.indexType]}},function(c,e,a){Object.defineProperty(e,"__esModule",{value:!0});var h=a(28),l=a(24);e["default"]={getInitSegment:l.a,setTimescale:l.b,scale:l.c,getSegments:function(c,e,d,b){var g=a.i(l.d)(e,d,b);d=e.duration;b=e.list;e=e.timescale;
var f=Math.min(b.length-1,Math.floor(g.to/d)),k=[];for(g=Math.floor(g.up/d);g<=f;)k.push(new h.a({id:""+c+"_"+g,time:g*d,init:!1,range:b[g].range,duration:d,indexRange:null,timescale:e,media:b[g].media})),g++;return k},getFirstPosition:function(){return 0},getLastPosition:function(a){return a.list.length*a.duration/a.timescale},shouldRefresh:function(a,c,d,b){c=a.list;d=a.presentationTimeOffset;a=Math.floor((b*a.timescale-(void 0===d?0:d))/a.duration);return!(0<=a&&a<c.length)},_addSegmentInfos:function(){return!1},
checkDiscontinuity:function(){return-1}}},function(c,e,a){Object.defineProperty(e,"__esModule",{value:!0});c=a(40);var h=a(24);e["default"]={getSegments:c["default"].getSegments,getInitSegment:h.a,checkDiscontinuity:c["default"].checkDiscontinuity,_addSegmentInfos:c["default"]._addSegmentInfos,setTimescale:h.b,scale:h.c,shouldRefresh:function(c,f,e,d){var b=c.timeline;e=c.timescale;c=c.presentationTimeOffset;c=void 0===c?0:c;f=f*e-c;b=b[b.length-1];if(!b)return!1;0>b.d&&(b={ts:b.ts,d:0,r:b.r});b=
a.i(h.e)(b);return 1>=(b-f)/e&&d*e-c>b},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(c){if(c.timeline.length){var f=c.timeline[c.timeline.length-1];return a.i(h.e)(f)/c.timescale}}}},function(c,e,a){Object.defineProperty(e,"__esModule",{value:!0});var h=a(28),l=a(24);e["default"]={getInitSegment:l.a,setTimescale:l.b,scale:l.c,getSegments:function(c,e,d,b){var g=a.i(l.d)(e,d,b);d=g.to;b=e.duration;var f=e.startNumber,k=e.timescale;
e=e.media;var p=[];for(g=g.up;g<=d;g+=b){var q=Math.floor(g/b)+(null==f?1:f);p.push(new h.a({id:""+c+"_"+q,number:q,time:q*b,init:!1,duration:b,range:null,indexRange:null,timescale:k,media:e}))}return p},getFirstPosition:function(){},getLastPosition:function(){},shouldRefresh:function(){return!1},checkDiscontinuity:function(){return-1},_addSegmentInfos:function(){return!1}}},function(c,e,a){var h=a(47),l=a(159);e.a=function k(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof
k))throw new TypeError("Cannot call a class as a function");var b=a.i(h.a)();this.id=null==c.id?b:c.id;this.bitrate=c.bitrate;this.codec=c.codecs;null!=c.height&&(this.height=c.height);null!=c.width&&(this.width=c.width);null!=c.mimeType&&(this.mimeType=c.mimeType);this.index=new l.a({index:c.index,rootId:this.id});this.baseURL=c.baseURL;null!=c.codecPrivateData&&(this._codecPrivateData=c.codecPrivateData);null!=c.channels&&(this._channels=c.channels);null!=c.bitsPerSample&&(this._bitsPerSample=c.bitsPerSample);
null!=c.packetSize&&(this._packetSize=c.packetSize);null!=c.samplingRate&&(this._samplingRate=c.samplingRate)}},function(c,e,a){var h=a(154);c=function(){function c(f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._index=f.index;this._rootId=f.rootId;this._indexHelpers=a.i(h.a)(this._index)}c.prototype.getInitSegment=function(){return this._indexHelpers.getInitSegment(this._rootId,this._index)};c.prototype.getSegments=function(a,c){return this._indexHelpers.getSegments(this._rootId,
this._index,a,c)};c.prototype.shouldRefresh=function(a,c,d){return this._indexHelpers.shouldRefresh(this._index,a,c,d)};c.prototype.getFirstPosition=function(){return this._indexHelpers.getFirstPosition(this._index)};c.prototype.getLastPosition=function(){return this._indexHelpers.getLastPosition(this._index)};c.prototype.checkDiscontinuity=function(a){return this._indexHelpers.checkDiscontinuity(this._index,a)};c.prototype.scale=function(a){return this._indexHelpers.scale(this._index,a)};c.prototype.setTimescale=
function(a){return this._indexHelpers.setTimescale(this._index,a)};c.prototype._addSegments=function(a,c){for(var d=[],b=0;b<a.length;b++)this._indexHelpers._addSegmentInfos(this._index,a[b],c)&&d.push(a[b]);return d};c.prototype.update=function(a){this._index=a._index};c.prototype.getType=function(){return this._index.indexType||""};return c}();e.a=c},function(c,e,a){Object.defineProperty(e,"__esModule",{value:!0});var h=a(0);a.n(h);var l=a(20),f=a(30),k=a(72),d=a(163),b=a(68),g=a(41),m=a(42),n=
a(165),p=a(166);e["default"]=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=a.i(n.a)(c.segmentLoader),w=c.contentProtectionParser;w||(w=function(){});c={loader:function(a){return e({segment:a.segment,representation:a.representation,adaptation:a.adaptation,manifest:a.manifest})},parser:function(c){var d=c.segment,g=c.adaptation,e=c.init;c=new Uint8Array(c.response.responseData);var k=void 0,m=c,n=d.indexRange;(n=a.i(f.a)(c,n?n[0]:0))&&(k=n);d.isInit?(d={time:-1,duration:0},
e=a.i(f.b)(c),0<e&&(d.timescale=e),g.contentProtection&&(m=a.i(f.c)(c,g.contentProtection))):d=a.i(b.a)(d,c,n,e);return h.Observable.of({segmentData:m,segmentInfos:d,nextSegments:k})}};return{directFile:!1,manifest:{loader:function(b){b=b.url;return a.i(g.a)({url:b,responseType:"document"})},parser:function(b){b=b.response;var c=b.responseData;return h.Observable.of({manifest:a.i(d.a)(c,w),url:b.url})}},audio:c,video:c,text:{loader:p.a,parser:p.b},image:{loader:function(b){var c=b.segment;b=b.representation;
if(c.isInit)return h.Observable.empty();var d=c.media;c=d?a.i(m.a)(d,c,b):"";c=a.i(l.b)(b.baseURL,c);return a.i(g.a)({url:c,responseType:"arraybuffer"})},parser:function(b){var c=new Uint8Array(b.response.responseData);b={time:0,duration:Number.MAX_VALUE};var d=void 0;c&&(c=a.i(k.a)(c),d=c.thumbs,b.timescale=c.timescale);return h.Observable.of({segmentData:d,segmentInfos:b})}}}}},function(c,e,a){c=a(4);var h=a(2),l=a(32),f=a(69),k=[{k:"profiles",fn:f.g},{k:"width",fn:parseInt},{k:"height",fn:parseInt},
{k:"frameRate",fn:f.h},{k:"audioSamplingRate",fn:f.g},{k:"mimeType",fn:f.g},{k:"segmentProfiles",fn:f.g},{k:"codecs",fn:f.g},{k:"maximumSAPPeriod",fn:parseFloat},{k:"maxPlayoutRate",fn:parseFloat},{k:"codingDependency",fn:f.i}],d=[{k:"timescale",fn:parseInt,def:1},{k:"timeShiftBufferDepth",fn:f.j},{k:"presentationTimeOffset",fn:parseFloat,def:0},{k:"indexRange",fn:f.f},{k:"indexRangeExact",fn:f.i,def:!1},{k:"availabilityTimeOffset",fn:parseFloat},{k:"availabilityTimeComplete",fn:f.i,def:!0}],b=d.concat([{k:"duration",
fn:parseInt},{k:"startNumber",fn:parseInt}]),g={ContentProtection:[{k:"schemeIdUri",fn:f.g},{k:"value",fn:f.g}],SegmentURL:[{k:"media",fn:f.g},{k:"mediaRange",fn:f.f},{k:"index",fn:f.g},{k:"indexRange",fn:f.f}],S:[{k:"t",fn:parseInt,n:"ts"},{k:"d",fn:parseInt},{k:"r",fn:parseInt}],SegmentTimeline:[],SegmentBase:d,SegmentTemplate:b.concat([{k:"initialization",fn:function(a){return{media:a,range:void 0}}},{k:"index",fn:f.g},{k:"media",fn:f.g},{k:"bitstreamSwitching",fn:f.g}]),SegmentList:b,ContentComponent:[{k:"id",
fn:f.g},{k:"lang",fn:f.g,n:"language"},{k:"lang",fn:l.a,n:"normalizedLanguage"},{k:"contentType",fn:f.g},{k:"par",fn:f.k}],Representation:k.concat([{k:"id",fn:f.g},{k:"bandwidth",fn:parseInt,n:"bitrate"},{k:"qualityRanking",fn:parseInt}]),AdaptationSet:k.concat([{k:"id",fn:f.g},{k:"group",fn:parseInt},{k:"lang",fn:f.g,n:"language"},{k:"lang",fn:l.a,n:"normalizedLanguage"},{k:"contentType",fn:f.g},{k:"par",fn:f.k},{k:"minBandwidth",fn:parseInt,n:"minBitrate"},{k:"maxBandwidth",fn:parseInt,n:"maxBitrate"},
{k:"minWidth",fn:parseInt},{k:"maxWidth",fn:parseInt},{k:"minHeight",fn:parseInt},{k:"maxHeight",fn:parseInt},{k:"minFrameRate",fn:f.h},{k:"maxFrameRate",fn:f.h},{k:"segmentAlignment",fn:f.l},{k:"subsegmentAlignment",fn:f.l},{k:"bitstreamSwitching",fn:f.i}]),Period:[{k:"id",fn:f.g},{k:"start",fn:f.j},{k:"duration",fn:f.j},{k:"bitstreamSwitching",fn:f.i}],MPD:[{k:"id",fn:f.g},{k:"profiles",fn:f.g},{k:"type",fn:f.g,def:"static"},{k:"availabilityStartTime",fn:f.m},{k:"availabilityEndTime",fn:f.m},{k:"publishTime",
fn:f.m},{k:"mediaPresentationDuration",fn:f.j,n:"duration"},{k:"minimumUpdatePeriod",fn:f.j},{k:"minBufferTime",fn:f.j},{k:"timeShiftBufferDepth",fn:f.j},{k:"suggestedPresentationDelay",fn:f.j,def:c.a.DEFAULT_SUGGESTED_PRESENTATION_DELAY.DASH},{k:"maxSegmentDuration",fn:f.j},{k:"maxSubsegmentDuration",fn:f.j}],Role:[{k:"schemeIdUri",fn:f.g},{k:"value",fn:f.g}],Accessibility:[{k:"schemeIdUri",fn:f.g},{k:"value",fn:parseInt}]};e.a=function(b,c){var d=g[b.nodeName];a.i(h.a)(d,"no attributes for "+b.nodeName);
c=c||{};for(var f=0;f<d.length;f++){var e=d[f],k=e.k,m=e.fn,n=e.n;e=e.def;b.hasAttribute(k)?c[n||k]=m(b.getAttribute(k)):null!=e&&(c[n||k]=e)}return c}},function(c,e,a){a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});a.d(e,"c",function(){return f});a.d(e,"d",function(){return k});c=function(a){return function(b){return a.reduce(function(a,c){b.hasOwnProperty(c)&&(a[c]=b[c]);return a},{})}};var h=c("availabilityStartTime baseURL duration id locations periods presentationLiveGap suggestedPresentationDelay timeShiftBufferDepth transportType type".split(" ")),
l=c(["adaptations","baseURL","duration","id","start"]),f=c("contentProtection accessibility baseURL contentProtection id language normalizedLanguage representations type".split(" ")),k=c("bitrate baseURL codecs height id index mimeType width".split(" "))},function(c,e,a){function h(a,c){return"string"==typeof a?h.parseFromString(a,c):h.parseFromDocument(a,c)}var l=a(2),f=a(164);h.parseFromString=function(a,c){return h.parseFromDocument((new DOMParser).parseFromString(a,"application/xml"),c)};h.parseFromDocument=
function(c,d){c=c.documentElement;l.a.equal(c.nodeName,"MPD","document root should be MPD");return a.i(f.a)(c,d)};e.a=h},function(c,e,a){function h(b,c){var d=a.i(q.a)(b,function(a,b,d){switch(b){case "BaseURL":a.baseURL=d.textContent;break;case "Location":a.locations.push(d.textContent);break;case "Period":a.periods.push(l(d,c))}return a},{transportType:"dash",periods:[],locations:[]});b=a.i(w.a)(b,d);/dynamic/.test(b.type)&&(d=b.periods[0].adaptations.filter(function(a){return"video"==a.type})[0],
d=a.i(q.b)(d),d||(p.a.warn("Live edge not deduced from manifest, setting a default one"),d=Date.now()/1E3-60),b.availabilityStartTime=b.availabilityStartTime.getTime()/1E3,b.presentationLiveGap=Date.now()/1E3-(d+b.availabilityStartTime));return a.i(r.a)(b)}function l(b,c){b=a.i(w.a)(b,a.i(q.a)(b,function(a,b,d){switch(b){case "BaseURL":a.baseURL=d.textContent;break;case "AdaptationSet":b=f(d,c),null==b.id&&(b.id=a.adaptations.length),a.adaptations.push(b)}return a},{adaptations:[]}));return a.i(r.b)(b)}
function f(c,f){var e=void 0,m=a.i(q.a)(c,function(c,m,h){switch(m){case "Accessibility":e=a.i(w.a)(h);break;case "BaseURL":c.baseURL=h.textContent;break;case "ContentComponent":m=a.i(w.a)(h);c.contentComponent=m;break;case "ContentProtection":m=f(a.i(w.a)(h),h);c.contentProtection=m;break;case "Representation":m=k(h);null==m.id&&(m.id=c.representations.length);c.representations.push(m);break;case "Role":m=a.i(w.a)(h);c.role=m;break;case "SegmentBase":c.index=g(h);break;case "SegmentList":c.index=
b(h);break;case "SegmentTemplate":c.index=d(h)}return c},{representations:[]}),h=a.i(w.a)(c,m);h.type=a.i(q.c)(h);h.accessibility=[];a.i(q.d)(e)&&h.accessibility.push("hardOfHearing");a.i(q.e)(e)&&h.accessibility.push("visuallyImpaired");h.representations=h.representations.map(function(a){t.forEach(function(b){!a.hasOwnProperty(b)&&h.hasOwnProperty(b)&&(a[b]=h[b])});return a});return a.i(r.c)(h)}function k(c){var f=a.i(q.a)(c,function(a,c,f){switch(c){case "BaseURL":a.baseURL=f.textContent;break;
case "SegmentBase":a.index=g(f);break;case "SegmentList":a.index=b(f);break;case "SegmentTemplate":a.index=d(f)}return a},{});c=a.i(w.a)(c,f);return a.i(r.d)(c)}function d(a){a=m(a);a.indexType||(a.indexType="template");return a}function b(b){var c=m(b);c.list=[];c.indexType="list";return a.i(q.a)(b,function(b,c,d){"SegmentURL"==c&&b.list.push(a.i(w.a)(d));return b},c)}function g(b){var c=a.i(q.a)(b,function(b,c,d){if("Initialization"==c){var g=c=void 0;d.hasAttribute("range")&&(c=a.i(q.f)(d.getAttribute("range")));
d.hasAttribute("sourceURL")&&(g=d.getAttribute("sourceURL"));b.initialization={range:c,media:g}}return b},a.i(w.a)(b));"SegmentBase"==b.nodeName&&(c.indexType="base",c.timeline=[]);return c}function m(b){return a.i(q.a)(b,function(a,b,c){"SegmentTimeline"==b&&(a.indexType="timeline",a.timeline=n(c));return a},g(b))}function n(b){return a.i(q.a)(b,function(b,c,d){c=b.length;d=a.i(w.a)(d);null==d.ts&&(c=0<c&&b[c-1],d.ts=c?c.ts+c.d*(c.r+1):0);null==d.r&&(d.r=0);b.push(d);return b},[])}a.d(e,"a",function(){return h});
var p=a(1);a(2);var q=a(69),r=a(162),w=a(161),t=["codecs","height","index","mimeType","width"]},function(c,e,a){function h(b){var c=b.url;b=b.segment;var f=b.range;b=b.indexRange;if(f&&b&&f[1]===b[0]-1)return a.i(k.a)({url:c,responseType:"arraybuffer",headers:{Range:a.i(d.c)([f[0],b[1]])}});f=f?{Range:a.i(d.c)(f)}:null;f=a.i(k.a)({url:c,responseType:"arraybuffer",headers:f});return b?(c=a.i(k.a)({url:c,responseType:"arraybuffer",headers:{Range:a.i(d.c)(b)}}),l.Observable.merge(f,c)):f}var l=a(0);
a.n(l);var f=a(20),k=a(41),d=a(42);e.a=function(b){return function(c){var g=c.segment,e=c.adaptation,k=c.representation;c=c.manifest;var q=g.media,r=g.range,w=g.indexRange;if(g.isInit&&!(q||r||w))return l.Observable.empty();q=q?a.i(d.a)(q,g,k):"";q=a.i(f.b)(k.baseURL,q);var t={adaptation:e,representation:k,manifest:c,segment:g,transport:"dash",url:q};return b?l.Observable.create(function(a){var c=!1,d=!1,g=b(t,{reject:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(c=
!0,a.error(b))},resolve:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(c=!0,a.next({responseData:b.data,size:b.size||0,duration:b.duration||0}),a.complete())},fallback:function(){d=!0;h(t).subscribe(a)}});return function(){c||d||"function"!==typeof g||g()}}):h(t)}}},function(c,e,a){function h(b){var c=b.segment,g=b.representation,e=c.media,k=c.range;b=c.indexRange;var h=c.isInit,n=a.i(p.b)(g)?"arraybuffer":"text";if(h&&!(e||k||b))return f.Observable.empty();c=e?a.i(p.a)(e,
c,g):"";c=a.i(d.b)(g.baseURL,c);if(k&&b&&k[1]===b[0]-1)return a.i(m.a)({url:c,responseType:n,headers:{Range:a.i(p.c)([k[0],b[1]])}});k=a.i(m.a)({url:c,responseType:n,headers:k?{Range:a.i(p.c)(k)}:null});return b?(b=a.i(m.a)({url:c,responseType:n,headers:{Range:a.i(p.c)(b)}}),f.Observable.merge(k,b)):k}function l(c){var d=c.response,e=c.segment,m=c.representation,h=c.init,l=c.adaptation.language,q=e.isInit,y=e.indexRange,z=c=void 0,A=a.i(p.b)(m);A?(d=new Uint8Array(d.responseData),(y=a.i(g.a)(d,y?
y[0]:0))&&(c=y),q||(z=a.i(n.a)(e,d,y,h))):(d=d.responseData,z={time:e.time,duration:e.duration,timescale:e.timescale});if(q)z={time:-1,duration:0},A&&(d=a.i(g.b)(d),0<d&&(z.timescale=d)),d={start:0,end:0,timescale:z.timescale||0,data:[]};else if(e={start:z.time,end:z.time+z.duration,language:l,timescale:z.timescale},A){m=m.codec;h=void 0;switch((void 0===m?"":m).toLowerCase()){case "stpp":h="ttml";break;case "wvtt":h="vtt"}if(!h)throw Error("The codec used for the subtitle is not managed yet.");d=
k()({data:a.i(b.a)(a.i(g.d)(d)),type:h},e)}else{h=void 0;A=m.mimeType.mimeType;A=void 0===A?"":A;switch(m.mimeType){case "application/ttml+xml":h="ttml";break;case "application/x-sami":case "application/smil":h="sami";break;case "text/vtt":h="vtt"}if(!h)if(m=m.codec,"srt"===(void 0===m?"":m).toLowerCase())h="srt";else throw Error("could not find a text-track parser for the type "+A);d=k()({data:d,type:h},e)}return f.Observable.of({segmentData:d,segmentInfos:z,nextSegments:c})}a.d(e,"a",function(){return h});
a.d(e,"b",function(){return l});var f=a(0);a.n(f);c=a(6);var k=a.n(c),d=a(20),b=a(79),g=a(30),m=a(41),n=a(68),p=a(42)},function(c,e,a){Object.defineProperty(e,"__esModule",{value:!0});var h=a(0);a.n(h);var l={loader:function(a){return h.Observable.of({url:a.url})},parser:function(a){a=a.url;return h.Observable.of({manifest:{transportType:"directfile",locations:[a],periods:[],isLive:!1,duration:Infinity,adaptations:null},url:a})}};e["default"]=function(){return{directFile:!0,manifest:l}}},function(c,
e,a){c={};c.smooth=a(169).default;c.dash=a(160).default;c.directfile=a(167).default;e.a=c},function(c,e,a){Object.defineProperty(e,"__esModule",{value:!0});var h=a(0);a.n(h);var l=a(20),f=a(79),k=a(48),d=a(171),b=a(72);c=a(43);var g=a(70),m=a(71),n=a(170),p=a(172),q=c.a.patchSegment,r=c.a.getMdat,w=/\.wsx?(\?token=\S+)?/;e["default"]=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=a.i(d.a)(c),v=a.i(p.a)(c.segmentLoader);c={loader:function(a){return v({segment:a.segment,
representation:a.representation,adaptation:a.adaptation,manifest:a.manifest})},parser:function(b){var c=b.segment,d=b.manifest;b=b.response.responseData;if(c.isInit)return h.Observable.of({segmentData:b,segmentInfos:{timescale:c.timescale,time:-1,duration:0}});b=new Uint8Array(b);d=a.i(n.a)(b,c,d.isLive);c=d.nextSegments;d=d.segmentInfos;b=q(b,d.time);return h.Observable.of({segmentData:b,segmentInfos:d,nextSegments:c})}};return{directFile:!1,manifest:{resolver:function(b){b=b.url;var c=void 0,d=
a.i(m.a)(b);c=w.test(b)?a.i(k.a)({url:a.i(m.b)(b,""),responseType:"document",ignoreProgressEvents:!0}).map(function(a){return a.value}).map(m.c):h.Observable.of(b);return c.map(function(b){return{url:a.i(m.b)(a.i(m.d)(b),d)}})},loader:function(b){b=b.url;return a.i(g.a)({url:b,responseType:"document"})},parser:function(a){a=a.response;var b=e(a.responseData);return h.Observable.of({manifest:b,url:a.url})}},audio:c,video:c,text:{loader:function(b){var c=b.segment,d=b.representation;if(c.isInit)return h.Observable.empty();
b=d.mimeType;var f=a.i(l.b)(d.baseURL);c=a.i(m.e)(f,d,c);return a.i(g.a)({url:c,responseType:0<=b.indexOf("mp4")?"arraybuffer":"text"})},parser:function(b){var c=b.segment,d=b.representation,g=b.manifest,e=d.mimeType;e=void 0===e?"":e;d=d.codec;var k=void 0===d?"":d;d=b.response.responseData;var m=void 0,l=void 0;b={language:b.adaptation.language};var p=0<=e.indexOf("mp4");p?(d=new Uint8Array(d),c=a.i(n.a)(d,c,g.isLive),m=c.nextSegments,l=c.segmentInfos||{},b.start=l.time,b.end=null!=l.duration?l.time+
l.duration:void 0,b.timescale=l.timescale):(b.start=c.time,b.end=null!=c.duration?c.time+c.duration:void 0,b.timescale=c.timescale);if(p){c=k.toLowerCase();if("application/ttml+xml+mp4"===e||"stpp"===c)b.type="ttml";else if("wvtt"===c)b.type="vtt";else throw Error("could not find a text-track parser for the type "+e);b.data=a.i(f.a)(r(d))}else{switch(e){case "application/x-sami":case "application/smil":b.type="sami";break;case "application/ttml+xml":b.type="ttml";break;case "text/vtt":b.type="vtt"}if(!b.type)if("srt"===
k.toLowerCase())b.type="srt";else throw Error("could not find a text-track parser for the type "+e);b.data=d}return h.Observable.of({segmentData:b,segmentInfos:l,nextSegments:m})}},image:{loader:function(b){var c=b.segment;b=b.representation;if(c.isInit)return h.Observable.empty();var d=a.i(l.b)(b.baseURL);c=a.i(m.e)(d,b,c);return a.i(g.a)({url:c,responseType:"arraybuffer"})},parser:function(c){var d=new Uint8Array(c.response.responseData);c={time:0,duration:Number.MAX_VALUE};var g=void 0;d&&(d=a.i(b.a)(d),
g=d.thumbs,c.timescale=d.timescale);return h.Observable.of({segmentData:g,segmentInfos:c})}}}}},function(c,e,a){var h=a(1),l=a(30);c=a(43);var f=c.a.getTraf,k=c.a.parseTfrf,d=c.a.parseTfxd;e.a=function(b,c,e){var g=void 0,m=void 0;e?(e=f(b))?(g=k(e),m=d(e)):h.a.warn("smooth: could not find traf atom"):g=null;m||(m=Math.min(.9*c.timescale,c.duration/4),b=a.i(l.f)(b),m=0<=b&&Math.abs(b-c.duration)<=m?{time:c.time,duration:b}:{time:c.time,duration:c.duration});if(g)for(b=g.length-1;0<=b;b--)g[b].timescale=
c.timescale;m&&(m.timescale=c.timescale);return{nextSegments:g,segmentInfos:m}}},function(c,e,a){function h(a){return"boolean"==typeof a?a:"string"==typeof a?"TRUE"===a.toUpperCase():!1}function l(a){if(!a)return Infinity;a=a.index;var b=a.timeline[a.timeline.length-1];return(b.ts+(b.r+1)*b.d)/a.timescale}function f(c){return[{systemId:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",privateData:a.i(b.i)([8,1,18,16],c)}]}var k=a(9),d=a(4),b=a(25),g=a(2),m=a(32),n={audio:"audio/mp4",video:"video/mp4",text:"application/ttml+xml"},
p={audio:"mp4a.40.2",video:"avc1.4D401E"};c={AACL:"audio/mp4",AVC1:"video/mp4",H264:"video/mp4",TTML:"application/ttml+xml+mp4"};var q={audio:[["Bitrate","bitrate",parseInt],["AudioTag","audiotag",parseInt],["FourCC","mimeType",c],["Channels","channels",parseInt],["SamplingRate","samplingRate",parseInt],["BitsPerSample","bitsPerSample",parseInt],["PacketSize","packetSize",parseInt],["CodecPrivateData","codecPrivateData",String]],video:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",c],["CodecPrivateData",
"codecs",function(a){return(a=(/00000001\d7([0-9a-fA-F]{6})/.exec(a)||[])[1])?"avc1."+a:""}],["MaxWidth","width",parseInt],["MaxHeight","height",parseInt],["CodecPrivateData","codecPrivateData",String]],text:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",c]]};e.a=function(){function c(a,b,c){for(a=a.firstElementChild;a;)c=b(c,a.nodeName,a),a=a.nextElementSibling;return c}function e(b,d){b.hasAttribute("Timescale")&&(d=+b.getAttribute("Timescale"));var f=b.getAttribute("Type"),e=b.getAttribute("Subtype"),
k=b.getAttribute("Name"),h=b.getAttribute("Language"),l=a.i(m.a)(h),r=b.getAttribute("Url"),t=q[f],u=[];a.i(g.a)(t,"unrecognized QualityLevel type "+f);var v=0;d=c(b,function(a,b,c){switch(b){case "QualityLevel":b={};for(var d=0;d<t.length;d++){var g=t[d],e=g[0],k=g[2];b[g[1]]="function"==typeof k?k(c.getAttribute(e)):k[c.getAttribute(e)]}"audio"==f&&(c=c.getAttribute("FourCC")||"",d=b.codecPrivateData,c="AACH"==c?5:d?(parseInt(d.substr(0,2),16)&248)>>3:2,b.codecs=c?"mp4a.40."+c:"");if("video"!=f||
b.bitrate>A)b.id=v++,a.representations.push(b);break;case "c":b=a.index;d=a.index.timeline;g=d.length;e=0<g?d[g-1]:{d:0,ts:0,r:0};k=+c.getAttribute("d");var m=c.getAttribute("t");(c=+c.getAttribute("r"))&&c--;0<g&&!e.d&&(e.d=m-e.ts,d[g-1]=e);0<g&&k==e.d&&null==m?e.r+=(c||0)+1:d.push({d:k,ts:null==m?e.ts+e.d*(e.r+1):+m,r:c});b.timeline=d}return a},{representations:[],index:{timeline:[],indexType:"smooth",timescale:d,initialization:{}}});b=d.representations;d=d.index;a.i(g.a)(b.length,"adaptation should have at least one representation");
b.forEach(function(a){return a.codecs=a.codecs||p[f]});b.forEach(function(a){return a.mimeType=a.mimeType||n[f]});if("ADVT"==e)return null;"text"===f&&"DESC"===e&&u.push("hardOfHearing");return{type:f,accessibility:u,index:d,representations:b,name:k,language:h,normalizedLanguage:l,baseURL:r}}function t(a){return u((new DOMParser).parseFromString(a,"application/xml"))}function u(d){d=d.documentElement;g.a.equal(d.nodeName,"SmoothStreamingMedia","document root should be SmoothStreamingMedia");a.i(g.a)(/^[2]-[0-2]$/.test(d.getAttribute("MajorVersion")+
"-"+d.getAttribute("MinorVersion")),"Version should be 2.0, 2.1 or 2.2");var f=+d.getAttribute("Timescale")||1E7,m=[],n=c(d,function(c,d,h){switch(d){case "Protection":h=h.firstElementChild;g.a.equal(h.nodeName,"ProtectionHeader","Protection should have ProtectionHeader child");d=a.i(b.b)(atob(h.textContent));var n=a.i(b.d)(d,8);n=a.i(b.l)(d.subarray(10,10+n));n=(new DOMParser).parseFromString(n,"application/xml").querySelector("KID").textContent;n=a.i(b.m)(atob(n)).toLowerCase();var l=a.i(b.k)(n);
h=h.getAttribute("SystemID").toLowerCase().replace(/\{|\}/g,"");d={keyId:n,keySystems:[{systemId:h,privateData:d}].concat(C(l))};c.protection=d;break;case "StreamIndex":if(d=e(h,f)){h=0;do n=d.type+"_"+(d.language?d.language+"_":"")+h++;while(a.i(k.a)(m,n));d.id=n;m.push(n);c.adaptations.push(d)}}return c},{protection:null,adaptations:[]}),p=n.protection;n=n.adaptations;n.forEach(function(a){return a.smoothProtection=p});var q=void 0,r=void 0,t=void 0,u=void 0,v=h(d.getAttribute("IsLive"));if(v){q=
y;t=+d.getAttribute("DVRWindowLength")/f;u=z;r=n.filter(function(a){return"video"==a.type})[0];var w=n.filter(function(a){return"audio"==a.type})[0];r=Math.min(l(r),l(w));r=Date.now()/1E3-(r+u)}return{transportType:"smooth",profiles:"",type:v?"dynamic":"static",suggestedPresentationDelay:q,timeShiftBufferDepth:t,presentationLiveGap:r,availabilityStartTime:u,periods:[{duration:(+d.getAttribute("Duration")||Infinity)/f,adaptations:n,laFragCount:+d.getAttribute("LookAheadFragmentCount")}]}}function v(a){return"string"==
typeof a?t(a):u(a)}var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},y=null==x.suggestedPresentationDelay?d.a.DEFAULT_SUGGESTED_PRESENTATION_DELAY.SMOOTH:x.suggestedPresentationDelay,z=x.referenceDateTime||Date.UTC(1970,0,1,0,0,0,0)/1E3,A=x.minRepresentationBitrate||19E4,C=x.keySystems||f;v.parseFromString=t;v.parseFromDocument=u;return v}},function(c,e,a){function h(b){var c=b.url,g=void 0;(b=b.segment.range)&&(g={Range:a.i(d.f)(b)});return a.i(k.a)({url:c,responseType:"arraybuffer",
headers:g})}var l=a(0);a.n(l);var f=a(20);c=a(43);var k=a(70),d=a(71),b=c.a.createVideoInitSegment,g=c.a.createAudioInitSegment;e.a=function(c){return function(e){var k=e.segment,m=e.representation,n=e.adaptation;e=e.manifest;if(k.isInit){e={};var w=n._smoothProtection||{};switch(n.type){case "video":e=b(k.timescale,m.width,m.height,72,72,4,m._codecPrivateData,w.keyId,w.keySystems);break;case "audio":e=g(k.timescale,m._channels,m._bitsPerSample,m._packetSize,m._samplingRate,m._codecPrivateData,w.keyId,
w.keySystems)}return l.Observable.of({type:"data",value:{responseData:e}})}w=a.i(d.e)(a.i(f.b)(m.baseURL),m,k);var t={adaptation:n,representation:m,segment:k,transport:"smooth",url:w,manifest:e};return c?l.Observable.create(function(a){var b=!1,d=!1,g=c(t,{reject:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(b=!0,a.error(c))},resolve:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(b=!0,a.next({type:"response",value:{responseData:c.data,
size:c.size||0,duration:c.duration||0}}),a.complete())},fallback:function(){d=!0;h(t).subscribe(a)}});return function(){b||d||"function"!==typeof g||g()}}):h(t)}}},function(c,e,a){function h(a){return a.replace(f,function(a,b){return String.fromCharCode(b)})}Object.defineProperty(e,"__esModule",{value:!0});var l=a(2),f=/&#([0-9]+);/g,k=/<br>/gi,d=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,b=/\s*<p class=([^>]+)>(.*)/i,g=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i;e["default"]=function(c,f){var e=/<sync[ >]/ig,
m=/<sync[ >]|<\/body>/ig,n=[],w=c.match(d)[1];m.exec(c);var t=/\.(\S+)\s*{([^}]*)}/gi;for(var u={},v;v=t.exec(w);){var x=v[1];v=v[2].match(/\s*lang:\s*(\S+);/i)[1];x&&v&&(u[v]=x)}w=/p\s*{([^}]*)}/gi.exec(w)[1];u=u[f];for(a.i(l.a)(u,"sami: could not find lang "+f+" in CSS");;){f=e.exec(c);t=m.exec(c);if(!f&&!t)break;if(!f||!t||f.index>=t.index)throw Error("parse error");t=c.slice(f.index,t.index);f=t.match(g);if(!f)throw Error("parse error (sync time attribute)");x=+f[1];if(isNaN(x))throw Error("parse error (sync time attribute NaN)");
f=n;t=t.split("\n");x/=1E3;for(v=t.length;0<=--v;){var y=t[v].match(b);if(y){var z=y[2];if(u===y[1])if("&nbsp;"===z)f[f.length-1].end=x;else{y=document.createElement("DIV");y.className="rxp-texttrack-region";var A=document.createElement("DIV");A.className="rxp-texttrack-div";A.style.position="absolute";A.style.bottom=0;A.style.width="100%";A.style.color="#fff";A.style.textShadow="-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000";var C=document.createElement("div");C.className="rxp-texttrack-p";
w&&(C.style.cssText=w);z=z.split(k);for(var E=0;E<z.length;E++){E&&C.appendChild(document.createElement("BR"));var D=document.createElement("SPAN");D.className="rxp-texttrack-span";D.textContent=h(z[E]);C.appendChild(D)}A.appendChild(C);y.appendChild(A);f.push({element:y,start:x})}}}}return n}},function(c,e,a){function h(a){return a.replace(d,"\n").replace(k,function(a,b){return String.fromCharCode(b)})}Object.defineProperty(e,"__esModule",{value:!0});var l=a(5),f=a(2),k=/&#([0-9]+);/g,d=/<br>/gi,
b=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,g=/\s*<p class=([^>]+)>(.*)/i,m=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i;e["default"]=function(c,d){var e=/<sync[ >]/ig,k=/<sync[ >]|<\/body>/ig,n=[],p=c.match(b)[1];k.exec(c);var u=/\.(\S+)\s*{([^}]*)}/gi;for(var v={},x;x=u.exec(p);){var y=x[1];x=x[2].match(/\s*lang:\s*(\S+);/i)[1];y&&x&&(v[x]=y)}p=v[d];for(a.i(f.a)(p,"sami: could not find lang "+d+" in CSS");;){d=e.exec(c);u=k.exec(c);if(!d&&!u)break;if(!d||!u||d.index>=u.index)throw Error("parse error");
u=c.slice(d.index,u.index);d=u.match(m);if(!d)throw Error("parse error (sync time attribute)");v=+d[1];if(isNaN(v))throw Error("parse error (sync time attribute NaN)");d=n;u=u.split("\n");v/=1E3;for(y=u.length;0<=--y;)if(x=u[y].match(g)){var z=x[2];p===x[1]&&("&nbsp;"===z?d[d.length-1].end=v:d.push({text:h(z),start:v}))}}c=[];for(e=0;e<n.length;e++)if(d=n[e],k=d.start,p=d.end,d=d.text)k=a.i(l.p)(k,p,d),null!=k&&c.push(k);return c}},function(c,e,a){function h(a){var c=document.createElement("div");
c.innerHTML=a;return function b(a){a=a.childNodes;var c=document.createElement("span");c.className="rxp-texttrack-span";for(var g=0;g<a.length;g++){var f=a[g];if("#text"===f.nodeName)c.innerHTML+=f.textContent;else if("B"===f.nodeName)f=b(f),f.style.fontWeight="bold",c.appendChild(f);else if("I"===f.nodeName)f=b(f),f.style.fontStyle="italic",c.appendChild(f);else if("U"===f.nodeName)f=b(f),f.style.textDecoration="underline",c.appendChild(f);else if("FONT"===f.nodeName&&f.color){var e=b(f);e.style.color=
f.color;c.appendChild(e)}else f=b(f),c.appendChild(f)}return c}(c)}Object.defineProperty(e,"__esModule",{value:!0});e["default"]=function(c){var f=c.split(/\r\n|\n|\r/);c=[];for(var d=0;d<f.length;d++)if(f[d]){var b=d;for(d++;f[d];)d++;c.push(f.slice(b,d))}f=[];for(d=0;d<c.length;d++){b=c[d];var g=b[1].split(" --\x3e "),e=g[0];g=g[1];b=b.slice(2,b.length);if(!e|!g|!b.length)b=null;else{e=a.i(l.a)(e);g=a.i(l.a)(g);var n=document.createElement("div");n.className="rxp-texttrack-p";n.style.fontSize="28px";
n.style.position="absolute";n.style.bottom="5%";n.style.width="100%";n.style.textAlign="center";n.style.color="#fff";n.style.textShadow="-1px -1px 2px #000,1px -1px 2px #000,-1px 1px 2px #000,1px 1px 2px #000";for(var p=0;p<b.length;p++){p&&n.appendChild(document.createElement("br"));var q=h(b[p]);n.appendChild(q)}b={start:e,end:g,element:n}}b&&f.push(b)}return f};var l=a(73)},function(c,e,a){Object.defineProperty(e,"__esModule",{value:!0});e["default"]=function(c){var f=c.split(/\r\n|\n|\r/);c=[];
for(var d=0;d<f.length;d++)if(f[d]){var b=d;for(d++;f[d];)d++;c.push(f.slice(b,d))}f=[];for(d=0;d<c.length;d++){var g=c[d],e=g[1].split(" --\x3e ");b=e[0];e=e[1];g=g.slice(2,g.length);!b|!e|!g.length?b=null:(b=a.i(l.a)(b),e=a.i(l.a)(e),g=g.join("\n"),b=a.i(h.p)(b,e,g));b&&f.push(b)}return f};var h=a(5),l=a(73)},function(c,e,a){a.d(e,"a",function(){return h});var h="backgroundColor color direction display displayAlign extent fontFamily fontSize fontStyle fontWeight lineHeight opacity origin overflow padding textAlign textDecoration textOutline unicodeBidi visibility wrapOption writingMode".split(" ")},
function(c,e,a){function h(a){var b=d.h.exec(a);if(null!=b)return"rgba("+parseInt(b[1],16)+","+parseInt(b[2],16)+","+parseInt(b[3],16)+","+parseInt(b[4],16)/255+")";b=d.i.exec(a);return null!=b?"rgba("+parseInt(b[1]+b[1],16)+","+parseInt(b[2]+b[2],16)+","+parseInt(b[3]+b[3],16)+","+parseInt(b[4]+b[4],16)/255+")":a}function l(a,b){return"-1px -1px "+b+" "+a+","+("1px -1px "+b+" "+a+",")+("-1px 1px "+b+" "+a+",")+("1px 1px "+b+" "+a)}function f(b,c,d,f,e){function n(b,f,p){b=b.childNodes;for(var q=
[],r=0;r<b.length;r++){var t=b[r];if("#text"===t.nodeName){var u=a.i(g.b)(["backgroundColor"],p,d,c).backgroundColor;u?f.backgroundColor=u:delete f.backgroundColor;var v=t,w=f;u=e;t=document.createElement("span");v=v.textContent||"";u&&(u=v.trim(),v=u=u.replace(/\s+/g," "));t.innerHTML=v;t.className="rxp-texttrack-span";u=t;if(v=w.color)u.style.color=h(v);var x=w.backgroundColor;x&&(u.style.backgroundColor=h(x));(x=w.wrapOption)&&"noWrap"===x&&(u.style.whiteSpace="nowrap");if(x=w.textOutline){x=x.trim().replace(/\s+/g,
" ").split(" ");var F=x.length;if(3===F)v=h(x[0]),u.style.textShadow=l(v,x[1]);else if(v&&1===F)u.style.textShadow=l(v,x[0]);else if(2===F){F=/^[#A-Z]/i.test(x[0]);var H=/^[0-9]/.test(x[0]);F^H&&(F?(v=h(x[0]),u.style.textShadow=l(v,x[1])):v&&(u.style.textShadow=l(v,x[0])))}}if(v=w.textDecoration)u.style.textDecoration="noUnderline"===v||"noLineThrough"===v||"noOverline"===v?"none":"lineThrough"===v?"line-through":v;if(v=w.fontFamily)switch(v){case "proportionalSansSerif":u.style.fontFamily="Arial, Helvetica, Liberation Sans, sans-serif";
break;case "monospaceSansSerif":case "sansSerif":u.style.fontFamily="sans-serif";break;case "monospaceSerif":case "default":u.style.fontFamily="Courier New, Liberation Mono, monospace";break;case "proportionalSerif":u.style.fontFamily="serif";break;default:u.style.fontFamily=v}if(v=w.fontStyle)u.style.fontStyle=v;if(v=w.fontWeight)u.style.fontWeight=v;if(v=w.fontSize)u.style.fontSize=v;if(v=w.direction)u.style.direction=v;if(v=w.unicodeBidi)switch(v){case "bidiOverride":u.style.unicodeBidi="bidi-override";
break;case "embed":u.style.unicodeBidi="embed";break;default:u.style.unicodeBidi="normal"}if(v=w.visibility)u.style.visibility=v;"none"===w.display&&(u.style.display="none");q.push(t)}else"br"===t.nodeName?(t=document.createElement("BR"),q.push(t)):"span"===t.nodeName&&0<t.childNodes.length&&(u=k()({},f,a.i(g.b)(m,[t],d,c)),q.push.apply(q,n(t,u,[t].concat(p))))}return q}return n(b,k()({},f),[])}e.a=function(c,e,k,m,l,t){var n=a.i(b.a)(c,"div"),p=document.createElement("DIV");p.className="rxp-texttrack-region";
var q=l.extent;q&&(q=d.a.exec(q),null!=q&&(p.style.width=q[1]+"%",p.style.height=q[2]+"%"));q=l.overflow;p.style.overflow=q?q:"hidden";if(q=l.padding)p.style.padding=q;if(q=l.origin)q=d.a.exec(q),null!=q&&(p.style.position="relative",p.style.left=q[1]+"%",p.style.top=q[2]+"%");q=l.displayAlign;p.style.display="flex";p.style.flexDirection="column";if(q)switch(q){case "before":p.style.justifyContent="flex-start";break;case "center":p.style.justifyContent="center";break;case "after":p.style.justifyContent=
"flex-end"}if(q=l.opacity)p.style.opacity=q;if(q=l.visibility)p.style.visibility=q;"none"===l.display&&(p.style.display="none");e&&(e=a.i(g.b)(["backgroundColor"],[].concat(n,[e]),m,k).bodyBackgroundColor)&&(p.style.backgroundColor=h(e));e=document.createElement("p");e.className="rxp-texttrack-p";if(n=l.backgroundColor)e.style.backgroundColor=h(n);if(n=l.lineHeight)e.style.lineHeight=n;if(n=l.textAlign)if("center"===n)e.style.textAlign="center";else if("left"===n||"start"===n)e.style.textAlign="left";
else if("right"===n||"end"===n)e.style.textAlign="right";c=f(c,k,m,l,t);for(k=0;k<c.length;k++)e.appendChild(c[k]);p.appendChild(e);return p};c=a(6);var k=a.n(c),d=a(45),b=a(44),g=a(46),m="color direction display fontFamily fontSize fontStyle fontWeight textDecoration textOutline unicodeBidi visibility wrapOption".split(" ")},function(c,e,a){Object.defineProperty(e,"__esModule",{value:!0});e["default"]=function(c){var e=[];if(c=(new DOMParser).parseFromString(c,"text/xml")){var m=c.getElementsByTagName("tt")[0];
if(!m)throw Error("invalid XML");c=a.i(f.a)(m);var q=a.i(f.b)(m),r=a.i(f.c)(m),w=a.i(f.d)(m);m=a.i(l.a)(m);for(var t=[],u=0;u<=q.length-1;u++)t.push({id:q[u].getAttribute("xml:id"),style:a.i(b.a)(q[u])});var v=[];q=function(c){var d=r[c].getAttribute("xml:id"),g=a.i(b.a)(r[c]),f=r[c].getAttribute("style");f&&(c=t.find(function(a){return a.id===f}))&&(g=h()({},c.style,g));v.push({id:d,style:g})};for(u=0;u<=r.length-1;u++)q(u);q=a.i(b.b)(d.a,[c],t,v);for(u=0;u<w.length;u++){var x=w[u],y=a.i(k.a)(x,
"div");y=h()({},q,a.i(b.b)(d.a,[x].concat(y),t,v));(x=a.i(g.a)(x,0,t,v,c,y,m))&&e.push(x)}}return e};c=a(6);var h=a.n(c),l=a(74),f=a(76),k=a(44),d=a(177),b=a(46),g=a(180)},function(c,e,a){e.a=function(c,e,d,b,g,m,n){if(!c.hasAttribute("begin")&&!c.hasAttribute("end")&&/^\s*$/.test(c.textContent||""))return null;var f=a.i(h.a)(c,n),k=f.start;f=f.end;c=a.i(l.a)(c,g,b,d,m,"default"===n.spaceStyle);return{start:k+e,end:f+e,element:c}};var h=a(75),l=a(178)},function(c,e,a){function h(b,c,g,f,e,m){if(!b.hasAttribute("begin")&&
!b.hasAttribute("end")&&/^\s*$/.test(b.textContent||""))return null;f=a.i(p.a)(b,m);g=f.start;f=f.end;b=l(b,"default"===m.spaceStyle);c=a.i(k.p)(g+c,f+c,b);if(!c)return null;if(b=e.extent)b=d.a.exec(b),null!=b&&(c.size=Number(b[1]));b=e.writingMode;"tb"===b||"tblr"===b?c.vertical="lr":"tbrl"===b&&(c.vertical="rl");(b=e.origin)&&d.a.exec(b);if(e=e.align)c.align=e,"center"===e&&("center"!==c.align&&(c.align="middle"),c.position="auto"),c.positionAlign=w[e]||"",c.lineAlign=r[e]||"";return c}function l(a,
b){function c(a){a=a.childNodes;for(var d="",g=0;g<a.length;g++){var f=a[g];"#text"===f.nodeName?(f=f.textContent,b&&(f=f.trim(),f=f.replace(/\s+/g," ")),d+=f):"br"===f.nodeName?d+="\n":"span"===f.nodeName&&0<f.childNodes.length&&(d+=c(f))}return d}return c(a)}Object.defineProperty(e,"__esModule",{value:!0});c=a(6);var f=a.n(c),k=a(5),d=a(45),b=a(76),g=a(74),m=a(46),n=a(44),p=a(75),q=["extent","writingMode","origin","align"],r={left:"start",center:"center",right:"end",start:"start",end:"end"},w={left:"line-left",
center:"center",right:"line-right"};e["default"]=function(c){var d=[];if(c=(new DOMParser).parseFromString(c,"text/xml")){var e=c.getElementsByTagName("tt")[0];if(!e)throw Error("invalid XML");var k=a.i(b.a)(e),l=a.i(b.b)(e),p=a.i(b.c)(e);c=a.i(b.d)(e);e=a.i(g.a)(e);for(var r=[],t=0;t<=l.length-1;t++)r.push({id:l[t].getAttribute("xml:id"),style:a.i(m.a)(l[t])});var w=[];l=function(b){var c=p[b].getAttribute("xml:id"),d=a.i(m.a)(p[b]),g=p[b].getAttribute("style");g&&(b=r.find(function(a){return a.id===
g}))&&(d=f()({},b.style,d));w.push({id:c,style:d})};for(t=0;t<=p.length-1;t++)l(t);k=a.i(m.b)(q,[k],r,w);for(l=0;l<c.length;l++){t=c[l];var D=a.i(n.a)(t,"div");D=f()({},k,a.i(m.b)(q,[t].concat(D),r,w));(t=h(t,0,r,w,D,e))&&d.push(t)}}return d}},function(c,e,a){function h(a,c){a=a.exec(c);return null===a||""===a[0]?null:(Number(a[4])||0)/1E3+(Number(a[3])||0)+60*(Number(a[2])||0)+3600*(Number(a[1])||0)}var l=a(45);e.a=function(a,c){if(l.b.test(a)){a=l.b.exec(a);var d=Number(a[1]),b=Number(a[2]),g=Number(a[3]),
e=Number(a[4]);e+=(Number(a[5])||0)/c.subFrameRate;g+=e/c.frameRate;return g+60*b+3600*d}if(l.c.test(a))return h(l.c,a);if(l.d.test(a))return h(l.d,a);if(l.e.test(a))return a=l.e.exec(a),Number(a[1])/c.frameRate;if(l.f.test(a))return a=l.f.exec(a),Number(a[1])/c.tickRate;if(l.g.test(a))return h(l.g,a)}},function(c,e,a){function h(a){var b=[],c=1,d=[];if(a[c].match(/::cue {/))d.push({isGlobalStyle:!0}),c++;else for(;a[c].match(/::cue\(\.?(.*?)\)(?:,| {)/);){var g=a[c].match(/::cue\(\.?(.*?)\)(?:,| {)/);
d.push({className:g[1],isGlobalStyle:!1});c++}for(var e="";!a[c].match(/}/)&&0!==a[c].length;)e+=a[c],c++;d.forEach(function(a){b.push({className:a.className,isGlobalStyle:a.isGlobalStyle,styleContent:e.replace(/\s/g,"")})});return b}function l(a,b){var c=document.createElement("div"),g=document.createAttribute("style"),e=0;g.value="width:100%;     height:100%;     display:flex;     flex-direction:column;     justify-content:flex-end;     align-items:center;";c.setAttributeNode(g);var h=a[e];e++;
if((g=f(a[e]))&&null!=g.start&&null!=g.end){e++;var m=document.createElement("p"),l=document.createAttribute("style");l.value="text-align:center";m.setAttributeNode(l);var u=document.createElement("span");l=document.createAttribute("style");l.value="background-color:rgba(0,0,0,0.8);     color:white;";u.setAttributeNode(l);var v=b.filter(function(a){return a.className===h&&!a.isGlobalStyle||a.isGlobalStyle}).map(function(a){return a.styleContent});v&&(l.value+=v.join(),u.setAttributeNode(l));for(;a[e];)0!=
u.childNodes.length&&u.appendChild(document.createElement("br")),k(a[e],b).forEach(function(a){u.appendChild(a)}),e++;c.appendChild(m);m.appendChild(u);return{start:g.start,end:g.end,element:c}}d.a.warn("VTT: Invalid cue, the timecode line could not be parsed.")}function f(c){var d=c.match("((?:[0-9]{2}:?)[0-9]{2}:[0-9]{2}.[0-9]{2,3})(?: |\t)--\x3e(?: |\t)((?:[0-9]{2}:?)[0-9]{2}:[0-9]{2}.[0-9]{2,3})");c=a.i(b.a)(d[1]);d=a.i(b.a)(d[2]);return{start:c,end:d}}function k(a,b){var c=["u","i","b"],d=["u",
"i","b","c","#text"],g=b.map(function(a){return a.className});a=a.replace(/<[0-9]{2}:[0-9]{2}.[0-9]{3}>/,"").replace(/<([u,i,b,c])(\..*?)?(?: .*?)?>(.*?)<\/\1>/g,"<$1$2>$3</$1$2>");return function(a){function e(a){var f=a.nodeName.toLowerCase().split(".")[0],k=void 0;if(d.includes(f))if("#text"===f)k=document.createTextNode(a.wholeText);else{var h=[];a.nodeName.toLowerCase().split(".").forEach(function(a){-1!==g.indexOf(a)&&h.push(g.indexOf(a))});if(0!==h.length){var m=document.createAttribute("style");
h.forEach(function(a){m.value+=b[a].styleContent});k=c.includes(f)?f:"span";k=document.createElement(k);k.setAttributeNode(m)}else k=c.includes(f)?f:"span",k=document.createElement(k);for(f=0;f<a.childNodes.length;f++)k.appendChild(e(a.childNodes[f]))}else for(k=document.createElement("span"),f=0;f<a.childNodes.length;f++)k.appendChild(e(a.childNodes[f]));return k}for(var f=[],k=0;k<a.length;k++)f[k]=e(a[k]);return f}((new DOMParser).parseFromString(a,"text/html").body.childNodes)}Object.defineProperty(e,
"__esModule",{value:!0});e["default"]=function(a){a=a.split(/\r\n|\n|\r/g);var b=[],c=[];if(!a[0].match(/^WEBVTT( |\t|\n|\r|$)/))throw Error("Can't parse WebVTT: Invalid File.");for(var d=1;d<a.length;d++)if(a[d].match(/^STYLE.*?/g)){var g=d;for(d++;0!==a[d].length;)d++;g=a.slice(g,d);g=h(g);c.push.apply(c,g)}for(d=1;d<a.length;d++)if(0!==a[d].length)if(g=a[d],g.match(/^NOTE.*?/g)||g.match(/^STYLE.*?/g)||g.match(/^REGION.*?/g)||0===g.length)for(;0!==a[d].length;)d++;else{g=d;for(d++;0!==a[d].length;)d++;
g=a.slice(g,d);(g=l(g,c))&&b.push(g)}return b};var d=a(1),b=a(185)},function(c,e,a){function h(a){a=a.split(":");if(3===a.length){var b=parseInt(a[0],10),c=parseInt(a[1],10);a=parseFloat(a[2],10);return isNaN(b)||isNaN(c)||isNaN(a)?void 0:3600*b+60*c+a}if(2===a.length)return b=parseInt(a[1],10),a=parseFloat(a[2],10),isNaN(b)||isNaN(a)?void 0:60*b+a}function l(a){return a.split(/ |\t/).reduce(function(a,c){c=c.split(":");2===c.length&&(a[c[0]]=c[1]);return a},{})}Object.defineProperty(e,"__esModule",
{value:!0});e["default"]=function(c){var b=c.split(/\r\n|\n|\r/);if(!/^WEBVTT($ | |\t)/.test(b[0]))throw Error("Can't parse WebVTT: Invalid file.");c=[];for(var d=1;d<b.length;d++){var e=b[d];e=!e||/^(NOTE)|(REGION)|(STYLE)($| |\t)/.test(e)?!1:!0;if(e){e=d;for(d++;b[d];)d++;c.push(b.slice(e,d))}else if(b[d])for(;b[d];)d++}b=[];for(d=0;d<c.length;d++){a:{e=c[d];var n=/--\x3e/;if(n.test(e[0]))n=e[0],e=e.slice(1,e.length);else{if(!n.test(e[1])){e=null;break a}n=e[1];e=e.slice(2,e.length)}var p;if(p=
n.match(/^([\d:.]+)[ |\t]+--\x3e[ |\t]+([\d:.]+)[ |\t]*(.*)$/)){n=h(p[1]);var q=h(p[2]);null==n||null==q?p=null:(p=l(p[3]),p={start:n,end:q,settings:p})}else p=null;if(p){n=p.start;q=p.end;p=p.settings;e=e.join("\n");e=a.i(k.p)(n,q,e);n=p;q=e;!n.vertical||"rl"!==n.vertical&&"lr"!==n.vertical||(q.vertical=n.vertical);if(n.line)if(p=n.line.match(/^(\d+(\.\d+)?)%(,([a-z]+))?/))q.line=p[1],q.snapToLines=!1,a.i(f.a)(["start","center","end"],p[4])&&(q.lineAlign=p[4]);else{var r=n.line.match(/^(-?\d+)(,([a-z]+))?/);
r&&(q.line=r[1],q.snapToLines=!0,a.i(f.a)(["start","center","end"],p[3])&&(q.lineAlign=p[3]))}n.position&&(p=/^([\d\.]+)%(?:,(line-left|line-right|center))?$/.exec(n.position),r=parseInt(p[1],10),isNaN(r)||(q.position=r,p[2]&&(q.positionAlign=p[2])));n.size&&(q.size=n.size);n.align&&a.i(f.a)(["start","center","end","left"],n.align)&&(q.align=n.align)}else e=null}e&&b.push(e)}return b};var f=a(9),k=a(5)},function(c,e,a){e.a=function(a){var c=a.split(":").reverse();if(c[2]||c[1]){a=c[2]?parseInt(c[2],
10):0;var e=parseInt(c[1],10);c=parseFloat(c[0].replace(",","."),10);return isNaN(a)||isNaN(e)||isNaN(c)?void 0:3600*a+60*e+c}}},function(c,e,a){a.d(e,"a",function(){return h});var h=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.hash={}}a.prototype.add=function(a){this.hash[a]=!0};a.prototype.remove=function(a){delete this.hash[a]};a.prototype.test=function(a){return!0===this.hash[a]};return a}()},function(c,e,a){c=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this.cache={}}a.prototype.add=function(a,c){a=a.segment;a.isInit&&(this.cache[a.id]=c)};a.prototype.get=function(a){a=a.segment;return a.isInit&&(a=this.cache[a.id],null!=a)?a:null};return a}();e.a=c},function(c,e,a){e.a={aa:"aar",ab:"abk",ae:"ave",af:"afr",ak:"aka",am:"amh",an:"arg",ar:"ara",as:"asm",av:"ava",ay:"aym",az:"aze",ba:"bak",be:"bel",bg:"bul",bi:"bis",bm:"bam",bn:"ben",bo:"bod",br:"bre",bs:"bos",ca:"cat",ce:"che",ch:"cha",co:"cos",
cr:"cre",cs:"ces",cu:"chu",cv:"chv",cy:"cym",da:"dan",de:"deu",dv:"div",dz:"dzo",ee:"ewe",el:"ell",en:"eng",eo:"epo",es:"spa",et:"est",eu:"eus",fa:"fas",ff:"ful",fi:"fin",fj:"fij",fo:"fao",fr:"fra",fy:"fry",ga:"gle",gd:"gla",gl:"glg",gn:"grn",gu:"guj",gv:"glv",ha:"hau",he:"heb",hi:"hin",ho:"hmo",hr:"hrv",ht:"hat",hu:"hun",hy:"hye",hz:"her",ia:"ina",id:"ind",ie:"ile",ig:"ibo",ii:"iii",ik:"ipk",io:"ido",is:"isl",it:"ita",iu:"iku",ja:"jpn",jv:"jav",ka:"kat",kg:"kon",ki:"kik",kj:"kua",kk:"kaz",kl:"kal",
km:"khm",kn:"kan",ko:"kor",kr:"kau",ks:"kas",ku:"kur",kv:"kom",kw:"cor",ky:"kir",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",lu:"lub",lv:"lav",mg:"mlg",mh:"mah",mi:"mri",mk:"mkd",ml:"mal",mn:"mon",mr:"mar",ms:"msa",mt:"mlt",my:"mya",na:"nau",nb:"nob",nd:"nde",ne:"nep",ng:"ndo",nl:"nld",nn:"nno",no:"nor",nr:"nbl",nv:"nav",ny:"nya",oc:"oci",oj:"oji",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",pl:"pol",ps:"pus",pt:"por",qu:"que",rm:"roh",rn:"run",ro:"ron",ru:"rus",rw:"kin",sa:"san",
sc:"srd",sd:"snd",se:"sme",sg:"sag",si:"sin",sk:"slk",sl:"slv",sm:"smo",sn:"sna",so:"som",sq:"sqi",sr:"srp",ss:"ssw",st:"sot",su:"sun",sv:"swe",sw:"swa",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",ts:"tso",tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",wo:"wol",xh:"xho",yi:"yid",yo:"yor",za:"zha",zh:"zho",zu:"zul"}},function(c,e,a){e.a={alb:"sqi",arm:"hye",baq:"eus",bur:"mya",chi:"zho",cze:"ces",dut:"nld",
fre:"fra",geo:"kat",ger:"deu",gre:"ell",ice:"isl",mac:"mkd",mao:"mri",may:"msa",per:"fas",slo:"slk",rum:"ron",tib:"bod",wel:"cym"}},function(c,e,a){e.a=function(a){var c=a.reduce(function(a,c){a[c]=c;return a},{});c.keys=a;return c}},function(c,e,a){e.a=function(c){var e=!1;return function(){if(e)return h.Observable.empty();e=!0;return a.i(l.a)(c.apply(void 0,arguments)).do(null,function(){return e=!1},function(){return e=!1})}};var h=a(0);a.n(h);var l=a(10)},function(c,e,a){e.a=function(){for(var a=
0,c=arguments.length;a<c;){if(void 0!==(arguments.length<=a?void 0:arguments[a]))return arguments.length<=a?void 0:arguments[a];a++}}},function(c,e,a){e.a=function(){for(var a=0,c=arguments.length;a<c;){if(null!=(arguments.length<=a?void 0:arguments[a]))return arguments.length<=a?void 0:arguments[a];a++}}},function(c,e,a){function h(a){return!a||"object"!==typeof a||"number"!==typeof a.length||"function"!==typeof a.copy||"function"!==typeof a.slice||0<a.length&&"number"!==typeof a[0]?!1:!0}function l(a,
c,e){var g;if(null===a||void 0===a||null===c||void 0===c||a.prototype!==c.prototype)return!1;if(d(a)){if(!d(c))return!1;a=f.call(a);c=f.call(c);return b(a,c,e)}if(h(a)){if(!h(c)||a.length!==c.length)return!1;for(g=0;g<a.length;g++)if(a[g]!==c[g])return!1;return!0}try{var m=k(a);var l=k(c)}catch(w){return!1}if(m.length!=l.length)return!1;m.sort();l.sort();for(g=m.length-1;0<=g;g--)if(m[g]!=l[g])return!1;for(g=m.length-1;0<=g;g--)if(l=m[g],!b(a[l],c[l],e))return!1;return typeof a===typeof c}var f=Array.prototype.slice,
k=a(196),d=a(195),b=c.exports=function(a,b,c){c||(c={});return a===b?!0:a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():!a||!b||"object"!=typeof a&&"object"!=typeof b?c.strict?a===b:a==b:l(a,b,c)}},function(c,e){function a(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function h(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}e="[object Arguments]"==
function(){return Object.prototype.toString.call(arguments)}();e=c.exports=e?a:h;e.supported=a;e.unsupported=h},function(c,e){function a(a){var c=[],e;for(e in a)c.push(e);return c}e=c.exports="function"===typeof Object.keys?Object.keys:a;e.shim=a},function(c,e,a){var h=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};c=function(a){function c(c,d,b){a.call(this);
this.parent=c;this.outerValue=d;this.outerIndex=b;this.index=0}h(c,a);c.prototype._next=function(a){this.parent.notifyNext(this.outerValue,a,this.outerIndex,this.index++,this)};c.prototype._error=function(a){this.parent.notifyError(a,this);this.unsubscribe()};c.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe()};return c}(a(3).Subscriber);e.InnerSubscriber=c},function(c,e,a){var h=a(0);c=function(){function a(a,c,d){this.kind=a;this.value=c;this.error=d;this.hasValue=
"N"===a}a.prototype.observe=function(a){switch(this.kind){case "N":return a.next&&a.next(this.value);case "E":return a.error&&a.error(this.error);case "C":return a.complete&&a.complete()}};a.prototype.do=function(a,c,d){switch(this.kind){case "N":return a&&a(this.value);case "E":return c&&c(this.error);case "C":return d&&d()}};a.prototype.accept=function(a,c,d){return a&&"function"===typeof a.next?this.observe(a):this.do(a,c,d)};a.prototype.toObservable=function(){switch(this.kind){case "N":return h.Observable.of(this.value);
case "E":return h.Observable.throw(this.error);case "C":return h.Observable.empty()}throw Error("unexpected notification kind value");};a.createNext=function(c){return"undefined"!==typeof c?new a("N",c):a.undefinedValueNotification};a.createError=function(c){return new a("E",void 0,c)};a.createComplete=function(){return a.completeNotification};a.completeNotification=new a("C");a.undefinedValueNotification=new a("N",void 0);return a}();e.Notification=c},function(c,e,a){c=function(){function a(c,e){void 0===
e&&(e=a.now);this.SchedulerAction=c;this.now=e}a.prototype.schedule=function(a,c,e){void 0===c&&(c=0);return(new this.SchedulerAction(this,a)).schedule(e,c)};a.now=Date.now?Date.now:function(){return+new Date};return a}();e.Scheduler=c},function(c,e,a){c=a(0);a=a(249);c.Observable.combineLatest=a.combineLatest},function(c,e,a){c=a(0);a=a(250);c.Observable.defer=a.defer},function(c,e,a){c=a(0);a=a(251);c.Observable.empty=a.empty},function(c,e,a){c=a(0);a=a(252);c.Observable.from=a.from},function(c,
e,a){c=a(0);a=a(253);c.Observable.fromEvent=a.fromEvent},function(c,e,a){c=a(0);a=a(254);c.Observable.fromPromise=a.fromPromise},function(c,e,a){c=a(0);a=a(255);c.Observable.interval=a.interval},function(c,e,a){c=a(0);a=a(256);c.Observable.merge=a.merge},function(c,e,a){c=a(0);a=a(257);c.Observable.never=a.never},function(c,e,a){c=a(0);a=a(258);c.Observable.of=a.of},function(c,e,a){c=a(0);a=a(259);c.Observable.throw=a._throw},function(c,e,a){c=a(0);a=a(260);c.Observable.timer=a.timer},function(c,
e,a){c=a(0);a=a(261);c.Observable.prototype.catch=a._catch;c.Observable.prototype._catch=a._catch},function(c,e,a){c=a(0);a=a(84);c.Observable.prototype.concat=a.concat},function(c,e,a){c=a(0);a=a(263);c.Observable.prototype.concatAll=a.concatAll},function(c,e,a){c=a(0);a=a(264);c.Observable.prototype.concatMap=a.concatMap},function(c,e,a){c=a(0);a=a(265);c.Observable.prototype.debounceTime=a.debounceTime},function(c,e,a){c=a(0);a=a(266);c.Observable.prototype.distinctUntilChanged=a.distinctUntilChanged},
function(c,e,a){c=a(0);a=a(267);c.Observable.prototype.do=a._do;c.Observable.prototype._do=a._do},function(c,e,a){c=a(0);a=a(268);c.Observable.prototype.filter=a.filter},function(c,e,a){c=a(0);a=a(269);c.Observable.prototype.finally=a._finally;c.Observable.prototype._finally=a._finally},function(c,e,a){c=a(0);a=a(270);c.Observable.prototype.ignoreElements=a.ignoreElements},function(c,e,a){c=a(0);a=a(271);c.Observable.prototype.map=a.map},function(c,e,a){c=a(0);a=a(272);c.Observable.prototype.mapTo=
a.mapTo},function(c,e,a){c=a(0);a=a(85);c.Observable.prototype.merge=a.merge},function(c,e,a){c=a(0);a=a(86);c.Observable.prototype.mergeMap=a.mergeMap;c.Observable.prototype.flatMap=a.mergeMap},function(c,e,a){c=a(0);a=a(54);c.Observable.prototype.multicast=a.multicast},function(c,e,a){c=a(0);a=a(273);c.Observable.prototype.pairwise=a.pairwise},function(c,e,a){c=a(0);a=a(274);c.Observable.prototype.publish=a.publish},function(c,e,a){c=a(0);a=a(275);c.Observable.prototype.scan=a.scan},function(c,
e,a){c=a(0);a=a(276);c.Observable.prototype.share=a.share},function(c,e,a){c=a(0);a=a(277);c.Observable.prototype.skip=a.skip},function(c,e,a){c=a(0);a=a(278);c.Observable.prototype.skipUntil=a.skipUntil},function(c,e,a){c=a(0);a=a(279);c.Observable.prototype.startWith=a.startWith},function(c,e,a){c=a(0);a=a(280);c.Observable.prototype.switchMap=a.switchMap},function(c,e,a){c=a(0);a=a(281);c.Observable.prototype.switchMapTo=a.switchMapTo},function(c,e,a){c=a(0);a=a(282);c.Observable.prototype.take=
a.take},function(c,e,a){c=a(0);a=a(283);c.Observable.prototype.takeUntil=a.takeUntil},function(c,e,a){c=a(0);a=a(284);c.Observable.prototype.timeout=a.timeout},function(c,e,a){var h=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};c=a(0);var l=a(52),f=a(26);a=function(a){function c(b,c){a.call(this);this.arrayLike=b;this.scheduler=c;c||1!==b.length||(this._isScalar=
!0,this.value=b[0])}h(c,a);c.create=function(a,d){var b=a.length;return 0===b?new f.EmptyObservable:1===b?new l.ScalarObservable(a[0],d):new c(a,d)};c.dispatch=function(a){var b=a.arrayLike,c=a.index,d=a.subscriber;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.schedule(a)))};c.prototype._subscribe=function(a){var b=this.arrayLike,d=this.scheduler,e=b.length;if(d)return d.schedule(c.dispatch,0,{arrayLike:b,index:0,length:e,subscriber:a});for(d=0;d<e&&!a.closed;d++)a.next(b[d]);
a.complete()};return c}(c.Observable);e.ArrayLikeObservable=a},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};c=a(7);var l=a(0),f=a(3),k=a(15);a=function(a){function c(b,c){a.call(this);this.source=b;this.subjectFactory=c;this._refCount=0;this._isComplete=!1}h(c,a);c.prototype._subscribe=function(a){return this.getSubject().subscribe(a)};
c.prototype.getSubject=function(){var a=this._subject;if(!a||a.isStopped)this._subject=this.subjectFactory();return this._subject};c.prototype.connect=function(){var a=this._connection;a||(this._isComplete=!1,a=this._connection=new k.Subscription,a.add(this.source.subscribe(new d(this.getSubject(),this))),a.closed?(this._connection=null,a=k.Subscription.EMPTY):this._connection=a);return a};c.prototype.refCount=function(){return this.lift(new b(this))};return c}(l.Observable);e.ConnectableObservable=
a;a=a.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:a._subscribe},_isComplete:{value:a._isComplete,writable:!0},getSubject:{value:a.getSubject},connect:{value:a.connect},refCount:{value:a.refCount}};var d=function(a){function b(b,c){a.call(this,b);this.connectable=c}h(b,a);b.prototype._error=function(b){this._unsubscribe();a.prototype._error.call(this,b)};b.prototype._complete=
function(){this.connectable._isComplete=!0;this._unsubscribe();a.prototype._complete.call(this)};b.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var b=a._connection;a._refCount=0;a._subject=null;a._connection=null;b&&b.unsubscribe()}};return b}(c.SubjectSubscriber),b=function(){function a(a){this.connectable=a}a.prototype.call=function(a,b){var c=this.connectable;c._refCount++;a=new g(a,c);b=b.subscribe(a);a.closed||(a.connection=c.connect());return b};return a}(),
g=function(a){function b(b,c){a.call(this,b);this.connectable=c}h(b,a);b.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var b=a._refCount;0>=b?this.connection=null:(a._refCount=b-1,1<b?this.connection=null:(b=this.connection,a=a._connection,this.connection=null,!a||b&&a!==b||a.unsubscribe()))}else this.connection=null};return b}(f.Subscriber)},function(c,e,a){var h=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&
(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};c=a(0);var l=a(12);a=a(11);c=function(a){function c(b){a.call(this);this.observableFactory=b}h(c,a);c.create=function(a){return new c(a)};c.prototype._subscribe=function(a){return new f(a,this.observableFactory)};return c}(c.Observable);e.DeferObservable=c;var f=function(a){function c(b,c){a.call(this,b);this.factory=c;this.tryDefer()}h(c,a);c.prototype.tryDefer=function(){try{this._callFactory()}catch(b){this._error(b)}};
c.prototype._callFactory=function(){var a=this.factory();a&&this.add(l.subscribeToResult(this,a))};return c}(a.OuterSubscriber)},function(c,e,a){var h=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};c=function(a){function c(c,d){a.call(this);this.error=c;this.scheduler=d}h(c,a);c.create=function(a,d){return new c(a,d)};c.dispatch=function(a){a.subscriber.error(a.error)};
c.prototype._subscribe=function(a){var d=this.error,b=this.scheduler;a.syncErrorThrowable=!0;if(b)return b.schedule(c.dispatch,0,{error:d,subscriber:a});a.error(d)};return c}(a(0).Observable);e.ErrorObservable=c},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};c=a(0);var l=a(60),f=a(59),k=a(34),d=a(15),b=Object.prototype.toString;a=function(a){function c(b,
c,d,e){a.call(this);this.sourceObj=b;this.eventName=c;this.selector=d;this.options=e}h(c,a);c.create=function(a,b,d,e){f.isFunction(d)&&(e=d,d=void 0);return new c(a,b,e,d)};c.setupSubscription=function(a,e,g,f,k){if(a&&"[object NodeList]"===b.call(a)||a&&"[object HTMLCollection]"===b.call(a))for(var h=0,m=a.length;h<m;h++)c.setupSubscription(a[h],e,g,f,k);else if(a&&"function"===typeof a.addEventListener&&"function"===typeof a.removeEventListener){a.addEventListener(e,g,k);var l=function(){return a.removeEventListener(e,
g)}}else if(a&&"function"===typeof a.on&&"function"===typeof a.off)a.on(e,g),l=function(){return a.off(e,g)};else if(a&&"function"===typeof a.addListener&&"function"===typeof a.removeListener)a.addListener(e,g),l=function(){return a.removeListener(e,g)};else throw new TypeError("Invalid event target");f.add(new d.Subscription(l))};c.prototype._subscribe=function(a){var b=this.selector;c.setupSubscription(this.sourceObj,this.eventName,b?function(){for(var c=[],d=0;d<arguments.length;d++)c[d-0]=arguments[d];
c=l.tryCatch(b).apply(void 0,c);c===k.errorObject?a.error(k.errorObject.e):a.next(c)}:function(b){return a.next(b)},a,this.options)};return c}(c.Observable);e.FromEventObservable=a},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(27),f=a(91),k=a(95),d=a(83),b=a(246),g=a(17),m=a(239),n=a(55),p=a(0),q=a(87),r=a(56);c=function(a){function c(b,
c){a.call(this,null);this.ish=b;this.scheduler=c}h(c,a);c.create=function(a,e){if(null!=a){if("function"===typeof a[r.observable])return a instanceof p.Observable&&!e?a:new c(a,e);if(l.isArray(a))return new g.ArrayObservable(a,e);if(k.isPromise(a))return new d.PromiseObservable(a,e);if("function"===typeof a[n.iterator]||"string"===typeof a)return new b.IteratorObservable(a,e);if(f.isArrayLike(a))return new m.ArrayLikeObservable(a,e)}throw new TypeError((null!==a&&typeof a||a)+" is not observable");
};c.prototype._subscribe=function(a){var b=this.ish,c=this.scheduler;return null==c?b[r.observable]().subscribe(a):b[r.observable]().subscribe(new q.ObserveOnSubscriber(a,c,0))};return c}(p.Observable);e.FromObservable=c},function(c,e,a){var h=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)},l=a(93);c=a(0);var f=a(33);a=function(a){function c(b,c){void 0===b&&(b=
0);void 0===c&&(c=f.async);a.call(this);this.period=b;this.scheduler=c;if(!l.isNumeric(b)||0>b)this.period=0;c&&"function"===typeof c.schedule||(this.scheduler=f.async)}h(c,a);c.create=function(a,d){void 0===a&&(a=0);void 0===d&&(d=f.async);return new c(a,d)};c.dispatch=function(a){var b=a.subscriber,c=a.period;b.next(a.index);b.closed||(a.index+=1,this.schedule(a,c))};c.prototype._subscribe=function(a){var b=this.period;a.add(this.scheduler.schedule(c.dispatch,b,{index:0,subscriber:a,period:b}))};
return c}(c.Observable);e.IntervalObservable=a},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(16);c=a(0);var f=a(55);a=function(a){function b(b,c){a.call(this);this.scheduler=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[f.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");
b=b[f.iterator]()}else b=new d(b);else b=new k(b);this.iterator=b}h(b,a);b.create=function(a,c){return new b(a,c)};b.dispatch=function(a){var b=a.index,c=a.iterator,d=a.subscriber;if(a.hasError)d.error(a.error);else{var e=c.next();e.done?d.complete():(d.next(e.value),a.index=b+1,d.closed?"function"===typeof c.return&&c.return():this.schedule(a))}};b.prototype._subscribe=function(a){var c=this.iterator,d=this.scheduler;if(d)return d.schedule(b.dispatch,0,{index:0,iterator:c,subscriber:a});do{d=c.next();
if(d.done){a.complete();break}else a.next(d.value);if(a.closed){"function"===typeof c.return&&c.return();break}}while(1)};return b}(c.Observable);e.IteratorObservable=a;var k=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.str=a;this.idx=b;this.len=c}a.prototype[f.iterator]=function(){return this};a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}};return a}(),d=function(){function a(a,c,d){void 0===
c&&(c=0);if(void 0===d)if(d=+a.length,isNaN(d))d=0;else if(0!==d&&"number"===typeof d&&l.root.isFinite(d)){var e=+d;e=0===e?e:isNaN(e)?e:0>e?-1:1;d=e*Math.floor(Math.abs(d));d=0>=d?0:d>b?b:d}this.arr=a;this.idx=c;this.len=d}a.prototype[f.iterator]=function(){return this};a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}};return a}(),b=Math.pow(2,53)-1},function(c,e,a){var h=this&&this.__extends||function(a,c){function d(){this.constructor=
a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)};c=a(0);var l=a(96);a=function(a){function c(){a.call(this)}h(c,a);c.create=function(){return new c};c.prototype._subscribe=function(a){l.noop()};return c}(c.Observable);e.NeverObservable=a},function(c,e,a){var h=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,
new b)},l=a(93);c=a(0);var f=a(33),k=a(21),d=a(92);a=function(a){function b(b,c,e){void 0===b&&(b=0);a.call(this);this.period=-1;this.dueTime=0;l.isNumeric(c)?this.period=1>Number(c)&&1||Number(c):k.isScheduler(c)&&(e=c);k.isScheduler(e)||(e=f.async);this.scheduler=e;this.dueTime=d.isDate(b)?+b-this.scheduler.now():b}h(b,a);b.create=function(a,c,d){void 0===a&&(a=0);return new b(a,c,d)};b.dispatch=function(a){var b=a.index,c=a.period,d=a.subscriber;d.next(b);if(!d.closed){if(-1===c)return d.complete();
a.index=b+1;this.schedule(a,c)}};b.prototype._subscribe=function(a){return this.scheduler.schedule(b.dispatch,this.dueTime,{index:0,period:this.period,subscriber:a})};return b}(c.Observable);e.TimerObservable=a},function(c,e,a){var h=a(21),l=a(27),f=a(17),k=a(262);e.combineLatest=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];var c=b=null;h.isScheduler(a[a.length-1])&&(c=a.pop());"function"===typeof a[a.length-1]&&(b=a.pop());1===a.length&&l.isArray(a[0])&&(a=a[0]);return(new f.ArrayObservable(a,
c)).lift(new k.CombineLatestOperator(b))}},function(c,e,a){c=a(241);e.defer=c.DeferObservable.create},function(c,e,a){c=a(26);e.empty=c.EmptyObservable.create},function(c,e,a){c=a(244);e.from=c.FromObservable.create},function(c,e,a){c=a(243);e.fromEvent=c.FromEventObservable.create},function(c,e,a){c=a(83);e.fromPromise=c.PromiseObservable.create},function(c,e,a){c=a(245);e.interval=c.IntervalObservable.create},function(c,e,a){c=a(85);e.merge=c.mergeStatic},function(c,e,a){c=a(247);e.never=c.NeverObservable.create},
function(c,e,a){c=a(17);e.of=c.ArrayObservable.of},function(c,e,a){c=a(242);e._throw=c.ErrorObservable.create},function(c,e,a){c=a(248);e.timer=c.TimerObservable.create},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};c=a(11);var l=a(12);e._catch=function(a){a=new f(a);var b=this.lift(a);return a.caught=b};var f=function(){function a(a){this.selector=
a}a.prototype.call=function(a,c){return c.subscribe(new k(a,this.selector,this.caught))};return a}(),k=function(a){function b(b,c,d){a.call(this,b);this.selector=c;this.caught=d}h(b,a);b.prototype.error=function(b){if(!this.isStopped){var c=void 0;try{c=this.selector(b,this.caught)}catch(n){a.prototype.error.call(this,n);return}this._unsubscribeAndRecycle();this.add(l.subscribeToResult(this,c))}};return b}(c.OuterSubscriber)},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(17),f=a(27);c=a(11);var k=a(12),d={};e.combineLatest=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];c=null;"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&f.isArray(a[0])&&(a=a[0].slice());a.unshift(this);return this.lift.call(new l.ArrayObservable(a),new b(c))};var b=function(){function a(a){this.project=a}a.prototype.call=function(a,b){return b.subscribe(new g(a,
this.project))};return a}();e.CombineLatestOperator=b;var g=function(a){function b(b,c){a.call(this,b);this.project=c;this.active=0;this.values=[];this.observables=[]}h(b,a);b.prototype._next=function(a){this.values.push(d);this.observables.push(a)};b.prototype._complete=function(){var a=this.observables,b=a.length;if(0===b)this.destination.complete();else{this.toRespond=this.active=b;for(var c=0;c<b;c++){var d=a[c];this.add(k.subscribeToResult(this,d,d,c))}}};b.prototype.notifyComplete=function(a){0===
--this.active&&this.destination.complete()};b.prototype.notifyNext=function(a,b,c,e,g){a=this.values;e=a[c];e=this.toRespond?e===d?--this.toRespond:this.toRespond:0;a[c]=b;0===e&&(this.project?this._tryProject(a):this.destination.next(a.slice()))};b.prototype._tryProject=function(a){try{var b=this.project.apply(this,a)}catch(r){this.destination.error(r);return}this.destination.next(b)};return b}(c.OuterSubscriber);e.CombineLatestSubscriber=g},function(c,e,a){var h=a(53);e.concatAll=function(){return this.lift(new h.MergeAllOperator(1))}},
function(c,e,a){var h=a(86);e.concatMap=function(a,c){return this.lift(new h.MergeMapOperator(a,c,1))}},function(c,e,a){function h(a){a.debouncedNext()}var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};c=a(3);var f=a(33);e.debounceTime=function(a,c){void 0===c&&(c=f.async);return this.lift(new k(a,c))};var k=function(){function a(a,b){this.dueTime=a;this.scheduler=
b}a.prototype.call=function(a,b){return b.subscribe(new d(a,this.dueTime,this.scheduler))};return a}(),d=function(a){function b(b,c,d){a.call(this,b);this.dueTime=c;this.scheduler=d;this.lastValue=this.debouncedSubscription=null;this.hasValue=!1}l(b,a);b.prototype._next=function(a){this.clearDebounce();this.lastValue=a;this.hasValue=!0;this.add(this.debouncedSubscription=this.scheduler.schedule(h,this.dueTime,this))};b.prototype._complete=function(){this.debouncedNext();this.destination.complete()};
b.prototype.debouncedNext=function(){this.clearDebounce();this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)};b.prototype.clearDebounce=function(){var a=this.debouncedSubscription;null!==a&&(this.remove(a),a.unsubscribe(),this.debouncedSubscription=null)};return b}(c.Subscriber)},function(c,e,a){var h=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=
c.prototype,new b)};c=a(3);var l=a(60),f=a(34);e.distinctUntilChanged=function(a,c){return this.lift(new k(a,c))};var k=function(){function a(a,b){this.compare=a;this.keySelector=b}a.prototype.call=function(a,b){return b.subscribe(new d(a,this.compare,this.keySelector))};return a}(),d=function(a){function b(b,c,d){a.call(this,b);this.keySelector=d;this.hasKey=!1;"function"===typeof c&&(this.compare=c)}h(b,a);b.prototype.compare=function(a,b){return a===b};b.prototype._next=function(a){var b=a;if(this.keySelector&&
(b=l.tryCatch(this.keySelector)(a),b===f.errorObject))return this.destination.error(f.errorObject.e);var c=!1;if(this.hasKey){if(c=l.tryCatch(this.compare)(this.key,b),c===f.errorObject)return this.destination.error(f.errorObject.e)}else this.hasKey=!0;!1===!!c&&(this.key=b,this.destination.next(a))};return b}(c.Subscriber)},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):
(c.prototype=b.prototype,new c)},l=a(3);e._do=function(a,b,c){return this.lift(new f(a,b,c))};var f=function(){function a(a,c,d){this.nextOrObserver=a;this.error=c;this.complete=d}a.prototype.call=function(a,c){return c.subscribe(new k(a,this.nextOrObserver,this.error,this.complete))};return a}(),k=function(a){function b(b,c,d,e){a.call(this,b);b=new l.Subscriber(c,d,e);b.syncErrorThrowable=!0;this.add(b);this.safeSubscriber=b}h(b,a);b.prototype._next=function(a){var b=this.safeSubscriber;b.next(a);
b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.next(a)};b.prototype._error=function(a){var b=this.safeSubscriber;b.error(a);b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.error(a)};b.prototype._complete=function(){var a=this.safeSubscriber;a.complete();a.syncErrorThrown?this.destination.error(a.syncErrorValue):this.destination.complete()};return b}(l.Subscriber)},function(c,e,a){var h=this&&this.__extends||function(a,c){function b(){this.constructor=
a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};c=a(3);e.filter=function(a,c){return this.lift(new l(a,c))};var l=function(){function a(a,b){this.predicate=a;this.thisArg=b}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.predicate,this.thisArg))};return a}(),f=function(a){function c(b,c,d){a.call(this,b);this.predicate=c;this.thisArg=d;this.count=0}h(c,a);c.prototype._next=function(a){try{var b=this.predicate.call(this.thisArg,
a,this.count++)}catch(m){this.destination.error(m);return}b&&this.destination.next(a)};return c}(c.Subscriber)},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};c=a(3);var l=a(15);e._finally=function(a){return this.lift(new f(a))};var f=function(){function a(a){this.callback=a}a.prototype.call=function(a,c){return c.subscribe(new k(a,this.callback))};
return a}(),k=function(a){function b(b,c){a.call(this,b);this.add(new l.Subscription(c))}h(b,a);return b}(c.Subscriber)},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};c=a(3);var l=a(96);e.ignoreElements=function(){return this.lift(new f)};var f=function(){function a(){}a.prototype.call=function(a,c){return c.subscribe(new k(a))};return a}(),
k=function(a){function b(){a.apply(this,arguments)}h(b,a);b.prototype._next=function(a){l.noop()};return b}(c.Subscriber)},function(c,e,a){var h=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};c=a(3);e.map=function(a,c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new l(a,c))};var l=
function(){function a(a,b){this.project=a;this.thisArg=b}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.project,this.thisArg))};return a}();e.MapOperator=l;var f=function(a){function c(b,c,d){a.call(this,b);this.project=c;this.count=0;this.thisArg=d||this}h(c,a);c.prototype._next=function(a){try{var b=this.project.call(this.thisArg,a,this.count++)}catch(m){this.destination.error(m);return}this.destination.next(b)};return c}(c.Subscriber)},function(c,e,a){var h=this&&this.__extends||
function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};c=a(3);e.mapTo=function(a){return this.lift(new l(a))};var l=function(){function a(a){this.value=a}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.value))};return a}(),f=function(a){function c(b,c){a.call(this,b);this.value=c}h(c,a);c.prototype._next=function(a){this.destination.next(this.value)};return c}(c.Subscriber)},
function(c,e,a){var h=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};c=a(3);e.pairwise=function(){return this.lift(new l)};var l=function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new f(a))};return a}(),f=function(a){function c(b){a.call(this,b);this.hasPrev=!1}h(c,a);c.prototype._next=function(a){this.hasPrev?this.destination.next([this.prev,
a]):this.hasPrev=!0;this.prev=a};return c}(c.Subscriber)},function(c,e,a){var h=a(7),l=a(54);e.publish=function(a){return a?l.multicast.call(this,function(){return new h.Subject},a):l.multicast.call(this,new h.Subject)}},function(c,e,a){var h=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};c=a(3);e.scan=function(a,c){var b=!1;2<=arguments.length&&(b=!0);return this.lift(new l(a,
c,b))};var l=function(){function a(a,b,c){void 0===c&&(c=!1);this.accumulator=a;this.seed=b;this.hasSeed=c}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.accumulator,this.seed,this.hasSeed))};return a}(),f=function(a){function c(b,c,d,e){a.call(this,b);this.accumulator=c;this._seed=d;this.hasSeed=e;this.index=0}h(c,a);Object.defineProperty(c.prototype,"seed",{get:function(){return this._seed},set:function(a){this.hasSeed=!0;this._seed=a},enumerable:!0,configurable:!0});c.prototype._next=
function(a){if(this.hasSeed)return this._tryNext(a);this.seed=a;this.destination.next(a)};c.prototype._tryNext=function(a){var b=this.index++;try{var c=this.accumulator(this.seed,a,b)}catch(n){this.destination.error(n)}this.seed=c;this.destination.next(c)};return c}(c.Subscriber)},function(c,e,a){function h(){return new f.Subject}var l=a(54),f=a(7);e.share=function(){return l.multicast.call(this,h).refCount()}},function(c,e,a){var h=this&&this.__extends||function(a,c){function b(){this.constructor=
a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};c=a(3);e.skip=function(a){return this.lift(new l(a))};var l=function(){function a(a){this.total=a}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.total))};return a}(),f=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0}h(c,a);c.prototype._next=function(a){++this.count>this.total&&this.destination.next(a)};return c}(c.Subscriber)},function(c,e,a){var h=
this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};c=a(11);var l=a(12);e.skipUntil=function(a){return this.lift(new f(a))};var f=function(){function a(a){this.notifier=a}a.prototype.call=function(a,c){return c.subscribe(new k(a,this.notifier))};return a}(),k=function(a){function b(b,c){a.call(this,b);this.isInnerStopped=this.hasValue=!1;this.add(l.subscribeToResult(this,
c))}h(b,a);b.prototype._next=function(b){this.hasValue&&a.prototype._next.call(this,b)};b.prototype._complete=function(){this.isInnerStopped?a.prototype._complete.call(this):this.unsubscribe()};b.prototype.notifyNext=function(a,b,c,d,e){this.hasValue=!0};b.prototype.notifyComplete=function(){this.isInnerStopped=!0;this.isStopped&&a.prototype._complete.call(this)};return b}(c.OuterSubscriber)},function(c,e,a){var h=a(17),l=a(52),f=a(26),k=a(84),d=a(21);e.startWith=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-
0]=arguments[c];c=a[a.length-1];d.isScheduler(c)?a.pop():c=null;var e=a.length;return 1===e?k.concatStatic(new l.ScalarObservable(a[0],c),this):1<e?k.concatStatic(new h.ArrayObservable(a,c),this):k.concatStatic(new f.EmptyObservable(c),this)}},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};c=a(11);var l=a(12);e.switchMap=function(a,b){return this.lift(new f(a,
b))};var f=function(){function a(a,c){this.project=a;this.resultSelector=c}a.prototype.call=function(a,c){return c.subscribe(new k(a,this.project,this.resultSelector))};return a}(),k=function(a){function b(b,c,d){a.call(this,b);this.project=c;this.resultSelector=d;this.index=0}h(b,a);b.prototype._next=function(a){var b=this.index++;try{var c=this.project(a,b)}catch(p){this.destination.error(p);return}this._innerSub(c,a,b)};b.prototype._innerSub=function(a,b,c){var d=this.innerSubscription;d&&d.unsubscribe();
this.add(this.innerSubscription=l.subscribeToResult(this,a,b,c))};b.prototype._complete=function(){var b=this.innerSubscription;b&&!b.closed||a.prototype._complete.call(this)};b.prototype._unsubscribe=function(){this.innerSubscription=null};b.prototype.notifyComplete=function(b){this.remove(b);this.innerSubscription=null;this.isStopped&&a.prototype._complete.call(this)};b.prototype.notifyNext=function(a,b,c,d,e){this.resultSelector?this._tryNotifyNext(a,b,c,d):this.destination.next(b)};b.prototype._tryNotifyNext=
function(a,b,c,d){try{var e=this.resultSelector(a,b,c,d)}catch(r){this.destination.error(r);return}this.destination.next(e)};return b}(c.OuterSubscriber)},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};c=a(11);var l=a(12);e.switchMapTo=function(a,b){return this.lift(new f(a,b))};var f=function(){function a(a,c){this.observable=a;this.resultSelector=
c}a.prototype.call=function(a,c){return c.subscribe(new k(a,this.observable,this.resultSelector))};return a}(),k=function(a){function b(b,c,d){a.call(this,b);this.inner=c;this.resultSelector=d;this.index=0}h(b,a);b.prototype._next=function(a){var b=this.innerSubscription;b&&b.unsubscribe();this.add(this.innerSubscription=l.subscribeToResult(this,this.inner,a,this.index++))};b.prototype._complete=function(){var b=this.innerSubscription;b&&!b.closed||a.prototype._complete.call(this)};b.prototype._unsubscribe=
function(){this.innerSubscription=null};b.prototype.notifyComplete=function(b){this.remove(b);this.innerSubscription=null;this.isStopped&&a.prototype._complete.call(this)};b.prototype.notifyNext=function(a,b,c,d,e){e=this.destination;this.resultSelector?this.tryResultSelector(a,b,c,d):e.next(b)};b.prototype.tryResultSelector=function(a,b,c,d){var e=this.resultSelector,f=this.destination;try{var g=e(a,b,c,d)}catch(t){f.error(t);return}f.next(g)};return b}(c.OuterSubscriber)},function(c,e,a){var h=
this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};c=a(3);var l=a(289),f=a(26);e.take=function(a){return 0===a?new f.EmptyObservable:this.lift(new k(a))};var k=function(){function a(a){this.total=a;if(0>this.total)throw new l.ArgumentOutOfRangeError;}a.prototype.call=function(a,b){return b.subscribe(new d(a,this.total))};return a}(),d=function(a){function b(b,c){a.call(this,
b);this.total=c;this.count=0}h(b,a);b.prototype._next=function(a){var b=this.total,c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()))};return b}(c.Subscriber)},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};c=a(11);var l=a(12);e.takeUntil=function(a){return this.lift(new f(a))};var f=function(){function a(a){this.notifier=
a}a.prototype.call=function(a,c){return c.subscribe(new k(a,this.notifier))};return a}(),k=function(a){function b(b,c){a.call(this,b);this.notifier=c;this.add(l.subscribeToResult(this,c))}h(b,a);b.prototype.notifyNext=function(a,b,c,d,e){this.complete()};b.prototype.notifyComplete=function(){};return b}(c.OuterSubscriber)},function(c,e,a){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):
(c.prototype=b.prototype,new c)},l=a(33),f=a(92);c=a(3);var k=a(90);e.timeout=function(a,b){void 0===b&&(b=l.async);var c=f.isDate(a);a=c?+a-b.now():Math.abs(a);return this.lift(new d(a,c,b,new k.TimeoutError))};var d=function(){function a(a,b,c,d){this.waitFor=a;this.absoluteTimeout=b;this.scheduler=c;this.errorInstance=d}a.prototype.call=function(a,c){return c.subscribe(new b(a,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))};return a}(),b=function(a){function b(b,c,d,e,f){a.call(this,
b);this.absoluteTimeout=c;this.waitFor=d;this.scheduler=e;this.errorInstance=f;this.action=null;this.scheduleTimeout()}h(b,a);b.dispatchTimeout=function(a){a.error(a.errorInstance)};b.prototype.scheduleTimeout=function(){var a=this.action;a?this.action=a.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(b.dispatchTimeout,this.waitFor,this))};b.prototype._next=function(b){this.absoluteTimeout||this.scheduleTimeout();a.prototype._next.call(this,b)};b.prototype._unsubscribe=function(){this.errorInstance=
this.scheduler=this.action=null};return b}(c.Subscriber)},function(c,e,a){var h=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};c=function(a){function c(c,d){a.call(this)}h(c,a);c.prototype.schedule=function(a,c){return this};return c}(a(15).Subscription);e.Action=c},function(c,e,a){var h=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&
(a[d]=c[d]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};c=function(a){function c(c,d){a.call(this,c,d);this.scheduler=c;this.work=d}h(c,a);c.prototype.schedule=function(c,d){void 0===d&&(d=0);if(0<d)return a.prototype.schedule.call(this,c,d);this.delay=d;this.state=c;this.scheduler.flush(this);return this};c.prototype.execute=function(c,d){return 0<d||this.closed?a.prototype.execute.call(this,c,d):this._execute(c,d)};c.prototype.requestAsyncId=function(c,d,b){void 0===b&&
(b=0);return null!==b&&0<b||null===b&&0<this.delay?a.prototype.requestAsyncId.call(this,c,d,b):c.flush(this)};return c}(a(88).AsyncAction);e.QueueAction=c},function(c,e,a){var h=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};c=function(a){function c(){a.apply(this,arguments)}h(c,a);return c}(a(89).AsyncScheduler);e.QueueScheduler=c},function(c,e,a){c=a(286);a=
a(287);e.queue=new a.QueueScheduler(c.QueueAction)},function(c,e,a){var h=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};c=function(a){function c(){var c=a.call(this,"argument out of range");this.name=c.name="ArgumentOutOfRangeError";this.stack=c.stack;this.message=c.message}h(c,a);return c}(Error);e.ArgumentOutOfRangeError=c},function(c,e,a){var h=this&&this.__extends||
function(a,c){function e(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};c=function(a){function c(c){a.call(this);this.errors=c;c=Error.call(this,c?c.length+" errors occurred during unsubscription:\n  "+c.map(function(a,b){return b+1+") "+a.toString()}).join("\n  "):"");this.name=c.name="UnsubscriptionError";this.stack=c.stack;this.message=c.message}h(c,a);return c}(Error);e.UnsubscriptionError=c},function(c,
e,a){var h=a(3),l=a(57),f=a(80);e.toSubscriber=function(a,c,b){if(a){if(a instanceof h.Subscriber)return a;if(a[l.rxSubscriber])return a[l.rxSubscriber]()}return a||c||b?new h.Subscriber(a,c,b):new h.Subscriber(f.empty)}},function(c,e){e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(a){"object"===typeof window&&(e=window)}c.exports=e}])});
