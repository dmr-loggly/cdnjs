var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(d,g,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[g]=a.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var g=0;return $jscomp.iteratorPrototype(function(){return g<d.length?{done:!1,value:d[g++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(d,g){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var a=0,l={next:function(){if(a<d.length){var k=a++;return{value:g(k,d[k]),done:!1}}l.next=function(){return{done:!0,value:void 0}};return l.next()}};l[Symbol.iterator]=function(){return l};return l};
$jscomp.polyfill=function(d,g,a,l){if(g){a=$jscomp.global;d=d.split(".");for(l=0;l<d.length-1;l++){var k=d[l];k in a||(a[k]={});a=a[k]}d=d[d.length-1];l=a[d];g=g(l);g!=l&&null!=g&&$jscomp.defineProperty(a,d,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6-impl","es3");$jscomp.owns=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)};
$jscomp.polyfill("Object.assign",function(d){return d?d:function(d,a){for(var g=1;g<arguments.length;g++){var k=arguments[g];if(k)for(var h in k)$jscomp.owns(k,h)&&(d[h]=k[h])}return d}},"es6-impl","es3");$jscomp.findInternal=function(d,g,a){d instanceof String&&(d=String(d));for(var l=d.length,k=0;k<l;k++){var h=d[k];if(g.call(a,h,k,d))return{i:k,v:h}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(d,a){return $jscomp.findInternal(this,d,a).v}},"es6-impl","es3");$jscomp.checkStringArgs=function(d,g,a){if(null==d)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(g instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return d+""};
$jscomp.polyfill("String.prototype.includes",function(d){return d?d:function(d,a){return-1!==$jscomp.checkStringArgs(this,d,"includes").indexOf(d,a||0)}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.values",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d,a){return a})}},"es6","es3");
(function(d,g){"object"===typeof exports&&"object"===typeof module?module.exports=g():"function"===typeof define&&define.amd?define([],g):"object"===typeof exports?exports.RxPlayer=g():d.RxPlayer=g()})(this,function(){return function(d){function g(l){if(a[l])return a[l].exports;var k=a[l]={i:l,l:!1,exports:{}};d[l].call(k.exports,k,k.exports,g);k.l=!0;return k.exports}var a={};g.m=d;g.c=a;g.i=function(a){return a};g.d=function(a,k,h){g.o(a,k)||Object.defineProperty(a,k,{configurable:!1,enumerable:!0,
get:h})};g.n=function(a){var k=a&&a.__esModule?function(){return a["default"]}:function(){return a};g.d(k,"a",k);return k};g.o=function(a,k){return Object.prototype.hasOwnProperty.call(a,k)};g.p="";return g(g.s=75)}([function(d,g,a){var l=a(6),k=a(173),h=a(35);d=function(){function a(a){this._isScalar=!1;a&&(this._subscribe=a)}a.prototype.lift=function(c){var e=new a;e.source=this;e.operator=c;return e};a.prototype.subscribe=function(a,e,b){var c=this.operator;a=k.toSubscriber(a,e,b);c?c.call(a,this.source):
a.add(this._subscribe(a));if(a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a};a.prototype.forEach=function(a,e){var b=this;e||(l.root.Rx&&l.root.Rx.config&&l.root.Rx.config.Promise?e=l.root.Rx.config.Promise:l.root.Promise&&(e=l.root.Promise));if(!e)throw Error("no Promise impl found");return new e(function(c,e){var m=b.subscribe(function(b){if(m)try{a(b)}catch(q){e(q),m.unsubscribe()}else a(b)},e,c)})};a.prototype._subscribe=function(a){return this.source.subscribe(a)};
a.prototype[h.$$observable]=function(){return this};a.create=function(c){return new a(c)};return a}();g.Observable=d},function(d,g,a){function l(a){this.name="AssertionError";this.message=a;Error.captureStackTrace&&Error.captureStackTrace(this,l)}function k(a,c){if(!a)throw new l(c);}var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};l.prototype=
Error();k.equal=function(a,c,e){return k(a===c,e)};k.iface=function(a,c,e){k(a,c+" should be an object");for(var b in e)k.equal(h(a[b]),e[b],c+" should have property "+b+" as a "+e[b])};g.a=k},function(d,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},k=a(37);d=a(4);var h=a(47),f=a(36);a=function(a){function b(e,f,p){a.call(this);this.syncErrorValue=
null;this.isStopped=this.syncErrorThrowable=this.syncErrorThrown=!1;switch(arguments.length){case 0:this.destination=h.empty;break;case 1:if(!e){this.destination=h.empty;break}if("object"===typeof e){e instanceof b?(this.destination=e,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,e,f,p)}}l(b,a);b.prototype[f.$$rxSubscriber]=function(){return this};b.create=function(a,c,e){a=new b(a,c,e);
a.syncErrorThrowable=!1;return a};b.prototype.next=function(a){this.isStopped||this._next(a)};b.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))};b.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())};b.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))};b.prototype._next=function(a){this.destination.next(a)};b.prototype._error=function(a){this.destination.error(a);this.unsubscribe()};b.prototype._complete=
function(){this.destination.complete();this.unsubscribe()};return b}(d.Subscription);g.Subscriber=a;var c=function(a){function b(b,c,e,f){a.call(this);this._parent=b;var m;b=this;k.isFunction(c)?m=c:c&&(b=c,m=c.next,e=c.error,f=c.complete,k.isFunction(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this));this._context=b;this._next=m;this._error=e;this._complete=f}l(b,a);b.prototype.next=function(a){if(!this.isStopped&&this._next){var b=this._parent;b.syncErrorThrowable?
this.__tryOrSetError(b,this._next,a)&&this.unsubscribe():this.__tryOrUnsub(this._next,a)}};b.prototype.error=function(a){if(!this.isStopped){var b=this._parent;if(this._error)b.syncErrorThrowable?this.__tryOrSetError(b,this._error,a):this.__tryOrUnsub(this._error,a),this.unsubscribe();else if(b.syncErrorThrowable)b.syncErrorValue=a,b.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};b.prototype.complete=function(){if(!this.isStopped){var a=this._parent;this._complete&&(a.syncErrorThrowable?
this.__tryOrSetError(a,this._complete):this.__tryOrUnsub(this._complete));this.unsubscribe()}};b.prototype.__tryOrUnsub=function(a,b){try{a.call(this._context,b)}catch(p){throw this.unsubscribe(),p;}};b.prototype.__tryOrSetError=function(a,b,c){try{b.call(this._context,c)}catch(r){return a.syncErrorValue=r,a.syncErrorThrown=!0}return!1};b.prototype._unsubscribe=function(){var a=this._parent;this._parent=this._context=null;a.unsubscribe()};return b}(a)},function(d,g,a){function l(){}var k={NONE:0,
ERROR:1,WARNING:2,INFO:3,DEBUG:4},h=function(){};l.error=h;l.warn=h;l.info=h;l.debug=h;l.setLevel=function(a){"string"==typeof a&&(a=k[a]);l.error=a>=k.ERROR?console.error.bind(console):h;l.warn=a>=k.WARNING?console.warn.bind(console):h;l.info=a>=k.INFO?console.info.bind(console):h;l.debug=a>=k.DEBUG?console.log.bind(console):h};g.a=l},function(d,g,a){function l(a){return a.reduce(function(a,b){return a.concat(b instanceof m.UnsubscriptionError?b.errors:b)},[])}var k=this&&this.__extends||function(a,
b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},h=a(16),f=a(59),c=a(37),e=a(38),b=a(25),m=a(172);d=function(){function a(a){this.closed=!1;a&&(this._unsubscribe=a)}a.prototype.unsubscribe=function(){var a=!1,n;if(!this.closed){this.closed=!0;var k=this._unsubscribe,p=this._subscriptions;this._subscriptions=null;if(c.isFunction(k)){var d=e.tryCatch(k).call(this);d===b.errorObject&&(a=!0,n=n||(b.errorObject.e instanceof
m.UnsubscriptionError?l(b.errorObject.e.errors):[b.errorObject.e]))}if(h.isArray(p))for(var k=-1,g=p.length;++k<g;)d=p[k],f.isObject(d)&&(d=e.tryCatch(d.unsubscribe).call(d),d===b.errorObject&&(a=!0,n=n||[],d=b.errorObject.e,d instanceof m.UnsubscriptionError?n=n.concat(l(d.errors)):n.push(d)));if(a)throw new m.UnsubscriptionError(n);}};a.prototype.add=function(b){if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;var c=b;switch(typeof b){case "function":c=new a(b);case "object":if(c.closed||
"function"!==typeof c.unsubscribe)return c;if(this.closed)return c.unsubscribe(),c;break;default:throw Error("unrecognized teardown "+b+" added to Subscription.");}b=new n(c,this);this._subscriptions=this._subscriptions||[];this._subscriptions.push(b);return b};a.prototype.remove=function(b){if(null!=b&&b!==this&&b!==a.EMPTY){var c=this._subscriptions;c&&(b=c.indexOf(b),-1!==b&&c.splice(b,1))}};a.EMPTY=function(a){a.closed=!0;return a}(new a);return a}();g.Subscription=d;var n=function(a){function b(b,
c){a.call(this);this._innerSub=b;this._parent=c}k(b,a);b.prototype._unsubscribe=function(){var a=this._innerSub;this._parent.remove(this);a.unsubscribe()};return b}(d);g.ChildSubscription=n},function(d,g,a){var l=this&&this.__extends||function(a,h){function f(){this.constructor=a}for(var c in h)h.hasOwnProperty(c)&&(a[c]=h[c]);a.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)};d=function(a){function h(f){a.call(this);this.scheduler=f}l(h,a);h.create=function(a){return new h(a)};
h.dispatch=function(a){a.subscriber.complete()};h.prototype._subscribe=function(a){var c=this.scheduler;if(c)return c.schedule(h.dispatch,0,{subscriber:a});a.complete()};return h}(a(0).Observable);g.EmptyObservable=d},function(d,g,a){(function(a){g.root="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||"object"==typeof a&&a.global===a&&a;if(!g.root)throw Error("RxJS could not find any global context (window, self, global)");}).call(g,a(174))},
function(d,g,a){function l(a){var b=a.reduce(function(a,b){a[b]=b;return a},{});b.keys=a;return b}function k(a,b,c){return a+"("+b+")"+(c?": "+c.message:"")}function h(a,b,c){this.name="MediaError";this.type=p.MEDIA_ERROR;this.reason=b;this.code=q[a];this.fatal=c;this.message=k(this.name,this.code,this.reason)}function f(a,b,c){this.name="NetworkError";this.type=p.NETWORK_ERROR;this.xhr=b.xhr;this.url=b.url;this.status=b.status;this.reqType=b.type;this.reason=b;this.code=q[a];this.fatal=c;this.message=
this.reason?k(this.name,this.code,this.reason):k(this.name,this.code,{message:""+this.reqType+(0<this.status?"("+this.status+")":"")+" on "+this.url})}function c(a,b,c){this.name="EncryptedMediaError";this.type=p.ENCRYPTED_MEDIA_ERROR;this.reason=b;this.code=q[a];this.fatal=c;this.message=k(this.name,this.code,this.reason)}function e(a,b,c){this.name="IndexError";this.type=p.INDEX_ERROR;this.indexType=b;this.reason=null;this.code=q[a];this.fatal=c;this.message=k(this.name,this.code,null)}function b(a,
b,c){this.name="OtherError";this.type=p.OTHER_ERROR;this.reason=b;this.code=q[a];this.fatal=c;this.message=k(this.name,this.code,this.reason)}function m(a,b,c){this.name="RequestError";this.url=b.url;this.xhr=a;this.status=a.status;this.message=this.type=c}function n(a){return!!a&&!!a.type&&0<=p.keys.indexOf(a.type)}a.d(g,"a",function(){return p});a.d(g,"b",function(){return q});a.d(g,"d",function(){return h});a.d(g,"j",function(){return f});a.d(g,"c",function(){return c});a.d(g,"g",function(){return e});
a.d(g,"f",function(){return b});a.d(g,"h",function(){return m});a.d(g,"i",function(){return r});a.d(g,"e",function(){return n});var p=l(["NETWORK_ERROR","MEDIA_ERROR","ENCRYPTED_MEDIA_ERROR","INDEX_ERROR","OTHER_ERROR"]),r=l(["TIMEOUT","ERROR_EVENT","ERROR_HTTP_CODE","PARSE_ERROR"]),q=l("PIPELINE_RESOLVE_ERROR PIPELINE_LOAD_ERROR PIPELINE_PARSING_ERROR MANIFEST_PARSE_ERROR MANIFEST_INCOMPATIBLE_CODECS_ERROR MEDIA_IS_ENCRYPTED_ERROR KEY_ERROR KEY_STATUS_CHANGE_ERROR KEY_UPDATE_ERROR KEY_LOAD_ERROR KEY_LOAD_TIMEOUT KEY_GENERATE_REQUEST_ERROR INCOMPATIBLE_KEYSYSTEMS BUFFER_APPEND_ERROR BUFFER_FULL_ERROR BUFFER_TYPE_UNKNOWN MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_SOURCE_NOT_SUPPORTED MEDIA_KEYS_NOT_SUPPORTED OUT_OF_INDEX_ERROR UNKNOWN_INDEX".split(" "));
h.prototype=Error();f.prototype=Error();f.prototype.isHttpError=function(a){return this.reqType==r.ERROR_HTTP_CODE&&this.status==a};c.prototype=Error();e.prototype=Error();b.prototype=Error();m.prototype=Error()},function(d,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},k=a(0);d=a(2);var h=a(4),f=a(56),c=a(105),e=a(36),b=function(a){function b(b){a.call(this,
b);this.destination=b}l(b,a);return b}(d.Subscriber);g.SubjectSubscriber=b;a=function(a){function n(){a.call(this);this.observers=[];this.hasError=this.isStopped=this.closed=!1;this.thrownError=null}l(n,a);n.prototype[e.$$rxSubscriber]=function(){return new b(this)};n.prototype.lift=function(a){var b=new m(this,this);b.operator=a;return b};n.prototype.next=function(a){if(this.closed)throw new f.ObjectUnsubscribedError;if(!this.isStopped)for(var b=this.observers,c=b.length,b=b.slice(),e=0;e<c;e++)b[e].next(a)};
n.prototype.error=function(a){if(this.closed)throw new f.ObjectUnsubscribedError;this.hasError=!0;this.thrownError=a;this.isStopped=!0;for(var b=this.observers,c=b.length,b=b.slice(),e=0;e<c;e++)b[e].error(a);this.observers.length=0};n.prototype.complete=function(){if(this.closed)throw new f.ObjectUnsubscribedError;this.isStopped=!0;for(var a=this.observers,b=a.length,a=a.slice(),c=0;c<b;c++)a[c].complete();this.observers.length=0};n.prototype.unsubscribe=function(){this.closed=this.isStopped=!0;
this.observers=null};n.prototype._subscribe=function(a){if(this.closed)throw new f.ObjectUnsubscribedError;if(this.hasError)return a.error(this.thrownError),h.Subscription.EMPTY;if(this.isStopped)return a.complete(),h.Subscription.EMPTY;this.observers.push(a);return new c.SubjectSubscription(this,a)};n.prototype.asObservable=function(){var a=new k.Observable;a.source=this;return a};n.create=function(a,b){return new m(a,b)};return n}(k.Observable);g.Subject=a;var m=function(a){function b(b,c){a.call(this);
this.destination=b;this.source=c}l(b,a);b.prototype.next=function(a){var b=this.destination;b&&b.next&&b.next(a)};b.prototype.error=function(a){var b=this.destination;b&&b.error&&this.destination.error(a)};b.prototype.complete=function(){var a=this.destination;a&&a.complete&&this.destination.complete()};b.prototype._subscribe=function(a){return this.source?this.source.subscribe(a):h.Subscription.EMPTY};return b}(a);g.AnonymousSubject=m},function(d,g,a){function l(a,b){return a.reduce(function(a,c){return a.concat((b||
N).map(function(a){return a+c}))},[])}function k(a,b){return b.filter(function(b){var c;c=document.createElement(a.tagName);b="on"+b;b in c?c=!0:(c.setAttribute(b,"return;"),c="function"==typeof c[b]);return c})[0]}function h(b,c){var e=void 0;b=l(b,c);return function(c){return c instanceof O?("undefined"==typeof e&&(e=k(c,b)||null),e?W(c,e):V()):a.i(G.a)(c,b)}}function f(a){return!!M&&M.isTypeSupported(a)}function c(){return R}function e(a){return"open"==a.readyState?E.Observable.of(null):X(a).take(1)}
function b(a){return a.readyState>=H?E.Observable.of(null):Z(a).take(1)}function m(b){return b.readyState>=ga?E.Observable.of(null):a.i(G.a)(b,"canplay").take(1)}function n(b,c){function e(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.errorCode&&(a={systemCode:a.systemCode,code:a.errorCode.code});this.name="KeySessionError";this.mediaKeyError=a;this.message="MediaKeyError code:"+a.code+" and systemCode:"+a.systemCode}e.prototype=Error();return function(f,m){var h="function"==
typeof c?c.call(this):this,n=ha(h),d=B(h).map(function(a){throw new e(h.error||a);});try{return b.call(this,f,m),a.i(K.merge)(n,d).take(1)}catch(la){return E.Observable["throw"](la)}}}function p(a,b){if(b instanceof ca)return b._setVideo(a);if(a.setMediaKeys)return a.setMediaKeys(b);if(null!==b){if(a.WebkitSetMediaKeys)return a.WebkitSetMediaKeys(b);if(a.mozSetMediaKeys)return a.mozSetMediaKeys(b);if(a.msSetMediaKeys)return a.msSetMediaKeys(b)}}function r(a){w()||(a.requestFullscreen?a.requestFullscreen():
a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}function q(){w()&&(C.exitFullscreen?C.exitFullscreen():C.msExitFullscreen?C.msExitFullscreen():C.mozCancelFullScreen?C.mozCancelFullScreen():C.webkitExitFullscreen&&C.webkitExitFullscreen())}function w(){return!!(C.fullscreenElement||C.mozFullScreenElement||C.webkitFullscreenElement||C.msFullscreenElement)}function t(){var b=
void 0;null!=C.hidden?b="":null!=C.mozHidden?b="moz":null!=C.msHidden?b="ms":null!=C.webkitHidden&&(b="webkit");var c=b?b+"Hidden":"hidden",b=b+"visibilitychange";return a.i(G.a)(C,b).map(function(){return C[c]})}function x(){return a.i(G.a)(F,"resize")}function u(a,b){var c,e=void 0;R?(c=a.textTracks.length,c=0<c?a.textTracks[c-1]:a.addTextTrack("subtitles"),c.mode=b?c.HIDDEN:c.SHOWING):(e=document.createElement("track"),a.appendChild(e),c=e.track,e.kind="subtitles",c.mode=b?"hidden":"showing");
return{track:c,trackElement:e}}function y(){return!R}function v(a){return T&&"timeupdate"===a.name&&a.range&&10<a.range.end-a.ts}function z(a){a.src="";a.removeAttribute("src")}a.d(g,"a",function(){return L});a.d(g,"m",function(){return M});a.d(g,"k",function(){return f});a.d(g,"n",function(){return e});a.d(g,"o",function(){return b});a.d(g,"p",function(){return m});a.d(g,"h",function(){return aa});a.d(g,"i",function(){return Y});a.d(g,"j",function(){return ma});a.d(g,"f",function(){return na});a.d(g,
"g",function(){return c});a.d(g,"c",function(){return w});a.d(g,"b",function(){return oa});a.d(g,"e",function(){return r});a.d(g,"d",function(){return q});a.d(g,"v",function(){return x});a.d(g,"u",function(){return t});a.d(g,"r",function(){return u});a.d(g,"l",function(){return z});a.d(g,"s",function(){return y});a.d(g,"q",function(){return v});a.d(g,"t",function(){return R});a(3);var A=a(27),P=a(10),J=a(1),E=a(0);a.n(E);var K=a(14);a.n(K);d=a(49);a.n(d);g=a(138);a.n(g);var D=a(48);a.n(D);var G=a(11),
Q=a(7),U=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),W=d.FromEventObservable.create,V=g.NeverObservable.create,S=D.DeferObservable.create,C=document,F=window,N=["","webkit","moz","ms"],O=F.HTMLElement,L=F.HTMLVideoElement,M=F.MediaSource||F.MozMediaSource||F.WebKitMediaSource||F.MSMediaSource,I=F.MediaKeys||
F.MozMediaKeys||F.WebKitMediaKeys||F.MSMediaKeys,R="Microsoft Internet Explorer"==navigator.appName||"Netscape"==navigator.appName&&/(Trident|Edge)\//.test(navigator.userAgent),T=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),H=1,ga=4,ca=function(){},Y=void 0;navigator.requestMediaKeySystemAccess&&(Y=function(b,c){return a.i(G.b)(navigator.requestMediaKeySystemAccess(b,c))});var aa=function(){function a(b,c,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this._keyType=b;this._mediaKeys=c;this._configuration=e}a.prototype.createMediaKeys=function(){return E.Observable.of(this._mediaKeys)};a.prototype.getConfiguration=function(){return this._configuration};U(a,[{key:"keySystem",get:function(){return this._keyType}}]);return a}(),Z=h(["loadedmetadata"]),X=h(["sourceopen","webkitsourceopen"]);d=h(["encrypted","needkey"]);var ea=h(["keymessage","message"]),ha=h(["keyadded","ready"]),B=h(["keyerror","error"]);g=h(["keystatuseschange"]);var na={onEncrypted:d,
onKeyMessage:ea,onKeyStatusesChange:g,onKeyError:B};if(!Y&&L.prototype.webkitGenerateKeyRequest){var ia=function(b,c){var e=this;A.a.call(this);this.sessionId="";this._vid=b;this._key=c;this._con=a.i(K.merge)(ea(b),ha(b),B(b)).subscribe(function(a){return e.trigger(a.type,a)})};ia.prototype=Object.assign({generateRequest:function(a,b){this._vid.webkitGenerateKeyRequest(this._key,b)},update:n(function(b,c){if(0<=this._key.indexOf("clearkey")){var e=JSON.parse(a.i(P.a)(b)),f=a.i(P.b)(atob(e.keys[0].k)),
e=a.i(P.b)(atob(e.keys[0].kid));this._vid.webkitAddKey(this._key,f,e,c)}else this._vid.webkitAddKey(this._key,b,null,c);this.sessionId=c}),close:function(){this._con&&this._con.unsubscribe();this._vid=this._con=null}},A.a.prototype);ca=function(a){this.ks_=a};ca.prototype={_setVideo:function(a){this._vid=a},createSession:function(){return new ia(this._vid,this.ks_)}};var fa=function(a){var b=C.querySelector("video")||C.createElement("video");return b&&b.canPlayType?!!b.canPlayType("video/mp4",a):
!1},Y=function(a,b){if(!fa(a))return E.Observable["throw"]();for(var c=0;c<b.length;c++){var e=b[c],f=e.videoCapabilities,m=e.audioCapabilities,h=e.initDataTypes,n=e.sessionTypes,d=e.distinctiveIdentifier,e=e.persistentState,k=!0;if(k=(k=(k=(k=k&&(!h||!!h.filter(function(a){return"cenc"===a})[0]))&&(!n||n.filter(function(a){return"temporary"===a}).length===n.length))&&"required"!==d)&&"required"!==e)return c={videoCapabilities:f,audioCapabilities:m,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",
persistentState:"not-allowed",sessionTypes:["temporary"]},E.Observable.of(new aa(a,new ca(a),c))}return E.Observable["throw"]()}}else if(I&&!Y){var ba=function(a){A.a.call(this);this.sessionId="";this._mk=a};ba.prototype=Object.assign({generateRequest:function(b,c){var e=this;this._ss=this._mk.memCreateSession("video/mp4",c);this._con=a.i(K.merge)(ea(this._ss),ha(this._ss),B(this._ss)).subscribe(function(a){return e.trigger(a.type,a)})},update:n(function(b,c){a.i(J.a)(this._ss);this._ss.update(b,
c);this.sessionId=c},function(){return this._ss}),close:function(){this._ss&&(this._ss.close(),this._ss=null);this._con&&(this._con.unsubscribe(),this._con=null)}},A.a.prototype);I.prototype.alwaysRenew=!0;I.prototype.memCreateSession=I.prototype.createSession;I.prototype.createSession=function(){return new ba(this)};Y=function(a,b){if(!I.isTypeSupported(a))return E.Observable["throw"]();for(var c=0;c<b.length;c++){var e=b[c],f=e.videoCapabilities,m=e.audioCapabilities,h=e.initDataTypes,e=e.distinctiveIdentifier,
n=!0;if(n=(n=n&&(!h||!!h.filter(function(a){return"cenc"===a})[0]))&&"required"!==e)return c={videoCapabilities:f,audioCapabilities:m,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"required",sessionTypes:["temporary","persistent-license"]},E.Observable.of(new aa(a,new I(a),c))}return E.Observable["throw"]()}}I||(d=function(){throw new Q.d("MEDIA_KEYS_NOT_SUPPORTED",null,!0);},I={create:d,isTypeSupported:d});var ma=function(b,c){return S(function(){return a.i(G.b)(p(b,
c))})};if(F.WebKitSourceBuffer&&!F.WebKitSourceBuffer.prototype.addEventListener){d=F.WebKitSourceBuffer.prototype;for(var ja in A.a.prototype)d[ja]=A.a.prototype[ja];d.__listeners=[];d.appendBuffer=function(a){if(this.updating)throw Error("updating");this.trigger("updatestart");this.updating=!0;try{this.append(a)}catch(da){this.__emitUpdate("error",da);return}this.__emitUpdate("update")};d.__emitUpdate=function(a,b){var c=this;setTimeout(function(){c.trigger(a,b);c.updating=!1;c.trigger("updateend")},
0)}}var oa=h(["fullscreenchange","FullscreenChange"],N.concat("MS"))},function(d,g,a){function l(a){for(var b=a.length,c=new Uint8Array(b),e=0;e<b;e++)c[e]=a.charCodeAt(e)&255;return c}function k(a){return String.fromCharCode.apply(null,a)}function h(a){for(var b="",c=a.length,e=0;e<c;e+=2)b+=String.fromCharCode(a[e]);return b}function f(a){for(var b=a.length,c=new Uint8Array(b/2),e=0,f=0;e<b;e+=2,f++)c[f]=parseInt(a.substr(e,2),16)&255;return c}function c(a,b){b||(b="");for(var c="",e=0;e<a.byteLength;e++)c+=
(a[e]>>>4).toString(16),c+=(a[e]&15).toString(16),b.length&&e<a.byteLength-1&&(c+=b);return c}function e(){for(var a=arguments.length,b=-1,c=0,e;++b<a;)e=arguments[b],c+="number"===typeof e?e:e.length;for(var c=new Uint8Array(c),f=0,b=-1;++b<a;)e=arguments[b],"number"===typeof e?f+=e:0<e.length&&(c.set(e,f),f+=e.length);return c}function b(a,b){return(a[0+b]<<8)+(a[1+b]<<0)}function m(a,b){return 16777216*a[0+b]+65536*a[1+b]+256*a[2+b]+a[3+b]}function n(a,b){return 4294967296*(16777216*a[0+b]+65536*
a[1+b]+256*a[2+b]+a[3+b])+16777216*a[4+b]+65536*a[5+b]+256*a[6+b]+a[7+b]}function p(a){return new Uint8Array([a>>>8&255,a&255])}function r(a){return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255])}function q(a){var b=a%4294967296;a=(a-b)/4294967296;return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255,b>>>24&255,b>>>16&255,b>>>8&255,b&255])}function w(a,b){return(a[0+b]<<0)+(a[1+b]<<8)}function t(a,b){return a[0+b]+256*a[1+b]+65536*a[2+b]+16777216*a[3+b]}function x(a){u.a.equal(a.length,
16,"UUID length should be 16");var b=l(a);a=b[0];var e=b[1],f=b[2],m=b[3],h=b[4],n=b[5],d=b[6],k=b[7],p=b.subarray(8,10),b=b.subarray(10,16),t=new Uint8Array(16);t[0]=m;t[1]=f;t[2]=e;t[3]=a;t[4]=n;t[5]=h;t[6]=k;t[7]=d;t.set(p,8);t.set(b,10);return c(t)}a.d(g,"b",function(){return l});a.d(g,"a",function(){return k});a.d(g,"k",function(){return h});a.d(g,"j",function(){return f});a.d(g,"o",function(){return c});a.d(g,"h",function(){return e});a.d(g,"g",function(){return b});a.d(g,"e",function(){return m});
a.d(g,"f",function(){return n});a.d(g,"d",function(){return w});a.d(g,"c",function(){return t});a.d(g,"m",function(){return p});a.d(g,"i",function(){return r});a.d(g,"n",function(){return q});a.d(g,"l",function(){return x});var u=a(1)},function(d,g,a){function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&
(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function k(a,c){return Array.isArray(c)?b.merge.apply(null,c.map(function(b){return m(a,b)})):m(a,c)}function h(a){return a instanceof e.Observable?a:a&&"function"==typeof a.subscribe?new e.Observable(function(b){var c=a.subscribe(function(a){return b.next(a)},function(a){return b.error(a)},function(){return b.complete()});return function(){c&&c.dispose?c.dispose():c&&c.unsubscribe&&c.unsubscribe()}}):a&&"function"==typeof a.then?n(a):
e.Observable.of(a)}function f(a){return new p(a)}function c(a,b){try{return a(b)}catch(t){return e.Observable["throw"](t)}}a.d(g,"a",function(){return k});a.d(g,"e",function(){return f});a.d(g,"c",function(){return c});a.d(g,"b",function(){return h});a.d(g,"d",function(){return r});var e=a(0);a.n(e);var b=a(14);a.n(b);d=a(49);a.n(d);g=a(50);a.n(g);var m=d.FromEventObservable.create,n=g.PromiseObservable.create,p=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var e;e=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.value=c;return e}l(b,a);b.prototype._subscribe=function(a){a.next(this.value)};return b}(e.Observable),r=function(a){var b=!1;return function(){if(b)return e.Observable.empty();b=!0;return h(a.apply(void 0,arguments))["do"](null,function(){return b=!1},function(){return b=!1})}}},function(d,g,a){var l=this&&this.__extends||function(a,
h){function f(){this.constructor=a}for(var c in h)h.hasOwnProperty(c)&&(a[c]=h[c]);a.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)};d=function(a){function h(){a.apply(this,arguments)}l(h,a);h.prototype.notifyNext=function(a,c,e,b,m){this.destination.next(c)};h.prototype.notifyError=function(a,c){this.destination.error(a)};h.prototype.notifyComplete=function(a){this.destination.complete()};return h}(a(2).Subscriber);g.OuterSubscriber=d},function(d,g,a){var l=this&&this.__extends||
function(a,e){function b(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)};d=a(0);var k=a(31),h=a(5),f=a(17);a=function(a){function c(b,c){a.call(this);this.array=b;this.scheduler=c;c||1!==b.length||(this._isScalar=!0,this.value=b[0])}l(c,a);c.create=function(a,e){return new c(a,e)};c.of=function(){for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];e=a[a.length-1];f.isScheduler(e)?a.pop():e=null;var n=
a.length;return 1<n?new c(a,e):1===n?new k.ScalarObservable(a[0],e):new h.EmptyObservable(e)};c.dispatch=function(a){var b=a.array,c=a.index,e=a.subscriber;c>=a.count?e.complete():(e.next(b[c]),e.closed||(a.index=c+1,this.schedule(a)))};c.prototype._subscribe=function(a){var b=this.array,e=b.length,f=this.scheduler;if(f)return f.schedule(c.dispatch,0,{array:b,index:0,count:e,subscriber:a});for(f=0;f<e&&!a.closed;f++)a.next(b[f]);a.complete()};return c}(d.Observable);g.ArrayObservable=a},function(d,
g,a){d=a(154);g.merge=d.mergeStatic},function(d,g,a){var l=a(6),k=a(16),h=a(60),f=a(59),c=a(0),e=a(34),b=a(102),m=a(35);g.subscribeToResult=function(a,d,g,q){var n=new b.InnerSubscriber(a,g,q);if(n.closed)return null;if(d instanceof c.Observable)if(d._isScalar)n.next(d.value),n.complete();else return d.subscribe(n);else if(k.isArray(d)){a=0;for(g=d.length;a<g&&!n.closed;a++)n.next(d[a]);n.closed||n.complete()}else{if(h.isPromise(d))return d.then(function(a){n.closed||(n.next(a),n.complete())},function(a){return n.error(a)}).then(null,
function(a){l.root.setTimeout(function(){throw a;})}),n;if(d&&"function"===typeof d[e.$$iterator]){d=d[e.$$iterator]();do{a=d.next();if(a.done){n.complete();break}n.next(a.value);if(n.closed)break}while(1)}else if(d&&"function"===typeof d[m.$$observable])if(d=d[m.$$observable](),"function"!==typeof d.subscribe)n.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return d.subscribe(new b.InnerSubscriber(a,g,q));else d=f.isObject(d)?"an invalid object":"'"+d+
"'",n.error(new TypeError("You provided "+d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}return null}},function(d,g,a){g.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length}},function(d,g,a){g.isScheduler=function(a){return a&&"function"===typeof a.schedule}},function(d,g,a){function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function k(a){for(var b=a.length,c=[],e=0;e<b;e++)c.push(new r(a.start(e),
a.end(e),0));return c}function h(a){for(var b=a.length,c=[],e=0;e<b;e++)c.push(a[e].clone());return c}function f(a,b){return a.start<=b&&b<a.end}function c(a,b){for(var c=0;c<b.length;c++)if(e(a,b[c]))return b[c];return null}function e(a,b){return f(a,b.start)||f(a,b.end)||f(b,a.start)}function b(a,b){return f(a,b.start)&&f(a,b.end)}function m(a){for(var b=1;b<a.length;b++){var c=a[b-1],e=a[b];c.bitrate===e.bitrate&&(Math.abs(e.start-c.end)<p||Math.abs(e.end-c.start)<p)&&(c=new r(Math.min(c.start,
e.start),Math.max(c.end,e.end),e.bitrate),a.splice(--b,2,c))}return a}function n(a){a=h(a);for(var b=0;b<a.length;b++)a[b].bitrate=0;return m(a)}a.d(g,"b",function(){return k});a.d(g,"a",function(){return q});a(1);var p=1/60,r=function(){function a(b,c,e){l(this,a);this.start=b;this.end=c;this.bitrate=e}a.prototype.isNil=function(){return this.start===this.end};a.prototype.clone=function(){return new a(this.start,this.end,this.bitrate)};return a}(),q=function(){function a(b){l(this,a);this.ranges=
b=b?Array.isArray(b)?h(b):k(b):[];this.length=b.length}a.prototype.start=function(a){return this.ranges[a].start};a.prototype.end=function(a){return this.ranges[a].end};a.prototype.hasRange=function(a,b){for(var c=a+b,e=0;e<this.ranges.length;e++){var f=this.ranges[e],m=f.start,f=f.end;if(m-a<=p&&a-f<=p&&m-c<=p&&c-f<=p)return this.ranges[e]}return null};a.prototype.getRange=function(a){for(var b=0;b<this.ranges.length;b++)if(f(this.ranges[b],a))return this.ranges[b];return null};a.prototype.getOuterRanges=
function(a){for(var b=[],c=0;c<this.ranges.length;c++)f(this.ranges[c],a)||b.push(this.ranges[c]);return b};a.prototype.getGap=function(a){var b=this.getRange(a);return b?b.end-a:Infinity};a.prototype.getLoaded=function(a){var b=this.getRange(a);return b?a-b.start:0};a.prototype.getSize=function(a){return(a=this.getRange(a))?a.end-a.start:0};a.prototype.getNextRangeGap=function(a){for(var b=this.ranges,c=-1,e=void 0;++c<b.length;){var f=b[c].start;if(f>a){e=f;break}}return null!=e?e-a:Infinity};a.prototype.insert=
function(a,c,f){var h=this.ranges;a=new r(c,f,a);if(!a.isNil()){for(c=0;c<h.length;c++){f=h[c];var n=e(a,f),d=Math.abs(f.start-a.end)<p||Math.abs(f.end-a.start)<p;if(n||d)if(a.bitrate===f.bitrate)a=new r(Math.min(a.start,f.start),Math.max(a.end,f.end),f.bitrate),h.splice(c--,1);else if(n)if(b(f,a))h.splice(++c,0,a),n=f.end,f.end=a.start,a=new r(a.end,n,f.bitrate);else if(b(a,f))h.splice(c--,1);else if(f.start<a.start)f.end=a.start;else{f.start=a.end;break}else break;else if(0===c){if(a.end<=h[0].start)break}else if(h[c-
1].end<=a.start&&a.end<=f.start)break}h.splice(c,0,a);for(a=0;a<h.length;a++)h[a].isNil()&&h.splice(a++,1);m(h)}this.length=this.ranges.length;return this.ranges};a.prototype.remove=function(b,c){this.intersect(new a([new r(0,b,0),new r(c,Infinity,0)]))};a.prototype.equals=function(a){a:{var b=a.ranges;a=n(this.ranges);for(var b=n(b),e=0;e<a.length;e++){var f=a[e],m=c(f,b);if(!(m&&Math.abs(m.start-f.start)<p&&Math.abs(m.end-f.end)<p)){a=!1;break a}}a=!0}return a};a.prototype.intersect=function(a){var b=
this.ranges;a=a.ranges;for(var e=0;e<b.length;e++){var f=b[e],m=c(f,a);m?(m.start>f.start&&(f.start=m.start),m.end<f.end&&(f.end=m.end)):b.splice(e--,1)}this.length=this.ranges.length;return this.ranges};return a}()},function(d,g,a){a.d(g,"e",function(){return k});a.d(g,"d",function(){return h});a.d(g,"a",function(){return f});a.d(g,"b",function(){return c});a.d(g,"c",function(){return e});a(1);var l=a(22),k=function(a,c,e){var b=a.presentationTimeOffset||0;a=a.timescale||1;return{up:c*a-b,to:(c+
e)*a-b}},h=function(a){var b=a.ts,c=a.d;a=a.r;return-1===c?b:b+(a+1)*c},f=function(a,c){var b=c.initialization,b=void 0===b?{}:b;return new l.a({id:""+a+"_init",init:!0,range:b.range||null,indexRange:c.indexRange||null,media:b.media,timescale:c.timescale})},c=function(a,c){a.timescale!==c&&(a.timescale=c);return a},e=function(a,c){return c/a.timescale}},function(d,g,a){function l(a){if(null!=a){var b;"string"===typeof a?(b=a,a=!1):(b=f(a.language),a=!!a.closedCaption);return{language:b,closedCaption:a}}}
function k(a){if(null!=a){var b;"string"===typeof a?(b=a,a=!1):(b=f(a.language),a=!!a.audioDescription);return{language:b,audioDescription:a}}}function h(a,m){if(!m)return-1;m=f(m);for(var h=e;h<=b;h++)for(var n=0;n<a.length;n++){var d;d=f(a[n]);var k=m,g=h;if(d===k)d=!0;else{var p=d.split("-")[0],k=k.split("-")[0];d=g>=c.BASE_LANG_MATCH&&d===k?!0:g>=c.OTHER_SUBLANG_MATCH&&p===k?!0:!1}if(d)return n}return-1}function f(a){if(null==a||""===a)return"";a=(""+a).toLowerCase().split("-");var b=a[0],c=void 0;
2===b.length?c=m[b]:3===b.length&&(c=n[b]);(b=c||b)&&(a[0]=b);return a.join("-")}a.d(g,"c",function(){return f});a.d(g,"a",function(){return k});a.d(g,"b",function(){return l});a.d(g,"d",function(){return h});var c={PERFECT_MATCH:0,BASE_LANG_MATCH:1,OTHER_SUBLANG_MATCH:2},e=c.PERFECT_MATCH,b=c.OTHER_SUBLANG_MATCH,m={aa:"aar",ab:"abk",ae:"ave",af:"afr",ak:"aka",am:"amh",an:"arg",ar:"ara",as:"asm",av:"ava",ay:"aym",az:"aze",ba:"bak",be:"bel",bg:"bul",bh:"bih",bi:"bis",bm:"bam",bn:"ben",bo:"bod",br:"bre",
bs:"bos",ca:"cat",ce:"che",ch:"cha",co:"cos",cr:"cre",cs:"ces",cu:"chu",cv:"chv",cy:"cym",da:"dan",de:"deu",dv:"div",dz:"dzo",ee:"ewe",el:"ell",en:"eng",eo:"epo",es:"spa",et:"est",eu:"baq",fa:"fas",ff:"ful",fi:"fin",fj:"fij",fo:"fao",fr:"fre",fy:"fry",ga:"gle",gd:"gla",gl:"glg",gn:"grn",gu:"guj",gv:"glv",ha:"hau",he:"heb",hi:"hin",ho:"hmo",hr:"hrv",ht:"hat",hu:"hun",hy:"arm",hz:"her",ia:"ina",id:"ind",ie:"ile",ig:"ibo",ii:"iii",ik:"ipk",io:"ido",is:"ice",it:"ita",iu:"iku",ja:"jpn",jv:"jav",ka:"geo",
kg:"kon",ki:"kik",kj:"kua",kk:"kaz",kl:"kal",km:"khm",kn:"kan",ko:"kor",kr:"kau",ks:"kas",ku:"kur",kv:"kom",kw:"cor",ky:"kir",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",lu:"lub",lv:"lav",mg:"mlg",mh:"mah",mi:"mao",mk:"mac",ml:"mal",mn:"mon",mr:"mar",ms:"may",mt:"mlt",my:"bur",na:"nau",nb:"nob",nd:"nde",ne:"nep",ng:"ndo",nl:"dut",nn:"nno",no:"nor",nr:"nbl",nv:"nav",ny:"nya",oc:"oci",oj:"oji",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",pl:"pol",ps:"pus",pt:"por",qu:"que",rm:"roh",
rn:"run",ro:"ron",ru:"rus",rw:"kin",sa:"san",sc:"srd",sd:"snd",se:"sme",sg:"sag",si:"sin",sk:"slk",sl:"slv",sm:"smo",sn:"sna",so:"som",sq:"alb",sr:"srp",ss:"ssw",st:"sot",su:"sun",sv:"swe",sw:"swa",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",ts:"tso",tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",wo:"wol",xh:"xho",yi:"yid",yo:"yor",za:"zha",zh:"chi",zu:"zul"},n={tib:"bod",cze:"ces",wel:"cym",ger:"deu",
gre:"ell",eus:"baq",per:"fas",fra:"fre",hye:"arm",isl:"ice",kat:"geo",mri:"mao",mkd:"mac",msa:"may",mya:"bur",nld:"dut",rum:"ron",slo:"slk",sqi:"alb",zho:"chi"}},function(d,g,a){var l=a(17),k=a(16),h=a(13),f=a(143);g.combineLatest=function(){for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];var b=e=null;l.isScheduler(a[a.length-1])&&(b=a.pop());"function"===typeof a[a.length-1]&&(e=a.pop());1===a.length&&k.isArray(a[0])&&(a=a[0]);return(new h.ArrayObservable(a,b)).lift(new f.CombineLatestOperator(e))}},
function(d,g,a){g.a=function k(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");this.id=a.id;this.duration=a.duration;this.isInit=!!a.init;this.range=a.range;this.time=a.time;this.indexRange=a.indexRange;this.number=a.number;this.timescale=null==a.timescale?1:a.timescale;this.media=a.media}},function(d,g,a){function l(){for(var a=arguments.length,e=Array(a),b=0;b<a;b++)e[b]=arguments[b];a=e.length;if(0===
a)return"";for(var b="",m=0;m<a;m++){var n=e[m];"string"===typeof n&&""!==n&&(h.test(n)?b=n:("/"===n[0]&&(n=n.substr(1)),"/"===b[b.length-1]&&(b=b.substr(0,b.length-1)),b=b+"/"+n))}a=b;if(f.test(a)){e=[];a=a.split("/");b=0;for(m=a.length;b<m;b++)".."==a[b]?e.pop():"."!=a[b]&&e.push(a[b]);e=e.join("/")}else e=a;return e}function k(a){var c=a.lastIndexOf("/");return 0<=c?a.substring(0,c+1):a}a.d(g,"b",function(){return l});a.d(g,"a",function(){return k});var h=/^(?:[a-z]+:)?\/\//i,f=/\/\.{1,2}\//},
function(d,g,a){d=a(54);a=a(55);g.async=new a.AsyncScheduler(d.AsyncAction)},function(d,g,a){g.errorObject={e:{}}},function(d,g,a){var l=a(22),k=a(19),h=function(a,c){for(var e=a.timeline,b=0,f=e.length;b<f;){var h=b+f>>>1;e[h].ts<c?b=h+1:f=h}return 0<b?b-1:b};g.a={getInitSegment:k.a,setTimescale:k.b,scale:k.c,getSegments:function(f,c,e,b){b=a.i(k.e)(c,e,b);e=b.up;b=b.to;var m=c.timeline,n=c.timescale,d=c.media,g=[],q=m.length;c=h(c,e)-1;var w=m.length&&m[0].d||0;a:for(;!(++c>=q);){var t=m[c],x=t.d,
u=t.ts,y=t.range,w=Math.max(w,x);if(0>x){u+w<b&&g.push(new l.a({id:""+f+"_"+u,time:u,init:!1,range:y,duration:void 0,indexRange:null,timescale:n,media:d}));break}var v=m[c+1],z=t.r||0;0>z&&(z=Math.ceil(((v?v.t:Infinity)-t.ts)/t.d)-1);t=z;v=e-u;v=0<v?Math.floor(v/x):0;for(;(z=u+v*x)<b;)if(v++<=t)g.push(new l.a({id:""+f+"_"+z,time:z,init:!1,range:y,duration:x,indexRange:null,timescale:n,media:d}));else continue a;break}return g},shouldRefresh:function(f,c,e,b){e=f.timeline;c=f.timescale;f=f.presentationTimeOffset;
e=e[e.length-1];if(!e)return!1;0>e.d&&(e={ts:e.ts,d:0,r:e.r});return!(b*c-(void 0===f?0:f)<=a.i(k.d)(e))},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(f){if(f.timeline.length){var c=f.timeline[f.timeline.length-1];return a.i(k.d)(c)/f.timescale}},checkDiscontinuity:function(f,c){var e=f.timeline,b=f.timescale,b=void 0===b?1:b,m=c*b;if(0>=m)return-1;var n=h(f,m);if(0>n||n>=e.length-1)return-1;var d=e[n];if(-1===d.d)return-1;var g=d.ts,
d=a.i(k.d)(d),e=e[n+1];return d!==e.ts&&m>=g&&m<=d&&d-m<b?e.ts/b:-1},_addSegmentInfos:function(f,c,e){var b=f.timeline,m=b.length,h=b[m-1];if(e&&c.ts===e.ts){c=c.ts+c.d;e=c-(h.ts+h.d*h.r);if(0>=e)return!1;-1===h.d&&((m=b[m-2])&&m.d===e?(m.r++,b.pop()):h.d=e);f.timeline.push({d:-1,ts:c,r:0});return!0}return c.ts>=a.i(k.d)(h)?(h.d===c.d?h.r++:f.timeline.push({d:c.d,ts:c.ts,r:0}),!0):!1}}},function(d,g,a){function l(){this.__listeners={}}var k=a(1);l.prototype.addEventListener=function(h,f){a.i(k.a)("function"==
typeof f,"eventemitter: second argument should be a function");this.__listeners[h]||(this.__listeners[h]=[]);this.__listeners[h].push(f)};l.prototype.removeEventListener=function(a,f){if(0===arguments.length)this.__listeners={};else if(this.__listeners.hasOwnProperty(a))if(1===arguments.length)delete this.__listeners[a];else{var c=this.__listeners[a],e=c.indexOf(f);~e&&c.splice(e,1);c.length||delete this.__listeners[a]}};l.prototype.trigger=function(a,f){this.__listeners.hasOwnProperty(a)&&this.__listeners[a].slice().forEach(function(a){try{a(f)}catch(e){console.error(e,
e.stack)}})};l.prototype.on=l.prototype.addEventListener;l.prototype.off=l.prototype.removeEventListener;g.a=l},function(d,g,a){var l=0;g.a=function(){var a=0;l<Number.MAX_VALUE&&(a=l+1);l=a;return""+a}},function(d,g,a){function l(a,b){var c=0;return function(){c&&clearTimeout(c);c=setTimeout(a,b)}}function k(e,b){var m=b.retryDelay,h=b.totalRetry,d=b.shouldRetry,k=b.resetDelay,g=b.errorSelector,w=b.onRetry,t=0,x=void 0;0<k&&(x=l(function(){return t=0},k));return e["catch"](function(b,e){if(d&&!d(b)||
t++>=h){if(g)throw g(b,t);throw b;}w&&w(b,t);var n=a.i(f.a)(m,t);return c(n).mergeMap(function(){x&&x();return e})})}function h(e,b){var h=b.retryDelay,d=b.totalRetry,k=b.shouldRetry,g=b.resetDelay,q=b.errorSelector,w=b.onRetry,t=0,x=void 0;0<g&&(x=l(function(){return t=0},g));return function y(){for(var b=arguments.length,m=Array(b),n=0;n<b;n++)m[n]=arguments[n];return e.apply(void 0,m)["catch"](function(b){if(k&&!k(b)||t++>=d){if(q)throw q(b,t);throw b;}w&&w(b,t);b=a.i(f.a)(h,t);return c(b).mergeMap(function(){x&&
x();return y.apply(void 0,m)})})}}a.d(g,"a",function(){return k});a.d(g,"b",function(){return h});var f=a(97);d=a(51);a.n(d);var c=d.TimerObservable.create},function(d,g,a){var l=this&&this.__extends||function(a,f){function c(){this.constructor=a}for(var e in f)f.hasOwnProperty(e)&&(a[e]=f[e]);a.prototype=null===f?Object.create(f):(c.prototype=f.prototype,new c)};d=a(8);var k=a(56);a=function(a){function f(c){a.call(this);this._value=c}l(f,a);Object.defineProperty(f.prototype,"value",{get:function(){return this.getValue()},
enumerable:!0,configurable:!0});f.prototype._subscribe=function(c){var e=a.prototype._subscribe.call(this,c);e&&!e.closed&&c.next(this._value);return e};f.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new k.ObjectUnsubscribedError;return this._value};f.prototype.next=function(c){a.prototype.next.call(this,this._value=c)};return f}(d.Subject);g.BehaviorSubject=a},function(d,g,a){var l=this&&this.__extends||function(a,h){function f(){this.constructor=a}for(var c in h)h.hasOwnProperty(c)&&
(a[c]=h[c]);a.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)};d=function(a){function h(f,c){a.call(this);this.value=f;this.scheduler=c;this._isScalar=!0;c&&(this._isScalar=!1)}l(h,a);h.create=function(a,c){return new h(a,c)};h.dispatch=function(a){var c=a.value,e=a.subscriber;a.done?e.complete():(e.next(c),e.closed||(a.done=!0,this.schedule(a)))};h.prototype._subscribe=function(a){var c=this.value,e=this.scheduler;if(e)return e.schedule(h.dispatch,0,{done:!1,value:c,subscriber:a});
a.next(c);a.closed||a.complete()};return h}(a(0).Observable);g.ScalarObservable=d},function(d,g,a){var l=this&&this.__extends||function(a,e){function b(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)};d=a(12);var k=a(15);g.mergeAll=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return this.lift(new h(a))};var h=function(){function a(a){this.concurrent=a}a.prototype.call=function(a,b){return b.subscribe(new f(a,
this.concurrent))};return a}();g.MergeAllOperator=h;var f=function(a){function c(b,c){a.call(this,b);this.concurrent=c;this.hasCompleted=!1;this.buffer=[];this.active=0}l(c,a);c.prototype._next=function(a){this.active<this.concurrent?(this.active++,this.add(k.subscribeToResult(this,a))):this.buffer.push(a)};c.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};c.prototype.notifyComplete=function(a){var b=this.buffer;this.remove(a);
this.active--;0<b.length?this._next(b.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return c}(d.OuterSubscriber);g.MergeAllSubscriber=f},function(d,g,a){var l=a(133);g.multicast=function(a,f){var c;c="function"===typeof a?a:function(){return a};if("function"===typeof f)return this.lift(new k(c,f));var e=Object.create(this,l.connectableObservableDescriptor);e.source=this;e.subjectFactory=c;return e};var k=function(){function a(a,c){this.subjectFactory=a;this.selector=c}
a.prototype.call=function(a,c){var e=this.selector,b=this.subjectFactory(),e=e(b).subscribe(a);e.add(c.subscribe(b));return e};return a}();g.MulticastOperator=k},function(d,g,a){function l(a){var h=a.Symbol;if("function"===typeof h)return h.iterator||(h.iterator=h("iterator polyfill")),h.iterator;if((h=a.Set)&&"function"===typeof(new h)["@@iterator"])return"@@iterator";if(a=a.Map)for(var h=Object.getOwnPropertyNames(a.prototype),f=0;f<h.length;++f){var c=h[f];if("entries"!==c&&"size"!==c&&a.prototype[c]===
a.prototype.entries)return c}return"@@iterator"}d=a(6);g.symbolIteratorPonyfill=l;g.$$iterator=l(d.root)},function(d,g,a){function l(a){var h=a.Symbol;"function"===typeof h?h.observable?a=h.observable:(a=h("observable"),h.observable=a):a="@@observable";return a}d=a(6);g.getSymbolObservable=l;g.$$observable=l(d.root)},function(d,g,a){d=a(6).root.Symbol;g.$$rxSubscriber="function"===typeof d&&"function"===typeof d["for"]?d["for"]("rxSubscriber"):"@@rxSubscriber"},function(d,g,a){g.isFunction=function(a){return"function"===
typeof a}},function(d,g,a){function l(){try{return h.apply(this,arguments)}catch(f){return k.errorObject.e=f,k.errorObject}}var k=a(25),h;g.tryCatch=function(a){h=a;return l}},function(d,g,a){function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=
Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function f(a){if("number"==typeof a)return a;for(var b=0,c,e=0;e<a.length;e++)c=a[e],b=(b<<5)-b+c,b&=b;return b}function c(a,b,c){return{type:"eme",value:Object.assign({name:a,session:b},c)}}function e(b){if(!T||!I||a.i(D.g)())return null;var c=
R;return(b=b.filter(function(a){return a.type!==T.type||a.persistentLicense&&"required"!=c.persistentState||a.distinctiveIdentifierRequired&&"required"!=c.distinctiveIdentifier?!1:!0})[0])?{keySystem:b,keySystemAccess:new D.h(T,I,R)}:null}function b(a){var b=["temporary"],c="optional",e="optional";a.persistentLicense&&(c="required",b.push("persistent-license"));a.persistentStateRequired&&(c="required");a.distinctiveIdentifierRequired&&(e="required");var f=[],m=[];N.forEach(function(a){f.push({contentType:'video/mp4;codecs="avc1.4d401e"',
robustness:a});m.push({contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:a})});return{initDataTypes:["cenc"],videoCapabilities:f,audioCapabilities:m,distinctiveIdentifier:e,persistentState:c,sessionTypes:b}}function m(c){var f=e(c);if(f)return v.a.debug("eme: found compatible keySystem quickly",f),J.Observable.of(f);var m=c.reduce(function(a,b){return a.concat((F[b.type]||[]).map(function(a){return{keyType:a,keySystem:b}}))},[]);return J.Observable.create(function(c){function e(d){if(!f)if(d>=
m.length)c.error(new G.c("INCOMPATIBLE_KEYSYSTEMS",null,!0));else{var n=m[d],k=n.keyType,g=n.keySystem,p=[b(g)];v.a.debug("eme: request keysystem access "+k+","+(d+1+" of "+m.length),p);h=a.i(D.i)(k,p).subscribe(function(a){v.a.info("eme: found compatible keysystem",k,p);c.next({keySystem:g,keySystemAccess:a});c.complete()},function(){v.a.debug("eme: rejected access to keysystem",k,p);h=null;e(d+1)})}}var f=!1,h=null;e(0);return function(){f=!0;h&&h.unsubscribe()}})}function n(b,c,e){var f=H,m=I;
return a.i(A.b)(e.createMediaKeys()).mergeMap(function(h){I=h;R=e.getConfiguration();T=c;H=b;if(b.mediaKeys===h)return J.Observable.of(h);m&&m!==I&&M.dispose();var d;f&&f!==H?(v.a.debug("eme: unlink old video element and set mediakeys"),d=a.i(D.j)(f,null).concat(a.i(D.j)(H,h))):(v.a.debug("eme: set mediakeys"),d=a.i(D.j)(H,h));return d.mapTo(h)})}function p(a,b,c,e,f){v.a.debug("eme: create a new "+b+" session");var m=a.createSession(b);a=t(m,c,f)["finally"](function(){M.deleteAndClose(m);L["delete"](e)}).publish();
return{session:m,sessionEvents:a}}function r(b,e,f,m,h,d){b=p(b,f,e,h,d);var n=b.session;b=b.sessionEvents;M.add(h,n,b);v.a.debug("eme: generate request",m,h);m=a.i(A.b)(n.generateRequest(m,h))["catch"](function(a){throw new G.c("KEY_GENERATE_REQUEST_ERROR",a,!1);})["do"](function(){"persistent-license"==f&&L.add(h,n)}).mapTo(c("generated-request",n,{initData:h,initDataType:m}));return a.i(K.merge)(b,m)}function q(a,b,c,e,f,m){return r(a,b,c,e,f,m)["catch"](function(h){if(h.code!==G.b.KEY_GENERATE_REQUEST_ERROR)throw h;
var d=M.getFirst();if(!d)throw h;v.a.warn("eme: could not create a new session, retry after closing a currently loaded session",h);return M.deleteAndClose(d).mergeMap(function(){return r(a,b,c,e,f,m)})})}function w(b,e,f,m,h,d){v.a.debug("eme: load persisted session",f);var n=p(b,"persistent-license",e,h,d),k=n.session,g=n.sessionEvents;return a.i(A.b)(k.load(f))["catch"](function(){return J.Observable.of(!1)}).mergeMap(function(a){if(a)return M.add(h,k,g),L.add(h,k),g.startWith(c("loaded-session",
k,{storedSessionId:f}));v.a.warn("eme: no data stored for the loaded session, do fallback",f);M.deleteById(f);L["delete"](h);k.sessionId&&k.remove();return q(b,e,"persistent-license",m,h,d).startWith(c("loaded-session-failed",k,{storedSessionId:f}))})}function t(b,e,f){function m(a,b){return a.type===G.a.ENCRYPTED_MEDIA_ERROR?(a.fatal=b,a):new G.c("KEY_LOAD_ERROR",a,b)}v.a.debug("eme: handle message events",b);var h=void 0,d={totalRetry:2,retryDelay:200,errorSelector:function(a){return m(a,!0)},onRetry:function(a){return f.next(m(a,
!1))}},n=W(b).map(function(a){throw new G.c("KEY_ERROR",a,!0);}),k=V(b).mergeMap(function(c){h=c.sessionId;v.a.debug("eme: keystatuseschange event",h,b,c);b.keyStatuses.forEach(function(a,b){if(O[b]||O[a])throw new G.c("KEY_STATUS_CHANGE_ERROR",b,!0);});return e.onKeyStatusesChange?a.i(A.c)(function(){return a.i(A.b)(e.onKeyStatusesChange(c,b))})["catch"](function(a){throw new G.c("KEY_STATUS_CHANGE_ERROR",a,!0);}):(v.a.info("eme: keystatuseschange event not handled"),S())}),g=U(b).mergeMap(function(c){h=
c.sessionId;var f=new Uint8Array(c.message),m=c.messageType||"license-request";v.a.debug("eme: event message type "+m,b,c);c=C(function(){return a.i(A.b)(e.getLicense(f,m)).timeout(1E4,new G.c("KEY_LOAD_TIMEOUT",null,!1))});return a.i(P.a)(c,d)}),k=a.i(K.merge)(g,k).concatMap(function(e){v.a.debug("eme: update session",h,e);return a.i(A.b)(b.update(e,h))["catch"](function(a){throw new G.c("KEY_UPDATE_ERROR",a,!0);}).mapTo(c("session-update",b,{updatedWith:e}))}),n=a.i(K.merge)(k,n);return b.closed?
n.takeUntil(a.i(A.b)(b.closed)):n}function x(b,e,f){function h(a,e){var h=e.keySystem,m=e.keySystemAccess;h.persistentLicense&&L.setStorage(h.licenseStorage);v.a.info("eme: encrypted event",a);return n(b,h,m).mergeMap(function(b){a:{var e=m.getConfiguration(),d=a.initDataType,n=new Uint8Array(a.initData),k=M.get(n);if(k&&k.sessionId)v.a.debug("eme: reuse loaded session",k.sessionId),b=J.Observable.of(c("reuse-session",k));else{e=(k=(e=e.sessionTypes)&&0<=e.indexOf("persistent-license"))&&h.persistentLicense?
"persistent-license":"temporary";if(k&&h.persistentLicense&&(k=L.get(n))){b=w(b,h,k.sessionId,d,n,f);break a}b=q(b,h,e,d,n,f)}}return b})}return a.i(E.combineLatest)(Q(b),m(e)).take(1).mergeMap(function(a){return h(a[0],a[1])})}function u(){return T&&T.type}function y(){H&&a.i(D.j)(H,null).subscribe(function(){});H=T=I=null;M.dispose()}a.d(g,"c",function(){return x});a.d(g,"b",function(){return u});a.d(g,"d",function(){return Q});a.d(g,"a",function(){return y});var v=a(3),z=a(1),A=a(11),P=a(29),J=
a(0);a.n(J);d=a(5);a.n(d);g=a(48);a.n(g);var E=a(21);a.n(E);var K=a(14);a.n(K);var D=a(9),G=a(7),Q=D.f.onEncrypted,U=D.f.onKeyMessage,W=D.f.onKeyError,V=D.f.onKeyStatusesChange,S=d.EmptyObservable.create,C=g.DeferObservable.create,F={clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.chromecast.playready","com.youtube.playready"]},N=["HW_SECURE_ALL","HW_SECURE_DECODE","HW_SECURE_CRYPTO","SW_SECURE_DECODE","SW_SECURE_CRYPTO"],
O={expired:!0,"internal-error":!0};d=function(){function a(){h(this,a);this._entries=[]}a.prototype.find=function(a){for(var b=0;b<this._entries.length;b++)if(!0===a(this._entries[b]))return this._entries[b];return null};return a}();g=function(b){function c(){h(this,c);return l(this,b.apply(this,arguments))}k(c,b);c.prototype.getFirst=function(){if(0<this._entries.length)return this._entries[0].session};c.prototype.find=function(a){for(var b=0;b<this._entries.length;b++)if(!0===a(this._entries[b]))return this._entries[b];
return null};c.prototype.get=function(a){a=f(a);var b=this.find(function(b){return b.initData===a});return b?b.session:null};c.prototype.add=function(a,b,c){a=f(a);var e=this.get(a);e&&this.deleteAndClose(e);c=c.connect();a={session:b,initData:a,eventSubscription:c};v.a.debug("eme-mem-store: add session",a);this._entries.push(a)};c.prototype.deleteById=function(a){var b=this.find(function(b){return b.session.sessionId===a});return b?this["delete"](b.session):null};c.prototype["delete"]=function(a){var b=
this.find(function(b){return b.session===a});if(!b)return null;var c=b.session,e=b.eventSubscription;v.a.debug("eme-mem-store: delete session",b);b=this._entries.indexOf(b);this._entries.splice(b,1);e.unsubscribe();return c};c.prototype.deleteAndClose=function(b){return(b=this["delete"](b))?(v.a.debug("eme-mem-store: close session",b),a.i(A.b)(b.close())["catch"](function(){return J.Observable.of(null)})):J.Observable.of(null)};c.prototype.dispose=function(){var a=this,b=this._entries.map(function(b){return a.deleteAndClose(b.session)});
this._entries=[];return K.merge.apply(null,b)};return c}(d);var L=new (function(b){function c(a){h(this,c);var e=l(this,b.call(this));e.setStorage(a);return e}k(c,b);c.prototype.setStorage=function(b){if(this._storage!==b){a.i(z.a)(b,"no licenseStorage given for keySystem with persistentLicense");z.a.iface(b,"licenseStorage",{save:"function",load:"function"});this._storage=b;try{this._entries=this._storage.load(),a.i(z.a)(Array.isArray(this._entries))}catch(aa){v.a.warn("eme-persitent-store: could not get entries from license storage",
aa),this.dispose()}}};c.prototype.get=function(a){a=f(a);return this.find(function(b){return b.initData===a})||null};c.prototype.add=function(a,b){var c=b&&b.sessionId;if(c){a=f(a);var e=this.get(a);e&&e.sessionId===c||(e&&this["delete"](a),v.a.info("eme-persitent-store: add new session",c,b),this._entries.push({sessionId:c,initData:a}),this._save())}};c.prototype["delete"]=function(a){a=f(a);var b=this.find(function(b){return b.initData===a});b&&(v.a.warn("eme-persitent-store: delete session from store",
b),b=this._entries.indexOf(b),this._entries.splice(b,1),this._save())};c.prototype.dispose=function(){this._entries=[];this._save()};c.prototype._save=function(){try{this._storage.save(this._entries)}catch(Y){v.a.warn("eme-persitent-store: could not save licenses in localStorage")}};return c}(d))({load:function(){return[]},save:function(){}}),M=new g,I=void 0,R=void 0,T=void 0,H=void 0},function(d,g,a){function l(b){var c=a.i(w.a)(b.locations[0]);(b=b.periods[0])&&b.baseURL&&(c+=""+b.baseURL);return c}
function k(a,f,m,d){if(!f.transportType)throw new x.d("MANIFEST_PARSE_ERROR",null,!0);f.id=f.id||A++;f.type=f.type||"static";var n=f.locations;n&&n.length||(f.locations=[a]);f.isLive="dynamic"==f.type;var k={rootURL:l(f),baseURL:f.baseURL,isLive:f.isLive};m&&(m=c(m));d&&(d=e(d));a=f.periods.map(function(a){return h(a,k,m,d)});f=b(f,a[0]);f.periods=null;f.duration||(f.duration=Infinity);f.isLive&&(f.suggestedPresentationDelay=f.suggestedPresentationDelay||J,f.availabilityStartTime=f.availabilityStartTime||
0);return new y.a(f)}function h(a,b,c,e){a.id=a.id||A++;var h=a.adaptations,h=h.concat(c||[]),h=h.concat(e||[]),h=h.map(function(a){return f(a,b)}),h=h.filter(function(a){return 0>P.indexOf(a.type)?(q.a.info("not supported adaptation type",a.type),!1):!0});if(0===h.length)throw new x.d("MANIFEST_PARSE_ERROR",null,!0);c={};for(e=0;e<h.length;e++){var m=h[e],d=m.type,n=m.representations;c[d]=c[d]||[];0<n.length&&c[d].push(m)}for(var k in c)if(0===c[k].length)throw new x.d("MANIFEST_INCOMPATIBLE_CODECS_ERROR",
null,!0);a.adaptations=c;return a}function f(c,e){if("undefined"==typeof c.id)throw new x.d("MANIFEST_PARSE_ERROR",null,!0);var f=b(e,c),h={};z.forEach(function(a){a in f&&(h[a]=f[a])});var m=f.representations.map(function(c){var e=f.rootURL,m=f.baseURL;if("undefined"==typeof c.id)throw new x.d("MANIFEST_PARSE_ERROR",null,!0);c=b(h,c);c.index=c.index||{};c.index.timescale||(c.index.timescale=1);c.bitrate||(c.bitrate=1);"mp4a.40.02"==c.codecs&&(c.codecs="mp4a.40.2");c.baseURL=a.i(w.b)(e,m,c.baseURL);
c.codec=c.codecs;return c}).sort(function(a,b){return a.bitrate-b.bitrate}),d=f.type,k=f.accessibility,k=void 0===k?[]:k;if(!d)throw new x.d("MANIFEST_PARSE_ERROR",null,!0);"video"==d||"audio"==d?(m=m.filter(function(b){return a.i(t.k)(n(b))}),"audio"===d&&(d=k.includes("visuallyImpaired"),f.audioDescription=d)):"text"===d&&(d=k.includes("hardOfHearing"),f.closedCaption=d);f.representations=m;f.bitrates=m.map(function(a){return a.bitrate});return f}function c(a){Array.isArray(a)||(a=[a]);return a.reduce(function(a,
b){var c=b.mimeType,e=b.url,f=b.language,h=b.languages,m=b.closedCaption;f&&(h=[f]);return a.concat(h.map(function(a){return{id:A++,type:"text",language:a,closedCaption:!!m,baseURL:e,representations:[{id:A++,mimeType:c,index:{indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0}}]}}))},[])}function e(a){Array.isArray(a)||(a=[a]);return a.map(function(a){var b=a.mimeType;a=a.url;return{id:A++,type:"image",baseURL:a,representations:[{id:A++,mimeType:b,index:{indexType:"template",
duration:Number.MAX_VALUE,timescale:1,startNumber:0}}]}})}function b(){for(var a={},c=arguments.length,e=Array(c),f=0;f<c;f++)e[f]=arguments[f];for(c=e.length-1;0<=c;c--){var f=e[c],h;for(h in f)if(!a.hasOwnProperty(h)){var m=f[h];m&&"object"===("undefined"===typeof m?"undefined":v(m))?m instanceof Date?a[h]=new Date(m.getTime()):Array.isArray(m)?a[h]=m.slice(0):a[h]=b(m):a[h]=m}}return a}function m(a,b){for(var c=function(a,b){return b.find(function(b){return b.id===a})},e=a.getAdaptations(),f=b.getAdaptations(),
h=0;h<e.length;h++){var m=c(e[h].id,f);m||console.warn('manifest: adaptation "'+e[h].id+'" not found when merging.');for(var d=e[h].representations,m=m.representations,n=0;n<d.length;n++){var k=c(d[n].id,m);k||console.warn('manifest: representation "'+d[n].id+'" not found when merging.');d[n].index.update(k.index)}}return a}function n(a){return a.mimeType+';codecs="'+a.codec+'"'}function p(b){return(b=b.adaptations.audio)?b.map(function(b){return{language:a.i(u.c)(b.language),audioDescription:b.isAudioDescription,
id:b.id}}):[]}function r(b){return(b=b.adaptations.text)?b.map(function(b){return{language:a.i(u.c)(b.language),closedCaption:b.isClosedCaption,id:b.id}}):[]}a.d(g,"c",function(){return k});a.d(g,"e",function(){return n});a.d(g,"d",function(){return m});a.d(g,"a",function(){return p});a.d(g,"b",function(){return r});var q=a(3),w=a(23),t=a(9),x=a(7),u=a(20),y=a(82),v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},z="audioSamplingRate codecs codingDependency frameRate height index maxPlayoutRate maximumSAPPeriod mimeType profiles segmentProfiles width".split(" "),A=0,P=["audio","video","text","image"],J=15},function(d,g,a){function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a.d(g,"a",function(){return c});d=a(27);var k=a(18),h=a(1),f=a(11),c=function(c){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e;e=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.codec=a;e.updating=!1;e.readyState="opened";e.buffered=new k.a;return e}
l(b,c);b.prototype.appendBuffer=function(a){var b=this;this._lock(function(){return b._append(a)})};b.prototype.remove=function(a,b){var c=this;this._lock(function(){return c._remove(a,b)})};b.prototype.abort=function(){this.remove(0,Infinity);this.updating=!1;this.readyState="closed";this._abort()};b.prototype._append=function(){};b.prototype._remove=function(){};b.prototype._abort=function(){};b.prototype._lock=function(b){var c=this;a.i(h.a)(!this.updating,"updating");this.updating=!0;this.trigger("updatestart");
a.i(f.c)(function(){return a.i(f.b)(b())}).subscribe(function(){return setTimeout(function(){return c._unlock("update")},0)},function(a){return setTimeout(function(){return c._unlock("error",a)},0)})};b.prototype._unlock=function(a,b){this.updating=!1;this.trigger(a,b);this.trigger("updateend")};return b}(d.a)},function(d,g,a){function l(){return new z(0,new q.a,0,Infinity,"timeupdate",1,null,0,null,null)}function k(a,b){var c=a.currentTime,e=a.paused,f=new q.a(a.buffered);return new z(c,f,a.duration,
f.getGap(c),b,a.playbackRate,f.getRange(c),a.readyState,null,e)}function h(a,b){var c=b.requiresMediaSource;return p.Observable.create(function(b){function e(e){e=k(a,e&&e.type||"timeupdate");var h=e.name,m=e.ts,d=e.gap,n=e.paused,g=e.readyState,p=e.playback,l=f.stalled,t=f.name,A=f.ts,r;r=(r=e.range)?e.duration-(d+r.end)<=x:!1;var q=1<=g&&"loadedmetadata"!=h&&!l&&!r;c?(n=q&&(d<=x||Infinity===d||1===g),m=l&&1<g&&Infinity>d&&(d>("seeking"==l.name?x:u)||r)):(n=q&&(!n&&"timeupdate"==h&&"timeupdate"==
t&&m===A||"seeking"==h&&Infinity===d),m=l&&("seeking"!=h&&m!==A||"canplay"==h||Infinity>d&&(d>("seeking"==l.name?x:u)||r)));e.stalled=n?{name:h,playback:p}:m?null:l;f=e;b.next(f)}var f=k(a,"init"),h=setInterval(e,c?w:t);v.forEach(function(b){return a.addEventListener(b,e)});b.next(f);return function(){clearInterval(h);v.forEach(function(b){return a.removeEventListener(b,e)})}}).multicast(function(){return new r.BehaviorSubject({name:"init",stalled:null})}).refCount()}function f(a){return a.filter(function(a){return"seeking"==
a.name&&(Infinity===a.gap||a.gap<-y)}).skip(1).startWith(!0)}function c(a,b){return new Date(1E3*(a+b.availabilityStartTime))}function e(a,b){var c=a,e=b.suggestedPresentationDelay,f=b.presentationLiveGap,h=b.timeShiftBufferDepth;"number"!=typeof c&&(c=c.getTime());var m=Date.now();return Math.max(Math.min(c,m-1E3*(f+e)),m-1E3*h)/1E3-b.availabilityStartTime}function b(a){return n(a)[0]}function m(a){if(!a.isLive)return a.getDuration();var b=a.availabilityStartTime;a=a.presentationLiveGap;return Date.now()/
1E3-b-a}function n(a){if(!a.isLive)return[0,a.getDuration()];var b=a.availabilityStartTime,c=a.presentationLiveGap;a=a.timeShiftBufferDepth;b=Date.now()/1E3-b-c;return[Math.min(b,b-a+5),b]}a.d(g,"b",function(){return l});a.d(g,"a",function(){return h});a.d(g,"h",function(){return f});a.d(g,"c",function(){return c});a.d(g,"e",function(){return e});a.d(g,"f",function(){return b});a.d(g,"d",function(){return m});a.d(g,"g",function(){return n});var p=a(0);a.n(p);var r=a(30);a.n(r);var q=a(18),w=1E3,t=
500,x=.5,u=5,y=2,v="canplay play progress seeking seeked loadedmetadata".split(" "),z=function(){function a(b,c,e,f,h,m,d,n,k,g){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.ts=b;this.buffered=c;this.duration=e;this.gap=f;this.name=h;this.playback=m;this.range=d;this.readyState=n;this.stalled=k;this.paused=g}a.prototype.clone=function(){return new a(this.ts,this.buffered,this.duration,this.gap,this.name,this.playback,this.range,this.readyState,this.stalled,
this.paused)};return a}()},function(d,g,a){function l(a){if("timeline"===a.indexType){var b=a.timeline[a.timeline.length-1];return(b.ts+(b.r+1)*b.d)/a.timescale}return Date.now()/1E3}function k(a){return a}function h(a){return"true"==a}function f(a){return"true"==a?!0:"false"==a?!1:parseInt(a)}function c(a){return new Date(Date.parse(a))}function e(b){if(!b)return 0;var c=x.exec(b);a.i(t.a)(c,b+" is not a valid ISO8601 duration");return 31536E3*parseFloat(c[2]||0)+2592E3*parseFloat(c[4]||0)+86400*
parseFloat(c[6]||0)+3600*parseFloat(c[8]||0)+60*parseFloat(c[10]||0)+parseFloat(c[12]||0)}function b(a){var b=y.exec(a);if(!b)return-1;a=parseInt(b[1])||0;b=parseInt(b[2])||0;return 0<b?a/b:a}function m(a){return a}function n(a){return(a=u.exec(a))?[+a[1],+a[2]]:null}function p(a,b,c){for(a=a.firstElementChild;a;)c=b(c,a.nodeName,a),a=a.nextElementSibling;return c}function r(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===a.schemeIdUri&&1===a.value:!1}function q(a){var b=a.mimeType,b=void 0===
b?"":b,c=b.split("/")[0];if(v.includes(c))return c;if("application/bif"===b)return"image";if("application/ttml+xml"===b)return"text";if("application/mp4"===b)return(a=a.role)&&"urn:mpeg:dash:role:2011"===a.schemeIdUri&&"subtitle"===a.value?"text":"metadata";a=a.representations;a=void 0===a?[]:a;return a.length&&(a=a[0].mimeType.split("/")[0],v.includes(a))?a:"unknown"}function w(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===a.schemeIdUri&&2===a.value:!1}a.d(g,"g",function(){return k});a.d(g,
"h",function(){return b});a.d(g,"f",function(){return n});a.d(g,"i",function(){return h});a.d(g,"m",function(){return c});a.d(g,"j",function(){return e});a.d(g,"l",function(){return f});a.d(g,"k",function(){return m});a.d(g,"a",function(){return p});a.d(g,"b",function(){return z});a.d(g,"d",function(){return w});a.d(g,"e",function(){return r});a.d(g,"c",function(){return q});var t=a(1),x=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,u=/([0-9]+)-([0-9]+)/,y=/([0-9]+)(\/([0-9]+))?/,
v=["audio","video","text","image"],z=function(a){if(a){var b=a.representations||[],c=b.filter(function(a){return a&&a.index});if(!b.length)return l(a.index);var e=Math.min.apply(Math,c.map(function(a){return l(a.index)}));if(!isNaN(e)){if(b.length===c.length)return e;if(a.index)return a=l(a.index),Math.min(e,a)}}}},function(d,g,a){function l(h){var f=0,c=h.length,e=a.i(k.a)(h.subarray(f,f+8)),f=f+8,b=h[f],f=f+1,m=h[f],f=f+1,d=h[f],f=f+1,g=h[f],f=f+1,b=[b,m,d,g].join("."),m=h[f]+a.i(k.c)(h,f+1),f=
f+4,d=a.i(k.c)(h,f),f=f+4,g=a.i(k.a)(h.subarray(f,f+4)),f=f+4,l=a.i(k.d)(h,f),f=f+2,q=a.i(k.d)(h,f),f=f+2,w=[h[f],h[f+1]].join(":"),t=1===h[f+2],f=64,x=[],u=void 0,y=0;if(!m)throw Error("bif: no images to parse");for(;f<c;){var v=a.i(k.c)(h,f),f=f+4,z=a.i(k.c)(h,f),f=f+4;if(u){var A=u.index,P=d,J=y,u=h.subarray(u.offset,z);x.push({index:A,duration:P,ts:J,data:u});y+=d}if(4294967295===v)break;u={index:v,offset:z}}return{fileFormat:e,version:b,imageCount:m,timescale:d,format:g,width:l,height:q,aspectRatio:w,
isVod:t,thumbs:x}}a.d(g,"a",function(){return l});var k=a(10)},function(d,g,a){function l(a,b,c){a="string"==typeof a?(new DOMParser).parseFromString(a,"text/xml"):a;if(!(a instanceof window.Document||a instanceof window.HTMLElement))throw Error("ttml needs a Document to parse");a=a.querySelector("tt");if(!a)throw Error("ttml could not find <tt> tag");a=k(a.querySelector("body"),0);for(b=0;b<a.length;b++){var e=a[b];e.start+=c;e.end+=c}return a}function k(a,b){var e=0;a=a.firstChild;for(var m=[],
d;a;){if(1===a.nodeType)switch(a.tagName.toUpperCase()){case "P":d=a;var n=b,g=e,e=h(d.getAttribute("begin"),n),p=h(d.getAttribute("end"),n),l=h(d.getAttribute("dur"),0);if("number"==!("undefined"===typeof e||f(e))&&"number"==!("undefined"===typeof p||f(p))&&"number"==!("undefined"===typeof l||f(l)))throw Error("ttml unsupported timestamp format");0<l?(null==e&&(e=g||n),null==p&&(p=e+l)):null==p&&(p=h(d.getAttribute("duration"),0),p=0<=p?p+e:Number.MAX_VALUE);n=d.innerHTML;null==n&&(n=(new XMLSerializer).serializeToString(d),
n=(new DOMParser).parseFromString(n,"text/html").body.firstChild.innerHTML);n=window.escape(n.replace(c,"\r\n"));n=n.replace(/%C3%26nbsp%3B/gm,"%C3%A0");d={id:d.getAttribute("xml:id")||d.getAttribute("id"),text:decodeURIComponent(n),start:e,end:p};e=d.end;m.push(d);break;case "DIV":d=h(a.getAttribute("begin"),0),null==d&&(d=b),m.push.apply(m,k(a,d))}a=a.nextSibling}return m}function h(a,c){if(!a)return null;var f;if(f=a.match(e)){var h=f[3],d=f[4],n=f[6];return 3600*parseInt(f[2]||0,10)+60*parseInt(h,
10)+parseInt(d,10)+parseFloat("0."+n)}return(f=a.match(b))?(h=f[4],parseFloat(f[1])*m[h]+c):null}a.d(g,"a",function(){return l});var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},c=/<br.*?>/gm,e=/^(([0-9]+):)?([0-9]+):([0-9]+)(\.([0-9]+))?$/,b=/(([0-9]+)(\.[0-9]+)?)(ms|h|m|s)/,m={h:3600,m:60,s:1,ms:.001}},function(d,g,a){function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function f(){return new XMLHttpRequest}
function c(a){return new n(a)}d=a(0);a.n(d);var e=a(2);a.n(e);var b=a(7),m=function q(a,b,c,e,f,m,d){h(this,q);this.status=a;this.url=b;this.responseType=c;this.sentTime=e;this.receivedTime=f;this.duration=this.receivedTime-this.sentTime;this.size=m;this.responseData=d},n=function(a){function b(c){h(this,b);var e=l(this,a.call(this)),m={url:"",createXHR:f,headers:null,method:"GET",responseType:"json",timeout:1E4,resultSelector:null,body:null},d;for(d in c)m[d]=c[d];e.request=m;return e}k(b,a);b.prototype._subscribe=
function(a){return new p(a,this.request)};return b}(d.Observable),p=function(a){function c(b,e){h(this,c);var f=l(this,a.call(this,b));f.request=e;f.sentTime=Date.now();f.receivedTime=0;f.xhr=null;f.done=!1;f.resultSelector=e.resultSelector;f.send();return f}k(c,a);c.prototype.next=function(){this.done=!0;var a=this.resultSelector,c=this.xhr,e=this.request,f=this.destination,h=c.status,d=this.responseType,n=this.totalSize,k=this.sentTime,g=this.receivedTime,p=c.responseURL||e.url,l=void 0;if("json"==
e.responseType)if("string"!=typeof c.response)l=c.response;else try{l=JSON.parse(c.responseText)}catch(D){l=null}else l=c.response;null==l?f.error(new b.h(this,e,b.i.PARSE_ERROR)):(c=new m(h,p,d,k,g,n,l),a?f.next(a(c)):f.next(c))};c.prototype.setHeaders=function(a,b){for(var c in b)a.setRequestHeader(c,b[c])};c.prototype.setupEvents=function(a,c){a.ontimeout=function y(){y.subscriber.error(new b.h(this,y.request,b.i.TIMEOUT))};a.ontimeout.request=c;a.ontimeout.subscriber=this;a.onerror=function v(){v.subscriber.error(new b.h(this,
v.request,b.i.ERROR_EVENT))};a.onerror.request=c;a.onerror.subscriber=this;a.onload=function z(a){if(4===this.readyState){var c=z.subscriber,e=z.request;c.receivedTime=Date.now();c.totalSize=a.total;var f=this.status;200<=f&&300>f?(c.next(a),c.complete()):c.error(new b.h(this,e,b.i.ERROR_HTTP_CODE))}};a.onload.subscriber=this;a.onload.request=c};c.prototype.send=function(){var a=this.request,b=this.request,c=b.method,e=b.url,h=b.headers,m=b.body,d=b.responseType,b=b.timeout,n=(a.createXHR||f)(a);
this.xhr=n;n.open(c,e,!0);n.timeout=b;n.responseType=d;"document"==d&&n.overrideMimeType("text/xml");h&&this.setHeaders(n,h);this.setupEvents(n,a);m?n.send(m):n.send()};c.prototype.unsubscribe=function(){var b=this.xhr;!this.done&&b&&4!==b.readyState&&b.abort();b.ontimeout=null;b.onerror=null;b.onload=null;a.prototype.unsubscribe.call(this)};return c}(e.Subscriber);c.RequestObservable=n;c.RequestError=b.h;c.RequestResponse=m;c.RequestErrorTypes=b.i;g.a=c},function(d,g,a){g.empty={closed:!0,next:function(a){},
error:function(a){throw a;},complete:function(){}}},function(d,g,a){var l=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};d=a(0);var k=a(15);a=a(12);d=function(a){function c(c){a.call(this);this.observableFactory=c}l(c,a);c.create=function(a){return new c(a)};c.prototype._subscribe=function(a){return new h(a,this.observableFactory)};return c}(d.Observable);g.DeferObservable=
d;var h=function(a){function c(c,b){a.call(this,c);this.factory=b;this.tryDefer()}l(c,a);c.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}};c.prototype._callFactory=function(){var a=this.factory();a&&this.add(k.subscribeToResult(this,a))};return c}(a.OuterSubscriber)},function(d,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,
new b)};d=a(0);var k=a(38),h=a(37),f=a(25),c=a(4),e=Object.prototype.toString;a=function(a){function b(b,c,e,f){a.call(this);this.sourceObj=b;this.eventName=c;this.selector=e;this.options=f}l(b,a);b.create=function(a,c,e,f){h.isFunction(e)&&(f=e,e=void 0);return new b(a,c,f,e)};b.setupSubscription=function(a,f,h,d,m){var n;if(a&&"[object NodeList]"===e.call(a)||a&&"[object HTMLCollection]"===e.call(a))for(var k=0,g=a.length;k<g;k++)b.setupSubscription(a[k],f,h,d,m);else if(a&&"function"===typeof a.addEventListener&&
"function"===typeof a.removeEventListener)a.addEventListener(f,h,m),n=function(){return a.removeEventListener(f,h)};else if(a&&"function"===typeof a.on&&"function"===typeof a.off)a.on(f,h),n=function(){return a.off(f,h)};else if(a&&"function"===typeof a.addListener&&"function"===typeof a.removeListener)a.addListener(f,h),n=function(){return a.removeListener(f,h)};else throw new TypeError("Invalid event target");d.add(new c.Subscription(n))};b.prototype._subscribe=function(a){var c=this.selector;b.setupSubscription(this.sourceObj,
this.eventName,c?function(){for(var b=[],e=0;e<arguments.length;e++)b[e-0]=arguments[e];b=k.tryCatch(c).apply(void 0,b);b===f.errorObject?a.error(f.errorObject.e):a.next(b)}:function(b){return a.next(b)},a,this.options)};return b}(d.Observable);g.FromEventObservable=a},function(d,g,a){function l(a){var c=a.value;a=a.subscriber;a.closed||(a.next(c),a.complete())}function k(a){var c=a.err;a=a.subscriber;a.closed||a.error(c)}var h=this&&this.__extends||function(a,e){function b(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&
(a[c]=e[c]);a.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)},f=a(6);d=function(a){function c(b,c){a.call(this);this.promise=b;this.scheduler=c}h(c,a);c.create=function(a,e){return new c(a,e)};c.prototype._subscribe=function(a){var b=this,c=this.promise,e=this.scheduler;if(null==e)this._isScalar?a.closed||(a.next(this.value),a.complete()):c.then(function(c){b.value=c;b._isScalar=!0;a.closed||(a.next(c),a.complete())},function(b){a.closed||a.error(b)}).then(null,function(a){f.root.setTimeout(function(){throw a;
})});else if(this._isScalar){if(!a.closed)return e.schedule(l,0,{value:this.value,subscriber:a})}else c.then(function(c){b.value=c;b._isScalar=!0;a.closed||a.add(e.schedule(l,0,{value:c,subscriber:a}))},function(b){a.closed||a.add(e.schedule(k,0,{err:b,subscriber:a}))}).then(null,function(a){f.root.setTimeout(function(){throw a;})})};return c}(a(0).Observable);g.PromiseObservable=d},function(d,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&
(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},k=a(58);d=a(0);var h=a(24),f=a(17),c=a(57);a=function(a){function b(b,e,d){void 0===b&&(b=0);a.call(this);this.period=-1;this.dueTime=0;k.isNumeric(e)?this.period=1>Number(e)&&1||Number(e):f.isScheduler(e)&&(d=e);f.isScheduler(d)||(d=h.async);this.scheduler=d;this.dueTime=c.isDate(b)?+b-this.scheduler.now():b}l(b,a);b.create=function(a,c,e){void 0===a&&(a=0);return new b(a,c,e)};b.dispatch=function(a){var b=a.index,
c=a.period,e=a.subscriber;e.next(b);if(!e.closed){if(-1===c)return e.complete();a.index=b+1;this.schedule(a,c)}};b.prototype._subscribe=function(a){return this.scheduler.schedule(b.dispatch,this.dueTime,{index:0,period:this.period,subscriber:a})};return b}(d.Observable);g.TimerObservable=a},function(d,g,a){function l(){for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];e=null;k.isScheduler(a[a.length-1])&&(e=a.pop());return null===e&&1===a.length?a[0]:(new h.ArrayObservable(a,e)).lift(new f.MergeAllOperator(1))}
var k=a(17),h=a(13),f=a(32);g.concat=function(){for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];return this.lift.call(l.apply(void 0,[this].concat(a)))};g.concatStatic=l},function(d,g,a){var l=this&&this.__extends||function(a,e){function b(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)},k=a(15);d=a(12);g.mergeMap=function(a,e,b){void 0===b&&(b=Number.POSITIVE_INFINITY);"number"===typeof e&&(b=e,
e=null);return this.lift(new h(a,e,b))};var h=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.project=a;this.resultSelector=b;this.concurrent=c}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.project,this.resultSelector,this.concurrent))};return a}();g.MergeMapOperator=h;var f=function(a){function c(b,c,e,f){void 0===f&&(f=Number.POSITIVE_INFINITY);a.call(this,b);this.project=c;this.resultSelector=e;this.concurrent=f;this.hasCompleted=!1;this.buffer=[];this.index=
this.active=0}l(c,a);c.prototype._next=function(a){this.active<this.concurrent?this._tryNext(a):this.buffer.push(a)};c.prototype._tryNext=function(a){var b,c=this.index++;try{b=this.project(a,c)}catch(p){this.destination.error(p);return}this.active++;this._innerSub(b,a,c)};c.prototype._innerSub=function(a,c,e){this.add(k.subscribeToResult(this,a,c,e))};c.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};c.prototype.notifyNext=
function(a,c,e,f,h){this.resultSelector?this._notifyResultSelector(a,c,e,f):this.destination.next(c)};c.prototype._notifyResultSelector=function(a,c,e,f){var b;try{b=this.resultSelector(a,c,e,f)}catch(q){this.destination.error(q);return}this.destination.next(b)};c.prototype.notifyComplete=function(a){var b=this.buffer;this.remove(a);this.active--;0<b.length?this._next(b.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return c}(d.OuterSubscriber);g.MergeMapSubscriber=f},function(d,
g,a){var l=this&&this.__extends||function(a,f){function c(){this.constructor=a}for(var e in f)f.hasOwnProperty(e)&&(a[e]=f[e]);a.prototype=null===f?Object.create(f):(c.prototype=f.prototype,new c)},k=a(6);d=function(a){function f(c,e){a.call(this,c,e);this.scheduler=c;this.work=e;this.pending=!1}l(f,a);f.prototype.schedule=function(a,e){void 0===e&&(e=0);if(this.closed)return this;this.state=a;this.pending=!0;var b=this.id,c=this.scheduler;null!=b&&(this.id=this.recycleAsyncId(c,b,e));this.delay=
e;this.id=this.id||this.requestAsyncId(c,this.id,e);return this};f.prototype.requestAsyncId=function(a,e,b){void 0===b&&(b=0);return k.root.setInterval(a.flush.bind(a,this),b)};f.prototype.recycleAsyncId=function(a,e,b){void 0===b&&(b=0);return null!==b&&this.delay===b?e:(k.root.clearInterval(e),void 0)};f.prototype.execute=function(a,e){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var b=this._execute(a,e);if(b)return b;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,
this.id,null))};f.prototype._execute=function(a,e){var b=!1,c=void 0;try{this.work(a)}catch(n){b=!0,c=!!n&&n||Error(n)}if(b)return this.unsubscribe(),c};f.prototype._unsubscribe=function(){var a=this.id,e=this.scheduler,b=e.actions,f=b.indexOf(this);this.state=this.delay=this.work=null;this.pending=!1;this.scheduler=null;-1!==f&&b.splice(f,1);null!=a&&(this.id=this.recycleAsyncId(e,a,null))};return f}(a(165).Action);g.AsyncAction=d},function(d,g,a){var l=this&&this.__extends||function(a,h){function f(){this.constructor=
a}for(var c in h)h.hasOwnProperty(c)&&(a[c]=h[c]);a.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)};d=function(a){function h(){a.apply(this,arguments);this.actions=[];this.active=!1;this.scheduled=void 0}l(h,a);h.prototype.flush=function(a){var c=this.actions;if(this.active)c.push(a);else{var e;this.active=!0;do if(e=a.execute(a.state,a.delay))break;while(a=c.shift());this.active=!1;if(e){for(;a=c.shift();)a.unsubscribe();throw e;}}};return h}(a(104).Scheduler);g.AsyncScheduler=
d},function(d,g,a){var l=this&&this.__extends||function(a,h){function f(){this.constructor=a}for(var c in h)h.hasOwnProperty(c)&&(a[c]=h[c]);a.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)};d=function(a){function h(){var f=a.call(this,"object unsubscribed");this.name=f.name="ObjectUnsubscribedError";this.stack=f.stack;this.message=f.message}l(h,a);return h}(Error);g.ObjectUnsubscribedError=d},function(d,g,a){g.isDate=function(a){return a instanceof Date&&!isNaN(+a)}},function(d,
g,a){var l=a(16);g.isNumeric=function(a){return!l.isArray(a)&&0<=a-parseFloat(a)+1}},function(d,g,a){g.isObject=function(a){return null!=a&&"object"===typeof a}},function(d,g,a){g.isPromise=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then}},function(d,g,a){g.noop=function(){}},function(d,g,a){Object.defineProperty(g,"__esModule",{value:!0});d=a(106);a.n(d);d=a(107);a.n(d);d=a(108);a.n(d);d=a(109);a.n(d);d=a(110);a.n(d);d=a(111);a.n(d);d=a(112);a.n(d);d=a(113);a.n(d);
d=a(114);a.n(d);d=a(115);a.n(d);d=a(116);a.n(d);d=a(117);a.n(d);d=a(118);a.n(d);d=a(119);a.n(d);d=a(120);a.n(d);d=a(121);a.n(d);d=a(122);a.n(d);d=a(123);a.n(d);d=a(124);a.n(d);d=a(125);a.n(d);d=a(126);a.n(d);d=a(127);a.n(d);d=a(128);a.n(d);d=a(129);a.n(d);d=a(130);a.n(d);d=a(131);a.n(d);d=a(100);a(3);a=a(71);"function"!=typeof Object.assign&&(Object.assign=d.a);g["default"]=a.a},function(d,g,a){function l(a){return function(h,f){return null==h?f:a*f+(1-a)*h}}g.a=function(a,h){return a.map(function(a){return a.value.response}).filter(function(a){return!a||
2E3<a.size}).map(function(a){return a?a.size/a.duration*8E3:0}).scan(l(h.alpha))}},function(d,g,a){function l(a,b){for(var c=0;c<a.length;c++)if(!0===b(a[c],c,a))return a[c];return null}function k(a,b){return"number"==typeof a&&0<a?a:b}function h(a,b){for(var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=a.length-1;0<=e;e--)if(a[e]/b<=1-c)return a[e];return a[0]}function f(a,b){var c=a.sort(function(a,b){return a.width-b.width}).find(function(a){return a.width>=b});if(c){var e=a.filter(function(a){return a.width<=
c});if(e.length)return e[e.length-1].bitrate}return Infinity}function c(b,c){var e=b.map(function(a){return a.language}),e=a.i(w.d)(e,c);return 0<=e?b[e]:null}function e(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=a.filter(function(a){return a.isAudioDescription==e});return c(f,b)}function b(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=a.filter(function(a){return a.isClosedCaption==e});return c(f,b)}function m(a,b){return a.filter(function(a){return a.type===
b})}var n=a(4);a.n(n);var p=a(30);a.n(p);var r=a(21);a.n(r);var q=a(11),w=a(20),t=a(63),x={defaultAudioTrack:{language:"fra",audioDescription:!1},defaultTextTrack:null,defaultBufferSize:30,defaultBufferThreshold:.3,initialVideoBitrate:0,initialAudioBitrate:0,maxVideoBitrate:Infinity,maxAudioBitrate:Infinity};g.a=function(c,d){function g(a){return F.distinctUntilChanged().map(function(b){return e(a,b.language,b.audioDescription)||a[0]})}function u(a){return N.distinctUntilChanged().map(function(c){return c?
b(a,c.language,c.closedCaption):null})}var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Object.keys(A).forEach(function(a){return void 0===A[a]&&delete A[a]});var y=Object.assign({},x,A),w=y.defaultTextTrack,E=y.defaultBufferSize,K=y.defaultBufferThreshold,D=y.initialVideoBitrate,G=y.initialAudioBitrate,Q=y.maxVideoBitrate,U=y.maxAudioBitrate,W=y.limitVideoWidth,V=y.throttleWhenHidden,S=d.videoWidth,C=d.inBackground,F=new p.BehaviorSubject(y.defaultAudioTrack),N=new p.BehaviorSubject(w),
O={audio:new p.BehaviorSubject(G),video:new p.BehaviorSubject(D)},y=[a.i(t.a)(m(c,"audio"),{alpha:.6}).multicast(O.audio),a.i(t.a)(m(c,"video"),{alpha:.6}).multicast(O.video)],L=new n.Subscription;y.forEach(function(a){return L.add(a.connect())});var M={audio:new p.BehaviorSubject(Infinity),video:new p.BehaviorSubject(Infinity)},I={audio:new p.BehaviorSubject(U),video:new p.BehaviorSubject(Q)},R={audio:new p.BehaviorSubject(E),video:new p.BehaviorSubject(E),text:new p.BehaviorSubject(E)};return{setAudioTrack:function(a){F.next(a)},
setTextTrack:function(a){N.next(a)},getAudioTrack:function(){return F.getValue()},getTextTrack:function(){return N.getValue()},getAverageBitrates:function(){return O},getAudioMaxBitrate:function(){return I.audio.getValue()},getVideoMaxBitrate:function(){return I.video.getValue()},getAudioBufferSize:function(){return R.audio.getValue()},getVideoBufferSize:function(){return R.video.getValue()},setAudioBitrate:function(a){M.audio.next(k(a,Infinity))},setVideoBitrate:function(a){M.video.next(k(a,Infinity))},
setAudioMaxBitrate:function(a){I.audio.next(k(a,Infinity))},setVideoMaxBitrate:function(a){I.video.next(k(a,Infinity))},setAudioBufferSize:function(a){R.audio.next(k(a,E))},setVideoBufferSize:function(a){R.video.next(k(a,E))},getBufferAdapters:function(b){var c=b.type,e=b.representations,d=b.getAvailableBitrates();b=void 0;if(1<e.length){b=M[c];var m=I[c],k=O[c].map(function(a,b){return h(d,a,0===b?0:K)}).distinctUntilChanged().debounceTime(2E3).startWith(h(d,O[c].getValue(),0));"video"==c&&(m=a.i(r.combineLatest)([m,
S,C]).map(function(a){var b=a[0],c=a[1];a=a[2];if(V&&a)return d[0];c=W?f(e,c):d[d.length-1];return Math.min(c,b)}));b=a.i(r.combineLatest)(b,m,k,function(a,b,c){var f=void 0,f=Infinity>a?a:Infinity>b?Math.min(b,c):c;return l(e,function(a){return a.bitrate===h(d,f)})}).distinctUntilChanged(function(a,b){return a.id===b.id})}else b=a.i(q.e)(e[0]);return{representations:b,bufferSizes:R[c]||new p.BehaviorSubject(E)}},getAdaptationsChoice:function(b,c){return"audio"==b?g(c):"text"==b?u(c):a.i(q.e)(c[0])},
unsubscribe:function(){L&&(L.unsubscribe(),L=null)}}}},function(d,g,a){function l(d){function k(a,b){for(var c=a.ts,e=a.buffered,f=e.getRange(c),e=e.getOuterRanges(c),d=[],m=0;m<e.length;m++){var k=e[m];c-b<k.end?d.push(k):c+b>k.start&&d.push(k)}f&&(h.a.debug("buffer: gc removing part of inner range",d),c-b>f.start&&d.push({start:f.start,end:c-b}),c+b<f.end&&d.push({start:c+b,end:f.end}));return d}function g(){h.a.warn("buffer: running garbage collector");return U.take(1).mergeMap(function(a){var b=
k(a,y);0===b.length&&(b=k(a,v));h.a.debug("buffer: gc cleaning",b);return t(b.map(function(a){return L.removeBuffer(a)})).concatAll()})}function p(b){function f(a){return d.test(a.id)?!1:a.isInit||0>a.time?!0:(a=O.hasRange(a.time/a.timescale,a.duration/a.timescale))?a.bitrate*u<b.bitrate:!0}h.a.info("bitrate",l,b.bitrate);var d=new r.a,k=a.i(m.combineLatest)(U,N).mergeMap(function(a,e){var m=a[0],k=a[1],n=new c.a(z.buffered);if(m.stalled&&V){var g=b.index.checkDiscontinuity(m.ts);0<g&&S.next({type:"index-discontinuity",
value:{ts:g+1}})}g=void 0;try{var p=null;0===e&&(h.a.debug("add init segment",l),p=b.index.getInitSegment());if(0===m.readyState)g=p?[p]:[];else{var t=m.ts,x=Math.max(0,Math.min(k,m.liveGap,(m.duration||Infinity)-t)),m=void 0,r=n.getGap(t),m=r>C&&Infinity>r?Math.min(r,F):0,A=O.getRange(t);if(A&&A.bitrate===b.bitrate){var N=Math.floor(A.end-t);N>m&&(m=N)}n=t+m;r=t+x-n;if(b.index.shouldRefresh(t,n,t+x))throw new q.g("OUT_OF_INDEX_ERROR",b.index.getType(),!1);var u=b.index.getSegments(n,r);p&&u.unshift(p);
g=u}g=g.filter(f)}catch(ba){if(ba.type===q.a.INDEX_ERROR&&ba.code===q.b.OUT_OF_INDEX_ERROR)return S.next({type:"out-of-index",value:ba}),w();throw ba;}for(t=0;t<g.length;t++)d.add(g[t].id);return g}).concatMap(function(a){return G({segment:a,representation:b}).map(function(b){return Object.assign({segment:a},b)})}).concatMap(function(a){var c=a.segment,e=a.parsed,f=e.segmentData,h=e.nextSegments,m=e.currentSegment;(e=e.timescale)&&b.index.setTimescale(e);var k=h?b.index._addSegments(h,m):[];d.remove(c.id);
m&&O.insert(b.bitrate,m.ts/c.timescale,(m.ts+m.d)/c.timescale);return L.appendBuffer(f)["catch"](function(a){if("QuotaExceededError"!=a.name)throw new q.d("BUFFER_APPEND_ERROR",a,!1);return g().mergeMap(function(){return L.appendBuffer(f)})["catch"](function(a){throw new q.d("BUFFER_FULL_ERROR",a,!0);})}).map(function(){return{type:"pipeline",value:Object.assign({bufferType:l,addedSegments:k},a)}})});return a.i(n.merge)(k,S)["catch"](function(a){if(!V||a.type!=q.a.NETWORK_ERROR||!a.isHttpError(412))throw a;
return e.Observable.of({type:"precondition-failed",value:a}).concat(x(2E3)).concat(p(b))}).startWith({type:"buffer",value:{bufferType:l,adaptation:D,representation:b}})}var l=d.bufferType,z=d.sourceBuffer,D=d.adaptation,G=d.pipeline,Q=d.adapters,U=d.timings,W=d.seekings,V=d.isLive,S=new b.Subject,C="video"==l?4:1,F="video"==l?6:1;d=Q.representations;var N=Q.bufferSizes,O=new c.a,L=new f.a(z);return a.i(m.combineLatest)(d,W,function(a){return a}).switchMap(p)["finally"](function(){return L.dispose()})}
function k(a){return e.Observable.of({type:"buffer",value:{bufferType:a,adaptation:null,representation:null}})}a.d(g,"b",function(){return l});a.d(g,"a",function(){return k});var h=a(3),f=a(66),c=a(18),e=a(0);a.n(e);var b=a(8);a.n(b);var m=a(21);a.n(m);var n=a(14);a.n(n);d=a(5);a.n(d);g=a(135);a.n(g);var p=a(51);a.n(p);var r=a(98),q=a(7),w=d.EmptyObservable.create,t=g.FromObservable.create,x=p.TimerObservable.create,u=1.5,y=240,v=30},function(d,g,a){a.d(g,"a",function(){return k});var l=a(8);a.n(l);
var k=function(){function a(f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.buffer=f;this.queue=[];this.flushing=null;this._onUpdate=this.onUpdate.bind(this);this._onError=this.onError.bind(this);this._flush=this.flush.bind(this);this.buffer.addEventListener("update",this._onUpdate);this.buffer.addEventListener("error",this._onError);this.buffer.addEventListener("updateend",this._flush)}a.prototype.dispose=function(){this.buffer.removeEventListener("update",
this._onUpdate);this.buffer.removeEventListener("error",this._onError);this.buffer.removeEventListener("updateend",this._flush);this.buffer=null;this.queue.length=0;this.flushing=null};a.prototype.onUpdate=function(a){this.flushing&&(this.flushing.next(a),this.flushing.complete(),this.flushing=null)};a.prototype.onError=function(a){this.flushing&&(this.flushing.error(a),this.flushing=null)};a.prototype.queueAction=function(a,c){var e=new l.Subject;1===this.queue.unshift({type:a,args:c,subj:e})&&this.flush();
return e};a.prototype.appendBuffer=function(a){return this.queueAction("append",a)};a.prototype.removeBuffer=function(a){return this.queueAction("remove",{start:a.start,end:a.end})};a.prototype.appendStream=function(a){return this.queueAction("stream",a)};a.prototype.flush=function(){if(!this.flushing&&0!==this.queue.length&&!this.buffer.updating){var a=this.queue.pop(),c=a.type,e=a.args;this.flushing=a.subj;try{switch(c){case "append":this.buffer.appendBuffer(e);break;case "stream":this.buffer.appendStream(e);
break;case "remove":this.buffer.remove(e.start,e.end)}}catch(b){this.onError(b)}}};return a}()},function(d,g,a){a.d(g,"a",function(){return l});var l=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.cache={}}a.prototype.add=function(a,f){var c=a.segment;c.isInit&&(this.cache[c.id]=f)};a.prototype.get=function(a){a=a.segment;return a.isInit&&(a=this.cache[a.id],null!=a)?a:null};return a}()},function(d,g,a){var l=a(14);a.n(l);d=a(136);a.n(d);
var k=a(9),h=d.IntervalObservable.create,f=window.devicePixelRatio||1;g.a=function(c){var e=a.i(k.u)().filter(function(a){return!1===a}),b=a.i(k.u)().debounceTime(6E4).filter(function(a){return!0===a}),e=a.i(l.merge)(e,b).startWith(!1);return{videoWidth:a.i(l.merge)(h(2E4),a.i(k.v)().debounceTime(500)).startWith("init").map(function(){return c.clientWidth*f}).distinctUntilChanged(),inBackground:e}}},function(d,g,a){function l(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+
typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}d=function(a){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var f=a.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!==typeof f&&"function"!==typeof f?this:f}l(d,a);d.prototype._append=
function(){this.buffered.insert(0,0,Infinity)};return d}(a(41).a);g.a=d},function(d,g,a){function l(b,c,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;a.i(m.e)(e)||(e=new (e instanceof m.h?m.j:m.f)(b,e,f));e.pipelineType=c;return e}function k(a){return a instanceof m.h?a.type===m.i.ERROR_HTTP_CODE?500<=a.status||404==a.status:a.type===m.i.TIMEOUT||a.type===m.i.ERROR_EVENT:!1}function h(f,d,h,m){function g(a){throw l("PIPELINE_RESOLVE_ERROR",f,a);}function p(a){throw l("PIPELINE_PARSING_ERROR",
f,a);}function r(a){h.next(a)}function q(c){return a.i(e.a)(a.i(b.c)(E,c),U)}function v(c){var e=Q?Q.get(c):null;return null===e?q(c):a.i(b.b)(e)["catch"](function(){return q(c)})}function z(c){return a.i(b.c)(K,c)["catch"](p)}function A(a,b){var c=Object.assign({response:b},a);Q&&Q.add(a,b);n.schedule(r,0,{type:f,value:c});return c}function P(a,b){return Object.assign({parsed:b},a)}var w=d.resolver,E=d.loader,K=d.parser,D=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};w||(w=c.Observable.of);
E||(E=c.Observable.of);K||(K=c.Observable.of);var G=D.maxRetry,Q=D.cache,D="number"===typeof G?G:4,U={retryDelay:200,errorSelector:function(a){throw l("PIPELINE_LOAD_ERROR",f,a);},totalRetry:D,shouldRetry:D&&k,onRetry:function(a){n.schedule(r,0,{type:f,value:a.xhr});m.next(l("PIPELINE_LOAD_ERROR",f,a,!1))}};return function(c){return a.i(b.c)(w,c)["catch"](g).mergeMap(v,A).mergeMap(z,P)}}var f=a(8);a.n(f);d=a(168);a.n(d);var c=a(0);a.n(c);var e=a(29),b=a(11),m=a(7),n=d.asap;g.a=function(){var a=new f.Subject;
return{createPipelines:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e={requiresMediaSource:function(){return!0!==b.directFile}},f;for(f in b)e[f]=h(f,b[f],a,c.errorStream,c[f]);return e},metrics:a}}},function(d,g,a){function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){if(a===b)return!0;if("object"===("undefined"===typeof a?"undefined":C(a))&&"object"===("undefined"===typeof b?"undefined":C(b))){if(null===a||null===b)return!1;var c=Object.keys(a);if(c.length!==Object.keys(b).length)return!1;for(var e=Array.isArray(c),f=0,c=e?c:c[Symbol.iterator]();;){var d;if(e){if(f>=
c.length)break;d=c[f++]}else{f=c.next();if(f.done)break;d=f.value}if(!b.hasOwnProperty(d)||!h(a[d],b[d]))return!1}return!0}return!1}function f(a,b){return b?"seeking"==b.name?"SEEKING":"BUFFERING":a?"PLAYING":"PAUSED"}function c(){}function e(b){a.i(y.a)(b._manifest,"player: no manifest loaded")}function b(a,b){return a.filter(function(a){return a.type==b}).map(function(a){return a.value})}var m=a(3),n=a(4);a.n(n);var p=a(101),r=a(8);a.n(r);var q=a(30);a.n(q);var w=a(21);a.n(w);var t=a(11),x=a(20);
d=a(27);var u=a(99),y=a(1),v=a(9),z=a(42),A=a(7),P=a(67),J=a(18),E=a(74),K=a(68),D=a(40),G=a(92),Q=a(70),U=a(64),W=a(72),V=a(39),S=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===
typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};d=function(d){function g(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var c=b.videoElement,e=b.transport,f=b.transportOptions,h=b.defaultLanguage,k=b.defaultAudioTrack,n=b.defaultSubtitle,t=b.defaultTextTrack,A=b.initVideoBitrate,u=b.initialVideoBitrate,z=b.initAudioBitrate,F=b.initialAudioBitrate,P=b.maxVideoBitrate,w=
b.maxAudioBitrate,J=b.limitVideoWidth,J=void 0===J?!0:J,b=b.throttleWhenHidden,b=void 0===b?!0:b,B=l(this,d.call(this)),E=u,N=F,G=k,C=t;null!=A&&null==u&&(a.i(p.a)("initVideoBitrate is deprecated. Use initialVideoBitrate instead"),E=A);null!=z&&null==F&&(a.i(p.a)("initAudioBitrate is deprecated. Use initialAudioBitrate instead"),N=z);null!=h&&null==k&&(a.i(p.a)("defaultLanguage is deprecated. Use defaultAudioTrack instead"),G=h);null!=n&&null==t&&(a.i(p.a)("defaultSubtitle is deprecated. Use defaultTextTrack instead"),
C=n);B._playPauseNext$=B._playPauseNext.bind(B);B._textTrackChanges$=B._textTrackChanges.bind(B);B._setPlayerState$=B._setPlayerState.bind(B);B._triggerTimeChange$=B._triggerTimeChange.bind(B);B._streamNext$=B._streamNext.bind(B);B._streamError$=B._streamError.bind(B);B._streamFatalError$=B._streamFatalError.bind(B);B._streamComplete$=B._streamComplete.bind(B);B.defaultTransport=e;B.defaultTransportOptions=f||{};c||(c=document.createElement("video"));a.i(y.a)(c instanceof v.a,"requires an actual HTMLVideoElement");
c.preload="auto";B.version="2.1.0";B.video=c;B.fullscreen=a.i(v.b)(c).subscribe(function(){return B.trigger("fullscreenChange",B.isFullscreen())});B.playing=new q.BehaviorSubject;B.stream=new r.Subject;B.images=new r.Subject;B.errorStream=new r.Subject;f=a.i(Q.a)();e=f.createPipelines;f=f.metrics;c=a.i(K.a)(c);B.createPipelines=e;B.metrics=f;B.adaptive=a.i(U.a)(f,c,{initialVideoBitrate:E,initialAudioBitrate:N,maxVideoBitrate:P,maxAudioBitrate:w,defaultAudioTrack:a.i(x.a)(G),defaultTextTrack:a.i(x.b)(C),
limitVideoWidth:J,throttleWhenHidden:b});B.muted=.1;B._setPlayerState("STOPPED");B._resetStates();B.log=m.a;return B}k(g,d);g.getErrorTypes=function(){a.i(p.a)("getErrorTypes is deprecated. Use the ErrorTypes property instead");return A.a};g.getErrorCodes=function(){a.i(p.a)("getErrorCodes is deprecated. Use the ErrorCodes property instead");return A.b};S(g,null,[{key:"ErrorTypes",get:function(){return A.a}},{key:"ErrorCodes",get:function(){return A.b}}]);g.prototype._resetStates=function(){this._manifest=
null;this.reps={video:null,audio:null,text:null,images:null};this.adas={video:null,audio:null,text:null,images:null};this.evts={};this.frag={start:null,end:null};this.error=null;this.images.next(null);this._currentImagePlaylist=null};g.prototype._unsubscribe=function(){if(this.subscriptions){var a=this.subscriptions;this.subscriptions=null;a.unsubscribe()}};g.prototype.stop=function(){"STOPPED"!==this.state&&(this._resetStates(),this._unsubscribe(),this._setPlayerState("STOPPED"))};g.prototype.dispose=
function(){this.stop();this.metrics.unsubscribe();this.adaptive.unsubscribe();this.fullscreen.unsubscribe();this.stream.unsubscribe();a.i(V.a)();this.video=this.createPipelines=this.stream=this.fullscreen=this.adaptive=this.metrics=null};g.prototype._recordState=function(a,b){h(this.evts[a],b)||(this.evts[a]=b,this.trigger(a+"Change",b))};g.prototype._parseOptions=function(b){var c=b=Object.assign({transport:this.defaultTransport,transportOptions:{},keySystems:[],timeFragment:{},textTracks:[],imageTracks:[],
autoPlay:!1,hideNativeSubtitle:!1,directFile:!1},b),e=c.transport,f=c.url,d=c.keySystems,h=c.timeFragment,m=c.supplementaryTextTracks,g=c.supplementaryImageTracks,k=b,n=k.subtitles,l=k.images,c=k.transportOptions,t=k.manifests,x=k.autoPlay,r=k.directFile,A=k.defaultLanguage,q=k.defaultAudioTrack,O=k.defaultSubtitle,u=k.defaultTextTrack,v=k.hideNativeSubtitle,k=k.startAt,z=q,F=u;null!=A&&null==q&&(a.i(p.a)("defaultLanguage is deprecated. Use defaultAudioTrack instead"),z=A);null!=O&&null==u&&(a.i(p.a)("defaultSubtitle is deprecated. Use defaultTextTrack instead"),
F=O);void 0!==n&&void 0===m&&(a.i(p.a)("the subtitles option is deprecated. Use supplementaryTextTracks instead"),m=n);void 0!==l&&void 0===g&&(a.i(p.a)("the images option is deprecated. Use supplementaryImageTracks instead"),g=l);h=a.i(E.a)(h);r&&(e="directfile");a.i(y.a)(!!t^!!f,"player: you have to pass either a url or a list of manifests");t&&(a.i(p.a)("the manifests options is deprecated, use url instead"),d=t[0],f=d.url,m=d.subtitles||[],g=d.images||[],d=t.map(function(a){return a.keySystem}).filter(Boolean));
"string"==typeof e&&(e=G.a[e]);"function"==typeof e&&(e=e(Object.assign({},this.defaultTransportOptions,c)));a.i(y.a)(e,"player: transport "+b.transport+" is not supported");return{url:f,keySystems:d,supplementaryTextTracks:m,hideNativeSubtitle:v,supplementaryImageTracks:g,timeFragment:h,autoPlay:x,defaultAudioTrack:z,defaultTextTrack:F,transport:e,startAt:k}};g.prototype.loadVideo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this._parseOptions(e);m.a.info("loadvideo",
e);var d=e,h=d.url,g=d.keySystems,k=d.supplementaryTextTracks,l=d.hideNativeSubtitle,p=d.supplementaryImageTracks,A=d.timeFragment,r=d.autoPlay,q=d.transport,e=d.defaultAudioTrack,u=d.defaultTextTrack,d=d.startAt;this.stop();this.frag=A;this.playing.next(r);null!=e&&this.adaptive.setAudioTrack(a.i(x.a)(e));null!=u&&this.adaptive.setTextTrack(a.i(x.b)(u));var u=this.video,v=this.adaptive,e=this.errorStream,y=this.createPipelines(q,{errorStream:e,audio:{cache:new P.a},video:{cache:new P.a},image:{maxRetry:0}}),
q=a.i(z.a)(u,{requiresMediaSource:y.requiresMediaSource()}),h=a.i(W.a)({url:h,errorStream:e,keySystems:g,supplementaryTextTracks:k,hideNativeSubtitle:l,timings:q,supplementaryImageTracks:p,timeFragment:A,adaptive:v,pipelines:y,videoElement:u,autoPlay:r,startAt:d}).publish(),k=b(h,"stalled").startWith(null),g=b(h,"loaded").take(1).share(),k=g.mapTo("LOADED").concat(a.i(w.combineLatest)(this.playing,k,f)).distinctUntilChanged().startWith("LOADING"),l=a.i(t.a)(u,["play","pause"]),u=a.i(t.a)(u.textTracks,
["addtrack"]),p=this.subscriptions=new n.Subscription;p.add(l.subscribe(this._playPauseNext$,c));p.add(u.subscribe(this._textTrackChanges$,c));p.add(k.subscribe(this._setPlayerState$,c));p.add(q.subscribe(this._triggerTimeChange$,c));p.add(h.subscribe(this._streamNext$,this._streamFatalError$,this._streamComplete$));p.add(e.subscribe(this._streamError$));p.add(h.connect());this.subscriptions?this._triggerTimeChange():p.unsubscribe();return g};g.prototype._streamNext=function(a){var b=a.type,c=a.value;
"buffer"==b&&this._bufferNext(c);"manifest"==b&&this._manifestNext(c);"pipeline"==b&&(this.trigger("progress",c.segment),b=c.parsed,"image"===c.bufferType&&(this._currentImagePlaylist=c=b.segmentData,this.trigger("imageTrackUpdate",{data:this._currentImagePlaylist}),this.images.next(c)));this.stream.next(a)};g.prototype._streamError=function(a){this.trigger("warning",a);this.stream.next({type:"warning",value:a})};g.prototype._streamFatalError=function(a){this._resetStates();this.error=a;this._setPlayerState("STOPPED");
this._unsubscribe();this.trigger("error",a);this.stream.next({type:"error",value:a})};g.prototype._streamComplete=function(){this._resetStates();this._setPlayerState("ENDED");this._unsubscribe();this.stream.next({type:"ended",value:null})};g.prototype._manifestNext=function(a){this._manifest=a;this.trigger("manifestChange",a)};g.prototype._bufferNext=function(a){var b=a.bufferType,c=a.adaptation;a=a.representation;this.reps[b]=a;this.adas[b]=c;if("text"==b){var e=c&&c.language?{language:c.language,
closedCaption:!!c.isClosedCaption,id:c.id}:null;this._recordState("subtitle",e&&e.language);this._recordState("textTrack",e)}"video"==b&&this._recordState("videoBitrate",a&&a.bitrate||-1);"audio"==b&&(b={language:c&&c.language||"",audioDescription:!(!c||!c.isAudioDescription),id:c.id},this._recordState("language",b.language),this._recordState("audioTrack",b),this._recordState("audioBitrate",a&&a.bitrate||-1))};g.prototype._playPauseNext=function(a){!0!==this.video.ended&&this.playing.next("play"==
a.type)};g.prototype._textTrackChanges=function(a){(a=a.target[0])&&this.trigger("nativeTextTrackChange",a)};g.prototype._setPlayerState=function(a){this.state!==a&&(this.state=a,m.a.info("playerStateChange",a),this.trigger("playerStateChange",a))};g.prototype._triggerTimeChange=function(b){if(this._manifest&&b){this._manifest.isLive&&0<b.ts&&(b.wallClockTime=a.i(z.c)(b.ts,this._manifest),b.liveGap=a.i(z.d)(this._manifest)-b.ts);var c={position:b.ts,duration:b.duration,bufferGap:isFinite(b.gap)?b.gap:
0,liveGap:b.liveGap,playbackRate:b.playback,wallClockTime:b.wallClockTime&&b.wallClockTime.getTime()/1E3};this.trigger("positionUpdate",c);this.trigger("currentTimeChange",b)}else this.trigger("currentTimeChange",a.i(z.b)())};g.prototype.getError=function(){return this.error};g.prototype.getManifest=function(){return this._manifest||null};g.prototype.getCurrentAdaptations=function(){return this._manifest?this.adas:null};g.prototype.getCurrentRepresentations=function(){return this._manifest?this.reps:
null};g.prototype.getVideoElement=function(){return this.video};g.prototype.getNativeTextTrack=function(){return 0<this.video.textTracks.length?this.video.textTracks[0]:null};g.prototype.getImageTrack=function(){return this.images.distinctUntilChanged()};g.prototype.getPlayerState=function(){return this.state};g.prototype.isLive=function(){e(this);return this._manifest.isLive};g.prototype.getUrl=function(){e(this);return this._manifest.getUrl()};g.prototype.getVideoDuration=function(){return this.video.duration};
g.prototype.getVideoLoadedTime=function(){return(new J.a(this.video.buffered)).getSize(this.video.currentTime)};g.prototype.getVideoPlayedTime=function(){return(new J.a(this.video.buffered)).getLoaded(this.video.currentTime)};g.prototype.getCurrentTime=function(){a.i(p.a)("getCurrentTime is deprecated and won't be available in the next major version. Use either getWallClockTime or getPosition instead.");if(!this._manifest)return 0;var b=this.video.currentTime;return this._manifest.isLive?a.i(z.c)(b,
this._manifest):b};g.prototype.getWallClockTime=function(){if(!this._manifest)return 0;var b=this.video.currentTime;return this.isLive()?+a.i(z.c)(b,this._manifest)/1E3:b};g.prototype.getPosition=function(){return this.video.currentTime};g.prototype.getStartTime=function(){return this.frag.start};g.prototype.getEndTime=function(){return this.frag.end};g.prototype.getPlaybackRate=function(){return this.video.playbackRate};g.prototype.getVolume=function(){return this.video.volume};g.prototype.isFullscreen=
function(){return a.i(v.c)()};g.prototype.getAvailableLanguages=function(){a.i(p.a)("getAvailableLanguages is deprecated and won't be available in the next major version. Use getAvailableAudioTracks instead.");return this._manifest&&a.i(D.a)(this._manifest).map(function(a){return a.language})||[]};g.prototype.getAvailableSubtitles=function(){a.i(p.a)("getAvailableSubtitles is deprecated and won't be available in the next major version. Use getAvailableTextTracks instead.");return this._manifest&&
a.i(D.b)(this._manifest).map(function(a){return a.language})||[]};g.prototype.getLanguage=function(){a.i(p.a)("getLanguage is deprecated and won't be available in the next major version. Use getAudioTrack instead.");return this.evts.language};g.prototype.getSubtitle=function(){a.i(p.a)("getSubtitle is deprecated and won't be available in the next major version. Use getTextTrack instead.");return this.evts.subtitle};g.prototype.getAvailableVideoBitrates=function(){return this.adas.video&&this.adas.video.getAvailableBitrates()||
[]};g.prototype.getAvailableAudioBitrates=function(){return this.adas.audio&&this.adas.audio.getAvailableBitrates()||[]};g.prototype.getVideoBitrate=function(){return this.evts.videoBitrate};g.prototype.getAudioBitrate=function(){return this.evts.audioBitrate};g.prototype.getVideoMaxBitrate=function(){a.i(p.a)("getVideoMaxBitrate is deprecated. Use getMaxVideoBitrate instead");return this.getMaxVideoBitrate()};g.prototype.getMaxVideoBitrate=function(){return this.adaptive.getVideoMaxBitrate()};g.prototype.getAudioMaxBitrate=
function(){a.i(p.a)("getAudioMaxBitrate is deprecated. Use getMaxAudioBitrate instead");return this.getMaxAudioBitrate()};g.prototype.getMaxAudioBitrate=function(){return this.adaptive.getAudioMaxBitrate()};g.prototype.getVideoBufferSize=function(){return this.adaptive.getVideoBufferSize()};g.prototype.getAudioBufferSize=function(){return this.adaptive.getAudioBufferSize()};g.prototype.getAverageBitrates=function(){return this.adaptive.getAverageBitrates()};g.prototype.getMetrics=function(){return this.metrics};
g.prototype.play=function(){this.video.play()};g.prototype.pause=function(){this.video.pause()};g.prototype.setPlaybackRate=function(a){this.video.playbackRate=a};g.prototype.goToStart=function(){return this.seekTo(this.getStartTime())};g.prototype.seekTo=function(b){e(this);var c=this.video.currentTime;if(b){if(b.relative){this.video.currentTime=c+b.relative;return}if(b.position){this.video.currentTime=b.relative;return}if(b.wallClockTime){this.video.currentTime=a.i(z.e)(1E3*b.wallClockTime,this._manifest);
return}}this._manifest.isLive&&(b=a.i(z.e)(b,this._manifest));return b!==c?(m.a.info("seek to",b),this.video.currentTime=b):c};g.prototype.exitFullscreen=function(){a.i(v.d)()};g.prototype.setFullscreen=function(){!1===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0)?(a.i(p.a)("setFullscreen(false) is deprecated. Use exitFullscreen instead"),a.i(v.d)()):a.i(v.e)(this.video)};g.prototype.setVolume=function(a){a!==this.video.volume&&(this.video.volume=a,this.trigger("volumeChange",a))};g.prototype.mute=
function(){this.muted=this.getVolume()||.1;this.setVolume(0)};g.prototype.unMute=function(){0===this.getVolume()&&this.setVolume(this.muted)};g.prototype.normalizeLanguageCode=function(b){return a.i(x.c)(b)};g.prototype.isLanguageAvailable=function(b){a.i(p.a)("isLanguageAvailable is deprecated and won't be available in the next major version.");var c=a.i(x.a)(b);return c?(b=this.getAvailableAudioTracks())?!!b.find(function(a){return a.language===c.language}):!1:!1};g.prototype.isSubtitleAvailable=
function(b){a.i(p.a)("isSubtitleAvailable is deprecated and won't be available in the next major version.");var c=a.i(x.b)(b);return c?(b=this.getAvailableTextTracks())?!!b.find(function(a){return a.language===c.language}):!1:!1};g.prototype.setLanguage=function(b){a.i(p.a)("setLanguage is deprecated and won't be available in the next major version. Use setAudioTrack instead.");e(this);b=a.i(x.a)(b);a.i(y.a)(this.isLanguageAvailable(b),"player: unknown language");this.adaptive.setAudioTrack(b)};g.prototype.setSubtitle=
function(b){a.i(p.a)("setSubtitle is deprecated and won't be available in the next major version. Use setTextTrack instead.");e(this);null==b?(this.adaptive.setTextTrack(null),this._recordState("subtitle",null)):(b=a.i(x.b)(b),a.i(y.a)(this.isSubtitleAvailable(b),"player: unknown subtitle"),this.adaptive.setTextTrack(b))};g.prototype.setVideoBitrate=function(b){e(this);a.i(y.a)(0===b||0<=this.getAvailableVideoBitrates().indexOf(b),"player: video bitrate unavailable");this.adaptive.setVideoBitrate(b)};
g.prototype.setAudioBitrate=function(b){e(this);a.i(y.a)(0===b||0<=this.getAvailableAudioBitrates().indexOf(b),"player: audio bitrate unavailable");this.adaptive.setAudioBitrate(b)};g.prototype.setVideoMaxBitrate=function(b){a.i(p.a)("setVideoMaxBitrate is deprecated. Use setMaxVideoBitrate instead");return this.setMaxVideoBitrate(b)};g.prototype.setMaxVideoBitrate=function(a){this.adaptive.setVideoMaxBitrate(a)};g.prototype.setAudioMaxBitrate=function(b){a.i(p.a)("setAudioMaxBitrate is deprecated. Use setMaxAudioBitrate instead");
return this.setMaxAudioBitrate(b)};g.prototype.setMaxAudioBitrate=function(a){this.adaptive.setAudioMaxBitrate(a)};g.prototype.setVideoBufferSize=function(a){this.adaptive.setVideoBufferSize(a)};g.prototype.setAudioBufferSize=function(a){this.adaptive.setAudioBufferSize(a)};g.prototype.asObservable=function(){return this.stream};g.prototype.getDebug=function(){return u.a.getDebug(this)};g.prototype.showDebug=function(){u.a.showDebug(this,this.video)};g.prototype.hideDebug=function(){u.a.hideDebug()};
g.prototype.toggleDebug=function(){u.a.toggleDebug(this,this.video)};g.prototype.getCurrentKeySystem=function(){return a.i(V.b)()};g.prototype.getAvailableAudioTracks=function(){var b=this.getAudioTrack();return this._manifest?a.i(D.a)(this._manifest).map(function(a){return Object.assign({},a,{active:b.id===a.id})}):null};g.prototype.getAvailableTextTracks=function(){var b=this.getTextTrack();return this._manifest?a.i(D.b)(this._manifest).map(function(a){return Object.assign({},a,{active:!!b&&b.id===
a.id})}):null};g.prototype.getAudioTrack=function(){return this.evts.audioTrack};g.prototype.getTextTrack=function(){return this.evts.textTrack};g.prototype.setAudioTrack=function(b){var c=this.getAvailableAudioTracks().find(function(a){return a.id===b});a.i(y.a)(c,"player: unknown audio track");this.adaptive.setAudioTrack(c)};g.prototype.setTextTrack=function(b){var c=this.getAvailableTextTracks().find(function(a){return a.id===b});a.i(y.a)(c,"player: unknown text track");this.adaptive.setTextTrack(c)};
g.prototype.disableTextTrack=function(){this.adaptive.setTextTrack(null);this._recordState("subtitle",null)};g.prototype.getImageTrackData=function(){return this._manifest?this._currentImagePlaylist:null};g.prototype.getMinimumPosition=function(){return this._manifest?a.i(z.f)(this._manifest):null};g.prototype.getMaximumPosition=function(){return this._manifest?a.i(z.d)(this._manifest):null};return g}(d.a);g.a=d},function(d,g,a){function l(a){return"audio"==a||"video"==a}function k(b,e,d){var h=b.getDuration(),
m=d.start,g=d.end,k=/^\d*(\.\d+)? ?%$/;if(e){h=a.i(c.g)(b);d=h[0];h=h[1];if(null!=e.position)return Math.max(Math.min(e.position,h),d);if(null!=e.wallClockTime)return Math.max(Math.min(b.isLive?e.wallClockTime-b.availabilityStartTime:e.wallClockTime,h),d);if(null!=e.fromFirstPosition)return b=e.fromFirstPosition,0>=b?d:Math.min(d+b,h);if(null!=e.fromLastPosition)return b=e.fromLastPosition,0<=b?h:Math.max(d,h+b)}else{"string"==typeof m&&k.test(m)&&(m=parseFloat(m)/100*h);"string"==typeof g&&k.test(g)&&
(d.end=parseFloat(g)/100*h);if(Infinity===g||"100%"===g)g=h;if(b.isLive)if(m)a.i(c.e)(m,b);else return e=b.suggestedPresentationDelay,a.i(c.d)(b)-(null==e?15:e);else a.i(f.a)(m<h&&g<=h,"stream: bad startTime and endTime")}return 0}var h=a(3),f=a(1),c=a(42),e=a(29),b=a(0);a.n(b);var m=a(11);d=a(5);a.n(d);var n=a(14);a.n(n);var p=a(21);a.n(p);var r=a(9),q=a(73),w=a(69),t=a(65),x=a(39),u=a(7),y=a(40),v=d.EmptyObservable.create;g.a=function(f){function d(a,b,c){Z[b]||(h.a.info("add sourcebuffer",c),Z[b]=
a.addSourceBuffer(c));return Z[b]}function g(a,b,c,e){if(l(c))a=d(b,c,e);else{if(b=X[c])try{b.abort()}catch(fa){h.a.warn(fa)}finally{delete X[c]}if("text"==c)h.a.info("add text sourcebuffer",e),a=new q.a(a,e,O);else if("image"==c)h.a.info("add image sourcebuffer",e),a=new w.a(e);else throw h.a.error("unknown buffer type "+c),new u.d("BUFFER_TYPE_UNKNOWN",null,!0);X[c]=a}return a}function z(a,b,c){var e=l(c);e?(a=Z[c],delete Z[c]):(a=X[c],delete X[c]);if(a)try{a.abort(),e&&b.removeSourceBuffer(a)}catch(fa){h.a.warn(fa)}}
function E(b){var e=M.map(function(e){var f;Y?(f=e.clone(),f.ts=Math.min(e.ts,I.end),f.duration=Math.min(e.duration,I.end)):f=e;f.liveGap=b.isLive?a.i(c.d)(b)-10-e.ts:Infinity;return f}),f=a.i(c.h)(e);return{timings:e,seekings:f}}function K(b,c,e,f,d,m,k){return R.getAdaptationsChoice(c,f).switchMap(function(f){if(!f)return z(H,b,c),a.i(t.a)(c);var n=g(H,b,c,e),p=R.getBufferAdapters(f),n=a.i(t.b)({bufferType:c,sourceBuffer:n,adaptation:f,timings:d,seekings:m,adapters:p,pipeline:function(a){return T[c]({segment:a.segment,
representation:a.representation,adaptation:f,manifest:k})}});return l(c)?n:n["catch"](function(a){h.a.error("buffer",c,"has crashed",a);C.next(a);return v()})})}function D(b){var c=a.i(r.o)(H)["do"](function(){var a=k(b,ca,I);h.a.info("set initial time",a);H.playbackRate=1;H.currentTime=a}),e=a.i(r.p)(H)["do"](function(){h.a.info("canplay event");ga&&H.play();ga=!0});return a.i(p.combineLatest)(c,e).take(1).mapTo({type:"loaded",value:!0})}function G(){return F&&F.length?a.i(x.c)(H,F,C):a.i(x.d)(H).map(function(){h.a.error("eme: ciphered media and no keySystem passed");
throw new u.c("MEDIA_IS_ENCRYPTED_ERROR",null,!0);})}function Q(b,c){var e=c.changePlaybackRate,f=void 0===e?!0:e;return b.distinctUntilChanged(function(b,c){var e=c.stalled,d=b.stalled,m;m=d||e?d&&e?d.name==e.name:!1:!0;!m&&f&&(d?(h.a.info("resume playback",c.ts,c.name),H.playbackRate=d.playback):(h.a.info("stop playback",c.ts,c.name),H.playbackRate=0));e&&(e=c.buffered.getNextRangeGap(c.ts),a.i(r.q)(c)?(H.currentTime=c.ts,h.a.warn("after freeze seek",c.ts,c.range)):1>e&&(d=c.ts+e+1/60,H.currentTime=
d,h.a.warn("discontinuity seek",c.ts,e,d)));return m}).map(function(a){return{type:"stalled",value:a.stalled}})}function U(b){return aa({url:b.getUrl()}).map(function(c){c=c.parsed;return{type:"manifest",value:a.i(y.d)(b,a.i(y.c)(c.url,c.manifest,N,L))}})}function W(c,e,f,m){var g=Object.keys(e.adaptations).map(function(b){var h=e.adaptations[b],g=a.i(y.e)(h[0].representations[0]);l(b)&&d(c,b,g);return K(c,b,g,h,f,m,e)}),g=n.merge.apply(void 0,g);return e.isLive?g.concatMap(function(a){a:{switch(a.type){case "index-discontinuity":h.a.warn("explicit discontinuity seek",
a.value.ts);H.currentTime=a.value.ts;break;case "precondition-failed":e.updateLiveGap(1);h.a.warn("precondition failed",e.presentationLiveGap);break;case "out-of-index":h.a.info("out of index");a=U(e);break a}a=b.Observable.of(a)}return a}):g}function V(){return a.i(m.a)(H,"error").mergeMap(function(){var a=void 0;switch(H.error.code){case 1:a="MEDIA_ERR_ABORTED";break;case 2:a="MEDIA_ERR_NETWORK";break;case 3:a="MEDIA_ERR_DECODE";break;case 4:a="MEDIA_ERR_SRC_NOT_SUPPORTED"}h.a.error("stream: video element MEDIA_ERR("+
a+")");throw new u.d(a,null,!0);})}var S=f.url,C=f.errorStream,F=f.keySystems,N=f.supplementaryTextTracks,O=f.hideNativeSubtitle,L=f.supplementaryImageTracks,M=f.timings,I=f.timeFragment,R=f.adaptive,T=f.pipelines,H=f.videoElement,ga=f.autoPlay,ca=f.startAt,Y=Infinity>I.end,aa=a.i(m.d)(T.manifest),Z={},X={};f=M.filter(function(a){var b=a.ts;a=a.duration;return 0<a&&.5>Math.min(a,I.end)-b});var ea=a.i(e.b)(function(c){var e=c.url,f=c.mediaSource;c=f?a.i(r.n)(f):b.Observable.of(null);return a.i(p.combineLatest)(aa({url:e}),
c).mergeMap(function(c){c=c[0].parsed;c=a.i(y.c)(c.url,c.manifest,N,L);if(f){var e=c.getDuration(),e=Infinity===e?Number.MAX_VALUE:e;f.duration!==e&&(f.duration=e,h.a.info("set duration",f.duration))}var e=E(c),d=e.timings,m=e.seekings,e=b.Observable.of({type:"manifest",value:c}),g=G(),k=Q(d,{changePlaybackRate:T.requiresMediaSource()}),l=D(c);c=W(f,c,d,m);d=V();return a.i(n.merge)(e,l,k,g,c,d)})},{totalRetry:3,retryDelay:250,resetDelay:6E4,shouldRetry:function(a){return!0!==a.fatal},errorSelector:function(b){a.i(u.e)(b)||
(b=new u.f("NONE",b,!0));b.fatal=!0;return b},onRetry:function(a,b){h.a.warn("stream retry",a,b);C.next(a)}});return function(c,e){return b.Observable.create(function(b){function f(){if(d&&"closed"!=d.readyState)for(var b=d,c=b.readyState,b=b.sourceBuffers,f=0;f<b.length;f++){var g=b[f];try{"open"==c&&g.abort(),d.removeSourceBuffer(g)}catch(da){h.a.warn("error while disposing souceBuffer",da)}}Object.keys(X).forEach(function(a){a=X[a];try{a.abort()}catch(ka){h.a.warn("error while disposing souceBuffer",
ka)}});a.i(r.l)(e);if(m)try{URL.revokeObjectURL(m)}catch(da){h.a.warn("error while revoking ObjectURL",da)}Z={};X={};m=d=null}var d=void 0,m=void 0;f();if(T.requiresMediaSource()){if(!r.m)throw new u.d("MEDIA_SOURCE_NOT_SUPPORTED",null,!0);d=new r.m;m=URL.createObjectURL(d)}else d=null,m=c;e.src=m;b.next({url:c,mediaSource:d});h.a.info("create mediasource object",m);return f})}(S,H).mergeMap(ea).takeUntil(f)}},function(d,g,a){function l(a,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+
typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}d=a(41);var k=a(9),h=a(3),f=window.VTTCue||window.TextTrackCue;d=function(c){function e(b,f,d){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var h;h=c.call(this,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&
"function"!==typeof h?this:h;h.video=b;h.codec=f;h.isVTT=/^text\/vtt/.test(f);b=a.i(k.r)(b,d);f=b.trackElement;h.track=b.track;h.trackElement=f;return h}l(e,c);e.prototype.createCuesFromArray=function(a){for(var b=[],c=0;c<a.length;c++){var e=a[c],d=e.start,h=e.end;(e=e.text)&&b.push(new f(d,h,e))}return b};e.prototype._append=function(b){var c=this;if(this.isVTT)a.i(k.s)()&&this.trackElement?(b=new Blob([b],{type:"text/vtt"}),b=URL.createObjectURL(b),this.trackElement.src=b,this.buffered.insert(0,
Infinity)):h.a.warn("vtt subtitles not supported");else if(b=this.createCuesFromArray(b),0<b.length){var e=b[0],f=b[b.length-1],d=this.track.cues;0<d.length&&e.startTime<d[d.length-1].startTime&&this._remove(e.startTime,Infinity);b.forEach(function(a){return c.track.addCue(a)});this.buffered.insert(0,e.startTime,f.endTime)}};e.prototype._remove=function(a,c){for(var b=this.track,e=b.cues,f=e.length-1;0<=f;f--){var d=e[f],h=d.startTime,m=d.endTime;h>=a&&h<=c&&m<=c&&b.removeCue(d)}this.buffered.remove(a,
c)};e.prototype._abort=function(){var a=this.trackElement,c=this.video;a&&c&&c.hasChildNodes(a)&&c.removeChild(a);this.track.mode="disabled";this.size=0;this.video=this.track=this.trackElement=null};return e}(d.a);g.a=d},function(d,g,a){function l(d){if("string"==typeof d){var g=d,m=g.split(",");a.i(e.a)(2>=m.length,b);d=m[0]?m[0]:"";m=m[1]?m[1]:"";a.i(e.a)((d||m)&&(!d||m||-1===g.indexOf(",")),b);d=d.replace(/^smpte(-25|-30|-30-drop)?:/,"").replace(/^npt[:=]/,"").replace("clock:","");var g=/(((\d+:)?(\d\d):(\d\d))|(\d+))(\.\d*)?$/,
l=/^\d+:\d\d:\d\d(:\d\d(\.\d\d)?)?$/,q=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))?$/,w=/^\d*(\.\d+)? ?%$/;if(g.test(d)&&g.test(m))g=k;else if(l.test(d)&&l.test(m))g=h;else if(q.test(d)&&q.test(m))g=f;else if(w.test(d)&&w.test(m))g=c;else throw Error(b);d=g(d);m=g(m);a.i(e.a)(!1!==d||!1!==m,b);d={start:!1===d?"":d,end:!1===m?"":m}}else d||(d={});"string"==typeof d.start&&"string"==typeof d.end?(d.start||(d.start="0%"),d.end||(d.end="100%")):(d.start||(d.start=0),d.end||(d.end=
Infinity));"string"==typeof d.start&&"string"==typeof d.end?(a.i(e.a)(0<=parseFloat(d.start)&&100>=parseFloat(d.start),"player: startTime should be between 0% and 100%"),a.i(e.a)(0<=parseFloat(d.end)&&100>=parseFloat(d.end),"player: endTime should be between 0% and 100%")):(a.i(e.a)(("number"==typeof d.start||d.start instanceof Date)&&("number"==typeof d.end||d.end instanceof Date),"player: timeFragment should have interface { start, end } where start and end are numbers or dates"),a.i(e.a)(d.start<
d.end,"player: startTime should be lower than endTime"),a.i(e.a)(0<=d.start,"player: startTime should be greater than 0"));return d}function k(c){if(!c)return!1;c=c.replace(/\.$/,"");var f,d;c=c.split(":");var h=c.length;switch(h){case 3:f=parseInt(c[0],10);d=parseInt(c[1],10);c=parseFloat(c[2]);break;case 2:f=0;d=parseInt(c[0],10);c=parseFloat(c[1]);break;case 1:d=f=0;c=parseFloat(c[0]);break;default:return!1}a.i(e.a)(23>=f,b);a.i(e.a)(59>=d,b);a.i(e.a)(1>=h||60>c,b);return 3600*f+60*d+c}function h(c){if(!c)return!1;
var f,d,h,g;c=c.split(":");switch(c.length){case 3:f=parseInt(c[0],10);d=parseInt(c[1],10);h=parseInt(c[2],10);g=c=0;break;case 4:f=parseInt(c[0],10);d=parseInt(c[1],10);h=parseInt(c[2],10);-1===c[3].indexOf(".")?(c=parseInt(c[3],10),g=0):(g=c[3].split("."),c=parseInt(g[0],10),g=parseInt(g[1],10));break;default:return!1}a.i(e.a)(23>=f,b);a.i(e.a)(59>=d,b);a.i(e.a)(59>=h,b);return 3600*f+60*d+h+.001*c+1E-6*g}function f(a){return new Date(Date.parse(a))}function c(a){return a?a:!1}a.d(g,"a",function(){return l});
var e=a(1),b="invalid MediaFragment"},function(d,g,a){d.exports=a(62)["default"]},function(d,g,a){var l=a(83),k=a(28);d=function(){function d(){var f=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var e=a.i(k.a)();this.id=null==c.id?e:""+c.id;this.type=c.type||"";this.representations=Array.isArray(c.representations)?c.representations.map(function(a){return new l.a(Object.assign({rootId:f.id},a))}).sort(function(a,
c){return a.bitrate-c.bitrate}):[];null!=c.language?this.language=c.language:null!=c.language&&(this.language=c.language);e=c.accessibility;Array.isArray(e)&&(e.includes("audioDescription")&&(this.isAudioDescription=!0),e.includes("closedCaption")&&(this.isClosedCaption=!0));null!=c.closedCaption&&(this.isClosedCaption=c.closedCaption);null!=c.audioDescription&&(this.isAudioDescription=c.audioDescription);null!=c.contentProtection&&(this.contentProtection=c.contentProtection);null!=c.smoothProtection&&
(this._smoothProtection=c.smoothProtection);this.manual=c.manual}d.prototype.getAvailableBitrates=function(){return this.representations.map(function(a){return a.bitrate})};d.prototype.getRepresentation=function(a){return this.representations.find(function(c){return a===c.id})};d.prototype.getRepresentationsForBitrate=function(a){return this.representations.filter(function(c){return c.bitrate===a})||null};return d}();g.a=d},function(d,g,a){d=a(26);a=a(19);g.a=Object.assign({},d.a,{getInitSegment:a.a,
setTimescale:a.b,scale:a.c,_addSegmentInfos:function(a,d){a.timeline.push({ts:d.ts,d:d.d,r:d.r,range:d.range});return!0},shouldRefresh:function(){return!1}})},function(d,g,a){a.d(g,"a",function(){return e});var l=a(26),k=a(79),h=a(81),f=a(80),c=a(77),e=function(a){switch(a.indexType){case "timeline":return l.a;case "list":return k.a;case "template":return h.a;case "smooth":return f.a;case "base":return c.a;default:return l.a}}},function(d,g,a){var l=a(22),k=a(19);g.a={getInitSegment:k.a,setTimescale:k.b,
scale:k.c,getSegments:function(d,f,c,e){var b=a.i(k.e)(f,c,e);c=f.duration;e=f.list;f=f.timescale;for(var h=Math.min(e.length-1,Math.floor(b.to/c)),g=[],b=Math.floor(b.up/c);b<=h;)g.push(new l.a({id:""+d+"_"+b,time:b*c,init:!1,range:e[b].range,duration:c,indexRange:null,timescale:f,media:e[b].media})),b++;return g},getFirstPosition:function(){return 0},getLastPosition:function(a){return a.list.length*a.duration/a.timescale},shouldRefresh:function(a,f,c,e){f=a.list;c=a.presentationTimeOffset;a=Math.floor((e*
a.timescale-(void 0===c?0:c))/a.duration);return!(0<=a&&a<f.length)},_addSegmentInfos:function(){return!1},checkDiscontinuity:function(){return-1}}},function(d,g,a){d=a(26);var l=a(19);g.a={getSegments:d.a.getSegments,getInitSegment:l.a,checkDiscontinuity:d.a.checkDiscontinuity,_addSegmentInfos:d.a._addSegmentInfos,setTimescale:l.b,scale:l.c,shouldRefresh:function(d,h){var f=d.timeline,c=d.timescale,e=d.presentationTimeOffset,f=f[f.length-1];if(!f)return!1;0>f.d&&(f={ts:f.ts,d:0,r:f.r});return h*
c-(void 0===e?0:e)>=a.i(l.d)(f)},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(d){if(d.timeline.length){var h=d.timeline[d.timeline.length-1];return a.i(l.d)(h)/d.timescale}}}},function(d,g,a){var l=a(22),k=a(19);g.a={getInitSegment:k.a,setTimescale:k.b,scale:k.c,getSegments:function(d,f,c,e){var b=a.i(k.e)(f,c,e);c=b.to;e=f.duration;var h=f.startNumber,g=f.timescale;f=f.media;for(var p=[],b=b.up;b<=c;b+=e){var r=Math.floor(b/e)+(null==
h?1:h),b=r*e;p.push(new l.a({id:""+d+"_"+r,number:r,time:b,init:!1,duration:e,range:null,indexRange:null,timescale:g,media:f}))}return p},getFirstPosition:function(){},getLastPosition:function(){},shouldRefresh:function(){return!1},checkDiscontinuity:function(){return-1},_addSegmentInfos:function(){return!1}}},function(d,g,a){var l=a(76),k=a(28);d=function(){function d(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
var c=a.i(k.a)();this.id=null==f.id?c:""+f.id;this.transport=f.transportType||"";this.adaptations=f.adaptations?Object.keys(f.adaptations).reduce(function(a,b){a[b]=f.adaptations[b].map(function(a){return new l.a(a)});return a},{}):[];this.periods=[{adaptations:this.adaptations}];this.isLive="dynamic"===f.type;this.uris=f.locations||[];this._duration=f.duration;this.suggestedPresentationDelay=f.suggestedPresentationDelay;this.availabilityStartTime=f.availabilityStartTime;this.presentationLiveGap=
f.presentationLiveGap;this.timeShiftBufferDepth=f.timeShiftBufferDepth}d.prototype.getDuration=function(){return this._duration};d.prototype.getUrl=function(){return this.uris[0]};d.prototype.getAdaptations=function(){var a=this.adaptations;if(!a)return[];var c=[],e;for(e in a)c.push.apply(c,a[e]);return c};d.prototype.getAdaptation=function(a){return this.getAdaptations().find(function(c){return a===c.id})};d.prototype.updateLiveGap=function(a){this.isLive&&(this.presentationLiveGap+=a)};return d}();
g.a=d},function(d,g,a){var l=a(28),k=a(84);g.a=function f(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var e=a.i(l.a)();this.id=null==c.id?e:c.id;this.bitrate=c.bitrate;this.codec=c.codecs;null!=c.height&&(this.height=c.height);null!=c.width&&(this.width=c.width);null!=c.mimeType&&(this.mimeType=c.mimeType);this.index=new k.a({index:c.index,rootId:this.id});this.baseURL=c.baseURL;null!=c.codecPrivateData&&
(this._codecPrivateData=c.codecPrivateData);null!=c.channels&&(this._channels=c.channels);null!=c.bitsPerSample&&(this._bitsPerSample=c.bitsPerSample);null!=c.packetSize&&(this._packetSize=c.packetSize);null!=c.samplingRate&&(this._samplingRate=c.samplingRate)}},function(d,g,a){var l=a(78);d=function(){function d(h){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._index=h.index;this._rootId=h.rootId;this._indexHelpers=a.i(l.a)(this._index)}d.prototype.getInitSegment=
function(){return this._indexHelpers.getInitSegment(this._rootId,this._index)};d.prototype.getSegments=function(a,d){return this._indexHelpers.getSegments(this._rootId,this._index,a,d)};d.prototype.shouldRefresh=function(a,d,c){return this._indexHelpers.shouldRefresh(this._index,a,d,c)};d.prototype.getFirstPosition=function(){return this._indexHelpers.getFirstPosition(this._index)};d.prototype.getLastPosition=function(){return this._indexHelpers.getLastPosition(this._index)};d.prototype.checkDiscontinuity=
function(a){return this._indexHelpers.checkDiscontinuity(this._index,a)};d.prototype.scale=function(a){return this._indexHelpers.scale(this._index,a)};d.prototype.setTimescale=function(a){return this._indexHelpers.setTimescale(this._index,a)};d.prototype._addSegments=function(a,d){for(var c=[],e=0;e<a.length;e++)this._indexHelpers._addSegmentInfos(this._index,a[e],d)&&c.push(a[e]);return c};d.prototype.update=function(a){this._index=a._index};d.prototype.getType=function(){return this._index.indexType||
""};return d}();g.a=d},function(d,g,a){function l(a){var b=a[0];return(a=a[1])&&Infinity!==a?"bytes="+ +b+"-"+ +a:"bytes="+ +b+"-"}function k(a){return function(b,c,e){b=e?parseInt(e,10):1;c=""+a;c=c.toString();b=c.length>=b?c:(Array(b+1).join("0")+c).slice(-b);return b}}function h(a,b,c){return-1===a.indexOf("$")?a:a.replace(/\$\$/g,"$").replace(/\$RepresentationID\$/g,c.id).replace(/\$Bandwidth(|\%0(\d+)d)\$/g,k(c.bitrate)).replace(/\$Number(|\%0(\d+)d)\$/g,k(b.number)).replace(/\$Time(|\%0(\d+)d)\$/g,
k(b.time))}var f=a(0);a.n(f);d=a(5);a.n(d);var c=a(14);a.n(c);a(1);var e=a(23),b=a(90),m=a(10),n=a(46),p=a(88),r=a(45),q=a(44),w=d.EmptyObservable.create;g.a=function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},g=d.contentProtectionParser;g||(g=function(){});var k=d.createXHR,y=function(b){var e=b.url;b=b.segment;var d=b.range;b=b.indexRange;if(d&&b&&d[1]===b[0]-1)return a.i(n.a)({url:e,responseType:"arraybuffer",headers:{Range:l([d[0],b[1]])},createXHR:k});d=d?{Range:l(d)}:
null;d=a.i(n.a)({url:e,responseType:"arraybuffer",headers:d,createXHR:k});return b?(e=a.i(n.a)({url:e,responseType:"arraybuffer",headers:{Range:l(b)},createXHR:k}),a.i(c.merge)(d,e)):d},v=function(b){var c=b.segment,g=b.adaptation,m=b.representation;b=b.manifest;var k=c.media,n=c.range,l=c.indexRange;if(c.isInit&&!(k||n||l))return w();var p=d.segmentLoader,k=k?h(k,c,m):"",k=a.i(e.b)(m.baseURL,k),t={adaptation:g,representation:m,manifest:b,segment:c,transport:"dash",url:k};return p?f.Observable.create(function(a){var b=
!1,c=!1,e=p(t,{reject:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c||(b=!0,a.error(e))},resolve:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c||(b=!0,a.next({responseData:e.data,size:e.size||0,duration:e.duration||0}),a.complete())},fallback:function(){c=!0;y(t).subscribe(a)}});return function(){b||c||"function"!==typeof e||e()}}):y(t)},z={loader:function(a){return v({segment:a.segment,representation:a.representation,adaptation:a.adaptation,
manifest:a.manifest})},parser:function(c){var e=c.segment,d=c.adaptation;c=new Uint8Array(c.response.responseData);var h=void 0,g=void 0,m=void 0,k=e.indexRange,n=e.isInit;if(k=a.i(b.a)(c,k?k[0]:0))h=k.segments,g=k.timescale;n||(0<=e.time&&0<=e.duration?m={ts:e.time,d:e.duration}:k&&1===k.segments.length&&(m={ts:k.segments[0].ts,d:k.segments[0].d}));e=c;n&&d.contentProtection&&(e=a.i(b.b)(c,d.contentProtection));return f.Observable.of({segmentData:e,currentSegment:m,nextSegments:h,timescale:g})}};
return{directFile:!1,manifest:{loader:function(b){b=b.url;return a.i(n.a)({url:b,responseType:"document",createXHR:k})},parser:function(b){b=b.response;var c=b.responseData;return f.Observable.of({manifest:a.i(p.a)(c,g),url:b.url})}},audio:z,video:z,text:{loader:function(b){var d=b.segment,f=b.representation,g=d.media,m=d.range;b=d.indexRange;var p=0<=("application/mp4"===f.mimeType)?"arraybuffer":"text";if(d.isInit&&!(g||m||b))return w();d=g?h(g,d,f):"";d=a.i(e.b)(f.baseURL,d);if(m&&b&&m[1]===b[0]-
1)return a.i(n.a)({url:d,responseType:p,headers:{Range:l([m[0],b[1]])},createXHR:k});m=a.i(n.a)({url:d,responseType:p,headers:m?{Range:l(m)}:null,createXHR:k});return b?(b=a.i(n.a)({url:d,responseType:p,headers:{Range:l(b)},createXHR:k}),a.i(c.merge)(m,b)):m},parser:function(c){var e=c.response,d=c.segment,h=c.representation;c=c.adaptation.language;var g=d.isInit,k=d.indexRange,n;"application/mp4"===h.mimeType?(n=new Uint8Array(e.responseData),e=a.i(m.a)(a.i(b.c)(n))):e=n=e.responseData;var l=void 0,
p=void 0,t=void 0;if(n=a.i(b.a)(n,k?k[0]:0))l=n.segments,p=n.timescale;k=[];if(!g)switch(0<=d.time&&0<=d.duration?t={ts:d.time,d:d.duration}:n&&1===n.segments.length&&(t={ts:n.segments[0].ts,d:n.segments[0].d}),d=h.codec,(void 0===d?"":d).toLowerCase()){case "stpp":k=a.i(r.a)(e,c,0);break;default:console.warn("The codec used for the subtitle is not managed yet.")}return f.Observable.of({segmentData:k,currentSegment:t,nextSegments:l,timescale:p})}},image:{loader:function(b){var c=b.segment;b=b.representation;
if(c.isInit)return w();var d=c.media,c=d?h(d,c,b):"",c=a.i(e.b)(b.baseURL,c);return a.i(n.a)({url:c,responseType:"arraybuffer",createXHR:k})},parser:function(b){var c=new Uint8Array(b.response.responseData),e=b=void 0;c&&(c=a.i(q.a)(c),b=c.thumbs,e=c.timescale);return f.Observable.of({segmentData:b,currentSegment:{ts:0,d:Infinity},timescale:e})}}}}},function(d,g,a){var l=a(1);d=a(20);var k=a(43),h=[{k:"profiles",fn:k.g},{k:"width",fn:parseInt},{k:"height",fn:parseInt},{k:"frameRate",fn:k.h},{k:"audioSamplingRate",
fn:k.g},{k:"mimeType",fn:k.g},{k:"segmentProfiles",fn:k.g},{k:"codecs",fn:k.g},{k:"maximumSAPPeriod",fn:parseFloat},{k:"maxPlayoutRate",fn:parseFloat},{k:"codingDependency",fn:k.i}],f=[{k:"timescale",fn:parseInt,def:1},{k:"timeShiftBufferDepth",fn:k.j},{k:"presentationTimeOffset",fn:parseFloat,def:0},{k:"indexRange",fn:k.f},{k:"indexRangeExact",fn:k.i,def:!1},{k:"availabilityTimeOffset",fn:parseFloat},{k:"availabilityTimeComplete",fn:k.i,def:!0}],c=f.concat([{k:"duration",fn:parseInt},{k:"startNumber",
fn:parseInt}]),e={ContentProtection:[{k:"schemeIdUri",fn:k.g},{k:"value",fn:k.g}],SegmentURL:[{k:"media",fn:k.g},{k:"mediaRange",fn:k.f},{k:"index",fn:k.g},{k:"indexRange",fn:k.f}],S:[{k:"t",fn:parseInt,n:"ts"},{k:"d",fn:parseInt},{k:"r",fn:parseInt}],SegmentTimeline:[],SegmentBase:f,SegmentTemplate:c.concat([{k:"initialization",fn:function(a){return{media:a,range:void 0}}},{k:"index",fn:k.g},{k:"media",fn:k.g},{k:"bitstreamSwitching",fn:k.g}]),SegmentList:c,ContentComponent:[{k:"id",fn:k.g},{k:"lang",
fn:d.c,n:"language"},{k:"contentType",fn:k.g},{k:"par",fn:k.k}],Representation:h.concat([{k:"id",fn:k.g},{k:"bandwidth",fn:parseInt,n:"bitrate"},{k:"qualityRanking",fn:parseInt}]),AdaptationSet:h.concat([{k:"id",fn:k.g},{k:"group",fn:parseInt},{k:"lang",fn:d.c,n:"language"},{k:"contentType",fn:k.g},{k:"par",fn:k.k},{k:"minBandwidth",fn:parseInt,n:"minBitrate"},{k:"maxBandwidth",fn:parseInt,n:"maxBitrate"},{k:"minWidth",fn:parseInt},{k:"maxWidth",fn:parseInt},{k:"minHeight",fn:parseInt},{k:"maxHeight",
fn:parseInt},{k:"minFrameRate",fn:k.h},{k:"maxFrameRate",fn:k.h},{k:"segmentAlignment",fn:k.l},{k:"subsegmentAlignment",fn:k.l},{k:"bitstreamSwitching",fn:k.i}]),Period:[{k:"id",fn:k.g},{k:"start",fn:k.j},{k:"duration",fn:k.j},{k:"bitstreamSwitching",fn:k.i}],MPD:[{k:"id",fn:k.g},{k:"profiles",fn:k.g},{k:"type",fn:k.g,def:"static"},{k:"availabilityStartTime",fn:k.m},{k:"availabilityEndTime",fn:k.m},{k:"publishTime",fn:k.m},{k:"mediaPresentationDuration",fn:k.j,n:"duration"},{k:"minimumUpdatePeriod",
fn:k.j},{k:"minBufferTime",fn:k.j},{k:"timeShiftBufferDepth",fn:k.j},{k:"suggestedPresentationDelay",fn:k.j},{k:"maxSegmentDuration",fn:k.j},{k:"maxSubsegmentDuration",fn:k.j}],Role:[{k:"schemeIdUri",fn:k.g},{k:"value",fn:k.g}],Accessibility:[{k:"schemeIdUri",fn:k.g},{k:"value",fn:parseInt}]};g.a=function(b,c){var d=e[b.nodeName];a.i(l.a)(d,"no attributes for "+b.nodeName);for(var f=c||{},h=0;h<d.length;h++){var g=d[h],m=g.k,k=g.fn,x=g.n,g=g.def;b.hasAttribute(m)?f[x||m]=k(b.getAttribute(m)):null!=
g&&(f[x||m]=g)}return f}},function(d,g,a){a.d(g,"a",function(){return l});a.d(g,"b",function(){return k});a.d(g,"c",function(){return h});a.d(g,"d",function(){return f});d=function(a){return function(c){return a.reduce(function(a,e){c.hasOwnProperty(e)&&(a[e]=c[e]);return a},{})}};var l=d("availabilityStartTime baseURL duration id locations periods presentationLiveGap suggestedPresentationDelay timeShiftBufferDepth transportType type".split(" ")),k=d(["adaptations","baseURL","duration","id","start"]),
h=d("contentProtection accessibility baseURL contentProtection id language representations type".split(" ")),f=d("bitrate baseURL codecs height id index mimeType width".split(" "))},function(d,g,a){function l(a,c){return"string"==typeof a?l.parseFromString(a,c):l.parseFromDocument(a,c)}var k=a(1),h=a(89);l.parseFromString=function(a,c){return l.parseFromDocument((new DOMParser).parseFromString(a,"application/xml"),c)};l.parseFromDocument=function(d,c){var e=d.documentElement;k.a.equal(e.nodeName,
"MPD","document root should be MPD");return a.i(h.a)(e,c)};g.a=l},function(d,g,a){function l(b,c){var e=a.i(p.a)(b,function(a,b,e){switch(b){case "BaseURL":a.baseURL=e.textContent;break;case "Location":a.locations.push(e.textContent);break;case "Period":a.periods.push(k(e,c))}return a},{transportType:"dash",periods:[],locations:[]}),e=a.i(q.a)(b,e);if(/dynamic/.test(e.type)){var d=e.periods[0].adaptations.filter(function(a){return"video"==a.type})[0],d=a.i(p.b)(d);d||(console.warn("Live edge not deduced from manifest, setting a default one"),
d=Date.now()/1E3-60);e.availabilityStartTime=e.availabilityStartTime.getTime()/1E3;e.presentationLiveGap=Date.now()/1E3-(d+e.availabilityStartTime)}return a.i(r.a)(e)}function k(b,c){var e=a.i(q.a)(b,a.i(p.a)(b,function(a,b,e){switch(b){case "BaseURL":a.baseURL=e.textContent;break;case "AdaptationSet":b=h(e,c),null==b.id&&(b.id=a.adaptations.length),a.adaptations.push(b)}return a},{adaptations:[]}));return a.i(r.b)(e)}function h(d,h){var g=void 0,m=a.i(p.a)(d,function(d,m,k){switch(m){case "Accessibility":g=
a.i(q.a)(k);break;case "BaseURL":d.baseURL=k.textContent;break;case "ContentComponent":m=a.i(q.a)(k);d.contentComponent=m;break;case "ContentProtection":m=h(a.i(q.a)(k),k);d.contentProtection=m;break;case "Representation":m=f(k);null==m.id&&(m.id=d.representations.length);d.representations.push(m);break;case "Role":m=a.i(q.a)(k);d.role=m;break;case "SegmentBase":d.index=b(k);break;case "SegmentList":d.index=e(k);break;case "SegmentTemplate":d.index=c(k)}return d},{representations:[]}),k=a.i(q.a)(d,
m);k.type=a.i(p.c)(k);k.accessibility=[];a.i(p.d)(g)&&k.accessibility.push("hardOfHearing");a.i(p.e)(g)&&k.accessibility.push("visuallyImpaired");k.representations=k.representations.map(function(a){w.forEach(function(b){!a.hasOwnProperty(b)&&k.hasOwnProperty(b)&&(a[b]=k[b])});return a});return a.i(r.c)(k)}function f(d){var f=a.i(p.a)(d,function(a,d,f){switch(d){case "BaseURL":a.baseURL=f.textContent;break;case "SegmentBase":a.index=b(f);break;case "SegmentList":a.index=e(f);break;case "SegmentTemplate":a.index=
c(f)}return a},{});d=a.i(q.a)(d,f);return a.i(r.d)(d)}function c(a){a=m(a);a.indexType||(a.indexType="template");return a}function e(b){var c=m(b);c.list=[];c.indexType="list";return a.i(p.a)(b,function(b,c,e){"SegmentURL"==c&&b.list.push(a.i(q.a)(e));return b},c)}function b(b){var c=a.i(p.a)(b,function(b,c,e){if("Initialization"==c){var d=c=void 0;e.hasAttribute("range")&&(c=a.i(p.f)(e.getAttribute("range")));e.hasAttribute("sourceURL")&&(d=e.getAttribute("sourceURL"));b.initialization={range:c,
media:d}}return b},a.i(q.a)(b));"SegmentBase"==b.nodeName&&(c.indexType="base",c.timeline=[]);return c}function m(c){return a.i(p.a)(c,function(a,b,c){"SegmentTimeline"==b&&(a.indexType="timeline",a.timeline=n(c));return a},b(c))}function n(b){return a.i(p.a)(b,function(b,c,e){c=b.length;e=a.i(q.a)(e);null==e.ts&&(c=0<c&&b[c-1],e.ts=c?c.ts+c.d*(c.r+1):0);null==e.r&&(e.r=0);b.push(e);return b},[])}a.d(g,"a",function(){return l});a(1);var p=a(43),r=a(87),q=a(86),w=["codecs","height","index","mimeType",
"width"]},function(d,g,a){function l(c,d){for(var f=c.length,h=0,g,m=void 0;h+8<f&&(m=a.i(b.e)(c,h),g=a.i(b.e)(c,h+4),a.i(e.a)(0<m,"dash: out of range size"),g!==d);)h+=m;if(h>=f)return-1;a.i(e.a)(h+m<=f,"dash: atom out of range");return h}function k(c){for(var d=c.length,f=0,h,g=void 0;f+8<d&&(g=a.i(b.e)(c,f),h=a.i(b.e)(c,f+4),a.i(e.a)(0<g,"dash: out of range size"),1835295092!==h);)f+=g;c=f<d?c.subarray(f+8,f+g):null;return c}function h(c,e){var d=l(c,1936286840);if(-1==d)return null;var f=a.i(b.e)(c,
d),d=d+4+4,h=c[d],d=d+8,g=a.i(b.e)(c,d),d=d+4;if(0===h)h=a.i(b.e)(c,d),d+=4,e+=a.i(b.e)(c,d)+f,d+=4;else if(1===h)h=a.i(b.f)(c,d),d+=8,e+=a.i(b.f)(c,d)+f,d+=8;else return null;for(var f=[],d=d+2,k=a.i(b.g)(c,d),d=d+2;0<=--k;){var m=a.i(b.e)(c,d),d=d+4,n=m&2147483647;if(1==(m&2147483648)>>>31)throw Error("not implemented");m=a.i(b.e)(c,d);d+=4;d+=4;f.push({ts:h,d:m,r:0,range:[e,e+n-1]});h+=m;e+=n}return{segments:f,timescale:g}}function f(c){var d=c.systemId;c=c.privateData;d=d.replace(/-/g,"");a.i(e.a)(32===
d.length);d=a.i(b.h)(4,a.i(b.j)(d),a.i(b.i)(c.length),c);c=d.length+8;return a.i(b.h)(a.i(b.i)(c),a.i(b.b)("pssh"),d)}function c(c,e){if(!e||!e.length)return c;var d=l(c,1836019574);if(-1==d)return c;for(var h=a.i(b.e)(c,d),g=[c.subarray(d,d+h)],k=0;k<e.length;k++)g.push(f(e[k]));g=b.h.apply(null,g);g.set(a.i(b.i)(g.length),0);return a.i(b.h)(c.subarray(0,d),g,c.subarray(d+h))}a.d(g,"a",function(){return h});a.d(g,"b",function(){return c});a.d(g,"c",function(){return k});var e=a(1),b=a(10)},function(d,
g,a){var l=a(0);a.n(l);g.a={directFile:!0,manifest:{parser:function(a){a=a.url;return l.Observable.of({manifest:{transportType:"directfile",locations:[a],periods:[],isLive:!1,duration:Infinity,adaptations:null},url:a})}}}},function(d,g,a){d=a(94);var l=a(85);a=a(91);g.a={smooth:d.a,dash:l.a,directfile:a.a}},function(d,g,a){function l(a){return a.replace(c,"\n").replace(f,function(a,b){return String.fromCharCode(b)})}function k(c,d){var f=/<sync[ >]/ig,g=/<sync[ >]|<\/body>/ig,k=[],n=c.match(e)[1],
p,u;g.exec(c);p=/\.(\S+)\s*{([^}]*)}/gi;u={};for(var y;y=p.exec(n);){var v=y[1];y=y[2].match(/\s*lang:\s*(\S+);/i)[1];v&&y&&(u[y]=v)}n=u[d];for(a.i(h.a)(n,"sami: could not find lang "+d+" in CSS");;){p=f.exec(c);u=g.exec(c);if(!p&&!u)break;if(!p||!u||p.index>=u.index)throw Error("parse error");u=c.slice(p.index,u.index);p=u.match(m);if(!p)throw Error("parse error (sync time attribute)");v=+p[1];if(isNaN(v))throw Error("parse error (sync time attribute NaN)");p=k;u=u.split("\n");v/=1E3;y=u.length;
for(var z;0<=--y;)if(z=u[y].match(b)){var A=z[2];n===z[1]&&("&nbsp;"===A?p[p.length-1].end=v:p.push({text:l(A),start:v}))}}return k}a.d(g,"a",function(){return k});var h=a(1),f=/&#([0-9]+);/g,c=/<br>/gi,e=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,b=/\s*<p class=([^>]+)>(.*)/i,m=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i},function(d,g,a){function l(a){return a.responseData.getElementsByTagName("media")[0].getAttribute("src")}function k(a){return(a=a.match(D))&&a[1]||""}function h(a,b){return b?a.replace(D,
"?token="+b):a.replace(D,"")}function f(a,b,c){return a.replace(/\{bitrate\}/g,b.bitrate).replace(/\{start time\}/g,c.time)}var c=a(0);a.n(c);var e=a(10),b=a(3),m=a(23),n=a(46),p=a(96);d=a(95);var r=a(44),q=a(93),w=a(45),t=d.a.patchSegment,x=d.a.createVideoInitSegment,u=d.a.createAudioInitSegment,y=d.a.getMdat,v=d.a.getTraf,z=d.a.parseTfrf,A=d.a.parseTfxd,P={"application/x-sami":q.a,"application/smil":q.a,"application/ttml+xml":w.a,"application/ttml+xml+mp4":w.a,"text/vtt":function(a){return a}},
J=n.a.RequestResponse,E=/\.(isml?)(\?token=\S+)?$/,K=/\.wsx?(\?token=\S+)?/,D=/\?token=(\S+)/;g.a=function(){function d(a,c,e){var d=void 0,f=void 0;e?(a=v(a))?(d=z(a),f=A(a)):b.a.warn("smooth: could not find traf atom"):d=null;f||(f={d:c.duration,ts:c.time});return{nextSegments:d,currentSegment:f}}var g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},q=a.i(p.a)(g),w=g.createXHR,D=function(b){var e=b.segment,d=b.representation,h=b.adaptation;b=b.manifest;if(e.isInit){b={};var k=h._smoothProtection||
{};switch(h.type){case "video":b=x(e.timescale,d.width,d.height,72,72,4,d._codecPrivateData,k.keyId,k.keySystems);break;case "audio":b=u(e.timescale,d._channels,d._bitsPerSample,d._packetSize,d._samplingRate,d._codecPrivateData,k.keyId,k.keySystems)}return c.Observable.of(new J(200,"","arraybuffer",Date.now()-100,Date.now(),b.length,b))}var n=g.segmentLoader,k=f(a.i(m.b)(d.baseURL),d,e),l={adaptation:h,representation:d,segment:e,transport:"smooth",url:k,manifest:b};return n?c.Observable.create(function(a){var b=
!1,c=!1,e=n(l,{reject:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c||(b=!0,a.error(e))},resolve:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c||(b=!0,a.next({responseData:e.data,size:e.size||0,duration:e.duration||0}),a.complete())},fallback:function(){c=!0;S(l).subscribe(a)}});return function(){b||c||"function"!==typeof e||e()}}):S(l)},S=function(b){var c=b.url,e=void 0;if(b=b.segment.range)e=b[0],e=(b=b[1])&&Infinity!==b?"bytes="+ +e+
"-"+ +b:"bytes="+ +e+"-",e={Range:e};return a.i(n.a)({url:c,responseType:"arraybuffer",headers:e,createXHR:w})},C={loader:function(a){return D({segment:a.segment,representation:a.representation,adaptation:a.adaptation,manifest:a.manifest})},parser:function(a){var b=a.segment,e=a.manifest;a=a.response.responseData;if(b.isInit)return c.Observable.of({segmentData:a,timings:null});a=new Uint8Array(a);e=d(a,b,e.isLive);b=e.nextSegments;e=e.currentSegment;a=t(a,e.ts);return c.Observable.of({segmentData:a,
nextSegments:b,currentSegment:e})}};return{directFile:!1,manifest:{resolver:function(b){b=b.url;var e=void 0,d=k(b),e=K.test(b)?a.i(n.a)({url:h(b,""),responseType:"document",resultSelector:l,createXHR:w}):c.Observable.of(b);return e.map(function(a){var b=a.match(E);a=b?a.replace(b[1],b[1]+"/manifest"):a;return{url:h(a,d)}})},loader:function(b){b=b.url;return a.i(n.a)({url:b,responseType:"document",createXHR:w})},parser:function(a){a=a.response;return c.Observable.of({manifest:q(a.responseData),url:a.url})}},
audio:C,video:C,text:{loader:function(b){var e=b.segment,d=b.representation;if(e.isInit)return c.Observable.empty();b=d.mimeType;var h=a.i(m.b)(d.baseURL),e=f(h,d,e);return 0<=b.indexOf("mp4")?a.i(n.a)({url:e,responseType:"arraybuffer",createXHR:w}):a.i(n.a)({url:e,responseType:"text",createXHR:w})},parser:function(b){var f=b.response,h=b.segment,g=b.manifest,k=b.adaptation.language,m=b.representation.mimeType;b=P[m];if(!b)throw Error("could not find a text-track parser for the type "+m);var n=f.responseData;
0<=m.indexOf("mp4")?(n=new Uint8Array(n),f=a.i(e.a)(y(n))):f=n;m=d(n,h,g.isLive);g=m.nextSegments;m=m.currentSegment;h=b(f,k,h.time/h.timescale);return c.Observable.of({segmentData:h,currentSegment:m,nextSegments:g})}},image:{loader:function(b){var e=b.segment;b=b.representation;if(e.isInit)return c.Observable.empty();var d=a.i(m.b)(b.baseURL),e=f(d,b,e);return a.i(n.a)({url:e,responseType:"arraybuffer",createXHR:w})},parser:function(b){var e=new Uint8Array(b.response.responseData),d=b=void 0;e&&
(e=a.i(r.a)(e),b=e.thumbs,d=e.timescale);return c.Observable.of({segmentData:b,currentSegment:{ts:0,d:Infinity},timescale:d})}}}}},function(d,g,a){function l(b,c){var e=c.length+8,d=a.i(n.h),e=a.i(n.i)(e),f;r[b]?f=r[b]:(f=a.i(n.b)(b),r[b]=f);return d(e,f,c)}function k(b,c,e,d,f){for(var h=b.length,g=0,k;g<h;){k=a.i(n.e)(b,g);if(1970628964===a.i(n.e)(b,g+4)&&a.i(n.e)(b,g+8)===c&&a.i(n.e)(b,g+12)===e&&a.i(n.e)(b,g+16)===d&&a.i(n.e)(b,g+20)===f)return b.subarray(g+24,g+k);g+=k}}function h(c,e){for(var d=
c.length,f=0,h,g=void 0;f+8<d&&(g=a.i(n.e)(c,f),h=a.i(n.e)(c,f+4),a.i(b.a)(0<g,"smooth: out of range size"),h!==e);)f+=g;return f<d?c.subarray(f+8,f+g):null}function f(a,b,c,e){var d=[a,b,c];e.forEach(function(a){a=q.pssh(a.systemId,a.privateData,a.keyIds);d.push(a)});return d}function c(b,c,e,d){var f=b.length,h=c.length;e=e.length;b=b.subarray(e,f);f=new Uint8Array(h+(f-e));f.set(c,0);f.set(b,h);c=c.length+8;f.set(a.i(n.i)(c),d+16);return f}function e(b,c,e,d,h,g,k){e=q.mult("stbl",[e,l("stts",
new Uint8Array(8)),l("stsc",new Uint8Array(8)),l("stsz",new Uint8Array(12)),l("stco",new Uint8Array(8))]);var m=l("url ",new Uint8Array([0,0,0,1])),m=q.dref(m),m=q.mult("dinf",[m]);d=q.mult("minf",[d,m,e]);c=q.hdlr(c);e=q.mdhd(b);c=q.mult("mdia",[e,c,d]);h=q.tkhd(h,g,1);h=q.mult("trak",[h,c]);g=q.trex(1);g=q.mult("mvex",[g]);b=q.mvhd(b,1);k=q.mult("moov",f(b,g,h,k));b=q.ftyp("isom",["isom","iso2","iso6","avc1","dash"]);return a.i(n.h)(b,k)}var b=a(1),m=a(9),n=a(10),p=[96E3,88200,64E3,48E3,44100,32E3,
24E3,22050,16E3,12E3,11025,8E3,7350],r={},q={mult:function(a,b){return l(a,n.h.apply(null,b))},avc1encv:function(b,c,e,d,f,h,g,k,m,p){return l(b,a.i(n.h)(6,a.i(n.m)(c),16,a.i(n.m)(e),a.i(n.m)(d),a.i(n.m)(f),2,a.i(n.m)(h),6,[0,1,g.length],a.i(n.b)(g),31-g.length,a.i(n.m)(k),[255,255],m,"encv"===b?p:[]))},avcc:function(b,c,e){e=2===e?1:4===e?3:0;var d=b[1],f=b[2],h=b[3];return l("avcC",a.i(n.h)([1,d,f,h,252|e,225],a.i(n.m)(b.length),b,[1],a.i(n.m)(c.length),c))},dref:function(b){return l("dref",a.i(n.h)(7,
[1],b))},esds:function(b,c){return l("esds",a.i(n.h)(4,[3,25],a.i(n.m)(b),[0,4,17,64,21],11,[5,2],a.i(n.j)(c),[6,1,2]))},frma:function(b){return l("frma",a.i(n.b)(b))},free:function(a){return l("free",new Uint8Array(a-8))},ftyp:function(b,c){return l("ftyp",n.h.apply(null,[a.i(n.b)(b),[0,0,0,1]].concat(c.map(n.b))))},hdlr:function(b){var c;switch(b){case "video":b="vide";c="VideoHandler";break;case "audio":b="soun";c="SoundHandler";break;default:b="hint",c=""}return l("hdlr",a.i(n.h)(8,a.i(n.b)(b),
12,a.i(n.b)(c),1))},mdhd:function(b){return l("mdhd",a.i(n.h)(12,a.i(n.i)(b),8))},moof:function(a,b){return q.mult("moof",[a,b])},mp4aenca:function(b,c,e,d,f,h,g,k){return l(b,a.i(n.h)(6,a.i(n.m)(c),8,a.i(n.m)(e),a.i(n.m)(d),2,a.i(n.m)(f),a.i(n.m)(h),2,g,"enca"===b?k:[]))},mvhd:function(b,c){return l("mvhd",a.i(n.h)(12,a.i(n.i)(b),4,[0,1],2,[1,0],10,[0,1],14,[0,1],14,[64,0,0,0],26,a.i(n.m)(c+1)))},pssh:function(c){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],d=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:[];c=c.replace(/-/g,"");a.i(b.a)(32===c.length,"wrong system id length");var f,h=d.length;0<h?(f=1,d=n.h.apply(null,[a.i(n.i)(h)].concat(d))):(f=0,d=[]);return l("pssh",a.i(n.h)([f,0,0,0],a.i(n.j)(c),d,a.i(n.i)(e.length),e))},saio:function(b,c,e,d){return l("saio",a.i(n.h)(4,[0,0,0,1],a.i(n.i)(b.length+c.length+e.length+d.length+8+8+8+8)))},saiz:function(b){if(0===b.length)return l("saiz",new Uint8Array);var c=a.i(n.e)(b,0),e=a.i(n.e)(b,4),d=new Uint8Array(9+e);
d.set(a.i(n.i)(e),5);for(var e=9,f=8,h,g;f<b.length;)f+=8,2===(c&2)?(g=2,h=a.i(n.g)(b,f),f+=2+6*h):g=h=0,d[e]=6*h+8+g,e++;return l("saiz",d)},schm:function(b,c){return l("schm",a.i(n.h)(4,a.i(n.b)(b),a.i(n.i)(c)))},senc:function(a){return l("senc",a)},smhd:function(){return l("smhd",new Uint8Array(8))},stsd:function(a){return l("stsd",n.h.apply(null,[7,[a.length]].concat(a)))},tkhd:function(b,c,e){return l("tkhd",a.i(n.h)(a.i(n.i)(7),8,a.i(n.i)(e),20,[1,0,0,0],[0,1,0,0],12,[0,1,0,0],12,[64,0,0,0],
a.i(n.m)(b),2,a.i(n.m)(c),2))},trex:function(b){return l("trex",a.i(n.h)(4,a.i(n.i)(b),[0,0,0,1],12))},tfdt:function(b){return l("tfdt",a.i(n.h)([1,0,0,0],a.i(n.n)(b)))},tenc:function(b,c,e){return l("tenc",a.i(n.h)(6,[b,c],a.i(n.j)(e)))},traf:function(a,b,c,e,d){var f=[a,b,c];e&&f.push(q.senc(e),q.saiz(e),q.saio(d,a,b,c));return q.mult("traf",f)},trun:function(b){if(b[11]&1)return b;var c=new Uint8Array(b.length+4);c.set(a.i(n.i)(b.length+4),0);c.set(b.subarray(4,16),4);c[11]|=1;c.set([0,0,0,0],
16);c.set(b.subarray(16,b.length),20);return c},vmhd:function(){var a=new Uint8Array(12);a[3]=1;return l("vmhd",a)}},w={traf:function(a){return(a=h(a,1836019558))?h(a,1953653094):null},senc:function(a){return k(a,2721664850,1520127764,2722393154,2086964724)},tfxd:function(a){return k(a,1830656773,1121273062,2162299933,2952222642)},tfrf:function(a){return k(a,3565190898,3392751253,2387879627,2655430559)},mdat:function(a){return h(a,1835295092)}};g.a={getMdat:w.mdat,getTraf:w.traf,parseTfrf:function(b){b=
w.tfrf(b);if(!b)return[];for(var c=[],e=b[0],d=b[4],f=0;f<d;f++){var h,g;1==e?(g=a.i(n.f)(b,16*f+5),h=a.i(n.f)(b,16*f+13)):(g=a.i(n.e)(b,8*f+5),h=a.i(n.e)(b,8*f+9));c.push({ts:g,d:h})}return c},parseTfxd:function(b){if(b=w.tfxd(b))return{d:a.i(n.f)(b,12),ts:a.i(n.f)(b,4)}},createVideoInitSegment:function(b,c,d,f,h,g,k,m,l){l||(l=[]);var p=k.split("00000001");k=p[1];p=p[2];k=a.i(n.j)(k);p=a.i(n.j)(p);g=q.avcc(k,p,g);l.length?(m=q.tenc(1,8,m),m=q.mult("schi",[m]),k=q.schm("cenc",65536),p=q.frma("avc1"),
m=q.mult("sinf",[p,k,m]),f=q.avc1encv("encv",1,c,d,f,h,"AVC Coding",24,g,m)):f=q.avc1encv("avc1",1,c,d,f,h,"AVC Coding",24,g);f=q.stsd([f]);return e(b,"video",f,q.vmhd(),c,d,l)},createAudioInitSegment:function(b,c,d,f,h,g,k,m){m||(m=[]);g||(g=(32|p.indexOf(h)&31)<<4,g=(g|c&31)<<3,g=a.i(n.o)(a.i(n.m)(g)));g=q.esds(1,g);if(m.length){k=q.tenc(1,8,k);k=q.mult("schi",[k]);var l=q.schm("cenc",65536),r=q.frma("mp4a");k=q.mult("sinf",[r,l,k]);c=q.mp4aenca("enca",1,c,d,f,h,g,k)}else c=q.mp4aenca("mp4a",1,
c,d,f,h,g);c=q.stsd([c]);return e(b,"audio",c,q.smhd(),0,0,m)},patchSegment:function(b,e){var d=b.subarray(0,a.i(n.e)(b,0)),f=q.tfdt(e),h=f.length,g=a.i(n.e)(d,8),k=a.i(n.e)(d,8+g),l=a.i(n.e)(d,8+g+8),p=a.i(n.e)(d,8+g+8+l),r=d.subarray(8,8+g),t=d.subarray(8+g+8,8+g+8+k-8),k=t.subarray(0,l),p=t.subarray(l,l+p);k.set([0,0,0,1],12);t=w.senc(t);p=q.trun(p);f=q.traf(k,f,p,t,r);r=q.moof(r,f);h=8+g+8+l+h;return m.t?c(b,r,d,h):8<=d.length-r.length?(d=d.length-r.length,b.set(r,0),b.set(q.free(d),r.length),
d=r.length+8+d,b.set(a.i(n.i)(d),h+16),b):c(b,r,d,h)}}},function(d,g,a){function l(a){return"boolean"==typeof a?a:"string"==typeof a?"TRUE"===a.toUpperCase():!1}function k(a){if(!a)return Infinity;a=a.index;var b=a.timeline[a.timeline.length-1];return(b.ts+(b.r+1)*b.d)/a.timescale}function h(b){return[{systemId:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",privateData:a.i(f.h)([8,1,18,16],b)}]}var f=a(10),c=a(1),e=a(20),b={audio:"audio/mp4",video:"video/mp4",text:"application/ttml+xml"},m={audio:"mp4a.40.2",
video:"avc1.4D401E"};d={AACL:"audio/mp4",AVC1:"video/mp4",H264:"video/mp4",TTML:"application/ttml+xml+mp4"};var n={audio:[["Bitrate","bitrate",parseInt],["AudioTag","audiotag",parseInt],["FourCC","mimeType",d],["Channels","channels",parseInt],["SamplingRate","samplingRate",parseInt],["BitsPerSample","bitsPerSample",parseInt],["PacketSize","packetSize",parseInt],["CodecPrivateData","codecPrivateData",String]],video:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",d],["CodecPrivateData","codecs",
function(a){return(a=(/00000001\d7([0-9a-fA-F]{6})/.exec(a)||[])[1])?"avc1."+a:""}],["MaxWidth","width",parseInt],["MaxHeight","height",parseInt],["CodecPrivateData","codecPrivateData",String]],text:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",d]]};g.a=function(){function d(a,b,c){for(a=a.firstElementChild;a;)c=b(c,a.nodeName,a),a=a.nextElementSibling;return c}function g(f,h){f.hasAttribute("Timescale")&&(h=+f.getAttribute("Timescale"));var g=f.getAttribute("Type"),k=f.getAttribute("Subtype"),
l=f.getAttribute("Name"),p=a.i(e.c)(f.getAttribute("Language")),r=f.getAttribute("Url"),q=n[g],t=[];a.i(c.a)(q,"unrecognized QualityLevel type "+g);var w=0,x=d(f,function(a,b,c){switch(b){case "QualityLevel":b={};for(var e=0;e<q.length;e++){var d=q[e],f=d[0],h=d[2];b[d[1]]="function"==typeof h?h(c.getAttribute(f)):h[c.getAttribute(f)]}"audio"==g&&(c=c.getAttribute("FourCC")||"",e=b.codecPrivateData,c="AACH"==c?5:e?(parseInt(e.substr(0,2),16)&248)>>3:2,b.codecs=c?"mp4a.40."+c:"");if("video"!=g||b.bitrate>
v)b.id=w++,a.representations.push(b);break;case "c":b=a.index;var e=a.index.timeline,d=e.length,f=0<d?e[d-1]:{d:0,ts:0,r:0},h=+c.getAttribute("d"),k=c.getAttribute("t");(c=+c.getAttribute("r"))&&c--;0<d&&!f.d&&(f.d=k-f.ts,e[d-1]=f);0<d&&h==f.d&&null==k?f.r+=(c||0)+1:e.push({d:h,ts:null==k?f.ts+f.d*(f.r+1):+k,r:c});b.timeline=e}return a},{representations:[],index:{timeline:[],indexType:"smooth",timescale:h,initialization:{}}}),u=x.representations,x=x.index;a.i(c.a)(u.length,"adaptation should have at least one representation");
u.forEach(function(a){return a.codecs=a.codecs||m[g]});u.forEach(function(a){return a.mimeType=a.mimeType||b[g]});if("ADVT"==k)return null;"text"===g&&"DESC"===k&&t.push("hardOfHearing");return{type:g,accessibility:t,index:x,representations:u,name:l,language:p,baseURL:r}}function q(a){return w((new DOMParser).parseFromString(a,"application/xml"))}function w(b){b=b.documentElement;c.a.equal(b.nodeName,"SmoothStreamingMedia","document root should be SmoothStreamingMedia");a.i(c.a)(/^[2]-[0-2]$/.test(b.getAttribute("MajorVersion")+
"-"+b.getAttribute("MinorVersion")),"Version should be 2.0, 2.1 or 2.2");var e=+b.getAttribute("Timescale")||1E7,h=[],m=d(b,function(b,d,k){switch(d){case "Protection":k=k.firstElementChild;c.a.equal(k.nodeName,"ProtectionHeader","Protection should have ProtectionHeader child");d=a.i(f.b)(atob(k.textContent));var m;m=a.i(f.d)(d,8);m=a.i(f.k)(d.subarray(10,10+m));m=(new DOMParser).parseFromString(m,"application/xml").querySelector("KID").textContent;m=a.i(f.l)(atob(m)).toLowerCase();var n=a.i(f.j)(m);
k=k.getAttribute("SystemID").toLowerCase().replace(/\{|\}/g,"");d={keyId:m,keySystems:[{systemId:k,privateData:d}].concat(z(n))};b.protection=d;break;case "StreamIndex":if(d=g(k,e)){k=0;do m=d.type+"_"+(d.language?d.language+"_":"")+k++;while(h.includes(m));d.id=m;h.push(m);b.adaptations.push(d)}}return b},{protection:null,adaptations:[]}),n=m.protection,m=m.adaptations;m.forEach(function(a){return a.smoothProtection=n});var p=void 0,r=void 0,q=void 0,t=void 0,w=l(b.getAttribute("IsLive"));if(w)var p=
u,q=+b.getAttribute("DVRWindowLength")/e,t=y,r=m.filter(function(a){return"video"==a.type})[0],x=m.filter(function(a){return"audio"==a.type})[0],r=Math.min(k(r),k(x)),r=Date.now()/1E3-(r+t);return{transportType:"smooth",profiles:"",type:w?"dynamic":"static",suggestedPresentationDelay:p,timeShiftBufferDepth:q,presentationLiveGap:r,availabilityStartTime:t,periods:[{duration:(+b.getAttribute("Duration")||Infinity)/e,adaptations:m,laFragCount:+b.getAttribute("LookAheadFragmentCount")}]}}function t(a){return"string"==
typeof a?q(a):w(a)}var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},u=x.suggestedPresentationDelay||20,y=x.referenceDateTime||Date.UTC(1970,0,1,0,0,0,0)/1E3,v=x.minRepresentationBitrate||19E4,z=x.keySystems||h;t.parseFromString=q;t.parseFromDocument=w;return t}},function(d,g,a){function l(a){return a*Math.pow(2,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)-1)*(1+(2*Math.random()-1)*k)}a.d(g,"a",function(){return l});var k=.3},function(d,g,a){a.d(g,"a",function(){return l});
var l=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.hash={}}a.prototype.add=function(a){this.hash[a]=!0};a.prototype.remove=function(a){delete this.hash[a]};a.prototype.test=function(a){return!0===this.hash[a]};return a}()},function(d,g,a){function l(a){return null==a?"":String(a).replace(n,function(a){return p[a]})}function k(b){var c=b.getAverageBitrates(),d=void 0,f=void 0;c.video.take(1).subscribe(function(a){return f=a|0});c.audio.take(1).subscribe(function(a){return d=
a|0});return{manifest:b._manifest,version:b.version,timeFragment:b.frag,currentTime:b.getCurrentTime(),state:b.getPlayerState(),buffer:a.i(e.b)(b.video.buffered),volume:b.getVolume(),video:{adaptation:b.adas.video,representation:b.reps.video,maxBitrate:b.getVideoMaxBitrate(),bufferSize:b.getVideoBufferSize(),avrBitrate:f},audio:{adaptation:b.adas.audio,representation:b.reps.audio,maxBitrate:b.getAudioMaxBitrate(),bufferSize:b.getAudioBufferSize(),avrBitrate:d}}}function h(a,b){var c=b.parentNode.querySelector("#cp--debug-infos-content");
if(c){var e=void 0;try{e=k(a)}catch(v){return}var d=e,f=d.video,h=d.audio,d=d.manifest,e="<b>Player v"+e.version+"</b> ("+e.state+")<br>";d&&f&&h&&(e+=["Container: "+l(d.transport),"Live: "+l(""+d.isLive),"Downloading bitrate (Kbit/s):\n          "+(f.representation.bitrate/1E3).toFixed(3)+"/"+(h.representation.bitrate/1E3).toFixed(3),"Estimated bandwidth (Kbit/s):\n          "+(f.avrBitrate/1E3).toFixed(3)+"/"+(h.avrBitrate/1E3).toFixed(3),"Location: "+d.uris[0]].join("<br>"));c.innerHTML=e}}function f(a,
e){var d="<style>\n#cp--debug-infos {\n  position: absolute;\n  top: "+l(e.offsetTop+10)+"px;\n  left: "+l(e.offsetLeft+10)+'px;\n  width: 500px;\n  height: 300px;\n  background-color: rgba(10, 10, 10, 0.83);\n  overflow: hidden;\n  color: white;\n  text-align: left;\n  padding: 2em;\n  box-sizing: border-box;\n}\n#cp--debug-hide-infos {\n  float: right;\n  cursor: pointer;\n}\n</style>\n<div id="cp--debug-infos">\n  <a id="cp--debug-hide-infos">[x]</a>\n  <p id="cp--debug-infos-content"></p>\n</div>',
f=e.parentNode,g=f.querySelector("#cp--debug-infos-container");g||(g=document.createElement("div"),g.setAttribute("id","cp--debug-infos-container"),f.appendChild(g));g.innerHTML=d;m||(m=f.querySelector("#cp--debug-hide-infos"),m.addEventListener("click",function(){return c(e)}));b&&clearInterval(b);b=setInterval(function(){return h(a,e)},1E3);h(a,e)}function c(a){(a=a.parentNode.querySelector("#cp--debug-infos-container"))&&a.parentNode.removeChild(a);b&&(clearInterval(b),b=null);m&&(m.removeEventListener("click",
c),m=null)}var e=a(18),b=void 0,m=void 0,n=/[&<>"']/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};g.a={getDebug:k,showDebug:f,hideDebug:c,toggleDebug:function(a,b){b.parentNode.querySelector("#cp--debug-infos-container")?c(b):f(a,b)}}},function(d,g,a){g.a=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(a),h=1;h<arguments.length;h++){var f=arguments[h];if(void 0!==f&&null!==f)for(var c in f)f.hasOwnProperty(c)&&
(d[c]=f[c])}return d}},function(d,g,a){var l=[];g.a=function(a){l.includes(a)||(console.warn(a),l.push(a))}},function(d,g,a){var l=this&&this.__extends||function(a,d){function f(){this.constructor=a}for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);a.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)};d=function(a){function d(d,c,e){a.call(this);this.parent=d;this.outerValue=c;this.outerIndex=e;this.index=0}l(d,a);d.prototype._next=function(a){this.parent.notifyNext(this.outerValue,
a,this.outerIndex,this.index++,this)};d.prototype._error=function(a){this.parent.notifyError(a,this);this.unsubscribe()};d.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe()};return d}(a(2).Subscriber);g.InnerSubscriber=d},function(d,g,a){var l=a(0);d=function(){function a(a,d,c){this.kind=a;this.value=d;this.error=c;this.hasValue="N"===a}a.prototype.observe=function(a){switch(this.kind){case "N":return a.next&&a.next(this.value);case "E":return a.error&&a.error(this.error);
case "C":return a.complete&&a.complete()}};a.prototype["do"]=function(a,d,c){switch(this.kind){case "N":return a&&a(this.value);case "E":return d&&d(this.error);case "C":return c&&c()}};a.prototype.accept=function(a,d,c){return a&&"function"===typeof a.next?this.observe(a):this["do"](a,d,c)};a.prototype.toObservable=function(){switch(this.kind){case "N":return l.Observable.of(this.value);case "E":return l.Observable["throw"](this.error);case "C":return l.Observable.empty()}throw Error("unexpected notification kind value");
};a.createNext=function(d){return"undefined"!==typeof d?new a("N",d):this.undefinedValueNotification};a.createError=function(d){return new a("E",void 0,d)};a.createComplete=function(){return this.completeNotification};a.completeNotification=new a("C");a.undefinedValueNotification=new a("N",void 0);return a}();g.Notification=d},function(d,g,a){d=function(){function a(d,g){void 0===g&&(g=a.now);this.SchedulerAction=d;this.now=g}a.prototype.schedule=function(a,d,f){void 0===d&&(d=0);return(new this.SchedulerAction(this,
a)).schedule(f,d)};a.now=Date.now?Date.now:function(){return+new Date};return a}();g.Scheduler=d},function(d,g,a){var l=this&&this.__extends||function(a,d){function f(){this.constructor=a}for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);a.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)};d=function(a){function d(d,c){a.call(this);this.subject=d;this.subscriber=c;this.closed=!1}l(d,a);d.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var a=this.subject,c=a.observers;
this.subject=null;!c||0===c.length||a.isStopped||a.closed||(a=c.indexOf(this.subscriber),-1!==a&&c.splice(a,1))}};return d}(a(4).Subscription);g.SubjectSubscription=d},function(d,g,a){d=a(0);a=a(139);d.Observable.empty=a.empty},function(d,g,a){d=a(0);a=a(140);d.Observable.of=a.of},function(d,g,a){d=a(0);a=a(141);d.Observable["throw"]=a._throw},function(d,g,a){d=a(0);a=a(142);d.Observable.prototype["catch"]=a._catch;d.Observable.prototype._catch=a._catch},function(d,g,a){d=a(0);a=a(52);d.Observable.prototype.concat=
a.concat},function(d,g,a){d=a(0);a=a(144);d.Observable.prototype.concatAll=a.concatAll},function(d,g,a){d=a(0);a=a(145);d.Observable.prototype.concatMap=a.concatMap},function(d,g,a){d=a(0);a=a(146);d.Observable.prototype.debounceTime=a.debounceTime},function(d,g,a){d=a(0);a=a(147);d.Observable.prototype.distinctUntilChanged=a.distinctUntilChanged},function(d,g,a){d=a(0);a=a(148);d.Observable.prototype["do"]=a._do;d.Observable.prototype._do=a._do},function(d,g,a){d=a(0);a=a(149);d.Observable.prototype.filter=
a.filter},function(d,g,a){d=a(0);a=a(150);d.Observable.prototype["finally"]=a._finally;d.Observable.prototype._finally=a._finally},function(d,g,a){d=a(0);a=a(151);d.Observable.prototype.ignoreElements=a.ignoreElements},function(d,g,a){d=a(0);a=a(152);d.Observable.prototype.map=a.map},function(d,g,a){d=a(0);a=a(153);d.Observable.prototype.mapTo=a.mapTo},function(d,g,a){d=a(0);a=a(53);d.Observable.prototype.mergeMap=a.mergeMap;d.Observable.prototype.flatMap=a.mergeMap},function(d,g,a){d=a(0);a=a(33);
d.Observable.prototype.multicast=a.multicast},function(d,g,a){d=a(0);a=a(156);d.Observable.prototype.publish=a.publish},function(d,g,a){d=a(0);a=a(157);d.Observable.prototype.scan=a.scan},function(d,g,a){d=a(0);a=a(158);d.Observable.prototype.share=a.share},function(d,g,a){d=a(0);a=a(159);d.Observable.prototype.skip=a.skip},function(d,g,a){d=a(0);a=a(160);d.Observable.prototype.startWith=a.startWith},function(d,g,a){d=a(0);a=a(161);d.Observable.prototype.switchMap=a.switchMap},function(d,g,a){d=a(0);
a=a(162);d.Observable.prototype.take=a.take},function(d,g,a){d=a(0);a=a(163);d.Observable.prototype.takeUntil=a.takeUntil},function(d,g,a){d=a(0);a=a(164);d.Observable.prototype.timeout=a.timeout},function(d,g,a){var l=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};d=a(0);var k=a(31),h=a(5);a=function(a){function c(c,b){a.call(this);this.arrayLike=c;this.scheduler=
b;b||1!==c.length||(this._isScalar=!0,this.value=c[0])}l(c,a);c.create=function(a,b){var e=a.length;return 0===e?new h.EmptyObservable:1===e?new k.ScalarObservable(a[0],b):new c(a,b)};c.dispatch=function(a){var b=a.arrayLike,c=a.index,e=a.subscriber;e.closed||(c>=a.length?e.complete():(e.next(b[c]),a.index=c+1,this.schedule(a)))};c.prototype._subscribe=function(a){var b=this.arrayLike,e=this.scheduler,d=b.length;if(e)return e.schedule(c.dispatch,0,{arrayLike:b,index:0,length:d,subscriber:a});for(e=
0;e<d&&!a.closed;e++)a.next(b[e]);a.complete()};return c}(d.Observable);g.ArrayLikeObservable=a},function(d,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};d=a(8);var k=a(0),h=a(2),f=a(4);a=function(a){function b(b,c){a.call(this);this.source=b;this.subjectFactory=c;this._refCount=0}l(b,a);b.prototype._subscribe=function(a){return this.getSubject().subscribe(a)};
b.prototype.getSubject=function(){var a=this._subject;if(!a||a.isStopped)this._subject=this.subjectFactory();return this._subject};b.prototype.connect=function(){var a=this._connection;a||(a=this._connection=new f.Subscription,a.add(this.source.subscribe(new c(this.getSubject(),this))),a.closed?(this._connection=null,a=f.Subscription.EMPTY):this._connection=a);return a};b.prototype.refCount=function(){return this.lift(new e(this))};return b}(k.Observable);g.ConnectableObservable=a;g.connectableObservableDescriptor=
{operator:{value:null},_refCount:{value:0,writable:!0},_subscribe:{value:a.prototype._subscribe},getSubject:{value:a.prototype.getSubject},connect:{value:a.prototype.connect},refCount:{value:a.prototype.refCount}};var c=function(a){function b(b,c){a.call(this,b);this.connectable=c}l(b,a);b.prototype._error=function(b){this._unsubscribe();a.prototype._error.call(this,b)};b.prototype._complete=function(){this._unsubscribe();a.prototype._complete.call(this)};b.prototype._unsubscribe=function(){var a=
this.connectable;if(a){this.connectable=null;var b=a._connection;a._refCount=0;a._subject=null;a._connection=null;b&&b.unsubscribe()}};return b}(d.SubjectSubscriber),e=function(){function a(a){this.connectable=a}a.prototype.call=function(a,c){var e=this.connectable;e._refCount++;var d=new b(a,e),f=c.subscribe(d);d.closed||(d.connection=e.connect());return f};return a}(),b=function(a){function b(b,c){a.call(this,b);this.connectable=c}l(b,a);b.prototype._unsubscribe=function(){var a=this.connectable;
if(a){this.connectable=null;var b=a._refCount;0>=b?this.connection=null:(a._refCount=b-1,1<b?this.connection=null:(b=this.connection,a=a._connection,this.connection=null,!a||b&&a!==b||a.unsubscribe()))}else this.connection=null};return b}(h.Subscriber)},function(d,g,a){var l=this&&this.__extends||function(a,d){function f(){this.constructor=a}for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);a.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)};d=function(a){function d(d,c){a.call(this);
this.error=d;this.scheduler=c}l(d,a);d.create=function(a,c){return new d(a,c)};d.dispatch=function(a){a.subscriber.error(a.error)};d.prototype._subscribe=function(a){var c=this.error,e=this.scheduler;if(e)return e.schedule(d.dispatch,0,{error:c,subscriber:a});a.error(c)};return d}(a(0).Observable);g.ErrorObservable=d},function(d,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=
b.prototype,new c)},k=a(16),h=a(60),f=a(50),c=a(137),e=a(13),b=a(132),m=a(34),n=a(0),p=a(155),r=a(35);d=function(a){function d(b,c){a.call(this,null);this.ish=b;this.scheduler=c}l(d,a);d.create=function(a,g){if(null!=a){if("function"===typeof a[r.$$observable])return a instanceof n.Observable&&!g?a:new d(a,g);if(k.isArray(a))return new e.ArrayObservable(a,g);if(h.isPromise(a))return new f.PromiseObservable(a,g);if("function"===typeof a[m.$$iterator]||"string"===typeof a)return new c.IteratorObservable(a,
g);if(a&&"number"===typeof a.length)return new b.ArrayLikeObservable(a,g)}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};d.prototype._subscribe=function(a){var b=this.ish,c=this.scheduler;return null==c?b[r.$$observable]().subscribe(a):b[r.$$observable]().subscribe(new p.ObserveOnSubscriber(a,c,0))};return d}(n.Observable);g.FromObservable=d},function(d,g,a){var l=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);
a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)},k=a(58);d=a(0);var h=a(24);a=function(a){function c(c,b){void 0===c&&(c=0);void 0===b&&(b=h.async);a.call(this);this.period=c;this.scheduler=b;if(!k.isNumeric(c)||0>c)this.period=0;b&&"function"===typeof b.schedule||(this.scheduler=h.async)}l(c,a);c.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=h.async);return new c(a,b)};c.dispatch=function(a){var b=a.subscriber,c=a.period;b.next(a.index);b.closed||(a.index+=1,this.schedule(a,
c))};c.prototype._subscribe=function(a){var b=this.period;a.add(this.scheduler.schedule(c.dispatch,b,{index:0,subscriber:a,period:b}))};return c}(d.Observable);g.IntervalObservable=a},function(d,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)},k=a(6);d=a(0);var h=a(34);a=function(a){function b(b,e){a.call(this);this.scheduler=e;if(null==b)throw Error("iterator cannot be null.");
var d;if((d=b[h.$$iterator])||"string"!==typeof b)if(d||void 0===b.length){if(!d)throw new TypeError("object is not iterable");d=b[h.$$iterator]()}else d=new c(b);else d=new f(b);this.iterator=d}l(b,a);b.create=function(a,c){return new b(a,c)};b.dispatch=function(a){var b=a.index,c=a.iterator,e=a.subscriber;if(a.hasError)e.error(a.error);else{var d=c.next();d.done?e.complete():(e.next(d.value),a.index=b+1,e.closed?"function"===typeof c["return"]&&c["return"]():this.schedule(a))}};b.prototype._subscribe=
function(a){var c=this.iterator,e=this.scheduler;if(e)return e.schedule(b.dispatch,0,{index:0,iterator:c,subscriber:a});do{e=c.next();if(e.done){a.complete();break}else a.next(e.value);if(a.closed){"function"===typeof c["return"]&&c["return"]();break}}while(1)};return b}(d.Observable);g.IteratorObservable=a;var f=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.str=a;this.idx=b;this.len=c}a.prototype[h.$$iterator]=function(){return this};a.prototype.next=function(){return this.idx<
this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}};return a}(),c=function(){function a(a,b,c){void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&k.root.isFinite(c)){var d;d=+c;d=0===d?d:isNaN(d)?d:0>d?-1:1;c=d*Math.floor(Math.abs(c));c=0>=c?0:c>e?e:c}this.arr=a;this.idx=b;this.len=c}a.prototype[h.$$iterator]=function(){return this};a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,
value:void 0}};return a}(),e=Math.pow(2,53)-1},function(d,g,a){var l=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};d=a(0);var k=a(61);a=function(a){function d(){a.call(this)}l(d,a);d.create=function(){return new d};d.prototype._subscribe=function(a){k.noop()};return d}(d.Observable);g.NeverObservable=a},function(d,g,a){d=a(5);g.empty=d.EmptyObservable.create},
function(d,g,a){d=a(13);g.of=d.ArrayObservable.of},function(d,g,a){d=a(134);g._throw=d.ErrorObservable.create},function(d,g,a){var l=this&&this.__extends||function(a,e){function b(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)};d=a(12);var k=a(15);g._catch=function(a){a=new h(a);var c=this.lift(a);return a.caught=c};var h=function(){function a(a){this.selector=a}a.prototype.call=function(a,b){return b.subscribe(new f(a,
this.selector,this.caught))};return a}(),f=function(a){function c(b,c,e){a.call(this,b);this.selector=c;this.caught=e}l(c,a);c.prototype.error=function(a){if(!this.isStopped){var b=void 0;try{b=this.selector(a,this.caught)}catch(n){this.destination.error(n);return}this.unsubscribe();this.destination.remove(this);k.subscribeToResult(this,b)}};return c}(d.OuterSubscriber)},function(d,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=
b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},k=a(13),h=a(16);d=a(12);var f=a(15),c={};g.combineLatest=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=null;"function"===typeof a[a.length-1]&&(b=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0]);a.unshift(this);return this.lift.call(new k.ArrayObservable(a),new e(b))};var e=function(){function a(a){this.project=a}a.prototype.call=function(a,c){return c.subscribe(new b(a,this.project))};return a}();
g.CombineLatestOperator=e;var b=function(a){function b(b,c){a.call(this,b);this.project=c;this.active=0;this.values=[];this.observables=[]}l(b,a);b.prototype._next=function(a){this.values.push(c);this.observables.push(a)};b.prototype._complete=function(){var a=this.observables,b=a.length;if(0===b)this.destination.complete();else{this.toRespond=this.active=b;for(var c=0;c<b;c++){var e=a[c];this.add(f.subscribeToResult(this,e,e,c))}}};b.prototype.notifyComplete=function(a){0===--this.active&&this.destination.complete()};
b.prototype.notifyNext=function(a,b,e,d,f){a=this.values;d=a[e];d=this.toRespond?d===c?--this.toRespond:this.toRespond:0;a[e]=b;0===d&&(this.project?this._tryProject(a):this.destination.next(a.slice()))};b.prototype._tryProject=function(a){var b;try{b=this.project.apply(this,a)}catch(q){this.destination.error(q);return}this.destination.next(b)};return b}(d.OuterSubscriber);g.CombineLatestSubscriber=b},function(d,g,a){var l=a(32);g.concatAll=function(){return this.lift(new l.MergeAllOperator(1))}},
function(d,g,a){var l=a(53);g.concatMap=function(a,d){return this.lift(new l.MergeMapOperator(a,d,1))}},function(d,g,a){function l(a){a.debouncedNext()}var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};d=a(2);var h=a(24);g.debounceTime=function(a,b){void 0===b&&(b=h.async);return this.lift(new f(a,b))};var f=function(){function a(a,c){this.dueTime=a;this.scheduler=
c}a.prototype.call=function(a,e){return e.subscribe(new c(a,this.dueTime,this.scheduler))};return a}(),c=function(a){function b(b,c,e){a.call(this,b);this.dueTime=c;this.scheduler=e;this.lastValue=this.debouncedSubscription=null;this.hasValue=!1}k(b,a);b.prototype._next=function(a){this.clearDebounce();this.lastValue=a;this.hasValue=!0;this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))};b.prototype._complete=function(){this.debouncedNext();this.destination.complete()};
b.prototype.debouncedNext=function(){this.clearDebounce();this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)};b.prototype.clearDebounce=function(){var a=this.debouncedSubscription;null!==a&&(this.remove(a),a.unsubscribe(),this.debouncedSubscription=null)};return b}(d.Subscriber)},function(d,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=
b.prototype,new c)};d=a(2);var k=a(38),h=a(25);g.distinctUntilChanged=function(a,b){return this.lift(new f(a,b))};var f=function(){function a(a,c){this.compare=a;this.keySelector=c}a.prototype.call=function(a,e){return e.subscribe(new c(a,this.compare,this.keySelector))};return a}(),c=function(a){function b(b,c,e){a.call(this,b);this.keySelector=e;this.hasKey=!1;"function"===typeof c&&(this.compare=c)}l(b,a);b.prototype.compare=function(a,b){return a===b};b.prototype._next=function(a){var b=a;if(this.keySelector&&
(b=k.tryCatch(this.keySelector)(a),b===h.errorObject))return this.destination.error(h.errorObject.e);var c=!1;if(this.hasKey){if(c=k.tryCatch(this.compare)(this.key,b),c===h.errorObject)return this.destination.error(h.errorObject.e)}else this.hasKey=!0;!1===!!c&&(this.key=b,this.destination.next(a))};return b}(d.Subscriber)},function(d,g,a){var l=this&&this.__extends||function(a,e){function b(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.prototype=null===e?Object.create(e):
(b.prototype=e.prototype,new b)},k=a(2);g._do=function(a,e,b){return this.lift(new h(a,e,b))};var h=function(){function a(a,b,c){this.nextOrObserver=a;this.error=b;this.complete=c}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.nextOrObserver,this.error,this.complete))};return a}(),f=function(a){function c(b,c,e,d){a.call(this,b);b=new k.Subscriber(c,e,d);b.syncErrorThrowable=!0;this.add(b);this.safeSubscriber=b}l(c,a);c.prototype._next=function(a){var b=this.safeSubscriber;b.next(a);
b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.next(a)};c.prototype._error=function(a){var b=this.safeSubscriber;b.error(a);b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.error(a)};c.prototype._complete=function(){var a=this.safeSubscriber;a.complete();a.syncErrorThrown?this.destination.error(a.syncErrorValue):this.destination.complete()};return c}(k.Subscriber)},function(d,g,a){var l=this&&this.__extends||function(a,c){function e(){this.constructor=
a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};d=a(2);g.filter=function(a,c){return this.lift(new k(a,c))};var k=function(){function a(a,e){this.predicate=a;this.thisArg=e}a.prototype.call=function(a,e){return e.subscribe(new h(a,this.predicate,this.thisArg))};return a}(),h=function(a){function c(c,b,d){a.call(this,c);this.predicate=b;this.thisArg=d;this.count=0;this.predicate=b}l(c,a);c.prototype._next=function(a){var b;try{b=
this.predicate.call(this.thisArg,a,this.count++)}catch(m){this.destination.error(m);return}b&&this.destination.next(a)};return c}(d.Subscriber)},function(d,g,a){var l=this&&this.__extends||function(a,e){function b(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)};d=a(2);var k=a(4);g._finally=function(a){return this.lift(new h(a))};var h=function(){function a(a){this.callback=a}a.prototype.call=function(a,b){return b.subscribe(new f(a,
this.callback))};return a}(),f=function(a){function c(b,c){a.call(this,b);this.add(new k.Subscription(c))}l(c,a);return c}(d.Subscriber)},function(d,g,a){var l=this&&this.__extends||function(a,e){function b(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)};d=a(2);var k=a(61);g.ignoreElements=function(){return this.lift(new h)};var h=function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new f(a))};
return a}(),f=function(a){function c(){a.apply(this,arguments)}l(c,a);c.prototype._next=function(a){k.noop()};return c}(d.Subscriber)},function(d,g,a){var l=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};d=a(2);g.map=function(a,c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new k(a,
c))};var k=function(){function a(a,e){this.project=a;this.thisArg=e}a.prototype.call=function(a,e){return e.subscribe(new h(a,this.project,this.thisArg))};return a}();g.MapOperator=k;var h=function(a){function c(c,b,d){a.call(this,c);this.project=b;this.count=0;this.thisArg=d||this}l(c,a);c.prototype._next=function(a){var b;try{b=this.project.call(this.thisArg,a,this.count++)}catch(m){this.destination.error(m);return}this.destination.next(b)};return c}(d.Subscriber)},function(d,g,a){var l=this&&this.__extends||
function(a,c){function e(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};d=a(2);g.mapTo=function(a){return this.lift(new k(a))};var k=function(){function a(a){this.value=a}a.prototype.call=function(a,e){return e.subscribe(new h(a,this.value))};return a}(),h=function(a){function c(c,b){a.call(this,c);this.value=b}l(c,a);c.prototype._next=function(a){this.destination.next(this.value)};return c}(d.Subscriber)},
function(d,g,a){function l(){for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];var e=Number.POSITIVE_INFINITY,b=null,d=a[a.length-1];f.isScheduler(d)?(b=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(e=a.pop())):"number"===typeof d&&(e=a.pop());return null===b&&1===a.length?a[0]:(new k.ArrayObservable(a,b)).lift(new h.MergeAllOperator(e))}var k=a(13),h=a(32),f=a(17);g.merge=function(){for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];return this.lift.call(l.apply(void 0,
[this].concat(a)))};g.mergeStatic=l},function(d,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};d=a(2);var k=a(103);g.observeOn=function(a,b){void 0===b&&(b=0);return this.lift(new h(a,b))};var h=function(){function a(a,c){void 0===c&&(c=0);this.scheduler=a;this.delay=c}a.prototype.call=function(a,c){return c.subscribe(new f(a,this.scheduler,this.delay))};
return a}();g.ObserveOnOperator=h;var f=function(a){function b(b,c,e){void 0===e&&(e=0);a.call(this,b);this.scheduler=c;this.delay=e}l(b,a);b.dispatch=function(a){var b=a.subscription;a.notification.observe(a.destination);b&&b.unsubscribe()};b.prototype.scheduleMessage=function(a){a=new c(a,this.destination);a.subscription=this.add(this.scheduler.schedule(b.dispatch,this.delay,a))};b.prototype._next=function(a){this.scheduleMessage(k.Notification.createNext(a))};b.prototype._error=function(a){this.scheduleMessage(k.Notification.createError(a))};
b.prototype._complete=function(){this.scheduleMessage(k.Notification.createComplete())};return b}(d.Subscriber);g.ObserveOnSubscriber=f;var c=function(){return function(a,b){this.notification=a;this.destination=b}}();g.ObserveOnMessage=c},function(d,g,a){var l=a(8),k=a(33);g.publish=function(a){return a?k.multicast.call(this,function(){return new l.Subject},a):k.multicast.call(this,new l.Subject)}},function(d,g,a){var l=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&
(a[b]=c[b]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};d=a(2);g.scan=function(a,c){var e=!1;2<=arguments.length&&(e=!0);return this.lift(new k(a,c,e))};var k=function(){function a(a,e,b){void 0===b&&(b=!1);this.accumulator=a;this.seed=e;this.hasSeed=b}a.prototype.call=function(a,e){return e.subscribe(new h(a,this.accumulator,this.seed,this.hasSeed))};return a}(),h=function(a){function c(c,b,d,f){a.call(this,c);this.accumulator=b;this._seed=d;this.hasSeed=f;this.index=0}
l(c,a);Object.defineProperty(c.prototype,"seed",{get:function(){return this._seed},set:function(a){this.hasSeed=!0;this._seed=a},enumerable:!0,configurable:!0});c.prototype._next=function(a){if(this.hasSeed)return this._tryNext(a);this.seed=a;this.destination.next(a)};c.prototype._tryNext=function(a){var b=this.index++,c;try{c=this.accumulator(this.seed,a,b)}catch(n){this.destination.error(n)}this.seed=c;this.destination.next(c)};return c}(d.Subscriber)},function(d,g,a){function l(){return new h.Subject}
var k=a(33),h=a(8);g.share=function(){return k.multicast.call(this,l).refCount()}},function(d,g,a){var l=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};d=a(2);g.skip=function(a){return this.lift(new k(a))};var k=function(){function a(a){this.total=a}a.prototype.call=function(a,e){return e.subscribe(new h(a,this.total))};return a}(),h=function(a){function c(c,
b){a.call(this,c);this.total=b;this.count=0}l(c,a);c.prototype._next=function(a){++this.count>this.total&&this.destination.next(a)};return c}(d.Subscriber)},function(d,g,a){var l=a(13),k=a(31),h=a(5),f=a(52),c=a(17);g.startWith=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];c.isScheduler(b)?a.pop():b=null;var d=a.length;return 1===d?f.concatStatic(new k.ScalarObservable(a[0],b),this):1<d?f.concatStatic(new l.ArrayObservable(a,b),this):f.concatStatic(new h.EmptyObservable(b),
this)}},function(d,g,a){var l=this&&this.__extends||function(a,e){function b(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)};d=a(12);var k=a(15);g.switchMap=function(a,e){return this.lift(new h(a,e))};var h=function(){function a(a,b){this.project=a;this.resultSelector=b}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.project,this.resultSelector))};return a}(),f=function(a){function c(b,c,e){a.call(this,
b);this.project=c;this.resultSelector=e;this.index=0}l(c,a);c.prototype._next=function(a){var b,c=this.index++;try{b=this.project(a,c)}catch(p){this.destination.error(p);return}this._innerSub(b,a,c)};c.prototype._innerSub=function(a,c,e){var b=this.innerSubscription;b&&b.unsubscribe();this.add(this.innerSubscription=k.subscribeToResult(this,a,c,e))};c.prototype._complete=function(){var b=this.innerSubscription;b&&!b.closed||a.prototype._complete.call(this)};c.prototype._unsubscribe=function(){this.innerSubscription=
null};c.prototype.notifyComplete=function(b){this.remove(b);this.innerSubscription=null;this.isStopped&&a.prototype._complete.call(this)};c.prototype.notifyNext=function(a,c,e,d,f){this.resultSelector?this._tryNotifyNext(a,c,e,d):this.destination.next(c)};c.prototype._tryNotifyNext=function(a,c,e,d){var b;try{b=this.resultSelector(a,c,e,d)}catch(q){this.destination.error(q);return}this.destination.next(b)};return c}(d.OuterSubscriber)},function(d,g,a){var l=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};d=a(2);var k=a(169),h=a(5);g.take=function(a){return 0===a?new h.EmptyObservable:this.lift(new f(a))};var f=function(){function a(a){this.total=a;if(0>this.total)throw new k.ArgumentOutOfRangeError;}a.prototype.call=function(a,e){return e.subscribe(new c(a,this.total))};return a}(),c=function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0}l(b,a);b.prototype._next=function(a){var b=
this.total,c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()))};return b}(d.Subscriber)},function(d,g,a){var l=this&&this.__extends||function(a,e){function b(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)};d=a(12);var k=a(15);g.takeUntil=function(a){return this.lift(new h(a))};var h=function(){function a(a){this.notifier=a}a.prototype.call=function(a,b){return b.subscribe(new f(a,
this.notifier))};return a}(),f=function(a){function c(b,c){a.call(this,b);this.notifier=c;this.add(k.subscribeToResult(this,c))}l(c,a);c.prototype.notifyNext=function(a,c,e,d,f){this.complete()};c.prototype.notifyComplete=function(){};return c}(d.OuterSubscriber)},function(d,g,a){var l=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)},k=a(24),h=a(57);d=a(2);var f=
a(171);g.timeout=function(a,e){void 0===e&&(e=k.async);var b=h.isDate(a),d=b?+a-e.now():Math.abs(a);return this.lift(new c(d,b,e,new f.TimeoutError))};var c=function(){function a(a,b,c,e){this.waitFor=a;this.absoluteTimeout=b;this.scheduler=c;this.errorInstance=e}a.prototype.call=function(a,b){return b.subscribe(new e(a,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))};return a}(),e=function(a){function b(b,c,e,d,f){a.call(this,b);this.absoluteTimeout=c;this.waitFor=e;this.scheduler=
d;this.errorInstance=f;this._previousIndex=this.index=0;this._hasCompleted=!1;this.scheduleTimeout()}l(b,a);Object.defineProperty(b.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0});b.dispatchTimeout=function(a){var b=a.subscriber;a=a.index;b.hasCompleted||b.previousIndex!==a||b.notifyTimeout()};b.prototype.scheduleTimeout=
function(){var a=this.index;this.scheduler.schedule(b.dispatchTimeout,this.waitFor,{subscriber:this,index:a});this.index++;this._previousIndex=a};b.prototype._next=function(a){this.destination.next(a);this.absoluteTimeout||this.scheduleTimeout()};b.prototype._error=function(a){this.destination.error(a);this._hasCompleted=!0};b.prototype._complete=function(){this.destination.complete();this._hasCompleted=!0};b.prototype.notifyTimeout=function(){this.error(this.errorInstance)};return b}(d.Subscriber)},
function(d,g,a){var l=this&&this.__extends||function(a,d){function f(){this.constructor=a}for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);a.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)};d=function(a){function d(d,c){a.call(this)}l(d,a);d.prototype.schedule=function(a,c){return this};return d}(a(4).Subscription);g.Action=d},function(d,g,a){var l=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);a.prototype=null===
d?Object.create(d):(c.prototype=d.prototype,new c)},k=a(170);d=function(a){function d(c,d){a.call(this,c,d);this.scheduler=c;this.work=d}l(d,a);d.prototype.requestAsyncId=function(c,d,b){void 0===b&&(b=0);if(null!==b&&0<b)return a.prototype.requestAsyncId.call(this,c,d,b);c.actions.push(this);return c.scheduled||(c.scheduled=k.Immediate.setImmediate(c.flush.bind(c,null)))};d.prototype.recycleAsyncId=function(c,d,b){void 0===b&&(b=0);if(null!==b&&0<b||null===b&&0<this.delay)return a.prototype.recycleAsyncId.call(this,
c,d,b);0===c.actions.length&&(k.Immediate.clearImmediate(d),c.scheduled=void 0)};return d}(a(54).AsyncAction);g.AsapAction=d},function(d,g,a){var l=this&&this.__extends||function(a,d){function f(){this.constructor=a}for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);a.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)};d=function(a){function d(){a.apply(this,arguments)}l(d,a);d.prototype.flush=function(a){this.active=!0;this.scheduled=void 0;var c=this.actions,d,b=-1,f=c.length;a=a||
c.shift();do if(d=a.execute(a.state,a.delay))break;while(++b<f&&(a=c.shift()));this.active=!1;if(d){for(;++b<f&&(a=c.shift());)a.unsubscribe();throw d;}};return d}(a(55).AsyncScheduler);g.AsapScheduler=d},function(d,g,a){d=a(166);a=a(167);g.asap=new a.AsapScheduler(d.AsapAction)},function(d,g,a){var l=this&&this.__extends||function(a,d){function f(){this.constructor=a}for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);a.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)};d=function(a){function d(){var d=
a.call(this,"argument out of range");this.name=d.name="ArgumentOutOfRangeError";this.stack=d.stack;this.message=d.message}l(d,a);return d}(Error);g.ArgumentOutOfRangeError=d},function(d,g,a){d=a(6);a=function(){function a(a){this.root=a;a.setImmediate&&"function"===typeof a.setImmediate?(this.setImmediate=a.setImmediate.bind(a),this.clearImmediate=a.clearImmediate.bind(a)):(this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():
this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate(),a=function f(a){delete f.instance.tasksByHandle[a]},a.instance=this,this.clearImmediate=a)}a.prototype.identify=function(a){return this.root.Object.prototype.toString.call(a)};a.prototype.canUseProcessNextTick=
function(){return"[object process]"===this.identify(this.root.process)};a.prototype.canUseMessageChannel=function(){return!!this.root.MessageChannel};a.prototype.canUseReadyStateChange=function(){var a=this.root.document;return!!(a&&"onreadystatechange"in a.createElement("script"))};a.prototype.canUsePostMessage=function(){var a=this.root;if(a.postMessage&&!a.importScripts){var d=!0,f=a.onmessage;a.onmessage=function(){d=!1};a.postMessage("","*");a.onmessage=f;return d}return!1};a.prototype.partiallyApplied=
function(a){for(var d=[],f=1;f<arguments.length;f++)d[f-1]=arguments[f];f=function e(){var a=e.handler,d=e.args;"function"===typeof a?a.apply(void 0,d):(new Function(""+a))()};f.handler=a;f.args=d;return f};a.prototype.addFromSetImmediateArguments=function(a){this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,a);return this.nextHandle++};a.prototype.createProcessNextTickSetImmediate=function(){var a=function f(){var a=f.instance,d=a.addFromSetImmediateArguments(arguments);a.root.process.nextTick(a.partiallyApplied(a.runIfPresent,
d));return d};a.instance=this;return a};a.prototype.createPostMessageSetImmediate=function(){var a=this.root,d="setImmediate$"+a.Math.random()+"$",f=function e(b){var f=e.instance;b.source===a&&"string"===typeof b.data&&0===b.data.indexOf(d)&&f.runIfPresent(+b.data.slice(d.length))};f.instance=this;a.addEventListener("message",f,!1);f=function b(){var a=b,d=a.messagePrefix,a=a.instance,f=a.addFromSetImmediateArguments(arguments);a.root.postMessage(d+f,"*");return f};f.instance=this;f.messagePrefix=
d;return f};a.prototype.runIfPresent=function(a){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,a),0);else{var d=this.tasksByHandle[a];if(d){this.currentlyRunningATask=!0;try{d()}finally{this.clearImmediate(a),this.currentlyRunningATask=!1}}}};a.prototype.createMessageChannelSetImmediate=function(){var a=this,d=new this.root.MessageChannel;d.port1.onmessage=function(c){a.runIfPresent(c.data)};var f=function e(){var a=e,d=a.channel,a=a.instance.addFromSetImmediateArguments(arguments);
d.port2.postMessage(a);return a};f.channel=d;f.instance=this;return f};a.prototype.createReadyStateChangeSetImmediate=function(){var a=function f(){var a=f.instance,d=a.root.document,b=d.documentElement,g=a.addFromSetImmediateArguments(arguments),k=d.createElement("script");k.onreadystatechange=function(){a.runIfPresent(g);k.onreadystatechange=null;b.removeChild(k);k=null};b.appendChild(k);return g};a.instance=this;return a};a.prototype.createSetTimeoutSetImmediate=function(){var a=function f(){var a=
f.instance,d=a.addFromSetImmediateArguments(arguments);a.root.setTimeout(a.partiallyApplied(a.runIfPresent,d),0);return d};a.instance=this;return a};return a}();g.ImmediateDefinition=a;g.Immediate=new a(d.root)},function(d,g,a){var l=this&&this.__extends||function(a,d){function f(){this.constructor=a}for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);a.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)};d=function(a){function d(){var d=a.call(this,"Timeout has occurred");this.name=d.name=
"TimeoutError";this.stack=d.stack;this.message=d.message}l(d,a);return d}(Error);g.TimeoutError=d},function(d,g,a){var l=this&&this.__extends||function(a,d){function f(){this.constructor=a}for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);a.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)};d=function(a){function d(d){a.call(this);this.errors=d;d=Error.call(this,d?d.length+" errors occurred during unsubscription:\n  "+d.map(function(a,d){return d+1+") "+a.toString()}).join("\n  "):
"");this.name=d.name="UnsubscriptionError";this.stack=d.stack;this.message=d.message}l(d,a);return d}(Error);g.UnsubscriptionError=d},function(d,g,a){var l=a(2),k=a(36),h=a(47);g.toSubscriber=function(a,c,d){if(a){if(a instanceof l.Subscriber)return a;if(a[k.$$rxSubscriber])return a[k.$$rxSubscriber]()}return a||c||d?new l.Subscriber(a,c,d):new l.Subscriber(h.empty)}},function(d,g){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(l){"object"===typeof window&&
(a=window)}d.exports=a}])});
