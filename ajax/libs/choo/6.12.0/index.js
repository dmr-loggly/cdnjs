parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({10:[function(require,module,exports) {
function e(e,o){if(e)try{var t=document.querySelector(e);t&&t.scrollIntoView(o)}catch(e){}}module.exports=e;
},{}],9:[function(require,module,exports) {
function o(o,n,r){t(o==n,r)}function n(o,n,r){t(o!=n,r)}function r(o,n){t(!o,n)}function t(o,n){if(!o)throw new Error(n||"AssertionError")}t.notEqual=n,t.notOk=r,t.equal=o,t.ok=t,module.exports=t;
},{}],5:[function(require,module,exports) {
"use strict";var e=require("assert");function t(t){e.notEqual(typeof document,"undefined","document-ready only runs in the browser");var n=document.readyState;if("complete"===n||"interactive"===n)return setTimeout(t,0);document.addEventListener("DOMContentLoaded",function(){t()})}module.exports=t;
},{"assert":9}],11:[function(require,module,exports) {
var e=require("assert");function o(){return e.notEqual(typeof window,"undefined","nanolocation: expected window to exist"),window.location.pathname.replace(/\/$/,"")+window.location.hash.replace(/^#/,"/")}module.exports=o;
},{"assert":9}],31:[function(require,module,exports) {
var e=require("assert"),t="undefined"!=typeof window;function n(){var e;return t?(window._nanoScheduler||(window._nanoScheduler=new i(!0)),e=window._nanoScheduler):e=new i,e}function i(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}i.prototype.push=function(t){e.equal(typeof t,"function","nanoscheduler.push: cb should be type function"),this.hasWindow&&(this.queue.push(t),this.schedule())},i.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method(function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()})}},i.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})},module.exports=n;
},{"assert":9}],6:[function(require,module,exports) {
var r,e=require("nanoscheduler")(),a=require("assert");n.disabled=!0;try{r=window.performance,n.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!r.mark}catch(r){}function n(i){if(a.equal(typeof i,"string","nanotiming: name should be type string"),n.disabled)return t;var u=(1e4*r.now()).toFixed()%Number.MAX_SAFE_INTEGER,o="start-"+u+"-"+i;function s(a){var n="end-"+u+"-"+i;r.mark(n),e.push(function(){var e=null;try{var t=i+" ["+u+"]";r.measure(t,o,n),r.clearMarks(o),r.clearMarks(n)}catch(r){e=r}a&&a(e,i)})}return r.mark(o),s.uuid=u,s}function t(r){r&&e.push(function(){r(new Error("nanotiming: performance API unavailable"))})}module.exports=n;
},{"nanoscheduler":31,"assert":9}],42:[function(require,module,exports) {
module.exports=o;var r=Object.prototype.hasOwnProperty;function o(o){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)r.call(e,a)&&(o[a]=e[a])}return o}
},{}],16:[function(require,module,exports) {
module.exports=o;var r=Object.prototype.hasOwnProperty;function o(){for(var o={},t=0;t<arguments.length;t++){var e=arguments[t];for(var a in e)r.call(e,a)&&(o[a]=e[a])}return o}
},{}],39:[function(require,module,exports) {
var e=require("xtend/mutable"),n=require("assert"),r=require("xtend");function t(){if(!(this instanceof t))return new t;this.trie={nodes:{}}}module.exports=t,t.prototype.create=function(e){n.equal(typeof e,"string","route should be a string");var r=e.replace(/^\//,"").split("/");return function e(n,t){var o=r.hasOwnProperty(n)&&r[n];if(!1===o)return t;var s=null;return/^:|^\*/.test(o)?(t.nodes.hasOwnProperty("$$")?s=t.nodes.$$:(s={nodes:{}},t.nodes.$$=s),"*"===o[0]&&(t.wildcard=!0),t.name=o.replace(/^:|^\*/,"")):t.nodes.hasOwnProperty(o)?s=t.nodes[o]:(s={nodes:{}},t.nodes[o]=s),e(n+1,s)}(0,this.trie)},t.prototype.match=function(e){n.equal(typeof e,"string","route should be a string");var t=e.replace(/^\//,"").split("/"),o={};var s=function e(n,r){if(void 0!==r){var s=t[n];if(void 0===s)return r;if(r.nodes.hasOwnProperty(s))return e(n+1,r.nodes[s]);if(r.name){try{o[r.name]=decodeURIComponent(s)}catch(r){return e(n,void 0)}return e(n+1,r.nodes.$$)}if(r.wildcard){try{o.wildcard=decodeURIComponent(t.slice(n).join("/"))}catch(r){return e(n,void 0)}return r.nodes.$$}return e(n+1)}}(0,this.trie);if(s)return(s=r(s)).params=o,s},t.prototype.mount=function(r,t){n.equal(typeof r,"string","route should be a string"),n.equal(typeof t,"object","trie should be a object");var o=r.replace(/^\//,"").split("/"),s=null,i=null;if(1===o.length)i=o[0],s=this.create(i);else{var a=o.join("/");i=o[0],s=this.create(a)}e(s.nodes,t.nodes),t.name&&(s.name=t.name),s.nodes[""]&&(Object.keys(s.nodes[""]).forEach(function(e){"nodes"!==e&&(s[e]=s.nodes[""][e])}),e(s.nodes,s.nodes[""].nodes),delete s.nodes[""].nodes)};
},{"xtend/mutable":42,"assert":9,"xtend":16}],32:[function(require,module,exports) {
var r=require("assert"),e=require("./trie");function t(n){if(!(this instanceof t))return new t(n);var a=(n||"").replace(/^\//,""),i=e();return u._trie=i,u.on=function(e,t){if(r.equal(typeof e,"string"),r.equal(typeof t,"function"),e=e||"/",t.route=e,t&&t._wayfarer&&t._trie)i.mount(e,t._trie.trie);else{var n=i.create(e);n.cb=t}return u},u.emit=u,u.match=o,u._wayfarer=!0,u;function u(r){var e=o(r),t=new Array(arguments.length);t[0]=e.params;for(var n=1;n<t.length;n++)t[n]=arguments[n];return e.cb.apply(e.cb,t)}function o(e){r.notEqual(e,void 0,"'route' must be defined");var t=i.match(e);if(t&&t.cb)return new c(t);var n=i.match(a);if(n&&n.cb)return new c(n);throw new Error("route '"+e+"' did not match")}function c(r){this.cb=r.cb,this.route=r.cb.route,this.params=r.params}}module.exports=t;
},{"assert":9,"./trie":39}],12:[function(require,module,exports) {
var e=require("assert"),t=require("wayfarer"),r=/file:\/\//.test("object"==typeof window&&window.location&&window.location.origin),o="^(file://|/)(.*.html?/?)?",n="^(http(s)?(://))?(www.)?",i="[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?",p="[?].*$",u=new RegExp(o),a=new RegExp(n+i),c=new RegExp("#"),f=new RegExp(p);function l(e){if(!(this instanceof l))return new l(e);e=e||{},this.router=t(e.default||"/404")}function w(e,t){return e=t?e.replace(u,""):e.replace(a,""),decodeURI(e.replace(f,"").replace(c,"/"))}module.exports=l,l.prototype.on=function(t,r){e.equal(typeof t,"string"),t=t.replace(/^[#/]/,""),this.router.on(t,r)},l.prototype.emit=function(t){return e.equal(typeof t,"string"),t=w(t,r),this.router.emit(t)},l.prototype.match=function(t){return e.equal(typeof t,"string"),t=w(t,r),this.router.match(t)};
},{"assert":9,"wayfarer":32}],41:[function(require,module,exports) {
module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"];
},{}],29:[function(require,module,exports) {
var e=require("./events"),t=e.length,u=1,l=3,a=8;function r(e,t){var r=e.nodeType,s=e.nodeName;r===u&&n(e,t),r!==l&&r!==a||t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),"INPUT"===s?v(e,t):"OPTION"===s?o(e,t):"TEXTAREA"===s&&d(e,t),i(e,t)}function n(e,t){for(var u=t.attributes,l=e.attributes,a=null,r=null,n=null,i=null,o=l.length-1;o>=0;--o)n=(i=l[o]).name,a=i.namespaceURI,r=i.value,a?(n=i.localName||n,t.getAttributeNS(a,n)!==r&&t.setAttributeNS(a,n,r)):t.hasAttribute(n)?t.getAttribute(n)!==r&&("null"===r||"undefined"===r?t.removeAttribute(n):t.setAttribute(n,r)):t.setAttribute(n,r);for(var v=u.length-1;v>=0;--v)!1!==(i=u[v]).specified&&(n=i.name,(a=i.namespaceURI)?(n=i.localName||n,e.hasAttributeNS(a,n)||t.removeAttributeNS(a,n)):e.hasAttributeNS(null,n)||t.removeAttribute(n))}function i(u,l){for(var a=0;a<t;a++){var r=e[a];u[r]?l[r]=u[r]:l[r]&&(l[r]=void 0)}}function o(e,t){s(e,t,"selected")}function v(e,t){var u=e.value,l=t.value;s(e,t,"checked"),s(e,t,"disabled"),u!==l&&(t.setAttribute("value",u),t.value=u),"null"===u&&(t.value="",t.removeAttribute("value")),e.hasAttributeNS(null,"value")?"range"===t.type&&(t.value=u):t.removeAttribute("value")}function d(e,t){var u=e.value;if(u!==t.value&&(t.value=u),t.firstChild&&t.firstChild.nodeValue!==u){if(""===u&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=u}}function s(e,t,u){e[u]!==t[u]&&(t[u]=e[u],e[u]?t.setAttribute(u,""):t.removeAttribute(u))}module.exports=r;
},{"./events":41}],7:[function(require,module,exports) {
var e=require("assert"),o=require("./lib/morph"),i=3;function d(o,i){return e.equal(typeof o,"object","nanomorph: oldTree should be an object"),e.equal(typeof i,"object","nanomorph: newTree should be an object"),r(i,o)}function r(e,i){return i?e?e.isSameNode&&e.isSameNode(i)?i:e.tagName!==i.tagName?e:(o(e,i),a(e,i),i):null:e}function a(e,o){for(var i,d,a,n,t=0,s=0;i=o.childNodes[s],d=e.childNodes[s-t],i||d;s++)if(d)if(i)if(l(d,i))(a=r(d,i))!==i&&(o.replaceChild(a,i),t++);else{n=null;for(var u=s;u<o.childNodes.length;u++)if(l(o.childNodes[u],d)){n=o.childNodes[u];break}n?((a=r(d,n))!==n&&t++,o.insertBefore(a,i)):d.id||i.id?(o.insertBefore(d,i),t++):(a=r(d,i))!==i&&(o.replaceChild(a,i),t++)}else o.appendChild(d),t++;else o.removeChild(i),s--}function l(e,o){return e.id?e.id===o.id:e.isSameNode?e.isSameNode(o):e.tagName===o.tagName&&(e.type===i&&e.nodeValue===o.nodeValue)}module.exports=d;
},{"assert":9,"./lib/morph":29}],13:[function(require,module,exports) {
var e=/([^?=&]+)(=([^&]*))?/g,r=require("assert");function n(n){r.equal(typeof n,"string","nanoquery: url should be type string");var o={};return n.replace(/^.*\?/,"").replace(e,function(e,r,n,t){o[decodeURIComponent(r)]=decodeURIComponent(t)}),o}module.exports=n;
},{"assert":9}],14:[function(require,module,exports) {
var e=require("assert"),t=/(noopener|noreferrer) (noopener|noreferrer)/,n=/^[\w-_]+:/;function o(o,r){e.notEqual(typeof window,"undefined","nanohref: expected window to exist"),r=r||window.document,e.equal(typeof o,"function","nanohref: cb should be type function"),e.equal(typeof r,"object","nanohref: root should be type object"),window.addEventListener("click",function(e){if(!(e.button&&0!==e.button||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.defaultPrevented)){var i=function e(t){if(t&&t!==r)return"a"!==t.localName||void 0===t.href?e(t.parentNode):t}(e.target);i&&(window.location.origin!==i.origin||i.hasAttribute("download")||"_blank"===i.getAttribute("target")&&t.test(i.getAttribute("rel"))||n.test(i.getAttribute("href"))||(e.preventDefault(),o(i)))}})}module.exports=o;
},{"assert":9}],8:[function(require,module,exports) {
"use strict";var n=require("assert");function e(e,o){n.equal(typeof e,"function","nanoraf: render should be a function"),n.ok("function"==typeof o||void 0===o,"nanoraf: raf should be a function or undefined"),o||(o=window.requestAnimationFrame);var r=!1,u=null;return function(){null!==u||r||(r=!0,o(function(){r=!1;for(var n=u.length,o=new Array(n),t=0;t<n;t++)o[t]=u[t];e.apply(e,o),u=null})),u=arguments}}module.exports=e;
},{"assert":9}],33:[function(require,module,exports) {
"use strict";module.exports=function(t,e,r){var n,o=t.length;if(!(e>=o||0===r)){var f=o-(r=e+r>o?o-e:r);for(n=e;n<f;++n)t[n]=t[n+r];t.length=f}};
},{}],15:[function(require,module,exports) {
var e=require("remove-array-items"),t=require("nanotiming"),n=require("assert");function s(e){if(!(this instanceof s))return new s(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}module.exports=s,s.prototype.emit=function(e){n.equal(typeof e,"string","nanobus.emit: eventName should be type string");for(var s=[],i=1,r=arguments.length;i<r;i++)s.push(arguments[i]);var o=t(this._name+"('"+e+"')"),u=this._listeners[e];return u&&u.length>0&&this._emit(this._listeners[e],s),this._starListeners.length>0&&this._emit(this._starListeners,e,s,o.uuid),o(),this},s.prototype.on=s.prototype.addListener=function(e,t){return n.equal(typeof e,"string","nanobus.on: eventName should be type string"),n.equal(typeof t,"function","nanobus.on: listener should be type function"),"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},s.prototype.prependListener=function(e,t){return n.equal(typeof e,"string","nanobus.prependListener: eventName should be type string"),n.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},s.prototype.once=function(e,t){n.equal(typeof e,"string","nanobus.once: eventName should be type string"),n.equal(typeof t,"function","nanobus.once: listener should be type function");var s=this;return this.on(e,function n(){t.apply(s,arguments);s.removeListener(e,n)}),this},s.prototype.prependOnceListener=function(e,t){n.equal(typeof e,"string","nanobus.prependOnceListener: eventName should be type string"),n.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var s=this;return this.prependListener(e,function n(){t.apply(s,arguments);s.removeListener(e,n)}),this},s.prototype.removeListener=function(t,s){return n.equal(typeof t,"string","nanobus.removeListener: eventName should be type string"),n.equal(typeof s,"function","nanobus.removeListener: listener should be type function"),"*"===t?(this._starListeners=this._starListeners.slice(),i(this._starListeners,s)):(void 0!==this._listeners[t]&&(this._listeners[t]=this._listeners[t].slice()),i(this._listeners[t],s));function i(t,n){if(t){var s=t.indexOf(n);return-1!==s?(e(t,s,1),!0):void 0}}},s.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},s.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var s=t.length,i=0;i<s;i++)n.push(t[i]);return n},s.prototype._emit=function(e,t,n,s){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==s?[t].concat(n,s):[t].concat(n));for(var i=e.length,r=0;r<i;r++){var o=e[r];o.apply(o,n)}}};
},{"remove-array-items":33,"nanotiming":6,"assert":9}],37:[function(require,module,exports) {
function t(e){if(!(this instanceof t))return new t(e);"number"==typeof e&&(e={max:e}),e||(e={}),this.cache={},this.head=this.tail=null,this.length=0,this.max=e.max||1e3,this.maxAge=e.maxAge||0}module.exports=t,Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),t.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},t.prototype.remove=function(t){if("string"!=typeof t&&(t=""+t),this.cache.hasOwnProperty(t)){var e=this.cache[t];return delete this.cache[t],this._unlink(t,e.prev,e.next),e.value}},t.prototype._unlink=function(t,e,h){this.length--,0===this.length?this.head=this.tail=null:this.head===t?(this.head=e,this.cache[this.head].next=null):this.tail===t?(this.tail=h,this.cache[this.tail].prev=null):(this.cache[e].next=h,this.cache[h].prev=e)},t.prototype.peek=function(t){if(this.cache.hasOwnProperty(t)){var e=this.cache[t];if(this._checkAge(t,e))return e.value}},t.prototype.set=function(t,e){var h;if("string"!=typeof t&&(t=""+t),this.cache.hasOwnProperty(t)){if((h=this.cache[t]).value=e,this.maxAge&&(h.modified=Date.now()),t===this.head)return e;this._unlink(t,h.prev,h.next)}else h={value:e,modified:0,next:null,prev:null},this.maxAge&&(h.modified=Date.now()),this.cache[t]=h,this.length===this.max&&this.evict();return this.length++,h.next=null,h.prev=this.head,this.head&&(this.cache[this.head].next=t),this.head=t,this.tail||(this.tail=t),e},t.prototype._checkAge=function(t,e){return!(this.maxAge&&Date.now()-e.modified>this.maxAge)||(this.remove(t),!1)},t.prototype.get=function(t){if("string"!=typeof t&&(t=""+t),this.cache.hasOwnProperty(t)){var e=this.cache[t];if(this._checkAge(t,e))return this.head!==t&&(t===this.tail?(this.tail=e.next,this.cache[this.tail].prev=null):this.cache[e.prev].next=e.next,this.cache[e.next].prev=e.prev,this.cache[this.head].next=t,e.prev=this.head,e.next=null,this.head=t),e.value}},t.prototype.evict=function(){this.tail&&this.remove(this.tail)};
},{}],3:[function(require,module,exports) {
var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=require("assert"),t=require("nanolru");function n(i,r,u){o.ok(this instanceof n,"ChooComponentCache should be created with `new`"),o.equal(void 0===i?"undefined":e(i),"object","ChooComponentCache: state should be type object"),o.equal(void 0===r?"undefined":e(r),"function","ChooComponentCache: emit should be type function"),this.cache="number"==typeof u?new t(u):u||new t(100),this.state=i,this.emit=r}function i(e){return new(e.bind.apply(e,arguments))}module.exports=n,n.prototype.render=function(t,n){o.equal(void 0===t?"undefined":e(t),"function","ChooComponentCache.render: Component should be type function"),o.ok("string"==typeof n||"number"==typeof n,"ChooComponentCache.render: id should be type string or type number");var r=this.cache.get(n);if(!r){for(var u=[],h=2,p=arguments.length;h<p;h++)u.push(arguments[h]);u.unshift(t,n,this.state,this.emit),r=i.apply(i,u),this.cache.set(n,r)}return r};
},{"assert":9,"nanolru":37}],1:[function(require,module,exports) {
var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=require("scroll-to-anchor"),o=require("document-ready"),n=require("nanolocation"),r=require("nanotiming"),i=require("nanorouter"),s=require("nanomorph"),a=require("nanoquery"),h=require("nanohref"),u=require("nanoraf"),d=require("nanobus"),c=require("assert"),l=require("xtend"),f=require("./component/cache");module.exports=m;var p={};function m(t){if(!(this instanceof m))return new m(t);t=t||{},c.equal(void 0===t?"undefined":e(t),"object","choo: opts should be type object");var o=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",REPLACESTATE:"replaceState",PUSHSTATE:"pushState",NAVIGATE:"navigate",POPSTATE:"popState",RENDER:"render"},this._historyEnabled=void 0===t.history||t.history,this._hrefEnabled=void 0===t.href||t.href,this._hasWindow="undefined"!=typeof window,this._createLocation=n,this._cache=t.cache,this._loaded=!1,this._stores=[],this._tree=null;var r={events:this._events,components:{}};this._hasWindow?(this.state=window.initialState?l(window.initialState,r):r,delete window.initialState):this.state=r,this.router=i({curry:!0}),this.emitter=d("choo.emit"),this.emit=this.emitter.emit.bind(this.emitter),this._hasWindow&&(this.state.title=document.title),this.emitter.prependListener(this._events.DOMTITLECHANGE,function(t){c.equal(void 0===t?"undefined":e(t),"string","events.DOMTitleChange: title should be type string"),o.state.title=t,o._hasWindow&&(document.title=t)})}m.prototype.route=function(t,o){c.equal(void 0===t?"undefined":e(t),"string","choo.route: route should be type string"),c.equal(void 0===o?"undefined":e(o),"function","choo.handler: route should be type function"),this.router.on(t,o)},m.prototype.use=function(t){c.equal(void 0===t?"undefined":e(t),"function","choo.use: cb should be type function");var o=this;this._stores.push(function(e){var n="choo.use";n=t.storeName?n+"("+t.storeName+")":n;var i=r(n);t(e,o.emitter,o),i()})},m.prototype.start=function(){c.equal("undefined"==typeof window?"undefined":e(window),"object","choo.start: window was not found. .start() must be called in a browser, use .toString() if running in Node");var n=this;return this._historyEnabled&&(this.emitter.prependListener(this._events.NAVIGATE,function(){n._matchRoute(),n._loaded&&(n.emitter.emit(n._events.RENDER),setTimeout(t.bind(null,window.location.hash),0))}),this.emitter.prependListener(this._events.POPSTATE,function(){n.emitter.emit(n._events.NAVIGATE)}),this.emitter.prependListener(this._events.PUSHSTATE,function(t){c.equal(void 0===t?"undefined":e(t),"string","events.pushState: href should be type string"),window.history.pushState(p,null,t),n.emitter.emit(n._events.NAVIGATE)}),this.emitter.prependListener(this._events.REPLACESTATE,function(t){c.equal(void 0===t?"undefined":e(t),"string","events.replaceState: href should be type string"),window.history.replaceState(p,null,t),n.emitter.emit(n._events.NAVIGATE)}),window.onpopstate=function(){n.emitter.emit(n._events.POPSTATE)},n._hrefEnabled&&h(function(e){var t=e.href;t!==window.location.href&&n.emitter.emit(n._events.PUSHSTATE,t)})),this._setCache(this.state),this._stores.forEach(function(e){e(n.state)}),this._matchRoute(),this._tree=this._prerender(this.state),c.ok(this._tree,"choo.start: no valid DOM node returned for location "+this.state.href),this.emitter.prependListener(n._events.RENDER,u(function(){var e=r("choo.render"),t=n._prerender(n.state);c.ok(t,"choo.render: no valid DOM node returned for location "+n.state.href),c.equal(n._tree.nodeName,t.nodeName,"choo.render: The target node <"+n._tree.nodeName.toLowerCase()+"> is not the same type as the new node <"+t.nodeName.toLowerCase()+">.");var o=r("choo.morph");s(n._tree,t),o(),e()})),o(function(){n.emitter.emit(n._events.DOMCONTENTLOADED),n._loaded=!0}),this._tree},m.prototype.mount=function(t){if("object"!==("undefined"==typeof window?"undefined":e(window)))return c.ok("string"==typeof t,"choo.mount: selector should be type String"),this.selector=t,this;c.ok("string"==typeof t||"object"===(void 0===t?"undefined":e(t)),"choo.mount: selector should be type String or HTMLElement");var n=this;o(function(){var e=r("choo.render"),o=n.start();n._tree="string"==typeof t?document.querySelector(t):t,c.ok(n._tree,"choo.mount: could not query selector: "+t),c.equal(n._tree.nodeName,o.nodeName,"choo.mount: The target node <"+n._tree.nodeName.toLowerCase()+"> is not the same type as the new node <"+o.nodeName.toLowerCase()+">.");var i=r("choo.morph");s(n._tree,o),i(),e()})},m.prototype.toString=function(t,o){this.state=l(this.state,o||{}),c.notEqual("undefined"==typeof window?"undefined":e(window),"object","choo.mount: window was found. .toString() must be called in Node, use .start() or .mount() if running in the browser"),c.equal(void 0===t?"undefined":e(t),"string","choo.toString: location should be type string"),c.equal(e(this.state),"object","choo.toString: state should be type object");var n=this;this._setCache(this.state),this._stores.forEach(function(e){e(n.state)}),this._matchRoute(t);var r=this._prerender(this.state);return c.ok(r,"choo.toString: no valid value returned for the route "+t),c(!Array.isArray(r),"choo.toString: return value was an array for the route "+t),"string"==typeof r.outerHTML?r.outerHTML:r.toString()},m.prototype._matchRoute=function(e){var t,o;e?(t=e.replace(/\?.+$/,""),o=e):(t=this._createLocation(),o=window.location.search);var n=this.router.match(t);return this._handler=n.cb,this.state.href=t,this.state.query=a(o),this.state.route=n.route,this.state.params=n.params,this.state},m.prototype._prerender=function(e){var t=r("choo.prerender('"+e.route+"')"),o=this._handler(e,this.emit);return t(),o},m.prototype._setCache=function(t){var o=new f(t,this.emitter.emit.bind(this.emitter),this._cache);function n(t,n){c.equal(void 0===t?"undefined":e(t),"function","choo.state.cache: Component should be type function");for(var r=[],i=0,s=arguments.length;i<s;i++)r.push(arguments[i]);return o.render.apply(o,r)}t.cache=n,n.toJSON=function(){return null}};
},{"scroll-to-anchor":10,"document-ready":5,"nanolocation":11,"nanotiming":6,"nanorouter":12,"nanomorph":7,"nanoquery":13,"nanohref":14,"nanoraf":8,"nanobus":15,"assert":9,"xtend":16,"./component/cache":3}]},{},[1])
//# sourceMappingURL=/index.map