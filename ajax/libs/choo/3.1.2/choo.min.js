(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.choo=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function choo(e){function t(e,t){function r(){return function(){}}t=t||{},i.start({subscriptions:!1,reducers:!1,effects:!1});var n=i.state({state:t}),o=u(h,f,r),a=o(e,n);return a.outerHTML||a.toString()}function r(e,t){t||"string"==typeof e||(t=e,e=null),t=t||{},i.model(appInit(t));var n=i.start(t);c=r._router=u(h,f,n);var o=i.state({state:{}});if(!e){var a=c(o.location.pathname,o);return s=a,a}onReady(function(){var t=document.querySelector(e),r=c(o.location.pathname,o);s=yo.update(t,r)})}function n(t,r,n,o,a){e.onStateChange&&e.onStateChange(t,r,n,o,a),l||(l=nanoraf(function(e,t){var r=c(e.location.pathname,e,t);s=yo.update(s,r)})),l(r,n)}function o(e,t){h=e,f=t}function a(e){i.model(e)}function u(t,r,n){function o(t){function r(t,r){var o=n("view: "+r,!0);return function(r,n){var u=a,i=a=xtend(n,{params:r});return e.freeze!==!1&&Object.freeze(i),t(i,u,o)}}return function(e,n,o){return"function"==typeof n&&(n=r(n,e)),t(e,n,o)}}var a={};return sheetRouter(t,r,o)}e=e||{};var i=r._store=barracks(xtend(e,{onStateChange:n})),c=r._router=null,h=null,s=null,f=null,l=null;return r.toString=t,r.router=o,r.model=a,r.start=r,r}function appInit(e){function t(e,t,r){r[t]=function(t,r){e(function(e){t("location:setLocation",{location:e},r)})}}var r=document.location,n={pathname:e.hash?hashMatch(r.hash):r.href},o={setLocation:function(e,t){return{pathname:e.location.replace(/#.*/,"")}}},a={};return e.hash===!0?t(function(e){hash(function(t){e(hashMatch(t))})},"handleHash",a):(e.history!==!1&&t(history,"handleHistory",a),e.href!==!1&&t(href,"handleHref",a)),{namespace:"location",subscriptions:a,reducers:o,state:n}}var history=require(12),sheetRouter=require(14),document=require(5),onReady=require(4),href=require(13),hash=require(11),hashMatch=require(7),barracks=require(2),nanoraf=require(9),xtend=require(17),yo=require(19);module.exports=choo},{11:11,12:12,13:13,14:14,17:17,19:19,2:2,4:4,5:5,7:7,9:9}],2:[function(require,module,exports){function dispatcher(t){function e(t){v.push(t)}function n(t){if(t=t||{},!t.state)return t.freeze===!1?xtend(m):Object.freeze(xtend(m));var e=function(){var e={},n={};return v.forEach(function(r){var o=r.namespace,u=r.state||{};o?(n[o]={},apply(o,u,n),n[o]=xtend(n[o],t.state[o])):apply(r.namespace,u,e)}),{v:xtend(m,xtend(t.state,n))}}();return"object"==typeof e?e.v:void 0}function r(t){function e(t,e){return function(r,u,a){function f(t){t=t||null,t&&o(t,m,function(t){return function(e,r){r="undefined"==typeof r?null:r,n(e,r,t,i)}})}a||e||(a=u,u=null),u="undefined"==typeof u?null:u;var i=e?f:a;n(r,u,t,i)}}function n(t,n,r,o){setTimeout(function(){var f=!1,i=!1,s=xtend(m);u&&u(n,m,t,r,e);var c=t;if(/:/.test(t)){var p=t.split(":"),v=p.shift();c=p.join(":")}var x=v?d[v]:d;if(x&&x[c]){if(v){var y=x[c](n,m[v]);mutate(s[v],xtend(m[v],y))}else mutate(s,d[c](n,m));f=!0,a&&a(n,s,m,c,e),m=s,o()}var b=v?l[v]:l;if(!f&&b&&b[c]){var h=e("effect: "+t);v?b[c](n,m[v],h,o):b[c](n,m,h,o),i=!0}if(!f&&!i)throw new Error("Could not find action "+c)},0)}return t=t||{},v.forEach(function(n){var r=n.namespace;!s&&n.state&&t.state!==!1&&apply(r,n.state,m),!f&&n.reducers&&t.reducers!==!1&&apply(r,n.reducers,d),!i&&n.effects&&t.effects!==!1&&apply(r,n.effects,l),!c&&n.subscriptions&&t.subscriptions!==!1&&apply(r,n.subscriptions,p,e,o)}),t.noState||(s=!0),t.noReducers||(f=!0),t.noEffects||(i=!0),t.noSubscriptions||(c=!0),e}t=t||{};var o=wrapOnError(t.onError||defaultOnError),u=t.onAction,a=t.onStateChange,f=!1,i=!1,s=!1,c=!1,p=r._subscriptions={},d=r._reducers={},l=r._effects={},v=r._models=[],m={};return r.model=e,r.state=n,r.start=r,r.use=use,r}function apply(t,e,n,r,o){Object.keys(e).forEach(function(u){if(t?(n[t]||(n[t]={}),n[t][u]=e[u]):n[u]=e[u],r&&o){var a=r("subscription: "+(t?t+":"+u:u));e[u](a,o)}})}function defaultOnError(t){throw t}function wrapOnError(t){return function(e){e&&t(e)}}var mutate=require(18),xtend=require(17);module.exports=dispatcher},{17:17,18:18}],3:[function(require,module,exports){},{}],4:[function(require,module,exports){"use strict";function ready(e){return"complete"===document.readyState?setTimeout(e,0):void document.addEventListener("DOMContentLoaded",function(){e()})}function noop(){}var document=require(5);module.exports=document.addEventListener?ready:noop},{5:5}],5:[function(require,module,exports){(function(global){var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=require(3);if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{3:3}],6:[function(require,module,exports){(function(global){"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],7:[function(require,module,exports){module.exports=function(e,r){var l=r||"/";return 0===e.length?l:(e=e.replace("#",""),e=e.replace(/\/$/,""),0!=e.indexOf("/")&&(e="/"+e),"/"==l?e:e.replace(l,""))}},{}],8:[function(require,module,exports){function empty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function toElement(e){!range&&document.createRange&&(range=document.createRange(),range.selectNode(document.body));var t;return range&&range.createContextualFragment?t=range.createContextualFragment(e):(t=document.createElement("body"),t.innerHTML=e),t.childNodes[0]}function noop(){}function createElementNS(e,t){return t&&t!==XHTML?document.createElementNS(t,e):document.createElement(e)}function morphAttrs(e,t){var n,r,o,a,i,d,l=t.attributes;for(n=l.length-1;n>=0;n--)r=l[n],o=r.name,i=r.value,a=r.namespaceURI,a?(o=r.localName||o,d=e.getAttributeNS(a,o)):d=e.getAttribute(o),d!==i&&(a?e.setAttributeNS(a,o,i):e.setAttribute(o,i));for(l=e.attributes,n=l.length-1;n>=0;n--)r=l[n],r.specified!==!1&&(o=r.name,a=r.namespaceURI,hasAttributeNS(t,a,a?o=r.localName||o:o)||(a?e.removeAttributeNS(a,r.localName):e.removeAttribute(o)))}function moveChildren(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function defaultGetNodeKey(e){return e.id}function morphdom(e,t,n){function r(e,t){var n=c(e);if(n?l[n]=e:t||p(e),e.nodeType===ELEMENT_NODE)for(var o=e.firstChild;o;)r(o,t||n),o=o.nextSibling}function o(e){if(e.nodeType===ELEMENT_NODE)for(var t=e.firstChild;t;)c(t)||(p(t),o(t)),t=t.nextSibling}function a(e,t,n){E(e)!==!1&&(t.removeChild(e),n?c(e)||(p(e),o(e)):r(e))}function i(e,t,n,r){var o=c(t);if(o&&delete l[o],!r){if(m(e,t)===!1)return;if(morphAttrs(e,t),s(e),h(e,t)===!1)return}if("TEXTAREA"!==e.nodeName){var d,E,v,T,A,g=t.firstChild,C=e.firstChild;e:for(;g;){for(v=g.nextSibling,d=c(g);C;){var y=c(C);if(E=C.nextSibling,!n&&y&&(A=u[y]))A.parentNode.replaceChild(C,A),i(C,A,n),C=E;else{var O=C.nodeType;if(O===g.nodeType){var M=!1;if(O===ELEMENT_NODE?(compareNodeNames(C,g)&&(y||d?d===y&&(M=!0):M=!0),M&&i(C,g,n)):O!==TEXT_NODE&&O!=COMMENT_NODE||(M=!0,C.nodeValue=g.nodeValue),M){g=v,C=E;continue e}}a(C,e,n),C=E}}d&&((T=l[d])?compareNodeNames(T,g)?(i(T,g,!0),g=T):(delete l[d],p(T)):u[d]=g),f(g)!==!1&&(e.appendChild(g),N(g)),g.nodeType===ELEMENT_NODE&&(d||g.firstChild)&&b.push(g),g=v,C=E}for(;C;)E=C.nextSibling,a(C,e,n),C=E}var S=specialElHandlers[e.nodeName];S&&S(e,t)}if(n||(n={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName){var d=t;t=document.createElement("html"),t.innerHTML=d}else t=toElement(t);var l={},u={},c=n.getNodeKey||defaultGetNodeKey,f=n.onBeforeNodeAdded||noop,N=n.onNodeAdded||noop,m=n.onBeforeElUpdated||n.onBeforeMorphEl||noop,s=n.onElUpdated||noop,E=n.onBeforeNodeDiscarded||noop,p=n.onNodeDiscarded||noop,h=n.onBeforeElChildrenUpdated||n.onBeforeMorphElChildren||noop,v=n.childrenOnly===!0,b=[],T=e,A=T.nodeType,g=t.nodeType;if(!v)if(A===ELEMENT_NODE)g===ELEMENT_NODE?compareNodeNames(e,t)||(p(e),T=moveChildren(e,createElementNS(t.nodeName,t.namespaceURI))):T=t;else if(A===TEXT_NODE||A===COMMENT_NODE){if(g===A)return T.nodeValue=t.nodeValue,T;T=t}if(T===t)p(e);else{i(T,t,!1,v);var C=function(e){for(var t=e.firstChild;t;){var n=t.nextSibling,r=c(t);if(r){var o=l[r];if(o&&compareNodeNames(t,o)){if(t.parentNode.replaceChild(o,t),i(o,t,!0),t=n,empty(l))return!1;continue}}t.nodeType===ELEMENT_NODE&&C(t),t=n}};if(!empty(l))e:for(;b.length;){var y=b;b=[];for(var O=0;O<y.length;O++)if(C(y[O])===!1)break e}for(var M in l)if(l.hasOwnProperty(M)){var S=l[M];p(S),o(S)}}return!v&&T!==e&&e.parentNode&&e.parentNode.replaceChild(T,e),T}var range,testEl="undefined"!=typeof document?document.body||document.createElement("div"):{},XHTML="http://www.w3.org/1999/xhtml",ELEMENT_NODE=1,TEXT_NODE=3,COMMENT_NODE=8,hasAttributeNS;hasAttributeNS=testEl.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:testEl.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return!!e.getAttributeNode(n)};var specialElHandlers={OPTION:function(e,t){e.selected=t.selected,e.selected?e.setAttribute("selected",""):e.removeAttribute("selected","")},INPUT:function(e,t){e.checked=t.checked,e.checked?e.setAttribute("checked",""):e.removeAttribute("checked"),e.value!==t.value&&(e.value=t.value),hasAttributeNS(t,null,"value")||e.removeAttribute("value"),e.disabled=t.disabled,e.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n),e.firstChild&&(e.firstChild.nodeValue=n)}},compareNodeNames=function(e,t){return e.nodeName===t.nodeName&&e.namespaceURI===t.namespaceURI};module.exports=morphdom},{}],9:[function(require,module,exports){function nanoraf(n,o){o||(o=window.requestAnimationFrame);var r=!1,u=!1,a=null;return function(i,l){null!==a||u||(u=!0,o(function(){u=!1,a&&(r=!0,n(a,l),r=!1,a=null)})),a=i}}var window=require(6);module.exports=nanoraf},{6:6}],10:[function(require,module,exports){function match(e){return e.trim().replace(/[\?|#].*$/,"").replace(/^(?:https?\:)\/\//,"").replace(/^(?:[\w+(?:-\w+)+.])+(?:[\:0-9]{4,5})?/,"").replace(/\/$/,"")}module.exports=match},{}],11:[function(require,module,exports){function hash(o){window.onhashchange=function(n){o(window.location.hash)}}var window=require(6);module.exports=hash},{6:6}],12:[function(require,module,exports){function history(o){window.onpopstate=function(){o(document.location.href)}}var document=require(5),window=require(6);module.exports=history},{5:5,6:6}],13:[function(require,module,exports){function href(e){window.onclick=function(o){var n=function e(o){if(o)return"a"!==o.localName?e(o.parentNode):void 0===o.href?e(o.parentNode):window.location.host!==o.host?e(o.parentNode):o}(o.target);if(n){o.preventDefault();var r=n.href.replace(/#$/,"");e(r),window.history.pushState({},null,r)}}}var window=require(6);module.exports=href},{6:6}],14:[function(require,module,exports){function sheetRouter(e,r,a){a=a?a(_createRoute):_createRoute,r||(r=e,e="");var n=wayfarer(e),t=r(a);return function e(r,a){if(Array.isArray(r[0]))r.forEach(function(r){e(r,a)});else if(r[1]){var t=r[0]?a.concat(r[0]).join("/"):a.length?a.join("/"):r[0];n.on(t,r[1]),e(r[2],a.concat(r[0]))}else if(Array.isArray(r[2]))e(r[2],a.concat(r[0]));else{var o=r[0]?a.concat(r[0]).join("/"):a.length?a.join("/"):r[0];n.on(o,r[2])}}(t,[]),function(e){var r=[].slice.call(arguments);return r[0]=pathname(r[0]),n.apply(null,r)}}function _createRoute(e,r,a){return a||(a=r,r=null),e=e.replace(/^\//,""),[e,r,a]}var pathname=require(10),wayfarer=require(15);module.exports=sheetRouter},{10:10,15:15}],15:[function(require,module,exports){function Wayfarer(r){function e(r,e){if(r=r||"/",e&&e._wayfarer&&e._trie)i.mount(r,e._trie.trie);else{var t=i.create(r);t.cb=e}return a}function a(r){var e=Array.prototype.slice.apply(arguments),a=i.match(r);if(a&&a.cb)return e[0]=a.params,a.cb.apply(null,e);var n=i.match(t);if(n&&n.cb)return e[0]=n.params,n.cb.apply(null,e);throw new Error("route '"+r+"' did not match")}if(!(this instanceof Wayfarer))return new Wayfarer(r);var t=(r||"").replace(/^\//,""),i=trie();return a._trie=i,a.emit=a,a.on=e,a._wayfarer=!0,a}var trie=require(16);module.exports=Wayfarer},{16:16}],16:[function(require,module,exports){function Trie(){return this instanceof Trie?void(this.trie={nodes:{}}):new Trie}var mutate=require(18),xtend=require(17);module.exports=Trie,Trie.prototype.create=function(e){var n=e.replace(/^\//,"").split("/");return function e(n,t,r){var o=r[n];if(void 0===o)return t;var i=null;return/^:/.test(o)?(t.nodes.$$?i=t.nodes.$$:(i={nodes:{}},t.nodes.$$=i),t.name=o.replace(/^:/,"")):t.nodes[o]?i=t.nodes[o]:(i={nodes:{}},t.nodes[o]=i),e(n+1,i,r)}(0,this.trie,n)},Trie.prototype.match=function(e){var n=e.replace(/^\//,"").split("/"),t={},r=function e(r,o){if(void 0!==o){var i=n[r];return void 0===i?o:o.nodes[i]?e(r+1,o.nodes[i]):o.name?(t[o.name]=i,e(r+1,o.nodes.$$)):e(r+1)}}(0,this.trie);if(r)return r=xtend(r),r.params=t,r},Trie.prototype.mount=function(e,n){var t=e.replace(/^\//,"").split("/"),r=null,o=null;if(1===t.length)o=t[0],r=this.create(o);else{var i=t.splice(0,t.length-1),s=i.join("/");o=t[0],r=this.create(s)}mutate(r.nodes,n.nodes),n.name&&(r.name=n.name),r.nodes[""]&&(Object.keys(r.nodes[""]).forEach(function(e){"nodes"!==e&&(r[e]=r.nodes[""][e])}),mutate(r.nodes,r.nodes[""].nodes),delete r.nodes[""].nodes)}},{17:17,18:18}],17:[function(require,module,exports){function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty},{}],18:[function(require,module,exports){function extend(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty},{}],19:[function(require,module,exports){var bel={},morphdom=require(8),defaultEvents=require(20);module.exports=bel,module.exports.update=function(e,o,r){function t(e,o){for(var t=r.events||defaultEvents,n=0;n<t.length;n++){var u=t[n];o[u]?e[u]=o[u]:e[u]&&(e[u]=void 0)}("INPUT"===e.nodeName&&"file"!==e.type||"TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&null===o.getAttribute("value")&&(o.value=e.value)}return r||(r={}),r.events!==!1&&(r.onBeforeMorphEl||(r.onBeforeMorphEl=t)),morphdom(e,o,r)}},{20:20,8:8}],20:[function(require,module,exports){module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"]},{}]},{},[1])(1)});