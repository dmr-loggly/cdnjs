var functionCall=Function.call;"undefined"===typeof Opal&&"object"===typeof module&&module.exports&&(Opal=require("opal-runtime").Opal);
"undefined"===typeof Opal&&(function(b){function q(a,b,c){"string"===typeof a?a[b]=c:Object.defineProperty(a,b,{value:c,enumerable:!1,configurable:!0,writable:!0})}function F(a,b){if(a)return a.$$const[b]}function y(a,b){var c,d,n;if(null!=a)for(n=w.ancestors(a),c=0,d=n.length;c<d;c++)if(n[c].$$const&&A.call(n[c].$$const,b))return n[c].$$const[b]}function u(b,c,d){if(!d)return(b||a).$const_missing(c)}function r(a){return a.hasOwnProperty("$$iclass")&&a.hasOwnProperty("$$root")}function g(a){var b=
B(a);a.$$is_module&&a.$$iclasses.push(b);return b}function B(a){var b={},c=a.prototype;c.hasOwnProperty("$$dummy")&&(c=c.$$define_methods_on);var d=Object.getOwnPropertyNames(c),n=d.length,e;for(e=0;e<n;e++){var h=d[e];q(b,h,c[h])}q(b,"$$iclass",!0);q(b,"$$module",a);return b}function v(a){var b=a.length,c=a[0];q(c,"$$root",!0);if(1===b)return{first:c,last:c};for(var d=1;d<b;d++){var n=a[d];k(c,n);c=n}return{first:a[0],last:a[b-1]}}function t(a){if(!a.hasOwnProperty("$$dummy")){if(a.hasOwnProperty("$$iclass"))return a.$$module;
if(a.hasOwnProperty("$$class"))return a.$$class}}function p(a){return"function"===typeof a&&!a.$$stub}var x=this,J;"undefined"!==typeof global&&(x=global);"undefined"!==typeof window&&(x=window);J="object"===typeof x.console?x.console:null==x.console?x.console={}:{};"log"in J||(J.log=function(){});"warn"in J||(J.warn=J.log);if("undefined"!==typeof this.Opal)return J.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var L,P,a,d,w=this.Opal={};w.global=
x;x.Opal=w;w.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var A=Object.hasOwnProperty,z=Function.prototype.bind,k=Object.setPrototypeOf,m=Array.prototype.slice,c=4;w.uid=function(){return c+=2};w.id=function(a){if(a.$$is_number)return 2*a+1;if(null!=a.$$id)return a.$$id;q(a,"$$id",w.uid());return a.$$id};w.gvars={};w.exit=function(a){w.gvars.DEBUG&&J.log("Exited with status "+a)};w.exceptions=[];w.pop_exception=function(){w.gvars["!"]=w.exceptions.pop()||
L};w.inspect=function(a){return a===b?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()};w.defineProperty=q;w.slice=m;w.truthy=function(a){return a!==L&&null!=a&&(!a.$$is_boolean||1==a)};w.falsy=function(a){return a===L||null==a||a.$$is_boolean&&0==a};w.const_get_local=function(b,c,d){var k;if(null!=b){"::"===b&&(b=a);if(!b.$$is_module&&!b.$$is_class)throw new w.TypeError(b.toString()+" is not a class/module");k=F(b,c);if(null!=k)return k;k=u(b,c,d);if(null!=k)return k}};w.const_get_qualified=
function(b,c,d){var k,n,e=w.const_cache_version;if(null!=b){"::"===b&&(b=a);if(!b.$$is_module&&!b.$$is_class)throw new w.TypeError(b.toString()+" is not a class/module");null==(n=b.$$const_cache)&&(q(b,"$$const_cache",Object.create(null)),n=b.$$const_cache);k=n[c];null==k||k[0]!==e?(null!=(k=F(b,c))||null!=(k=y(b,c)),n[c]=[e,k]):k=k[1];return null!=k?k:u(b,c,d)}};w.const_cache_version=1;w.const_get_relative=function(b,c,d){var k=b[0],n,e=w.const_cache_version,h;null==(h=b.$$const_cache)&&(q(b,"$$const_cache",
Object.create(null)),h=b.$$const_cache);n=h[c];if(null==n||n[0]!==e){var E;if(!(E=null!=(n=F(k,c)))){a:{var m;if(0!==b.length)for(n=0,E=b.length;n<E;n++)if(m=b[n].$$const[c],null!=m){b=m;break a}b=void 0}E=null!=(n=b)}E||null!=(n=y(k,c))||(b=null==k||k.$$is_module?y(a,c):void 0,null!=(n=b));h[c]=[e,n]}else n=n[1];return null!=n?n:u(k,c,d)};w.const_set=function(b,c,d){if(null==b||"::"===b)b=a;if(d.$$is_a_module){if(null==d.$$name||d.$$name===L)d.$$name=c;null==d.$$base_module&&(d.$$base_module=b)}b.$$const=
b.$$const||Object.create(null);b.$$const[c]=d;b.$$=b.$$const;w.const_cache_version++;b===a&&(w[c]=d);q(b,c,d);return d};w.constants=function(b,c){null==c&&(c=!0);var d,k=[b],n,e,h={},E;c&&(k=k.concat(w.ancestors(b)));c&&b.$$is_module&&(k=k.concat([w.Object]).concat(w.ancestors(w.Object)));n=0;for(e=k.length;n<e;n++){d=k[n];if(b!==a&&d==a)break;for(E in d.$$const)h[E]=!0}return Object.keys(h)};w.const_remove=function(a,b){w.const_cache_version++;if(null!=a.$$const[b]){var c=a.$$const[b];delete a.$$const[b];
return c}if(null!=a.$$autoload&&null!=a.$$autoload[b])return delete a.$$autoload[b],L;throw w.NameError.$new("constant "+a+"::"+a.$name()+" not defined");};w.allocate_class=function(a,b,c){var d=c;null!=b&&b.$$bridge&&(d=function(){var a=m.call(arguments),a=new (z.apply(b,[null].concat(a)));k(a,d.prototype);return a});q(d,"$$name",a);q(d,"$$const",{});q(d,"$$is_class",!0);q(d,"$$is_a_module",!0);q(d,"$$super",b);q(d,"$$cvars",{});q(d,"$$own_included_modules",[]);q(d,"$$own_prepended_modules",[]);
q(d,"$$ancestors",[]);q(d,"$$ancestors_cache_version",null);q(d.prototype,"$$class",d);w.Class&&k(d,w.Class.prototype);null!=b&&(k(d.prototype,b.prototype),b!==w.Module&&b.$$meta&&w.build_class_singleton_class(d));return d};w.klass=function(b,c,d,k){var n;null==b?b=a:b.$$is_class||b.$$is_module||(b=b.$$class);null==c||c.hasOwnProperty("$$is_class")||(n=c,c=a);var e;if(e=F(b,d)){if(!e.$$is_class)throw w.TypeError.$new(d+" is not a class");}else e=void 0;if(e){if(c&&e.$$super!==c)throw w.TypeError.$new("superclass mismatch for class "+
e.$$name);return e}null==c&&(c=a);n?(w.bridge(n),e=n,w.const_set(b,d,e)):(e=w.allocate_class(d,c,k),w.const_set(b,d,e),c.$inherited&&c.$inherited(e));return e};w.allocate_module=function(a,b){q(b,"$$name",a);q(b,"$$const",{});q(b,"$$is_module",!0);q(b,"$$is_a_module",!0);q(b,"$$cvars",{});q(b,"$$iclasses",[]);q(b,"$$own_included_modules",[]);q(b,"$$own_prepended_modules",[]);q(b,"$$ancestors",[b]);q(b,"$$ancestors_cache_version",null);k(b,w.Module.prototype);return b};w.module=function(b,c,d){var k;
null==b?b=a:b.$$is_class||b.$$is_module||(b=b.$$class);k=b;var n=F(k,c);null==n&&k===a&&(n=y(a,c));if(n&&!n.$$is_module&&n!==a)throw w.TypeError.$new(c+" is not a module");if(k=n)return k;k=w.allocate_module(c,d);w.const_set(b,c,k);return k};w.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.hasOwnProperty("$$is_class")?w.build_class_singleton_class(a):a.hasOwnProperty("$$is_module")?w.build_module_singletin_class(a):w.build_object_singleton_class(a)};w.build_class_singleton_class=function(a){var b;
if(a.$$meta)return a.$$meta;b=a===P?d:w.get_singleton_class(a.$$super);b=w.allocate_class(null,b,function(){});q(b,"$$is_singleton",!0);q(b,"$$singleton_of",a);q(a,"$$meta",b);k(a,b.prototype);q(a,"$$class",w.Class);return b};w.build_module_singletin_class=function(a){if(a.$$meta)return a.$$meta;var b=w.allocate_class(null,w.Module,function(){});q(b,"$$is_singleton",!0);q(b,"$$singleton_of",a);q(a,"$$meta",b);k(a,b.prototype);q(a,"$$class",w.Module);return b};w.build_object_singleton_class=function(a){var b=
w.allocate_class(L,a.$$class,function(){});q(b,"$$is_singleton",!0);q(b,"$$singleton_of",a);delete b.prototype.$$class;q(a,"$$meta",b);k(a,a.$$meta.prototype);return b};w.is_method=function(a){return"$"===a[0]&&"$"!==a[1]};w.instance_methods=function(a){var b=[],c=[];a=w.ancestors(a);for(var d=0,n=a.length;d<n;d++){var e=a[d].prototype;e.hasOwnProperty("$$dummy")&&(e=e.$$define_methods_on);for(var h=Object.getOwnPropertyNames(e),k=0,m=h.length;k<m;k++){var z=h[k];if(w.is_method(z)){var A=z.slice(1),
z=e[z];z.$$stub&&-1===b.indexOf(A)&&b.push(A);z.$$stub||-1!==c.indexOf(A)||-1!==b.indexOf(A)||c.push(A)}}}return c};w.own_instance_methods=function(a){var b=[];a=a.prototype;a.hasOwnProperty("$$dummy")&&(a=a.$$define_methods_on);for(var c=Object.getOwnPropertyNames(a),d=0,n=c.length;d<n;d++){var e=c[d];w.is_method(e)&&!a[e].$$stub&&(e=e.slice(1),b.push(e))}return b};w.methods=function(a){return w.instance_methods(w.get_singleton_class(a))};w.own_methods=function(a){return w.own_instance_methods(w.get_singleton_class(a))};
w.receiver_methods=function(a){var b=w.get_singleton_class(a);a=w.own_instance_methods(b);b=w.own_instance_methods(b.$$super);return a.concat(b)};w.class_variables=function(a){a=w.ancestors(a);var b,c={};for(b=a.length-1;0<=b;b--){var d=a[b],n;for(n in d.$$cvars)c[n]=d.$$cvars[n]}return c};w.class_variable_set=function(a,b,c){var d=w.ancestors(a),n;for(n=d.length-2;0<=n;n--){var e=d[n];if(A.call(e.$$cvars,b))return e.$$cvars[b]=c}return a.$$cvars[b]=c};w.append_features=function(a,b){var c=w.ancestors(a),
d=[];if(-1!==c.indexOf(b))throw w.ArgumentError.$new("cyclic include detected");for(var n=0,e=c.length;n<e;n++){var h=g(c[n]);q(h,"$$included",!0);d.push(h)}c=w.ancestors(b);d=v(d);if(-1===c.indexOf(a))c=b.prototype,n=Object.getPrototypeOf(b.prototype);else{c=b.prototype;for(n=Object.getPrototypeOf(c);null!=n&&(!r(n)||n.$$module!==a);)c=n,n=Object.getPrototypeOf(n);for(n=Object.getPrototypeOf(n);n.hasOwnProperty("$$iclass")&&!r(n);)n=Object.getPrototypeOf(n)}k(c,d.first);k(d.last,n);d=[];for(n=Object.getPrototypeOf(b.prototype);n&&
!n.hasOwnProperty("$$class");)(c=t(n))&&d.push(c),n=Object.getPrototypeOf(n);b.$$own_included_modules=d;w.const_cache_version++};w.prepend_features=function(a,b){var c=w.ancestors(a),d=[];if(-1!==c.indexOf(b))throw w.ArgumentError.$new("cyclic prepend detected");for(var n=0,e=c.length;n<e;n++){var h=g(c[n]);q(h,"$$prepended",!0);d.push(h)}c=v(d);n=b.prototype;e=Object.getPrototypeOf(n);if(n.hasOwnProperty("$$dummy"))d=n.$$define_methods_on;else{for(var d=B(b),h=b.prototype,E=Object.getOwnPropertyNames(h),
m=0;m<E.length;m++){var z=E[m];w.is_method(z)&&delete h[z]}q(n,"$$dummy",!0);q(n,"$$define_methods_on",d);k(n,d);k(d,e)}if(-1===w.ancestors(b).indexOf(a))for(e=n,n=Object.getPrototypeOf(n);null!=n&&!n.hasOwnProperty("$$root")&&n!==d&&n.hasOwnProperty("$$iclass");)n=Object.getPrototypeOf(n);else throw w.RuntimeError.$new("Prepending a module multiple times is not supported");k(e,c.first);k(c.last,n);c=[];n=Object.getPrototypeOf(b.prototype);if(b.prototype.hasOwnProperty("$$dummy"))for(;n&&n!==b.prototype.$$define_methods_on;)(d=
t(n))&&c.push(d),n=Object.getPrototypeOf(n);b.$$own_prepended_modules=c;w.const_cache_version++};w.bridge=function(a,b){if(a.hasOwnProperty("$$bridge"))throw w.ArgumentError.$new("already bridged");var c,d;null==b?(c=w.Object,d=a):d=c=b;k(a.prototype,c.prototype);q(a.prototype,"$$class",d);q(a,"$$bridge",!0);q(a,"$$is_class",!0);q(a,"$$is_a_module",!0);q(a,"$$super",c);q(a,"$$const",{});q(a,"$$own_included_modules",[]);q(a,"$$own_prepended_modules",[]);q(a,"$$ancestors",[]);q(a,"$$ancestors_cache_version",
null);k(a,w.Class.prototype)};w.ancestors=function(a){if(!a)return[];if(a.$$ancestors_cache_version===w.const_cache_version)return a.$$ancestors;var b=[],c,d,n;c=0;d=a.$$own_prepended_modules.concat([a]).concat(a.$$own_included_modules);for(n=d.length;c<n;c++)b.push(d[c]);if(a.$$super)for(c=0,d=w.ancestors(a.$$super),n=d.length;c<n;c++)b.push(d[c]);a.$$ancestors_cache_version=w.const_cache_version;return a.$$ancestors=b};w.included_modules=function(a){var b=[],c=null;for(a=Object.getPrototypeOf(a.prototype);a&&
Object.getPrototypeOf(a);a=Object.getPrototypeOf(a))(c=t(a))&&c.$$is_module&&a.$$iclass&&a.$$included&&b.push(c);return b};w.add_stubs=function(a){for(var b=w.BasicObject.prototype,c=0,d=a.length;c<d;c++){var n=a[c],e=b[n];(null==e||e.$$stub)&&w.add_stub_for(b,n)}};w.add_stub_for=function(a,b){var c=w.stub_for(b);q(a,b,c)};w.stub_for=function(a){function b(){this.$method_missing.$$p=b.$$p;b.$$p=null;for(var c=Array(arguments.length),d=0,n=c.length;d<n;d++)c[d]=arguments[d];return this.$method_missing.apply(this,
[a.slice(1)].concat(c))}b.$$stub=!0;return b};w.ac=function(a,b,c,d){var n="",n=c.$$is_a_module?n+(c.$$name+"."):n+(c.$$class.$$name+"#");throw w.ArgumentError.$new("["+(n+d)+"] wrong number of arguments("+a+" for "+b+")");};w.block_ac=function(a,b,c){throw w.ArgumentError.$new("`block in "+c+"': wrong number of arguments ("+a+" for "+b+")");};w.find_super_dispatcher=function(a,b,c,d,n){n="$"+b;var e,h;e=a.hasOwnProperty("$$meta")?w.ancestors(a.$$meta):w.ancestors(a.$$class);for(c=e.indexOf(c.$$owner)+
1;c<e.length;c++){var k=e[c].prototype;k.hasOwnProperty("$$dummy")&&(k=k.$$define_methods_on);if(k.hasOwnProperty(n)){n=k[n];n.$$stub||(h=n);break}}if(!d&&null==h&&w.Kernel.$method_missing===a.$method_missing)throw w.NoMethodError.$new("super: no superclass method `"+b+"' for "+a,b);return h};w.find_iter_super_dispatcher=function(a,b,c,d,n){if(!c)throw w.RuntimeError.$new("super called outside of method");if(n&&c.$$define_meth)throw w.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");
c.$$def&&(b=c.$$jsid);return w.find_super_dispatcher(a,b,c,d)};w.ret=function(a){w.returner.$v=a;throw w.returner;};w.brk=function(a,b){b.$v=a;throw b;};w.new_brk=function(){return Error("unexpected break")};w.yield1=function(a,b){if("function"!==typeof a)throw w.LocalJumpError.$new("no block given");var c=a.$$has_top_level_mlhs_arg,d=a.$$has_trailing_comma_in_args;if(1<a.length||(c||d)&&1===a.length)b=w.to_ary(b);return(1<a.length||d&&1===a.length)&&b.$$is_array?a.apply(null,b):a(b)};w.yieldX=function(a,
b){if("function"!==typeof a)throw w.LocalJumpError.$new("no block given");if(1<a.length&&1===b.length&&b[0].$$is_array)return a.apply(null,b[0]);if(!b.$$is_array){for(var c=Array(b.length),d=0,n=c.length;d<n;d++)c[d]=b[d];return a.apply(null,c)}return a.apply(null,b)};w.rescue=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.$$is_array){if(d=w.rescue(a,d))return d}else if(d===w.JS.Error||d["$==="](a))return d}return null};w.is_a=function(a,b){if(null!=b&&a.$$meta===b||a.$$class===b||a.$$is_number&&
b.$$is_number_class)return!0;var c,d,n=w.ancestors(a.$$is_class?w.get_singleton_class(a):a.$$meta||a.$$class);c=0;for(d=n.length;c<d;c++)if(n[c]===b)return!0;return!1};w.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var b=a.$to_hash();if(b.$$is_hash)return b;throw w.TypeError.$new("Can't convert "+a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+b.$$class+")");}throw w.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};w.to_ary=function(a){if(a.$$is_array)return a;
if(a["$respond_to?"]("to_ary",!0)){var b=a.$to_ary();if(b===L)return[a];if(b.$$is_array)return b;throw w.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+b.$$class+")");}return[a]};w.to_a=function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var b=a.$to_a();if(b===L)return[a];if(b.$$is_array)return b;throw w.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+b.$$class+")");}return[a]};w.extract_kwargs=function(a){var b=
a[a.length-1];return null!=b&&b["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(a,a.length-1,1),b.$to_hash()):w.hash2([],{})};w.kwrestargs=function(a,b){var c=[],d={},n=null,e=a.$$smap;for(n in e)b[n]||(c.push(n),d[n]=e[n]);return w.hash2(c,d)};w.send=function(a,b,c,d){var n="string"===typeof b?a["$"+b]:b;return null!=n?(n.$$p=d,n.apply(a,c)):a.$method_missing.apply(a,[b].concat(c))};w.lambda=function(a){a.$$is_lambda=!0;return a};w.def=function(a,b,c){a===w.top?w.defn(w.Object,b,c):!a.$$eval&&
a.$$is_a_module?w.defn(a,b,c):w.defs(a,b,c)};w.defn=function(a,b,c){c.$$owner=a;var d=a.prototype;d.hasOwnProperty("$$dummy")&&(d=d.$$define_methods_on);q(d,b,c);if(a.$$is_module){a.$$module_function&&w.defs(a,b,c);for(var d=0,n=a.$$iclasses,e=n.length;d<e;d++)q(n[d],b,c)}c=a.$$singleton_of;!a.$method_added||a.$method_added.$$stub||c?c&&c.$singleton_method_added&&!c.$singleton_method_added.$$stub&&c.$singleton_method_added(b.substr(1)):a.$method_added(b.substr(1))};w.defs=function(a,b,c){a.$$is_string||
a.$$is_number||w.defn(w.get_singleton_class(a),b,c)};w.rdef=function(a,b){if(!A.call(a.prototype,b))throw w.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());delete a.prototype[b];a.$$is_singleton?a.prototype.$singleton_method_removed&&!a.prototype.$singleton_method_removed.$$stub&&a.prototype.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(b.substr(1))};w.udef=function(a,b){if(!a.prototype[b]||a.prototype[b].$$stub)throw w.NameError.$new("method '"+
b.substr(1)+"' not defined in "+a.$name());w.add_stub_for(a.prototype,b);a.$$is_singleton?a.prototype.$singleton_method_undefined&&!a.prototype.$singleton_method_undefined.$$stub&&a.prototype.$singleton_method_undefined(b.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};w.alias=function(a,b,c){var d="$"+b,n="$"+c,e=a.prototype["$"+c],h;if(a.$$eval)return w.alias(w.get_singleton_class(a),b,c);if(!p(e)){for(var k=a.$$super;"function"!==typeof e&&k;)e=k[n],
k=k.$$super;!p(e)&&a.$$is_module&&(e=w.Object.prototype[n]);if(!p(e))throw w.NameError.$new("undefined method `"+c+"' for class `"+a.$name()+"'");}e.$$alias_of&&(e=e.$$alias_of);h=function(){var a=h.$$p,b,c,f;b=Array(arguments.length);c=0;for(f=arguments.length;c<f;c++)b[c]=arguments[c];null!=a&&(h.$$p=null);return w.send(this,e,b,a)};h.displayName=b;h.length=e.length;h.$$arity=e.$$arity;h.$$parameters=e.$$parameters;h.$$source_location=e.$$source_location;h.$$alias_of=e;h.$$alias_name=b;w.defn(a,
d,h);return a};w.alias_native=function(a,b,c){b="$"+b;var d=a.prototype[c];if("function"!==typeof d||d.$$stub)throw w.NameError.$new("undefined native method `"+c+"' for class `"+a.$name()+"'");w.defn(a,b,d);return a};w.hash_init=function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};w.hash_clone=function(a,b){b.$$none=a.$$none;b.$$proc=a.$$proc;for(var c=0,d=a.$$keys,n=a.$$smap,e=d.length,h,k;c<e;c++)h=d[c],h.$$is_string?k=n[h]:(k=h.value,h=h.key),w.hash_put(b,h,k)};w.hash_put=
function(a,c,d){if(c.$$is_string)A.call(a.$$smap,c)||a.$$keys.push(c),a.$$smap[c]=d;else{var k,n,e;k=a.$$by_identity?w.id(c):c.$hash();if(A.call(a.$$map,k)){for(n=a.$$map[k];n;){if(c===n.key||c["$eql?"](n.key)){e=b;n.value=d;break}e=n;n=n.next}e&&(n={key:c,key_hash:k,value:d},a.$$keys.push(n),e.next=n)}else n={key:c,key_hash:k,value:d},a.$$keys.push(n),a.$$map[k]=n}};w.hash_get=function(a,b){if(b.$$is_string){if(A.call(a.$$smap,b))return a.$$smap[b]}else{var c;c=a.$$by_identity?w.id(b):b.$hash();
if(A.call(a.$$map,c))for(c=a.$$map[c];c;){if(b===c.key||b["$eql?"](c.key))return c.value;c=c.next}}};w.hash_delete=function(a,b){var c,d=a.$$keys,n=d.length,e;if(b.$$is_string){if(!A.call(a.$$smap,b))return;for(c=0;c<n;c++)if(d[c]===b){d.splice(c,1);break}e=a.$$smap[b];delete a.$$smap[b];return e}var h=b.$hash();if(A.call(a.$$map,h))for(var k=a.$$map[h],w;k;){if(b===k.key||b["$eql?"](k.key)){e=k.value;for(c=0;c<n;c++)if(d[c]===k){d.splice(c,1);break}w&&k.next?w.next=k.next:w?delete w.next:k.next?
a.$$map[h]=k.next:delete a.$$map[h];return e}w=k;k=k.next}};w.hash_rehash=function(a){for(var c=0,d=a.$$keys.length,k,n,e;c<d;c++)if(!a.$$keys[c].$$is_string&&(k=a.$$keys[c].key.$hash(),k!==a.$$keys[c].key_hash)){n=a.$$map[a.$$keys[c].key_hash];for(e=b;n;){if(n===a.$$keys[c]){e&&n.next?e.next=n.next:e?delete e.next:n.next?a.$$map[a.$$keys[c].key_hash]=n.next:delete a.$$map[a.$$keys[c].key_hash];break}e=n;n=n.next}a.$$keys[c].key_hash=k;if(A.call(a.$$map,k)){n=a.$$map[k];for(e=b;n;){if(n===a.$$keys[c]){e=
b;break}e=n;n=n.next}e&&(e.next=a.$$keys[c])}else a.$$map[k]=a.$$keys[c]}};w.hash=function(){var a=arguments.length,b,c,d,n,e;if(1===a&&arguments[0].$$is_hash)return arguments[0];b=new w.Hash;w.hash_init(b);if(1===a&&arguments[0].$$is_array){a=arguments[0];d=a.length;for(c=0;c<d;c++){if(2!==a[c].length)throw w.ArgumentError.$new("value not of length 2: "+a[c].$inspect());n=a[c][0];e=a[c][1];w.hash_put(b,n,e)}return b}if(1===a){a=arguments[0];for(n in a)A.call(a,n)&&(e=a[n],w.hash_put(b,n,e));return b}if(0!==
a%2)throw w.ArgumentError.$new("odd number of arguments for Hash");for(c=0;c<a;c+=2)n=arguments[c],e=arguments[c+1],w.hash_put(b,n,e);return b};w.hash2=function(a,b){var c=new w.Hash;c.$$smap=b;c.$$map=Object.create(null);c.$$keys=a;return c};w.range=function(a,b,c){var d=new w.Range;d.begin=a;d.end=b;d.excl=c;return d};w.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":
a};w.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};w.global_regexp=function(a){if(a.global)return a;null==a.$$g?a.$$g=new RegExp(a.source,(a.multiline?"gm":"g")+(a.ignoreCase?"i":"")):a.$$g.lastIndex=null;return a.$$g};w.global_multiline_regexp=function(a){if(a.multiline){if(a.global)return a;a=null!=a.$$g?a.$$g:a.$$g=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""))}else a=
null!=a.$$gm?a.$$gm:a.$$gm=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));a.lastIndex=null;return a};w.modules={};w.loaded_features=["corelib/runtime"];w.current_dir=".";w.require_table={"corelib/runtime":!0};w.normalize=function(a){var b,c=[];"."!==w.current_dir&&(a=w.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var d=0,n=a.length;d<n;d++)b=a[d],""!==b&&(".."===b?c.pop():c.push(b));return c.join("/")};w.loaded=function(a){var b,
c,d;b=0;for(c=a.length;b<c;b++)d=w.normalize(a[b]),w.require_table[d]||(w.loaded_features.push(d),w.require_table[d]=!0)};w.load=function(a){a=w.normalize(a);w.loaded([a]);var b=w.modules[a];if(b)b(w);else{b=w.config.missing_require_severity;a="cannot load such file -- "+a;if("error"===b){if(w.LoadError)throw w.LoadError.$new(a);throw a;}"warning"===b&&J.warn("WARNING: LoadError: "+a)}return!0};w.require=function(a){a=w.normalize(a);return w.require_table[a]?!1:w.load(a)};w.BasicObject=P=w.allocate_class("BasicObject",
null,function(){});w.Object=a=w.allocate_class("Object",w.BasicObject,function(){});w.Module=x=w.allocate_class("Module",w.Object,function(){});w.Class=d=w.allocate_class("Class",w.Module,function(){});k(w.BasicObject,w.Class.prototype);k(w.Object,w.Class.prototype);k(w.Module,w.Class.prototype);k(w.Class,w.Class.prototype);P.$$const.BasicObject=P;w.const_set(a,"BasicObject",P);w.const_set(a,"Object",a);w.const_set(a,"Module",x);w.const_set(a,"Class",d);P.$$class=d;a.$$class=d;x.$$class=d;d.$$class=
d;q(a.prototype,"toString",function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?a.valueOf():a});q(a.prototype,"$require",w.require);w.$$=a.$$;w.top=new a;w.top.$to_s=w.top.$inspect=function(){return"main"};w.NilClass=w.allocate_class("NilClass",w.Object,function(){});w.const_set(a,"NilClass",w.NilClass);L=w.nil=new w.NilClass;L.$$id=4;L.call=L.apply=function(){throw w.LocalJumpError.$new("no block given");};w.breaker=Error("unexpected break (old)");w.returner=Error("unexpected return");
TypeError.$$super=Error}.call(this),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(b){var q=[],F=b.nil,y=b.const_get_relative,u=b.module,r=b.truthy;b.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(g,B){function v(){}var t=v=u(g,"Opal",v),p=[t].concat(B),x,J,L,q,a,d,w,A,z,k,m,c,f,l;b.defs(t,"$bridge",x=function(a,c){return b.bridge(a,c)},x.$$arity=2);b.defs(t,"$type_error",
J=function(a,b,c,d){var f;null==c&&(c=F);null==d&&(d=F);return r(r(f=c)?d:f)?y(p,"TypeError").$new("can't convert "+a.$class()+" into "+b+" ("+a.$class()+"#"+c+" gives "+d.$class()+")"):y(p,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+b)},J.$$arity=-3);b.defs(t,"$coerce_to",L=function(a,b,c){if(r(b["$==="](a)))return a;r(a["$respond_to?"](c))||this.$raise(this.$type_error(a,b));return a.$__send__(c)},L.$$arity=3);b.defs(t,"$coerce_to!",q=function(a,b,c){var d=F,d=this.$coerce_to(a,
b,c);r(b["$==="](d))||this.$raise(this.$type_error(a,b,c,d));return d},q.$$arity=3);b.defs(t,"$coerce_to?",a=function(a,b,c){var d=F;if(!r(a["$respond_to?"](c)))return F;d=this.$coerce_to(a,b,c);if(r(d["$nil?"]()))return F;r(b["$==="](d))||this.$raise(this.$type_error(a,b,c,d));return d},a.$$arity=3);b.defs(t,"$try_convert",d=function(a,b,c){return r(b["$==="](a))?a:r(a["$respond_to?"](c))?a.$__send__(c):F},d.$$arity=3);b.defs(t,"$compare",w=function(a,b){var c=F,c=a["$<=>"](b);r(c===F)&&this.$raise(y(p,
"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed");return c},w.$$arity=2);b.defs(t,"$destructure",A=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var b=Array(a.length),c=0,d=b.length;c<d;c++)b[c]=a[c];return b},A.$$arity=1);b.defs(t,"$respond_to?",z=function(a,b,c){null==c&&(c=!1);return null!=a&&a.$$class?a["$respond_to?"](b,c):!1},z.$$arity=-3);b.defs(t,"$inspect_obj",k=function(a){return b.inspect(a)},k.$$arity=1);b.defs(t,"$instance_variable_name!",
m=function(a){a=y(p,"Opal")["$coerce_to!"](a,y(p,"String"),"to_str");r(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(y(p,"NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},m.$$arity=1);b.defs(t,"$class_variable_name!",c=function(a){a=y(p,"Opal")["$coerce_to!"](a,y(p,"String"),"to_str");r(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(y(p,"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},c.$$arity=1);b.defs(t,"$const_name!",f=function(a){a=
y(p,"Opal")["$coerce_to!"](a,y(p,"String"),"to_str");r(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(y(p,"NameError"),"wrong constant name "+a);return a},f.$$arity=1);b.defs(t,"$pristine",l=function(a,c){var d;d=b.slice.call(arguments,1,arguments.length);for(var e,f=d.length-1;0<=f;f--)e=d[f],(e=a.prototype["$"+e])&&!e.$$stub&&(e.$$pristine=!0);return F},l.$$arity=-2)}(q[0],q)},Opal.modules["corelib/module"]=function(b){function q(b,g){return"number"===typeof b&&"number"===typeof g?b<g:
b["$<"](g)}var F=[],y=b.nil,u=b.const_get_qualified,r=b.const_get_relative,g=b.klass,B=b.send,v=b.truthy,t=b.lambda,p=b.range,x=b.hash2;b.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(J,$super,P){function a(){}J=a=g(J,$super,"Module",a);var d=[J].concat(P),w,A,z,k,m,c,f,l,O,T,n,e,h,E,ya,pa,ia,G,aa,fa,ta,ma,ja,C,D,X,ha,va,V,ka,N,W,R,ba,S,qa,Ca,U,la,F,ca,Da,ea,Fa,da,na,ra,K,sa,Ga,ua,oa,Ja,Ra,Q,Ha,xa,Aa,Ea;b.defs(J,"$allocate",w=function(){return b.allocate_module(y,function(){})},w.$$arity=0);b.defs(J,"$inherited",A=function(a){a.$allocate=function(){var c=b.allocate_module(y,function(){});Object.setPrototypeOf(c,a.prototype);return c}},A.$$arity=1);b.def(J,"$initialize",
z=function(){var a=z.$$p,b=a||y;a&&(z.$$p=null);a&&(z.$$p=null);return b!==y?B(this,"module_eval",[],b.$to_proc()):y},z.$$arity=0);b.def(J,"$===",k=function(a){return v(null==a)?!1:b.is_a(a,this)},k.$$arity=1);b.def(J,"$<",m=function(a){v(r(d,"Module")["$==="](a))||this.$raise(r(d,"TypeError"),"compared with non class/module");var c,e,f;if(this===a)return!1;e=0;c=b.ancestors(this);for(f=c.length;e<f;e++)if(c[e]===a)return!0;e=0;c=b.ancestors(a);for(f=c.length;e<f;e++)if(c[e]===this)return!1;return y},
m.$$arity=1);b.def(J,"$<=",c=function(a){var b;return v(b=this["$equal?"](a))?b:q(this,a)},c.$$arity=1);b.def(J,"$>",f=function(a){v(r(d,"Module")["$==="](a))||this.$raise(r(d,"TypeError"),"compared with non class/module");return q(a,this)},f.$$arity=1);b.def(J,"$>=",l=function(a){var b;return v(b=this["$equal?"](a))?b:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)},l.$$arity=1);b.def(J,"$<=>",O=function(a){var b=y;if(this===a)return 0;if(!v(r(d,"Module")["$==="](a)))return y;b=
q(this,a);return v(b["$nil?"]())?y:v(b)?-1:1},O.$$arity=1);b.def(J,"$alias_method",T=function(a,c){b.alias(this,a,c);return this},T.$$arity=2);b.def(J,"$alias_native",n=function(a,c){null==c&&(c=a);b.alias_native(this,a,c);return this},n.$$arity=-2);b.def(J,"$ancestors",e=function(){return b.ancestors(this)},e.$$arity=0);b.def(J,"$append_features",h=function(a){b.append_features(this,a);return this},h.$$arity=1);b.def(J,"$attr_accessor",E=function(a){var c;c=b.slice.call(arguments,0,arguments.length);
B(this,"attr_reader",b.to_a(c));return B(this,"attr_writer",b.to_a(c))},E.$$arity=-1);b.alias(J,"attr","attr_accessor");b.def(J,"$attr_reader",ya=function(a){var c;c=b.slice.call(arguments,0,arguments.length);for(var d=this.prototype,e=c.length-1;0<=e;e--){var f=c[e],h="$"+f,f=b.ivar(f),n=function(a){return function(){return null==this[a]?y:this[a]}}(f);b.defineProperty(d,f,y);n.$$parameters=[];n.$$arity=0;b.defn(this,h,n)}return y},ya.$$arity=-1);b.def(J,"$attr_writer",pa=function(a){var c;c=b.slice.call(arguments,
0,arguments.length);for(var d=this.prototype,e=c.length-1;0<=e;e--){var f=c[e],h="$"+f+"=",f=b.ivar(f),n=function(a){return function(b){return this[a]=b}}(f);n.$$parameters=[["req"]];n.$$arity=1;b.defineProperty(d,f,y);b.defn(this,h,n)}return y},pa.$$arity=-1);b.def(J,"$autoload",ia=function(a,c){null==this.$$autoload&&(this.$$autoload={});b.const_cache_version++;this.$$autoload[a]=c;return y},ia.$$arity=2);b.def(J,"$class_variables",G=function(){return Object.keys(b.class_variables(this))},G.$$arity=
0);b.def(J,"$class_variable_get",aa=function(a){a=r(d,"Opal")["$class_variable_name!"](a);var c=b.class_variables(this)[a];null==c&&this.$raise(r(d,"NameError").$new("uninitialized class variable "+a+" in "+this,a));return c},aa.$$arity=1);b.def(J,"$class_variable_set",fa=function(a,c){a=r(d,"Opal")["$class_variable_name!"](a);return b.class_variable_set(this,a,c)},fa.$$arity=2);b.def(J,"$class_variable_defined?",ta=function(a){a=r(d,"Opal")["$class_variable_name!"](a);return b.class_variables(this).hasOwnProperty(a)},
ta.$$arity=1);b.def(J,"$remove_class_variable",ma=function(a){a=r(d,"Opal")["$class_variable_name!"](a);if(b.hasOwnProperty.call(this.$$cvars,a)){var c=this.$$cvars[a];delete this.$$cvars[a];return c}this.$raise(r(d,"NameError"),"cannot remove "+a+" for "+this)},ma.$$arity=1);b.def(J,"$constants",ja=function(a){null==a&&(a=!0);return b.constants(this,a)},ja.$$arity=-1);b.defs(J,"$constants",C=function(a){if(null==a){a=(this.$$nesting||[]).concat(b.Object);var c,d={},e,f;e=0;for(f=a.length;e<f;e++)for(c in a[e].$$const)d[c]=
!0;return Object.keys(d)}return b.constants(this,a)},C.$$arity=-1);b.defs(J,"$nesting",D=function(){return this.$$nesting||[]},D.$$arity=0);b.def(J,"$const_defined?",X=function(a,c){null==c&&(c=!0);a=r(d,"Opal")["$const_name!"](a);v(a["$=~"](u(r(d,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(r(d,"NameError").$new("wrong constant name "+a,a));var e,f=[this],h,n;c&&(f=f.concat(b.ancestors(this)),this.$$is_module&&(f=f.concat([b.Object]).concat(b.ancestors(b.Object))));h=0;for(n=f.length;h<n;h++)if(e=
f[h],null!=e.$$const[a])return!0;return!1},X.$$arity=-2);b.def(J,"$const_get",ha=function(a,c){var e;null==c&&(c=!0);a=r(d,"Opal")["$const_name!"](a);0===a.indexOf("::")&&"::"!==a&&(a=a.slice(2));if(v(-1!=a.indexOf("::")&&"::"!=a))return B(a.$split("::"),"inject",[this],(e=function(a,b){null==a&&(a=y);null==b&&(b=y);return a.$const_get(b)},e.$$s=this,e.$$arity=2,e));v(a["$=~"](u(r(d,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(r(d,"NameError").$new("wrong constant name "+a,a));return c?r([this],a):
b.const_get_local(this,a)},ha.$$arity=-2);b.def(J,"$const_missing",va=function(a){var b=y;if(this.$$autoload&&(b=this.$$autoload[a]))return this.$require(b),this.$const_get(a);b=this["$=="](r(d,"Object"))?a:""+this+"::"+a;return this.$raise(r(d,"NameError").$new("uninitialized constant "+b,a))},va.$$arity=1);b.def(J,"$const_set",V=function(a,c){var e;a=r(d,"Opal")["$const_name!"](a);v(v(e=a["$!~"](u(r(d,"Opal"),"CONST_NAME_REGEXP")))?e:a["$start_with?"]("::"))&&this.$raise(r(d,"NameError").$new("wrong constant name "+
a,a));b.const_set(this,a,c);return c},V.$$arity=2);b.def(J,"$public_constant",ka=function(a){return y},ka.$$arity=1);b.def(J,"$define_method",N=function(a,c){var e=N.$$p,f=e||y,h,n,l=this,k=y;e&&(N.$$p=null);e&&(N.$$p=null);v(void 0===c&&f===y)&&l.$raise(r(d,"ArgumentError"),"tried to create a Proc object without a block");f=v(h=f)?h:function(){k=c;return r(d,"Proc")["$==="](k)?c:r(d,"Method")["$==="](k)?c.$to_proc().$$unbound:r(d,"UnboundMethod")["$==="](k)?t((n=function(a){var d=n.$$s||this,e,f=
y;e=b.slice.call(arguments,0,arguments.length);f=c.$bind(d);return B(f,"call",b.to_a(e))},n.$$s=l,n.$$arity=-1,n)):l.$raise(r(d,"TypeError"),"wrong argument type "+f.$class()+" (expected Proc/Method)")}();f.$$jsid=a;f.$$s=null;f.$$def=f;f.$$define_meth=!0;b.defn(l,"$"+a,f);return a},N.$$arity=-2);b.def(J,"$remove_method",W=function(a){var c;c=b.slice.call(arguments,0,arguments.length);for(var d=0,e=c.length;d<e;d++)b.rdef(this,"$"+c[d]);return this},W.$$arity=-1);b.def(J,"$singleton_class?",R=function(){return!!this.$$is_singleton},
R.$$arity=0);b.def(J,"$include",ba=function(a){var c;c=b.slice.call(arguments,0,arguments.length);for(var e=c.length-1;0<=e;e--){var f=c[e];f.$$is_module||this.$raise(r(d,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$append_features(this);f.$included(this)}return this},ba.$$arity=-1);b.def(J,"$included_modules",S=function(){return b.included_modules(this)},S.$$arity=0);b.def(J,"$include?",qa=function(a){a.$$is_module||this.$raise(r(d,"TypeError"),"wrong argument type "+a.$class()+
" (expected Module)");var c,e,f,h=b.ancestors(this);c=0;for(e=h.length;c<e;c++)if(f=h[c],f===a&&f!==this)return!0;return!1},qa.$$arity=1);b.def(J,"$instance_method",Ca=function(a){var b=this.prototype["$"+a];b&&!b.$$stub||this.$raise(r(d,"NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return r(d,"UnboundMethod").$new(this,b.$$owner||this,b,a)},Ca.$$arity=1);b.def(J,"$instance_methods",U=function(a){null==a&&(a=!0);return v(a)?b.instance_methods(this):b.own_instance_methods(this)},
U.$$arity=-1);b.def(J,"$included",la=function(a){return y},la.$$arity=1);b.def(J,"$extended",F=function(a){return y},F.$$arity=1);b.def(J,"$extend_object",ca=function(a){return y},ca.$$arity=1);b.def(J,"$method_added",Da=function(a){b.slice.call(arguments,0,arguments.length);return y},Da.$$arity=-1);b.def(J,"$method_removed",ea=function(a){b.slice.call(arguments,0,arguments.length);return y},ea.$$arity=-1);b.def(J,"$method_undefined",Fa=function(a){b.slice.call(arguments,0,arguments.length);return y},
Fa.$$arity=-1);b.def(J,"$module_eval",da=function(a){var c=da.$$p,e=c||y,f,h,n=y,l=y,k=l=l=y;c&&(da.$$p=null);c&&(da.$$p=null);c=b.slice.call(arguments,0,arguments.length);v(v(f=e["$nil?"]())?!!b.compile:f)?(v(p(1,3,!1)["$cover?"](c.$size()))||r(d,"Kernel").$raise(r(d,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),f=[].concat(b.to_a(c)),n=null==f[0]?y:f[0],l=null==f[1]?y:f[1],f,l=x(["file","eval"],{file:v(f=l)?f:"(eval)",eval:!0}),l=b.hash({arity_check:!1}).$merge(l),k=r(d,"Opal").$compile(n,
l),e=B(r(d,"Kernel"),"proc",[],(h=function(){return function(a){return eval(k)}(h.$$s||this)},h.$$s=this,h.$$arity=0,h))):v(c["$any?"]())&&r(d,"Kernel").$raise(r(d,"ArgumentError"),""+("wrong number of arguments ("+c.$size()+" for 0)")+"\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");f=e.$$s;e.$$s=null;c=e.apply(this,[this]);e.$$s=f;return c},da.$$arity=-1);b.alias(J,"class_eval","module_eval");b.def(J,"$module_exec",na=function(a){var c=
na.$$p,e=c||y,f;c&&(na.$$p=null);c&&(na.$$p=null);f=b.slice.call(arguments,0,arguments.length);e===y&&this.$raise(r(d,"LocalJumpError"),"no block given");c=e.$$s;e.$$s=null;f=e.apply(this,f);e.$$s=c;return f},na.$$arity=-1);b.alias(J,"class_exec","module_exec");b.def(J,"$method_defined?",ra=function(a){a=this.prototype["$"+a];return!!a&&!a.$$stub},ra.$$arity=1);b.def(J,"$module_function",K=function(a){var c;c=b.slice.call(arguments,0,arguments.length);if(0===c.length)this.$$module_function=!0;else for(var d=
0,e=c.length;d<e;d++){var f="$"+c[d];b.defs(this,f,this.prototype[f])}return this},K.$$arity=-1);b.def(J,"$name",sa=function(){if(this.$$full_name)return this.$$full_name;for(var a=[],c=this;c;){if(c.$$name===y||null==c.$$name)return y;a.unshift(c.$$name);c=c.$$base_module;if(c===b.Object)break}return 0===a.length?y:this.$$full_name=a.join("::")},sa.$$arity=0);b.def(J,"$prepend",Ga=function(a){var c;c=b.slice.call(arguments,0,arguments.length);0===c.length&&this.$raise(r(d,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");
for(var e=c.length-1;0<=e;e--){var f=c[e];f.$$is_module||this.$raise(r(d,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$prepend_features(this);f.$prepended(this)}return this},Ga.$$arity=-1);b.def(J,"$prepend_features",ua=function(a){this.$$is_module||this.$raise(r(d,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");b.prepend_features(this,a);return this},ua.$$arity=1);b.def(J,"$prepended",oa=function(a){return y},oa.$$arity=1);b.def(J,"$remove_const",
Ja=function(a){return b.const_remove(this,a)},Ja.$$arity=1);b.def(J,"$to_s",Ra=function(){var a;return v(a=b.Module.$name.call(this))?a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Ra.$$arity=0);b.def(J,"$undef_method",Q=function(a){var c;c=b.slice.call(arguments,0,arguments.length);for(var d=0,e=c.length;d<e;d++)b.udef(this,"$"+c[d]);return this},Q.$$arity=-1);b.def(J,"$instance_variables",Ha=function(){var a=y,a=(b.Module.$$nesting=d,this.$constants()),c=[],e;for(e in this)this.hasOwnProperty(e)&&
"$"!==e.charAt(0)&&"constructor"!==e&&!a["$include?"](e)&&c.push("@"+e);return c},Ha.$$arity=0);b.def(J,"$dup",xa=function(){var a=xa.$$p,c=y,d=c=y,e=y;a&&(xa.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];c=B(this,b.find_super_dispatcher(this,"dup",xa,!1),c,a);c.$copy_class_variables(this);c.$copy_constants(this);return c},xa.$$arity=0);b.def(J,"$copy_class_variables",Aa=function(a){for(var b in a.$$cvars)this.$$cvars[b]=a.$$cvars[b]},Aa.$$arity=1);return(b.def(J,"$copy_constants",
Ea=function(a){var c;a=a.$$const;for(c in a)b.const_set(this,c,a[c])},Ea.$$arity=1),y)&&"copy_constants"}(F[0],null,F)},Opal.modules["corelib/class"]=function(b){var q=b.top,F=[],y=b.nil,u=b.const_get_relative,r=b.klass,g=b.send;b.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));q.$require("corelib/module");return function(B,$super,t){function p(){}B=p=r(B,$super,"Class",p);var x=[B].concat(t),J,L,q,a,d,w,A;b.defs(B,"$new",J=function(a){var d=J.$$p,w=d||
y;d&&(J.$$p=null);d&&(J.$$p=null);null==a&&(a=u(x,"Object"));if(!a.$$is_class)throw b.TypeError.$new("superclass must be a Class");d=b.allocate_class(y,a,function(){});a.$inherited(d);w!==y&&g(d,"class_eval",[],w.$to_proc());return d},J.$$arity=-1);b.def(B,"$allocate",L=function(){var a=new this;a.$$id=b.uid();return a},L.$$arity=0);b.def(B,"$inherited",q=function(a){return y},q.$$arity=1);b.def(B,"$initialize_dup",a=function(a){this.$initialize_copy(a);this.$$full_name=this.$$name=null},a.$$arity=
1);b.def(B,"$new",d=function(a){var k=d.$$p,w=k||y;k&&(d.$$p=null);k&&(d.$$p=null);var k=b.slice.call(arguments,0,arguments.length),c=this.$allocate();b.send(c,c.$initialize,k,w);return c},d.$$arity=-1);b.def(B,"$superclass",w=function(){return this.$$super||y},w.$$arity=0);return(b.def(B,"$to_s",A=function(){A.$$p&&(A.$$p=null);var a=this.$$singleton_of;return a&&a.$$is_a_module?"#<Class:"+a.$name()+">":a?"#<Class:#<"+a.$$class.$name()+":0x"+b.id(a).$to_s(16)+">>":g(this,b.find_super_dispatcher(this,
"to_s",A,!1),[],null)},A.$$arity=0),y)&&"to_s"}(F[0],null,F)},Opal.modules["corelib/basic_object"]=function(b){var q=[],F=b.nil,y=b.const_get_qualified,u=b.klass,r=b.truthy,g=b.range,B=b.hash2,v=b.send;b.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(t,$super,x){function J(){}t=J=u(t,$super,"BasicObject",J);[t].concat(x);var L,q,a,d,w,A,z,k,m,c,f,l,O,T;b.def(t,"$initialize",L=function(a){b.slice.call(arguments,0,arguments.length);
return F},L.$$arity=-1);b.def(t,"$==",q=function(a){return this===a},q.$$arity=1);b.def(t,"$eql?",a=function(a){return this["$=="](a)},a.$$arity=1);b.alias(t,"equal?","==");b.def(t,"$__id__",d=function(){if(null!=this.$$id)return this.$$id;b.defineProperty(this,"$$id",b.uid());return this.$$id},d.$$arity=0);b.def(t,"$__send__",w=function(a,c){var d=w.$$p,f=d||F;d&&(w.$$p=null);d&&(w.$$p=null);var d=b.slice.call(arguments,1,arguments.length),l=this["$"+a];if(l)return f!==F&&(l.$$p=f),l.apply(this,
d);f!==F&&(this.$method_missing.$$p=f);return this.$method_missing.apply(this,[a].concat(d))},w.$$arity=-2);b.def(t,"$!",A=function(){return!1},A.$$arity=0);b.def(t,"$!=",z=function(a){return this["$=="](a)["$!"]()},z.$$arity=1);b.def(t,"$instance_eval",k=function(a){var c=k.$$p,d=c||F,f,l,w=F,m=F,z=m=m=F;c&&(k.$$p=null);c&&(k.$$p=null);c=b.slice.call(arguments,0,arguments.length);r(r(f=d["$nil?"]())?!!b.compile:f)?(r(g(1,3,!1)["$cover?"](c.$size()))||y("::","Kernel").$raise(y("::","ArgumentError"),
"wrong number of arguments (0 for 1..3)"),f=[].concat(b.to_a(c)),w=null==f[0]?F:f[0],m=null==f[1]?F:f[1],f,m=B(["file","eval"],{file:r(f=m)?f:"(eval)",eval:!0}),m=b.hash({arity_check:!1}).$merge(m),z=y("::","Opal").$compile(w,m),d=v(y("::","Kernel"),"proc",[],(l=function(){return function(a){return eval(z)}(l.$$s||this)},l.$$s=this,l.$$arity=0,l))):r(c["$any?"]())&&y("::","Kernel").$raise(y("::","ArgumentError"),"wrong number of arguments ("+c.$size()+" for 0)");f=d.$$s;var A;d.$$s=null;if(this.$$is_a_module){this.$$eval=
!0;try{A=d.call(this,this)}finally{this.$$eval=!1}}else A=d.call(this,this);d.$$s=f;return A},k.$$arity=-1);b.def(t,"$instance_exec",m=function(a){var c=m.$$p,d=c||F;c&&(m.$$p=null);c&&(m.$$p=null);c=b.slice.call(arguments,0,arguments.length);r(d)||y("::","Kernel").$raise(y("::","ArgumentError"),"no block given");var f=d.$$s,l;d.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{l=d.apply(this,c)}finally{this.$$eval=!1}}else l=d.apply(this,c);d.$$s=f;return l},m.$$arity=-1);b.def(t,"$singleton_method_added",
c=function(a){b.slice.call(arguments,0,arguments.length);return F},c.$$arity=-1);b.def(t,"$singleton_method_removed",f=function(a){b.slice.call(arguments,0,arguments.length);return F},f.$$arity=-1);b.def(t,"$singleton_method_undefined",l=function(a){b.slice.call(arguments,0,arguments.length);return F},l.$$arity=-1);b.def(t,"$class",O=function(){return this.$$class},O.$$arity=0);return(b.def(t,"$method_missing",T=function(a,c){var d=T.$$p,f=F;d&&(T.$$p=null);d&&(T.$$p=null);b.slice.call(arguments,
1,arguments.length);f=r(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+a+"' for "+this.$$class;return y("::","Kernel").$raise(y("::","NoMethodError").$new(f,a))},T.$$arity=-2),F)&&"method_missing"}(q[0],null,q)},Opal.modules["corelib/kernel"]=function(b){function q(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}var F=[],y=b.nil,u=b.const_get_qualified,r=b.const_get_relative,g=b.module,B=b.truthy,v=b.gvars,
t=b.hash2,p=b.send,x=b.klass;b.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $append_features $extend_object $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $result $any? $print $format $puts $each $<= $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));
(function(x,L){function P(){}var a=P=g(x,"Kernel",P),d=[a].concat(L),w,A,z,k,m,c,f,l,O,T,n,e,h,E,ya,pa,ia,G,aa,fa,ta,ma,ja,C,D,X,ha,va,V,ka,N,W,R,ba,S,qa,Ca,U,la,F,ca,Da,ea,Fa,da,na,ra,K,sa,Ga,ua,oa,Ja,Ra,Q,Ha,xa,Aa,Ea,wa,za,Ia,Oa,Ma,Pa,Na;b.def(a,"$method_missing",w=function(a,c){var e=w.$$p;e&&(w.$$p=null);e&&(w.$$p=null);e=b.slice.call(arguments,1,arguments.length);return this.$raise(r(d,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,e))},w.$$arity=-2);b.def(a,"$=~",A=
function(a){return!1},A.$$arity=1);b.def(a,"$!~",z=function(a){return this["$=~"](a)["$!"]()},z.$$arity=1);b.def(a,"$===",k=function(a){var b;return B(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},k.$$arity=1);b.def(a,"$<=>",m=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==y?0:y},m.$$arity=1);b.def(a,"$method",c=function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(r(d,"NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return r(d,"Method").$new(this,
b.$$owner||this.$class(),b,a)},c.$$arity=1);b.def(a,"$methods",f=function(a){null==a&&(a=!0);return B(a)?b.methods(this):b.own_methods(this)},f.$$arity=-1);b.def(a,"$public_methods",l=function(a){null==a&&(a=!0);return B(a)?b.methods(this):b.receiver_methods(this)},l.$$arity=-1);b.def(a,"$Array",O=function(a){var b;if(a===y)return[];if(a.$$is_array)return a;b=r(d,"Opal")["$coerce_to?"](a,r(d,"Array"),"to_ary");if(b!==y)return b;b=r(d,"Opal")["$coerce_to?"](a,r(d,"Array"),"to_a");return b!==y?b:[a]},
O.$$arity=1);b.def(a,"$at_exit",T=function(){var a=T.$$p,b=a||y,c;null==v.__at_exit__&&(v.__at_exit__=y);a&&(T.$$p=null);a&&(T.$$p=null);v.__at_exit__=B(c=v.__at_exit__)?c:[];return v.__at_exit__["$<<"](b)},T.$$arity=0);b.def(a,"$caller",n=function(a){b.slice.call(arguments,0,arguments.length);return[]},n.$$arity=-1);b.def(a,"$class",e=function(){return this.$$class},e.$$arity=0);b.def(a,"$copy_instance_variables",h=function(a){var b=Object.keys(a),c,d,e;c=0;for(d=b.length;c<d;c++)e=b[c],"$"!==e.charAt(0)&&
a.hasOwnProperty(e)&&(this[e]=a[e])},h.$$arity=1);b.def(a,"$copy_singleton_methods",E=function(a){var c,d,e,f;if(a.hasOwnProperty("$$meta")){var h=b.get_singleton_class(a),n=b.get_singleton_class(this);e=Object.getOwnPropertyNames(h.prototype);c=0;for(f=e.length;c<f;c++)d=e[c],b.is_method(d)&&(n.prototype[d]=h.prototype[d]);n.$$const=Object.assign({},h.$$const);Object.setPrototypeOf(n.prototype,Object.getPrototypeOf(h.prototype))}c=0;e=Object.getOwnPropertyNames(a);for(f=e.length;c<f;c++)d=e[c],"$"===
d.charAt(0)&&"$"!==d.charAt(1)&&a.hasOwnProperty(d)&&(this[d]=a[d])},E.$$arity=1);b.def(a,"$clone",ya=function(a){var c=y;if(null==a)t([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");c=this.$class().$allocate();c.$copy_instance_variables(this);c.$copy_singleton_methods(this);c.$initialize_clone(this);return c},ya.$$arity=-1);b.def(a,"$initialize_clone",pa=function(a){return this.$initialize_copy(a)},pa.$$arity=1);b.def(a,"$define_singleton_method",ia=function(a,b){var c=
ia.$$p,d=c||y;c&&(ia.$$p=null);c&&(ia.$$p=null);return p(this.$singleton_class(),"define_method",[a,b],d.$to_proc())},ia.$$arity=-2);b.def(a,"$dup",G=function(){var a=y,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},G.$$arity=0);b.def(a,"$initialize_dup",aa=function(a){return this.$initialize_copy(a)},aa.$$arity=1);b.def(a,"$enum_for",fa=function(a,c){var e=fa.$$p,f=e||y,h;e&&(fa.$$p=null);e&&(fa.$$p=null);e=b.slice.call(arguments,0,arguments.length);
0<e.length&&(h=e[0],e.splice(0,1));null==h&&(h="each");return p(r(d,"Enumerator"),"for",[this,h].concat(b.to_a(e)),f.$to_proc())},fa.$$arity=-1);b.alias(a,"to_enum","enum_for");b.def(a,"$equal?",ta=function(a){return this===a},ta.$$arity=1);b.def(a,"$exit",ma=function(a){var c,d=y;null==v.__at_exit__&&(v.__at_exit__=y);null==a&&(a=!0);for(v.__at_exit__=B(c=v.__at_exit__)?c:[];!B(v.__at_exit__["$empty?"]());)d=v.__at_exit__.$pop(),d.$call();a=null==a?0:a.$$is_boolean?a?0:1:a.$$is_number?a.$to_i():
0;b.exit(a);return y},ma.$$arity=-1);b.def(a,"$extend",ja=function(a){var c;c=b.slice.call(arguments,0,arguments.length);for(var e=this.$singleton_class(),f=c.length-1;0<=f;f--){var h=c[f];h.$$is_module||this.$raise(r(d,"TypeError"),"wrong argument type "+h.$class()+" (expected Module)");h.$append_features(e);h.$extend_object(this);h.$extended(this)}return this},ja.$$arity=-1);b.def(a,"$format",C=function(a,c){function e(){Q&32&&La.$raise(r(d,"ArgumentError"),"flag after width");Q&128&&La.$raise(r(d,
"ArgumentError"),"flag after precision")}function f(){Q&32&&La.$raise(r(d,"ArgumentError"),"width given twice");Q&128&&La.$raise(r(d,"ArgumentError"),"width after precision")}function h(a){a>=E.length&&La.$raise(r(d,"ArgumentError"),"too few arguments");return E[a]}function n(){switch(S){case -1:La.$raise(r(d,"ArgumentError"),"unnumbered("+ya+") mixed with numbered");case -2:La.$raise(r(d,"ArgumentError"),"unnumbered("+ya+") mixed with named")}S=ya++;return h(S-1)}function l(a){0<S&&La.$raise(r(d,
"ArgumentError"),"numbered("+a+") after unnumbered("+S+")");-2===S&&La.$raise(r(d,"ArgumentError"),"numbered("+a+") after named");1>a&&La.$raise(r(d,"ArgumentError"),"invalid index - "+a+"$");S=-1;return h(a-1)}function k(){return void 0===p?n():p}function w(b){var c;for(c="";;z++){z===T&&La.$raise(r(d,"ArgumentError"),"malformed format string - %*[0-9]");if(48>a.charCodeAt(z)||57<a.charCodeAt(z))return z--,c=parseInt(c,10)||0,2147483647<c&&La.$raise(r(d,"ArgumentError"),""+b+" too big"),c;c+=a.charAt(z)}}
function m(b){b=w(b);"$"===a.charAt(z+1)?(z++,b=l(b)):b=n();return b.$to_int()}var E,La=this,I=y;null==v.DEBUG&&(v.DEBUG=y);E=b.slice.call(arguments,1,arguments.length);B(E.$length()["$=="](1)?E["$[]"](0)["$respond_to?"]("to_ary"):E.$length()["$=="](1))&&(I=r(d,"Opal")["$coerce_to?"](E["$[]"](0),r(d,"Array"),"to_ary"),B(I["$nil?"]())||(E=I.$to_a()));var I="",C=0,A,z,T=a.length,D,g,G,O,t,x,ba,ka,N,p,ya=1,S=0,Q;for(z=a.indexOf("%");-1!==z;z=a.indexOf("%",z)){g=void 0;Q=0;t=O=-1;p=void 0;A=z;z++;switch(a.charAt(z)){case "%":C=
z;case "":case "\n":case "\x00":z++;continue}a:for(;z<T;z++)switch(a.charAt(z)){case " ":e();Q|=16;continue a;case "#":e();Q|=1;continue a;case "+":e();Q|=4;continue a;case "-":e();Q|=2;continue a;case "0":e();Q|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":D=w("width");if("$"===a.charAt(z+1)){if(z+2===T){g="%";z++;break a}void 0!==p&&La.$raise(r(d,"ArgumentError"),"value given twice - %"+D+"$");p=l(D);z++}else f(),Q|=32,O=D;continue a;case "<":case "{":for(G=
"<"===a.charAt(z)?">":"}",D="",z++;;z++){z===T&&La.$raise(r(d,"ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(z)===G)if(0<S&&La.$raise(r(d,"ArgumentError"),"named "+D+" after unnumbered("+S+")"),-1===S&&La.$raise(r(d,"ArgumentError"),"named "+D+" after numbered"),S=-2,void 0!==E[0]&&E[0].$$is_hash||La.$raise(r(d,"ArgumentError"),"one hash required"),p=E[0].$fetch(D),">"===G)continue a;else{g=p.toString();-1!==t&&(g=g.slice(0,t));if(Q&2)for(;g.length<O;)g+=" ";else for(;g.length<
O;)g=" "+g;break a}D+=a.charAt(z)}case "*":z++;f();Q|=32;O=m("width");0>O&&(Q|=2,O=-O);continue a;case ".":Q&128&&La.$raise(r(d,"ArgumentError"),"precision given twice");Q|=192;t=0;z++;if("*"===a.charAt(z)){z++;t=m("precision");0>t&&(Q&=-65);continue a}t=w("precision");continue a;case "d":case "i":case "u":D=La.$Integer(k());if(0<=D){for(g=D.toString();g.length<t;)g="0"+g;if(Q&2){if(Q&4||Q&16)g=(Q&4?"+":" ")+g;for(;g.length<O;)g+=" "}else if(Q&8&&-1===t){for(;g.length<O-(Q&4||Q&16?1:0);)g="0"+g;if(Q&
4||Q&16)g=(Q&4?"+":" ")+g}else{if(Q&4||Q&16)g=(Q&4?"+":" ")+g;for(;g.length<O;)g=" "+g}}else{for(g=(-D).toString();g.length<t;)g="0"+g;if(Q&2)for(g="-"+g;g.length<O;)g+=" ";else if(Q&8&&-1===t){for(;g.length<O-1;)g="0"+g;g="-"+g}else for(g="-"+g;g.length<O;)g=" "+g}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(z)){case "b":case "B":x=2;ba="0b";ka=/^1+/;N="1";break;case "o":x=8;ba="0";ka=/^3?7+/;N="7";break;case "x":case "X":x=16,ba="0x",ka=/^f+/,N="f"}D=La.$Integer(k());if(0<=
D){for(g=D.toString(x);g.length<t;)g="0"+g;if(Q&2){if(Q&4||Q&16)g=(Q&4?"+":" ")+g;for(Q&1&&0!==D&&(g=ba+g);g.length<O;)g+=" "}else if(Q&8&&-1===t){for(;g.length<O-(Q&4||Q&16?1:0)-(Q&1&&0!==D?ba.length:0);)g="0"+g;Q&1&&0!==D&&(g=ba+g);if(Q&4||Q&16)g=(Q&4?"+":" ")+g}else{Q&1&&0!==D&&(g=ba+g);if(Q&4||Q&16)g=(Q&4?"+":" ")+g;for(;g.length<O;)g=" "+g}}else if(Q&4||Q&16){for(g=(-D).toString(x);g.length<t;)g="0"+g;if(Q&2)for(Q&1&&(g=ba+g),g="-"+g;g.length<O;)g+=" ";else if(Q&8&&-1===t){for(;g.length<O-1-
(Q&1?2:0);)g="0"+g;Q&1&&(g=ba+g);g="-"+g}else for(Q&1&&(g=ba+g),g="-"+g;g.length<O;)g=" "+g}else{for(g=(D>>>0).toString(x).replace(ka,N);g.length<t-2;)g=N+g;if(Q&2)for(g=".."+g,Q&1&&(g=ba+g);g.length<O;)g+=" ";else if(Q&8&&-1===t){for(;g.length<O-2-(Q&1?ba.length:0);)g=N+g;g=".."+g;Q&1&&(g=ba+g)}else for(g=".."+g,Q&1&&(g=ba+g);g.length<O;)g=" "+g}a.charAt(z)===a.charAt(z).toUpperCase()&&(g=g.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":D=La.$Float(k());if(0<=D||isNaN(D)){if(Infinity===
D)g="Inf";else switch(a.charAt(z)){case "f":g=D.toFixed(-1===t?6:t);break;case "e":case "E":g=D.toExponential(-1===t?6:t);break;case "g":case "G":g=D.toExponential(),G=parseInt(g.split("e")[1],10),-4>G||G>=(-1===t?6:t)||(g=D.toPrecision(-1===t?Q&1?6:void 0:t))}if(Q&2){if(Q&4||Q&16)g=(Q&4?"+":" ")+g;for(;g.length<O;)g+=" "}else if(Q&8&&Infinity!==D&&!isNaN(D)){for(;g.length<O-(Q&4||Q&16?1:0);)g="0"+g;if(Q&4||Q&16)g=(Q&4?"+":" ")+g}else{if(Q&4||Q&16)g=(Q&4?"+":" ")+g;for(;g.length<O;)g=" "+g}}else{if(-Infinity===
D)g="Inf";else switch(a.charAt(z)){case "f":g=(-D).toFixed(-1===t?6:t);break;case "e":case "E":g=(-D).toExponential(-1===t?6:t);break;case "g":case "G":g=(-D).toExponential(),G=parseInt(g.split("e")[1],10),-4>G||G>=(-1===t?6:t)||(g=(-D).toPrecision(-1===t?Q&1?6:void 0:t))}if(Q&2)for(g="-"+g;g.length<O;)g+=" ";else if(Q&8&&-Infinity!==D){for(;g.length<O-1;)g="0"+g;g="-"+g}else for(g="-"+g;g.length<O;)g=" "+g}a.charAt(z)!==a.charAt(z).toUpperCase()||Infinity===D||-Infinity===D||isNaN(D)||(g=g.toUpperCase());
g=g.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":La.$raise(r(d,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":D=k();D["$respond_to?"]("to_ary")&&(D=D.$to_ary()[0]);g=D["$respond_to?"]("to_str")?D.$to_str():String.fromCharCode(r(d,"Opal").$coerce_to(D,r(d,"Integer"),"to_int"));1!==g.length&&La.$raise(r(d,"ArgumentError"),"%c requires a character");if(Q&2)for(;g.length<O;)g+=" ";else for(;g.length<O;)g=" "+g;break a;case "p":g=k().$inspect();
-1!==t&&(g=g.slice(0,t));if(Q&2)for(;g.length<O;)g+=" ";else for(;g.length<O;)g=" "+g;break a;case "s":g=k().$to_s();-1!==t&&(g=g.slice(0,t));if(Q&2)for(;g.length<O;)g+=" ";else for(;g.length<O;)g=" "+g;break a;default:La.$raise(r(d,"ArgumentError"),"malformed format string - %"+a.charAt(z))}void 0===g&&La.$raise(r(d,"ArgumentError"),"malformed format string - %");I+=a.slice(C,A)+g;C=z+1}v.DEBUG&&0<=S&&ya<E.length&&La.$raise(r(d,"ArgumentError"),"too many arguments for format string");return I+a.slice(C)},
C.$$arity=-2);b.def(a,"$hash",D=function(){return this.$__id__()},D.$$arity=0);b.def(a,"$initialize_copy",X=function(a){return y},X.$$arity=1);b.def(a,"$inspect",ha=function(){return this.$to_s()},ha.$$arity=0);b.def(a,"$instance_of?",va=function(a){a.$$is_class||a.$$is_module||this.$raise(r(d,"TypeError"),"class or module required");return this.$$class===a},va.$$arity=1);b.def(a,"$instance_variable_defined?",V=function(a){a=r(d,"Opal")["$instance_variable_name!"](a);return b.hasOwnProperty.call(this,
a.substr(1))},V.$$arity=1);b.def(a,"$instance_variable_get",ka=function(a){a=r(d,"Opal")["$instance_variable_name!"](a);a=this[b.ivar(a.substr(1))];return null==a?y:a},ka.$$arity=1);b.def(a,"$instance_variable_set",N=function(a,c){a=r(d,"Opal")["$instance_variable_name!"](a);return this[b.ivar(a.substr(1))]=c},N.$$arity=2);b.def(a,"$remove_instance_variable",W=function(a){a=r(d,"Opal")["$instance_variable_name!"](a);var c=b.ivar(a.substr(1));return this.hasOwnProperty(c)?(a=this[c],delete this[c],
a):this.$raise(r(d,"NameError"),"instance variable "+a+" not defined")},W.$$arity=1);b.def(a,"$instance_variables",R=function(){var a=[],b,c;for(c in this)this.hasOwnProperty(c)&&"$"!==c.charAt(0)&&(b="$"===c.substr(-1)?c.slice(0,c.length-1):c,a.push("@"+b));return a},R.$$arity=0);b.def(a,"$Integer",ba=function(a,b){var c=this,e,f;if(!a.$$is_string)return void 0!==b&&c.$raise(r(d,"ArgumentError"),"base specified for non string value"),a===y&&c.$raise(r(d,"TypeError"),"can't convert nil into Integer"),
a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&c.$raise(r(d,"FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(e=a.$to_int(),e!==y)?e:r(d,"Opal")["$coerce_to!"](a,r(d,"Integer"),"to_i");if("0"===a)return 0;void 0===b?b=0:(b=r(d,"Opal").$coerce_to(b,r(d,"Integer"),"to_int"),(1===b||0>b||36<b)&&c.$raise(r(d,"ArgumentError"),"invalid radix "+b));e=a.toLowerCase();e=e.replace(/(\d)_(?=\d)/g,"$1");e=e.replace(/^(\s*[+-]?)(0[bodx]?)/,function(e,f,h){switch(h){case "0b":if(0===
b||2===b)return b=2,f;case "0":case "0o":if(0===b||8===b)return b=8,f;case "0d":if(0===b||10===b)return b=10,f;case "0x":if(0===b||16===b)return b=16,f}c.$raise(r(d,"ArgumentError"),'invalid value for Integer(): "'+a+'"')});b=0===b?10:b;f="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+f+"]+\\s*$")).test(e)||c.$raise(r(d,"ArgumentError"),'invalid value for Integer(): "'+a+'"');e=parseInt(e,b);isNaN(e)&&c.$raise(r(d,"ArgumentError"),'invalid value for Integer(): "'+
a+'"');return e},ba.$$arity=-2);b.def(a,"$Float",S=function(a){var b;a===y&&this.$raise(r(d,"TypeError"),"can't convert nil into Float");if(a.$$is_string){b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||this.$raise(r(d,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return r(d,"Opal")["$coerce_to!"](a,r(d,"Float"),"to_f")},S.$$arity=1);b.def(a,"$Hash",
qa=function(a){var b;return B(B(b=a["$nil?"]())?b:a["$=="]([]))?t([],{}):B(r(d,"Hash")["$==="](a))?a:r(d,"Opal")["$coerce_to!"](a,r(d,"Hash"),"to_hash")},qa.$$arity=1);b.def(a,"$is_a?",Ca=function(a){a.$$is_class||a.$$is_module||this.$raise(r(d,"TypeError"),"class or module required");return b.is_a(this,a)},Ca.$$arity=1);b.def(a,"$itself",U=function(){return this},U.$$arity=0);b.alias(a,"kind_of?","is_a?");b.def(a,"$lambda",la=function(){var a=la.$$p,c=a||y;a&&(la.$$p=null);a&&(la.$$p=null);return b.lambda(c)},
la.$$arity=0);b.def(a,"$load",F=function(a){a=r(d,"Opal")["$coerce_to!"](a,r(d,"String"),"to_str");return b.load(a)},F.$$arity=1);b.def(a,"$loop",ca=function(){var a,c=ca.$$p,e=c||y,f=y;c&&(ca.$$p=null);if(e===y)return p(this,"enum_for",["loop"],(a=function(){return u(r(d,"Float"),"INFINITY")},a.$$s=this,a.$$arity=0,a));for(;B(!0);)try{b.yieldX(e,[])}catch(h){if(b.rescue(h,[r(d,"StopIteration")])){f=h;try{return f.$result()}finally{b.pop_exception()}}else throw h;}return this},ca.$$arity=0);b.def(a,
"$nil?",Da=function(){return!1},Da.$$arity=0);b.alias(a,"object_id","__id__");b.def(a,"$printf",ea=function(a){var c;c=b.slice.call(arguments,0,arguments.length);B(c["$any?"]())&&this.$print(p(this,"format",b.to_a(c)));return y},ea.$$arity=-1);b.def(a,"$proc",Fa=function(){var a=Fa.$$p,b=a||y;a&&(Fa.$$p=null);a&&(Fa.$$p=null);B(b)||this.$raise(r(d,"ArgumentError"),"tried to create Proc object without a block");b.$$is_lambda=!1;return b},Fa.$$arity=0);b.def(a,"$puts",da=function(a){var c;null==v.stdout&&
(v.stdout=y);c=b.slice.call(arguments,0,arguments.length);return p(v.stdout,"puts",b.to_a(c))},da.$$arity=-1);b.def(a,"$p",na=function(a){var c,d;c=b.slice.call(arguments,0,arguments.length);p(c,"each",[],(d=function(a){null==v.stdout&&(v.stdout=y);null==a&&(a=y);return v.stdout.$puts(a.$inspect())},d.$$s=this,d.$$arity=1,d));return B(q(c.$length(),1))?c["$[]"](0):c},na.$$arity=-1);b.def(a,"$print",ra=function(a){var c;null==v.stdout&&(v.stdout=y);c=b.slice.call(arguments,0,arguments.length);return p(v.stdout,
"print",b.to_a(c))},ra.$$arity=-1);b.def(a,"$warn",K=function(a){var c,d;null==v.VERBOSE&&(v.VERBOSE=y);null==v.stderr&&(v.stderr=y);c=b.slice.call(arguments,0,arguments.length);return B(B(d=v.VERBOSE["$nil?"]())?d:c["$empty?"]())?y:p(v.stderr,"puts",b.to_a(c))},K.$$arity=-1);b.def(a,"$raise",sa=function(a,c,e){null==v["!"]&&(v["!"]=y);null==c&&(c=y);if(null==a&&v["!"]!==y)throw v["!"];null==a?a=r(d,"RuntimeError").$new():a.$$is_string?a=r(d,"RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?
a=a.$exception(c):a["$is_a?"](r(d,"Exception"))||(a=r(d,"TypeError").$new("exception class/object expected"));v["!"]!==y&&b.exceptions.push(v["!"]);v["!"]=a;throw a;},sa.$$arity=-1);b.alias(a,"fail","raise");b.def(a,"$rand",Ga=function(a){if(void 0===a)return u(r(d,"Random"),"DEFAULT").$rand();a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return u(r(d,"Random"),"DEFAULT").$rand(a)},Ga.$$arity=-1);b.def(a,"$respond_to?",ua=function(a,b){null==b&&(b=!1);if(B(this["$respond_to_missing?"](a,
b)))return!0;var c=this["$"+a];return"function"!==typeof c||c.$$stub?!1:!0},ua.$$arity=-2);b.def(a,"$respond_to_missing?",oa=function(a,b){return!1},oa.$$arity=-2);b.def(a,"$require",Ja=function(a){a=r(d,"Opal")["$coerce_to!"](a,r(d,"String"),"to_str");return b.require(a)},Ja.$$arity=1);b.def(a,"$require_relative",Ra=function(a){r(d,"Opal")["$try_convert!"](a,r(d,"String"),"to_str");a=r(d,"File").$expand_path(r(d,"File").$join(b.current_file,"..",a));return b.require(a)},Ra.$$arity=1);b.def(a,"$require_tree",
Q=function(a){var c=[];a=r(d,"File").$expand_path(a);a=b.normalize(a);"."===a&&(a="");for(var e in b.modules)e["$start_with?"](a)&&c.push([e,b.require(e)]);return c},Q.$$arity=1);b.alias(a,"send","__send__");b.alias(a,"public_send","__send__");b.def(a,"$singleton_class",Ha=function(){return b.get_singleton_class(this)},Ha.$$arity=0);b.def(a,"$sleep",xa=function(a){null==a&&(a=y);a===y&&this.$raise(r(d,"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(r(d,"TypeError"),
"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(r(d,"ArgumentError"),"time interval must be positive");for(var c=b.global.performance?function(){return performance.now()}:function(){return new Date},e=c();c()-e<=1E3*a;);return a},xa.$$arity=-1);b.alias(a,"sprintf","format");b.def(a,"$srand",Aa=function(a){null==a&&(a=r(d,"Random").$new_seed());return r(d,"Random").$srand(a)},Aa.$$arity=-1);b.def(a,"$String",Ea=function(a){var b;return B(b=r(d,"Opal")["$coerce_to?"](a,r(d,"String"),
"to_str"))?b:r(d,"Opal")["$coerce_to!"](a,r(d,"String"),"to_s")},Ea.$$arity=1);b.def(a,"$tap",wa=function(){var a=wa.$$p,c=a||y;a&&(wa.$$p=null);a&&(wa.$$p=null);b.yield1(c,this);return this},wa.$$arity=0);b.def(a,"$to_proc",za=function(){return this},za.$$arity=0);b.def(a,"$to_s",Ia=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},Ia.$$arity=0);b.def(a,"$catch",Oa=function(a){var c=Oa.$$p,e=c||y,f=y;c&&(Oa.$$p=null);try{return b.yieldX(e,[])}catch(h){if(b.rescue(h,[r(d,"UncaughtThrowError")])){f=
h;try{return f.$sym()["$=="](a)?f.$arg():this.$raise()}finally{b.pop_exception()}}else throw h;}},Oa.$$arity=1);b.def(a,"$throw",Ma=function(a){var c;c=b.slice.call(arguments,0,arguments.length);return this.$raise(r(d,"UncaughtThrowError"),c)},Ma.$$arity=-1);b.def(a,"$open",Pa=function(a){var c=Pa.$$p,e=c||y;c&&(Pa.$$p=null);c&&(Pa.$$p=null);c=b.slice.call(arguments,0,arguments.length);return p(r(d,"File"),"open",b.to_a(c),e.$to_proc())},Pa.$$arity=-1);b.def(a,"$yield_self",Na=function(){var a,c=
Na.$$p,d=c||y;c&&(Na.$$p=null);return d===y?p(this,"enum_for",["yield_self"],(a=function(){return 1},a.$$s=this,a.$$arity=0,a)):b.yield1(d,this)},Na.$$arity=0)})(F[0],F);return function(b,$super,g){function a(){}b=a=x(b,$super,"Object",a);g=[b].concat(g);return b.$include(r(g,"Kernel"))}(F[0],null,F)},Opal.modules["corelib/error"]=function(b){var q=[],F=b.nil,y=b.const_get_relative,u=b.klass,r=b.send,g=b.truthy,B=b.module,v=b.hash2;b.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));
(function(t,$super,x){function v(){}t=v=u(t,$super,"Exception",v);var L=t.prototype,q=[t].concat(x),a,d,w,A,z,k,m,c,f;L.message=F;var l;b.defs(t,"$new",a=function(a){var c;c=b.slice.call(arguments,0,arguments.length);var d=0<c.length?c[0]:F,e=new this(d);e.name=this.$$name;e.message=d;b.send(e,e.$initialize,c);b.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(e,l);return e},a.$$arity=-1);l=t.$new;b.defs(t,"$exception",d=function(a){var c;c=b.slice.call(arguments,0,arguments.length);
return r(this,"new",b.to_a(c))},d.$$arity=-1);b.def(t,"$initialize",w=function(a){var c;c=b.slice.call(arguments,0,arguments.length);return this.message=0<c.length?c[0]:F},w.$$arity=-1);b.def(t,"$backtrace",A=function(){if(this.backtrace)return this.backtrace;var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},A.$$arity=0);b.def(t,"$exception",z=function(a){null==a&&(a=F);if(a===F||this===a)return this;var b=this.$clone();b.message=a;return b},z.$$arity=-1);b.def(t,
"$message",k=function(){return this.$to_s()},k.$$arity=0);b.def(t,"$inspect",m=function(){var a=F,a=this.$to_s();return g(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},m.$$arity=0);b.def(t,"$set_backtrace",c=function(a){var b=!0,c,d;if(a===F)this.backtrace=F;else if(a.$$is_string)this.backtrace=[a];else{if(a.$$is_array)for(c=0,d=a.length;c<d;c++){if(!a[c].$$is_string){b=!1;break}}else b=!1;!1===b&&this.$raise(y(q,"TypeError"),"backtrace must be Array of String");
this.backtrace=a}return a},c.$$arity=1);return(b.def(t,"$to_s",f=function(){var a,b;return g(a=g(b=this.message)?this.message.$to_s():b)?a:this.$class().$to_s()},f.$$arity=0),F)&&"to_s"})(q[0],Error,q);(function(b,$super,g){function v(){}[v=u(b,$super,"ScriptError",v)].concat(g);return F})(q[0],y(q,"Exception"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"SyntaxError",v)].concat(g);return F})(q[0],y(q,"ScriptError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"LoadError",v)].concat(g);
return F})(q[0],y(q,"ScriptError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"NotImplementedError",v)].concat(g);return F})(q[0],y(q,"ScriptError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"SystemExit",v)].concat(g);return F})(q[0],y(q,"Exception"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"NoMemoryError",v)].concat(g);return F})(q[0],y(q,"Exception"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"SignalException",v)].concat(g);return F})(q[0],y(q,"Exception"),
q);(function(b,$super,g){function v(){}[v=u(b,$super,"Interrupt",v)].concat(g);return F})(q[0],y(q,"Exception"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"SecurityError",v)].concat(g);return F})(q[0],y(q,"Exception"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"StandardError",v)].concat(g);return F})(q[0],y(q,"Exception"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"EncodingError",v)].concat(g);return F})(q[0],y(q,"StandardError"),q);(function(b,$super,g){function v(){}
[v=u(b,$super,"ZeroDivisionError",v)].concat(g);return F})(q[0],y(q,"StandardError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"NameError",v)].concat(g);return F})(q[0],y(q,"StandardError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"NoMethodError",v)].concat(g);return F})(q[0],y(q,"NameError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"RuntimeError",v)].concat(g);return F})(q[0],y(q,"StandardError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"FrozenError",
v)].concat(g);return F})(q[0],y(q,"RuntimeError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"LocalJumpError",v)].concat(g);return F})(q[0],y(q,"StandardError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"TypeError",v)].concat(g);return F})(q[0],y(q,"StandardError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"ArgumentError",v)].concat(g);return F})(q[0],y(q,"StandardError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"IndexError",v)].concat(g);return F})(q[0],
y(q,"StandardError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"StopIteration",v)].concat(g);return F})(q[0],y(q,"IndexError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"KeyError",v)].concat(g);return F})(q[0],y(q,"IndexError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"RangeError",v)].concat(g);return F})(q[0],y(q,"StandardError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"FloatDomainError",v)].concat(g);return F})(q[0],y(q,"RangeError"),q);(function(b,
$super,g){function v(){}[v=u(b,$super,"IOError",v)].concat(g);return F})(q[0],y(q,"StandardError"),q);(function(b,$super,g){function v(){}[v=u(b,$super,"SystemCallError",v)].concat(g);return F})(q[0],y(q,"StandardError"),q);(function(t,v){function x(){}var q=[x=B(t,"Errno",x)].concat(v);(function(t,$super,a){function d(){}t=d=u(t,$super,"EINVAL",d);[t].concat(a);var w;return(b.defs(t,"$new",w=function(a){var z=F;w.$$p&&(w.$$p=null);null==a&&(a=F);z="Invalid argument";g(a)&&(a=" - "+a,z="number"===
typeof z&&"number"===typeof a?z+a:z["$+"](a));return r(this,b.find_super_dispatcher(this,"new",w,!1,d),[z],null)},w.$$arity=-1),F)&&"new"})(q[0],y(q,"SystemCallError"),q)})(q[0],q);(function(t,$super,v){function y(){}t=y=u(t,$super,"UncaughtThrowError",y);var L=t.prototype;[t].concat(v);var q;L.sym=F;t.$attr_reader("sym","arg");return(b.def(t,"$initialize",q=function(a){q.$$p&&(q.$$p=null);this.sym=a["$[]"](0);var d;d=a.$length();d="number"===typeof d?1<d:d["$>"](1);g(d)&&(this.arg=a["$[]"](1));return r(this,
b.find_super_dispatcher(this,"initialize",q,!1),["uncaught throw "+this.sym.$inspect()],null)},q.$$arity=1),F)&&"initialize"})(q[0],y(q,"ArgumentError"),q);(function(g,$super,v){function y(){}g=y=u(g,$super,"NameError",y);[g].concat(v);var L;g.$attr_reader("name");return(b.def(g,"$initialize",L=function(g,a){L.$$p&&(L.$$p=null);null==a&&(a=F);r(this,b.find_super_dispatcher(this,"initialize",L,!1),[g],null);return this.name=a},L.$$arity=-2),F)&&"initialize"})(q[0],null,q);(function(g,$super,v){function y(){}
g=y=u(g,$super,"NoMethodError",y);[g].concat(v);var L;g.$attr_reader("args");return(b.def(g,"$initialize",L=function(g,a,d){L.$$p&&(L.$$p=null);null==a&&(a=F);null==d&&(d=[]);r(this,b.find_super_dispatcher(this,"initialize",L,!1),[g,a],null);return this.args=d},L.$$arity=-2),F)&&"initialize"})(q[0],null,q);(function(b,$super,g){function v(){}b=v=u(b,$super,"StopIteration",v);[b].concat(g);return b.$attr_reader("result")})(q[0],null,q);(function(t,$super,x){function q(){}t=q=u(t,$super,"KeyError",
q);var L=t.prototype,B=[t].concat(x),a,d,w;L.receiver=L.key=F;b.def(t,"$initialize",a=function(d,w){var k,g;a.$$p&&(a.$$p=null);if(null==w)w=v([],{});else if(!w.$$is_hash)throw b.ArgumentError.$new("expected kwargs");k=w.$$smap.receiver;null==k&&(k=F);g=w.$$smap.key;null==g&&(g=F);r(this,b.find_super_dispatcher(this,"initialize",a,!1),[d],null);this.receiver=k;return this.key=g},a.$$arity=-2);b.def(t,"$receiver",d=function(){var a;return g(a=this.receiver)?a:this.$raise(y(B,"ArgumentError"),"no receiver is available")},
d.$$arity=0);return(b.def(t,"$key",w=function(){var a;return g(a=this.key)?a:this.$raise(y(B,"ArgumentError"),"no key is available")},w.$$arity=0),F)&&"key"})(q[0],null,q);return function(b,g){function v(){}var r=[v=B(b,"JS",v)].concat(g);(function(b,$super,a){function d(){}[d=u(b,$super,"Error",d)].concat(a);return F})(r[0],null,r)}(q[0],q)},Opal.modules["corelib/constants"]=function(b){var q=[],F=b.const_get_relative;b.const_set(q[0],"RUBY_PLATFORM","opal");b.const_set(q[0],"RUBY_ENGINE","opal");
b.const_set(q[0],"RUBY_VERSION","2.5.1");b.const_set(q[0],"RUBY_ENGINE_VERSION","0.11.99.dev");b.const_set(q[0],"RUBY_RELEASE_DATE","2018-12-25");b.const_set(q[0],"RUBY_PATCHLEVEL",0);b.const_set(q[0],"RUBY_REVISION",0);b.const_set(q[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors");return b.const_set(q[0],"RUBY_DESCRIPTION","opal "+F(q,"RUBY_ENGINE_VERSION")+" ("+F(q,"RUBY_RELEASE_DATE")+" revision "+F(q,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(b){var q=
b.top;b.add_stubs(["$require"]);q.$require("corelib/runtime");q.$require("corelib/helpers");q.$require("corelib/module");q.$require("corelib/class");q.$require("corelib/basic_object");q.$require("corelib/kernel");q.$require("corelib/error");return q.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(b){var q=[],F=b.nil,y=b.const_get_relative,u=b.klass,r=b.hash2,g=b.truthy;b.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(q,$super,t){function p(){}q=p=u(q,
$super,"NilClass",p);var x=q.prototype,J=[q].concat(t),L,P,a,d,w,A,z,k,m,c,f,l,O,T,n,e,h,E;x.$$meta=q;(function(a,c){var d=[a].concat(c),e;b.def(a,"$allocate",e=function(){return this.$raise(y(d,"TypeError"),"allocator undefined for "+this.$name())},e.$$arity=0);b.udef(a,"$new");return F})(b.get_singleton_class(q),J);b.def(q,"$!",L=function(){return!0},L.$$arity=0);b.def(q,"$&",P=function(a){return!1},P.$$arity=1);b.def(q,"$|",a=function(a){return!1!==a&&a!==F},a.$$arity=1);b.def(q,"$^",d=function(a){return!1!==
a&&a!==F},d.$$arity=1);b.def(q,"$==",w=function(a){return a===F},w.$$arity=1);b.def(q,"$dup",A=function(){return F},A.$$arity=0);b.def(q,"$clone",z=function(a){if(null==a)r([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return F},z.$$arity=-1);b.def(q,"$inspect",k=function(){return"nil"},k.$$arity=0);b.def(q,"$nil?",m=function(){return!0},m.$$arity=0);b.def(q,"$singleton_class",c=function(){return y(J,"NilClass")},c.$$arity=0);b.def(q,"$to_a",f=function(){return[]},f.$$arity=
0);b.def(q,"$to_h",l=function(){return b.hash()},l.$$arity=0);b.def(q,"$to_i",O=function(){return 0},O.$$arity=0);b.alias(q,"to_f","to_i");b.def(q,"$to_s",T=function(){return""},T.$$arity=0);b.def(q,"$to_c",n=function(){return y(J,"Complex").$new(0,0)},n.$$arity=0);b.def(q,"$rationalize",e=function(a){var c;c=b.slice.call(arguments,0,arguments.length).$length();c="number"===typeof c?1<c:c["$>"](1);g(c)&&this.$raise(y(J,"ArgumentError"));return this.$Rational(0,1)},e.$$arity=-1);b.def(q,"$to_r",h=
function(){return this.$Rational(0,1)},h.$$arity=0);return(b.def(q,"$instance_variables",E=function(){return[]},E.$$arity=0),F)&&"instance_variables"})(q[0],null,q);return b.const_set(q[0],"NIL",F)},Opal.modules["corelib/boolean"]=function(b){var q=[],F=b.nil,y=b.const_get_relative,u=b.klass,r=b.hash2;b.add_stubs(["$raise","$name"]);(function(g,$super,v){function t(){}g=t=u(g,$super,"Boolean",t);var p=[g].concat(v),x,q,L,P,a,d,w,A,z,k;b.defineProperty(Boolean.prototype,"$$is_boolean",!0);b.defineProperty(Boolean.prototype,
"$$meta",g);(function(a,c){var d=[a].concat(c),l;b.def(a,"$allocate",l=function(){return this.$raise(y(d,"TypeError"),"allocator undefined for "+this.$name())},l.$$arity=0);b.udef(a,"$new");return F})(b.get_singleton_class(g),p);b.def(g,"$__id__",x=function(){return this.valueOf()?2:0},x.$$arity=0);b.alias(g,"object_id","__id__");b.def(g,"$!",q=function(){return 1!=this},q.$$arity=0);b.def(g,"$&",L=function(a){return 1==this?!1!==a&&a!==F:!1},L.$$arity=1);b.def(g,"$|",P=function(a){return 1==this?
!0:!1!==a&&a!==F},P.$$arity=1);b.def(g,"$^",a=function(a){return 1==this?!1===a||a===F:!1!==a&&a!==F},a.$$arity=1);b.def(g,"$==",d=function(a){return 1==this===a.valueOf()},d.$$arity=1);b.alias(g,"equal?","==");b.alias(g,"eql?","==");b.def(g,"$singleton_class",w=function(){return y(p,"Boolean")},w.$$arity=0);b.def(g,"$to_s",A=function(){return 1==this?"true":"false"},A.$$arity=0);b.def(g,"$dup",z=function(){return this},z.$$arity=0);return(b.def(g,"$clone",k=function(a){if(null==a)r([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");
return this},k.$$arity=-1),F)&&"clone"})(q[0],Boolean,q);b.const_set(q[0],"TrueClass",y(q,"Boolean"));b.const_set(q[0],"FalseClass",y(q,"Boolean"));b.const_set(q[0],"TRUE",!0);return b.const_set(q[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(b){function q(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function F(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var y=[],u=b.nil,r=b.const_get_relative,g=b.module,B=b.truthy;b.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));
return function(v,t){function p(){}var x=p=g(v,"Comparable",p),y=[x].concat(t),L,P,a,d,w,A,z,k;b.defs(x,"$normalize",L=function(a){return B(r(y,"Integer")["$==="](a))?a:B(q(a,0))?1:B(F(a,0))?-1:0},L.$$arity=1);b.def(x,"$==",P=function(a){var c=u;try{return B(this["$equal?"](a))?!0:this["$<=>"]==b.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):B(c=this["$<=>"](a))?0==r(y,"Comparable").$normalize(c):!1}catch(d){if(b.rescue(d,[r(y,"StandardError")]))try{return!1}finally{b.pop_exception()}else throw d;
}},P.$$arity=1);b.def(x,"$>",a=function(a){var b=u;B(b=this["$<=>"](a))||this.$raise(r(y,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<r(y,"Comparable").$normalize(b)},a.$$arity=1);b.def(x,"$>=",d=function(a){var b=u;B(b=this["$<=>"](a))||this.$raise(r(y,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=r(y,"Comparable").$normalize(b)},d.$$arity=1);b.def(x,"$<",w=function(a){var b=u;B(b=this["$<=>"](a))||this.$raise(r(y,
"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>r(y,"Comparable").$normalize(b)},w.$$arity=1);b.def(x,"$<=",A=function(a){var b=u;B(b=this["$<=>"](a))||this.$raise(r(y,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=r(y,"Comparable").$normalize(b)},A.$$arity=1);b.def(x,"$between?",z=function(a,b){return F(this,a)||q(this,b)?!1:!0},z.$$arity=2);b.def(x,"$clamp",k=function(a,b){var d=u,d=a["$<=>"](b);B(d)||this.$raise(r(y,
"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed");B(q(r(y,"Comparable").$normalize(d),0))&&this.$raise(r(y,"ArgumentError"),"min argument must be smaller than max argument");return B(F(r(y,"Comparable").$normalize(this["$<=>"](a)),0))?a:B(q(r(y,"Comparable").$normalize(this["$<=>"](b)),0))?b:this},k.$$arity=2)}(y[0],y)},Opal.modules["corelib/regexp"]=function(b){var q=[],F=b.nil,y=b.const_get_relative,u=b.klass,r=b.send,g=b.truthy,B=b.gvars;b.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" "));
(function(b,$super,g){function x(){}[x=u(b,$super,"RegexpError",x)].concat(g);return F})(q[0],y(q,"StandardError"),q);(function(v,$super,p){function x(){}v=x=u(v,$super,"Regexp",x);var q=[v].concat(p),L,P,a,d,w,A,z,k,m,c;b.const_set(q[0],"IGNORECASE",1);b.const_set(q[0],"EXTENDED",2);b.const_set(q[0],"MULTILINE",4);b.defineProperty(RegExp.prototype,"$$is_regexp",!0);(function(a,c){var d=[a].concat(c),k,n,e,h,w;b.def(a,"$allocate",k=function(){var a=k.$$p,c=F,d=c=F,e=F;a&&(k.$$p=null);d=0;e=arguments.length;
for(c=Array(e);d<e;d++)c[d]=arguments[d];c=r(this,b.find_super_dispatcher(this,"allocate",k,!1),c,a);c.uninitialized=!0;return c},k.$$arity=0);b.def(a,"$escape",n=function(a){return b.escape_regexp(a)},n.$$arity=1);b.def(a,"$last_match",e=function(a){null==B["~"]&&(B["~"]=F);null==a&&(a=F);return g(a["$nil?"]())?B["~"]:B["~"]["$[]"](a)},e.$$arity=-1);b.alias(a,"quote","escape");b.def(a,"$union",h=function(a){var c;c=b.slice.call(arguments,0,arguments.length);var e,f,h,l;if(0==c.length)return/(?!)/;
if(1==c.length&&c[0].$$is_regexp)return c[0];e=c[0].$$is_array;1<c.length&&e&&this.$raise(y(d,"TypeError"),"no implicit conversion of Array into String");e&&(c=c[0]);h=void 0;e=[];for(var n=0;n<c.length;n++)f=c[n],f.$$is_string?e.push(this.$escape(f)):f.$$is_regexp?(l=f.$options(),void 0!=h&&h!=l&&this.$raise(y(d,"TypeError"),"All expressions must use the same options"),h=l,e.push("("+f.source+")")):e.push(this.$escape(f.$to_str()));return this.$new(e.$join("|"),h)},h.$$arity=-1);return(b.def(a,"$new",
w=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=y(d,"Opal")["$coerce_to!"](a,y(d,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(y(d,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);if(b.$$is_number){var c="";y(d,"IGNORECASE")&b&&(c+="i");y(d,"MULTILINE")&b&&(c+="m");b=c}else b="i";return new RegExp(a,b)},w.$$arity=-2),F)&&"new"})(b.get_singleton_class(v),q);b.def(v,"$==",L=function(a){return a instanceof
RegExp&&this.toString()===a.toString()},L.$$arity=1);b.def(v,"$===",P=function(a){return this.$match(y(q,"Opal")["$coerce_to?"](a,y(q,"String"),"to_str"))!==F},P.$$arity=1);b.def(v,"$=~",a=function(a){var b;null==B["~"]&&(B["~"]=F);return g(b=this.$match(a))?B["~"].$begin(0):b},a.$$arity=1);b.alias(v,"eql?","==");b.def(v,"$inspect",d=function(){var a=this.toString(),b=/^\/(.*)\/([^\/]*)$/.exec(a);if(b){for(var a=b[2],b=b[1].split(""),c=b.length,d=!1,n="",e=0;e<c;e++){var h=b[e];d||"/"!=h||(n=n.concat("\\"));
n=n.concat(h);d="\\"==h?d?!1:!0:!1}return"/"+n+"/"+a}return a},d.$$arity=0);b.def(v,"$match",w=function(a,c){var d=w.$$p,k=d||F;null==B["~"]&&(B["~"]=F);d&&(w.$$p=null);d&&(w.$$p=null);this.uninitialized&&this.$raise(y(q,"TypeError"),"uninitialized Regexp");if(void 0===c)return a===F?B["~"]=F:(d=this.exec(y(q,"Opal").$coerce_to(a,y(q,"String"),"to_str")))?(B["~"]=y(q,"MatchData").$new(this,d),k===F?B["~"]:b.yield1(k,B["~"])):B["~"]=F;c=y(q,"Opal").$coerce_to(c,y(q,"Integer"),"to_int");if(a===F)return B["~"]=
F;a=y(q,"Opal").$coerce_to(a,y(q,"String"),"to_str");if(0>c&&(c+=a.length,0>c))return B["~"]=F;for(var n=b.global_regexp(this);;){d=n.exec(a);if(null===d)return B["~"]=F;if(d.index>=c)return B["~"]=y(q,"MatchData").$new(n,d),k===F?B["~"]:b.yield1(k,B["~"]);n.lastIndex=d.index+1}},w.$$arity=-2);b.def(v,"$match?",A=function(a,c){this.uninitialized&&this.$raise(y(q,"TypeError"),"uninitialized Regexp");if(void 0===c)return a===F?!1:this.test(y(q,"Opal").$coerce_to(a,y(q,"String"),"to_str"));c=y(q,"Opal").$coerce_to(c,
y(q,"Integer"),"to_int");if(a===F)return!1;a=y(q,"Opal").$coerce_to(a,y(q,"String"),"to_str");if(0>c&&(c+=a.length,0>c))return!1;var d;d=b.global_regexp(this).exec(a);return null===d||d.index<c?!1:!0},A.$$arity=-2);b.def(v,"$~",z=function(){null==B._&&(B._=F);return this["$=~"](B._)},z.$$arity=0);b.def(v,"$source",k=function(){return this.source},k.$$arity=0);b.def(v,"$options",m=function(){this.uninitialized&&this.$raise(y(q,"TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=y(q,"MULTILINE"));
this.ignoreCase&&(a|=y(q,"IGNORECASE"));return a},m.$$arity=0);b.def(v,"$casefold?",c=function(){return this.ignoreCase},c.$$arity=0);return b.alias(v,"to_s","source")})(q[0],RegExp,q);return function(v,$super,p){function x(){}v=x=u(v,$super,"MatchData",x);var q=v.prototype,L=[v].concat(p),P,a,d,w,A,z,k,m,c,f,l,O;q.matches=F;v.$attr_reader("post_match","pre_match","regexp","string");b.def(v,"$initialize",P=function(a,b){B["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=
b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var c=0,d=b.length;c<d;c++){var f=b[c];null==f?this.matches.push(F):this.matches.push(f)}},P.$$arity=2);b.def(v,"$[]",a=function(a){var c;c=b.slice.call(arguments,0,arguments.length);return r(this.matches,"[]",b.to_a(c))},a.$$arity=-1);b.def(v,"$offset",d=function(a){0!==a&&this.$raise(y(L,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},
d.$$arity=1);b.def(v,"$==",w=function(a){var b,c,d,f;return g(y(L,"MatchData")["$==="](a))?g(b=g(c=g(d=g(f=this.string==a.string)?this.regexp.toString()==a.regexp.toString():f)?this.pre_match==a.pre_match:d)?this.post_match==a.post_match:c)?this.begin==a.begin:b:!1},w.$$arity=1);b.alias(v,"eql?","==");b.def(v,"$begin",A=function(a){0!==a&&this.$raise(y(L,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},A.$$arity=1);b.def(v,"$end",z=function(a){0!==a&&this.$raise(y(L,
"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},z.$$arity=1);b.def(v,"$captures",k=function(){return this.matches.slice(1)},k.$$arity=0);b.def(v,"$inspect",m=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,c=this.matches.length;b<c;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},m.$$arity=0);b.def(v,"$length",c=function(){return this.matches.length},c.$$arity=0);b.alias(v,"size","length");b.def(v,"$to_a",f=function(){return this.matches},
f.$$arity=0);b.def(v,"$to_s",l=function(){return this.matches[0]},l.$$arity=0);return(b.def(v,"$values_at",O=function(a){var c;c=b.slice.call(arguments,0,arguments.length);var d,f,l=[];for(d=0;d<c.length;d++){c[d].$$is_range&&(f=c[d].$to_a(),f.unshift(d,1),Array.prototype.splice.apply(c,f));f=y(L,"Opal")["$coerce_to!"](c[d],y(L,"Integer"),"to_int");if(0>f&&(f+=this.matches.length,0>f)){l.push(F);continue}l.push(this.matches[f])}return l},O.$$arity=-1),F)&&"values_at"}(q[0],null,q)},Opal.modules["corelib/string"]=
function(b){function q(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}function F(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var y=b.top,u=[],r=b.nil,g=b.const_get_relative,B=b.klass,v=b.truthy,t=b.send,p=b.gvars;b.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $match? $captures $proc $succ $escape".split(" "));
y.$require("corelib/comparable");y.$require("corelib/regexp");(function(x,$super,u){function y(){}function a(a){function b(a){var c="",e,f=a.length,h,n;for(e=0;e<f;e++)if(h=a.charAt(e),"-"===h&&0<e&&e<f-1&&!n){n=a.charCodeAt(e-1);h=a.charCodeAt(e+1);n>h&&d.$raise(g(w,"ArgumentError"),'invalid range "'+n+"-"+h+'" in string transliteration');for(n+=1;n<h+1;n++)c+=String.fromCharCode(n);n=!0;e++}else n="\\"===h,c+=h;return c}function c(a,b){if(0===a.length)return b;var d="",e,f=a.length,h;for(e=0;e<
f;e++)h=a.charAt(e),-1!==b.indexOf(h)&&(d+=h);return d}var e,f,h,l,n="",k="";e=0;for(f=a.length;e<f;e++)h=g(w,"Opal").$coerce_to(a[e],g(w,"String"),"to_str"),l="^"===h.charAt(0)&&1<h.length,h=b(l?h.slice(1):h),l?k=c(k,h):n=c(n,h);if(0<n.length&&0<k.length){h="";e=0;for(f=n.length;e<f;e++)a=n.charAt(e),-1===k.indexOf(a)&&(h+=a);n=h;k=""}return 0<n.length?"["+g(w,"Regexp").$escape(n)+"]":0<k.length?"[^"+g(w,"Regexp").$escape(k)+"]":null}var d=y=B(x,$super,"String",y),w=[d].concat(u),A,z,k,m,c,f,l,O,
T,n,e,h,E,ya,pa,ia,G,aa,fa,ta,ma,ja,C,D,X,ha,va,V,ka,N,W,R,ba,S,qa,Ca,U,la,ga,ca,Da,ea,Fa,da,na,ra,K,sa,Ga,ua,oa,Ja,Ra,Q,Ha,xa,Aa,Ea,wa,za,Ia,Oa,Ma,Pa,Na,Sa,Ta,Ua,H,Y,Ka,Z,Va,M,Qa,Ba;d.$include(g(w,"Comparable"));b.defineProperty(String.prototype,"$$is_string",!0);b.defineProperty(String.prototype,"$$cast",function(a){var b=this.$$class;return b===String?a:new b(a)});b.def(d,"$__id__",A=function(){return this.toString()},A.$$arity=0);b.alias(d,"object_id","__id__");b.defs(d,"$try_convert",z=function(a){return g(w,
"Opal")["$coerce_to?"](a,g(w,"String"),"to_str")},z.$$arity=1);b.defs(d,"$new",k=function(a){null==a&&(a="");a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str");return new this(a)},k.$$arity=-1);b.def(d,"$initialize",m=function(a){return void 0===a?this:this.$raise(g(w,"NotImplementedError"),"Mutable strings are not supported in Opal.")},m.$$arity=-1);b.def(d,"$%",c=function(a){return v(g(w,"Array")["$==="](a))?t(this,"format",[this].concat(b.to_a(a))):this.$format(this,a)},c.$$arity=1);b.def(d,"$*",
f=function(a){a=g(w,"Opal").$coerce_to(a,g(w,"Integer"),"to_int");0>a&&this.$raise(g(w,"ArgumentError"),"negative argument");if(0===a)return this.$$cast("");var b="",c=this.toString();for(268435456<=c.length*a&&this.$raise(g(w,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=c);a>>>=1;if(0===a)break;c+=c}return this.$$cast(b)},f.$$arity=1);b.def(d,"$+",l=function(a){a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str");return this+a.$to_s()},l.$$arity=1);b.def(d,
"$<=>",O=function(a){if(v(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===r?r:0<a?-1:0>a?1:0},O.$$arity=1);b.def(d,"$==",T=function(a){return a.$$is_string?this.toString()===a.toString():g(w,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},T.$$arity=1);b.alias(d,"eql?","==");b.alias(d,"===","==");b.def(d,"$=~",n=function(a){a.$$is_string&&this.$raise(g(w,"TypeError"),"type mismatch: String given");return a["$=~"](this)},n.$$arity=1);
b.def(d,"$[]",e=function(a,b){var c=this.length,d;if(a.$$is_range){d=a.excl;b=g(w,"Opal").$coerce_to(a.end,g(w,"Integer"),"to_int");a=g(w,"Opal").$coerce_to(a.begin,g(w,"Integer"),"to_int");if(Math.abs(a)>c)return r;0>a&&(a+=c);0>b&&(b+=c);d||(b+=1);b-=a;0>b&&(b=0);return this.$$cast(this.substr(a,b))}if(a.$$is_string)return null!=b&&this.$raise(g(w,"TypeError")),-1!==this.indexOf(a)?this.$$cast(a):r;if(a.$$is_regexp){c=this.match(a);if(null===c)return p["~"]=r;p["~"]=g(w,"MatchData").$new(a,c);if(null==
b)return this.$$cast(c[0]);b=g(w,"Opal").$coerce_to(b,g(w,"Integer"),"to_int");return 0>b&&-b<c.length?this.$$cast(c[b+c.length]):0<=b&&b<c.length?this.$$cast(c[b]):r}a=g(w,"Opal").$coerce_to(a,g(w,"Integer"),"to_int");0>a&&(a+=c);if(null==b)return a>=c||0>a?r:this.$$cast(this.substr(a,1));b=g(w,"Opal").$coerce_to(b,g(w,"Integer"),"to_int");return 0>b||a>c||0>a?r:this.$$cast(this.substr(a,b))},e.$$arity=-2);b.alias(d,"byteslice","[]");b.def(d,"$b",h=function(){return this.$force_encoding("binary")},
h.$$arity=0);b.def(d,"$capitalize",E=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},E.$$arity=0);b.def(d,"$casecmp",ya=function(a){var b=this;if(!v(a["$respond_to?"]("to_str")))return r;a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str").$to_s();var c=/^[\x00-\x7F]*$/;c.test(b)&&c.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)},ya.$$arity=1);b.def(d,"$casecmp?",pa=function(a){a=this.$casecmp(a);return a===r?r:0===a},pa.$$arity=1);b.def(d,
"$center",ia=function(a,b){null==b&&(b=" ");a=g(w,"Opal").$coerce_to(a,g(w,"Integer"),"to_int");b=g(w,"Opal").$coerce_to(b,g(w,"String"),"to_str").$to_s();v(b["$empty?"]())&&this.$raise(g(w,"ArgumentError"),"zero width padding");if(v(a<=this.length))return this;var c=this.$ljust(q(F(a,this.length),2).$ceil(),b),d=this.$rjust(q(F(a,this.length),2).$floor(),b);return this.$$cast(d+c.slice(this.length))},ia.$$arity=-2);b.def(d,"$chars",G=function(){var a=G.$$p,b=a||r;a&&(G.$$p=null);a&&(G.$$p=null);
return v(b)?t(this,"each_char",[],b.$to_proc()):this.$each_char().$to_a()},G.$$arity=0);b.def(d,"$chomp",aa=function(a){null==p["/"]&&(p["/"]=r);null==a&&(a=p["/"]);if(v(a===r||0===this.length))return this;a=g(w,"Opal")["$coerce_to!"](a,g(w,"String"),"to_str").$to_s();var b;"\n"===a?b=this.replace(/\r?\n?$/,""):""===a?b=this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a&&(b=this.substr(0,this.length-a.length));return null!=b?this.$$cast(b):this},aa.$$arity=
-1);b.def(d,"$chop",fa=function(){var a=this.length,a=1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1);return this.$$cast(a)},fa.$$arity=0);b.def(d,"$chr",ta=function(){return this.charAt(0)},ta.$$arity=0);b.def(d,"$clone",ma=function(){var a=r,a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},ma.$$arity=0);b.def(d,"$dup",ja=function(){var a=r,a=this.slice();a.$initialize_dup(this);return a},ja.$$arity=0);b.def(d,"$count",
C=function(c){var d;d=b.slice.call(arguments,0,arguments.length);0===d.length&&this.$raise(g(w,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=a(d);return null===d?0:this.length-this.replace(new RegExp(d,"g"),"").length},C.$$arity=-1);b.def(d,"$delete",D=function(c){var d;d=b.slice.call(arguments,0,arguments.length);0===d.length&&this.$raise(g(w,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=a(d);return null===d?this:this.$$cast(this.replace(new RegExp(d,
"g"),""))},D.$$arity=-1);b.def(d,"$delete_prefix",X=function(a){a.$$is_string||(a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str"));return this.slice(0,a.length)===a?this.$$cast(this.slice(a.length)):this},X.$$arity=1);b.def(d,"$delete_suffix",ha=function(a){a.$$is_string||(a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str"));return this.slice(this.length-a.length)===a?this.$$cast(this.slice(0,this.length-a.length)):this},ha.$$arity=1);b.def(d,"$downcase",va=function(){return this.$$cast(this.toLowerCase())},
va.$$arity=0);b.def(d,"$each_char",V=function(){var a=V.$$p,c=a||r,d;a&&(V.$$p=null);a&&(V.$$p=null);if(c===r)return t(this,"enum_for",["each_char"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=0,e=this.length;a<e;a++)b.yield1(c,this.charAt(a));return this},V.$$arity=0);b.def(d,"$each_line",ka=function(a){var c=ka.$$p,d=c||r;null==p["/"]&&(p["/"]=r);c&&(ka.$$p=null);c&&(ka.$$p=null);null==a&&(a=p["/"]);if(d===r)return this.$enum_for("each_line",a);if(a===r)return b.yield1(d,
this),this;a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str");var e,f,h;if(0===a.length){a=this.split(/(\n{2,})/);c=0;for(e=a.length;c<e;c+=2)(a[c]||a[c+1])&&b.yield1(d,this.$$cast((a[c]||"")+(a[c+1]||"")));return this}c=this.$chomp(a);e=this.length!=c.length;h=c.split(a);c=0;for(f=h.length;c<f;c++)c<f-1||e?b.yield1(d,this.$$cast(h[c]+a)):b.yield1(d,this.$$cast(h[c]));return this},ka.$$arity=-1);b.def(d,"$empty?",N=function(){return 0===this.length},N.$$arity=0);b.def(d,"$end_with?",W=function(a){var c;
c=b.slice.call(arguments,0,arguments.length);for(var d=0,e=c.length;d<e;d++){var f=g(w,"Opal").$coerce_to(c[d],g(w,"String"),"to_str").$to_s();if(this.length>=f.length&&this.substr(this.length-f.length,f.length)==f)return!0}return!1},W.$$arity=-1);b.alias(d,"equal?","===");b.def(d,"$gsub",R=function(a,c){var d=R.$$p,e=d||r,f=this;d&&(R.$$p=null);d&&(R.$$p=null);if(void 0===c&&e===r)return f.$enum_for("gsub",a);var d="",h=r,n=0,l,k;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=g(w,"Opal").$coerce_to(a,
g(w,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var H;;){l=a.exec(f);if(null===l){p["~"]=r;d+=f.slice(n);break}h=g(w,"MatchData").$new(a,l);void 0===c?(H=a.lastIndex,k=e(l[0]),a.lastIndex=H):c.$$is_hash?k=c["$[]"](l[0]).$to_s():(c.$$is_string||(c=g(w,"Opal").$coerce_to(c,g(w,"String"),"to_str")),k=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=l.length-1;0<a;a--)if(void 0!==l[a])return b.slice(1)+l[a];return"";
case "&":return b.slice(1)+l[0];case "`":return b.slice(1)+f.slice(0,l.index);case "'":return b.slice(1)+f.slice(l.index+l[0].length);default:return b.slice(1)+(l[c]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===l.index?(d+=k+f.slice(n,l.index+1),a.lastIndex+=1):d+=f.slice(n,l.index)+k;n=a.lastIndex}p["~"]=h;return f.$$cast(d)},R.$$arity=-2);b.def(d,"$hash",ba=function(){return this.toString()},ba.$$arity=0);b.def(d,"$hex",S=function(){return this.$to_i(16)},S.$$arity=0);b.def(d,"$include?",qa=function(a){a.$$is_string||
(a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str"));return-1!==this.indexOf(a)},qa.$$arity=1);b.def(d,"$index",Ca=function(a,c){var d,e;if(void 0===c)c=0;else if(c=g(w,"Opal").$coerce_to(c,g(w,"Integer"),"to_int"),0>c&&(c+=this.length,0>c))return r;if(a.$$is_regexp)for(e=b.global_multiline_regexp(a);;){d=e.exec(this);if(null===d){p["~"]=r;d=-1;break}if(d.index>=c){p["~"]=g(w,"MatchData").$new(e,d);d=d.index;break}e.lastIndex=d.index+1}else a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str"),d=0===
a.length&&c>this.length?-1:this.indexOf(a,c);return-1===d?r:d},Ca.$$arity=-2);b.def(d,"$inspect",U=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+
'"'},U.$$arity=0);b.def(d,"$intern",la=function(){return this.toString()},la.$$arity=0);b.def(d,"$lines",ga=function(a){var b=ga.$$p,c=b||r,d=r;null==p["/"]&&(p["/"]=r);b&&(ga.$$p=null);b&&(ga.$$p=null);null==a&&(a=p["/"]);d=t(this,"each_line",[a],c.$to_proc());return v(c)?this:d.$to_a()},ga.$$arity=-1);b.def(d,"$length",ca=function(){return this.length},ca.$$arity=0);b.def(d,"$ljust",Da=function(a,b){null==b&&(b=" ");a=g(w,"Opal").$coerce_to(a,g(w,"Integer"),"to_int");b=g(w,"Opal").$coerce_to(b,
g(w,"String"),"to_str").$to_s();v(b["$empty?"]())&&this.$raise(g(w,"ArgumentError"),"zero width padding");if(v(a<=this.length))return this;var c=-1,d="";for(a-=this.length;++c<a;)d+=b;return this.$$cast(this+d.slice(0,a))},Da.$$arity=-2);b.def(d,"$lstrip",ea=function(){return this.replace(/^\s*/,"")},ea.$$arity=0);b.def(d,"$ascii_only?",Fa=function(){return this.match(/[ -~\n]*/)[0]===this},Fa.$$arity=0);b.def(d,"$match",da=function(a,b){var c=da.$$p,d=c||r,e;c&&(da.$$p=null);c&&(da.$$p=null);v(v(e=
g(w,"String")["$==="](a))?e:a["$respond_to?"]("to_str"))&&(a=g(w,"Regexp").$new(a.$to_str()));v(g(w,"Regexp")["$==="](a))||this.$raise(g(w,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return t(a,"match",[this,b],d.$to_proc())},da.$$arity=-2);b.def(d,"$match?",na=function(a,b){var c;v(v(c=g(w,"String")["$==="](a))?c:a["$respond_to?"]("to_str"))&&(a=g(w,"Regexp").$new(a.$to_str()));v(g(w,"Regexp")["$==="](a))||this.$raise(g(w,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");
return a["$match?"](this,b)},na.$$arity=-2);b.def(d,"$next",ra=function(){var a=this.length;if(0===a)return this.$$cast("");for(var b=this,c=this.search(/[a-zA-Z0-9]/),d=!1,e;a--;){e=this.charCodeAt(a);if(48<=e&&57>=e||65<=e&&90>=e||97<=e&&122>=e)switch(e){case 57:d=!0;e=48;break;case 90:d=!0;e=65;break;case 122:d=!0;e=97;break;default:d=!1,e+=1}else-1===c?255===e?(d=!0,e=0):(d=!1,e+=1):d=!0;b=b.slice(0,a)+String.fromCharCode(e)+b.slice(a+1);if(d&&(0===a||a===c)){switch(e){case 65:break;case 97:break;
default:e+=1}b=0===a?String.fromCharCode(e)+b:b.slice(0,a)+String.fromCharCode(e)+b.slice(a);d=!1}if(!d)break}return this.$$cast(b)},ra.$$arity=0);b.def(d,"$oct",K=function(){var a;a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,c,d,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===e.charAt(1)&&"0x"===d)return a}switch(d){case "0b":b=2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return c+e});a=parseInt(a.replace(/_(?!_)/g,
""),b);return isNaN(a)?0:a},K.$$arity=0);b.def(d,"$ord",sa=function(){return this.charCodeAt(0)},sa.$$arity=0);b.def(d,"$partition",Ga=function(a){var b;a.$$is_regexp?(b=a.exec(this),null===b?b=-1:(g(w,"MatchData").$new(a,b),a=b[0],b=b.index)):(a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str"),b=this.indexOf(a));return-1===b?[this,"",""]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]},Ga.$$arity=1);b.def(d,"$reverse",ua=function(){return this.split("").reverse().join("")},ua.$$arity=
0);b.def(d,"$rindex",oa=function(a,c){var d,e,f;if(void 0===c)c=this.length;else if(c=g(w,"Opal").$coerce_to(c,g(w,"Integer"),"to_int"),0>c&&(c+=this.length,0>c))return r;if(a.$$is_regexp){d=null;for(e=b.global_multiline_regexp(a);;){f=e.exec(this);if(null===f||f.index>c)break;d=f;e.lastIndex=d.index+1}null===d?(p["~"]=r,d=-1):(g(w,"MatchData").$new(e,d),d=d.index)}else a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str"),d=this.lastIndexOf(a,c);return-1===d?r:d},oa.$$arity=-2);b.def(d,"$rjust",Ja=
function(a,b){null==b&&(b=" ");a=g(w,"Opal").$coerce_to(a,g(w,"Integer"),"to_int");b=g(w,"Opal").$coerce_to(b,g(w,"String"),"to_str").$to_s();v(b["$empty?"]())&&this.$raise(g(w,"ArgumentError"),"zero width padding");if(v(a<=this.length))return this;var c=Math.floor(a-this.length),d=Array(Math.floor(c/b.length)+1).join(b);return this.$$cast(d+b.slice(0,c-d.length)+this)},Ja.$$arity=-2);b.def(d,"$rpartition",Ra=function(a){var c,d,e;if(a.$$is_regexp){c=null;for(d=b.global_multiline_regexp(a);;){e=d.exec(this);
if(null===e)break;c=e;d.lastIndex=c.index+1}null===c?c=-1:(g(w,"MatchData").$new(d,c),a=c[0],c=c.index)}else a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str"),c=this.lastIndexOf(a);return-1===c?["","",this]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]},Ra.$$arity=1);b.def(d,"$rstrip",Q=function(){return this.replace(/[\s\u0000]*$/,"")},Q.$$arity=0);b.def(d,"$scan",Ha=function(a){var c=Ha.$$p,d=c||r;c&&(Ha.$$p=null);c&&(Ha.$$p=null);var c=[],e=r,f;a.$$is_regexp?a=b.global_multiline_regexp(a):
(a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(f=a.exec(this));)e=g(w,"MatchData").$new(a,f),d===r?1==f.length?c.push(f[0]):c.push(e.$captures()):1==f.length?d(f[0]):d.call(this,e.$captures()),a.lastIndex===f.index&&(a.lastIndex+=1);p["~"]=e;return d!==r?this:c},Ha.$$arity=1);b.alias(d,"size","length");b.alias(d,"slice","[]");b.def(d,"$split",xa=function(a,c){function d(){for(k=0;k<h.length;k++)h[k]=f.$$cast(h[k])}var e,
f=this;null==p[";"]&&(p[";"]=r);if(0===f.length)return[];if(void 0===c)c=0;else if(c=g(w,"Opal")["$coerce_to!"](c,g(w,"Integer"),"to_int"),1===c)return[f];if(void 0===a||a===r)a=v(e=p[";"])?e:" ";var h=[];e=f.toString();var n=0,l,k;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str").$to_s()," "===a?(a=/\s+/gm,e=e.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));h=e.split(a);if(1===h.length&&h[0]===e)return[f.$$cast(h[0])];
for(;-1!==(k=h.indexOf(void 0));)h.splice(k,1);if(0===c){for(;""===h[h.length-1];)--h.length;d();return h}l=a.exec(e);if(0>c){if(null!==l&&""===l[0]&&-1===a.source.indexOf("(?="))for(k=0,e=l.length;k<e;k++)h.push("");d();return h}if(null!==l&&""===l[0])return h.splice(c-1,h.length-1,h.slice(c-1).join("")),d(),h;if(c>=h.length)return d(),h;for(k=0;null!==l;){k++;n=a.lastIndex;if(k+1===c)break;l=a.exec(e)}h.splice(c-1,h.length-1,e.slice(n));d();return h},xa.$$arity=-1);b.def(d,"$squeeze",Aa=function(c){var d;
d=b.slice.call(arguments,0,arguments.length);if(0===d.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));d=a(d);return null===d?this:this.$$cast(this.replace(new RegExp("("+d+")\\1+","g"),"$1"))},Aa.$$arity=-1);b.def(d,"$start_with?",Ea=function(a){var c;c=b.slice.call(arguments,0,arguments.length);for(var d=0,e=c.length;d<e;d++){var f=g(w,"Opal").$coerce_to(c[d],g(w,"String"),"to_str").$to_s();if(0===this.indexOf(f))return!0}return!1},Ea.$$arity=-1);b.def(d,"$strip",wa=function(){return this.replace(/^\s*/,
"").replace(/[\s\u0000]*$/,"")},wa.$$arity=0);b.def(d,"$sub",za=function(a,b){var c=za.$$p,d=c||r,e=this;c&&(za.$$p=null);c&&(za.$$p=null);a.$$is_regexp||(a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var f=a.exec(e);null===f?(p["~"]=r,c=e.toString()):(g(w,"MatchData").$new(a,f),void 0===b?(d===r&&e.$raise(g(w,"ArgumentError"),"wrong number of arguments (1 for 2)"),c=e.slice(0,f.index)+d(f[0])+e.slice(f.index+f[0].length)):b.$$is_hash?c=
e.slice(0,f.index)+b["$[]"](f[0]).$to_s()+e.slice(f.index+f[0].length):(b=g(w,"Opal").$coerce_to(b,g(w,"String"),"to_str"),b=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=f.length-1;0<a;a--)if(void 0!==f[a])return b.slice(1)+f[a];return"";case "&":return b.slice(1)+f[0];case "`":return b.slice(1)+e.slice(0,f.index);case "'":return b.slice(1)+e.slice(f.index+f[0].length);default:return b.slice(1)+(f[c]||"")}}).replace(/\\\\/g,"\\"),c=e.slice(0,
f.index)+b+e.slice(f.index+f[0].length)));return e.$$cast(c)},za.$$arity=-2);b.alias(d,"succ","next");b.def(d,"$sum",Ia=function(a){null==a&&(a=16);a=g(w,"Opal").$coerce_to(a,g(w,"Integer"),"to_int");for(var b=0,c=this.length,d=0;d<c;d++)b+=this.charCodeAt(d);return 0>=a?b:b&Math.pow(2,a)-1},Ia.$$arity=-1);b.def(d,"$swapcase",Oa=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},Oa.$$arity=
0);b.def(d,"$to_f",Ma=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},Ma.$$arity=0);b.def(d,"$to_i",Pa=function(a){null==a&&(a=10);var b=this.toLowerCase(),c=g(w,"Opal").$coerce_to(a,g(w,"Integer"),"to_int");(1===c||0>c||36<c)&&this.$raise(g(w,"ArgumentError"),"invalid radix "+c);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,d,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===
e.charAt(1)&&"0x"===d&&(0===c||16===c))return a}switch(d){case "0b":if(0===c||2===c)return c=2,b+e;break;case "0":case "0o":if(0===c||8===c)return c=8,b+e;break;case "0d":if(0===c||10===c)return c=10,b+e;break;case "0x":if(0===c||16===c)return c=16,b+e}return a});a=parseInt(b.replace(/_(?!_)/g,""),c);return isNaN(a)?0:a},Pa.$$arity=-1);b.def(d,"$to_proc",Na=function(){var a,c=r;Na.$$p&&(Na.$$p=null);c=this.valueOf();return t(this,"proc",[],(a=function(d){var e=a.$$s||this,f=a.$$p,h=f||r;f&&(a.$$p=
null);f=b.slice.call(arguments,0,arguments.length);0===f.length&&e.$raise(g(w,"ArgumentError"),"no receiver given");e=f.shift();null==e&&(e=r);return b.send(e,c,f,h)},a.$$s=this,a.$$arity=-1,a))},Na.$$arity=0);b.def(d,"$to_s",Sa=function(){return this.toString()},Sa.$$arity=0);b.alias(d,"to_str","to_s");b.alias(d,"to_sym","intern");b.def(d,"$tr",Ta=function(a,b){a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str").$to_s();b=g(w,"Opal").$coerce_to(b,g(w,"String"),"to_str").$to_s();if(0==a.length||a===
b)return this;var c,d,e,f,h,l={};h=a.split("");var n=h.length,k=b.split(""),H=k.length,E=!1,m=null;"^"===h[0]&&1<h.length&&(E=!0,h.shift(),m=k[H-1],--n);var Ba=[];e=null;d=!1;for(c=0;c<n;c++)if(f=h[c],null==e)e=f,Ba.push(f);else if("-"===f)"-"===e?(Ba.push("-"),Ba.push("-")):c==n-1?Ba.push("-"):d=!0;else if(d){e=e.charCodeAt(0);d=f.charCodeAt(0);e>d&&this.$raise(g(w,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(d)+'" in string transliteration');for(e+=1;e<d;e++)Ba.push(String.fromCharCode(e));
Ba.push(f);e=d=null}else Ba.push(f);h=Ba;n=h.length;if(E)for(c=0;c<n;c++)l[h[c]]=!0;else{if(0<H){Ba=[];e=null;d=!1;for(c=0;c<H;c++)if(f=k[c],null==e)e=f,Ba.push(f);else if("-"===f)"-"===e?(Ba.push("-"),Ba.push("-")):c==H-1?Ba.push("-"):d=!0;else if(d){e=e.charCodeAt(0);d=f.charCodeAt(0);e>d&&this.$raise(g(w,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(d)+'" in string transliteration');for(e+=1;e<d;e++)Ba.push(String.fromCharCode(e));Ba.push(f);e=d=null}else Ba.push(f);
k=Ba;H=k.length}f=n-H;if(0<f)for(H=0<H?k[H-1]:"",c=0;c<f;c++)k.push(H);for(c=0;c<n;c++)l[h[c]]=k[c]}n="";c=0;for(h=this.length;c<h;c++)f=this.charAt(c),k=l[f],n=E?n+(null==k?m:f):n+(null!=k?k:f);return this.$$cast(n)},Ta.$$arity=2);b.def(d,"$tr_s",Ua=function(a,b){a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str").$to_s();b=g(w,"Opal").$coerce_to(b,g(w,"String"),"to_str").$to_s();if(0==a.length)return this;var c,d,e,f,h,n={};h=a.split("");var l=h.length,k=b.split(""),H=k.length,E=!1,Ba=null;"^"===
h[0]&&1<h.length&&(E=!0,h.shift(),Ba=k[H-1],--l);var m=[];e=null;d=!1;for(c=0;c<l;c++)if(f=h[c],null==e)e=f,m.push(f);else if("-"===f)"-"===e?(m.push("-"),m.push("-")):c==l-1?m.push("-"):d=!0;else if(d){e=e.charCodeAt(0);d=f.charCodeAt(0);e>d&&this.$raise(g(w,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(d)+'" in string transliteration');for(e+=1;e<d;e++)m.push(String.fromCharCode(e));m.push(f);e=d=null}else m.push(f);h=m;l=h.length;if(E)for(c=0;c<l;c++)n[h[c]]=
!0;else{if(0<H){m=[];d=!1;for(c=0;c<H;c++)if(f=k[c],null==e)e=f,m.push(f);else if("-"===f)c==H-1?m.push("-"):d=!0;else if(d){e=e.charCodeAt(0);d=f.charCodeAt(0);e>d&&this.$raise(g(w,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(d)+'" in string transliteration');for(e+=1;e<d;e++)m.push(String.fromCharCode(e));m.push(f);e=d=null}else m.push(f);k=m;H=k.length}f=l-H;if(0<f)for(H=0<H?k[H-1]:"",c=0;c<f;c++)k.push(H);for(c=0;c<l;c++)n[h[c]]=k[c]}l="";k=null;c=0;for(h=
this.length;c<h;c++)if(f=this.charAt(c),H=n[f],E)null==H?null==k&&(l+=Ba,k=!0):(l+=f,k=null);else if(null!=H){if(null==k||k!==H)l+=H,k=H}else l+=f,k=null;return this.$$cast(l)},Ua.$$arity=2);b.def(d,"$upcase",H=function(){return this.$$cast(this.toUpperCase())},H.$$arity=0);b.def(d,"$upto",Y=function(a,b){var c=Y.$$p,d=c||r;c&&(Y.$$p=null);c&&(Y.$$p=null);null==b&&(b=!1);if(d===r)return this.$enum_for("upto",a,b);a=g(w,"Opal").$coerce_to(a,g(w,"String"),"to_str");var e,c=this.toString();if(1===c.length&&
1===a.length)for(c=c.charCodeAt(0),e=a.charCodeAt(0);c<=e&&(!b||c!==e);)d(String.fromCharCode(c)),c+=1;else if(parseInt(c,10).toString()===c&&parseInt(a,10).toString()===a)for(c=parseInt(c,10),e=parseInt(a,10);c<=e&&(!b||c!==e);)d(c.toString()),c+=1;else for(;c.length<=a.length&&c<=a&&(!b||c!==a);)d(c),c=c.$succ();return this},Y.$$arity=-2);b.def(d,"$instance_variables",Ka=function(){return[]},Ka.$$arity=0);b.defs(d,"$_load",Z=function(a){var c;c=b.slice.call(arguments,0,arguments.length);return t(this,
"new",b.to_a(c))},Z.$$arity=-1);b.def(d,"$unicode_normalize",Va=function(a){return this.toString()},Va.$$arity=-1);b.def(d,"$unicode_normalized?",M=function(a){return!0},M.$$arity=-1);b.def(d,"$unpack",Qa=function(a){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Qa.$$arity=1);return(b.def(d,"$unpack1",Ba=function(a){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Ba.$$arity=1),r)&&"unpack1"})(u[0],String,
u);return b.const_set(u[0],"Symbol",g(u,"String"))},Opal.modules["corelib/enumerable"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function F(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function y(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function u(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var r=[],g=b.nil,B=b.const_get_qualified,v=b.const_get_relative,t=b.module,p=b.truthy,x=
b.send,J=b.falsy,L=b.hash2,P=b.lambda;b.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $sort! $map! $key? $values $zip".split(" "));return function(a,d){function w(){}function A(a){0===a.length&&(a=[g]);
1<a.length&&(a=[a]);return a}var z=w=t(a,"Enumerable",w),k=[z].concat(d),m,c,f,l,O,T,n,e,h,E,ya,r,ia,G,aa,fa,ta,ma,ja,C,D,X,ha,va,V,ka,N,W,R,ba,S,qa,Ca,U,la,ga,ca,Da,ea,Fa,da,na,ra,K,sa,Ga,ua,oa;b.def(z,"$all?",m=function(a){try{var c=m.$$p,d=c||g,e,f,h;c&&(m.$$p=null);c&&(m.$$p=null);p(void 0!==a)?x(this,"each",[],(e=function(c){var d;d=g;d=b.slice.call(arguments,0,arguments.length);d=A(d);if(p(x(a,"public_send",["==="].concat(b.to_a(d)))))return g;b.ret(!1)},e.$$s=this,e.$$arity=-1,e)):d!==g?x(this,
"each",[],(f=function(a){var c;c=b.slice.call(arguments,0,arguments.length);if(p(b.yieldX(d,b.to_a(c))))return g;b.ret(!1)},f.$$s=this,f.$$arity=-1,f)):x(this,"each",[],(h=function(a){var c;c=b.slice.call(arguments,0,arguments.length);if(p(v(k,"Opal").$destructure(c)))return g;b.ret(!1)},h.$$s=this,h.$$arity=-1,h));return!0}catch(l){if(l===b.returner)return l.$v;throw l;}},m.$$arity=-1);b.def(z,"$any?",c=function(a){try{var d=c.$$p,e=d||g,f,h,l;d&&(c.$$p=null);d&&(c.$$p=null);p(void 0!==a)?x(this,
"each",[],(f=function(c){var d;d=g;d=b.slice.call(arguments,0,arguments.length);d=A(d);if(p(x(a,"public_send",["==="].concat(b.to_a(d)))))b.ret(!0);else return g},f.$$s=this,f.$$arity=-1,f)):e!==g?x(this,"each",[],(h=function(a){var c;c=b.slice.call(arguments,0,arguments.length);if(p(b.yieldX(e,b.to_a(c))))b.ret(!0);else return g},h.$$s=this,h.$$arity=-1,h)):x(this,"each",[],(l=function(a){var c;c=b.slice.call(arguments,0,arguments.length);if(p(v(k,"Opal").$destructure(c)))b.ret(!0);else return g},
l.$$s=this,l.$$arity=-1,l));return!1}catch(n){if(n===b.returner)return n.$v;throw n;}},c.$$arity=-1);b.def(z,"$chunk",f=function(){var a=f.$$p,c=a||g,d,e;a&&(f.$$p=null);a&&(f.$$p=null);return c===g?x(this,"to_enum",["chunk"],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d)):x(B("::","Enumerator"),"new",[],(e=function(a){function d(){0<l.length&&a.$yield(h,l)}var f=e.$$s||this;null==a&&(a=g);var h=g,l=[];f.$each.$$p=function(a){var e=b.yield1(c,a);e===g?(d(),l=[],h=
g):(h===g||h===e?l.push(a):(d(),l=[a]),h=e)};f.$each();d()},e.$$s=this,e.$$arity=1,e))},f.$$arity=0);b.def(z,"$chunk_while",l=function(){var a=l.$$p,c=a||g,d;a&&(l.$$p=null);a&&(l.$$p=null);c===g&&this.$raise(v(k,"ArgumentError"),"no block given");return x(this,"slice_when",[],(d=function(a,d){null==a&&(a=g);null==d&&(d=g);return b.yieldX(c,[a,d])["$!"]()},d.$$s=this,d.$$arity=2,d))},l.$$arity=0);b.def(z,"$collect",O=function(){var a=O.$$p,c=a||g,d;a&&(O.$$p=null);a&&(O.$$p=null);if(c===g)return x(this,
"enum_for",["collect"],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));var e=[];this.$each.$$p=function(){var a=b.yieldX(c,arguments);e.push(a)};this.$each();return e},O.$$arity=0);b.def(z,"$collect_concat",T=function(){var a=T.$$p,c=a||g,d,e;a&&(T.$$p=null);a&&(T.$$p=null);return c===g?x(this,"enum_for",["collect_concat"],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d)):x(this,"map",[],(e=function(a){null==a&&(a=g);return b.yield1(c,
a)},e.$$s=this,e.$$arity=1,e)).$flatten(1)},T.$$arity=0);b.def(z,"$count",n=function(a){var c=n.$$p,d=c||g,e,f,h,l=g;c&&(n.$$p=null);c&&(n.$$p=null);l=0;null!=a&&d!==g&&this.$warn("warning: given block not used");p(null!=a)?d=x(this,"proc",[],(e=function(c){var d;d=b.slice.call(arguments,0,arguments.length);return v(k,"Opal").$destructure(d)["$=="](a)},e.$$s=this,e.$$arity=-1,e)):p(d["$nil?"]())&&(d=x(this,"proc",[],(f=function(){return!0},f.$$s=this,f.$$arity=0,f)));x(this,"each",[],(h=function(a){var c;
c=b.slice.call(arguments,0,arguments.length);return p(b.yieldX(d,c))?l++:g},h.$$s=this,h.$$arity=-1,h));return l},n.$$arity=-1);b.def(z,"$cycle",e=function(a){var c=e.$$p,d=c||g,f;c&&(e.$$p=null);c&&(e.$$p=null);null==a&&(a=g);if(d===g)return x(this,"enum_for",["cycle",a],(f=function(){var b=f.$$s||this;if(p(a["$nil?"]()))return p(b["$respond_to?"]("size"))?B(v(k,"Float"),"INFINITY"):g;a=v(k,"Opal")["$coerce_to!"](a,v(k,"Integer"),"to_int");return p(q(a,0))?(b=b.$enumerator_size(),"number"===typeof b&&
"number"===typeof a?b*a:b["$*"](a)):0},f.$$s=this,f.$$arity=0,f));if(!p(a["$nil?"]())&&(a=v(k,"Opal")["$coerce_to!"](a,v(k,"Integer"),"to_int"),p(0>=a)))return g;var h=[],l;this.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments);b.yield1(d,a);h.push(a)};this.$each();if(0===h.length)return g;if(a===g)for(;;)for(c=0,l=h.length;c<l;c++)b.yield1(d,h[c]);else for(;1<a;){c=0;for(l=h.length;c<l;c++)b.yield1(d,h[c]);a--}},e.$$arity=-1);b.def(z,"$detect",h=function(a){try{var c=h.$$p,d=c||g,e;
c&&(h.$$p=null);c&&(h.$$p=null);if(d===g)return this.$enum_for("detect",a);x(this,"each",[],(e=function(a){var c;c=g;c=b.slice.call(arguments,0,arguments.length);c=v(k,"Opal").$destructure(c);if(p(b.yield1(d,c)))b.ret(c);else return g},e.$$s=this,e.$$arity=-1,e));return void 0!==a?"function"===typeof a?a():a:g}catch(f){if(f===b.returner)return f.$v;throw f;}},h.$$arity=-1);b.def(z,"$drop",E=function(a){a=v(k,"Opal").$coerce_to(a,v(k,"Integer"),"to_int");p(0>a)&&this.$raise(v(k,"ArgumentError"),"attempt to drop negative size");
var b=[],c=0;this.$each.$$p=function(){a<=c&&b.push(v(k,"Opal").$destructure(arguments));c++};this.$each();return b},E.$$arity=1);b.def(z,"$drop_while",ya=function(){var a=ya.$$p,c=a||g;a&&(ya.$$p=null);a&&(ya.$$p=null);if(c===g)return this.$enum_for("drop_while");var d=[],e=!0;this.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments);if(e){var f=b.yield1(c,a);J(f)&&(e=!1,d.push(a))}else d.push(a)};this.$each();return d},ya.$$arity=0);b.def(z,"$each_cons",r=function(a){var c=r.$$p,d=c||
g,e;c&&(r.$$p=null);c&&(r.$$p=null);p(1!=arguments.length)&&this.$raise(v(k,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");a=v(k,"Opal").$try_convert(a,v(k,"Integer"),"to_int");p(0>=a)&&this.$raise(v(k,"ArgumentError"),"invalid size");if(d===g)return x(this,"enum_for",["each_cons",a],(e=function(){var b,c=g,c=(e.$$s||this).$enumerator_size();return p(c["$nil?"]())?g:p(p(b=c["$=="](0))?b:"number"===typeof c&&"number"===typeof a?c<a:c["$<"](a))?0:F(y(c,a),1)},e.$$s=this,
e.$$arity=0,e));var f=[];this.$each.$$p=function(){var c=v(k,"Opal").$destructure(arguments);f.push(c);f.length>a&&f.shift();f.length==a&&b.yield1(d,f.slice(0,a))};this.$each();return g},r.$$arity=1);b.def(z,"$each_entry",ia=function(a){var c=ia.$$p,d=c||g,e;c&&(ia.$$p=null);c&&(ia.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(d===g)return x(this,"to_enum",["each_entry"].concat(b.to_a(c)),(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));this.$each.$$p=function(){var a=
v(k,"Opal").$destructure(arguments);b.yield1(d,a)};this.$each.apply(this,c);return this},ia.$$arity=-1);b.def(z,"$each_slice",G=function(a){var c=G.$$p,d=c||g,e;c&&(G.$$p=null);c&&(G.$$p=null);a=v(k,"Opal").$coerce_to(a,v(k,"Integer"),"to_int");p(0>=a)&&this.$raise(v(k,"ArgumentError"),"invalid slice size");if(d===g)return x(this,"enum_for",["each_slice",a],(e=function(){var b=e.$$s||this;return p(b["$respond_to?"]("size"))?(b=b.$size(),("number"===typeof b&&"number"===typeof a?b/a:b["$/"](a)).$ceil()):
g},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){var c=v(k,"Opal").$destructure(arguments);f.push(c);f.length===a&&(b.yield1(d,f),f=[])};this.$each();0<f.length&&b.yield1(d,f);return g},G.$$arity=1);b.def(z,"$each_with_index",aa=function(a){var c=aa.$$p,d=c||g,e;c&&(aa.$$p=null);c&&(aa.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(d===g)return x(this,"enum_for",["each_with_index"].concat(b.to_a(c)),(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=
0,e));var f=0;this.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments);d(a,f);f++};this.$each.apply(this,c);return this},aa.$$arity=-1);b.def(z,"$each_with_object",fa=function(a){var b=fa.$$p,c=b||g,d;b&&(fa.$$p=null);b&&(fa.$$p=null);if(c===g)return x(this,"enum_for",["each_with_object",a],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));this.$each.$$p=function(){var b=v(k,"Opal").$destructure(arguments);c(b,a)};this.$each();return a},fa.$$arity=1);b.def(z,
"$entries",ta=function(a){var c;c=b.slice.call(arguments,0,arguments.length);var d=[];this.$each.$$p=function(){d.push(v(k,"Opal").$destructure(arguments))};this.$each.apply(this,c);return d},ta.$$arity=-1);b.alias(z,"find","detect");b.def(z,"$find_all",ma=function(){var a=ma.$$p,c=a||g,d;a&&(ma.$$p=null);a&&(ma.$$p=null);if(c===g)return x(this,"enum_for",["find_all"],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));var e=[];this.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments),
d=b.yield1(c,a);p(d)&&e.push(a)};this.$each();return e},ma.$$arity=0);b.def(z,"$find_index",ja=function(a){try{var c=ja.$$p,d=c||g,e,f,h=g;c&&(ja.$$p=null);c&&(ja.$$p=null);if(p(void 0===a&&d===g))return this.$enum_for("find_index");null!=a&&d!==g&&this.$warn("warning: given block not used");h=0;p(null!=a)?x(this,"each",[],(e=function(c){var d;d=b.slice.call(arguments,0,arguments.length);v(k,"Opal").$destructure(d)["$=="](a)&&b.ret(h);return h+=1},e.$$s=this,e.$$arity=-1,e)):x(this,"each",[],(f=function(a){var c;
c=b.slice.call(arguments,0,arguments.length);p(b.yieldX(d,b.to_a(c)))&&b.ret(h);return h+=1},f.$$s=this,f.$$arity=-1,f));return g}catch(l){if(l===b.returner)return l.$v;throw l;}},ja.$$arity=-1);b.def(z,"$first",C=function(a){try{var c,d,e=g,f=g;if(p(void 0===a))return x(this,"each",[],(c=function(a){null==a&&(a=g);b.ret(a)},c.$$s=this,c.$$arity=1,c));e=[];a=v(k,"Opal").$coerce_to(a,v(k,"Integer"),"to_int");p(0>a)&&this.$raise(v(k,"ArgumentError"),"attempt to take negative size");if(p(0==a))return[];
f=0;x(this,"each",[],(d=function(c){var d;d=b.slice.call(arguments,0,arguments.length);e.push(v(k,"Opal").$destructure(d));if(p(a<=++f))b.ret(e);else return g},d.$$s=this,d.$$arity=-1,d));return e}catch(h){if(h===b.returner)return h.$v;throw h;}},C.$$arity=-1);b.alias(z,"flat_map","collect_concat");b.def(z,"$grep",D=function(a){var c=D.$$p,d=c||g,e,f=g;c&&(D.$$p=null);c&&(D.$$p=null);f=[];x(this,"each",[],(e=function(c){var e,h=g;e=b.slice.call(arguments,0,arguments.length);h=A(e);if(!p(x(a,"__send__",
["==="].concat(b.to_a(h)))))return g;d!==g?(p(q(e.$length(),1))&&(e=[e]),e=b.yieldX(d,b.to_a(e))):p(u(e.$length(),1))&&(e=e["$[]"](0));return f.$push(e)},e.$$s=this,e.$$arity=-1,e));return f},D.$$arity=1);b.def(z,"$grep_v",X=function(a){var c=X.$$p,d=c||g,e,f=g;c&&(X.$$p=null);c&&(X.$$p=null);f=[];x(this,"each",[],(e=function(c){var e,h=g;e=b.slice.call(arguments,0,arguments.length);h=A(e);if(p(x(a,"__send__",["==="].concat(b.to_a(h)))))return g;d!==g?(p(q(e.$length(),1))&&(e=[e]),e=b.yieldX(d,b.to_a(e))):
p(u(e.$length(),1))&&(e=e["$[]"](0));return f.$push(e)},e.$$s=this,e.$$arity=-1,e));return f},X.$$arity=1);b.def(z,"$group_by",ha=function(){var a=ha.$$p,c=a||g,d,e,f=g,h=g;a&&(ha.$$p=null);a&&(ha.$$p=null);if(c===g)return x(this,"enum_for",["group_by"],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));f=L([],{});this.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments),d=b.yield1(c,a);(p(e=f["$[]"](d))?e:(h=[d,[]],x(f,"[]=",b.to_a(h)),h[y(h.length,1)]))["$<<"](a)};
this.$each();return f},ha.$$arity=0);b.def(z,"$include?",va=function(a){try{var c;x(this,"each",[],(c=function(c){var d;d=b.slice.call(arguments,0,arguments.length);if(v(k,"Opal").$destructure(d)["$=="](a))b.ret(!0);else return g},c.$$s=this,c.$$arity=-1,c));return!1}catch(d){if(d===b.returner)return d.$v;throw d;}},va.$$arity=1);b.def(z,"$inject",V=function(a,c){var d=V.$$p,e=d||g;d&&(V.$$p=null);d&&(V.$$p=null);var f=a;e!==g&&void 0===c?this.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments);
void 0!==f&&(a=b.yieldX(e,[f,a]));f=a}:(void 0===c&&(v(k,"Symbol")["$==="](a)||this.$raise(v(k,"TypeError"),""+a.$inspect()+" is not a Symbol"),c=a,f=void 0),this.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments);f=void 0===f?a:f.$__send__(c,a)});this.$each();return void 0==f?g:f},V.$$arity=-1);b.def(z,"$lazy",ka=function(){var a;return x(B(v(k,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(a=function(a,c){var d;null==a&&(a=g);d=b.slice.call(arguments,1,arguments.length);
return x(a,"yield",b.to_a(d))},a.$$s=this,a.$$arity=-2,a))},ka.$$arity=0);b.def(z,"$enumerator_size",N=function(){return p(this["$respond_to?"]("size"))?this.$size():g},N.$$arity=0);b.alias(z,"map","collect");b.def(z,"$max",W=function(a){var c=W.$$p,d=c||g,e=this;c&&(W.$$p=null);c&&(W.$$p=null);if(void 0===a||a===g){var f,h;e.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments);void 0===f?f=a:(h=d!==g?b.yieldX(d,[a,f]):a["$<=>"](f),h===g&&e.$raise(v(k,"ArgumentError"),"comparison failed"),
0<h&&(f=a))};e.$each();return void 0===f?g:f}a=v(k,"Opal").$coerce_to(a,v(k,"Integer"),"to_int");return x(e,"sort",[],d.$to_proc()).$reverse().$first(a)},W.$$arity=-1);b.def(z,"$max_by",R=function(){var a=R.$$p,c=a||g,d;a&&(R.$$p=null);a&&(R.$$p=null);if(!p(c))return x(this,"enum_for",["max_by"],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));var e,f;this.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments),d=b.yield1(c,a);void 0===e?(e=a,f=d):0<d["$<=>"](f)&&
(e=a,f=d)};this.$each();return void 0===e?g:e},R.$$arity=0);b.alias(z,"member?","include?");b.def(z,"$min",ba=function(){var a=ba.$$p,b=a||g,c=this;a&&(ba.$$p=null);a&&(ba.$$p=null);var d;c.$each.$$p=b!==g?function(){var a=v(k,"Opal").$destructure(arguments);if(void 0===d)d=a;else{var e=b(a,d);e===g&&c.$raise(v(k,"ArgumentError"),"comparison failed");0>e&&(d=a)}}:function(){var a=v(k,"Opal").$destructure(arguments);void 0===d?d=a:0>v(k,"Opal").$compare(a,d)&&(d=a)};c.$each();return void 0===d?g:d},
ba.$$arity=0);b.def(z,"$min_by",S=function(){var a=S.$$p,c=a||g,d;a&&(S.$$p=null);a&&(S.$$p=null);if(!p(c))return x(this,"enum_for",["min_by"],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));var e,f;this.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments),d=b.yield1(c,a);void 0===e?(e=a,f=d):0>d["$<=>"](f)&&(e=a,f=d)};this.$each();return void 0===e?g:e},S.$$arity=0);b.def(z,"$minmax",qa=function(){var a=qa.$$p,b=a||g,c,d,e=this;a&&(qa.$$p=null);a&&(qa.$$p=
null);var b=p(c=b)?c:x(e,"proc",[],(d=function(a,b){null==a&&(a=g);null==b&&(b=g);return a["$<=>"](b)},d.$$s=e,d.$$arity=2,d)),f=g,h=g,l=!0;e.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments);if(l)f=h=a,l=!1;else{var c=b.$call(f,a);c===g?e.$raise(v(k,"ArgumentError"),"comparison failed"):0<c&&(f=a);c=b.$call(h,a);c===g?e.$raise(v(k,"ArgumentError"),"comparison failed"):0>c&&(h=a)}};e.$each();return[f,h]},qa.$$arity=0);b.def(z,"$minmax_by",Ca=function(){var a=Ca.$$p;a&&(Ca.$$p=null);a&&
(Ca.$$p=null);return this.$raise(v(k,"NotImplementedError"))},Ca.$$arity=0);b.def(z,"$none?",U=function(a){try{var c=U.$$p,d=c||g,e,f,h;c&&(U.$$p=null);c&&(U.$$p=null);p(void 0!==a)?x(this,"each",[],(e=function(c){var d;d=g;d=b.slice.call(arguments,0,arguments.length);d=A(d);if(p(x(a,"public_send",["==="].concat(b.to_a(d)))))b.ret(!1);else return g},e.$$s=this,e.$$arity=-1,e)):d!==g?x(this,"each",[],(f=function(a){var c;c=b.slice.call(arguments,0,arguments.length);if(p(b.yieldX(d,b.to_a(c))))b.ret(!1);
else return g},f.$$s=this,f.$$arity=-1,f)):x(this,"each",[],(h=function(a){var c;c=g;c=b.slice.call(arguments,0,arguments.length);c=v(k,"Opal").$destructure(c);if(p(c))b.ret(!1);else return g},h.$$s=this,h.$$arity=-1,h));return!0}catch(l){if(l===b.returner)return l.$v;throw l;}},U.$$arity=-1);b.def(z,"$one?",la=function(a){try{var c=la.$$p,d=c||g,e,f,h,l=g;c&&(la.$$p=null);c&&(la.$$p=null);l=0;p(void 0!==a)?x(this,"each",[],(e=function(c){var d;d=g;d=b.slice.call(arguments,0,arguments.length);d=A(d);
if(p(x(a,"public_send",["==="].concat(b.to_a(d)))))if(l=F(l,1),p(q(l,1)))b.ret(!1);else return g;else return g},e.$$s=this,e.$$arity=-1,e)):d!==g?x(this,"each",[],(f=function(a){var c;c=b.slice.call(arguments,0,arguments.length);if(!p(b.yieldX(d,b.to_a(c))))return g;l=F(l,1);if(p(q(l,1)))b.ret(!1);else return g},f.$$s=this,f.$$arity=-1,f)):x(this,"each",[],(h=function(a){var c;c=b.slice.call(arguments,0,arguments.length);if(!p(v(k,"Opal").$destructure(c)))return g;l=F(l,1);if(p(q(l,1)))b.ret(!1);
else return g},h.$$s=this,h.$$arity=-1,h));return l["$=="](1)}catch(n){if(n===b.returner)return n.$v;throw n;}},la.$$arity=-1);b.def(z,"$partition",ga=function(){var a=ga.$$p,c=a||g,d;a&&(ga.$$p=null);a&&(ga.$$p=null);if(c===g)return x(this,"enum_for",["partition"],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));var e=[],f=[];this.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments),d=b.yield1(c,a);p(d)?e.push(a):f.push(a)};this.$each();return[e,f]},ga.$$arity=
0);b.alias(z,"reduce","inject");b.def(z,"$reject",ca=function(){var a=ca.$$p,c=a||g,d;a&&(ca.$$p=null);a&&(ca.$$p=null);if(c===g)return x(this,"enum_for",["reject"],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));var e=[];this.$each.$$p=function(){var a=v(k,"Opal").$destructure(arguments),d=b.yield1(c,a);J(d)&&e.push(a)};this.$each();return e},ca.$$arity=0);b.def(z,"$reverse_each",Da=function(){var a=Da.$$p,c=a||g,d;a&&(Da.$$p=null);a&&(Da.$$p=null);if(c===g)return x(this,
"enum_for",["reverse_each"],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));var e=[];this.$each.$$p=function(){e.push(arguments)};this.$each();for(a=e.length-1;0<=a;a--)b.yieldX(c,e[a]);return e},Da.$$arity=0);b.alias(z,"select","find_all");b.def(z,"$slice_before",ea=function(a){var c=ea.$$p,d=c||g,e;c&&(ea.$$p=null);c&&(ea.$$p=null);p(void 0===a&&d===g)&&this.$raise(v(k,"ArgumentError"),"both pattern and block are given");p(void 0!==a&&d!==g||1<arguments.length)&&
this.$raise(v(k,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return x(v(k,"Enumerator"),"new",[],(e=function(c){var f=e.$$s||this;null==c&&(c=g);var h=[];f.$each.$$p=d!==g?void 0===a?function(){var a=v(k,"Opal").$destructure(arguments),e=b.yield1(d,a);p(e)&&0<h.length&&(c["$<<"](h),h=[]);h.push(a)}:function(){var b=v(k,"Opal").$destructure(arguments),e=d(b,a.$dup());p(e)&&0<h.length&&(c["$<<"](h),h=[]);h.push(b)}:function(){var b=v(k,"Opal").$destructure(arguments),
d=a["$==="](b);p(d)&&0<h.length&&(c["$<<"](h),h=[]);h.push(b)};f.$each();if(0<h.length)c["$<<"](h)},e.$$s=this,e.$$arity=1,e))},ea.$$arity=-1);b.def(z,"$slice_after",Fa=function(a){var c=Fa.$$p,d=c||g,e,f;c&&(Fa.$$p=null);c&&(Fa.$$p=null);p(void 0===a&&d===g)&&this.$raise(v(k,"ArgumentError"),"both pattern and block are given");p(void 0!==a&&d!==g||1<arguments.length)&&this.$raise(v(k,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");p(void 0!==a)&&(d=x(this,"proc",[],
(e=function(b){null==b&&(b=g);return a["$==="](b)},e.$$s=this,e.$$arity=1,e)));return x(v(k,"Enumerator"),"new",[],(f=function(a){var c=f.$$s||this;null==a&&(a=g);var e;c.$each.$$p=function(){var c=v(k,"Opal").$destructure(arguments),f=b.yield1(d,c);null==e&&(e=[]);p(f)?(e.push(c),a.$yield(e),e=null):e.push(c)};c.$each();null!=e&&a.$yield(e)},f.$$s=this,f.$$arity=1,f))},Fa.$$arity=-1);b.def(z,"$slice_when",da=function(){var a=da.$$p,c=a||g,d;a&&(da.$$p=null);a&&(da.$$p=null);c===g&&this.$raise(v(k,
"ArgumentError"),"wrong number of arguments (0 for 1)");return x(v(k,"Enumerator"),"new",[],(d=function(a){var e=d.$$s||this;null==a&&(a=g);var f=g,h=g;e.$each_cons.$$p=function(){var d=v(k,"Opal").$destructure(arguments),e=d[0],d=d[1],l=b.yieldX(c,[e,d]);h=d;f===g&&(f=[]);p(l)?(f.push(e),a.$yield(f),f=[]):f.push(e)};e.$each_cons(2);f!==g&&(f.push(h),a.$yield(f))},d.$$s=this,d.$$arity=1,d))},da.$$arity=0);b.def(z,"$sort",na=function(){var a=na.$$p,b=a||g,c,d=g;a&&(na.$$p=null);a&&(na.$$p=null);d=
this.$to_a();b===g&&(b=P((c=function(a,b){null==a&&(a=g);null==b&&(b=g);return a["$<=>"](b)},c.$$s=this,c.$$arity=2,c)));return x(d,"sort",[],b.$to_proc())},na.$$arity=0);b.def(z,"$sort_by",ra=function(){var a=ra.$$p,c=a||g,d,e,f,h,l=g;a&&(ra.$$p=null);a&&(ra.$$p=null);if(c===g)return x(this,"enum_for",["sort_by"],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));l=x(this,"map",[],(e=function(){var a=g,a=v(k,"Opal").$destructure(arguments);return[b.yield1(c,a),a]},e.$$s=
this,e.$$arity=0,e));x(l,"sort!",[],(f=function(a,b){null==a&&(a=g);null==b&&(b=g);return a[0]["$<=>"](b[0])},f.$$s=this,f.$$arity=2,f));return x(l,"map!",[],(h=function(a){null==a&&(a=g);return a[1]},h.$$s=this,h.$$arity=1,h))},ra.$$arity=0);b.def(z,"$sum",K=function(a){var c,d=K.$$p,e=d||g,f=g;d&&(K.$$p=null);null==a&&(a=0);f=a;x(this,"each",[],(c=function(a){var c;c=g;c=b.slice.call(arguments,0,arguments.length);c=e!==g?b.yieldX(e,b.to_a(c)):v(k,"Opal").$destructure(c);return f=F(f,c)},c.$$s=this,
c.$$arity=-1,c));return f},K.$$arity=-1);b.def(z,"$take",sa=function(a){return this.$first(a)},sa.$$arity=1);b.def(z,"$take_while",Ga=function(){try{var a=Ga.$$p,c=a||g,d,e=g;a&&(Ga.$$p=null);a&&(Ga.$$p=null);if(!p(c))return this.$enum_for("take_while");e=[];return x(this,"each",[],(d=function(a){var d;d=g;d=b.slice.call(arguments,0,arguments.length);d=v(k,"Opal").$destructure(d);p(b.yield1(c,d))||b.ret(e);return e.push(d)},d.$$s=this,d.$$arity=-1,d))}catch(f){if(f===b.returner)return f.$v;throw f;
}},Ga.$$arity=0);b.def(z,"$uniq",ua=function(){var a=ua.$$p,c=a||g,d,e=g;a&&(ua.$$p=null);a&&(ua.$$p=null);e=L([],{});x(this,"each",[],(d=function(a){var d,f=d=g;d=g;d=b.slice.call(arguments,0,arguments.length);d=v(k,"Opal").$destructure(d);f=c!==g?b.yield1(c,d):d;if(p(e["$key?"](f)))return g;d=[f,d];x(e,"[]=",b.to_a(d));return d[y(d.length,1)]},d.$$s=this,d.$$arity=-1,d));return e.$values()},ua.$$arity=0);b.alias(z,"to_a","entries");b.def(z,"$zip",oa=function(a){var c=oa.$$p;c&&(oa.$$p=null);c&&
(oa.$$p=null);c=b.slice.call(arguments,0,arguments.length);return x(this.$to_a(),"zip",b.to_a(c))},oa.$$arity=-1)}(r[0],r)},Opal.modules["corelib/enumerator"]=function(b){function q(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function F(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var y=b.top,u=[],r=b.nil,g=b.const_get_relative,B=b.breaker,v=b.slice,t=b.klass,p=b.truthy,x=b.send,J=b.falsy;b.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));
y.$require("corelib/enumerable");return function(u,$super,a){function d(){}u=d=t(u,$super,"Enumerator",d);var w=u.prototype,A=[u].concat(a),z,k,m,c,f,l;w.size=w.args=w.object=w.method=r;u.$include(g(A,"Enumerable"));w.$$is_enumerator=!0;b.defs(u,"$for",z=function(a,c,d){var e=z.$$p,f=e||r,l;e&&(z.$$p=null);e&&(z.$$p=null);e=b.slice.call(arguments,1,arguments.length);0<e.length&&(l=e[0],e.splice(0,1));null==l&&(l="each");var k=this.$allocate();k.object=a;k.size=f;k.method=l;k.args=e;return k},z.$$arity=
-2);b.def(u,"$initialize",k=function(a){var c=k.$$p,d=c||r;c&&(k.$$p=null);c&&(k.$$p=null);b.slice.call(arguments,0,arguments.length);if(p(d))return this.object=x(g(A,"Generator"),"new",[],d.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||r,p(this.size)?this.size=g(A,"Opal").$coerce_to(this.size,g(A,"Integer"),"to_int"):r;this.object=arguments[0];this.method=arguments[1]||"each";this.args=v.call(arguments,2);return this.size=r},k.$$arity=-1);b.def(u,"$each",m=function(a){var c=
m.$$p,d=c||r,e;c&&(m.$$p=null);c&&(m.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(p(p(e=d["$nil?"]())?c["$empty?"]():e))return this;c=q(this.args,c);return p(d["$nil?"]())?x(this.$class(),"new",[this.object,this.method].concat(b.to_a(c))):x(this.object,"__send__",[this.method].concat(b.to_a(c)),d.$to_proc())},m.$$arity=-1);b.def(u,"$size",c=function(){return p(g(A,"Proc")["$==="](this.size))?x(this.size,"call",b.to_a(this.args)):this.size},c.$$arity=0);b.def(u,"$with_index",f=function(a){var b=
f.$$p,c=b||r,d;b&&(f.$$p=null);b&&(f.$$p=null);null==a&&(a=0);a=p(a)?g(A,"Opal").$coerce_to(a,g(A,"Integer"),"to_int"):0;if(!p(c))return x(this,"enum_for",["with_index",a],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));var h=a;this.$each.$$p=function(){var a=g(A,"Opal").$destructure(arguments),a=c(a,h);h++;return a};return this.$each()},f.$$arity=-1);b.alias(u,"with_object","each_with_object");b.def(u,"$inspect",l=function(){var a=r,a="#<"+this.$class()+": "+this.object.$inspect()+
":"+this.method;p(this.args["$any?"]())&&(a=q(a,"("+this.args.$inspect()["$[]"](g(A,"Range").$new(1,-2))+")"));return q(a,">")},l.$$arity=0);(function(a,$super,c){function d(){}a=d=t(a,$super,"Generator",d);var f=a.prototype,l=[a].concat(c),k,w;f.block=r;a.$include(g(l,"Enumerable"));b.def(a,"$initialize",k=function(){var a=k.$$p,b=a||r;a&&(k.$$p=null);a&&(k.$$p=null);p(b)||this.$raise(g(l,"LocalJumpError"),"no block given");return this.block=b},k.$$arity=0);return(b.def(a,"$each",w=function(a){var c=
w.$$p,d=c||r,e=r;c&&(w.$$p=null);c&&(w.$$p=null);c=b.slice.call(arguments,0,arguments.length);e=x(g(l,"Yielder"),"new",[],d.$to_proc());try{c.unshift(e),b.yieldX(this.block,c)}catch(f){if(f===B)return B.$v;throw f;}return this},w.$$arity=-1),r)&&"each"})(A[0],null,A);(function(a,$super,c){function d(){}a=d=t(a,$super,"Yielder",d);var f=a.prototype;[a].concat(c);var l,k,w;f.block=r;b.def(a,"$initialize",l=function(){var a=l.$$p,b=a||r;a&&(l.$$p=null);a&&(l.$$p=null);return this.block=b},l.$$arity=
0);b.def(a,"$yield",k=function(a){var c;c=b.slice.call(arguments,0,arguments.length);c=b.yieldX(this.block,c);if(c===B)throw B;return c},k.$$arity=-1);return(b.def(a,"$<<",w=function(a){var c;c=b.slice.call(arguments,0,arguments.length);x(this,"yield",b.to_a(c));return this},w.$$arity=-1),r)&&"<<"})(A[0],null,A);return function(a,$super,c){function d(){}a=d=t(a,$super,"Lazy",d);var f=a.prototype,l=[a].concat(c),k,w,m,z,A,v,u,ma,ja,C,D,X,ha;f.enumerator=r;(function(a,$super,b){function c(){}[c=t(a,
$super,"StopLazyError",c)].concat(b);return r})(l[0],g(l,"Exception"),l);b.def(a,"$initialize",k=function(a,c){var d=k.$$p,e=d||r,f;d&&(k.$$p=null);d&&(k.$$p=null);null==c&&(c=r);e===r&&this.$raise(g(l,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=a;return x(this,b.find_super_dispatcher(this,"initialize",k,!1),[c],(f=function(c,d){var h=f.$$s||this,k,n;null==c&&(c=r);k=b.slice.call(arguments,1,arguments.length);try{return x(a,"each",b.to_a(k),(n=function(a){var d;d=b.slice.call(arguments,
0,arguments.length);d.unshift(c);b.yieldX(e,d)},n.$$s=h,n.$$arity=-1,n))}catch(w){if(b.rescue(w,[g(l,"Exception")]))try{return r}finally{b.pop_exception()}else throw w;}},f.$$s=this,f.$$arity=-2,f))},k.$$arity=-2);b.alias(a,"force","to_a");b.def(a,"$lazy",w=function(){return this},w.$$arity=0);b.def(a,"$collect",m=function(){var a=m.$$p,c=a||r,d;a&&(m.$$p=null);a&&(m.$$p=null);p(c)||this.$raise(g(l,"ArgumentError"),"tried to call lazy map without a block");return x(g(l,"Lazy"),"new",[this,this.$enumerator_size()],
(d=function(a,d){var e;null==a&&(a=r);e=b.slice.call(arguments,1,arguments.length);e=b.yieldX(c,e);a.$yield(e)},d.$$s=this,d.$$arity=-2,d))},m.$$arity=0);b.def(a,"$collect_concat",z=function(){var a=z.$$p,c=a||r,d;a&&(z.$$p=null);a&&(z.$$p=null);p(c)||this.$raise(g(l,"ArgumentError"),"tried to call lazy map without a block");return x(g(l,"Lazy"),"new",[this,r],(d=function(a,e){var f=d.$$s||this,h,k,n;null==a&&(a=r);h=b.slice.call(arguments,1,arguments.length);h=b.yieldX(c,h);h["$respond_to?"]("force")&&
h["$respond_to?"]("each")?x(h,"each",[],(k=function(b){null==b&&(b=r);return a.$yield(b)},k.$$s=f,k.$$arity=1,k)):g(l,"Opal").$try_convert(h,g(l,"Array"),"to_ary")===r?a.$yield(h):x(h,"each",[],(n=function(b){null==b&&(b=r);return a.$yield(b)},n.$$s=f,n.$$arity=1,n))},d.$$s=this,d.$$arity=-2,d))},z.$$arity=0);b.def(a,"$drop",A=function(a){var c,d=r,e=d=r;a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");p(F(a,0))&&this.$raise(g(l,"ArgumentError"),"attempt to drop negative size");d=this.$enumerator_size();
d=p(g(l,"Integer")["$==="](d))?p(F(a,d))?a:d:d;e=0;return x(g(l,"Lazy"),"new",[this,d],(c=function(c,d){var f;null==c&&(c=r);f=b.slice.call(arguments,1,arguments.length);return p(F(e,a))?e=q(e,1):x(c,"yield",b.to_a(f))},c.$$s=this,c.$$arity=-2,c))},A.$$arity=1);b.def(a,"$drop_while",v=function(){var a=v.$$p,c=a||r,d,e=r;a&&(v.$$p=null);a&&(v.$$p=null);p(c)||this.$raise(g(l,"ArgumentError"),"tried to call lazy drop_while without a block");e=!0;return x(g(l,"Lazy"),"new",[this,r],(d=function(a,d){var f;
null==a&&(a=r);f=b.slice.call(arguments,1,arguments.length);if(p(e)){var h=b.yieldX(c,f);J(h)&&(e=!1,x(a,"yield",b.to_a(f)))}else return x(a,"yield",b.to_a(f))},d.$$s=this,d.$$arity=-2,d))},v.$$arity=0);b.def(a,"$enum_for",u=function(a,c){var d=u.$$p,e=d||r,f;d&&(u.$$p=null);d&&(u.$$p=null);d=b.slice.call(arguments,0,arguments.length);0<d.length&&(f=d[0],d.splice(0,1));null==f&&(f="each");return x(this.$class(),"for",[this,f].concat(b.to_a(d)),e.$to_proc())},u.$$arity=-1);b.def(a,"$find_all",ma=function(){var a=
ma.$$p,c=a||r,d;a&&(ma.$$p=null);a&&(ma.$$p=null);p(c)||this.$raise(g(l,"ArgumentError"),"tried to call lazy select without a block");return x(g(l,"Lazy"),"new",[this,r],(d=function(a,d){var e;null==a&&(a=r);e=b.slice.call(arguments,1,arguments.length);var f=b.yieldX(c,e);p(f)&&x(a,"yield",b.to_a(e))},d.$$s=this,d.$$arity=-2,d))},ma.$$arity=0);b.alias(a,"flat_map","collect_concat");b.def(a,"$grep",ja=function(a){var c=ja.$$p,d=c||r,e,f;c&&(ja.$$p=null);c&&(ja.$$p=null);return p(d)?x(g(l,"Lazy"),"new",
[this,r],(e=function(c,e){var f;null==c&&(c=r);f=b.slice.call(arguments,1,arguments.length);f=g(l,"Opal").$destructure(f);var h=a["$==="](f);p(h)&&(b.yield1(d,f),c.$yield(b.yield1(d,f)))},e.$$s=this,e.$$arity=-2,e)):x(g(l,"Lazy"),"new",[this,r],(f=function(c,d){var e;null==c&&(c=r);e=b.slice.call(arguments,1,arguments.length);e=g(l,"Opal").$destructure(e);var f=a["$==="](e);p(f)&&c.$yield(e)},f.$$s=this,f.$$arity=-2,f))},ja.$$arity=1);b.alias(a,"map","collect");b.alias(a,"select","find_all");b.def(a,
"$reject",C=function(){var a=C.$$p,c=a||r,d;a&&(C.$$p=null);a&&(C.$$p=null);p(c)||this.$raise(g(l,"ArgumentError"),"tried to call lazy reject without a block");return x(g(l,"Lazy"),"new",[this,r],(d=function(a,d){var e;null==a&&(a=r);e=b.slice.call(arguments,1,arguments.length);var f=b.yieldX(c,e);J(f)&&x(a,"yield",b.to_a(e))},d.$$s=this,d.$$arity=-2,d))},C.$$arity=0);b.def(a,"$take",D=function(a){var c,d=r,e=d=r;a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");p(F(a,0))&&this.$raise(g(l,"ArgumentError"),
"attempt to take negative size");d=this.$enumerator_size();d=p(g(l,"Integer")["$==="](d))?p(F(a,d))?a:d:d;e=0;return x(g(l,"Lazy"),"new",[this,d],(c=function(d,f){var h=c.$$s||this,k;null==d&&(d=r);k=b.slice.call(arguments,1,arguments.length);return p(F(e,a))?(x(d,"yield",b.to_a(k)),e=q(e,1)):h.$raise(g(l,"StopLazyError"))},c.$$s=this,c.$$arity=-2,c))},D.$$arity=1);b.def(a,"$take_while",X=function(){var a=X.$$p,c=a||r,d;a&&(X.$$p=null);a&&(X.$$p=null);p(c)||this.$raise(g(l,"ArgumentError"),"tried to call lazy take_while without a block");
return x(g(l,"Lazy"),"new",[this,r],(d=function(a,e){var f=d.$$s||this,h;null==a&&(a=r);h=b.slice.call(arguments,1,arguments.length);var k=b.yieldX(c,h);p(k)?x(a,"yield",b.to_a(h)):f.$raise(g(l,"StopLazyError"))},d.$$s=this,d.$$arity=-2,d))},X.$$arity=0);b.alias(a,"to_enum","enum_for");return(b.def(a,"$inspect",ha=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},ha.$$arity=0),r)&&"inspect"}(A[0],u,A)}(u[0],null,u)},Opal.modules["corelib/numeric"]=function(b){function q(b,g){return"number"===
typeof b&&"number"===typeof g?b-g:b["$-"](g)}function F(b,g){return"number"===typeof b&&"number"===typeof g?b*g:b["$*"](g)}function y(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}var r=b.top,g=[],B=b.nil,v=b.const_get_qualified,t=b.const_get_relative,p=b.klass,x=b.truthy,J=b.hash2;b.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
r.$require("corelib/comparable");return function(g,$super,a){function d(){}g=d=p(g,$super,"Numeric",d);var w=[g].concat(a),A,z,k,m,c,f,l,O,T,n,e,h,E,r,pa,ia,G,aa,fa,ta,ma,ja,C,D,X,ha,va,V,ka,N,W,R,ba,S,qa,Ca,U;g.$include(t(w,"Comparable"));b.def(g,"$coerce",A=function(a){return x(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},A.$$arity=1);b.def(g,"$__coerced__",z=function(a,c){var d,e,f=B;e=d=B;if(x(c["$respond_to?"]("coerce")))return e=c.$coerce(this),d=b.to_ary(e),
f=null==d[0]?B:d[0],d=null==d[1]?B:d[1],e,f.$__send__(a,d);e=a;return"+"["$==="](e)||"-"["$==="](e)||"*"["$==="](e)||"/"["$==="](e)||"%"["$==="](e)||"&"["$==="](e)||"|"["$==="](e)||"^"["$==="](e)||"**"["$==="](e)?this.$raise(t(w,"TypeError"),""+c.$class()+" can't be coerced into Numeric"):">"["$==="](e)||">="["$==="](e)||"<"["$==="](e)||"<="["$==="](e)||"<=>"["$==="](e)?this.$raise(t(w,"ArgumentError"),"comparison of "+this.$class()+" with "+c.$class()+" failed"):B},z.$$arity=2);b.def(g,"$<=>",k=
function(a){return x(this["$equal?"](a))?0:B},k.$$arity=1);b.def(g,"$+@",m=function(){return this},m.$$arity=0);b.def(g,"$-@",c=function(){return q(0,this)},c.$$arity=0);b.def(g,"$%",f=function(a){return q(this,F(a,this.$div(a)))},f.$$arity=1);b.def(g,"$abs",l=function(){return y(this,0)?this["$-@"]():this},l.$$arity=0);b.def(g,"$abs2",O=function(){return F(this,this)},O.$$arity=0);b.def(g,"$angle",T=function(){return y(this,0)?v(t(w,"Math"),"PI"):0},T.$$arity=0);b.alias(g,"arg","angle");b.def(g,
"$ceil",n=function(a){null==a&&(a=0);return this.$to_f().$ceil(a)},n.$$arity=-1);b.def(g,"$conj",e=function(){return this},e.$$arity=0);b.alias(g,"conjugate","conj");b.def(g,"$denominator",h=function(){return this.$to_r().$denominator()},h.$$arity=0);b.def(g,"$div",E=function(a){a["$=="](0)&&this.$raise(t(w,"ZeroDivisionError"),"divided by o");return u(this,a).$floor()},E.$$arity=1);b.def(g,"$divmod",r=function(a){return[this.$div(a),this["$%"](a)]},r.$$arity=1);b.def(g,"$fdiv",pa=function(a){return u(this.$to_f(),
a)},pa.$$arity=1);b.def(g,"$floor",ia=function(a){null==a&&(a=0);return this.$to_f().$floor(a)},ia.$$arity=-1);b.def(g,"$i",G=function(){return this.$Complex(0,this)},G.$$arity=0);b.def(g,"$imag",aa=function(){return 0},aa.$$arity=0);b.alias(g,"imaginary","imag");b.def(g,"$integer?",fa=function(){return!1},fa.$$arity=0);b.alias(g,"magnitude","abs");b.alias(g,"modulo","%");b.def(g,"$nonzero?",ta=function(){return x(this["$zero?"]())?B:this},ta.$$arity=0);b.def(g,"$numerator",ma=function(){return this.$to_r().$numerator()},
ma.$$arity=0);b.alias(g,"phase","arg");b.def(g,"$polar",ja=function(){return[this.$abs(),this.$arg()]},ja.$$arity=0);b.def(g,"$quo",C=function(a){return u(t(w,"Opal")["$coerce_to!"](this,t(w,"Rational"),"to_r"),a)},C.$$arity=1);b.def(g,"$real",D=function(){return this},D.$$arity=0);b.def(g,"$real?",X=function(){return!0},X.$$arity=0);b.def(g,"$rect",ha=function(){return[this,0]},ha.$$arity=0);b.alias(g,"rectangular","rect");b.def(g,"$round",va=function(a){return this.$to_f().$round(a)},va.$$arity=
-1);b.def(g,"$to_c",V=function(){return this.$Complex(this,0)},V.$$arity=0);b.def(g,"$to_int",ka=function(){return this.$to_i()},ka.$$arity=0);b.def(g,"$truncate",N=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},N.$$arity=-1);b.def(g,"$zero?",W=function(){return this["$=="](0)},W.$$arity=0);b.def(g,"$positive?",R=function(){return"number"===typeof this?0<this:this["$>"](0)},R.$$arity=0);b.def(g,"$negative?",ba=function(){return y(this,0)},ba.$$arity=0);b.def(g,"$dup",S=function(){return this},
S.$$arity=0);b.def(g,"$clone",qa=function(a){if(null==a)J([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return this},qa.$$arity=-1);b.def(g,"$finite?",Ca=function(){return!0},Ca.$$arity=0);return(b.def(g,"$infinite?",U=function(){return B},U.$$arity=0),B)&&"infinite?"}(g[0],null,g)},Opal.modules["corelib/array"]=function(b){function q(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}var F=b.top,y=[],u=b.nil,r=b.const_get_qualified,g=b.const_get_relative,
B=b.klass,v=b.truthy,t=b.hash2,p=b.send,x=b.gvars;b.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
F.$require("corelib/enumerable");F.$require("corelib/numeric");return function(y,$super,F){function a(){}function d(a,c){return c.$$name===b.Array?a:c.$allocate().$replace(a.$to_a())}function w(a,c){var e=a.length,f,h,l;f=c.excl;h=b.Opal.$coerce_to(c.begin,b.Integer,"to_int");l=b.Opal.$coerce_to(c.end,b.Integer,"to_int");if(0>h&&(h+=e,0>h)||h>e)return u;if(0>l&&(l+=e,0>l))return[];f||(l+=1);e=a.slice(h,l);return d(e,a.$class())}function A(a,c,e){var f=a.length;c=b.Opal.$coerce_to(c,b.Integer,"to_int");
if(0>c&&(c+=f,0>c))return u;if(void 0===e)return c>=f||0>c?u:a[c];e=b.Opal.$coerce_to(e,b.Integer,"to_int");if(0>e||c>f||0>c)return u;c=a.slice(c,c+e);return d(c,a.$class())}function z(a,b){return a===b||0===b?1:0<b&&a>b?z(a-1,b-1)+z(a-1,b):0}var k=a=B(y,$super,"Array",a),m=[k].concat(F),c,f,l,O,T,n,e,h,E,ya,pa,ia,G,aa,fa,ta,ma,ja,C,D,X,ha,va,V,ka,N,W,R,ba,S,qa,Ca,U,la,ga,ca,Da,ea,Fa,da,na,ra,K,sa,Ga,ua,oa,Ja,Ra,Q,Ha,xa,Aa,Ea,wa,za,Ia,Oa,Ma,Pa,Na,Sa,Ta,Ua,H,Y,Ka,Z,Va,M,Qa,Ba,La,I,jb,kb,ib,Ya,Za,ab,
lb,bb,mb,nb,ob,cb,db,gb,fb,Xa,eb,Wa,hb;k.$include(g(m,"Enumerable"));b.defineProperty(Array.prototype,"$$is_array",!0);b.defs(k,"$[]",c=function(a){var c;c=b.slice.call(arguments,0,arguments.length);return d(c,this)},c.$$arity=-1);b.def(k,"$initialize",f=function(a,b){var c=f.$$p,d=c||u;c&&(f.$$p=null);c&&(f.$$p=null);null==a&&(a=u);null==b&&(b=u);b!==u&&d!==u&&this.$warn("warning: block supersedes default value argument");a>r(g(m,"Integer"),"MAX")&&this.$raise(g(m,"ArgumentError"),"array size too big");
2<arguments.length&&this.$raise(g(m,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");0>a&&this.$raise(g(m,"ArgumentError"),"negative array size");this.splice(0,this.length);var e;if(d===u)for(c=0;c<a;c++)this.push(b);
else for(c=0,e;c<a;c++)e=d(c),this[c]=e;return this},f.$$arity=-1);b.defs(k,"$try_convert",l=function(a){return g(m,"Opal")["$coerce_to?"](a,g(m,"Array"),"to_ary")},l.$$arity=1);b.def(k,"$&",O=function(a){a=v(g(m,"Array")["$==="](a))?a.$to_a():g(m,"Opal").$coerce_to(a,g(m,"Array"),"to_ary").$to_a();var c=[],d=t([],{}),e,f;e=0;for(f=a.length;e<f;e++)b.hash_put(d,a[e],!0);e=0;for(f=this.length;e<f;e++)a=this[e],void 0!==b.hash_delete(d,a)&&c.push(a);return c},O.$$arity=1);b.def(k,"$|",T=function(a){a=
v(g(m,"Array")["$==="](a))?a.$to_a():g(m,"Opal").$coerce_to(a,g(m,"Array"),"to_ary").$to_a();var c=t([],{}),d,e;d=0;for(e=this.length;d<e;d++)b.hash_put(c,this[d],!0);d=0;for(e=a.length;d<e;d++)b.hash_put(c,a[d],!0);return c.$keys()},T.$$arity=1);b.def(k,"$*",n=function(a){if(v(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");v(0>a)&&this.$raise(g(m,"ArgumentError"),"negative argument");for(var b=[],c=this.$to_a(),e=0;e<a;e++)b=b.concat(c);
return d(b,this.$class())},n.$$arity=1);b.def(k,"$+",e=function(a){a=v(g(m,"Array")["$==="](a))?a.$to_a():g(m,"Opal").$coerce_to(a,g(m,"Array"),"to_ary").$to_a();return this.concat(a)},e.$$arity=1);b.def(k,"$-",h=function(a){a=v(g(m,"Array")["$==="](a))?a.$to_a():g(m,"Opal").$coerce_to(a,g(m,"Array"),"to_ary").$to_a();if(v(0===this.length))return[];if(v(0===a.length))return this.slice();var c=[],d=t([],{}),e,f;e=0;for(f=a.length;e<f;e++)b.hash_put(d,a[e],!0);e=0;for(f=this.length;e<f;e++)a=this[e],
void 0===b.hash_get(d,a)&&c.push(a);return c},h.$$arity=1);b.def(k,"$<<",E=function(a){this.push(a);return this},E.$$arity=1);b.def(k,"$<=>",ya=function(a){if(v(g(m,"Array")["$==="](a)))a=a.$to_a();else if(v(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return u;if(this.$hash()===a.$hash())return 0;for(var b=Math.min(this.length,a.length),c=0;c<b;c++){var d=this[c]["$<=>"](a[c]);if(0!==d)return d}return this.length["$<=>"](a.length)},ya.$$arity=1);b.def(k,"$==",pa=function(a){function b(a,
d){var e,f,h,l;if(a===d)return!0;if(!d.$$is_array)return g(m,"Opal")["$respond_to?"](d,"to_ary")?d["$=="](a):!1;a.constructor!==Array&&(a=a.$to_a());d.constructor!==Array&&(d=d.$to_a());if(a.length!==d.length)return!1;c[a.$object_id()]=!0;e=0;for(f=a.length;e<f;e++)if(h=a[e],l=d[e],h.$$is_array){if(l.$$is_array&&l.length!==h.length||!c.hasOwnProperty(h.$object_id())&&!b(h,l))return!1}else if(!h["$=="](l))return!1;return!0}var c={};return b(this,a)},pa.$$arity=1);b.def(k,"$[]",ia=function(a,b){return a.$$is_range?
w(this,a):A(this,a,b)},ia.$$arity=-2);b.def(k,"$[]=",G=function(a,b,c){var d=u,e=u,f;f=this.length;if(v(g(m,"Range")["$==="](a))){var d=v(g(m,"Array")["$==="](b))?b.$to_a():v(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b],h=a.excl;c=g(m,"Opal").$coerce_to(a.begin,g(m,"Integer"),"to_int");e=g(m,"Opal").$coerce_to(a.end,g(m,"Integer"),"to_int");0>c&&(c+=f,0>c&&this.$raise(g(m,"RangeError"),""+a.$inspect()+" out of range"));0>e&&(e+=f);h||(e+=1);if(c>f)for(;f<c;f++)this[f]=u;0>e?this.splice.apply(this,
[c,0].concat(d)):this.splice.apply(this,[c,e-c].concat(d))}else{v(void 0===c)?e=1:(e=b,b=c,d=v(g(m,"Array")["$==="](b))?b.$to_a():v(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b]);a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");e=g(m,"Opal").$coerce_to(e,g(m,"Integer"),"to_int");0>a&&(h=a,a+=f,0>a&&this.$raise(g(m,"IndexError"),"index "+h+" too small for array; minimum "+-this.length));0>e&&this.$raise(g(m,"IndexError"),"negative length ("+e+")");if(a>f)for(;f<a;f++)this[f]=u;void 0===c?
this[a]=b:this.splice.apply(this,[a,e].concat(d))}return b},G.$$arity=-3);b.def(k,"$any?",aa=function(a){var c=aa.$$p,d=u,e=u,f=u;c&&(aa.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];c&&(aa.$$p=null);return 0===this.length?!1:p(this,b.find_super_dispatcher(this,"any?",aa,!1),d,c)},aa.$$arity=-1);b.def(k,"$assoc",fa=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&d[0]["$=="](a))return d;return u},fa.$$arity=1);b.def(k,"$at",ta=function(a){a=g(m,"Opal").$coerce_to(a,
g(m,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?u:this[a]},ta.$$arity=1);b.def(k,"$bsearch_index",ma=function(){var a=ma.$$p,c=a||u;a&&(ma.$$p=null);a&&(ma.$$p=null);if(c===u)return this.$enum_for("bsearch_index");for(var a=0,d=this.length,e,f,h=!1,l=u;a<d;){e=a+Math.floor((d-a)/2);f=this[e];f=b.yield1(c,f);if(!0===f)l=e,h=!0;else if(!1===f||f===u)h=!1;else if(f.$$is_number){if(0===f)return e;h=0>f}else this.$raise(g(m,"TypeError"),"wrong argument type "+f.$class()+" (must be numeric, true, false or nil)");
h?d=e:a=e+1}return l},ma.$$arity=0);b.def(k,"$bsearch",ja=function(){var a=ja.$$p,b=a||u,c=u;a&&(ja.$$p=null);a&&(ja.$$p=null);if(b===u)return this.$enum_for("bsearch");c=p(this,"bsearch_index",[],b.$to_proc());return null!=c&&c.$$is_number?this[c]:c},ja.$$arity=0);b.def(k,"$cycle",C=function(a){var c=C.$$p,d=c||u,e,f;c&&(C.$$p=null);c&&(C.$$p=null);null==a&&(a=u);if(d===u)return p(this,"enum_for",["cycle",a],(e=function(){var b=e.$$s||this;if(v(a["$nil?"]()))return r(g(m,"Float"),"INFINITY");a=g(m,
"Opal")["$coerce_to!"](a,g(m,"Integer"),"to_int");return v(q(a,0))?(b=b.$enumerator_size(),"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},e.$$s=this,e.$$arity=0,e));if(v(v(f=this["$empty?"]())?f:a["$=="](0)))return u;if(a===u)for(;;)for(c=0,f=this.length;c<f;c++)b.yield1(d,this[c]);else{a=g(m,"Opal")["$coerce_to!"](a,g(m,"Integer"),"to_int");if(0>=a)return this;for(;0<a;){c=0;for(f=this.length;c<f;c++)b.yield1(d,this[c]);a--}}return this},C.$$arity=-1);b.def(k,"$clear",D=function(){this.splice(0,
this.length);return this},D.$$arity=0);b.def(k,"$count",X=function(a){var c=X.$$p,d=c||u,e,f=u,h=u,l=u;c&&(X.$$p=null);h=0;l=arguments.length;for(f=Array(l);h<l;h++)f[h]=arguments[h];c&&(X.$$p=null);null==a&&(a=u);return v(v(e=a)?e:d)?p(this,b.find_super_dispatcher(this,"count",X,!1),f,c):this.$size()},X.$$arity=-1);b.def(k,"$initialize_copy",ha=function(a){return this.$replace(a)},ha.$$arity=1);b.def(k,"$collect",va=function(){var a=va.$$p,c=a||u,d;a&&(va.$$p=null);a&&(va.$$p=null);if(c===u)return p(this,
"enum_for",["collect"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=[],e=0,f=this.length;e<f;e++){var h=b.yield1(c,this[e]);a.push(h)}return a},va.$$arity=0);b.def(k,"$collect!",V=function(){var a=V.$$p,c=a||u,d;a&&(V.$$p=null);a&&(V.$$p=null);if(c===u)return p(this,"enum_for",["collect!"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=0,e=this.length;a<e;a++){var f=b.yield1(c,this[a]);this[a]=f}return this},V.$$arity=0);b.def(k,
"$combination",ka=function(a){var c,d=ka.$$p,e=d||u,f=u;d&&(ka.$$p=null);f=g(m,"Opal")["$coerce_to!"](a,g(m,"Integer"),"to_int");if(e===u)return p(this,"enum_for",["combination",f],(c=function(){return z((c.$$s||this).length,f)},c.$$s=this,c.$$arity=0,c));var h,l;if(0===f)b.yield1(e,[]);else if(1===f)for(d=0,a=this.length;d<a;d++)b.yield1(e,[this[d]]);else if(f===this.length)b.yield1(e,this.slice());else if(0<=f&&f<this.length){a=[];for(d=0;d<=f+1;d++)a.push(0);d=[];h=0;l=!1;for(a[0]=-1;!l;){for(d[h]=
this[a[h+1]];h<f-1;)h++,l=a[h+1]=a[h]+1,d[h]=this[l];b.yield1(e,d.slice());h++;do l=0===h,a[h]++,h--;while(a[h+1]+f===this.length+h+1)}}return this},ka.$$arity=1);b.def(k,"$repeated_combination",N=function(a){function c(a,d,e,h){if(e.length==a)a=e.slice(),b.yield1(f,a);else for(;d<h.length;d++)e.push(h[d]),c(a,d,e,h),e.pop()}var d,e=N.$$p,f=e||u,h=u;e&&(N.$$p=null);h=g(m,"Opal")["$coerce_to!"](a,g(m,"Integer"),"to_int");if(f===u)return p(this,"enum_for",["repeated_combination",h],(d=function(){return z((d.$$s||
this).length+h-1,h)},d.$$s=this,d.$$arity=0,d));0<=h&&c(h,0,[],this);return this},N.$$arity=1);b.def(k,"$compact",W=function(){for(var a=[],b=0,c=this.length,d;b<c;b++)(d=this[b])!==u&&a.push(d);return a},W.$$arity=0);b.def(k,"$compact!",R=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===u&&(this.splice(b,1),c--,b--);return this.length===a?u:this},R.$$arity=0);b.def(k,"$concat",ba=function(a){var c,d,e;c=b.slice.call(arguments,0,arguments.length);c=p(c,"map",[],(d=function(a){var b=
d.$$s||this;null==a&&(a=u);a=v(g(m,"Array")["$==="](a))?a.$to_a():g(m,"Opal").$coerce_to(a,g(m,"Array"),"to_ary").$to_a();v(a["$equal?"](b))&&(a=a.$dup());return a},d.$$s=this,d.$$arity=1,d));p(c,"each",[],(e=function(a){var b=e.$$s||this;null==a&&(a=u);for(var c=0,d=a.length;c<d;c++)b.push(a[c])},e.$$s=this,e.$$arity=1,e));return this},ba.$$arity=-1);b.def(k,"$delete",S=function(a){var c=S.$$p,d=c||u;c&&(S.$$p=null);for(var c=this.length,e=0,f=c;e<f;e++)this[e]["$=="](a)&&(this.splice(e,1),f--,e--);
return this.length===c?d!==u?b.yieldX(d,[]):u:a},S.$$arity=1);b.def(k,"$delete_at",qa=function(a){a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return u;var b=this[a];this.splice(a,1);return b},qa.$$arity=1);b.def(k,"$delete_if",Ca=function(){var a=Ca.$$p,b=a||u,c;a&&(Ca.$$p=null);a&&(Ca.$$p=null);if(b===u)return p(this,"enum_for",["delete_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var a=0,d=this.length,e;a<d;a++)e=
b(this[a]),!1!==e&&e!==u&&(this.splice(a,1),d--,a--);return this},Ca.$$arity=0);b.def(k,"$dig",U=function(a,c){var d,e=u;d=b.slice.call(arguments,1,arguments.length);e=this["$[]"](a);if(e===u||0===d.length)return e;v(e["$respond_to?"]("dig"))||this.$raise(g(m,"TypeError"),""+e.$class()+" does not have #dig method");return p(e,"dig",b.to_a(d))},U.$$arity=-2);b.def(k,"$drop",la=function(a){0>a&&this.$raise(g(m,"ArgumentError"));return this.slice(a)},la.$$arity=1);b.def(k,"$dup",ga=function(){var a=
ga.$$p,c=u,d=u,e=u;a&&(ga.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return this.$$class===b.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):p(this,b.find_super_dispatcher(this,"dup",ga,!1),c,a)},ga.$$arity=0);b.def(k,"$each",ca=function(){var a=ca.$$p,c=a||u,d;a&&(ca.$$p=null);a&&(ca.$$p=null);if(c===u)return p(this,"enum_for",["each"],(d=function(){return(d.$$s||this).$size()},d.$$s=
this,d.$$arity=0,d));for(var a=0,e=this.length;a<e;a++)b.yield1(c,this[a]);return this},ca.$$arity=0);b.def(k,"$each_index",Da=function(){var a=Da.$$p,c=a||u,d;a&&(Da.$$p=null);a&&(Da.$$p=null);if(c===u)return p(this,"enum_for",["each_index"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=0,e=this.length;a<e;a++)b.yield1(c,a);return this},Da.$$arity=0);b.def(k,"$empty?",ea=function(){return 0===this.length},ea.$$arity=0);b.def(k,"$eql?",Fa=function(a){function b(a,
d){var e,f,h,l;if(!d.$$is_array)return!1;d=d.$to_a();if(a.length!==d.length)return!1;c[a.$object_id()]=!0;e=0;for(f=a.length;e<f;e++)if(h=a[e],l=d[e],h.$$is_array){if(l.$$is_array&&l.length!==h.length||!c.hasOwnProperty(h.$object_id())&&!b(h,l))return!1}else if(!h["$eql?"](l))return!1;return!0}var c={};return b(this,a)},Fa.$$arity=1);b.def(k,"$fetch",da=function(a,b){var c=da.$$p,d=c||u;c&&(da.$$p=null);c&&(da.$$p=null);c=a;a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");0>a&&(a+=this.length);
if(0<=a&&a<this.length)return this[a];d!==u&&null!=b&&this.$warn("warning: block supersedes default value argument");if(d!==u)return d(c);if(null!=b)return b;0===this.length?this.$raise(g(m,"IndexError"),"index "+c+" outside of array bounds: 0...0"):this.$raise(g(m,"IndexError"),"index "+c+" outside of array bounds: -"+this.length+"..."+this.length)},da.$$arity=-2);b.def(k,"$fill",na=function(a){var c=na.$$p,d=c||u,e,f,h,l=f=e=u;f=h=u;c&&(na.$$p=null);c&&(na.$$p=null);e=b.slice.call(arguments,0,arguments.length);
v(d)?(v(2<e.length)&&this.$raise(g(m,"ArgumentError"),"wrong number of arguments ("+e.$length()+" for 0..2)"),h=e,f=b.to_ary(h),e=null==f[0]?u:f[0],f=null==f[1]?u:f[1]):(v(0==e.length)?this.$raise(g(m,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):v(3<e.length)&&this.$raise(g(m,"ArgumentError"),"wrong number of arguments ("+e.$length()+" for 1..3)"),h=e,f=b.to_ary(h),l=null==f[0]?u:f[0],e=null==f[1]?u:f[1],f=null==f[2]?u:f[2]);h;if(v(g(m,"Range")["$==="](e))){if(v(f)&&this.$raise(g(m,
"TypeError"),"length invalid with range"),h=g(m,"Opal").$coerce_to(e.$begin(),g(m,"Integer"),"to_int"),v(0>h)&&(h+=this.length),v(0>h)&&this.$raise(g(m,"RangeError"),""+e.$inspect()+" out of range"),f=g(m,"Opal").$coerce_to(e.$end(),g(m,"Integer"),"to_int"),v(0>f)&&(f+=this.length),v(e["$exclude_end?"]())||(f+=1),v(f<=h))return this}else if(v(e))if(h=g(m,"Opal").$coerce_to(e,g(m,"Integer"),"to_int"),v(0>h)&&(h+=this.length),v(0>h)&&(h=0),v(f)){f=g(m,"Opal").$coerce_to(f,g(m,"Integer"),"to_int");if(v(0==
f))return this;f+=h}else f=this.length;else h=0,f=this.length;if(v(h>this.length))for(e=this.length;e<f;e++)this[e]=u;v(f>this.length)&&(this.length=f);if(v(d))for(;h<f;h++)l=d(h),this[h]=l;else for(;h<f;h++)this[h]=l;return this},na.$$arity=-1);b.def(k,"$first",ra=function(a){if(null==a)return 0===this.length?u:this[0];a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");0>a&&this.$raise(g(m,"ArgumentError"),"negative array size");return this.slice(0,a)},ra.$$arity=-1);b.def(k,"$flatten",K=function(a){function b(a,
d){var e=[],f,h,l,k;a=a.$to_a();f=0;for(h=a.length;f<h;f++)if(l=a[f],g(m,"Opal")["$respond_to?"](l,"to_ary",!0))if(k=l.$to_ary(),k===u)e.push(l);else switch(k.$$is_array||c.$raise(g(m,"TypeError")),k===c&&c.$raise(g(m,"ArgumentError")),d){case void 0:e=e.concat(b(k));break;case 0:e.push(k);break;default:e.push.apply(e,b(k,d-1))}else e.push(l);return e}var c=this;void 0!==a&&(a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int"));return d(b(c,a),c.$class())},K.$$arity=-1);b.def(k,"$flatten!",sa=function(a){a=
this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<c&&this[b]===a[b];b++);if(b==c)return u}this.$replace(a);return this},sa.$$arity=-1);b.def(k,"$hash",Ga=function(){var a=void 0===b.hash_ids,c=["A"],d=this.$object_id(),e,f,h;try{a&&(b.hash_ids=Object.create(null));if(b.hash_ids[d])return"self";for(h in b.hash_ids)if(e=b.hash_ids[h],this["$eql?"](e))return"self";b.hash_ids[d]=this;for(f=0;f<this.length;f++)e=this[f],c.push(e.$hash());return c.join(",")}finally{a&&(b.hash_ids=void 0)}},
Ga.$$arity=0);b.def(k,"$include?",ua=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},ua.$$arity=1);b.def(k,"$index",oa=function(a){var b=oa.$$p,c=b||u;b&&(oa.$$p=null);b&&(oa.$$p=null);var d;null!=a&&c!==u&&this.$warn("warning: given block not used");if(null!=a)for(b=0,d=this.length;b<d;b++){if(this[b]["$=="](a))return b}else if(c!==u)for(b=0,d=this.length;b<d;b++){if(a=c(this[b]),!1!==a&&a!==u)return b}else return this.$enum_for("index");return u},oa.$$arity=
-1);b.def(k,"$insert",Ja=function(a,c){var d;d=b.slice.call(arguments,1,arguments.length);a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");if(0<d.length){0>a&&(a+=this.length+1,0>a&&this.$raise(g(m,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(var e=this.length;e<a;e++)this.push(u);this.splice.apply(this,[a,0].concat(d))}return this},Ja.$$arity=-2);b.def(k,"$inspect",Ra=function(){for(var a=[],b=this.$__id__(),c=0,d=this.length;c<d;c++){var e=this["$[]"](c);e.$__id__()===b?a.push("[...]"):
a.push(e.$inspect())}return"["+a.join(", ")+"]"},Ra.$$arity=0);b.def(k,"$join",Q=function(a){null==x[","]&&(x[","]=u);null==a&&(a=u);if(v(0===this.length))return"";v(a===u)&&(a=x[","]);var c=[],d,e,f,h;d=0;for(e=this.length;d<e;d++){f=this[d];if(g(m,"Opal")["$respond_to?"](f,"to_str")&&(h=f.$to_str(),h!==u)){c.push(h.$to_s());continue}if(g(m,"Opal")["$respond_to?"](f,"to_ary")&&(h=f.$to_ary(),h===this&&this.$raise(g(m,"ArgumentError")),h!==u)){c.push(h.$join(a));continue}if(g(m,"Opal")["$respond_to?"](f,
"to_s")&&(h=f.$to_s(),h!==u)){c.push(h);continue}this.$raise(g(m,"NoMethodError").$new(""+b.inspect(f)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===u?c.join(""):c.join(g(m,"Opal")["$coerce_to!"](a,g(m,"String"),"to_str").$to_s())},Q.$$arity=-1);b.def(k,"$keep_if",Ha=function(){var a=Ha.$$p,b=a||u,c;a&&(Ha.$$p=null);a&&(Ha.$$p=null);if(b===u)return p(this,"enum_for",["keep_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var a=0,d=this.length,
e;a<d;a++)if(e=b(this[a]),!1===e||e===u)this.splice(a,1),d--,a--;return this},Ha.$$arity=0);b.def(k,"$last",xa=function(a){if(null==a)return 0===this.length?u:this[this.length-1];a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");0>a&&this.$raise(g(m,"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},xa.$$arity=-1);b.def(k,"$length",Aa=function(){return this.length},Aa.$$arity=0);b.alias(k,"map","collect");b.alias(k,"map!","collect!");
b.def(k,"$max",Ea=function(a){var b=Ea.$$p,c=b||u;b&&(Ea.$$p=null);b&&(Ea.$$p=null);return p(this.$each(),"max",[a],c.$to_proc())},Ea.$$arity=-1);b.def(k,"$min",wa=function(){var a=wa.$$p,b=a||u;a&&(wa.$$p=null);a&&(wa.$$p=null);return p(this.$each(),"min",[],b.$to_proc())},wa.$$arity=0);b.def(k,"$permutation",za=function(a){var c=za.$$p,d=c||u,e,f=this,h=u,l=u;c&&(za.$$p=null);c&&(za.$$p=null);if(d===u)return p(f,"enum_for",["permutation",a],(e=function(){for(var b=e.$$s||this,c=b.length,b=void 0===
a?b.length:a,d=0<=b?1:0;b;)d*=c,c--,b--;return d},e.$$s=f,e.$$arity=0,e));var k,n;a=void 0===a?f.length:g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");if(!(0>a||f.length<a))if(0===a)b.yield1(d,[]);else if(1===a)for(h=0;h<f.length;h++)b.yield1(d,[f[h]]);else h=g(m,"Array").$new(a),l=g(m,"Array").$new(f.length,!1),k=function(a,c,d,e,h){f=this;for(var l=0;l<f.length;l++)if(e["$[]"](l)["$!"]())if(c[d]=l,d<a-1)e[l]=!0,k.call(f,a,c,d+1,e,h),e[l]=!1;else{n=[];for(var w=0;w<c.length;w++)n.push(f[c[w]]);
b.yield1(h,n)}},d!==u?(c=f.slice(),k.call(c,a,h,0,l,d)):k.call(f,a,h,0,l,d);return f},za.$$arity=-1);b.def(k,"$repeated_permutation",Ia=function(a){function c(a,d,e){if(d.length==a)a=d.slice(),b.yield1(f,a);else for(var h=0;h<e.length;h++)d.push(e[h]),c(a,d,e),d.pop()}var d,e=Ia.$$p,f=e||u,h=u;e&&(Ia.$$p=null);h=g(m,"Opal")["$coerce_to!"](a,g(m,"Integer"),"to_int");if(f===u)return p(this,"enum_for",["repeated_permutation",h],(d=function(){var a=d.$$s||this;return v("number"===typeof h?0<=h:h["$>="](0))?
a.$size()["$**"](h):0},d.$$s=this,d.$$arity=0,d));c(h,[],this.slice());return this},Ia.$$arity=1);b.def(k,"$pop",Oa=function(a){if(v(void 0===a))return v(0===this.length)?u:this.pop();a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");v(0>a)&&this.$raise(g(m,"ArgumentError"),"negative array size");return v(0===this.length)?[]:v(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},Oa.$$arity=-1);b.def(k,"$product",Ma=function(a){var c=Ma.$$p,d=c||u,e;c&&(Ma.$$p=null);
c&&(Ma.$$p=null);e=b.slice.call(arguments,0,arguments.length);var c=d!==u?null:[],f=e.length+1,h=Array(f),l=Array(f),k=Array(f),n,w;w=1;k[0]=this;for(n=1;n<f;n++)k[n]=g(m,"Opal").$coerce_to(e[n-1],g(m,"Array"),"to_ary");for(n=0;n<f;n++){e=k[n].length;if(0===e)return c||this;w*=e;2147483647<w&&this.$raise(g(m,"RangeError"),"too big to product");l[n]=e;h[n]=0}a:for(;;){w=[];for(n=0;n<f;n++)w.push(k[n][h[n]]);c?c.push(w):b.yield1(d,w);n=f-1;for(h[n]++;h[n]===l[n];){h[n]=0;if(0>--n)break a;h[n]++}}return c||
this},Ma.$$arity=-1);b.def(k,"$push",Pa=function(a){var c;c=b.slice.call(arguments,0,arguments.length);for(var d=0,e=c.length;d<e;d++)this.push(c[d]);return this},Pa.$$arity=-1);b.alias(k,"append","push");b.def(k,"$rassoc",Na=function(a){for(var c=0,b=this.length,d;c<b;c++)if(d=this[c],d.length&&void 0!==d[1]&&d[1]["$=="](a))return d;return u},Na.$$arity=1);b.def(k,"$reject",Sa=function(){var a=Sa.$$p,c=a||u,b;a&&(Sa.$$p=null);a&&(Sa.$$p=null);if(c===u)return p(this,"enum_for",["reject"],(b=function(){return(b.$$s||
this).$size()},b.$$s=this,b.$$arity=0,b));for(var a=[],d=0,e=this.length,f;d<e;d++)f=c(this[d]),!1!==f&&f!==u||a.push(this[d]);return a},Sa.$$arity=0);b.def(k,"$reject!",Ta=function(){var a=Ta.$$p,c=a||u,b,d=u;a&&(Ta.$$p=null);a&&(Ta.$$p=null);if(c===u)return p(this,"enum_for",["reject!"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));d=this.$length();p(this,"delete_if",[],c.$to_proc());return this.$length()["$=="](d)?u:this},Ta.$$arity=0);b.def(k,"$replace",Ua=function(a){a=
v(g(m,"Array")["$==="](a))?a.$to_a():g(m,"Opal").$coerce_to(a,g(m,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},Ua.$$arity=1);b.def(k,"$reverse",H=function(){return this.slice(0).reverse()},H.$$arity=0);b.def(k,"$reverse!",Y=function(){return this.reverse()},Y.$$arity=0);b.def(k,"$reverse_each",Ka=function(){var a=Ka.$$p,c=a||u,b;a&&(Ka.$$p=null);a&&(Ka.$$p=null);if(c===u)return p(this,"enum_for",["reverse_each"],(b=function(){return(b.$$s||this).$size()},
b.$$s=this,b.$$arity=0,b));p(this.$reverse(),"each",[],c.$to_proc());return this},Ka.$$arity=0);b.def(k,"$rindex",Z=function(a){var b=Z.$$p,c=b||u;b&&(Z.$$p=null);b&&(Z.$$p=null);null!=a&&c!==u&&this.$warn("warning: given block not used");if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==u)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),!1!==a&&a!==u)return b}else if(null==a)return this.$enum_for("rindex");return u},Z.$$arity=-1);
b.def(k,"$rotate",Va=function(a){null==a&&(a=1);a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");var b,c;if(1===this.length)return this.slice();if(0===this.length)return[];b=this.slice();c=a%b.length;a=b.slice(c);b=b.slice(0,c);return a.concat(b)},Va.$$arity=-1);b.def(k,"$rotate!",M=function(a){var b=u;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");b=this.$rotate(a);return this.$replace(b)},M.$$arity=-1);(function(a,$super,c){function d(){}
a=d=B(a,$super,"SampleRandom",d);var e=a.prototype,f=[a].concat(c),h,l;e.rng=u;b.def(a,"$initialize",h=function(a){return this.rng=a},h.$$arity=1);return(b.def(a,"$rand",l=function(a){var b=u,b=g(f,"Opal").$coerce_to(this.rng.$rand(a),g(f,"Integer"),"to_int");v(0>b)&&this.$raise(g(f,"RangeError"),"random value must be >= 0");v(b<a)||this.$raise(g(f,"RangeError"),"random value must be less than Array size");return b},l.$$arity=1),u)&&"rand"})(m[0],null,m);b.def(k,"$sample",Qa=function(a,b){var c,d=
u,e=u;if(v(void 0===a))return this.$at(g(m,"Kernel").$rand(this.length));v(void 0===b)?v(d=g(m,"Opal")["$coerce_to?"](a,g(m,"Hash"),"to_hash"))?(b=d,a=u):(b=u,a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int")):(a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int"),b=g(m,"Opal").$coerce_to(b,g(m,"Hash"),"to_hash"));v(v(c=a)?0>a:c)&&this.$raise(g(m,"ArgumentError"),"count must be greater than 0");v(b)&&(e=b["$[]"]("random"));e=v(v(c=e)?e["$respond_to?"]("rand"):c)?g(m,"SampleRandom").$new(e):g(m,"Kernel");
if(!v(a))return this[e.$rand(this.length)];var f,h,l,k;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[e.$rand(this.length)]];case 2:return h=e.$rand(this.length),l=e.$rand(this.length),h===l&&(l=0===h?h+1:h-1),[this[h],this[l]];default:if(3<this.length/a){d=!1;f=0;c=g(m,"Array").$new(a);h=1;for(c[0]=e.$rand(this.length);h<a;){k=e.$rand(this.length);for(l=0;l<h;){for(;k===c[l];){f++;if(100<f){d=!0;break}k=e.$rand(this.length)}if(d)break;l++}if(d)break;c[h]=k;h++}if(!d){for(h=
0;h<a;)c[h]=this[c[h]],h++;return c}}c=this.slice();for(h=0;h<a;h++)d=e.$rand(this.length),f=c[h],c[h]=c[d],c[d]=f;return a===this.length?c:c["$[]"](0,a)}},Qa.$$arity=-1);b.def(k,"$select",Ba=function(){var a=Ba.$$p,c=a||u,d;a&&(Ba.$$p=null);a&&(Ba.$$p=null);if(c===u)return p(this,"enum_for",["select"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=[],e=0,f=this.length,h,l;e<f;e++)h=this[e],l=b.yield1(c,h),!1!==l&&l!==u&&a.push(h);return a},Ba.$$arity=0);b.def(k,"$select!",
La=function(){var a=La.$$p,b=a||u,c;a&&(La.$$p=null);a&&(La.$$p=null);if(b===u)return p(this,"enum_for",["select!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=this.length;p(this,"keep_if",[],b.$to_proc());return this.length===a?u:this},La.$$arity=0);b.def(k,"$shift",I=function(a){if(v(void 0===a))return v(0===this.length)?u:this.shift();a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");v(0>a)&&this.$raise(g(m,"ArgumentError"),"negative array size");return v(0===this.length)?
[]:this.splice(0,a)},I.$$arity=-1);b.alias(k,"size","length");b.def(k,"$shuffle",jb=function(a){return this.$dup().$to_a()["$shuffle!"](a)},jb.$$arity=-1);b.def(k,"$shuffle!",kb=function(a){var b,c=this.length,d;void 0!==a&&(a=g(m,"Opal")["$coerce_to?"](a,g(m,"Hash"),"to_hash"),a!==u&&(a=a["$[]"]("random"),a!==u&&a["$respond_to?"]("rand")&&(b=a)));for(;c;)b?(a=b.$rand(c).$to_int(),0>a&&this.$raise(g(m,"RangeError"),"random number too small "+a),a>=c&&this.$raise(g(m,"RangeError"),"random number too big "+
a)):a=this.$rand(c),d=this[--c],this[c]=this[a],this[a]=d;return this},kb.$$arity=-1);b.alias(k,"slice","[]");b.def(k,"$slice!",ib=function(a,b){var c=u,d=u,e=u,f=u,d=u;if(v(void 0===b))if(v(g(m,"Range")["$==="](a))){d=a;c=this["$[]"](d);e=g(m,"Opal").$coerce_to(d.$begin(),g(m,"Integer"),"to_int");f=g(m,"Opal").$coerce_to(d.$end(),g(m,"Integer"),"to_int");0>e&&(e+=this.length);0>f?f+=this.length:f>=this.length&&(f=this.length-1,d.excl&&(f+=1));var h=f-e;d.excl?--f:h+=1;e<this.length&&0<=e&&f<this.length&&
0<=f&&0<h&&this.splice(e,h)}else{d=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");0>d&&(d+=this.length);if(0>d||d>=this.length)return u;c=this[d];0===d?this.shift():this.splice(d,1)}else{d=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");b=g(m,"Opal").$coerce_to(b,g(m,"Integer"),"to_int");if(0>b)return u;c=this["$[]"](d,b);0>d&&(d+=this.length);d+b>this.length&&(b=this.length-d);d<this.length&&0<=d&&this.splice(d,b)}return c},ib.$$arity=-2);b.def(k,"$sort",Ya=function(){var a=Ya.$$p,b=a||u,c=
this;a&&(Ya.$$p=null);a&&(Ya.$$p=null);if(!v(1<c.length))return c;b===u&&(b=function(a,b){return a["$<=>"](b)});return c.slice().sort(function(a,d){var e=b(a,d);e===u&&c.$raise(g(m,"ArgumentError"),"comparison of "+a.$inspect()+" with "+d.$inspect()+" failed");return q(e,0)?1:("number"===typeof e?0>e:e["$<"](0))?-1:0})},Ya.$$arity=0);b.def(k,"$sort!",Za=function(){var a=Za.$$p,b=a||u;a&&(Za.$$p=null);a&&(Za.$$p=null);for(var a=b!==u?p(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort(),b=this.length=
0,c=a.length;b<c;b++)this.push(a[b]);return this},Za.$$arity=0);b.def(k,"$sort_by!",ab=function(){var a=ab.$$p,b=a||u,c;a&&(ab.$$p=null);a&&(ab.$$p=null);return b===u?p(this,"enum_for",["sort_by!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c)):this.$replace(p(this,"sort_by",[],b.$to_proc()))},ab.$$arity=0);b.def(k,"$take",lb=function(a){0>a&&this.$raise(g(m,"ArgumentError"));return this.slice(0,a)},lb.$$arity=1);b.def(k,"$take_while",bb=function(){var a=bb.$$p,b=a||u;a&&(bb.$$p=
null);a&&(bb.$$p=null);for(var a=[],c=0,d=this.length,e,f;c<d;c++){e=this[c];f=b(e);if(!1===f||f===u)break;a.push(e)}return a},bb.$$arity=0);b.def(k,"$to_a",mb=function(){return this},mb.$$arity=0);b.alias(k,"to_ary","to_a");b.def(k,"$to_h",nb=function(){var a,c=this.length,d,e,f=t([],{});for(a=0;a<c;a++)d=g(m,"Opal")["$coerce_to?"](this[a],g(m,"Array"),"to_ary"),d.$$is_array||this.$raise(g(m,"TypeError"),"wrong element type "+d.$class()+" at "+a+" (expected array)"),2!==d.length&&this.$raise(g(m,
"ArgumentError"),"wrong array length at "+a+" (expected 2, was "+d.$length()+")"),e=d[0],d=d[1],b.hash_put(f,e,d);return f},nb.$$arity=0);b.alias(k,"to_s","inspect");b.def(k,"$transpose",ob=function(){var a,c=u,d=u;if(v(this["$empty?"]()))return[];c=[];d=u;p(this,"each",[],(a=function(e){var f=a.$$s||this,h,l;null==e&&(e=u);e=v(g(m,"Array")["$==="](e))?e.$to_a():g(m,"Opal").$coerce_to(e,g(m,"Array"),"to_ary").$to_a();d=v(h=d)?h:e.length;v(e.length["$!="](d))&&f.$raise(g(m,"IndexError"),"element size differs ("+
e.length+" should be "+d+")");return p(e.length,"times",[],(l=function(a){var d,f=u;null==a&&(a=u);v(d=c["$[]"](a))||(f=[a,[]],p(c,"[]=",b.to_a(f)),d=f,f=f.length,f="number"===typeof f?f-1:f["$-"](1),d=d[f]);return d["$<<"](e.$at(a))},l.$$s=f,l.$$arity=1,l))},a.$$s=this,a.$$arity=1,a));return c},ob.$$arity=0);b.def(k,"$uniq",cb=function(){var a=cb.$$p,c=a||u;a&&(cb.$$p=null);a&&(cb.$$p=null);var a=t([],{}),e,f,h,l;if(c===u)for(e=0,f=this.length;e<f;e++)h=this[e],void 0===b.hash_get(a,h)&&b.hash_put(a,
h,h);else for(e=0,f=this.length;e<f;e++)h=this[e],l=b.yield1(c,h),void 0===b.hash_get(a,l)&&b.hash_put(a,l,h);return d(a.$values(),this.$class())},cb.$$arity=0);b.def(k,"$uniq!",db=function(){var a=db.$$p,c=a||u;a&&(db.$$p=null);a&&(db.$$p=null);var a=this.length,d=t([],{}),e,f,h,l;e=0;for(f=a;e<f;e++)h=this[e],l=c===u?h:b.yield1(c,h),void 0===b.hash_get(d,l)?b.hash_put(d,l,h):(this.splice(e,1),f--,e--);return this.length===a?u:this},db.$$arity=0);b.def(k,"$unshift",gb=function(a){var c;c=b.slice.call(arguments,
0,arguments.length);for(var d=c.length-1;0<=d;d--)this.unshift(c[d]);return this},gb.$$arity=-1);b.alias(k,"prepend","unshift");b.def(k,"$values_at",fb=function(a){var c,d,e=u;c=b.slice.call(arguments,0,arguments.length);e=[];p(c,"each",[],(d=function(a){var c=d.$$s||this,b,f=u,h=u,f=u;null==a&&(a=u);if(v(a["$is_a?"](g(m,"Range")))){f=g(m,"Opal").$coerce_to(a.$last(),g(m,"Integer"),"to_int");h=g(m,"Opal").$coerce_to(a.$first(),g(m,"Integer"),"to_int");if(0>h)return h+=c.length,u;0>f&&(f+=c.length);
a["$exclude_end?"]()&&f--;return f<h?u:p(h,"upto",[f],(b=function(a){var c=b.$$s||this;null==a&&(a=u);return e["$<<"](c.$at(a))},b.$$s=c,b.$$arity=1,b))}f=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");return e["$<<"](c.$at(f))},d.$$s=this,d.$$arity=1,d));return e},fb.$$arity=-1);b.def(k,"$zip",Xa=function(a){var c=Xa.$$p,d=c||u,e;c&&(Xa.$$p=null);c&&(Xa.$$p=null);var c=b.slice.call(arguments,0,arguments.length),f=[],h=this.length,l,k,n,w;n=0;for(w=c.length;n<w;n++)l=c[n],l.$$is_array||(l.$$is_enumerator?
Infinity===l.$size()?c[n]=l.$take(h):c[n]=l.$to_a():c[n]=(v(e=g(m,"Opal")["$coerce_to?"](l,g(m,"Array"),"to_ary"))?e:g(m,"Opal")["$coerce_to!"](l,g(m,"Enumerator"),"each")).$to_a());for(k=0;k<h;k++){e=[this[k]];n=0;for(w=c.length;n<w;n++)l=c[n][k],null==l&&(l=u),e[n+1]=l;f[k]=e}if(d!==u){for(k=0;k<h;k++)d(f[k]);return u}return f},Xa.$$arity=-1);b.defs(k,"$inherited",eb=function(a){a.prototype.$to_a=function(){return this.slice(0,this.length)}},eb.$$arity=1);b.def(k,"$instance_variables",Wa=function(){var a,
c=Wa.$$p,d=u,e=u,f=u;c&&(Wa.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return p(p(this,b.find_super_dispatcher(this,"instance_variables",Wa,!1),d,c),"reject",[],(a=function(a){var c;null==a&&(a=u);return v(c=/^@\d+$/.test(a))?c:a["$=="]("@length")},a.$$s=this,a.$$arity=1,a))},Wa.$$arity=0);g(m,"Opal").$pristine(k.$singleton_class(),"allocate");g(m,"Opal").$pristine(k,"copy_instance_variables","initialize_dup");return(b.def(k,"$pack",hb=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},hb.$$arity=-1),u)&&"pack"}(y[0],Array,y)},Opal.modules["corelib/hash"]=function(b){function q(b,g){return"number"===typeof b&&"number"===typeof g?b>=g:b["$>="](g)}var F=b.top,y=[],u=b.nil,r=b.const_get_relative,g=b.klass,B=b.send,v=b.hash2,t=b.truthy;b.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" "));
F.$require("corelib/enumerable");return function(p,$super,y){function L(){}p=L=g(p,$super,"Hash",L);var F=p.prototype,a=[p].concat(y),d,w,A,z,k,m,c,f,l,O,T,n,e,h,E,ya,pa,ia,G,aa,fa,ta,ma,ja,C,D,X,ha,va,V,ka,N,W,R,ba,S,qa,Ca,U,la,ga,ca,Da,ea,Fa,da,na,ra,K,sa,Ga,ua,oa,Ja,Ra,Q,Ha,xa,Aa,Ea,wa,za;p.$include(r(a,"Enumerable"));F.$$is_hash=!0;b.defs(p,"$[]",d=function(c){var d;d=b.slice.call(arguments,0,arguments.length);var e,f=d.length,h;if(1===f){e=r(a,"Opal")["$coerce_to?"](d["$[]"](0),r(a,"Hash"),"to_hash");
if(e!==u)return this.$allocate()["$merge!"](e);d=r(a,"Opal")["$coerce_to?"](d["$[]"](0),r(a,"Array"),"to_ary");d===u&&this.$raise(r(a,"ArgumentError"),"odd number of arguments for Hash");f=d.length;e=this.$allocate();for(h=0;h<f;h++)if(d[h].$$is_array)switch(d[h].length){case 1:e.$store(d[h][0],u);break;case 2:e.$store(d[h][0],d[h][1]);break;default:this.$raise(r(a,"ArgumentError"),"invalid number of elements ("+d[h].length+" for 1..2)")}return e}0!==f%2&&this.$raise(r(a,"ArgumentError"),"odd number of arguments for Hash");
e=this.$allocate();for(h=0;h<f;h+=2)e.$store(d[h],d[h+1]);return e},d.$$arity=-1);b.defs(p,"$allocate",w=function(){var a=new this;b.hash_init(a);a.$$none=u;a.$$proc=u;return a},w.$$arity=0);b.defs(p,"$try_convert",A=function(c){return r(a,"Opal")["$coerce_to?"](c,r(a,"Hash"),"to_hash")},A.$$arity=1);b.def(p,"$initialize",z=function(c){var b=z.$$p,d=b||u;b&&(z.$$p=null);b&&(z.$$p=null);void 0!==c&&d!==u&&this.$raise(r(a,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===
c?u:c;this.$$proc=d;return this},z.$$arity=-1);b.def(p,"$==",k=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var c=0,d=this.$$keys,e=d.length,f,h;c<e;c++)if(f=d[c],f.$$is_string?(h=this.$$smap[f],f=a.$$smap[f]):(h=f.value,f=b.hash_get(a,f.key)),void 0===f||!h["$eql?"](f))return!1;return!0},k.$$arity=1);b.def(p,"$>=",m=function(c){var b,d=u;c=r(a,"Opal")["$coerce_to!"](c,r(a,"Hash"),"to_hash");if(this.$$keys.length<c.$$keys.length)return!1;d=!0;
B(c,"each",[],(b=function(a,c){var e=b.$$s||this,f=u;null==a&&(a=u);null==c&&(c=u);f=e.$fetch(a,null);if(null==f||f!==c)d=!1},b.$$s=this,b.$$arity=2,b));return d},m.$$arity=1);b.def(p,"$>",c=function(c){c=r(a,"Opal")["$coerce_to!"](c,r(a,"Hash"),"to_hash");return this.$$keys.length<=c.$$keys.length?!1:q(this,c)},c.$$arity=1);b.def(p,"$<",f=function(c){c=r(a,"Opal")["$coerce_to!"](c,r(a,"Hash"),"to_hash");return"number"===typeof c&&"number"===typeof this?c>this:c["$>"](this)},f.$$arity=1);b.def(p,
"$<=",l=function(c){c=r(a,"Opal")["$coerce_to!"](c,r(a,"Hash"),"to_hash");return q(c,this)},l.$$arity=1);b.def(p,"$[]",O=function(a){var c=b.hash_get(this,a);return void 0!==c?c:this.$default(a)},O.$$arity=1);b.def(p,"$[]=",T=function(a,c){b.hash_put(this,a,c);return c},T.$$arity=2);b.def(p,"$assoc",n=function(a){for(var c=0,b=this.$$keys,d=b.length,e;c<d;c++)if(e=b[c],e.$$is_string){if(e["$=="](a))return[e,this.$$smap[e]]}else if(e.key["$=="](a))return[e.key,e.value];return u},n.$$arity=1);b.def(p,
"$clear",e=function(){b.hash_init(this);return this},e.$$arity=0);b.def(p,"$clone",h=function(){var a=new this.$$class;b.hash_init(a);b.hash_clone(this,a);return a},h.$$arity=0);b.def(p,"$compact",E=function(){for(var a=b.hash(),c=0,d=this.$$keys,e=d.length,f,h;c<e;c++)f=d[c],f.$$is_string?h=this.$$smap[f]:(h=f.value,f=f.key),h!==u&&b.hash_put(a,f,h);return a},E.$$arity=0);b.def(p,"$compact!",ya=function(){for(var a=!1,c=0,d=this.$$keys,e=d.length,f,h;c<e;c++)f=d[c],f.$$is_string?h=this.$$smap[f]:
(h=f.value,f=f.key),h===u&&void 0!==b.hash_delete(this,f)&&(a=!0,e--,c--);return a?this:u},ya.$$arity=0);b.def(p,"$compare_by_identity",pa=function(){var a,c,d,e=this.$$keys,f;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;f=v([],{}).$compare_by_identity();a=0;for(c=e.length;a<c;a++)d=e[a],d.$$is_string||(d=d.key),b.hash_put(f,d,b.hash_get(this,d));this.$$by_identity=!0;this.$$map=f.$$map;this.$$smap=f.$$smap;return this},pa.$$arity=0);b.def(p,"$compare_by_identity?",
ia=function(){return!0===this.$$by_identity},ia.$$arity=0);b.def(p,"$default",G=function(a){return void 0!==a&&this.$$proc!==u&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?u:this.$$none},G.$$arity=-1);b.def(p,"$default=",aa=function(a){this.$$proc=u;return this.$$none=a},aa.$$arity=1);b.def(p,"$default_proc",fa=function(){return void 0!==this.$$proc?this.$$proc:u},fa.$$arity=0);b.def(p,"$default_proc=",ta=function(c){var b=c;b!==u&&(b=r(a,"Opal")["$coerce_to!"](b,r(a,"Proc"),
"to_proc"),b["$lambda?"]()&&2!==b.$arity().$abs()&&this.$raise(r(a,"TypeError"),"default_proc takes two arguments"));this.$$none=u;this.$$proc=b;return c},ta.$$arity=1);b.def(p,"$delete",ma=function(a){var c=ma.$$p,d=c||u;c&&(ma.$$p=null);c&&(ma.$$p=null);c=b.hash_delete(this,a);return void 0!==c?c:d!==u?b.yield1(d,a):u},ma.$$arity=1);b.def(p,"$delete_if",ja=function(){var a=ja.$$p,c=a||u,d;a&&(ja.$$p=null);a&&(ja.$$p=null);if(!t(c))return B(this,"enum_for",["delete_if"],(d=function(){return(d.$$s||
this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=0,e=this.$$keys,f=e.length,h,l;a<f;a++)h=e[a],h.$$is_string?l=this.$$smap[h]:(l=h.value,h=h.key),l=c(h,l),!1!==l&&l!==u&&void 0!==b.hash_delete(this,h)&&(f--,a--);return this},ja.$$arity=0);b.alias(p,"dup","clone");b.def(p,"$dig",C=function(c,d){var e,f=u;e=b.slice.call(arguments,1,arguments.length);f=this["$[]"](c);if(f===u||0===e.length)return f;t(f["$respond_to?"]("dig"))||this.$raise(r(a,"TypeError"),""+f.$class()+" does not have #dig method");
return B(f,"dig",b.to_a(e))},C.$$arity=-2);b.def(p,"$each",D=function(){var a=D.$$p,c=a||u,d;a&&(D.$$p=null);a&&(D.$$p=null);if(!t(c))return B(this,"enum_for",["each"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=0,e=this.$$keys,f=e.length,h,l;a<f;a++)h=e[a],h.$$is_string?l=this.$$smap[h]:(l=h.value,h=h.key),b.yield1(c,[h,l]);return this},D.$$arity=0);b.def(p,"$each_key",X=function(){var a=X.$$p,c=a||u,b;a&&(X.$$p=null);a&&(X.$$p=null);if(!t(c))return B(this,"enum_for",
["each_key"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var a=0,d=this.$$keys,e=d.length,f;a<e;a++)f=d[a],c(f.$$is_string?f:f.key);return this},X.$$arity=0);b.alias(p,"each_pair","each");b.def(p,"$each_value",ha=function(){var a=ha.$$p,c=a||u,b;a&&(ha.$$p=null);a&&(ha.$$p=null);if(!t(c))return B(this,"enum_for",["each_value"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var a=0,d=this.$$keys,e=d.length,f;a<e;a++)f=d[a],c(f.$$is_string?this.$$smap[f]:
f.value);return this},ha.$$arity=0);b.def(p,"$empty?",va=function(){return 0===this.$$keys.length},va.$$arity=0);b.alias(p,"eql?","==");b.def(p,"$fetch",V=function(c,d){var e=V.$$p,f=e||u;e&&(V.$$p=null);e&&(V.$$p=null);e=b.hash_get(this,c);return void 0!==e?e:f!==u?f(c):void 0!==d?d:this.$raise(r(a,"KeyError").$new("key not found: "+c.$inspect(),v(["key","receiver"],{key:c,receiver:this})))},V.$$arity=-2);b.def(p,"$fetch_values",ka=function(a){var c=ka.$$p,d=c||u,e;c&&(ka.$$p=null);c&&(ka.$$p=null);
c=b.slice.call(arguments,0,arguments.length);return B(c,"map",[],(e=function(a){var c=e.$$s||this;null==a&&(a=u);return B(c,"fetch",[a],d.$to_proc())},e.$$s=this,e.$$arity=1,e))},ka.$$arity=-1);b.def(p,"$flatten",N=function(c){null==c&&(c=1);c=r(a,"Opal")["$coerce_to!"](c,r(a,"Integer"),"to_int");for(var b=[],d=0,e=this.$$keys,f=e.length,h,l;d<f;d++)h=e[d],h.$$is_string?l=this.$$smap[h]:(l=h.value,h=h.key),b.push(h),l.$$is_array?1===c?b.push(l):b=b.concat(l.$flatten(c-2)):b.push(l);return b},N.$$arity=
-1);b.def(p,"$has_key?",W=function(a){return void 0!==b.hash_get(this,a)},W.$$arity=1);b.def(p,"$has_value?",R=function(a){for(var c=0,b=this.$$keys,d=b.length,e;c<d;c++)if(e=b[c],(e.$$is_string?this.$$smap[e]:e.value)["$=="](a))return!0;return!1},R.$$arity=1);b.def(p,"$hash",ba=function(){var a=void 0===b.hash_ids,c=this.$object_id(),d=["Hash"],e,f;try{a&&(b.hash_ids=Object.create(null));if(b[c])return"self";for(e in b.hash_ids)if(f=b.hash_ids[e],this["$eql?"](f))return"self";b.hash_ids[c]=this;
for(var c=0,h=this.$$keys,l=h.length;c<l;c++)e=h[c],e.$$is_string?d.push([e,this.$$smap[e].$hash()]):d.push([e.key_hash,e.value.$hash()]);return d.sort().join()}finally{a&&(b.hash_ids=void 0)}},ba.$$arity=0);b.alias(p,"include?","has_key?");b.def(p,"$index",S=function(a){for(var c=0,b=this.$$keys,d=b.length,e,f;c<d;c++)if(e=b[c],e.$$is_string?f=this.$$smap[e]:(f=e.value,e=e.key),f["$=="](a))return e;return u},S.$$arity=1);b.def(p,"$indexes",qa=function(a){var c;c=b.slice.call(arguments,0,arguments.length);
for(var d=[],e=0,f=c.length,h;e<f;e++)h=c[e],h=b.hash_get(this,h),void 0===h?d.push(this.$default()):d.push(h);return d},qa.$$arity=-1);b.alias(p,"indices","indexes");var Ia;b.def(p,"$inspect",Ca=function(){var a=void 0===Ia,c=this.$object_id(),b=[];try{a&&(Ia={});if(Ia.hasOwnProperty(c))return"{...}";Ia[c]=!0;for(var c=0,d=this.$$keys,e=d.length,f,h;c<e;c++)f=d[c],f.$$is_string?h=this.$$smap[f]:(h=f.value,f=f.key),b.push(f.$inspect()+"=>"+h.$inspect());return"{"+b.join(", ")+"}"}finally{a&&(Ia=void 0)}},
Ca.$$arity=0);b.def(p,"$invert",U=function(){for(var a=b.hash(),c=0,d=this.$$keys,e=d.length,f,h;c<e;c++)f=d[c],f.$$is_string?h=this.$$smap[f]:(h=f.value,f=f.key),b.hash_put(a,h,f);return a},U.$$arity=0);b.def(p,"$keep_if",la=function(){var a=la.$$p,c=a||u,d;a&&(la.$$p=null);a&&(la.$$p=null);if(!t(c))return B(this,"enum_for",["keep_if"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=0,e=this.$$keys,f=e.length,h,l;a<f;a++)h=e[a],h.$$is_string?l=this.$$smap[h]:(l=h.value,
h=h.key),l=c(h,l),!1!==l&&l!==u||void 0===b.hash_delete(this,h)||(f--,a--);return this},la.$$arity=0);b.alias(p,"key","index");b.alias(p,"key?","has_key?");b.def(p,"$keys",ga=function(){for(var a=[],c=0,b=this.$$keys,d=b.length,e;c<d;c++)e=b[c],e.$$is_string?a.push(e):a.push(e.key);return a},ga.$$arity=0);b.def(p,"$length",ca=function(){return this.$$keys.length},ca.$$arity=0);b.alias(p,"member?","has_key?");b.def(p,"$merge",Da=function(a){var c=Da.$$p,b=c||u;c&&(Da.$$p=null);c&&(Da.$$p=null);return B(this.$dup(),
"merge!",[a],b.$to_proc())},Da.$$arity=1);b.def(p,"$merge!",ea=function(c){var d=ea.$$p,e=d||u;d&&(ea.$$p=null);d&&(ea.$$p=null);c.$$is_hash||(c=r(a,"Opal")["$coerce_to!"](c,r(a,"Hash"),"to_hash"));var f=c.$$keys,h=f.length,l,k,n;if(e===u){for(d=0;d<h;d++)l=f[d],l.$$is_string?n=c.$$smap[l]:(n=l.value,l=l.key),b.hash_put(this,l,n);return this}for(d=0;d<h;d++)l=f[d],l.$$is_string?n=c.$$smap[l]:(n=l.value,l=l.key),k=b.hash_get(this,l),void 0===k?b.hash_put(this,l,n):b.hash_put(this,l,e(l,k,n));return this},
ea.$$arity=1);b.def(p,"$rassoc",Fa=function(a){for(var c=0,b=this.$$keys,d=b.length,e,f;c<d;c++)if(e=b[c],e.$$is_string?f=this.$$smap[e]:(f=e.value,e=e.key),f["$=="](a))return[e,f];return u},Fa.$$arity=1);b.def(p,"$rehash",da=function(){b.hash_rehash(this);return this},da.$$arity=0);b.def(p,"$reject",na=function(){var a=na.$$p,c=a||u,d;a&&(na.$$p=null);a&&(na.$$p=null);if(!t(c))return B(this,"enum_for",["reject"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=b.hash(),
e=0,f=this.$$keys,h=f.length,l,k,n;e<h;e++)l=f[e],l.$$is_string?k=this.$$smap[l]:(k=l.value,l=l.key),n=c(l,k),!1!==n&&n!==u||b.hash_put(a,l,k);return a},na.$$arity=0);b.def(p,"$reject!",ra=function(){var a=ra.$$p,c=a||u,d;a&&(ra.$$p=null);a&&(ra.$$p=null);if(!t(c))return B(this,"enum_for",["reject!"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=!1,e=0,f=this.$$keys,h=f.length,l,k;e<h;e++)l=f[e],l.$$is_string?k=this.$$smap[l]:(k=l.value,l=l.key),k=c(l,k),!1!==k&&
k!==u&&void 0!==b.hash_delete(this,l)&&(a=!0,h--,e--);return a?this:u},ra.$$arity=0);b.def(p,"$replace",K=function(c){var d=u;c=r(a,"Opal")["$coerce_to!"](c,r(a,"Hash"),"to_hash");b.hash_init(this);for(var d=0,e=c.$$keys,f=e.length,h,l;d<f;d++)h=e[d],h.$$is_string?l=c.$$smap[h]:(l=h.value,h=h.key),b.hash_put(this,h,l);t(c.$default_proc())?(d=[c.$default_proc()],B(this,"default_proc=",b.to_a(d))):(d=[c.$default()],B(this,"default=",b.to_a(d)));c=d;d=d.length;d="number"===typeof d?d-1:d["$-"](1);c[d];
return this},K.$$arity=1);b.def(p,"$select",sa=function(){var a=sa.$$p,c=a||u,d;a&&(sa.$$p=null);a&&(sa.$$p=null);if(!t(c))return B(this,"enum_for",["select"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=b.hash(),e=0,f=this.$$keys,h=f.length,l,k,n;e<h;e++)l=f[e],l.$$is_string?k=this.$$smap[l]:(k=l.value,l=l.key),n=c(l,k),!1!==n&&n!==u&&b.hash_put(a,l,k);return a},sa.$$arity=0);b.def(p,"$select!",Ga=function(){var a=Ga.$$p,c=a||u,d;a&&(Ga.$$p=null);a&&(Ga.$$p=null);
if(!t(c))return B(this,"enum_for",["select!"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=u,e=0,f=this.$$keys,h=f.length,l,k;e<h;e++)if(l=f[e],l.$$is_string?k=this.$$smap[l]:(k=l.value,l=l.key),k=c(l,k),!1===k||k===u)void 0!==b.hash_delete(this,l)&&(h--,e--),a=this;return a},Ga.$$arity=0);b.def(p,"$shift",ua=function(){var a=this.$$keys;return 0<a.length?(a=a[0],a=a.$$is_string?a:a.key,[a,b.hash_delete(this,a)]):this.$default(u)},ua.$$arity=0);b.alias(p,"size",
"length");b.def(p,"$slice",oa=function(a){var c;c=b.slice.call(arguments,0,arguments.length);for(var d=b.hash(),e=0,f=c.length;e<f;e++){var h=c[e],l=b.hash_get(this,h);void 0!==l&&b.hash_put(d,h,l)}return d},oa.$$arity=-1);b.alias(p,"store","[]=");b.def(p,"$to_a",Ja=function(){for(var a=[],c=0,b=this.$$keys,d=b.length,e,f;c<d;c++)e=b[c],e.$$is_string?f=this.$$smap[e]:(f=e.value,e=e.key),a.push([e,f]);return a},Ja.$$arity=0);b.def(p,"$to_h",Ra=function(){if(this.$$class===b.Hash)return this;var a=
new b.Hash;b.hash_init(a);b.hash_clone(this,a);return a},Ra.$$arity=0);b.def(p,"$to_hash",Q=function(){return this},Q.$$arity=0);b.def(p,"$to_proc",Ha=function(){var c;return B(this,"proc",[],(c=function(b){var d=c.$$s||this;null==b&&d.$raise(r(a,"ArgumentError"),"no key given");return d["$[]"](b)},c.$$s=this,c.$$arity=-1,c))},Ha.$$arity=0);b.alias(p,"to_s","inspect");b.def(p,"$transform_keys",xa=function(){var a=xa.$$p,c=a||u,d;a&&(xa.$$p=null);a&&(xa.$$p=null);if(!t(c))return B(this,"enum_for",
["transform_keys"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=b.hash(),e=0,f=this.$$keys,h=f.length,l,k;e<h;e++)l=f[e],l.$$is_string?k=this.$$smap[l]:(k=l.value,l=l.key),l=b.yield1(c,l),b.hash_put(a,l,k);return a},xa.$$arity=0);b.def(p,"$transform_keys!",Aa=function(){var a=Aa.$$p,c=a||u,d;a&&(Aa.$$p=null);a&&(Aa.$$p=null);if(!t(c))return B(this,"enum_for",["transform_keys!"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));var a=b.slice.call(this.$$keys),
e,f=a.length,h,l,k;for(e=0;e<f;e++)h=a[e],h.$$is_string?l=this.$$smap[h]:(l=h.value,h=h.key),k=b.yield1(c,h),b.hash_delete(this,h),b.hash_put(this,k,l);return this},Aa.$$arity=0);b.def(p,"$transform_values",Ea=function(){var a=Ea.$$p,c=a||u,d;a&&(Ea.$$p=null);a&&(Ea.$$p=null);if(!t(c))return B(this,"enum_for",["transform_values"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=b.hash(),e=0,f=this.$$keys,h=f.length,l,k;e<h;e++)l=f[e],l.$$is_string?k=this.$$smap[l]:(k=
l.value,l=l.key),k=b.yield1(c,k),b.hash_put(a,l,k);return a},Ea.$$arity=0);b.def(p,"$transform_values!",wa=function(){var a=wa.$$p,c=a||u,d;a&&(wa.$$p=null);a&&(wa.$$p=null);if(!t(c))return B(this,"enum_for",["transform_values!"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));for(var a=0,e=this.$$keys,f=e.length,h,l;a<f;a++)h=e[a],h.$$is_string?l=this.$$smap[h]:(l=h.value,h=h.key),l=b.yield1(c,l),b.hash_put(this,h,l);return this},wa.$$arity=0);b.alias(p,"update","merge!");b.alias(p,
"value?","has_value?");b.alias(p,"values_at","indexes");return(b.def(p,"$values",za=function(){for(var a=[],c=0,b=this.$$keys,d=b.length,e;c<d;c++)e=b[c],e.$$is_string?a.push(this.$$smap[e]):a.push(e.value);return a},za.$$arity=0),u)&&"values"}(y[0],null,y)},Opal.modules["corelib/number"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function F(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function y(a,b){return"number"===typeof a&&
"number"===typeof b?a+b:a["$+"](b)}function u(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var B=b.top,v=[],t=b.nil,p=b.const_get_qualified,x=b.const_get_relative,J=b.klass,L=b.truthy,P=b.send,a=b.hash2;b.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));
B.$require("corelib/numeric");(function(d,$super,A){function z(){}d=z=J(d,$super,"Number",z);var k=[d].concat(A),m,c,f,l,O,T,n,e,h,E,v,B,ia,G,aa,fa,ta,ma,ja,C,D,X,ha,va,V,ka,N,W,R,ba,S,qa,Ca,U,la,ga,ca,Da,ea,Fa,da,na,ra,K,sa,Ga,ua,oa,Ja,Ra,Q,Ha,xa,Aa,Ea,wa,za,Ia,Oa,Ma,Pa,Na,Sa,Ta,Ua,H,Y,Ka,Z,Va,M,Qa;x(k,"Opal").$bridge(Number,d);b.defineProperty(Number.prototype,"$$is_number",!0);d.$$is_number_class=!0;(function(a,c){var d=[a].concat(c),e;b.def(a,"$allocate",e=function(){return this.$raise(x(d,"TypeError"),
"allocator undefined for "+this.$name())},e.$$arity=0);b.udef(a,"$new");return t})(b.get_singleton_class(d),k);b.def(d,"$coerce",m=function(a){if(a!==t){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[x(k,"Opal")["$coerce_to!"](a,x(k,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(x(k,"TypeError"),"can't convert "+a.$class()+" into Float")},m.$$arity=1);b.def(d,"$__id__",c=function(){return 2*this+1},c.$$arity=0);b.alias(d,"object_id","__id__");
b.def(d,"$+",f=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},f.$$arity=1);b.def(d,"$-",l=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},l.$$arity=1);b.def(d,"$*",O=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},O.$$arity=1);b.def(d,"$/",T=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},T.$$arity=1);b.alias(d,"fdiv","/");b.def(d,"$%",n=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(x(k,"ZeroDivisionError"),
"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},n.$$arity=1);b.def(d,"$&",e=function(a){return a.$$is_number?this&a:this.$__coerced__("&",a)},e.$$arity=1);b.def(d,"$|",h=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},h.$$arity=1);b.def(d,"$^",E=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},E.$$arity=1);b.def(d,"$<",v=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},v.$$arity=1);b.def(d,"$<=",
B=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},B.$$arity=1);b.def(d,"$>",ia=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},ia.$$arity=1);b.def(d,"$>=",G=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},G.$$arity=1);b.def(d,"$<=>",aa=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?t:this>a?1:this<a?-1:0:this.$__coerced__("<=>",a)}catch(c){if(b.rescue(c,[x(k,"ArgumentError")]))try{return t}finally{b.pop_exception()}else throw c;
}},aa.$$arity=1);b.def(d,"$<<",fa=function(a){a=x(k,"Opal")["$coerce_to!"](a,x(k,"Integer"),"to_int");return 0<a?this<<a:this>>-a},fa.$$arity=1);b.def(d,"$>>",ta=function(a){a=x(k,"Opal")["$coerce_to!"](a,x(k,"Integer"),"to_int");return 0<a?this>>a:this<<-a},ta.$$arity=1);b.def(d,"$[]",ma=function(a){a=x(k,"Opal")["$coerce_to!"](a,x(k,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},ma.$$arity=1);b.def(d,"$+@",ja=function(){return+this},ja.$$arity=0);b.def(d,"$-@",C=function(){return-this},
C.$$arity=0);b.def(d,"$~",D=function(){return~this},D.$$arity=0);b.def(d,"$**",X=function(a){var c,b;return L(x(k,"Integer")["$==="](a))?L(L(c=x(k,"Integer")["$==="](this)["$!"]())?c:q(a,0))?Math.pow(this,a):x(k,"Rational").$new(this,1)["$**"](a):L(F(this,0)?L(b=x(k,"Float")["$==="](a))?b:x(k,"Rational")["$==="](a):F(this,0))?x(k,"Complex").$new(this,0)["$**"](a.$to_f()):L(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},X.$$arity=1);b.def(d,"$===",ha=function(a){return a.$$is_number?
this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},ha.$$arity=1);b.def(d,"$==",va=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},va.$$arity=1);b.def(d,"$abs",V=function(){return Math.abs(this)},V.$$arity=0);b.def(d,"$abs2",ka=function(){return Math.abs(this*this)},ka.$$arity=0);b.def(d,"$allbits?",N=function(a){a=x(k,"Opal")["$coerce_to!"](a,x(k,"Integer"),"to_int");return(this&a)==a},N.$$arity=1);b.def(d,"$anybits?",W=
function(a){a=x(k,"Opal")["$coerce_to!"](a,x(k,"Integer"),"to_int");return 0!==(this&a)},W.$$arity=1);b.def(d,"$angle",R=function(){return L(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},R.$$arity=0);b.alias(d,"arg","angle");b.alias(d,"phase","angle");b.def(d,"$bit_length",ba=function(){L(x(k,"Integer")["$==="](this))||this.$raise(x(k,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,c=0>this?~this:
this;0!=c;)a+=1,c>>>=1;return a},ba.$$arity=0);b.def(d,"$ceil",S=function(a){null==a&&(a=0);var c=this.$to_f();if(0===c%1&&0<=a)return c;a=Math.pow(10,a);a=Math.ceil(c*a)/a;0===c%1&&(a=Math.round(a));return a},S.$$arity=-1);b.def(d,"$chr",qa=function(a){return String.fromCharCode(this)},qa.$$arity=-1);b.def(d,"$denominator",Ca=function(){var a,c=Ca.$$p,d=t,e=t,f=t;c&&(Ca.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return L(L(a=this["$nan?"]())?a:this["$infinite?"]())?
1:P(this,b.find_super_dispatcher(this,"denominator",Ca,!1),d,c)},Ca.$$arity=0);b.def(d,"$downto",U=function(a){var c=U.$$p,b=c||t,d;c&&(U.$$p=null);c&&(U.$$p=null);if(b===t)return P(this,"enum_for",["downto",a],(d=function(){var c=d.$$s||this;L(x(k,"Numeric")["$==="](a))||c.$raise(x(k,"ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed");return L(q(a,c))?0:y(u(c,a),1)},d.$$s=this,d.$$arity=0,d));a.$$is_number||this.$raise(x(k,"ArgumentError"),"comparison of "+this.$class()+" with "+
a.$class()+" failed");for(c=this;c>=a;c--)b(c);return this},U.$$arity=1);b.alias(d,"eql?","==");b.def(d,"$equal?",la=function(a){var c;return L(c=this["$=="](a))?c:isNaN(this)&&isNaN(a)},la.$$arity=1);b.def(d,"$even?",ga=function(){return 0===this%2},ga.$$arity=0);b.def(d,"$floor",ca=function(a){null==a&&(a=0);var c=this.$to_f();if(0===c%1&&0<=a)return c;a=Math.pow(10,a);a=Math.floor(c*a)/a;0===c%1&&(a=Math.round(a));return a},ca.$$arity=-1);b.def(d,"$gcd",Da=function(a){L(x(k,"Integer")["$==="](a))||
this.$raise(x(k,"TypeError"),"not an integer");var c=Math.abs(this);for(a=Math.abs(a);0<c;){var b=c,c=a%c;a=b}return a},Da.$$arity=1);b.def(d,"$gcdlcm",ea=function(a){return[this.$gcd(),this.$lcm()]},ea.$$arity=1);b.def(d,"$integer?",Fa=function(){return 0===this%1},Fa.$$arity=0);b.def(d,"$is_a?",da=function(a){var c=da.$$p,d=t,e=t,f=t;c&&(da.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return L(a["$=="](x(k,"Integer"))?x(k,"Integer")["$==="](this):a["$=="](x(k,"Integer")))||
L(a["$=="](x(k,"Integer"))?x(k,"Integer")["$==="](this):a["$=="](x(k,"Integer")))||L(a["$=="](x(k,"Float"))?x(k,"Float")["$==="](this):a["$=="](x(k,"Float")))?!0:P(this,b.find_super_dispatcher(this,"is_a?",da,!1),d,c)},da.$$arity=1);b.alias(d,"kind_of?","is_a?");b.def(d,"$instance_of?",na=function(a){var c=na.$$p,d=t,e=t,f=t;c&&(na.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return L(a["$=="](x(k,"Integer"))?x(k,"Integer")["$==="](this):a["$=="](x(k,"Integer")))||L(a["$=="](x(k,
"Integer"))?x(k,"Integer")["$==="](this):a["$=="](x(k,"Integer")))||L(a["$=="](x(k,"Float"))?x(k,"Float")["$==="](this):a["$=="](x(k,"Float")))?!0:P(this,b.find_super_dispatcher(this,"instance_of?",na,!1),d,c)},na.$$arity=1);b.def(d,"$lcm",ra=function(a){L(x(k,"Integer")["$==="](a))||this.$raise(x(k,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},ra.$$arity=1);b.alias(d,"magnitude","abs");b.alias(d,"modulo","%");b.def(d,"$next",K=function(){return this+1},K.$$arity=
0);b.def(d,"$nobits?",sa=function(a){a=x(k,"Opal")["$coerce_to!"](a,x(k,"Integer"),"to_int");return 0==(this&a)},sa.$$arity=1);b.def(d,"$nonzero?",Ga=function(){return 0==this?t:this},Ga.$$arity=0);b.def(d,"$numerator",ua=function(){var a,c=ua.$$p,d=t,e=t,f=t;c&&(ua.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return L(L(a=this["$nan?"]())?a:this["$infinite?"]())?this:P(this,b.find_super_dispatcher(this,"numerator",ua,!1),d,c)},ua.$$arity=0);b.def(d,"$odd?",oa=function(){return 0!==
this%2},oa.$$arity=0);b.def(d,"$ord",Ja=function(){return this},Ja.$$arity=0);b.def(d,"$pow",Ra=function(a,c){0==this&&this.$raise(x(k,"ZeroDivisionError"),"divided by 0");if(void 0===c)return this["$**"](a);x(k,"Integer")["$==="](a)||this.$raise(x(k,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>a&&this.$raise(x(k,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");x(k,"Integer")["$==="](c)||this.$raise(x(k,"TypeError"),
"Integer#pow() 2nd argument not allowed unless all arguments are integers");0===c&&this.$raise(x(k,"ZeroDivisionError"),"divided by 0");return this["$**"](a)["$%"](c)},Ra.$$arity=-2);b.def(d,"$pred",Q=function(){return this-1},Q.$$arity=0);b.def(d,"$quo",Ha=function(a){var c=Ha.$$p,d=t,e=t,f=t;c&&(Ha.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return L(x(k,"Integer")["$==="](this))?P(this,b.find_super_dispatcher(this,"quo",Ha,!1),d,c):r(this,a)},Ha.$$arity=1);b.def(d,
"$rationalize",xa=function(a){var c,d,e=t;c=t;1<arguments.length&&this.$raise(x(k,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");return L(x(k,"Integer")["$==="](this))?x(k,"Rational").$new(this,1):L(this["$infinite?"]())?this.$raise(x(k,"FloatDomainError"),"Infinity"):L(this["$nan?"]())?this.$raise(x(k,"FloatDomainError"),"NaN"):L(null==a)?(d=x(k,"Math").$frexp(this),c=b.to_ary(d),e=null==c[0]?t:c[0],c=null==c[1]?t:c[1],d,e=x(k,"Math").$ldexp(e,p(x(k,"Float"),"MANT_DIG")).$to_i(),
c=u(c,p(x(k,"Float"),"MANT_DIG")),x(k,"Rational").$new(g(2,e),1["$<<"](u(1,c))).$rationalize(x(k,"Rational").$new(1,1["$<<"](u(1,c))))):this.$to_r().$rationalize(a)},xa.$$arity=-1);b.def(d,"$remainder",Aa=function(a){return u(this,g(a,r(this,a).$truncate()))},Aa.$$arity=1);b.def(d,"$round",Ea=function(a){var c,d,e=t;if(L(x(k,"Integer")["$==="](this))){if(L(null==a))return this;L(L(c=x(k,"Float")["$==="](a))?a["$infinite?"]():c)&&this.$raise(x(k,"RangeError"),"Infinity");a=x(k,"Opal")["$coerce_to!"](a,
x(k,"Integer"),"to_int");L(F(a,p(x(k,"Integer"),"MIN")))&&this.$raise(x(k,"RangeError"),"out of bounds");if(L(0<=a))return this;a=a["$-@"]();if(.415241*a-.125>this.$size())return 0;a=Math.pow(10,a);d=Math.floor((Math.abs(d)+a/2)/a)*a;return 0>this?-d:d}L(L(c=this["$nan?"]())?null==a:c)&&this.$raise(x(k,"FloatDomainError"),"NaN");a=x(k,"Opal")["$coerce_to!"](a||0,x(k,"Integer"),"to_int");if(L("number"===typeof a?0>=a:a["$<="](0)))L(this["$nan?"]())?this.$raise(x(k,"RangeError"),"NaN"):L(this["$infinite?"]())&&
this.$raise(x(k,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(this);if(L(L(c=this["$nan?"]())?c:this["$infinite?"]()))return this}d=x(k,"Math").$frexp(this);c=b.to_ary(d);e=null==c[1]?t:c[1];d;c=u(y(p(x(k,"Float"),"DIG"),2),L(q(e,0))?r(e,4):u(r(e,3),1));c="number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c);return L(c)?this:L(F(a,(L(q(e,0))?y(r(e,3),1):r(e,4))["$-@"]()))?0:Math.round(this*Math.pow(10,a))/Math.pow(10,a)},Ea.$$arity=-1);b.def(d,"$step",wa=function(c,d,e){function f(){void 0!==
z&&(m=z);void 0===m&&(m=t);C===t&&M.$raise(x(k,"TypeError"),"step must be numeric");0===C&&M.$raise(x(k,"ArgumentError"),"step can't be 0");void 0!==E&&(C=E);if(C===t||null==C)C=1;var a=C["$<=>"](0);a===t&&M.$raise(x(k,"ArgumentError"),"0 can't be coerced into "+C.$class());if(m===t||null==m)m=0<a?p(x(k,"Float"),"INFINITY"):p(x(k,"Float"),"INFINITY")["$-@"]();x(k,"Opal").$compare(M,m)}function h(){if(0<C&&M>m||0>C&&M<m)return 0;if(Infinity===C||-Infinity===C)return 1;var a=Math.abs,c=Math.floor,a=
(a(M)+a(m)+a(m-M))/a(C)*p(x(k,"Float"),"EPSILON");if(Infinity===a||-Infinity===a)return 0;.5<a&&(a=.5);return c((m-M)/C+a)+1}function l(){f();if(0===C)return Infinity;if(0!==C%1)return h();if(0<C&&M>m||0>C&&M<m)return 0;var a=Math.ceil,c=Math.abs,b=c(M-m)+1,c=c(C);return a(b/c)}var n=wa.$$p,g=n||t,H,m,C,z,E,Z,M=this,Y=H=t;n&&(wa.$$p=null);n&&(wa.$$p=null);n=b.slice.call(arguments,0,arguments.length);H=b.extract_kwargs(n);if(null==H)H=a([],{});else if(!H.$$is_hash)throw b.ArgumentError.$new("expected kwargs");
0<n.length&&(m=n[0],n.splice(0,1));0<n.length&&(C=n[0],n.splice(0,1));z=H.$$smap.to;E=H.$$smap.by;void 0!==m&&void 0!==z&&M.$raise(x(k,"ArgumentError"),"to is given twice");void 0!==C&&void 0!==E&&M.$raise(x(k,"ArgumentError"),"step is given twice");if(g===t)return H=[],Y=a([],{}),void 0!==m&&H.push(m),void 0!==C&&H.push(C),void 0!==z&&b.hash_put(Y,"to",z),void 0!==E&&b.hash_put(Y,"by",E),Y["$any?"]()&&H.push(Y),P(M,"enum_for",["step"].concat(b.to_a(H)),(Z=function(){return l()},Z.$$s=M,Z.$$arity=
0,Z));f();if(0===C)for(;;)g(M);if(0!==M%1||0!==m%1||0!==C%1){if(Z=h(),0<Z)if(Infinity===C||-Infinity===C)g(M);else if(n=0,0<C)for(;n<Z;)H=n*C+M,m<H&&(H=m),g(H),n+=1;else for(;n<Z;)H=n*C+M,m>H&&(H=m),g(H),n+=1}else if(Z=M,0<C)for(;Z<=m;)g(Z),Z+=C;else for(;Z>=m;)g(Z),Z+=C;return M},wa.$$arity=-1);b.alias(d,"succ","next");b.def(d,"$times",za=function(){var a=za.$$p,c=a||t,b;a&&(za.$$p=null);a&&(za.$$p=null);if(!L(c))return P(this,"enum_for",["times"],(b=function(){return b.$$s||this},b.$$s=this,b.$$arity=
0,b));for(a=0;a<this;a++)c(a);return this},za.$$arity=0);b.def(d,"$to_f",Ia=function(){return this},Ia.$$arity=0);b.def(d,"$to_i",Oa=function(){return parseInt(this,10)},Oa.$$arity=0);b.alias(d,"to_int","to_i");b.def(d,"$to_r",Ma=function(){var a,c,d=t;a=t;if(L(x(k,"Integer")["$==="](this)))return x(k,"Rational").$new(this,1);c=x(k,"Math").$frexp(this);a=b.to_ary(c);d=null==a[0]?t:a[0];a=null==a[1]?t:a[1];c;d=x(k,"Math").$ldexp(d,p(x(k,"Float"),"MANT_DIG")).$to_i();a=u(a,p(x(k,"Float"),"MANT_DIG"));
return g(d,p(x(k,"Float"),"RADIX")["$**"](a)).$to_r()},Ma.$$arity=0);b.def(d,"$to_s",Pa=function(a){var c;null==a&&(a=10);a=x(k,"Opal")["$coerce_to!"](a,x(k,"Integer"),"to_int");L(L(c=F(a,2))?c:q(a,36))&&this.$raise(x(k,"ArgumentError"),"invalid radix "+a);return this.toString(a)},Pa.$$arity=-1);b.def(d,"$truncate",Na=function(a){null==a&&(a=0);var c=this.$to_f();if(0===c%1&&0<=a)return c;a=Math.pow(10,a);a=parseInt(c*a,10)/a;0===c%1&&(a=Math.round(a));return a},Na.$$arity=-1);b.alias(d,"inspect",
"to_s");b.def(d,"$digits",Sa=function(a){null==a&&(a=10);F(this,0)&&this.$raise(p(x(k,"Math"),"DomainError"),"out of domain");a=x(k,"Opal")["$coerce_to!"](a,x(k,"Integer"),"to_int");L(F(a,2))&&this.$raise(x(k,"ArgumentError"),"invalid radix "+a);for(var c=this,b=[];0!==c;)b.push(c%a),c=parseInt(c/a,10);return b},Sa.$$arity=-1);b.def(d,"$divmod",Ta=function(a){var c,d=Ta.$$p,e=t,f=t,h=t;d&&(Ta.$$p=null);f=0;h=arguments.length;for(e=Array(h);f<h;f++)e[f]=arguments[f];return L(L(c=this["$nan?"]())?c:
a["$nan?"]())?this.$raise(x(k,"FloatDomainError"),"NaN"):L(this["$infinite?"]())?this.$raise(x(k,"FloatDomainError"),"Infinity"):P(this,b.find_super_dispatcher(this,"divmod",Ta,!1),e,d)},Ta.$$arity=1);b.def(d,"$upto",Ua=function(a){var c=Ua.$$p,b=c||t,d;c&&(Ua.$$p=null);c&&(Ua.$$p=null);if(b===t)return P(this,"enum_for",["upto",a],(d=function(){var c=d.$$s||this;L(x(k,"Numeric")["$==="](a))||c.$raise(x(k,"ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed");return L(F(a,c))?
0:y(u(a,c),1)},d.$$s=this,d.$$arity=0,d));a.$$is_number||this.$raise(x(k,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(c=this;c<=a;c++)b(c);return this},Ua.$$arity=1);b.def(d,"$zero?",H=function(){return 0==this},H.$$arity=0);b.def(d,"$size",Y=function(){return 4},Y.$$arity=0);b.def(d,"$nan?",Ka=function(){return isNaN(this)},Ka.$$arity=0);b.def(d,"$finite?",Z=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},Z.$$arity=0);b.def(d,"$infinite?",Va=
function(){return Infinity==this?1:-Infinity==this?-1:t},Va.$$arity=0);b.def(d,"$positive?",M=function(){return 0!=this&&(Infinity==this||0<1/this)},M.$$arity=0);return(b.def(d,"$negative?",Qa=function(){return-Infinity==this||0>1/this},Qa.$$arity=0),t)&&"negative?"})(v[0],x(v,"Numeric"),v);b.const_set(v[0],"Fixnum",x(v,"Number"));(function(a,$super,g){function z(){}a=z=J(a,$super,"Integer",z);g=[a].concat(g);a.$$is_number_class=!0;(function(a,d){var c=[a].concat(d),f,l,g;b.def(a,"$allocate",f=function(){return this.$raise(x(c,
"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);b.udef(a,"$new");b.def(a,"$===",l=function(a){return a.$$is_number?0===a%1:!1},l.$$arity=1);return(b.def(a,"$sqrt",g=function(a){a=x(c,"Opal")["$coerce_to!"](a,x(c,"Integer"),"to_int");0>a&&this.$raise(p(x(c,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(a),10)},g.$$arity=1),t)&&"sqrt"})(b.get_singleton_class(a),g);b.const_set(g[0],"MAX",Math.pow(2,30)-1);return b.const_set(g[0],
"MIN",-Math.pow(2,30))})(v[0],x(v,"Numeric"),v);return function(a,$super,g){function z(){}a=z=J(a,$super,"Float",z);g=[a].concat(g);a.$$is_number_class=!0;(function(a,d){var c=[a].concat(d),f,l;b.def(a,"$allocate",f=function(){return this.$raise(x(c,"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);b.udef(a,"$new");return(b.def(a,"$===",l=function(a){return!!a.$$is_number},l.$$arity=1),t)&&"==="})(b.get_singleton_class(a),g);b.const_set(g[0],"INFINITY",Infinity);b.const_set(g[0],
"MAX",Number.MAX_VALUE);b.const_set(g[0],"MIN",Number.MIN_VALUE);b.const_set(g[0],"NAN",NaN);b.const_set(g[0],"DIG",15);b.const_set(g[0],"MANT_DIG",53);b.const_set(g[0],"RADIX",2);return b.const_set(g[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(v[0],x(v,"Numeric"),v)},Opal.modules["corelib/range"]=function(b){function q(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}function F(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function y(b,g){return"number"===
typeof b&&"number"===typeof g?b>g:b["$>"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var r=b.top,g=[],B=b.nil,v=b.const_get_qualified,t=b.const_get_relative,p=b.klass,x=b.truthy,J=b.send;b.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));
r.$require("corelib/enumerable");return function(g,$super,a){function d(){}g=d=p(g,$super,"Range",d);var w=g.prototype,A=[g].concat(a),z,k,m,c,f,l,O,T,n,e,h,E,r,pa,ia,G,aa,fa;w.begin=w.end=w.excl=B;g.$include(t(A,"Enumerable"));w.$$is_range=!0;g.$attr_reader("begin","end");b.def(g,"$initialize",z=function(a,c,b){null==b&&(b=!1);x(this.begin)&&this.$raise(t(A,"NameError"),"'initialize' called twice");x(a["$<=>"](c))||this.$raise(t(A,"ArgumentError"),"bad value for range");this.begin=a;this.end=c;return this.excl=
b},z.$$arity=-3);b.def(g,"$==",k=function(a){return a.$$is_range?this.excl===a.excl&&this.begin==a.begin&&this.end==a.end:!1},k.$$arity=1);b.def(g,"$===",m=function(a){return this["$include?"](a)},m.$$arity=1);b.def(g,"$cover?",c=function(a){var c,b=B,b=B,b=this.begin["$<=>"](a);if(!x(x(c=b)?q(b,0):c))return!1;b=a["$<=>"](this.end);return x(this.excl)?x(c=b)?F(b,0):c:x(c=b)?q(b,0):c},c.$$arity=1);b.def(g,"$each",f=function(){var a=f.$$p,c=a||B,d,e=B,h=B;a&&(f.$$p=null);a&&(f.$$p=null);if(c===B)return this.$enum_for("each");
if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(t(A,"TypeError"),"can't iterate from Float");a=this.begin;for(d=this.end+(x(this.excl)?0:1);a<d;a++)c(a);return this}if(this.begin.$$is_string&&this.end.$$is_string)return J(this.begin,"upto",[this.end,this.excl],c.$to_proc()),this;e=this.begin;h=this.end;for(x(e["$respond_to?"]("succ"))||this.$raise(t(A,"TypeError"),"can't iterate from "+e.$class());x(F(e["$<=>"](h),0));)b.yield1(c,e),e=e.$succ();x(x(d=
this.excl["$!"]())?e["$=="](h):d)&&b.yield1(c,e);return this},f.$$arity=0);b.def(g,"$eql?",l=function(a){var c,b;return x(t(A,"Range")["$==="](a))?x(c=x(b=this.excl["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):b)?this.end["$eql?"](a.$end()):c:!1},l.$$arity=1);b.def(g,"$exclude_end?",O=function(){return this.excl},O.$$arity=0);b.def(g,"$first",T=function(a){var c=T.$$p,d=B,e=B,f=B;c&&(T.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return x(null==a)?this.begin:
J(this,b.find_super_dispatcher(this,"first",T,!1),d,c)},T.$$arity=-1);b.alias(g,"include?","cover?");b.def(g,"$last",n=function(a){return x(null==a)?this.end:this.$to_a().$last(a)},n.$$arity=-1);b.def(g,"$max",e=function(){var a,c=e.$$p,d=c||B,f=B,h=B,l=B;c&&(e.$$p=null);h=0;l=arguments.length;for(f=Array(l);h<l;h++)f[h]=arguments[h];return d!==B?J(this,b.find_super_dispatcher(this,"max",e,!1),f,c):x(y(this.begin,this.end))?B:x(x(a=this.excl)?this.begin["$=="](this.end):a)?B:this.excl?this.end-1:
this.end},e.$$arity=0);b.alias(g,"member?","cover?");b.def(g,"$min",h=function(){var a,c=h.$$p,d=c||B,e=B,f=B,l=B;c&&(h.$$p=null);f=0;l=arguments.length;for(e=Array(l);f<l;f++)e[f]=arguments[f];return d!==B?J(this,b.find_super_dispatcher(this,"min",h,!1),e,c):x(y(this.begin,this.end))?B:x(x(a=this.excl)?this.begin["$=="](this.end):a)?B:this.begin},h.$$arity=0);b.def(g,"$size",E=function(){var a,c=B,b=B,d=B,c=this.begin,b=this.end;x(this.excl)&&(b="number"===typeof b?b-1:b["$-"](1));if(!x(x(a=t(A,
"Numeric")["$==="](c))?t(A,"Numeric")["$==="](b):a))return B;if(x(F(b,c)))return 0;d=v(t(A,"Float"),"INFINITY");return x([c.$abs(),b.$abs()]["$include?"](d))?d:(Math.abs(b-c)+1).$to_i()},E.$$arity=0);b.def(g,"$step",r=function(a){function c(){a.$$is_number||(a=t(A,"Opal")["$coerce_to!"](a,t(A,"Integer"),"to_int"));0>a?n.$raise(t(A,"ArgumentError"),"step can't be negative"):0===a&&n.$raise(t(A,"ArgumentError"),"step can't be 0")}function d(){if(!n.begin["$respond_to?"]("succ")||n.begin.$$is_string&&
n.end.$$is_string)return B;if(0===a%1){var c=n.$size();return("number"===typeof c&&"number"===typeof a?c/a:c["$/"](a)).$ceil()}var c=n.begin,b=n.end,e=Math.abs,f=Math.floor,e=(e(c)+e(b)+e(b-c))/e(a)*v(t(A,"Float"),"EPSILON");.5<e&&(e=.5);n.excl?(f=f((b-c)/a-e),f*a+c<b&&f++):f=f((b-c)/a+e)+1;return f}var e,f,h,l=r.$$p,k=l||B,n=this,g=B;l&&(r.$$p=null);null==a&&(a=1);if(k===B)return J(n,"enum_for",["step",a],(e=function(){c();return d()},e.$$s=n,e.$$arity=0,e));c();x(n.begin.$$is_number&&n.end.$$is_number)?
(g=0,function(){var c=b.new_brk();try{return J(n,"loop",[],(f=function(){var d=f.$$s||this,e=B;null==d.begin&&(d.begin=B);null==d.excl&&(d.excl=B);null==d.end&&(d.end=B);e=u(d.begin,"number"===typeof g&&"number"===typeof a?g*a:g["$*"](a));x(d.excl)?(d=d.end,d="number"===typeof e&&"number"===typeof d?e>=d:e["$>="](d),x(d)&&b.brk(B,c)):x(y(e,d.end))&&b.brk(B,c);b.yield1(k,e);return g=u(g,1)},f.$$s=n,f.$$brk=c,f.$$arity=0,f))}catch(d){if(d===c)return d.$v;throw d;}}()):(n.begin.$$is_string&&n.end.$$is_string&&
0!==a%1&&n.$raise(t(A,"TypeError"),"no implicit conversion to float from string"),J(n,"each_with_index",[],(h=function(c,d){null==c&&(c=B);null==d&&(d=B);return d["$%"](a)["$=="](0)?b.yield1(k,c):B},h.$$s=n,h.$$arity=2,h)));return n},r.$$arity=-1);b.def(g,"$bsearch",pa=function(){var a=pa.$$p,c=a||B;a&&(pa.$$p=null);a&&(pa.$$p=null);if(c===B)return this.$enum_for("bsearch");x(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(t(A,"TypeError"),"can't do binary search for "+this.begin.$class());
return J(this.$to_a(),"bsearch",[],c.$to_proc())},pa.$$arity=0);b.def(g,"$to_s",ia=function(){return""+this.begin+(x(this.excl)?"...":"..")+this.end},ia.$$arity=0);b.def(g,"$inspect",G=function(){return""+this.begin.$inspect()+(x(this.excl)?"...":"..")+this.end.$inspect()},G.$$arity=0);b.def(g,"$marshal_load",aa=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},aa.$$arity=1);return(b.def(g,"$hash",fa=function(){return[this.begin,this.end,this.excl].$hash()},
fa.$$arity=0),B)&&"hash"}(g[0],null,g)},Opal.modules["corelib/proc"]=function(b){var q=[],F=b.nil,y=b.const_get_relative,u=b.slice,r=b.klass,g=b.truthy;b.add_stubs(["$raise","$coerce_to!"]);return function(q,$super,t){function p(){}q=p=r(q,$super,"Proc",p);var x=[q].concat(t),J,L,P,a,d,w,A,z,k,m;b.defineProperty(Function.prototype,"$$is_proc",!0);b.defineProperty(Function.prototype,"$$is_lambda",!1);b.defs(q,"$new",J=function(){var a=J.$$p,b=a||F;a&&(J.$$p=null);a&&(J.$$p=null);g(b)||this.$raise(y(x,
"ArgumentError"),"tried to create a Proc object without a block");return b},J.$$arity=0);b.def(q,"$call",L=function(a){var d=L.$$p,l=d||F;d&&(L.$$p=null);d&&(L.$$p=null);d=b.slice.call(arguments,0,arguments.length);l!==F&&(this.$$p=l);var k;if(l=this.$$brk)try{k=this.$$is_lambda?this.apply(null,d):b.yieldX(this,d)}catch(g){if(g===l)return l.$v;throw g;}else k=this.$$is_lambda?this.apply(null,d):b.yieldX(this,d);return k},L.$$arity=-1);b.alias(q,"[]","call");b.alias(q,"===","call");b.alias(q,"yield",
"call");b.def(q,"$to_proc",P=function(){return this},P.$$arity=0);b.def(q,"$lambda?",a=function(){return!!this.$$is_lambda},a.$$arity=0);b.def(q,"$arity",d=function(){return this.$$is_curried?-1:this.$$arity},d.$$arity=0);b.def(q,"$source_location",w=function(){return F},w.$$arity=0);b.def(q,"$binding",A=function(){this.$$is_curried&&this.$raise(y(x,"ArgumentError"),"Can't create Binding");return F},A.$$arity=0);b.def(q,"$parameters",z=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;
var a=[],b,d;b=0;for(d=this.$$parameters.length;b<d;b++){var k=this.$$parameters[b];"req"===k[0]&&(k=["opt",k[1]]);a.push(k)}return a}return[]},z.$$arity=0);b.def(q,"$curry",k=function(a){function b(){var k=u.call(arguments),g=k.length;g>a&&d.$$is_lambda&&!d.$$is_curried&&d.$raise(y(x,"ArgumentError"),"wrong number of arguments ("+g+" for "+a+")");if(g>=a)return d.$call.apply(d,k);g=function(){return b.apply(null,k.concat(u.call(arguments)))};g.$$is_lambda=d.$$is_lambda;g.$$is_curried=!0;return g}
var d=this;void 0===a?a=d.length:(a=y(x,"Opal")["$coerce_to!"](a,y(x,"Integer"),"to_int"),d.$$is_lambda&&a!==d.length&&d.$raise(y(x,"ArgumentError"),"wrong number of arguments ("+a+" for "+d.length+")"));b.$$is_lambda=d.$$is_lambda;b.$$is_curried=!0;return b},k.$$arity=-1);b.def(q,"$dup",m=function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},d;for(d in this)this.hasOwnProperty(d)&&(b[d]=this[d]);return b},m.$$arity=0);return b.alias(q,"clone","dup")}(q[0],Function,
q)},Opal.modules["corelib/method"]=function(b){var q=[],F=b.nil,y=b.const_get_relative,u=b.klass,r=b.truthy;b.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));(function(g,$super,v){function t(){}g=t=u(g,$super,"Method",t);var p=g.prototype,x=[g].concat(v),q,L,P,a,d,w,A,z,k;p.method=p.receiver=p.owner=p.name=F;g.$attr_reader("owner","receiver","name");b.def(g,"$initialize",q=function(a,c,b,d){this.receiver=a;this.owner=c;this.name=d;return this.method=b},q.$$arity=
4);b.def(g,"$arity",L=function(){return this.method.$arity()},L.$$arity=0);b.def(g,"$parameters",P=function(){return this.method.$$parameters},P.$$arity=0);b.def(g,"$source_location",a=function(){var a;return r(a=this.method.$$source_location)?a:["(eval)",0]},a.$$arity=0);b.def(g,"$comments",d=function(){var a;return r(a=this.method.$$comments)?a:[]},d.$$arity=0);b.def(g,"$call",w=function(a){var c=w.$$p,d=c||F;c&&(w.$$p=null);c&&(w.$$p=null);c=b.slice.call(arguments,0,arguments.length);this.method.$$p=
d;return this.method.apply(this.receiver,c)},w.$$arity=-1);b.alias(g,"[]","call");b.def(g,"$unbind",A=function(){return y(x,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},A.$$arity=0);b.def(g,"$to_proc",z=function(){var a=this.$call.bind(this);a.$$unbound=this.method;a.$$is_lambda=!0;return a},z.$$arity=0);return(b.def(g,"$inspect",k=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+
")>"},k.$$arity=0),F)&&"inspect"})(q[0],null,q);return function(g,$super,v){function t(){}g=t=u(g,$super,"UnboundMethod",t);var p=g.prototype,x=[g].concat(v),q,L,P,a,d,w,A;p.method=p.owner=p.name=p.source=F;g.$attr_reader("source","owner","name");b.def(g,"$initialize",q=function(a,b,d,c){this.source=a;this.owner=b;this.method=d;return this.name=c},q.$$arity=4);b.def(g,"$arity",L=function(){return this.method.$arity()},L.$$arity=0);b.def(g,"$parameters",P=function(){return this.method.$$parameters},
P.$$arity=0);b.def(g,"$source_location",a=function(){var a;return r(a=this.method.$$source_location)?a:["(eval)",0]},a.$$arity=0);b.def(g,"$comments",d=function(){var a;return r(a=this.method.$$comments)?a:[]},d.$$arity=0);b.def(g,"$bind",w=function(a){if(this.owner.$$is_module||b.is_a(a,this.owner))return y(x,"Method").$new(a,this.owner,this.method,this.name);this.$raise(y(x,"TypeError"),"can't bind singleton method to a different class (expected "+a+".kind_of?("+this.owner+" to be true)")},w.$$arity=
1);return(b.def(g,"$inspect",A=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},A.$$arity=0),F)&&"inspect"}(q[0],null,q)},Opal.modules["corelib/variables"]=function(b){var q=[],F=b.nil,y=b.const_get_relative,u=b.gvars,r=b.hash2;b.add_stubs(["$new"]);u["&"]=u["~"]=u["`"]=u["'"]=F;u.LOADED_FEATURES=u['"']=b.loaded_features;u.LOAD_PATH=u[":"]=[];u["/"]="\n";u[","]=F;b.const_set(q[0],"ARGV",[]);b.const_set(q[0],
"ARGF",y(q,"Object").$new());b.const_set(q[0],"ENV",r([],{}));u.VERBOSE=!1;u.DEBUG=!1;return u.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(b){var q=[],F=b.nil,y=b.const_get_relative,u=b.module;b.add_stubs(["$==","$new"]);return function(r,g){function q(){}var v=[q=u(r,"Opal",q)].concat(g);b.const_set(v[0],"REGEXP_START",y(v,"RUBY_ENGINE")["$=="]("opal")?"^":F);b.const_set(v[0],"REGEXP_END",y(v,"RUBY_ENGINE")["$=="]("opal")?"$":F);b.const_set(v[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
b.const_set(v[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(v[0],"INLINE_IDENTIFIER_REGEXP",y(v,"Regexp").$new("[^"+y(v,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+y(v,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));b.const_set(v[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(v[0],"CONST_NAME_REGEXP",y(v,"Regexp").$new(""+
y(v,"REGEXP_START")+"(::)?[A-Z][^"+y(v,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+y(v,"REGEXP_END")))}(q[0],q)},Opal.modules["opal/mini"]=function(b){var q=b.top;b.add_stubs(["$require"]);q.$require("opal/base");q.$require("corelib/nil");q.$require("corelib/boolean");q.$require("corelib/string");q.$require("corelib/comparable");q.$require("corelib/enumerable");q.$require("corelib/enumerator");q.$require("corelib/array");q.$require("corelib/hash");q.$require("corelib/number");q.$require("corelib/range");q.$require("corelib/proc");
q.$require("corelib/method");q.$require("corelib/regexp");q.$require("corelib/variables");return q.$require("opal/regexp_anchors")},Opal.modules["corelib/string/encoding"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var F,y,u,r,g,B=b.top,v=[],t=b.nil,p=b.const_get_qualified,x=b.const_get_relative,J=b.klass,L=b.hash2,P=b.truthy,a=b.send;b.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $getbyte".split(" "));
B.$require("corelib/string");(function(d,$super,g){function z(){}d=z=J(d,$super,"Encoding",z);var k=d.prototype,m=[d].concat(g),c,f,l,v,T,n,e,h,E,p;k.ascii=k.dummy=k.name=t;b.defineProperty(d,"$$register",{});b.defs(d,"$register",c=function(b,d){var e=c.$$p,f=e||t,h,l,k=t,n=t,g=t;e&&(c.$$p=null);e&&(c.$$p=null);null==d&&(d=L([],{}));k=q([b],P(h=d["$[]"]("aliases"))?h:[]);n=a(x(m,"Class"),"new",[this],f.$to_proc()).$new(b,k,P(h=d["$[]"]("ascii"))?h:!1,P(h=d["$[]"]("dummy"))?h:!1);g=this.$$register;
return a(k,"each",[],(l=function(a){var c=l.$$s||this;null==a&&(a=t);c.$const_set(a.$sub("-","_"),n);return g["$$"+a]=n},l.$$s=this,l.$$arity=1,l))},c.$$arity=-2);b.defs(d,"$find",f=function(a){var c,b=t,b=t;if(a["$=="]("default_external"))return this.$default_external();b=this.$$register;b=P(c=b["$$"+a])?c:b["$$"+a.$upcase()];P(b)||this.$raise(x(m,"ArgumentError"),"unknown encoding name - "+a);return b},f.$$arity=1);(function(a,c){[a].concat(c);return a.$attr_accessor("default_external")})(b.get_singleton_class(d),
m);d.$attr_reader("name","names");b.def(d,"$initialize",l=function(a,c,b,d){this.name=a;this.names=c;this.ascii=b;return this.dummy=d},l.$$arity=4);b.def(d,"$ascii_compatible?",v=function(){return this.ascii},v.$$arity=0);b.def(d,"$dummy?",T=function(){return this.dummy},T.$$arity=0);b.def(d,"$to_s",n=function(){return this.name},n.$$arity=0);b.def(d,"$inspect",e=function(){return"#<Encoding:"+this.name+(P(this.dummy)?" (dummy)":t)+">"},e.$$arity=0);b.def(d,"$each_byte",h=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(x(m,"NotImplementedError"))},h.$$arity=-1);b.def(d,"$getbyte",E=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(x(m,"NotImplementedError"))},E.$$arity=-1);b.def(d,"$bytesize",p=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(x(m,"NotImplementedError"))},p.$$arity=-1);(function(a,$super,c){function b(){}[b=J(a,$super,"EncodingError",b)].concat(c);return t})(m[0],x(m,"StandardError"),m);return function(a,$super,
c){function b(){}[b=J(a,$super,"CompatibilityError",b)].concat(c);return t}(m[0],x(m,"EncodingError"),m)})(v[0],null,v);a(x(v,"Encoding"),"register",["UTF-8",L(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(F=function(){var a=F.$$s||this,g,A;b.def(a,"$each_byte",g=function(a){var d=g.$$p,m=d||t;d&&(g.$$p=null);d&&(g.$$p=null);for(var d=0,c=a.length;d<c;d++){var f=a.charCodeAt(d);if(127>=f)b.yield1(m,f);else for(var f=encodeURIComponent(a.charAt(d)).substr(1).split("%"),l=0,A=f.length;l<A;l++)b.yield1(m,
parseInt(f[l],16))}},g.$$arity=1);return(b.def(a,"$bytesize",A=function(a){return a.$bytes().$length()},A.$$arity=1),t)&&"bytesize"},F.$$s=B,F.$$arity=0,F));a(x(v,"Encoding"),"register",["UTF-16LE"],(y=function(){var a=y.$$s||this,g,A;b.def(a,"$each_byte",g=function(a){var d=g.$$p,m=d||t;d&&(g.$$p=null);d&&(g.$$p=null);for(var d=0,c=a.length;d<c;d++){var f=a.charCodeAt(d);b.yield1(m,f&255);b.yield1(m,f>>8)}},g.$$arity=1);return(b.def(a,"$bytesize",A=function(a){return a.$bytes().$length()},A.$$arity=
1),t)&&"bytesize"},y.$$s=B,y.$$arity=0,y));a(x(v,"Encoding"),"register",["UTF-16BE"],(u=function(){var a=u.$$s||this,g,A;b.def(a,"$each_byte",g=function(a){var d=g.$$p,m=d||t;d&&(g.$$p=null);d&&(g.$$p=null);for(var d=0,c=a.length;d<c;d++){var f=a.charCodeAt(d);b.yield1(m,f>>8);b.yield1(m,f&255)}},g.$$arity=1);return(b.def(a,"$bytesize",A=function(a){return a.$bytes().$length()},A.$$arity=1),t)&&"bytesize"},u.$$s=B,u.$$arity=0,u));a(x(v,"Encoding"),"register",["UTF-32LE"],(r=function(){var a=r.$$s||
this,g,A;b.def(a,"$each_byte",g=function(a){var d=g.$$p,m=d||t;d&&(g.$$p=null);d&&(g.$$p=null);for(var d=0,c=a.length;d<c;d++){var f=a.charCodeAt(d);b.yield1(m,f&255);b.yield1(m,f>>8)}},g.$$arity=1);return(b.def(a,"$bytesize",A=function(a){return a.$bytes().$length()},A.$$arity=1),t)&&"bytesize"},r.$$s=B,r.$$arity=0,r));a(x(v,"Encoding"),"register",["ASCII-8BIT",L(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(g=function(){var a=g.$$s||this,w,A;b.def(a,"$each_byte",
w=function(a){var d=w.$$p,g=d||t;d&&(w.$$p=null);d&&(w.$$p=null);for(var d=0,c=a.length;d<c;d++){var f=a.charCodeAt(d);b.yield1(g,f&255);b.yield1(g,f>>8)}},w.$$arity=1);return(b.def(a,"$bytesize",A=function(a){return a.$bytes().$length()},A.$$arity=1),t)&&"bytesize"},g.$$s=B,g.$$arity=0,g));return function(d,$super,g){function z(){}d=z=J(d,$super,"String",z);var k=d.prototype,m=[d].concat(g),c,f,l,v,T,n,e;k.encoding=t;d.$attr_reader("encoding");b.defineProperty(String.prototype,"encoding",p(x(m,"Encoding"),
"UTF_16LE"));b.def(d,"$bytes",c=function(){return this.$each_byte().$to_a()},c.$$arity=0);b.def(d,"$bytesize",f=function(){return this.encoding.$bytesize(this)},f.$$arity=0);b.def(d,"$each_byte",l=function(){var c=l.$$p,b=c||t;c&&(l.$$p=null);c&&(l.$$p=null);if(b===t)return this.$enum_for("each_byte");a(this.encoding,"each_byte",[this],b.$to_proc());return this},l.$$arity=0);b.def(d,"$encode",v=function(a){return this.$dup().$force_encoding(a)},v.$$arity=1);b.def(d,"$force_encoding",T=function(a){if(a===
this.encoding)return this;a=x(m,"Opal")["$coerce_to!"](a,x(m,"String"),"to_s");a=x(m,"Encoding").$find(a);if(a===this.encoding)return this;this.encoding=a;return this},T.$$arity=1);b.def(d,"$getbyte",n=function(a){return this.encoding.$getbyte(this,a)},n.$$arity=1);return(b.def(d,"$valid_encoding?",e=function(){return!0},e.$$arity=0),t)&&"valid_encoding?"}(v[0],null,v)},Opal.modules["corelib/math"]=function(b){var q=[],F=b.const_get_qualified,y=b.const_get_relative,u=b.module,r=b.truthy;b.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));
return function(g,q){function v(){}var t=v=u(g,"Math",v),p=[t].concat(q),x,J,L,P,a,d,w,A,z,k,m,c,f,l,O,T,n,e,h,E,ya,pa,ia,G,aa,fa,ta,ma,ja;b.const_set(p[0],"E",Math.E);b.const_set(p[0],"PI",Math.PI);b.const_set(p[0],"DomainError",y(p,"Class").$new(y(p,"StandardError")));b.defs(t,"$checked",x=function(a,c){var d;d=b.slice.call(arguments,1,arguments.length);if(isNaN(d[0])||2==d.length&&isNaN(d[1]))return NaN;d=Math[a].apply(null,d);isNaN(d)&&this.$raise(y(p,"DomainError"),'Numerical argument is out of domain - "'+
a+'"');return d},x.$$arity=-2);b.defs(t,"$float!",J=function(a){try{return this.$Float(a)}catch(c){if(b.rescue(c,[y(p,"ArgumentError")]))try{return this.$raise(y(p,"Opal").$type_error(a,y(p,"Float")))}finally{b.pop_exception()}else throw c;}},J.$$arity=1);b.defs(t,"$integer!",L=function(a){try{return this.$Integer(a)}catch(c){if(b.rescue(c,[y(p,"ArgumentError")]))try{return this.$raise(y(p,"Opal").$type_error(a,y(p,"Integer")))}finally{b.pop_exception()}else throw c;}},L.$$arity=1);t.$module_function();
b.def(t,"$acos",P=function(a){return y(p,"Math").$checked("acos",y(p,"Math")["$float!"](a))},P.$$arity=1);r("undefined"!==typeof Math.acosh)||(Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))});b.def(t,"$acosh",a=function(a){return y(p,"Math").$checked("acosh",y(p,"Math")["$float!"](a))},a.$$arity=1);b.def(t,"$asin",d=function(a){return y(p,"Math").$checked("asin",y(p,"Math")["$float!"](a))},d.$$arity=1);r("undefined"!==typeof Math.asinh)||(Math.asinh=function(a){return Math.log(a+Math.sqrt(a*
a+1))});b.def(t,"$asinh",w=function(a){return y(p,"Math").$checked("asinh",y(p,"Math")["$float!"](a))},w.$$arity=1);b.def(t,"$atan",A=function(a){return y(p,"Math").$checked("atan",y(p,"Math")["$float!"](a))},A.$$arity=1);b.def(t,"$atan2",z=function(a,c){return y(p,"Math").$checked("atan2",y(p,"Math")["$float!"](a),y(p,"Math")["$float!"](c))},z.$$arity=2);r("undefined"!==typeof Math.atanh)||(Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))});b.def(t,"$atanh",k=function(a){return y(p,"Math").$checked("atanh",
y(p,"Math")["$float!"](a))},k.$$arity=1);r("undefined"!==typeof Math.cbrt)||(Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var c=a,b=0;.125>c;)c*=8,b--;for(;1<c;)c*=.125,b++;for(c=(-.46946116*c+1.072302)*c+.3812513;0>b;)c*=.5,b++;for(;0<b;)c*=2,b--;c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);return 2/3*c+1/3*a/(c*c)});b.def(t,"$cbrt",m=function(a){return y(p,"Math").$checked("cbrt",y(p,"Math")["$float!"](a))},m.$$arity=1);b.def(t,"$cos",c=function(a){return y(p,
"Math").$checked("cos",y(p,"Math")["$float!"](a))},c.$$arity=1);r("undefined"!==typeof Math.cosh)||(Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2});b.def(t,"$cosh",f=function(a){return y(p,"Math").$checked("cosh",y(p,"Math")["$float!"](a))},f.$$arity=1);r("undefined"!==typeof Math.erf)||b.defineProperty(Math,"erf",function(a){var c=1;0>a&&(c=-1);a=Math.abs(a);var b=1/(1+.3275911*a);return c*(1-((((1.061405429*b+-1.453152027)*b+1.421413741)*b+-.284496736)*b+.254829592)*b*Math.exp(-a*a))});
b.def(t,"$erf",l=function(a){return y(p,"Math").$checked("erf",y(p,"Math")["$float!"](a))},l.$$arity=1);r("undefined"!==typeof Math.erfc)||b.defineProperty(Math,"erfc",function(a){var c=Math.abs(a),b=1/(.5*c+1),c=b*Math.exp(-c*c-1.26551223+b*(b*(b*(b*(b*(b*(b*(b*(.17087277*b+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-c:c});b.def(t,"$erfc",O=function(a){return y(p,"Math").$checked("erfc",y(p,"Math")["$float!"](a))},O.$$arity=1);b.def(t,
"$exp",T=function(a){return y(p,"Math").$checked("exp",y(p,"Math")["$float!"](a))},T.$$arity=1);b.def(t,"$frexp",n=function(a){a=y(p,"Math")["$float!"](a);if(isNaN(a))return[NaN,0];var c=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,c),c]},n.$$arity=1);b.def(t,"$gamma",e=function(a){a=y(p,"Math")["$float!"](a);var c,b,d,e;d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,
1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(y(p,"DomainError"),'Numerical argument is out of domain - "gamma"');if(y(p,"Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;b=a-2;for(--a;1<b;)a*=b,b--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*
y(p,"Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return b=a*a,c=b*a,d=c*a,e=d*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*b)-139/(51840*c)-571/(2488320*d)+163879/(209018880*e)+5246819/(75246796800*e*a));--a;b=d[0];for(c=1;c<d.length;++c)b+=d[c]/(a+c);c=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,a+.5)*Math.exp(-c)*b},e.$$arity=1);r("undefined"!==typeof Math.hypot)||(Math.hypot=function(a,c){return Math.sqrt(a*a+c*c)});b.def(t,
"$hypot",h=function(a,c){return y(p,"Math").$checked("hypot",y(p,"Math")["$float!"](a),y(p,"Math")["$float!"](c))},h.$$arity=2);b.def(t,"$ldexp",E=function(a,c){a=y(p,"Math")["$float!"](a);c=y(p,"Math")["$integer!"](c);isNaN(c)&&this.$raise(y(p,"RangeError"),"float NaN out of range of integer");return a*Math.pow(2,c)},E.$$arity=2);b.def(t,"$lgamma",ya=function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(y(p,"Math").$gamma(a))),0>y(p,"Math").$gamma(a)?-1:1]},ya.$$arity=1);b.def(t,"$log",pa=function(a,
c){r(y(p,"String")["$==="](a))&&this.$raise(y(p,"Opal").$type_error(a,y(p,"Float")));if(r(null==c))return y(p,"Math").$checked("log",y(p,"Math")["$float!"](a));r(y(p,"String")["$==="](c))&&this.$raise(y(p,"Opal").$type_error(c,y(p,"Float")));var b=y(p,"Math").$checked("log",y(p,"Math")["$float!"](a)),d=y(p,"Math").$checked("log",y(p,"Math")["$float!"](c));return"number"===typeof b&&"number"===typeof d?b/d:b["$/"](d)},pa.$$arity=-2);r("undefined"!==typeof Math.log10)||(Math.log10=function(a){return Math.log(a)/
Math.LN10});b.def(t,"$log10",ia=function(a){r(y(p,"String")["$==="](a))&&this.$raise(y(p,"Opal").$type_error(a,y(p,"Float")));return y(p,"Math").$checked("log10",y(p,"Math")["$float!"](a))},ia.$$arity=1);r("undefined"!==typeof Math.log2)||(Math.log2=function(a){return Math.log(a)/Math.LN2});b.def(t,"$log2",G=function(a){r(y(p,"String")["$==="](a))&&this.$raise(y(p,"Opal").$type_error(a,y(p,"Float")));return y(p,"Math").$checked("log2",y(p,"Math")["$float!"](a))},G.$$arity=1);b.def(t,"$sin",aa=function(a){return y(p,
"Math").$checked("sin",y(p,"Math")["$float!"](a))},aa.$$arity=1);r("undefined"!==typeof Math.sinh)||(Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2});b.def(t,"$sinh",fa=function(a){return y(p,"Math").$checked("sinh",y(p,"Math")["$float!"](a))},fa.$$arity=1);b.def(t,"$sqrt",ta=function(a){return y(p,"Math").$checked("sqrt",y(p,"Math")["$float!"](a))},ta.$$arity=1);b.def(t,"$tan",ma=function(a){a=y(p,"Math")["$float!"](a);return r(a["$infinite?"]())?F(y(p,"Float"),"NAN"):y(p,"Math").$checked("tan",
y(p,"Math")["$float!"](a))},ma.$$arity=1);r("undefined"!==typeof Math.tanh)||(Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))});b.def(t,"$tanh",ja=function(a){return y(p,"Math").$checked("tanh",y(p,"Math")["$float!"](a))},ja.$$arity=1)}(q[0],q)},Opal.modules["corelib/complex"]=function(b){function q(b,g){return"number"===typeof b&&"number"===typeof g?b*g:b["$*"](g)}function F(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}
function y(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}var r=b.top,g=[],B=b.nil,v=b.const_get_qualified,t=b.const_get_relative,p=b.klass,x=b.truthy,J=b.module;b.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $Rational".split(" "));
r.$require("corelib/numeric");(function(g,$super,a){function d(){}g=d=p(g,$super,"Complex",d);var w=g.prototype,A=[g].concat(a),z,k,m,c,f,l,O,T,n,e,h,E,r,pa,ia,G,aa,fa,ta,ma,ja,C,D,X,ha,va,V,ka,N,W,R;w.real=w.imag=B;b.defs(g,"$rect",z=function(a,c){var b,d,e;null==c&&(c=0);x(x(b=x(d=x(e=t(A,"Numeric")["$==="](a))?a["$real?"]():e)?t(A,"Numeric")["$==="](c):d)?c["$real?"]():b)||this.$raise(t(A,"TypeError"),"not a real");return this.$new(a,c)},z.$$arity=-2);(function(a,c){[a].concat(c);return b.alias(a,
"rectangular","rect")})(b.get_singleton_class(g),A);b.defs(g,"$polar",k=function(a,c){var b,d,e;null==c&&(c=0);x(x(b=x(d=x(e=t(A,"Numeric")["$==="](a))?a["$real?"]():e)?t(A,"Numeric")["$==="](c):d)?c["$real?"]():b)||this.$raise(t(A,"TypeError"),"not a real");return this.$new(q(a,t(A,"Math").$cos(c)),q(a,t(A,"Math").$sin(c)))},k.$$arity=-2);g.$attr_reader("real","imag");b.def(g,"$initialize",m=function(a,c){null==c&&(c=0);this.real=a;return this.imag=c},m.$$arity=-2);b.def(g,"$coerce",c=function(a){var c;
return x(t(A,"Complex")["$==="](a))?[a,this]:x(x(c=t(A,"Numeric")["$==="](a))?a["$real?"]():c)?[t(A,"Complex").$new(a,0),this]:this.$raise(t(A,"TypeError"),""+a.$class()+" can't be coerced into Complex")},c.$$arity=1);b.def(g,"$==",f=function(a){var c;return x(t(A,"Complex")["$==="](a))?this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real()):x(x(c=t(A,"Numeric")["$==="](a))?a["$real?"]():c)?this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):a["$=="](this)},f.$$arity=
1);b.def(g,"$-@",l=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},l.$$arity=0);b.def(g,"$+",O=function(a){var c;return x(t(A,"Complex")["$==="](a))?this.$Complex(F(this.real,a.$real()),F(this.imag,a.$imag())):x(x(c=t(A,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(F(this.real,a),this.imag):this.$__coerced__("+",a)},O.$$arity=1);b.def(g,"$-",T=function(a){var c;return x(t(A,"Complex")["$==="](a))?this.$Complex(y(this.real,a.$real()),y(this.imag,a.$imag())):x(x(c=t(A,
"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(y(this.real,a),this.imag):this.$__coerced__("-",a)},T.$$arity=1);b.def(g,"$*",n=function(a){var c;return x(t(A,"Complex")["$==="](a))?this.$Complex(y(q(this.real,a.$real()),q(this.imag,a.$imag())),F(q(this.real,a.$imag()),q(this.imag,a.$real()))):x(x(c=t(A,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(q(this.real,a),q(this.imag,a)):this.$__coerced__("*",a)},n.$$arity=1);b.def(g,"$/",e=function(a){var c,b,d,e;return x(t(A,"Complex")["$==="](a))?
x(x(c=x(b=x(d=x(e=t(A,"Number")["$==="](this.real))?this.real["$nan?"]():e)?d:x(e=t(A,"Number")["$==="](this.imag))?this.imag["$nan?"]():e)?b:x(d=t(A,"Number")["$==="](a.$real()))?a.$real()["$nan?"]():d)?c:x(b=t(A,"Number")["$==="](a.$imag()))?a.$imag()["$nan?"]():b)?t(A,"Complex").$new(v(t(A,"Float"),"NAN"),v(t(A,"Float"),"NAN")):u(q(this,a.$conj()),a.$abs2()):x(x(c=t(A,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(this.real.$quo(a),this.imag.$quo(a)):this.$__coerced__("/",a)},e.$$arity=
1);b.def(g,"$**",h=function(a){var c,d,e=B,f=B,h=B,l=B;d=l=h=f=e=e=d=B;if(a["$=="](0))return t(A,"Complex").$new(1,0);if(x(t(A,"Complex")["$==="](a)))return d=this.$polar(),c=b.to_ary(d),e=null==c[0]?B:c[0],f=null==c[1]?B:c[1],d,h=a.$real(),l=a.$imag(),d=t(A,"Math").$exp(y(q(h,t(A,"Math").$log(e)),q(l,f))),e=F(q(f,h),q(l,t(A,"Math").$log(e))),t(A,"Complex").$polar(d,e);if(x(t(A,"Integer")["$==="](a))){if(x("number"===typeof a?0<a:a["$>"](0))){f=e=this;for(h=y(a,1);x(h["$!="](0));){a=h.$divmod(2);
d=b.to_ary(a);l=null==d[0]?B:d[0];d=null==d[1]?B:d[1];for(a;d["$=="](0);)e=this.$Complex(y(q(e.$real(),e.$real()),q(e.$imag(),e.$imag())),q(q(2,e.$real()),e.$imag())),h=l,c=h.$divmod(2),a=b.to_ary(c),l=null==a[0]?B:a[0],d=null==a[1]?B:a[1],c;f=q(f,e);h=y(h,1)}return f}return u(t(A,"Rational").$new(1,1),this)["$**"](a["$-@"]())}return x(x(c=t(A,"Float")["$==="](a))?c:t(A,"Rational")["$==="](a))?(d=this.$polar(),c=b.to_ary(d),e=null==c[0]?B:c[0],f=null==c[1]?B:c[1],d,t(A,"Complex").$polar(e["$**"](a),
q(f,a))):this.$__coerced__("**",a)},h.$$arity=1);b.def(g,"$abs",E=function(){return t(A,"Math").$hypot(this.real,this.imag)},E.$$arity=0);b.def(g,"$abs2",r=function(){return F(q(this.real,this.real),q(this.imag,this.imag))},r.$$arity=0);b.def(g,"$angle",pa=function(){return t(A,"Math").$atan2(this.imag,this.real)},pa.$$arity=0);b.alias(g,"arg","angle");b.def(g,"$conj",ia=function(){return this.$Complex(this.real,this.imag["$-@"]())},ia.$$arity=0);b.alias(g,"conjugate","conj");b.def(g,"$denominator",
G=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},G.$$arity=0);b.alias(g,"divide","/");b.def(g,"$eql?",aa=function(a){var c,b;return x(c=x(b=t(A,"Complex")["$==="](a))?this.real.$class()["$=="](this.imag.$class()):b)?this["$=="](a):c},aa.$$arity=1);b.def(g,"$fdiv",fa=function(a){x(t(A,"Numeric")["$==="](a))||this.$raise(t(A,"TypeError"),""+a.$class()+" can't be coerced into Complex");return u(this,a)},fa.$$arity=1);b.def(g,"$finite?",ta=function(){var a;return x(a=this.real["$finite?"]())?
this.imag["$finite?"]():a},ta.$$arity=0);b.def(g,"$hash",ma=function(){return"Complex:"+this.real+":"+this.imag},ma.$$arity=0);b.alias(g,"imaginary","imag");b.def(g,"$infinite?",ja=function(){var a;return x(a=this.real["$infinite?"]())?a:this.imag["$infinite?"]()},ja.$$arity=0);b.def(g,"$inspect",C=function(){return"("+this+")"},C.$$arity=0);b.alias(g,"magnitude","abs");b.udef(g,"$negative?");b.def(g,"$numerator",D=function(){var a=B,a=this.$denominator();return this.$Complex(q(this.real.$numerator(),
u(a,this.real.$denominator())),q(this.imag.$numerator(),u(a,this.imag.$denominator())))},D.$$arity=0);b.alias(g,"phase","arg");b.def(g,"$polar",X=function(){return[this.$abs(),this.$arg()]},X.$$arity=0);b.udef(g,"$positive?");b.alias(g,"quo","/");b.def(g,"$rationalize",ha=function(a){1<arguments.length&&this.$raise(t(A,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");x(this.imag["$!="](0))&&this.$raise(t(A,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)},
ha.$$arity=-1);b.def(g,"$real?",va=function(){return!1},va.$$arity=0);b.def(g,"$rect",V=function(){return[this.real,this.imag]},V.$$arity=0);b.alias(g,"rectangular","rect");b.def(g,"$to_f",ka=function(){this.imag["$=="](0)||this.$raise(t(A,"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},ka.$$arity=0);b.def(g,"$to_i",N=function(){this.imag["$=="](0)||this.$raise(t(A,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},N.$$arity=0);b.def(g,"$to_r",
W=function(){this.imag["$=="](0)||this.$raise(t(A,"RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},W.$$arity=0);b.def(g,"$to_s",R=function(){var a,c,b,d=B,d=this.real.$inspect(),d=F(d,x(x(a=x(c=x(b=t(A,"Number")["$==="](this.imag))?this.imag["$nan?"]():b)?c:this.imag["$positive?"]())?a:this.imag["$zero?"]())?"+":"-"),d=F(d,this.imag.$abs().$inspect());x(x(a=t(A,"Number")["$==="](this.imag))?x(c=this.imag["$nan?"]())?c:this.imag["$infinite?"]():a)&&(d=F(d,"*"));return F(d,
"i")},R.$$arity=0);return b.const_set(A[0],"I",g.$new(0,1))})(g[0],t(g,"Numeric"),g);(function(g,v){function a(){}var d=a=J(g,"Kernel",a),w=[d].concat(v),A;b.def(d,"$Complex",A=function(a,b){null==b&&(b=B);return x(b)?t(w,"Complex").$new(a,b):t(w,"Complex").$new(a,0)},A.$$arity=-2)})(g[0],g);return function(g,$super,a){function d(){}g=d=p(g,$super,"String",d);[g].concat(a);var w;return(b.def(g,"$to_c",w=function(){function a(){var b=g.match(c)[0];g=g.slice(b.length);return b.replace(/_/g,"")}function b(){if(c.test(g)){var f=
parseFloat(a());if("/"===g[0]){g=g.slice(1);if(c.test(g)){var l=parseFloat(a());return d.$Rational(f,l)}g="/"+g}return f}return null}var d=this,g=d,c=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;g.match(c);var f,l;f=b();return f?(l=b())?d.$Complex(f,l):"i"===g[0]?d.$Complex(0,f):d.$Complex(f,0):"i"===g[0]?d.$Complex(0,1):"-"===g[0]&&"i"===g[1]?d.$Complex(0,-1):"+"===g[0]&&"i"===g[1]?d.$Complex(0,1):d.$Complex(0,0)},w.$$arity=0),B)&&"to_c"}(g[0],null,g)},Opal.modules["corelib/rational"]=function(b){function q(b,
a){return"number"===typeof b&&"number"===typeof a?b<a:b["$<"](a)}function F(b,a){return"number"===typeof b&&"number"===typeof a?b/a:b["$/"](a)}function y(b,a){return"number"===typeof b&&"number"===typeof a?b-a:b["$-"](a)}function u(b,a){return"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)}function r(b,a){return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)}var g=b.top,B=[],v=b.nil,t=b.const_get_qualified,p=b.const_get_relative,x=b.klass,J=b.truthy,L=b.module;b.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));
g.$require("corelib/numeric");(function(g,$super,d){function w(){}g=w=x(g,$super,"Rational",w);var A=g.prototype,z=[g].concat(d),k,m,c,f,l,O,T,n,e,h,E,ya,B,ia,G,aa,fa,ta,ma,ja,C,D,X,ha,va,V;A.num=A.den=v;b.defs(g,"$reduce",k=function(c,b){var d=v;c=c.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(p(z,"ZeroDivisionError"),"divided by 0");else if(J(q(b,0)))c=c["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(c,b);d=c.$gcd(b);return this.$new(F(c,d),F(b,d))},k.$$arity=2);b.defs(g,"$convert",
m=function(c,b){var d,e;J(J(d=c["$nil?"]())?d:b["$nil?"]())&&this.$raise(p(z,"TypeError"),"cannot convert nil into Rational");if(J(J(d=p(z,"Integer")["$==="](c))?p(z,"Integer")["$==="](b):d))return this.$reduce(c,b);J(J(d=J(e=p(z,"Float")["$==="](c))?e:p(z,"String")["$==="](c))?d:p(z,"Complex")["$==="](c))&&(c=c.$to_r());J(J(d=J(e=p(z,"Float")["$==="](b))?e:p(z,"String")["$==="](b))?d:p(z,"Complex")["$==="](b))&&(b=b.$to_r());return J(J(d=b["$equal?"](1))?p(z,"Integer")["$==="](c)["$!"]():d)?p(z,
"Opal")["$coerce_to!"](c,p(z,"Rational"),"to_r"):J(J(d=p(z,"Numeric")["$==="](c))?p(z,"Numeric")["$==="](b):d)?F(c,b):this.$reduce(c,b)},m.$$arity=2);b.def(g,"$initialize",c=function(c,b){this.num=c;return this.den=b},c.$$arity=2);b.def(g,"$numerator",f=function(){return this.num},f.$$arity=0);b.def(g,"$denominator",l=function(){return this.den},l.$$arity=0);b.def(g,"$coerce",O=function(c){var b=v,b=c;return p(z,"Rational")["$==="](b)?[c,this]:p(z,"Integer")["$==="](b)?[c.$to_r(),this]:p(z,"Float")["$==="](b)?
[c,this.$to_f()]:v},O.$$arity=1);b.def(g,"$==",T=function(c){var b=v,b=c;return p(z,"Rational")["$==="](b)?this.num["$=="](c.$numerator())?this.den["$=="](c.$denominator()):this.num["$=="](c.$numerator()):p(z,"Integer")["$==="](b)?this.num["$=="](c)?this.den["$=="](1):this.num["$=="](c):p(z,"Float")["$==="](b)?this.$to_f()["$=="](c):c["$=="](this)},T.$$arity=1);b.def(g,"$<=>",n=function(c){var b=v,b=c;return p(z,"Rational")["$==="](b)?y(u(this.num,c.$denominator()),u(this.den,c.$numerator()))["$<=>"](0):
p(z,"Integer")["$==="](b)?y(this.num,u(this.den,c))["$<=>"](0):p(z,"Float")["$==="](b)?this.$to_f()["$<=>"](c):this.$__coerced__("<=>",c)},n.$$arity=1);b.def(g,"$+",e=function(c){var b=v,d=b=v;b=c;p(z,"Rational")["$==="](b)?(b=r(u(this.num,c.$denominator()),u(this.den,c.$numerator())),d=u(this.den,c.$denominator()),c=this.$Rational(b,d)):c=p(z,"Integer")["$==="](b)?this.$Rational(r(this.num,u(c,this.den)),this.den):p(z,"Float")["$==="](b)?r(this.$to_f(),c):this.$__coerced__("+",c);return c},e.$$arity=
1);b.def(g,"$-",h=function(c){var b=v,d=b=v;b=c;p(z,"Rational")["$==="](b)?(b=y(u(this.num,c.$denominator()),u(this.den,c.$numerator())),d=u(this.den,c.$denominator()),c=this.$Rational(b,d)):c=p(z,"Integer")["$==="](b)?this.$Rational(y(this.num,u(c,this.den)),this.den):p(z,"Float")["$==="](b)?y(this.$to_f(),c):this.$__coerced__("-",c);return c},h.$$arity=1);b.def(g,"$*",E=function(c){var b=v,d=b=v;b=c;p(z,"Rational")["$==="](b)?(b=u(this.num,c.$numerator()),d=u(this.den,c.$denominator()),c=this.$Rational(b,
d)):c=p(z,"Integer")["$==="](b)?this.$Rational(u(this.num,c),this.den):p(z,"Float")["$==="](b)?u(this.$to_f(),c):this.$__coerced__("*",c);return c},E.$$arity=1);b.def(g,"$/",ya=function(c){var b=v,d=b=v;b=c;p(z,"Rational")["$==="](b)?(b=u(this.num,c.$denominator()),d=u(this.den,c.$numerator()),c=this.$Rational(b,d)):c=p(z,"Integer")["$==="](b)?c["$=="](0)?F(this.$to_f(),0):this.$Rational(this.num,u(this.den,c)):p(z,"Float")["$==="](b)?F(this.$to_f(),c):this.$__coerced__("/",c);return c},ya.$$arity=
1);b.def(g,"$**",B=function(c){var b=v,b=c;return p(z,"Integer")["$==="](b)?J(this["$=="](0)?q(c,0):this["$=="](0))?t(p(z,"Float"),"INFINITY"):J("number"===typeof c?0<c:c["$>"](0))?this.$Rational(this.num["$**"](c),this.den["$**"](c)):J(q(c,0))?this.$Rational(this.den["$**"](c["$-@"]()),this.num["$**"](c["$-@"]())):this.$Rational(1,1):p(z,"Float")["$==="](b)?this.$to_f()["$**"](c):p(z,"Rational")["$==="](b)?c["$=="](0)?this.$Rational(1,1):c.$denominator()["$=="](1)?J(q(c,0))?this.$Rational(this.den["$**"](c.$numerator().$abs()),
this.num["$**"](c.$numerator().$abs())):this.$Rational(this.num["$**"](c.$numerator()),this.den["$**"](c.$numerator())):J(this["$=="](0)?q(c,0):this["$=="](0))?this.$raise(p(z,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](c):this.$__coerced__("**",c)},B.$$arity=1);b.def(g,"$abs",ia=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},ia.$$arity=0);b.def(g,"$ceil",G=function(c){null==c&&(c=0);return c["$=="](0)?F(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",
c)},G.$$arity=-1);b.alias(g,"divide","/");b.def(g,"$floor",aa=function(c){null==c&&(c=0);return c["$=="](0)?F(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",c)},aa.$$arity=-1);b.def(g,"$hash",fa=function(){return"Rational:"+this.num+":"+this.den},fa.$$arity=0);b.def(g,"$inspect",ta=function(){return"("+this+")"},ta.$$arity=0);b.alias(g,"quo","/");b.def(g,"$rationalize",ma=function(c){1<arguments.length&&this.$raise(p(z,"ArgumentError"),"wrong number of arguments ("+arguments.length+
" for 0..1)");if(null==c)return this;for(var b=c.$abs(),d=y(this,b),b=r(this,b),e=0,f=1,h=1,l=0,g,n,k;;){g=d.$ceil();if("number"===typeof g&&"number"===typeof b?g<=b:g["$<="](b))break;k=g-1;g=k*f+e;n=k*l+h;e=F(1,y(b,k));b=F(1,y(d,k));d=e;e=f;h=l;f=g;l=n}return this.$Rational(g*f+e,g*l+h)},ma.$$arity=-1);b.def(g,"$round",ja=function(c){var b=v,d=v,b=v;null==c&&(c=0);if(!c["$=="](0))return this.$with_precision("round",c);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;b=r(u(this.num.$abs(),
2),this.den);d=u(this.den,2);b=F(b,d).$truncate();return J(q(this.num,0))?b["$-@"]():b},ja.$$arity=-1);b.def(g,"$to_f",C=function(){return F(this.num,this.den)},C.$$arity=0);b.def(g,"$to_i",D=function(){return this.$truncate()},D.$$arity=0);b.def(g,"$to_r",X=function(){return this},X.$$arity=0);b.def(g,"$to_s",ha=function(){return""+this.num+"/"+this.den},ha.$$arity=0);b.def(g,"$truncate",va=function(c){null==c&&(c=0);return c["$=="](0)?J(q(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",
c)},va.$$arity=-1);return(b.def(g,"$with_precision",V=function(c,b){var d=v,e=v;J(p(z,"Integer")["$==="](b))||this.$raise(p(z,"TypeError"),"not an Integer");d=10["$**"](b);e=u(this,d);return J(q(b,1))?F(e.$send(c),d).$to_i():this.$Rational(e.$send(c),d)},V.$$arity=2),v)&&"with_precision"})(B[0],p(B,"Numeric"),B);(function(g,a){function d(){}var w=d=L(g,"Kernel",d),A=[w].concat(a),z;b.def(w,"$Rational",z=function(a,b){null==b&&(b=1);return p(A,"Rational").$convert(a,b)},z.$$arity=-2)})(B[0],B);return function(g,
$super,d){function w(){}g=w=x(g,$super,"String",w);[g].concat(d);var A;return(b.def(g,"$to_r",A=function(){function b(){var c=d.match(g)[0];d=d.slice(c.length);return c.replace(/_/g,"")}var d=this.trimLeft(),g=/^[+-]?[\d_]+(\.[\d_]+)?/;d.match(g);var c,f;return g.test(d)?(c=parseFloat(b()),"/"===d[0]&&(d=d.slice(1),g.test(d))?(f=parseFloat(b()),this.$Rational(c,f)):this.$Rational(c,1)):this.$Rational(0,1)},A.$$arity=0),v)&&"to_r"}(B[0],null,B)},Opal.modules["corelib/time"]=function(b){function q(b,
g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function F(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}function y(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}var r=b.top,g=[],B=b.nil,v=b.const_get_relative,t=b.slice,p=b.klass,x=b.truthy,J=b.range;b.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
r.$require("corelib/comparable");return function(g,$super,a){function d(){}function w(a,c,b,d,e,f){a=a.$$is_string?parseInt(a,10):v(z,"Opal")["$coerce_to!"](a,v(z,"Integer"),"to_int");if(c===B)c=1;else if(!c.$$is_number)if(c["$respond_to?"]("to_str"))switch(c=c.$to_str(),c.toLowerCase()){case "jan":c=1;break;case "feb":c=2;break;case "mar":c=3;break;case "apr":c=4;break;case "may":c=5;break;case "jun":c=6;break;case "jul":c=7;break;case "aug":c=8;break;case "sep":c=9;break;case "oct":c=10;break;case "nov":c=
11;break;case "dec":c=12;break;default:c=c.$to_i()}else c=v(z,"Opal")["$coerce_to!"](c,v(z,"Integer"),"to_int");(1>c||12<c)&&A.$raise(v(z,"ArgumentError"),"month out of range: "+c);--c;b=b===B?1:b.$$is_string?parseInt(b,10):v(z,"Opal")["$coerce_to!"](b,v(z,"Integer"),"to_int");(1>b||31<b)&&A.$raise(v(z,"ArgumentError"),"day out of range: "+b);d=d===B?0:d.$$is_string?parseInt(d,10):v(z,"Opal")["$coerce_to!"](d,v(z,"Integer"),"to_int");(0>d||24<d)&&A.$raise(v(z,"ArgumentError"),"hour out of range: "+
d);e=e===B?0:e.$$is_string?parseInt(e,10):v(z,"Opal")["$coerce_to!"](e,v(z,"Integer"),"to_int");(0>e||59<e)&&A.$raise(v(z,"ArgumentError"),"min out of range: "+e);f===B?f=0:f.$$is_number||(f=f.$$is_string?parseInt(f,10):v(z,"Opal")["$coerce_to!"](f,v(z,"Integer"),"to_int"));(0>f||60<f)&&A.$raise(v(z,"ArgumentError"),"sec out of range: "+f);return[a,c,b,d,e,f]}var A=d=p(g,$super,"Time",d),z=[A].concat(a),k,m,c,f,l,O,T,n,e,h,E,r,pa,ia,G,aa,fa,ta,ma,ja,C,D,X,ha,va,V,ka,N,W,R,ba,S,qa,Ca,U,la,ga,ca,Da,
ea,Fa,da;A.$include(v(z,"Comparable"));var na="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ra="Sun Mon Tue Wed Thu Fri Sat".split(" "),K="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sa="January February March April May June July August September October November December".split(" ");b.defs(A,"$at",k=function(a,c){var b;if(v(z,"Time")["$==="](a))return void 0!==c&&this.$raise(v(z,"TypeError"),"can't convert Time into an exact number"),b=new Date(a.getTime()),
b.is_utc=a.is_utc,b;a.$$is_number||(a=v(z,"Opal")["$coerce_to!"](a,v(z,"Integer"),"to_int"));if(void 0===c)return new Date(1E3*a);c.$$is_number||(c=v(z,"Opal")["$coerce_to!"](c,v(z,"Integer"),"to_int"));return new Date(1E3*a+c/1E3)},k.$$arity=-2);b.defs(A,"$new",m=function(a,c,b,d,e,f,h){null==c&&(c=B);null==b&&(b=B);null==d&&(d=B);null==e&&(e=B);null==f&&(f=B);null==h&&(h=B);if(void 0===a)return new Date;h!==B&&this.$raise(v(z,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");
f=w(a,c,b,d,e,f);a=f[0];c=f[1];b=f[2];d=f[3];e=f[4];f=f[5];c=new Date(a,c,b,d,e,0,1E3*f);100>a&&c.setFullYear(a);return c},m.$$arity=-1);b.defs(A,"$local",c=function(a,c,b,d,e,f,h,l,g,n){null==c&&(c=B);null==b&&(b=B);null==d&&(d=B);null==e&&(e=B);null==f&&(f=B);null==h&&(h=B);null==l&&(l=B);null==g&&(g=B);null==n&&(n=B);var k;10===arguments.length&&(k=t.call(arguments),a=k[5],c=k[4],b=k[3],d=k[2],e=k[1],f=k[0]);k=w(a,c,b,d,e,f);a=k[0];c=k[1];b=k[2];d=k[3];e=k[4];f=k[5];k=new Date(a,c,b,d,e,0,1E3*
f);100>a&&k.setFullYear(a);return k},c.$$arity=-2);b.defs(A,"$gm",f=function(a,c,b,d,e,f,h,l,g,n){null==c&&(c=B);null==b&&(b=B);null==d&&(d=B);null==e&&(e=B);null==f&&(f=B);null==h&&(h=B);null==l&&(l=B);null==g&&(g=B);null==n&&(n=B);var k;10===arguments.length&&(k=t.call(arguments),a=k[5],c=k[4],b=k[3],d=k[2],e=k[1],f=k[0]);k=w(a,c,b,d,e,f);a=k[0];c=k[1];b=k[2];d=k[3];e=k[4];f=k[5];k=new Date(Date.UTC(a,c,b,d,e,0,1E3*f));100>a&&k.setUTCFullYear(a);k.is_utc=!0;return k},f.$$arity=-2);(function(a,c){[a].concat(c);
b.alias(a,"mktime","local");return b.alias(a,"utc","gm")})(b.get_singleton_class(A),z);b.defs(A,"$now",l=function(){return this.$new()},l.$$arity=0);b.def(A,"$+",O=function(a){x(v(z,"Time")["$==="](a))&&this.$raise(v(z,"TypeError"),"time + time?");a.$$is_number||(a=v(z,"Opal")["$coerce_to!"](a,v(z,"Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a},O.$$arity=1);b.def(A,"$-",T=function(a){if(x(v(z,"Time")["$==="](a)))return(this.getTime()-a.getTime())/1E3;a.$$is_number||
(a=v(z,"Opal")["$coerce_to!"](a,v(z,"Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;return a},T.$$arity=1);b.def(A,"$<=>",n=function(a){var c=B;if(x(v(z,"Time")["$==="](a)))return this.$to_f()["$<=>"](a.$to_f());c=a["$<=>"](this);return x(c["$nil?"]())?B:x("number"===typeof c?0<c:c["$>"](0))?-1:x("number"===typeof c?0>c:c["$<"](0))?1:0},n.$$arity=1);b.def(A,"$==",e=function(a){var c;return x(c=v(z,"Time")["$==="](a))?this.$to_f()===a.$to_f():c},e.$$arity=1);b.def(A,"$asctime",
h=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},h.$$arity=0);b.alias(A,"ctime","asctime");b.def(A,"$day",E=function(){return this.is_utc?this.getUTCDate():this.getDate()},E.$$arity=0);b.def(A,"$yday",r=function(){var a=B,c=B,b=B,a=v(z,"Time").$new(this.$year()).$to_i(),c=v(z,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),b=86400;return q(F(y(c,a),b).$round(),1)},r.$$arity=0);b.def(A,"$isdst",pa=function(){var a=new Date(this.getFullYear(),0,1),c=new Date(this.getFullYear(),
6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),c.getTimezoneOffset())},pa.$$arity=0);b.alias(A,"dst?","isdst");b.def(A,"$dup",ia=function(){var a=B,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a},ia.$$arity=0);b.def(A,"$eql?",G=function(a){var c;return x(c=a["$is_a?"](v(z,"Time")))?this["$<=>"](a)["$zero?"]():c},G.$$arity=1);b.def(A,"$friday?",aa=function(){return 5==this.$wday()},aa.$$arity=0);b.def(A,"$hash",fa=function(){return"Time:"+
this.getTime()},fa.$$arity=0);b.def(A,"$hour",ta=function(){return this.is_utc?this.getUTCHours():this.getHours()},ta.$$arity=0);b.def(A,"$inspect",ma=function(){return x(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},ma.$$arity=0);b.alias(A,"mday","day");b.def(A,"$min",ja=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},ja.$$arity=0);b.def(A,"$mon",C=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},C.$$arity=
0);b.def(A,"$monday?",D=function(){return 1==this.$wday()},D.$$arity=0);b.alias(A,"month","mon");b.def(A,"$saturday?",X=function(){return 6==this.$wday()},X.$$arity=0);b.def(A,"$sec",ha=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},ha.$$arity=0);b.def(A,"$succ",va=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},va.$$arity=0);b.def(A,"$usec",V=function(){return 1E3*this.getMilliseconds()},V.$$arity=0);b.def(A,"$zone",ka=function(){var a=this.toString(),
c;c=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==c&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:c},ka.$$arity=0);b.def(A,"$getgm",N=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},N.$$arity=0);b.alias(A,"getutc","getgm");b.def(A,"$gmtime",W=function(){this.is_utc=!0;return this},W.$$arity=0);b.alias(A,"utc","gmtime");b.def(A,"$gmt?",R=function(){return!0===this.is_utc},R.$$arity=0);b.def(A,"$gmt_offset",ba=function(){return 60*-this.getTimezoneOffset()},
ba.$$arity=0);b.def(A,"$strftime",S=function(a){var c=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,b,d,e,f){e="";var h=-1!==b.indexOf("0"),l=-1===b.indexOf("-"),g=-1!==b.indexOf("_"),n=-1!==b.indexOf("^"),k=-1!==b.indexOf("#"),w=(b.match(":")||[]).length;d=parseInt(d,10);h&&g&&(b.indexOf("0")<b.indexOf("_")?h=!1:g=!1);switch(f){case "Y":e+=c.$year();break;case "C":h=!g;e+=Math.round(c.$year()/100);break;case "y":h=!g;e+=c.$year()%100;break;case "m":h=!g;e+=c.$mon();break;
case "B":e+=sa[c.$mon()-1];break;case "b":case "h":g=!h;e+=K[c.$mon()-1];break;case "d":h=!g;e+=c.$day();break;case "e":g=!h;e+=c.$day();break;case "j":e+=c.$yday();break;case "H":h=!g;e+=c.$hour();break;case "k":g=!h;e+=c.$hour();break;case "I":h=!g;e+=c.$hour()%12||12;break;case "l":g=!h;e+=c.$hour()%12||12;break;case "P":e+=12<=c.$hour()?"pm":"am";break;case "p":e+=12<=c.$hour()?"PM":"AM";break;case "M":h=!g;e+=c.$min();break;case "S":h=!g;e+=c.$sec();break;case "L":h=!g;d=isNaN(d)?3:d;e+=c.getMilliseconds();
break;case "N":d=isNaN(d)?9:d;e+=c.getMilliseconds().toString().$rjust(3,"0");e=e.$ljust(d,"0");break;case "z":a=c.getTimezoneOffset();b=Math.floor(Math.abs(a)/60);f=Math.abs(a)%60;e=e+(0>a?"+":"-")+(10>b?"0":"");e+=b;0<w&&(e+=":");e+=10>f?"0":"";e+=f;1<w&&(e+=":00");break;case "Z":e+=c.$zone();break;case "A":e+=na[c.$wday()];break;case "a":e+=ra[c.$wday()];break;case "u":e+=c.$wday()+1;break;case "w":e+=c.$wday();break;case "V":e+=c.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":e+=
c.$cweek_cyear()["$[]"](1);break;case "g":e+=c.$cweek_cyear()["$[]"](1)["$[]"](J(-2,-1,!1));break;case "s":e+=c.$to_i();break;case "n":e+="\n";break;case "t":e+="\t";break;case "%":e+="%";break;case "c":e+=c.$strftime("%a %b %e %T %Y");break;case "D":case "x":e+=c.$strftime("%m/%d/%y");break;case "F":e+=c.$strftime("%Y-%m-%d");break;case "v":e+=c.$strftime("%e-%^b-%4Y");break;case "r":e+=c.$strftime("%I:%M:%S %p");break;case "R":e+=c.$strftime("%H:%M");break;case "T":case "X":e+=c.$strftime("%H:%M:%S");
break;default:return a}n&&(e=e.toUpperCase());k&&(e=e.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));l&&(h||g)&&(e=e.$rjust(isNaN(d)?2:d,g?" ":"0"));return e})},S.$$arity=1);b.def(A,"$sunday?",qa=function(){return 0==this.$wday()},qa.$$arity=0);b.def(A,"$thursday?",Ca=function(){return 4==this.$wday()},Ca.$$arity=0);b.def(A,"$to_a",U=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),
this.$isdst(),this.$zone()]},U.$$arity=0);b.def(A,"$to_f",la=function(){return this.getTime()/1E3},la.$$arity=0);b.def(A,"$to_i",ga=function(){return parseInt(this.getTime()/1E3,10)},ga.$$arity=0);b.alias(A,"to_s","inspect");b.def(A,"$tuesday?",ca=function(){return 2==this.$wday()},ca.$$arity=0);b.alias(A,"tv_sec","to_i");b.alias(A,"tv_usec","usec");b.alias(A,"utc?","gmt?");b.alias(A,"gmtoff","gmt_offset");b.alias(A,"utc_offset","gmt_offset");b.def(A,"$wday",Da=function(){return this.is_utc?this.getUTCDay():
this.getDay()},Da.$$arity=0);b.def(A,"$wednesday?",ea=function(){return 3==this.$wday()},ea.$$arity=0);b.def(A,"$year",Fa=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},Fa.$$arity=0);return(b.def(A,"$cweek_cyear",da=function(){var a,c=B,b=B,d=b=b=c=B,d=B,c=v(z,"Time").$new(this.$year(),1,1),b=c.$wday(),c=this.$year();x(x(a=u(b,4))?b["$!="](0):a)?b=y(b,1):(b=y(y(b,7),1),b["$=="](-8)&&(b=-1));b=F(q(this.$yday(),b),7).$ceil();if(x(u(b,0)))return v(z,"Time").$new(y(this.$year(),
1),12,31).$cweek_cyear();b["$=="](53)&&(d=v(z,"Time").$new(this.$year(),12,31),d=d.$wday(),x(x(a=u(d,3))?d["$!="](0):a)&&(b=1,c=q(c,1)));return[b,c]},da.$$arity=0),B)&&"cweek_cyear"}(g[0],Date,g)},Opal.modules["corelib/struct"]=function(b){function q(b,a){return"number"===typeof b&&"number"===typeof a?b>a:b["$>"](a)}function F(b,a){return"number"===typeof b&&"number"===typeof a?b-a:b["$-"](a)}function y(b,a){return"number"===typeof b&&"number"===typeof a?b<a:b["$<"](a)}function u(b,a){return"number"===
typeof b&&"number"===typeof a?b>=a:b["$>="](a)}function r(b,a){return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)}var g=b.top,B=[],v=b.nil,t=b.const_get_relative,p=b.klass,x=b.hash2,J=b.truthy,L=b.send;b.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" "));
g.$require("corelib/enumerable");return function(g,$super,d){function w(){}g=w=p(g,$super,"Struct",w);var A=[g].concat(d),z,k,m,c,f,l,O,T,n,e,h,E,ya,B,ia,G,aa,fa,ta;g.$include(t(A,"Enumerable"));b.defs(g,"$new",z=function(c,d,e){var f=z.$$p,h=f||v,l,g,n,k;l=v;f&&(z.$$p=null);f&&(z.$$p=null);l=b.slice.call(arguments,1,arguments.length);f=b.extract_kwargs(l);if(null==f)f=x([],{});else if(!f.$$is_hash)throw b.ArgumentError.$new("expected kwargs");g=l;f=f.$$smap.keyword_init;null==f&&(f=!1);if(J(c))try{c=
t(A,"Opal")["$const_name!"](c)}catch(w){if(b.rescue(w,[t(A,"TypeError"),t(A,"NameError")]))try{g.$unshift(c),c=v}finally{b.pop_exception()}else throw w;}L(g,"map",[],(n=function(c){null==c&&(c=v);return t(A,"Opal")["$coerce_to!"](c,t(A,"String"),"to_str")},n.$$s=this,n.$$arity=1,n));l=L(t(A,"Class"),"new",[this],(k=function(){var c=k.$$s||this,d;L(g,"each",[],(d=function(c){var b=d.$$s||this;null==c&&(c=v);return b.$define_struct_attribute(c)},d.$$s=c,d.$$arity=1,d));return function(c,d){[c].concat(d);
var e;b.def(c,"$new",e=function(c){var d,e=v;d=b.slice.call(arguments,0,arguments.length);e=this.$allocate();e.$$data={};L(e,"initialize",b.to_a(d));return e},e.$$arity=-1);return c.$alias_method("[]","new")}(b.get_singleton_class(c),A)},k.$$s=this,k.$$arity=0,k));J(h)&&L(l,"module_eval",[],h.$to_proc());l.$$keyword_init=f;J(c)&&t(A,"Struct").$const_set(c,l);return l},z.$$arity=-2);b.defs(g,"$define_struct_attribute",k=function(c){var b,d;this["$=="](t(A,"Struct"))&&this.$raise(t(A,"ArgumentError"),
"you cannot define attributes to the Struct class");this.$members()["$<<"](c);L(this,"define_method",[c],(b=function(){return(b.$$s||this).$$data[c]},b.$$s=this,b.$$arity=0,b));return L(this,"define_method",[""+c+"="],(d=function(b){var e=d.$$s||this;null==b&&(b=v);return e.$$data[c]=b},d.$$s=this,d.$$arity=1,d))},k.$$arity=1);b.defs(g,"$members",m=function(){var c;null==this.members&&(this.members=v);this["$=="](t(A,"Struct"))&&this.$raise(t(A,"ArgumentError"),"the Struct class has no members");
return this.members=J(c=this.members)?c:[]},m.$$arity=0);b.defs(g,"$inherited",c=function(c){var b,d=v;null==this.members&&(this.members=v);d=this.members;return L(c,"instance_eval",[],(b=function(){return(b.$$s||this).members=d},b.$$s=this,b.$$arity=0,b))},c.$$arity=1);b.def(g,"$initialize",f=function(c){var d,e,f,h,l=v,g=v;d=b.slice.call(arguments,0,arguments.length);if(J(this.$class().$$keyword_init))return l=J(e=d.$last())?e:x([],{}),J(J(e=q(d.$length(),1))?e:1===d.length&&!l.$$is_hash)&&this.$raise(t(A,
"ArgumentError"),"wrong number of arguments (given "+d.$length()+", expected 0)"),g=F(l.$keys(),this.$class().$members()),J(g["$any?"]())&&this.$raise(t(A,"ArgumentError"),"unknown keywords: "+g.$join(", ")),L(this.$class().$members(),"each",[],(f=function(c){var d=f.$$s||this,e=v;null==c&&(c=v);e=[c,l["$[]"](c)];L(d,"[]=",b.to_a(e));return e[F(e.length,1)]},f.$$s=this,f.$$arity=1,f));J(q(d.$length(),this.$class().$members().$length()))&&this.$raise(t(A,"ArgumentError"),"struct size differs");return L(this.$class().$members(),
"each_with_index",[],(h=function(c,e){var f=h.$$s||this,l=v;null==c&&(c=v);null==e&&(e=v);l=[c,d["$[]"](e)];L(f,"[]=",b.to_a(l));return l[F(l.length,1)]},h.$$s=this,h.$$arity=2,h))},f.$$arity=-1);b.def(g,"$members",l=function(){return this.$class().$members()},l.$$arity=0);b.def(g,"$hash",O=function(){return t(A,"Hash").$new(this.$$data).$hash()},O.$$arity=0);b.def(g,"$[]",T=function(c){J(t(A,"Integer")["$==="](c))?(J(y(c,this.$class().$members().$size()["$-@"]()))&&this.$raise(t(A,"IndexError"),
"offset "+c+" too small for struct(size:"+this.$class().$members().$size()+")"),J(u(c,this.$class().$members().$size()))&&this.$raise(t(A,"IndexError"),"offset "+c+" too large for struct(size:"+this.$class().$members().$size()+")"),c=this.$class().$members()["$[]"](c)):J(t(A,"String")["$==="](c))?this.$$data.hasOwnProperty(c)||this.$raise(t(A,"NameError").$new("no member '"+c+"' in struct",c)):this.$raise(t(A,"TypeError"),"no implicit conversion of "+c.$class()+" into Integer");c=t(A,"Opal")["$coerce_to!"](c,
t(A,"String"),"to_str");return this.$$data[c]},T.$$arity=1);b.def(g,"$[]=",n=function(c,b){J(t(A,"Integer")["$==="](c))?(J(y(c,this.$class().$members().$size()["$-@"]()))&&this.$raise(t(A,"IndexError"),"offset "+c+" too small for struct(size:"+this.$class().$members().$size()+")"),J(u(c,this.$class().$members().$size()))&&this.$raise(t(A,"IndexError"),"offset "+c+" too large for struct(size:"+this.$class().$members().$size()+")"),c=this.$class().$members()["$[]"](c)):J(t(A,"String")["$==="](c))?J(this.$class().$members()["$include?"](c.$to_sym()))||
this.$raise(t(A,"NameError").$new("no member '"+c+"' in struct",c)):this.$raise(t(A,"TypeError"),"no implicit conversion of "+c.$class()+" into Integer");c=t(A,"Opal")["$coerce_to!"](c,t(A,"String"),"to_str");return this.$$data[c]=b},n.$$arity=2);b.def(g,"$==",e=function(c){function b(c,f){var h,l,g;d[c.$__id__()]=!0;e[f.$__id__()]=!0;for(h in c.$$data)if(l=c.$$data[h],g=f.$$data[h],t(A,"Struct")["$==="](l)){if(!(d.hasOwnProperty(l.$__id__())&&e.hasOwnProperty(g.$__id__())||b(l,g)))return!1}else if(!l["$=="](g))return!1;
return!0}if(!J(c["$instance_of?"](this.$class())))return!1;var d={},e={};return b(this,c)},e.$$arity=1);b.def(g,"$eql?",h=function(c){function b(c,f){var h,l,g;d[c.$__id__()]=!0;e[f.$__id__()]=!0;for(h in c.$$data)if(l=c.$$data[h],g=f.$$data[h],t(A,"Struct")["$==="](l)){if(!(d.hasOwnProperty(l.$__id__())&&e.hasOwnProperty(g.$__id__())||b(l,g)))return!1}else if(!l["$eql?"](g))return!1;return!0}if(!J(c["$instance_of?"](this.$class())))return!1;var d={},e={};return b(this,c)},h.$$arity=1);b.def(g,"$each",
E=function(){var c,d,e=E.$$p,f=e||v;e&&(E.$$p=null);if(f===v)return L(this,"enum_for",["each"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));L(this.$class().$members(),"each",[],(d=function(c){var e=d.$$s||this;null==c&&(c=v);return b.yield1(f,e["$[]"](c))},d.$$s=this,d.$$arity=1,d));return this},E.$$arity=0);b.def(g,"$each_pair",ya=function(){var c,d,e=ya.$$p,f=e||v;e&&(ya.$$p=null);if(f===v)return L(this,"enum_for",["each_pair"],(c=function(){return(c.$$s||this).$size()},
c.$$s=this,c.$$arity=0,c));L(this.$class().$members(),"each",[],(d=function(c){var e=d.$$s||this;null==c&&(c=v);return b.yield1(f,[c,e["$[]"](c)])},d.$$s=this,d.$$arity=1,d));return this},ya.$$arity=0);b.def(g,"$length",B=function(){return this.$class().$members().$length()},B.$$arity=0);b.alias(g,"size","length");b.def(g,"$to_a",ia=function(){var c;return L(this.$class().$members(),"map",[],(c=function(b){var d=c.$$s||this;null==b&&(b=v);return d["$[]"](b)},c.$$s=this,c.$$arity=1,c))},ia.$$arity=
0);b.alias(g,"values","to_a");b.def(g,"$inspect",G=function(){var c,b,d=v,d="#<struct ";J(J(c=t(A,"Struct")["$==="](this))?this.$class().$name():c)&&(d=r(d,""+this.$class()+" "));d=r(d,L(this.$each_pair(),"map",[],(b=function(c,b){null==c&&(c=v);null==b&&(b=v);return""+c+"="+b.$inspect()},b.$$s=this,b.$$arity=2,b)).$join(", "));return d=r(d,">")},G.$$arity=0);b.alias(g,"to_s","inspect");b.def(g,"$to_h",aa=function(){var c;return L(this.$class().$members(),"each_with_object",[x([],{})],(c=function(d,
e){var f=c.$$s||this,h=v;null==d&&(d=v);null==e&&(e=v);h=[d,f["$[]"](d)];L(e,"[]=",b.to_a(h));return h[F(h.length,1)]},c.$$s=this,c.$$arity=2,c))},aa.$$arity=0);b.def(g,"$values_at",fa=function(c){var d,e;d=b.slice.call(arguments,0,arguments.length);d=L(d,"map",[],(e=function(c){null==c&&(c=v);return c.$$is_range?c.$to_a():c},e.$$s=this,e.$$arity=1,e)).$flatten();e=[];for(var f=0,h=d.length;f<h;f++)d[f].$$is_number||this.$raise(t(A,"TypeError"),"no implicit conversion of "+d[f].$class()+" into Integer"),
e.push(this["$[]"](d[f]));return e},fa.$$arity=-1);return(b.def(g,"$dig",ta=function(c,d){var e,f=v;e=b.slice.call(arguments,1,arguments.length);f=J(c.$$is_string&&this.$$data.hasOwnProperty(c))?this.$$data[c]||v:v;if(f===v||0===e.length)return f;J(f["$respond_to?"]("dig"))||this.$raise(t(A,"TypeError"),""+f.$class()+" does not have #dig method");return L(f,"dig",b.to_a(e))},ta.$$arity=-2),v)&&"dig"}(B[0],null,B)},Opal.modules["corelib/io"]=function(b){function q(b,g){return"number"===typeof b&&"number"===
typeof g?b-g:b["$-"](g)}var F=[],y=b.nil,u=b.const_get_qualified,r=b.const_get_relative,g=b.klass,B=b.module,v=b.send,t=b.gvars,p=b.truthy,x=y;b.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(x,$super,a){function d(){}x=d=g(x,$super,"IO",d);var w=x.prototype;a=[x].concat(a);var A,z,k,m;w.tty=w.closed=y;b.const_set(a[0],"SEEK_SET",0);b.const_set(a[0],"SEEK_CUR",1);b.const_set(a[0],"SEEK_END",
2);b.def(x,"$tty?",A=function(){return this.tty},A.$$arity=0);b.def(x,"$closed?",z=function(){return this.closed},z.$$arity=0);x.$attr_accessor("write_proc");b.def(x,"$write",k=function(a){this.write_proc(a);return a.$size()},k.$$arity=1);x.$attr_accessor("sync","tty");b.def(x,"$flush",m=function(){return y},m.$$arity=0);(function(a,d){function l(){}var g=l=B(a,"Writable",l);[g].concat(d);var k,n,e;b.def(g,"$<<",k=function(a){this.$write(a);return this},k.$$arity=1);b.def(g,"$print",n=function(a){var c,
d;null==t[","]&&(t[","]=y);c=b.slice.call(arguments,0,arguments.length);this.$write(v(c,"map",[],(d=function(a){var c=d.$$s||this;null==a&&(a=y);return c.$String(a)},d.$$s=this,d.$$arity=1,d)).$join(t[","]));return y},n.$$arity=-1);b.def(g,"$puts",e=function(a){var c,d,e=y;null==t["/"]&&(t["/"]=y);c=b.slice.call(arguments,0,arguments.length);e=t["/"];p(c["$empty?"]())?this.$write(t["/"]):this.$write(v(c,"map",[],(d=function(a){var c=d.$$s||this;null==a&&(a=y);return c.$String(a).$chomp()},d.$$s=this,
d.$$arity=1,d)).$concat([y]).$join(e));return y},e.$$arity=-1)})(a[0],a);return function(a,d){function l(){}var g=l=B(a,"Readable",l),k=[g].concat(d),n,e,h,w;b.def(g,"$readbyte",n=function(){return this.$getbyte()},n.$$arity=0);b.def(g,"$readchar",e=function(){return this.$getc()},e.$$arity=0);b.def(g,"$readline",h=function(a){null==t["/"]&&(t["/"]=y);return this.$raise(r(k,"NotImplementedError"))},h.$$arity=-1);b.def(g,"$readpartial",w=function(a,c){return this.$raise(r(k,"NotImplementedError"))},
w.$$arity=-2)}(a[0],a)})(F[0],null,F);b.const_set(F[0],"STDERR",t.stderr=r(F,"IO").$new());b.const_set(F[0],"STDIN",t.stdin=r(F,"IO").$new());b.const_set(F[0],"STDOUT",t.stdout=r(F,"IO").$new());var J=b.global.console,x=["object"===typeof process&&"object"===typeof process.stdout?function(b){process.stdout.write(b)}:function(b){J.log(b)}];v(r(F,"STDOUT"),"write_proc=",b.to_a(x));x[q(x.length,1)];x=["object"===typeof process&&"object"===typeof process.stderr?function(b){process.stderr.write(b)}:function(b){J.warn(b)}];
v(r(F,"STDERR"),"write_proc=",b.to_a(x));x[q(x.length,1)];r(F,"STDOUT").$extend(u(r(F,"IO"),"Writable"));return r(F,"STDERR").$extend(u(r(F,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(b){var q,F,y=b.top,u=[],r=b.nil,g=b.const_get_relative;b.add_stubs(["$include"]);b.defs(y,"$to_s",q=function(){return"main"},q.$$arity=0);return(b.defs(y,"$include",F=function(b){return g(u,"Object").$include(b)},F.$$arity=1),r)&&"include"},Opal.modules["corelib/dir"]=function(b){var q=[],F=b.nil,y=b.const_get_relative,
u=b.klass,r=b.truthy;b.add_stubs(["$[]"]);return function(g,$super,v){function t(){}g=t=u(g,$super,"Dir",t);v=[g].concat(v);return function(g,v){var t=[g].concat(v),u,q,a;b.def(g,"$chdir",u=function(a){var g=u.$$p,A=g||F,z=F;g&&(u.$$p=null);var k;a:{try{z=b.current_dir;b.current_dir=a;k=b.yieldX(A,[]);break a}finally{b.current_dir=z}k=void 0}return k},u.$$arity=1);b.def(g,"$pwd",q=function(){return b.current_dir||"."},q.$$arity=0);b.alias(g,"getwd","pwd");return(b.def(g,"$home",a=function(){var a;
return r(a=y(t,"ENV")["$[]"]("HOME"))?a:"."},a.$$arity=0),F)&&"home"}(b.get_singleton_class(g),v)}(q[0],null,q)},Opal.modules["corelib/file"]=function(b){function q(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function F(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}var y=[],u=b.nil,r=b.const_get_relative,g=b.klass,B=b.truthy,v=b.range,t=b.send;b.add_stubs("$home $raise $start_with? $+ $sub $pwd $split $unshift $join $respond_to? $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));
return function(p,$super,y){function L(){}p=L=g(p,$super,"File",L);y=[p].concat(y);var P=u;b.const_set(y[0],"Separator",b.const_set(y[0],"SEPARATOR","/"));b.const_set(y[0],"ALT_SEPARATOR",u);b.const_set(y[0],"PATH_SEPARATOR",":");b.const_set(y[0],"FNM_SYSCASE",0);P=/^[a-zA-Z]:(?:\\|\/)/;return function(a,d){function g(a){B(a["$respond_to?"]("to_path"))&&(a=a.$to_path());return a=r(z,"Opal")["$coerce_to!"](a,r(z,"String"),"to_str")}function A(){return r(z,"ALT_SEPARATOR")===u?b.escape_regexp(r(z,"SEPARATOR")):
b.escape_regexp(q(r(z,"SEPARATOR"),r(z,"ALT_SEPARATOR")))}var z=[a].concat(d),k,m,c,f,l,O,T,n;b.def(a,"$expand_path",k=function(a,c){var b,d=u,f=u,l=u,g=u,n=u,d=n=f=g=n=g=u;null==c&&(c=u);d=r(z,"SEPARATOR");f=A();l=[];B("~"===a[0]||c&&"~"===c[0])&&(g=r(z,"Dir").$home(),B(g)||this.$raise(r(z,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),B(g["$start_with?"](d))||this.$raise(r(z,"ArgumentError"),"non-absolute home"),g=q(g,d),n=new RegExp("^\\~(?:"+d+"|$)"),a=a.$sub(n,g),B(c)&&(c=
c.$sub(n,g)));c=B(b=c)?b:r(z,"Dir").$pwd();g=a.substr(0,d.length)===d||P.test(a);n=c.substr(0,d.length)===d||P.test(c);B(g)?(g=a.$split(new RegExp("["+f+"]")),f=P.test(a)?"":a.$sub(new RegExp("^(["+f+"]+).*$"),"\\1"),n=!0):(g=q(c.$split(new RegExp("["+f+"]")),a.$split(new RegExp("["+f+"]"))),f=P.test(c)?"":c.$sub(new RegExp("^(["+f+"]+).*$"),"\\1"));for(var k=0,w=g.length;k<w;k++)b=g[k],b===u||""===b&&(0===l.length||n)||"."===b&&(0===l.length||n)||(".."===b?l.pop():l.push(b));n||"."===g[0]||l.$unshift(".");
d=l.$join(d);B(n)&&(d=q(f,d));return d},k.$$arity=-2);b.alias(a,"realpath","expand_path");b.def(a,"$dirname",m=function(a){var c=u,c=A();a=g(a);var b=a.match(new RegExp("^["+c+"]"));a=a.replace(new RegExp("["+c+"]+$"),"");a=a.replace(new RegExp("[^"+c+"]+$"),"");a=a.replace(new RegExp("["+c+"]+$"),"");return""===a?b?"/":".":a},m.$$arity=1);b.def(a,"$basename",c=function(a,c){var d=u;null==c&&(c=u);d=A();a=g(a);if(0==a.length)return a;c=c!==u?r(z,"Opal")["$coerce_to!"](c,r(z,"String"),"to_str"):null;
a=a.replace(new RegExp("(.)["+d+"]*$"),"$1");a=a.replace(new RegExp("^(?:.*["+d+"])?([^"+d+"]+)$"),"$1");".*"===c?a=a.replace(/\.[^\.]+$/,""):null!==c&&(c=b.escape_regexp(c),a=a.replace(new RegExp(""+c+"$"),""));return a},c.$$arity=-2);b.def(a,"$extname",f=function(a){var c,d=u,f=u;a=g(a);d=this.$basename(a);if(B(d["$empty?"]()))return"";f=d["$[]"](v(1,-1,!1)).$rindex(".");return B(B(c=f["$nil?"]())?c:q(f,1)["$=="](F(d.$length(),1)))?"":d["$[]"](b.Range.$new(q(f,1),-1,!1))},f.$$arity=1);b.def(a,"$exist?",
l=function(a){return null!=b.modules[a]},l.$$arity=1);b.alias(a,"exists?","exist?");b.def(a,"$directory?",O=function(a){var c,d=u,d=u,d=[],f;for(f in b.modules)d.push(f);a=a.$gsub(new RegExp("(^."+r(z,"SEPARATOR")+"+|"+r(z,"SEPARATOR")+"+$)"));return d=t(d,"find",[],(c=function(c){null==c&&(c=u);return c["$=~"](new RegExp("^"+a))},c.$$s=this,c.$$arity=1,c))},O.$$arity=1);b.def(a,"$join",T=function(a){var c,d,f,l=u;c=b.slice.call(arguments,0,arguments.length);if(B(c["$empty?"]()))return"";l="";c=t(c.$flatten().$each_with_index(),
"map",[],(d=function(a,b){null==a&&(a=u);null==b&&(b=u);return B(b["$=="](0)?a["$empty?"]():b["$=="](0))?r(z,"SEPARATOR"):B(c.$length()["$=="](q(b,1))?a["$empty?"]():c.$length()["$=="](q(b,1)))?r(z,"SEPARATOR"):a},d.$$s=this,d.$$arity=2,d));c=t(c,"reject",[],"empty?".$to_proc());t(c,"each_with_index",[],(f=function(a,b){var d,e=u;null==a&&(a=u);null==b&&(b=u);e=c["$[]"](q(b,1));if(B(e["$nil?"]()))return l=""+l+a;B(B(d=a["$end_with?"](r(z,"SEPARATOR")))?e["$start_with?"](r(z,"SEPARATOR")):d)&&(a=a.$sub(new RegExp(""+
r(z,"SEPARATOR")+"+$"),""));return l=B(B(d=a["$end_with?"](r(z,"SEPARATOR")))?d:e["$start_with?"](r(z,"SEPARATOR")))?""+l+a:""+l+a+r(z,"SEPARATOR")},f.$$s=this,f.$$arity=2,f));return l},T.$$arity=-1);return(b.def(a,"$split",n=function(a){return a.$split(r(z,"SEPARATOR"))},n.$$arity=1),u)&&"split"}(b.get_singleton_class(p),y)}(y[0],r(y,"IO"),y)},Opal.modules["corelib/process"]=function(b){var q=[],F=b.nil,y=b.const_get_qualified,u=b.const_get_relative,r=b.klass,g=b.truthy;b.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));
(function(q,$super,t){function p(){}q=p=r(q,$super,"Process",p);var x=[q].concat(t),J,L,P,a;t=F;q.__clocks__=[];b.defs(q,"$__register_clock__",J=function(a,b){null==this.__clocks__&&(this.__clocks__=F);this.$const_set(a,this.__clocks__.$size());return this.__clocks__["$<<"](b)},J.$$arity=2);q.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()});t=!1;if(b.global.performance)t=function(){return performance.now()};else if(b.global.process&&process.hrtime){var d=process.hrtime();t=function(){var a=
process.hrtime(d);return 1E3*a[0]+(a[1]/1E3|0)/1E3}}g(t)&&q.$__register_clock__("CLOCK_MONOTONIC",t);b.defs(q,"$pid",L=function(){return 0},L.$$arity=0);b.defs(q,"$times",P=function(){var a=F,a=u(x,"Time").$now().$to_f();return y(u(x,"Benchmark"),"Tms").$new(a,a,a,a,a)},P.$$arity=0);return(b.defs(q,"$clock_gettime",a=function(a,b){var d,k=F;null==this.__clocks__&&(this.__clocks__=F);null==b&&(b="float_second");g(d=k=this.__clocks__["$[]"](a))?d:this.$raise(y(u(x,"Errno"),"EINVAL"),"clock_gettime("+
a+") "+this.__clocks__["$[]"](a));d=k();switch(b){case "float_second":return d/1E3;case "float_millisecond":return d/1;case "float_microsecond":return 1E3*d;case "second":return d/1E3|0;case "millisecond":return d/1|0;case "microsecond":return 1E3*d|0;case "nanosecond":return 1E6*d|0;default:this.$raise(u(x,"ArgumentError"),"unexpected unit: "+b)}},a.$$arity=-2),F)&&"clock_gettime"})(q[0],null,q);(function(g,$super,t){function p(){}g=p=r(g,$super,"Signal",p);[g].concat(t);var x;return(b.defs(g,"$trap",
x=function(g){b.slice.call(arguments,0,arguments.length);return F},x.$$arity=-1),F)&&"trap"})(q[0],null,q);return function(g,$super,t){function p(){}g=p=r(g,$super,"GC",p);[g].concat(t);var x;return(b.defs(g,"$start",x=function(){return F},x.$$arity=0),F)&&"start"}(q[0],null,q)},Opal.modules["corelib/random/seedrandom"]=function(b){var q=[],F=b.klass;return function(b,$super,q){function g(){}[g=F(b,$super,"Random",g)].concat(q);!function(b,g){function t(d,l,n){var e=[];l=1==l?{entropy:!0}:l||{};d=
r(q(l.entropy?[d,a(b)]:null==d?y():d,3),e);var h=new p(e),e=function(){for(var a=h.g(z),b=m,d=0;a<c;)a=(a+d)*A,b*=A,d=h.g(1);for(;a>=f;)a/=2,b/=2,d>>>=1;return(a+d)/b};return e.int32=function(){return 0|h.g(4)},e.quick=function(){return h.g(4)/4294967296},e["double"]=e,r(a(h.S),b),(l.pass||n||function(a,c,b,d){return d&&(d.S&&x(d,h),a.state=function(){return x(h,{})}),b?(g[k]=a,c):a})(e,d,"global"in l?l.global:this==g,l.state)}function p(a){var c,b=a.length,d=this,f=0,g=d.i=d.j=0,k=d.S=[];for(b||
(a=[b++]);f<A;)k[f]=f++;for(f=0;f<A;f++)k[f]=k[g=l&g+a[f%b]+(c=k[f])],k[g]=c;(d.g=function(a){for(var c,b=0,f=d.i,h=d.j,g=d.S;a--;)c=g[f=l&f+1],b=b*A+g[l&(g[f]=g[h=l&h+c])+(g[h]=c)];return d.i=f,d.j=h,b})(A)}function x(a,c){return c.i=a.i,c.j=a.j,c.S=a.S.slice(),c}function q(a,c){var b,d=[],f=typeof a;if(c&&"object"==f)for(b in a)if(a.hasOwnProperty(b))try{d.push(q(a[b],c-1))}catch(l){}return d.length?d:"string"==f?a:a+"\x00"}function r(c,b){for(var d,e=c+"",f=0;f<e.length;)b[l&f]=l&(d^=19*b[l&f])+
e.charCodeAt(f++);return a(b)}function y(){try{if(d)return a(d.randomBytes(A));var c=new Uint8Array(A);return(w.crypto||w.msCrypto).getRandomValues(c),a(c)}catch(f){return c=w.navigator,[+new Date,w,c&&c.plugins,w.screen,a(b)]}}function a(a){return String.fromCharCode.apply(0,a)}var d,w=this,A=256,z=6,k="random",m=g.pow(A,z),c=g.pow(2,52),f=2*c,l=A-1;if(g["seed"+k]=t,r(g.random(),b),"object"==typeof module&&module.exports){module.exports=t;try{d=require("crypto")}catch(O){}}else"function"==typeof define&&
define.amd&&define("seekrandom",function(){return t})}([],Math)}(q[0],null,q)},Opal.modules["corelib/random"]=function(b){var q=b.top,F=[],y=b.nil,u=b.const_get_relative,r=b.klass,g=b.truthy,B=b.send;b.add_stubs("$require $attr_reader $new_seed $coerce_to! $reseed $rand $seed $< $raise $encode $join $new $chr $=== $== $state".split(" "));q.$require("corelib/random/seedrandom.js");return function(v,$super,p){function x(){}v=x=r(v,$super,"Random",x);var q=[v].concat(p),F,P,a,d,w,A,z,k,m;v.$attr_reader("seed",
"state");b.def(v,"$initialize",F=function(a){null==a&&(a=u(q,"Random").$new_seed());this.state=a=u(q,"Opal")["$coerce_to!"](a,u(q,"Integer"),"to_int");return this.$reseed(a)},F.$$arity=-1);b.def(v,"$reseed",P=function(a){this.seed=a;return this.$rng=new Math.seedrandom(a)},P.$$arity=1);var c=new Math.seedrandom("opal",{entropy:!0});b.defs(v,"$new_seed",a=function(){return Math.abs(c.int32())},a.$$arity=0);b.defs(v,"$rand",d=function(a){return u(q,"DEFAULT").$rand(a)},d.$$arity=-1);b.defs(v,"$srand",
w=function(a){var c=y;null==a&&(a=u(q,"Random").$new_seed());a=u(q,"Opal")["$coerce_to!"](a,u(q,"Integer"),"to_int");c=u(q,"DEFAULT").$seed();u(q,"DEFAULT").$reseed(a);return c},w.$$arity=-1);b.defs(v,"$urandom",A=function(a){var c;a=u(q,"Opal")["$coerce_to!"](a,u(q,"Integer"),"to_int");g("number"===typeof a?0>a:a["$<"](0))&&this.$raise(u(q,"ArgumentError"),"negative string size (or size too big)");return B(u(q,"Array"),"new",[a],(c=function(){return(c.$$s||this).$rand(255).$chr()},c.$$s=this,c.$$arity=
0,c)).$join().$encode("ASCII-8BIT")},A.$$arity=1);b.const_set(q[0],"DEFAULT",v.$new(v.$new_seed()));b.def(v,"$==",z=function(a){return g(u(q,"Random")["$==="](a))?this.$seed()["$=="](a.$seed())?this.$state()["$=="](a.$state()):this.$seed()["$=="](a.$seed()):!1},z.$$arity=1);b.def(v,"$bytes",k=function(a){var c;a=u(q,"Opal")["$coerce_to!"](a,u(q,"Integer"),"to_int");return B(u(q,"Array"),"new",[a],(c=function(){return(c.$$s||this).$rand(255).$chr()},c.$$s=this,c.$$arity=0,c)).$join().$encode("ASCII-8BIT")},
k.$$arity=1);return(b.def(v,"$rand",m=function(a){function c(){d.state++;return d.$rng.quick()}function b(){var c=a.begin,e=a.end;if(c===y||e===y)return y;var h=e-c;if(0>h)return y;if(0===h)return c;0!==e%1||0!==c%1||a.excl||h++;return d.$rand(h)+c}var d=this;if(null==a)return c();if(a.$$is_range)return b();if(a.$$is_number)return 0>=a&&d.$raise(u(q,"ArgumentError"),"invalid argument - "+a),0===a%1?Math.floor(c()*a):c()*a;a=u(q,"Opal")["$coerce_to!"](a,u(q,"Integer"),"to_int");0>=a&&d.$raise(u(q,
"ArgumentError"),"invalid argument - "+a);return Math.floor(c()*a)},m.$$arity=-1),y)&&"rand"}(F[0],null,F)},Opal.modules["corelib/unsupported"]=function(b){function q(g){switch(b.config.unsupported_features_severity){case "error":B(r,"Kernel").$raise(B(r,"NotImplementedError"),g);break;case "warning":p[g]||(p[g]=!0,u.$warn(g))}}var F,y,u=b.top,r=[],g=b.nil,B=b.const_get_relative,v=b.klass,t=b.module;b.add_stubs(["$raise","$warn","$%"]);var p={};(function(t,$super,p){function q(){}t=q=v(t,$super,"String",
q);var a=[t].concat(p),d,w,A,z,k,m,c,f,l,O,T,n,e,h,E,r,u,y,G,F,fa,ta,ma;b.def(t,"$<<",d=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},d.$$arity=-1);b.def(t,"$capitalize!",w=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},
w.$$arity=-1);b.def(t,"$chomp!",A=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},A.$$arity=-1);b.def(t,"$chop!",z=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},z.$$arity=-1);b.def(t,"$downcase!",k=function(c){b.slice.call(arguments,
0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},k.$$arity=-1);b.def(t,"$gsub!",m=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},m.$$arity=-1);b.def(t,"$lstrip!",c=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},c.$$arity=-1);b.def(t,"$next!",f=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},f.$$arity=-1);b.def(t,"$reverse!",l=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},
l.$$arity=-1);b.def(t,"$slice!",O=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},O.$$arity=-1);b.def(t,"$squeeze!",T=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},T.$$arity=-1);b.def(t,"$strip!",n=function(c){b.slice.call(arguments,
0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},n.$$arity=-1);b.def(t,"$sub!",e=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},e.$$arity=-1);b.def(t,"$succ!",h=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},h.$$arity=-1);b.def(t,"$swapcase!",E=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},E.$$arity=-1);b.def(t,"$tr!",r=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},
r.$$arity=-1);b.def(t,"$tr_s!",u=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},u.$$arity=-1);b.def(t,"$upcase!",y=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},y.$$arity=-1);b.def(t,"$prepend",G=function(c){b.slice.call(arguments,
0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},G.$$arity=-1);b.def(t,"$[]=",F=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},F.$$arity=-1);b.def(t,"$clear",fa=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},fa.$$arity=-1);b.def(t,"$encode!",ta=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},ta.$$arity=-1);return(b.def(t,"$unicode_normalize!",ma=function(c){b.slice.call(arguments,0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},
ma.$$arity=-1),g)&&"unicode_normalize!"})(r[0],null,r);(function(g,v){function p(){}var r=p=t(g,"Kernel",p);[r].concat(v);var a,d;b.def(r,"$freeze",a=function(){q("Object freezing is not supported by Opal");return this},a.$$arity=0);b.def(r,"$frozen?",d=function(){q("Object freezing is not supported by Opal");return!1},d.$$arity=0)})(r[0],r);(function(g,v){function p(){}var r=p=t(g,"Kernel",p);[r].concat(v);var a,d,w;b.def(r,"$taint",a=function(){q("Object tainting is not supported by Opal");return this},
a.$$arity=0);b.def(r,"$untaint",d=function(){q("Object tainting is not supported by Opal");return this},d.$$arity=0);b.def(r,"$tainted?",w=function(){q("Object tainting is not supported by Opal");return!1},w.$$arity=0)})(r[0],r);(function(t,$super,p){function q(){}t=q=v(t,$super,"Module",q);[t].concat(p);var a,d,w,A;b.def(t,"$public",a=function(a){0===b.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return g},a.$$arity=-1);b.alias(t,"private","public");b.alias(t,"protected",
"public");b.alias(t,"nesting","public");b.def(t,"$private_class_method",d=function(a){b.slice.call(arguments,0,arguments.length);return this},d.$$arity=-1);b.alias(t,"public_class_method","private_class_method");b.def(t,"$private_method_defined?",w=function(a){return!1},w.$$arity=1);b.def(t,"$private_constant",A=function(a){b.slice.call(arguments,0,arguments.length);return g},A.$$arity=-1);b.alias(t,"protected_method_defined?","private_method_defined?");b.alias(t,"public_instance_methods","instance_methods");
b.alias(t,"public_instance_method","instance_method");return b.alias(t,"public_method_defined?","method_defined?")})(r[0],null,r);(function(g,v){function p(){}var q=p=t(g,"Kernel",p);[q].concat(v);var a;b.def(q,"$private_methods",a=function(a){b.slice.call(arguments,0,arguments.length);return[]},a.$$arity=-1);b.alias(q,"private_instance_methods","private_methods")})(r[0],r);(function(g,v){function p(){}var q=p=t(g,"Kernel",p),a=[q].concat(v),d;b.def(q,"$eval",d=function(d){b.slice.call(arguments,
0,arguments.length);return this.$raise(B(a,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+B(a,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},d.$$arity=-1)})(r[0],r);b.defs(u,"$public",F=function(t){b.slice.call(arguments,0,arguments.length);return g},F.$$arity=-1);return(b.defs(u,"$private",y=function(t){b.slice.call(arguments,0,arguments.length);return g},y.$$arity=-1),g)&&"private"},function(b){var q=b.top;
b.add_stubs(["$require"]);q.$require("opal/base");q.$require("opal/mini");q.$require("corelib/string/encoding");q.$require("corelib/math");q.$require("corelib/complex");q.$require("corelib/rational");q.$require("corelib/time");q.$require("corelib/struct");q.$require("corelib/io");q.$require("corelib/main");q.$require("corelib/dir");q.$require("corelib/file");q.$require("corelib/process");q.$require("corelib/random");return q.$require("corelib/unsupported")}(Opal));Function.call=functionCall;
(function(b,q){"object"===typeof module&&module.exports?module.exports=q:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(b){return q(b.config())}):b.Asciidoctor=q})(this,function(b){function q(a,b,g,A,z){var k=Opal.klass(Opal.Object,a,b,function(){}),m,c,f={},l;for(l in g)g.hasOwnProperty(l)&&function(a){var b=g[a];"postConstruct"===a?m=b:"initialize"===a?c=b:(A&&A.hasOwnProperty(a)&&(f[a]=!0),Opal.def(k,"$"+a,function(){var c;c=z&&z.hasOwnProperty(a)?z[a](arguments):
arguments;return b.apply(this,c)}))}(l);var t;t="function"===typeof c?function(){c.apply(this,arguments);"function"===typeof m&&m.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",t));"function"===typeof m&&m.bind(this)()};Opal.def(k,"$initialize",t);Opal.def(k,"super",function(a){if("function"===typeof a)Opal.send(this,Opal.find_super_dispatcher(this,a.name,a));else{for(var c=Array.from(arguments),b=0;b<c.length;b++)"object"===typeof c[b]&&(c[b]=r(c[b]));Opal.send(this,
Opal.find_super_dispatcher(this,"initialize",t),c)}});if(A)for(var v in A)A.hasOwnProperty(v)&&!f.hasOwnProperty(v)&&function(a){var c=A[a];Opal.def(k,"$"+a,function(){return c.apply(this,arguments)})}(v);return k}function F(a,b){var w=Opal.const_get_qualified(Opal.Logger,"Formatter");return q(w,a,b,{},{call:function(a){for(var b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));return a}})}function y(a,b){var w=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return q(w,
a,b,{},{add:function(a){if(2<=a.length&&"object"===typeof a[2]&&"$$smap"in a[2]){var b=g(a[2]);b.getText=function(){return this.text};b.getSourceLocation=function(){return this.source_location};b.$inspect=function(){var a=this.getSourceLocation();return a?a.getPath()+": line "+a.getLineNumber()+": "+this.getText():this.getText()};a[2]=b}return a}})}function u(a,b,g){a=Opal.const_get_qualified(P,a);return q(a,b,g,{"handles?":function(){return!0}})}Opal.modules["asciidoctor/js/opal_ext/nashorn/dir"]=
function(a){var b=[],g=a.klass;return function(b,$super,d){function m(){}b=m=g(b,$super,"Dir",m);d=[b].concat(d);return function(c,b){[c].concat(b);var d;a.def(c,"$pwd",d=function(){return Java.type("java.nio.file.Paths").get("").toAbsolutePath().toString()},d.$$arity=0);return a.alias(c,"getwd","pwd")}(a.get_singleton_class(b),d)}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/nashorn/file"]=function(a){var b=[],g=a.nil,A=a.klass;return function(b,$super,d){function c(){}b=c=A(b,$super,"File",
c);[b].concat(d);var f;return(a.defs(b,"$read",f=function(a){var c=Java.type("java.nio.file.Paths"),b=[];Java.type("java.nio.file.Files").readAllLines(c.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){b.push(a)});return b.join("\n")},f.$$arity=1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var g=a.nil,A=a.send,z=a.gvars,k=g;null==z.stdout&&(z.stdout=
g);null==z.stderr&&(z.stderr=g);a.add_stubs(["$write_proc=","$-"]);k=[function(a){print(a)}];A(z.stdout,"write_proc=",a.to_a(k));k[b(k.length,1)];k=[function(a){print(a)}];A(z.stderr,"write_proc=",a.to_a(k));return k[b(k.length,1)]};Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var g=a.nil,A=a.send,z=a.gvars,k=g;null==z.stdout&&(z.stdout=g);null==z.stderr&&(z.stderr=g);a.add_stubs(["$write_proc=","$-"]);
k=[function(a){console.log(a)}];A(z.stdout,"write_proc=",a.to_a(k));k[b(k.length,1)];k=[function(a){console.error(a)}];A(z.stderr,"write_proc=",a.to_a(k));return k[b(k.length,1)]};Opal.modules["asciidoctor/js/opal_ext/phantomjs/file"]=function(a){var b=[],g=a.nil,A=a.klass;return function(b,$super,d){function c(){}b=c=A(b,$super,"File",c);[b].concat(d);var f;return(a.defs(b,"$read",f=function(a){return require("fs").read(a)},f.$$arity=1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/spidermonkey/file"]=
function(a){var b=[],g=a.nil,A=a.klass;return function(b,$super,d){function c(){}b=c=A(b,$super,"File",c);[b].concat(d);var f;return(a.defs(b,"$read",f=function(a){return read(a)},f.$$arity=1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(a){var b=[],g=a.nil,A=a.const_get_relative,z=a.klass;a.add_stubs(["$new"]);return function(b,$super,c){function d(){}b=d=z(b,$super,"File",d);var l=[b].concat(c),t;return(a.defs(b,"$read",t=function(a){var c="",b=-1;try{var d=
new XMLHttpRequest;d.open("GET",a,!1);d.addEventListener("load",function(){b=this.status;if(0===b||200===b)c=this.responseText});d.overrideMimeType("text/plain");d.send()}catch(f){throw A(l,"IOError").$new("Error reading file or directory: "+a+"; reason: "+f.message);}if(404===b||0===b&&!c)throw A(l,"IOError").$new("No such file or directory: "+a);return c},t.$$arity=1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/umd"]=function(a){var d,g=a.top,A=[],z=a.nil,k=a.const_get_relative,
m=a.truthy;a.add_stubs(["$==","$require"]);var c="object"===typeof process&&"object"===typeof process.versions&&1!=process.browser,f="object"===typeof navigator&&"string"===typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),l="object"===typeof window,t="object"===typeof Java&&Java.type,v="object"===typeof java,n="object"===typeof window&&"object"===typeof window.phantom,e="function"===typeof importScripts,h="object"===typeof JSRuntime,E,p,q,r;"object"===typeof b&&"object"===
typeof b.runtime&&(r=b.runtime,E=r.platform,p=r.engine,q=r.framework,r=r.ioModule);"undefined"===typeof E&&(c?(E=E||"node",p=p||"v8",f&&(q=q||"electron")):t?(E=E||"java",p=p||"nashorn"):v?(E=E||"java",p=p||"rhino"):h?(E=E||"standalone",q=q||"spidermonkey"):l&&(E=E||"browser",n&&(q=q||"phantomjs")),e&&(q=q||"webworker"));if("undefined"===typeof E)throw Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");"undefined"===
typeof q&&(q="");"undefined"===typeof p&&(p="");if("undefined"!==typeof r){if("spidermonkey"!==r&&"phantomjs"!==r&&"node"!==r&&"java_nio"!==r&&"xmlhttprequest"!==r)throw Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest");}else if("spidermonkey"===q)r="spidermonkey";else if("phantomjs"===q)r="phantomjs";else if("node"===E)r="node";else if("nashorn"===p)r="java_nio";else if("browser"===E||"undefined"!==typeof XmlHTTPRequest)r="xmlhttprequest";
else throw Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");a.const_set(A[0],"JAVASCRIPT_IO_MODULE",r);a.const_set(A[0],"JAVASCRIPT_PLATFORM",E);a.const_set(A[0],"JAVASCRIPT_ENGINE",p);a.const_set(A[0],"JAVASCRIPT_FRAMEWORK",q);m(m(d=k(A,"JAVASCRIPT_ENGINE")["$=="]("nashorn"))?d:k(A,"JAVASCRIPT_IO_MODULE")["$=="]("java_nio"))&&(g.$require("asciidoctor/js/opal_ext/nashorn/dir"),g.$require("asciidoctor/js/opal_ext/nashorn/file"),
g.$require("asciidoctor/js/opal_ext/nashorn/io"));k(A,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&g.$require("asciidoctor/js/opal_ext/electron/io");k(A,"JAVASCRIPT_PLATFORM")["$=="]("node")&&a.load("nodejs");k(A,"JAVASCRIPT_IO_MODULE")["$=="]("phantomjs")&&g.$require("asciidoctor/js/opal_ext/phantomjs/file");k(A,"JAVASCRIPT_IO_MODULE")["$=="]("spidermonkey")&&g.$require("asciidoctor/js/opal_ext/spidermonkey/file");return k(A,"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?g.$require("asciidoctor/js/opal_ext/browser/file"):
z};Opal.modules.set=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function A(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var z=[],k=a.nil,m=a.const_get_relative,c=a.klass,f=a.hash2,l=a.truthy,t=a.send,v=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(n,$super,h){function E(){}n=E=c(n,$super,"Set",E);var z=n.prototype,v=[n].concat(h),p,G,T,q,r,u,x,C,D,y,ha,va,V,ka,N,W,R,ba,S,qa,B,U,F,ga,ca,J,ea,L;z.hash=k;n.$include(m(v,"Enumerable"));a.defs(n,"$[]",p=function(c){var b;b=a.slice.call(arguments,0,arguments.length);return this.$new(b)},p.$$arity=-1);a.def(n,"$initialize",G=function(c){var b=G.$$p,d=b||k,h;b&&(G.$$p=null);b&&(G.$$p=null);null==c&&(c=k);this.hash=f([],{});if(l(c["$nil?"]()))return k;l(m(v,"Enumerable")["$==="](c))||this.$raise(m(v,
"ArgumentError"),"value must be enumerable");return l(d)?t(c,"each",[],(h=function(c){var b=h.$$s||this;null==c&&(c=k);return b.$add(a.yield1(d,c))},h.$$s=this,h.$$arity=1,h)):this.$merge(c)},G.$$arity=-1);a.def(n,"$dup",T=function(){var a=k,a=this.$class().$new();return a.$merge(this)},T.$$arity=0);a.def(n,"$-",q=function(a){l(a["$respond_to?"]("each"))||this.$raise(m(v,"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},q.$$arity=1);a.alias(n,"difference","-");a.def(n,
"$inspect",r=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},r.$$arity=0);a.def(n,"$==",u=function(a){var c,b;return l(this["$equal?"](a))?!0:l(a["$instance_of?"](this.$class()))?this.hash["$=="](a.$instance_variable_get("@hash")):l(l(c=a["$is_a?"](m(v,"Set")))?this.$size()["$=="](a.$size()):c)?t(a,"all?",[],(b=function(a){var c=b.$$s||this;null==c.hash&&(c.hash=k);null==a&&(a=k);return c.hash["$include?"](a)},b.$$s=this,b.$$arity=1,b)):!1},u.$$arity=1);a.def(n,"$add",x=function(c){var f=
k,f=[c,!0];t(this.hash,"[]=",a.to_a(f));f[b(f.length,1)];return this},x.$$arity=1);a.alias(n,"<<","add");a.def(n,"$classify",C=function(){var c=C.$$p,f=c||k,h,g,l=k;c&&(C.$$p=null);c&&(C.$$p=null);if(f===k)return this.$enum_for("classify");l=t(m(v,"Hash"),"new",[],(h=function(c,f){var g=h.$$s||this,l=k;null==c&&(c=k);null==f&&(f=k);l=[f,g.$class().$new()];t(c,"[]=",a.to_a(l));return l[b(l.length,1)]},h.$$s=this,h.$$arity=2,h));t(this,"each",[],(g=function(c){null==c&&(c=k);return l["$[]"](a.yield1(f,
c)).$add(c)},g.$$s=this,g.$$arity=1,g));return l},C.$$arity=0);a.def(n,"$collect!",D=function(){var c=D.$$p,b=c||k,d,f=k;c&&(D.$$p=null);c&&(D.$$p=null);if(b===k)return this.$enum_for("collect!");f=this.$class().$new();t(this,"each",[],(d=function(c){null==c&&(c=k);return f["$<<"](a.yield1(b,c))},d.$$s=this,d.$$arity=1,d));return this.$replace(f)},D.$$arity=0);a.alias(n,"map!","collect!");a.def(n,"$delete",y=function(a){this.hash.$delete(a);return this},y.$$arity=1);a.def(n,"$delete?",ha=function(a){return l(this["$include?"](a))?
(this.$delete(a),this):k},ha.$$arity=1);a.def(n,"$delete_if",va=function(){var c,b,d=va.$$p,f=d||k;d&&(va.$$p=null);if(f===k)return this.$enum_for("delete_if");t(t(this,"select",[],(c=function(c){null==c&&(c=k);return a.yield1(f,c)},c.$$s=this,c.$$arity=1,c)),"each",[],(b=function(a){var c=b.$$s||this;null==c.hash&&(c.hash=k);null==a&&(a=k);return c.hash.$delete(a)},b.$$s=this,b.$$arity=1,b));return this},va.$$arity=0);a.def(n,"$add?",V=function(a){return l(this["$include?"](a))?k:this.$add(a)},V.$$arity=
1);a.def(n,"$each",ka=function(){var a=ka.$$p,c=a||k;a&&(ka.$$p=null);a&&(ka.$$p=null);if(c===k)return this.$enum_for("each");t(this.hash,"each_key",[],c.$to_proc());return this},ka.$$arity=0);a.def(n,"$empty?",N=function(){return this.hash["$empty?"]()},N.$$arity=0);a.def(n,"$eql?",W=function(a){var c;return this.hash["$eql?"](t(a,"instance_eval",[],(c=function(){var a=c.$$s||this;null==a.hash&&(a.hash=k);return a.hash},c.$$s=this,c.$$arity=0,c)))},W.$$arity=1);a.def(n,"$clear",R=function(){this.hash.$clear();
return this},R.$$arity=0);a.def(n,"$include?",ba=function(a){return this.hash["$include?"](a)},ba.$$arity=1);a.alias(n,"member?","include?");a.def(n,"$merge",S=function(a){var c;t(a,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=k);return b.$add(a)},c.$$s=this,c.$$arity=1,c));return this},S.$$arity=1);a.def(n,"$replace",qa=function(a){this.$clear();this.$merge(a);return this},qa.$$arity=1);a.def(n,"$size",B=function(){return this.hash.$size()},B.$$arity=0);a.alias(n,"length","size");a.def(n,
"$subtract",U=function(a){var c;t(a,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=k);return b.$delete(a)},c.$$s=this,c.$$arity=1,c));return this},U.$$arity=1);a.def(n,"$|",F=function(a){l(a["$respond_to?"]("each"))||this.$raise(m(v,"ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},F.$$arity=1);a.def(n,"$superset?",ga=function(a){var c,b;l(c=a["$is_a?"](m(v,"Set")))?c:this.$raise(m(v,"ArgumentError"),"value must be a set");return l(g(this.$size(),a.$size()))?!1:t(a,
"all?",[],(b=function(a){var c=b.$$s||this;null==a&&(a=k);return c["$include?"](a)},b.$$s=this,b.$$arity=1,b))},ga.$$arity=1);a.alias(n,">=","superset?");a.def(n,"$proper_superset?",ca=function(a){var c,b;l(c=a["$is_a?"](m(v,"Set")))?c:this.$raise(m(v,"ArgumentError"),"value must be a set");return l(A(this.$size(),a.$size()))?!1:t(a,"all?",[],(b=function(a){var c=b.$$s||this;null==a&&(a=k);return c["$include?"](a)},b.$$s=this,b.$$arity=1,b))},ca.$$arity=1);a.alias(n,">","proper_superset?");a.def(n,
"$subset?",J=function(a){var c,b;l(c=a["$is_a?"](m(v,"Set")))?c:this.$raise(m(v,"ArgumentError"),"value must be a set");return l(g(a.$size(),this.$size()))?!1:t(this,"all?",[],(b=function(c){null==c&&(c=k);return a["$include?"](c)},b.$$s=this,b.$$arity=1,b))},J.$$arity=1);a.alias(n,"<=","subset?");a.def(n,"$proper_subset?",ea=function(a){var c,b;l(c=a["$is_a?"](m(v,"Set")))?c:this.$raise(m(v,"ArgumentError"),"value must be a set");return l(A(a.$size(),this.$size()))?!1:t(this,"all?",[],(b=function(c){null==
c&&(c=k);return a["$include?"](c)},b.$$s=this,b.$$arity=1,b))},ea.$$arity=1);a.alias(n,"<","proper_subset?");a.alias(n,"+","|");a.alias(n,"union","|");return(a.def(n,"$to_a",L=function(){return this.hash.$keys()},L.$$arity=0),k)&&"to_a"})(z[0],null,z);return function(c,b){function d(){}var f=d=v(c,"Enumerable",d),g=[f].concat(b),l;a.def(f,"$to_set",l=function(c,b){var d=l.$$p,e=d||k,f;d&&(l.$$p=null);d&&(l.$$p=null);d=a.slice.call(arguments,0,arguments.length);0<d.length&&(f=d[0],d.splice(0,1));null==
f&&(f=m(g,"Set"));return t(f,"new",[this].concat(a.to_a(d)),e.$to_proc())},l.$$arity=-1)}(z[0],z)};Opal.modules["asciidoctor/js/opal_ext/file"]=function(a){var b=[],g=a.nil,A=a.const_get_relative,z=a.module,k=a.send,m=a.klass,c=a.truthy,f=a.gvars;a.add_stubs("$new $attr_reader $delete $gsub $read $size $to_enum $chomp $each_line $readlines $split".split(" "));(function(c,b){function d(){}var f=d=z(c,"Kernel",d),e=[f].concat(b),h;a.def(f,"$open",h=function(c,b){var d,f=(d=h.$$p)||g,l=g;d&&(h.$$p=null);
d=a.slice.call(arguments,1,arguments.length);l=k(A(e,"File"),"new",[c].concat(a.to_a(d)));return f!==g?a.yield1(f,l):l},h.$$arity=-2)})(b[0],b);(function(b,$super,d){function k(){}b=k=m(b,$super,"File",k);var e=b.prototype,h=[b].concat(d),E,z,t,v;e.eof=e.path=g;b.$attr_reader("eof");b.$attr_reader("lineno");b.$attr_reader("path");a.def(b,"$initialize",E=function(a,c){var b=g;null==c&&(c="r");this.path=a;this.contents=g;this.eof=!1;this.lineno=0;c=c.$delete("b");b=/:(.*)/;return this.flags=c=c.$gsub(b,
"")},E.$$arity=-2);a.def(b,"$read",z=function(){var a=g;if(c(this.eof))return"";a=A(h,"File").$read(this.path);this.eof=!0;this.lineno=a.$size();return a},z.$$arity=0);a.def(b,"$each_line",t=function(b){var d=t.$$p,e=d||g,l=g;null==f["/"]&&(f["/"]=g);d&&(t.$$p=null);d&&(t.$$p=null);null==b&&(b=f["/"]);if(c(this.eof))return e!==g?this:[].$to_enum();if(e!==g){l=A(h,"File").$read(this.path);this.eof=!1;this.lineno=0;for(var d=l.$chomp(),l=l.length!=d.length,d=d.split(b),k=0,n=d.length;k<n;k++)this.lineno+=
1,k<n-1||l?a.yield1(e,d[k]+b):a.yield1(e,d[k]);this.eof=!0;return this}return this.$read().$each_line()},t.$$arity=-1);a.def(b,"$readlines",v=function(){return A(h,"File").$readlines(this.path)},v.$$arity=0);return function(c,b){var d=[c].concat(b),e,h,l,k;a.def(c,"$readlines",e=function(a,c){var b=g;null==f["/"]&&(f["/"]=g);null==c&&(c=f["/"]);b=A(d,"File").$read(a);return b.$split(c)},e.$$arity=-2);a.def(c,"$file?",h=function(a){return!0},h.$$arity=1);a.def(c,"$readable?",l=function(a){return!0},
l.$$arity=1);return(a.def(c,"$read",k=function(a){return""},k.$$arity=1),g)&&"read"}(a.get_singleton_class(b),h)})(b[0],null,b);return function(c,$super,b){function d(){}c=d=m(c,$super,"IO",d);var e=[c].concat(b),f;return(a.defs(c,"$read",f=function(a){return A(e,"File").$read(a)},f.$$arity=1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var b=[],g=a.nil,A=a.klass,z=a.send;a.add_stubs(["$[]=","$-"]);return function(b,$super,c){function d(){}b=d=A(b,$super,
"MatchData",d);var l=b.prototype;[b].concat(c);var t;l.matches=g;return(a.def(b,"$[]=",t=function(c,b){var d=g,d=[c,b];z(this.matches,"[]=",a.to_a(d));var f=d,d=d.length,d="number"===typeof d?d-1:d["$-"](1);return f[d]},t.$$arity=2),g)&&"[]="}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var b=[],g=a.module;return function(b,d){function k(){}var m=k=g(b,"Kernel",k);[m].concat(d);var c;a.def(m,"$freeze",c=function(){return this},c.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=
function(a){var b=[],g=a.nil,A=a.const_get_qualified,z=a.module,k=a.klass;return function(a,c){function b(){}var d=[b=z(a,"ThreadSafe",b)].concat(c);(function(a,$super,c){function b(){}[b=k(a,$super,"Cache",b)].concat(c);return g})(d[0],A("::","Hash"),d)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var b=[],g=a.nil,A=a.klass,z=a.truthy,k=a.send;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $with_index $select $[] $even? $_original_unpack".split(" "));
return function(b,$super,d){function l(){}b=l=A(b,$super,"String",l);[b].concat(d);var t,v;z(b["$method_defined?"]("limit_bytesize"))||a.def(b,"$limit_bytesize",t=function(a){var b=g,b=this.$bytes().$length(),b="number"===typeof a&&"number"===typeof b?a<b:a["$<"](b);if(!z(b))return this.$to_s();b=this.$byteslice(0,a);return b.$to_s()},t.$$arity=1);z(b["$method_defined?"]("limit"))||a.alias(b,"limit","limit_bytesize");a.alias(b,"_original_unpack","unpack");return(a.def(b,"$unpack",v=function(a){var b;
return a["$=="]("C3")?k(this["$[]"](0,3).$bytes().$select(),"with_index",[],(b=function(a,b){null==b&&(b=g);return b["$even?"]()},b.$$s=this,b.$$arity=2,b)):this.$_original_unpack(a)},v.$$arity=1),g)&&"unpack"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/uri"]=function(a){var b=[],g=a.const_get_relative,A=a.module;a.add_stubs(["$extend"]);return function(b,d){function m(){}var c=m=A(b,"URI",m),f=[c].concat(d),l,t;a.defs(c,"$parse",l=function(a){return a.$extend(g(f,"URI"))},l.$$arity=1);a.def(c,
"$path",t=function(){return this},t.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext/file");b.$require("asciidoctor/js/opal_ext/match_data");b.$require("asciidoctor/js/opal_ext/kernel");b.$require("asciidoctor/js/opal_ext/thread_safe");b.$require("asciidoctor/js/opal_ext/string");b.$require("asciidoctor/js/opal_ext/uri");b.$require("asciidoctor/js/opal_ext/umd")};Opal.modules["asciidoctor/js/rx"]=function(a){function b(a,
c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var g=[],A=a.nil,z=a.const_get_relative,k=a.module,m=a.send,c=a.gvars,f=a.truthy;a.add_stubs(["$gsub","$+","$unpack_hex_range"]);return function(g,w){function t(){}var n=t=k(g,"Asciidoctor",t),e=[n].concat(w),h;a.const_set(e[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/);a.defs(n,"$unpack_hex_range",h=function(a){var b;return m(a,"gsub",[z(e,"HEX_RANGE_RX")],(b=function(){var a,b;return"\\u"+((a=c["~"])===A?A:a["$[]"](1))+(f(a=
(b=c["~"])===A?A:b["$[]"](2))?"-\\u"+((b=c["~"])===A?A:b["$[]"](2)):a)},b.$$s=this,b.$$arity=0,b))},h.$$arity=1);a.const_set(e[0],"P_L",b("A-Za-z",n.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC")));
a.const_set(e[0],"P_Nl",n.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF"));a.const_set(e[0],"P_Nd",b("0-9",n.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19")));a.const_set(e[0],
"P_Pc",n.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F"));a.const_set(e[0],"CC_ALPHA",""+z(e,"P_L")+z(e,"P_Nl"));a.const_set(e[0],"CG_ALPHA","["+z(e,"CC_ALPHA")+"]");a.const_set(e[0],"CC_ALNUM",""+z(e,"CC_ALPHA")+z(e,"P_Nd"));a.const_set(e[0],"CG_ALNUM","["+z(e,"CC_ALNUM")+"]");a.const_set(e[0],"CC_WORD",""+z(e,"CC_ALNUM")+z(e,"P_Pc"));a.const_set(e[0],"CG_WORD","["+z(e,"CC_WORD")+"]");a.const_set(e[0],"CG_BLANK","[ \\t]");a.const_set(e[0],"CC_EOL","(?=\\n|$)");a.const_set(e[0],"CG_GRAPH",
"[^\\s\\x00-\\x1F\\x7F]");a.const_set(e[0],"CC_ALL","[\\s\\S]")}(g[0],g)};Opal.modules.strscan=function(a){var b=[],g=a.nil,A=a.klass,z=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(b,$super,c){function d(){}b=d=A(b,$super,"StringScanner",d);var l=b.prototype;[b].concat(c);var t,v,n,e,h,E,p,q,r,G,u,x,y,B,ja,C,D,X,ha,va,V,ka,N,W,R;l.pos=l.string=l.working=l.matched=l.prev_pos=l.match=g;b.$attr_reader("pos");b.$attr_reader("matched");
a.def(b,"$initialize",t=function(a){this.string=a;this.pos=0;this.matched=g;this.working=a;return this.match=[]},t.$$arity=1);b.$attr_reader("string");a.def(b,"$beginning_of_line?",v=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},v.$$arity=0);a.alias(b,"bol?","beginning_of_line?");a.def(b,"$scan",n=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=g:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),
this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):g},n.$$arity=1);a.def(b,"$scan_until",e=function(a){a=this.$anchor(a);for(var c=this.pos,b=this.working,d;;)if(d=a.exec(b),c+=1,b=b.substr(1),null==d){if(0===b.length)return this.matched=g}else return this.matched=this.string.substr(this.pos,c-this.pos-1+d[0].length),this.prev_pos=c-1,this.pos=c,this.working=b.substr(d[0].length),this.matched},e.$$arity=1);a.def(b,"$[]",h=
function(a){var c=this.match;0>a&&(a+=c.length);return 0>a||a>=c.length||null==c[a]?g:c[a]},h.$$arity=1);a.def(b,"$check",E=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=g:this.matched=a[0]},E.$$arity=1);a.def(b,"$check_until",p=function(a){var c=this.prev_pos,b=this.pos;a=this.$scan_until(a);a!==g&&(this.matched=a.substr(-1),this.working=this.string.substr(b));this.prev_pos=c;this.pos=b;return a},p.$$arity=1);a.def(b,"$peek",q=function(a){return this.working.substring(0,
a)},q.$$arity=1);a.def(b,"$eos?",r=function(){return 0===this.working.length},r.$$arity=0);a.def(b,"$exist?",G=function(a){a=a.exec(this.working);return null==a?g:0==a.index?0:a.index+1},G.$$arity=1);a.def(b,"$skip",u=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=g;a=a[0];var c=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=c;this.working=this.working.substring(c);return c},u.$$arity=1);a.def(b,"$skip_until",x=function(a){a=this.$scan_until(a);if(a===
g)return g;this.matched=a.substr(-1);return a.length},x.$$arity=1);a.def(b,"$get_byte",y=function(){var a=g;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=g;return a},y.$$arity=0);a.alias(b,"getch","get_byte");a.def(b,"$match?",B=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return g;this.prev_pos=this.pos;return a[0].length},B.$$arity=1);a.def(b,"$pos=",ja=function(a){0>
a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},ja.$$arity=1);a.def(b,"$matched_size",C=function(){return this.matched===g?g:this.matched.length},C.$$arity=0);a.def(b,"$post_match",D=function(){return this.matched===g?g:this.string.substr(this.pos)},D.$$arity=0);a.def(b,"$pre_match",X=function(){return this.matched===g?g:this.string.substr(0,this.prev_pos)},X.$$arity=0);a.def(b,"$reset",ha=function(){this.working=this.string;this.matched=g;return this.pos=0},ha.$$arity=
0);a.def(b,"$rest",va=function(){return this.working},va.$$arity=0);a.def(b,"$rest?",V=function(){return 0!==this.working.length},V.$$arity=0);a.def(b,"$rest_size",ka=function(){return this.$rest().$size()},ka.$$arity=0);a.def(b,"$terminate",N=function(){var c=g;this.match=g;c=[this.string.$length()];z(this,"pos=",a.to_a(c));var b=c,c=c.length,c="number"===typeof c?c-1:c["$-"](1);return b[c]},N.$$arity=0);a.def(b,"$unscan",W=function(){this.pos=this.prev_pos;this.match=this.prev_pos=g;return this},
W.$$arity=0);b.$private();return(a.def(b,"$anchor",R=function(a){var c=a.toString().match(/\/([^\/]+)$/),c=c?c[1]:void 0;return new RegExp("^(?:"+a.source+")",c)},R.$$arity=1),g)&&"anchor"}(b[0],null,b)};Opal.modules["asciidoctor/js"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext");b.$require("asciidoctor/js/rx");return b.$require("strscan")};Opal.modules.logger=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var g=
[],A=a.nil,z=a.const_get_qualified,k=a.const_get_relative,m=a.klass,c=a.module,f=a.send,l=a.truthy;a.add_stubs("$include $to_h $map $constants $const_get $to_s $format $chr $strftime $message_as_string $=== $+ $message $class $join $backtrace $inspect $attr_reader $attr_accessor $new $key $upcase $raise $add $to_proc $<= $< $write $call $[] $now".split(" "));return function(g,$super,n){function e(){}g=e=m(g,$super,"Logger",e);var h=g.prototype,w=[g].concat(n),t,v,p,G,q,r,u,x,y,C,D,X,ha,B,V;h.level=
h.progname=h.pipe=h.formatter=A;(function(b,d){function e(){}var f=[e=c(b,"Severity",e)].concat(d);a.const_set(f[0],"DEBUG",0);a.const_set(f[0],"INFO",1);a.const_set(f[0],"WARN",2);a.const_set(f[0],"ERROR",3);a.const_set(f[0],"FATAL",4);a.const_set(f[0],"UNKNOWN",5)})(w[0],w);g.$include(k(w,"Severity"));a.const_set(w[0],"SEVERITY_LABELS",f(k(w,"Severity").$constants(),"map",[],(t=function(a){null==a&&(a=A);return[k(w,"Severity").$const_get(a),a.$to_s()]},t.$$s=g,t.$$arity=1,t)).$to_h());(function(c,
$super,b){function d(){}c=d=m(c,$super,"Formatter",d);var e=[c].concat(b),f,h;a.const_set(e[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n");a.const_set(e[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N");a.def(c,"$call",f=function(a,c,b,d){return this.$format(k(e,"MESSAGE_FORMAT"),a.$chr(),c.$strftime(k(e,"DATE_TIME_FORMAT")),a,b,this.$message_as_string(d))},f.$$arity=4);return(a.def(c,"$message_as_string",h=function(a){var c,b=A;return function(){b=a;if(z("::","String")["$==="](b))return a;if(z("::",
"Exception")["$==="](b)){var d=""+a.$message()+" ("+a.$class()+")\n",e=(l(c=a.$backtrace())?c:[]).$join("\n");return"number"===typeof d&&"number"===typeof e?d+e:d["$+"](e)}return a.$inspect()}()},h.$$arity=1),A)&&"message_as_string"})(w[0],null,w);g.$attr_reader("level");g.$attr_accessor("progname");g.$attr_accessor("formatter");a.def(g,"$initialize",v=function(a){this.pipe=a;this.level=k(w,"DEBUG");return this.formatter=k(w,"Formatter").$new()},v.$$arity=1);a.def(g,"$level=",p=function(a){var c=
A;return l(z("::","Integer")["$==="](a))?this.level=a:l(c=k(w,"SEVERITY_LABELS").$key(a.$to_s().$upcase()))?this.level=c:this.$raise(k(w,"ArgumentError"),"invalid log level: "+a)},p.$$arity=1);a.def(g,"$info",G=function(a){var c=G.$$p,b=c||A;c&&(G.$$p=null);c&&(G.$$p=null);null==a&&(a=A);return f(this,"add",[k(w,"INFO"),A,a],b.$to_proc())},G.$$arity=-1);a.def(g,"$debug",q=function(a){var c=q.$$p,b=c||A;c&&(q.$$p=null);c&&(q.$$p=null);null==a&&(a=A);return f(this,"add",[k(w,"DEBUG"),A,a],b.$to_proc())},
q.$$arity=-1);a.def(g,"$warn",r=function(a){var c=r.$$p,b=c||A;c&&(r.$$p=null);c&&(r.$$p=null);null==a&&(a=A);return f(this,"add",[k(w,"WARN"),A,a],b.$to_proc())},r.$$arity=-1);a.def(g,"$error",u=function(a){var c=u.$$p,b=c||A;c&&(u.$$p=null);c&&(u.$$p=null);null==a&&(a=A);return f(this,"add",[k(w,"ERROR"),A,a],b.$to_proc())},u.$$arity=-1);a.def(g,"$fatal",x=function(a){var c=x.$$p,b=c||A;c&&(x.$$p=null);c&&(x.$$p=null);null==a&&(a=A);return f(this,"add",[k(w,"FATAL"),A,a],b.$to_proc())},x.$$arity=
-1);a.def(g,"$unknown",y=function(a){var c=y.$$p,b=c||A;c&&(y.$$p=null);c&&(y.$$p=null);null==a&&(a=A);return f(this,"add",[k(w,"UNKNOWN"),A,a],b.$to_proc())},y.$$arity=-1);a.def(g,"$info?",C=function(){return b(this.level,k(w,"INFO"))},C.$$arity=0);a.def(g,"$debug?",D=function(){return b(this.level,k(w,"DEBUG"))},D.$$arity=0);a.def(g,"$warn?",X=function(){return b(this.level,k(w,"WARN"))},X.$$arity=0);a.def(g,"$error?",ha=function(){return b(this.level,k(w,"ERROR"))},ha.$$arity=0);a.def(g,"$fatal?",
B=function(){return b(this.level,k(w,"FATAL"))},B.$$arity=0);return(a.def(g,"$add",V=function(c,b,d){var e=V.$$p,f=e||A,h;e&&(V.$$p=null);e&&(V.$$p=null);null==b&&(b=A);null==d&&(d=A);var e=c=l(h=c)?h:k(w,"UNKNOWN"),g=this.level,e="number"===typeof e&&"number"===typeof g?e<g:e["$<"](g);if(l(e))return!0;d=l(h=d)?h:this.progname;l(b)||(f!==A?b=a.yieldX(f,[]):(b=d,d=this.progname));this.pipe.$write(this.formatter.$call(l(h=k(w,"SEVERITY_LABELS")["$[]"](c))?h:"ANY",z("::","Time").$now(),d,b));return!0},
V.$$arity=-2),A)&&"add"}(g[0],null,g)};Opal.modules["asciidoctor/logging"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}var A=a.top,z=[],k=a.nil,m=a.const_get_qualified,c=a.const_get_relative,f=a.module,l=a.klass,t=a.send,v=a.truthy,n=a.hash2,e=a.gvars;a.add_stubs("$require $attr_reader $progname= $- $new $formatter= $level= $> $[] $=== $inspect $map $constants $const_get $to_sym $<< $clear $empty? $max $attr_accessor $memoize_logger $private $alias_method $== $define_method $extend $logger $merge".split(" "));
A.$require("logger");return function(h,z){function A(){}var p=[A=f(h,"Asciidoctor",A)].concat(z);(function(e,$super,h){function z(){}e=z=l(e,$super,"Logger",z);var A=e.prototype,E=[e].concat(h),p,C;A.max_severity=k;e.$attr_reader("max_severity");a.def(e,"$initialize",p=function(e){var f=p.$$p,h=k,g=h=k,l=k;f&&(p.$$p=null);g=0;l=arguments.length;for(h=Array(l);g<l;g++)h[g]=arguments[g];a.slice.call(arguments,0,arguments.length);t(this,a.find_super_dispatcher(this,"initialize",p,!1),h,f);h=["asciidoctor"];
t(this,"progname=",a.to_a(h));h[b(h.length,1)];h=[c(E,"BasicFormatter").$new()];t(this,"formatter=",a.to_a(h));h[b(h.length,1)];h=[c(E,"WARN")];t(this,"level=",a.to_a(h));return h[b(h.length,1)]},p.$$arity=-1);a.def(e,"$add",C=function(b,d,e){var f,h=C.$$p,l=k,n=k,m=k;h&&(C.$$p=null);n=0;m=arguments.length;for(l=Array(m);n<m;n++)l[n]=arguments[n];null==d&&(d=k);null==e&&(e=k);v(g(b=v(f=b)?f:c(E,"UNKNOWN"),this.max_severity=v(f=this.max_severity)?f:b))&&(this.max_severity=b);return t(this,a.find_super_dispatcher(this,
"add",C,!1),l,h)},C.$$arity=-2);(function(b,$super,d){function e(){}b=e=l(b,$super,"BasicFormatter",e);var f=[b].concat(d),h;a.const_set(f[0],"SEVERITY_LABELS",n(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"}));return(a.def(b,"$call",h=function(a,b,d,e){var h;return""+d+": "+(v(h=c(f,"SEVERITY_LABELS")["$[]"](a))?h:a)+": "+(v(m("::","String")["$==="](e))?e:e.$inspect())+"\n"},h.$$arity=4),k)&&"call"})(E[0],c(E,"Formatter"),E);return function(c,b){function d(){}var e=d=f(c,"AutoFormattingMessage",
d);[e].concat(b);var h;a.def(e,"$inspect",h=function(){var a=k;return v(a=this["$[]"]("source_location"))?""+a+": "+this["$[]"]("text"):this["$[]"]("text")},h.$$arity=0)}(E[0],E)})(p[0],m("::","Logger"),p);(function(e,$super,f){function h(){}e=h=l(e,$super,"MemoryLogger",h);var g=e.prototype,w=[e].concat(f),z,A,E,p,q,r;g.messages=k;a.const_set(w[0],"SEVERITY_LABELS",m("::","Hash")["$[]"](t(c(w,"Severity").$constants(),"map",[],(z=function(a){null==a&&(a=k);return[c(w,"Severity").$const_get(a),a.$to_sym()]},
z.$$s=e,z.$$arity=1,z))));e.$attr_reader("messages");a.def(e,"$initialize",A=function(){var e=k,e=[c(w,"WARN")];t(this,"level=",a.to_a(e));e[b(e.length,1)];return this.messages=[]},A.$$arity=0);a.def(e,"$add",E=function(b,d,e){var f=E.$$p,h=f||k;f&&(E.$$p=null);null==d&&(d=k);null==e&&(e=k);v(d)||(d=h!==k?a.yieldX(h,[]):e);this.messages["$<<"](n(["severity","message"],{severity:c(w,"SEVERITY_LABELS")["$[]"](v(b)?b:c(w,"UNKNOWN")),message:d}));return!0},E.$$arity=-2);a.def(e,"$clear",p=function(){return this.messages.$clear()},
p.$$arity=0);a.def(e,"$empty?",q=function(){return this.messages["$empty?"]()},q.$$arity=0);return(a.def(e,"$max_severity",r=function(){var a;return v(this["$empty?"]())?k:t(this.messages,"map",[],(a=function(a){null==a&&(a=k);return c(w,"Severity").$const_get(a["$[]"]("severity"))},a.$$s=this,a.$$arity=1,a)).$max()},r.$$arity=0),k)&&"max_severity"})(p[0],m("::","Logger"),p);(function(b,$super,d){function e(){}b=e=l(b,$super,"NullLogger",e);var f=b.prototype,h=[b].concat(d),n,m;f.max_severity=k;b.$attr_reader("max_severity");
a.def(b,"$initialize",n=function(){return k},n.$$arity=0);return(a.def(b,"$add",m=function(a,b,d){var e;v(g(a=v(e=a)?e:c(h,"UNKNOWN"),this.max_severity=v(e=this.max_severity)?e:a))&&(this.max_severity=a);return!0},m.$$arity=-2),k)&&"add"})(p[0],m("::","Logger"),p);(function(b,d){function h(){}var g=h=f(b,"LoggerManager",h),l=[g].concat(d);g.logger_class=c(l,"Logger");(function(b,d){var f=[b].concat(d),h,g,l;b.$attr_accessor("logger_class");a.def(b,"$logger",h=function(a){var c;null==this.logger&&
(this.logger=k);null==this.logger_class&&(this.logger_class=k);null==e.stderr&&(e.stderr=k);null==a&&(a=e.stderr);this.$memoize_logger();return this.logger=v(c=this.logger)?c:this.logger_class.$new(a)},h.$$arity=-1);a.def(b,"$logger=",g=function(a){null==this.logger_class&&(this.logger_class=k);null==e.stderr&&(e.stderr=k);return this.logger=v(a)?a:this.logger_class.$new(e.stderr)},g.$$arity=1);b.$private();return(a.def(b,"$memoize_logger",l=function(){return function(a,b){var d=[a].concat(b),e;a.$alias_method("logger",
"logger");return c(d,"RUBY_ENGINE")["$=="]("opal")?t(a,"define_method",["logger"],(e=function(){var a=e.$$s||this;null==a.logger&&(a.logger=k);return a.logger},e.$$s=a,e.$$arity=0,e)):k}(a.get_singleton_class(this),f)},l.$$arity=0),k)&&"memoize_logger"})(a.get_singleton_class(g),l)})(p[0],p);(function(b,d){function e(){}var h=e=f(b,"Logging",e),g=[h].concat(d),l,k,w;a.defs(h,"$included",l=function(a){return a.$extend(c(g,"Logging"))},l.$$arity=1);h.$private();a.def(h,"$logger",k=function(){return c(g,
"LoggerManager").$logger()},k.$$arity=0);a.def(h,"$message_with_context",w=function(a,b){null==b&&(b=n([],{}));return n(["text"],{text:a}).$merge(b).$extend(m(c(g,"Logger"),"AutoFormattingMessage"))},w.$$arity=-2)})(p[0],p)}(z[0],z)};Opal.modules["asciidoctor/timings"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var g=[],A=a.nil,z=a.const_get_qualified,k=a.const_get_relative,m=a.module,c=a.klass,f=a.hash2,l=a.send,t=a.truthy,v=a.gvars;a.add_stubs("$now $[]= $- $delete $reduce $+ $[] $> $time $puts $% $to_f $read_parse $convert $read_parse_convert $const_defined? $respond_to? $clock_gettime".split(" "));
return function(g,e){function h(){}var w=[h=m(g,"Asciidoctor",h)].concat(e);(function(e,$super,h){function g(){}e=g=c(e,$super,"Timings",g);var n=e.prototype,w=[e].concat(h),m,E,p,C,q,r,u,x,y,B,N,W,R,ba,S;n.timers=n.log=A;a.def(e,"$initialize",m=function(){this.log=f([],{});return this.timers=f([],{})},m.$$arity=0);a.def(e,"$start",E=function(c){var e=A,e=[c,this.$now()];l(this.timers,"[]=",a.to_a(e));return e[b(e.length,1)]},E.$$arity=1);a.def(e,"$record",p=function(c){var e=A,e=[c,b(this.$now(),
this.timers.$delete(c))];l(this.log,"[]=",a.to_a(e));return e[b(e.length,1)]},p.$$arity=1);a.def(e,"$time",C=function(c){var b,d;b=A;b=a.slice.call(arguments,0,arguments.length);b=l(b,"reduce",[0],(d=function(a,c){var b=d.$$s||this,e;null==b.log&&(b.log=A);null==a&&(a=A);null==c&&(c=A);b=t(e=b.log["$[]"](c))?e:0;return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)},d.$$s=this,d.$$arity=2,d));return t("number"===typeof b?0<b:b["$>"](0))?b:A},C.$$arity=-1);a.def(e,"$read",q=function(){return this.$time("read")},
q.$$arity=0);a.def(e,"$parse",r=function(){return this.$time("parse")},r.$$arity=0);a.def(e,"$read_parse",u=function(){return this.$time("read","parse")},u.$$arity=0);a.def(e,"$convert",x=function(){return this.$time("convert")},x.$$arity=0);a.def(e,"$read_parse_convert",y=function(){return this.$time("read","parse","convert")},y.$$arity=0);a.def(e,"$write",B=function(){return this.$time("write")},B.$$arity=0);a.def(e,"$total",N=function(){return this.$time("read","parse","convert","write")},N.$$arity=
0);a.def(e,"$print_report",W=function(a,c){null==v.stdout&&(v.stdout=A);null==a&&(a=v.stdout);null==c&&(c=A);t(c)&&a.$puts("Input file: "+c);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},W.$$arity=-1);return t(t(R=z("::","Process")["$const_defined?"]("CLOCK_MONOTONIC"))?
z("::","Process")["$respond_to?"]("clock_gettime"):R)?(a.const_set(w[0],"CLOCK_ID",z(z("::","Process"),"CLOCK_MONOTONIC")),(a.def(e,"$now",ba=function(){return z("::","Process").$clock_gettime(k(w,"CLOCK_ID"))},ba.$$arity=0),A)&&"now"):(a.def(e,"$now",S=function(){return z("::","Time").$now()},S.$$arity=0),A)&&"now"})(w[0],null,w)}(g[0],g)};Opal.modules["asciidoctor/version"]=function(a){var b=[],g=a.module;return function(b,d){function k(){}var m=[k=g(b,"Asciidoctor",k)].concat(d);a.const_set(m[0],
"VERSION","1.5.7.1")}(b[0],b)};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(a){var b=[],g=a.nil,A=a.klass,z=a.truthy;a.add_stubs(["$method_defined?"]);(function(b,$super,c){function d(){}b=d=A(b,$super,"NilClass",d);[b].concat(c);return z(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","nil?")})(b[0],null,b);(function(b,$super,c){function d(){}b=d=A(b,$super,"String",d);[b].concat(c);return z(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","empty?")})(b[0],
null,b);(function(b,$super,c){function d(){}b=d=A(b,$super,"Array",d);[b].concat(c);return z(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,c){function d(){}b=d=A(b,$super,"Hash",d);[b].concat(c);return z(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);return function(b,$super,c){function d(){}b=d=A(b,$super,"Numeric",d);[b].concat(c);return z(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,
"nil_or_empty?","nil?")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(a){var b=[],g=a.nil,A=a.klass,z=a.truthy;a.add_stubs(["$method_defined?"]);return function(b,$super,c){function d(){}b=d=A(b,$super,"Regexp",d);[b].concat(c);return z(b["$method_defined?"]("match?"))?g:a.alias(b,"match?","===")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(a){var b=[],g=a.nil,A=a.const_get_qualified,z=a.klass,k=a.truthy;a.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" "));
return function(b,$super,d){function l(){}b=l=z(b,$super,"String",l);[b].concat(d);var t;return k(b["$method_defined?"]("limit_bytesize"))?g:(a.def(b,"$limit_bytesize",t=function(a){var b=g,b=this.$bytesize(),b="number"===typeof a&&"number"===typeof b?a<b:a["$<"](b);if(!k(b))return this;for(;!k((b=this.$byteslice(0,a)).$force_encoding(A(A("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)a="number"===typeof a?a-1:a["$-"](1);return b},t.$$arity=1),g)&&"limit_bytesize"}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/1.8.7/io/binread"]=
function(a){var b,g=[],A=a.nil,z=a.const_get_relative,k=a.truthy,m=a.send;a.add_stubs(["$respond_to?","$open","$==","$seek","$read"]);return k(z(g,"IO")["$respond_to?"]("binread"))?A:(a.defs(z(g,"IO"),"$binread",b=function(a,b,d){var t;null==b&&(b=A);null==d&&(d=0);return m(z(g,"File"),"open",[a,"rb"],(t=function(a){null==a&&(a=A);d["$=="](0)||a.$seek(d);return k(b)?a.$read(b):a.$read()},t.$$s=this,t.$$arity=1,t))},b.$$arity=-2),A)&&"binread"};Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(a){var b,
g=[],A=a.nil,z=a.const_get_relative,k=a.truthy,m=a.send;a.add_stubs(["$respond_to?","$open","$write"]);return k(z(g,"IO")["$respond_to?"]("write"))?A:(a.defs(z(g,"IO"),"$write",b=function(a,b,d,k){var t;null==d&&(d=0);null==k&&(k=A);return m(z(g,"File"),"open",[a,"w"],(t=function(a){null==a&&(a=A);return a.$write(b)},t.$$s=this,t.$$arity=1,t))},b.$$arity=-3),A)&&"write"};Opal.modules["asciidoctor/core_ext"]=function(a){var b=a.top,g=[],A=a.nil,z=a.const_get_relative,k=a.truthy;a.add_stubs(["$require",
"$==","$!="]);b.$require("asciidoctor/core_ext/nil_or_empty");b.$require("asciidoctor/core_ext/regexp/is_match");if(k(z(g,"RUBY_MIN_VERSION_1_9")))return b.$require("asciidoctor/core_ext/string/limit_bytesize"),z(g,"RUBY_ENGINE")["$=="]("opal")?(b.$require("asciidoctor/core_ext/1.8.7/io/binread"),b.$require("asciidoctor/core_ext/1.8.7/io/write")):A;k(z(g,"RUBY_ENGINE")["$!="]("opal"));return A};Opal.modules["asciidoctor/helpers"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?
a-c:a["$-"](c)}var g=[],A=a.nil,z=a.const_get_qualified,k=a.const_get_relative,m=a.module,c=a.truthy,f=a.send,l=a.range,t=a.gvars,v=a.hash2;a.add_stubs("$require $include? $include $== $=== $raise $warn $logger $chomp $message $normalize_lines_from_string $normalize_lines_array $empty? $unpack $[] $slice $map $each_line $encode $force_encoding $join $rstrip $[]= $- $encoding $nil_or_empty? $match? $=~ $gsub $each_byte $sprintf $rindex $length $basename $extname $directory? $dirname $mkdir_p $mkdir $divmod $*".split(" "));
return function(g,e){function h(){}var w=[h=m(g,"Asciidoctor",h)].concat(e);(function(e,h){function g(){}var n=g=m(e,"Helpers",g),w=[n].concat(h),E,p,q,r,C,D,u,x,y,B,F;a.defs(n,"$require_library",E=function(b,d,e){var f=A,h=A;null==d&&(d=!0);null==e&&(e="abort");try{return this.$require(b)}catch(g){if(a.rescue(g,[z("::","LoadError")])){f=g;try{return c(this["$include?"](k(w,"Logging")))||this.$include(k(w,"Logging")),c(d)?(d["$=="](!0)&&(d=b),h=e,"abort"["$==="](h)?this.$raise(z("::","LoadError"),
"asciidoctor: FAILED: required gem '"+d+"' is not installed. Processing aborted."):"warn"["$==="](h)&&this.$logger().$warn("optional gem '"+d+"' is not installed. Functionality disabled.")):(h=e,"abort"["$==="](h)?this.$raise(z("::","LoadError"),"asciidoctor: FAILED: "+f.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](h)&&this.$logger().$warn(""+f.$message().$chomp(".")+". Functionality disabled.")),A}finally{a.pop_exception()}}else throw g;}},E.$$arity=-2);a.defs(n,"$normalize_lines",
p=function(a){return c(z("::","String")["$==="](a))?this.$normalize_lines_from_string(a):this.$normalize_lines_array(a)},p.$$arity=1);a.defs(n,"$normalize_lines_array",q=function(e){var h,g,n,m,E=A,t=A,v=A,C=A,E=A;if(c(e["$empty?"]()))return e;E=(t=e["$[]"](0)).$unpack("C3");if(c(k(w,"COERCE_ENCODING"))){v=z(z("::","Encoding"),"UTF_8");if((C=E.$slice(0,2))["$=="](k(w,"BOM_BYTES_UTF_16LE")))return f(e.$join().$force_encoding(z(z("::","Encoding"),"UTF_16LE"))["$[]"](l(1,-1,!1)).$encode(v).$each_line(),
"map",[],(h=function(a){null==a&&(a=A);return a.$rstrip()},h.$$s=this,h.$$arity=1,h));if(C["$=="](k(w,"BOM_BYTES_UTF_16BE")))return E=[0,t.$force_encoding(z(z("::","Encoding"),"UTF_16BE"))["$[]"](l(1,-1,!1))],f(e,"[]=",a.to_a(E)),E[b(E.length,1)],f(e,"map",[],(g=function(a){null==a&&(a=A);return""+a.$force_encoding(z(z("::","Encoding"),"UTF_16BE")).$encode(v).$rstrip()},g.$$s=this,g.$$arity=1,g));E["$=="](k(w,"BOM_BYTES_UTF_8"))&&(E=[0,t.$force_encoding(v)["$[]"](l(1,-1,!1))],f(e,"[]=",a.to_a(E)),
E[b(E.length,1)]);return f(e,"map",[],(n=function(a){null==a&&(a=A);return a.$encoding()["$=="](v)?a.$rstrip():a.$force_encoding(v).$rstrip()},n.$$s=this,n.$$arity=1,n))}E["$=="](k(w,"BOM_BYTES_UTF_8"))&&(E=[0,t["$[]"](l(3,-1,!1))],f(e,"[]=",a.to_a(E)),E[b(E.length,1)]);return f(e,"map",[],(m=function(a){null==a&&(a=A);return a.$rstrip()},m.$$s=this,m.$$arity=1,m))},q.$$arity=1);a.defs(n,"$normalize_lines_from_string",r=function(a){var b,d=A,e=A,h=A;if(c(a["$nil_or_empty?"]()))return[];d=a.$unpack("C3");
c(k(w,"COERCE_ENCODING"))?(e=z(z("::","Encoding"),"UTF_8"),(h=d.$slice(0,2))["$=="](k(w,"BOM_BYTES_UTF_16LE"))?a=a.$force_encoding(z(z("::","Encoding"),"UTF_16LE"))["$[]"](l(1,-1,!1)).$encode(e):h["$=="](k(w,"BOM_BYTES_UTF_16BE"))?a=a.$force_encoding(z(z("::","Encoding"),"UTF_16BE"))["$[]"](l(1,-1,!1)).$encode(e):d["$=="](k(w,"BOM_BYTES_UTF_8"))?a=a.$encoding()["$=="](e)?a["$[]"](l(1,-1,!1)):a.$force_encoding(e)["$[]"](l(1,-1,!1)):a.$encoding()["$=="](e)||(a=a.$force_encoding(e))):d["$=="](k(w,"BOM_BYTES_UTF_8"))&&
(a=a["$[]"](l(3,-1,!1)));return f(a.$each_line(),"map",[],(b=function(a){null==a&&(a=A);return a.$rstrip()},b.$$s=this,b.$$arity=1,b))},r.$$arity=1);a.defs(n,"$uriish?",C=function(a){var b;return c(b=a["$include?"](":"))?k(w,"UriSniffRx")["$match?"](a):b},C.$$arity=1);a.defs(n,"$uri_prefix",D=function(a){var b;return c(c(b=a["$include?"](":"))?k(w,"UriSniffRx")["$=~"](a):b)?(b=t["~"])===A?A:b["$[]"](0):A},D.$$arity=1);a.const_set(w[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(n,
"$uri_encode",u=function(a){var c;return f(a,"gsub",[k(w,"REGEXP_ENCODE_URI_CHARS")],(c=function(){var a=c.$$s||this,b,d;return f(((b=t["~"])===A?A:b["$[]"](0)).$each_byte(),"map",[],(d=function(a){var c=d.$$s||this;null==a&&(a=A);return c.$sprintf("%%%02X",a)},d.$$s=a,d.$$arity=1,d)).$join()},c.$$s=this,c.$$arity=0,c))},u.$$arity=1);a.defs(n,"$rootname",x=function(a){var b;return a.$slice(0,c(b=a.$rindex("."))?b:a.$length())},x.$$arity=1);a.defs(n,"$basename",y=function(a,b){null==b&&(b=A);return c(b)?
z("::","File").$basename(a,b["$=="](!0)?z("::","File").$extname(a):b):z("::","File").$basename(a)},y.$$arity=-2);a.defs(n,"$mkdir_p",B=function(b){var d=A;if(c(z("::","File")["$directory?"](b)))return A;(d=z("::","File").$dirname(b))["$=="](".")||this.$mkdir_p(d);try{return z("::","Dir").$mkdir(b)}catch(e){if(a.rescue(e,[z("::","SystemCallError")]))try{return c(z("::","File")["$directory?"](b))?A:this.$raise()}finally{a.pop_exception()}else throw e;}},B.$$arity=1);a.const_set(w[0],"ROMAN_NUMERALS",
v("M CM D CD C XC L XL X IX V IV I".split(" "),{M:1E3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}));a.defs(n,"$int_to_roman",F=function(c){var b;return f(k(w,"ROMAN_NUMERALS"),"map",[],(b=function(b,d){var e,f,h=A;null==b&&(b=A);null==d&&(d=A);f=c.$divmod(d);e=a.to_ary(f);h=null==e[0]?A:e[0];c=null==e[1]?A:e[1];f;return"number"===typeof b&&"number"===typeof h?b*h:b["$*"](h)},b.$$s=this,b.$$arity=2,b)).$join()},F.$$arity=1)})(w[0],w)}(g[0],g)};Opal.modules["asciidoctor/substitutors"]=
function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function A(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function z(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function k(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var m=[],c=a.nil,f=a.const_get_qualified,l=a.const_get_relative,t=a.slice,v=a.module,n=a.hash2,e=a.hash,
h=a.truthy,E=a.send,p=a.gvars,q=a.range;a.add_stubs("$freeze $+ $keys $chr $attr_reader $empty? $! $=== $[] $join $include? $extract_passthroughs $each $sub_specialchars $sub_quotes $sub_attributes $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $logger $restore_passthroughs $split $apply_subs $compat_mode $gsub $== $length $> $* $- $end_with? $parse_attributes $size $[]= $unescape_brackets $resolve_pass_subs $start_with? $extract_inner_passthrough $to_sym $attributes $basebackend? $=~ $to_i $convert $new $clear $match? $convert_quoted_text $do_replacement $sub $shift $store_attribute $!= $attribute_undefined $counter $key? $downcase $attribute_missing $tr_s $delete $reject $slice $strip $index $min $compact $map $chop $unescape_bracketed_text $pop $rstrip $extensions $inline_macros? $inline_macros $regexp $instance $names $config $dup $nil_or_empty? $process_method $register $tr $basename $split_simple_csv $normalize_string $!~ $parse $uri_encode $sub_inline_xrefs $sub_inline_anchors $find $footnotes $id $text $style $lstrip $parse_into $extname $catalog $fetch $outfilesuffix $natural_xrefs $key $attr? $escape $attr $read_next_id $callouts $< $<< $parse_quoted_text_attributes $shorthand_property_syntax $concat $each_char $& $resolve_subs $nil? $require_library $sub_source $resolve_highlight_lines $highlight $find_by_alias $find_by_mimetype $name $option? $to_a $uniq $sort $resolve_block_subs".split(" "));
return function(m,r){function u(){}var x=[u=v(m,"Asciidoctor",u)].concat(r);(function(m,r){function G(){}var C=G=v(m,"Substitutors",G),D=[C].concat(r),u,x,y,B,fa,F,W,R,ba,S,qa,ia,U,la,ga,ca,aa,ea,J,da,L,ra,K,sa,Ga,ua,oa,Ja,P,Q,Ha,xa,Aa,Ea;a.const_set(D[0],"SpecialCharsRx",/[<&>]/);a.const_set(D[0],"SpecialCharsTr",n([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"}));a.const_set(D[0],"QuotedTextSniffRx",e(!1,/[*_`#^~]/,!0,/[*'_+#^~]/));a.const_set(D[0],"BASIC_SUBS",["specialcharacters"]).$freeze();
a.const_set(D[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze();a.const_set(D[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze();a.const_set(D[0],"NONE_SUBS",[]).$freeze();a.const_set(D[0],"TITLE_SUBS","specialcharacters quotes replacements macros attributes post_replacements".split(" ")).$freeze();a.const_set(D[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze();a.const_set(D[0],"VERBATIM_SUBS",["specialcharacters",
"callouts"]).$freeze();a.const_set(D[0],"SUB_GROUPS",n(["none","normal","verbatim","specialchars"],{none:l(D,"NONE_SUBS"),normal:l(D,"NORMAL_SUBS"),verbatim:l(D,"VERBATIM_SUBS"),specialchars:l(D,"BASIC_SUBS")}));a.const_set(D[0],"SUB_HINTS",n("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(D[0],"SUB_OPTIONS",n(["block","inline"],{block:b(b(l(D,"SUB_GROUPS").$keys(),l(D,"NORMAL_SUBS")),["callouts"]),
inline:b(l(D,"SUB_GROUPS").$keys(),l(D,"NORMAL_SUBS"))}));a.const_set(D[0],"SUB_HIGHLIGHT",["coderay","pygments"]);h(f("::","RUBY_MIN_VERSION_1_9"))?(a.const_set(D[0],"CAN","\u0018"),a.const_set(D[0],"DEL","\u007f"),a.const_set(D[0],"PASS_START","\u0096"),a.const_set(D[0],"PASS_END","\u0097")):(a.const_set(D[0],"CAN",(24).$chr()),a.const_set(D[0],"DEL",(127).$chr()),a.const_set(D[0],"PASS_START",(150).$chr()),a.const_set(D[0],"PASS_END",(151).$chr()));a.const_set(D[0],"PassSlotRx",new RegExp(""+l(D,
"PASS_START")+"(\\d+)"+l(D,"PASS_END")));a.const_set(D[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+l(D,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+l(D,"PASS_END")+"</span>"));a.const_set(D[0],"RS","\\");a.const_set(D[0],"R_SB","]");a.const_set(D[0],"ESC_R_SB","\\]");a.const_set(D[0],"PLUS","+");a.const_set(D[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m);a.const_set(D[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m);C.$attr_reader("passthroughs");a.def(C,
"$apply_subs",u=function(a,b){var d,e,g=c,n=c;null==this.passthroughs&&(this.passthroughs=c);null==b&&(b=l(D,"NORMAL_SUBS"));if(h(h(d=a["$empty?"]())?d:b["$!"]()))return a;h(g=f("::","Array")["$==="](a))&&(a=h(a["$[]"](1))?a.$join(l(D,"LF")):a["$[]"](0));h(n=b["$include?"]("macros"))&&(a=this.$extract_passthroughs(a),h(this.passthroughs["$empty?"]())&&(n=!1));E(b,"each",[],(e=function(d){var f=e.$$s||this,g=c;null==d&&(d=c);g=d;return"specialcharacters"["$==="](g)?a=f.$sub_specialchars(a):"quotes"["$==="](g)?
a=f.$sub_quotes(a):"attributes"["$==="](g)?h(a["$include?"](l(D,"ATTR_REF_HEAD")))?a=f.$sub_attributes(a):c:"replacements"["$==="](g)?a=f.$sub_replacements(a):"macros"["$==="](g)?a=f.$sub_macros(a):"highlight"["$==="](g)?a=f.$highlight_source(a,b["$include?"]("callouts")):"callouts"["$==="](g)?h(b["$include?"]("highlight"))?c:a=f.$sub_callouts(a):"post_replacements"["$==="](g)?a=f.$sub_post_replacements(a):f.$logger().$warn("unknown substitution type "+d)},e.$$s=this,e.$$arity=1,e));h(n)&&(a=this.$restore_passthroughs(a));
return h(g)?a.$split(l(D,"LF"),-1):a},u.$$arity=-2);a.def(C,"$apply_normal_subs",x=function(a){return this.$apply_subs(a)},x.$$arity=1);a.def(C,"$apply_title_subs",y=function(a){return this.$apply_subs(a,l(D,"TITLE_SUBS"))},y.$$arity=1);a.def(C,"$apply_reftext_subs",B=function(a){return this.$apply_subs(a,l(D,"REFTEXT_SUBS"))},B.$$arity=1);a.def(C,"$apply_header_subs",fa=function(a){return this.$apply_subs(a,l(D,"HEADER_SUBS"))},fa.$$arity=1);a.def(C,"$extract_passthroughs",F=function(b){var d,e,
f,k,m,t=c,v=c,C=c,r=c;null==this.document&&(this.document=c);t=this.document.$compat_mode();h(h(d=h(e=b["$include?"]("++"))?e:b["$include?"]("$$"))?d:b["$include?"]("ss:"))&&(b=E(b,"gsub",[l(D,"InlinePassMacroRx")],(f=function(){var b=f.$$s||this,d,e=c,k=c,m=c,M=c,v=c,C=c,r=c,M=m=e=c;null==b.passthroughs&&(b.passthroughs=c);null==p["~"]&&(p["~"]=c);e=p["~"];k=c;if(h(m=e["$[]"](4))){if(h(h(d=t)?m["$=="]("++"):d))return h(e["$[]"](2))?""+e["$[]"](1)+"["+e["$[]"](2)+"]"+e["$[]"](3)+"++"+b.$extract_passthroughs(e["$[]"](5))+
"++":""+e["$[]"](1)+e["$[]"](3)+"++"+b.$extract_passthroughs(e["$[]"](5))+"++";M=e["$[]"](2);v=e["$[]"](3).$length();C=e["$[]"](5);r=!1;if(h(M)){if(h(g(v,0)))return""+e["$[]"](1)+"["+M+"]"+A(l(D,"RS"),z(v,1))+m+e["$[]"](5)+m;e["$[]"](1)["$=="](l(D,"RS"))?(k="["+M+"]",M=c):(h(m["$=="]("++")?M["$end_with?"]("x-"):m["$=="]("++"))&&(r=!0,M=M["$[]"](q(0,-2,!0))),M=b.$parse_attributes(M))}else if(h(g(v,0)))return""+A(l(D,"RS"),z(v,1))+m+e["$[]"](5)+m;e=m["$=="]("+++")?[]:l(D,"BASIC_SUBS");m=b.passthroughs.$size();
M=h(M)?h(r)?[m,n(["text","subs","type","attributes"],{text:C,subs:l(D,"NORMAL_SUBS"),type:"monospaced",attributes:M})]:[m,n(["text","subs","type","attributes"],{text:C,subs:e,type:"unquoted",attributes:M})]:[m,n(["text","subs"],{text:C,subs:e})]}else{if(e["$[]"](6)["$=="](l(D,"RS")))return e["$[]"](0)["$[]"](q(1,-1,!1));M=[m=b.passthroughs.$size(),n(["text","subs"],{text:b.$unescape_brackets(e["$[]"](8)),subs:h(e["$[]"](7))?b.$resolve_pass_subs(e["$[]"](7)):c})]}E(b.passthroughs,"[]=",a.to_a(M));
M[z(M.length,1)];return""+k+l(D,"PASS_START")+m+l(D,"PASS_END")},f.$$s=this,f.$$arity=0,f)));e=l(D,"InlinePassRx")["$[]"](t);d=a.to_ary(e);v=null==d[0]?c:d[0];C=null==d[1]?c:d[1];r=null==d[2]?c:d[2];e;h(h(d=b["$include?"](v))?d:h(e=C)?b["$include?"](C):e)&&(b=E(b,"gsub",[r],(k=function(){var b=k.$$s||this,d,e=c,f=c,g=c,w=c,m=c,A=c,v=c,m=g=e=c;null==b.passthroughs&&(b.passthroughs=c);null==p["~"]&&(p["~"]=c);e=p["~"];f=e["$[]"](1);g=e["$[]"](2);h(e["$[]"](3)["$start_with?"](l(D,"RS")))&&(w=l(D,"RS"));
m=e["$[]"](4);A=e["$[]"](5);h(t)?v=!0:h(v=h(d=g)?g["$end_with?"]("x-"):d)&&(g=g["$[]"](q(0,-2,!0)));if(h(g)){if(h(m["$=="]("`")?v["$!"]():m["$=="]("`")))return b.$extract_inner_passthrough(A,""+f+"["+g+"]"+w,g);if(h(w))return""+f+"["+g+"]"+e["$[]"](3)["$[]"](q(1,-1,!1));f["$=="](l(D,"RS"))?(f="["+g+"]",g=c):g=b.$parse_attributes(g)}else{if(h(m["$=="]("`")?v["$!"]():m["$=="]("`")))return b.$extract_inner_passthrough(A,""+f+w);if(h(w))return""+f+e["$[]"](3)["$[]"](q(1,-1,!1))}e=b.passthroughs.$size();
h(t)?g=[e,n(["text","subs","attributes","type"],{text:A,subs:l(D,"BASIC_SUBS"),attributes:g,type:"monospaced"})]:h(g)?h(v)?(m=m["$=="]("`")?l(D,"BASIC_SUBS"):l(D,"NORMAL_SUBS"),g=[e,n(["text","subs","attributes","type"],{text:A,subs:m,attributes:g,type:"monospaced"})]):g=[e,n(["text","subs","attributes","type"],{text:A,subs:l(D,"BASIC_SUBS"),attributes:g,type:"unquoted"})]:g=[e,n(["text","subs"],{text:A,subs:l(D,"BASIC_SUBS")})];E(b.passthroughs,"[]=",a.to_a(g));g[z(g.length,1)];return""+f+l(D,"PASS_START")+
e+l(D,"PASS_END")},k.$$s=this,k.$$arity=0,k)));h(h(d=b["$include?"](":"))?h(e=b["$include?"]("stem:"))?e:b["$include?"]("math:"):d)&&(b=E(b,"gsub",[l(D,"InlineStemMacroRx")],(m=function(){var b=m.$$s||this,d=c,e=c,f=c,g=c,d=e=c;null==b.document&&(b.document=c);null==b.passthroughs&&(b.passthroughs=c);null==p["~"]&&(p["~"]=c);d=p["~"];if(h(d["$[]"](0)["$start_with?"](l(D,"RS"))))return d["$[]"](0)["$[]"](q(1,-1,!1));(e=d["$[]"](1).$to_sym())["$=="]("stem")&&(e=l(D,"STEM_TYPE_ALIASES")["$[]"](b.document.$attributes()["$[]"]("stem")).$to_sym());
f=b.$unescape_brackets(d["$[]"](3));g=h(d["$[]"](2))?b.$resolve_pass_subs(d["$[]"](2)):h(b.document["$basebackend?"]("html"))?l(D,"BASIC_SUBS"):c;e=[d=b.passthroughs.$size(),n(["text","subs","type"],{text:f,subs:g,type:e})];E(b.passthroughs,"[]=",a.to_a(e));e[z(e.length,1)];return""+l(D,"PASS_START")+d+l(D,"PASS_END")},m.$$s=this,m.$$arity=0,m)));return b},F.$$arity=1);a.def(C,"$extract_inner_passthrough",W=function(b,d,e){var f,g,k=c,w=c;null==this.passthroughs&&(this.passthroughs=c);null==e&&(e=
c);if(h(h(f=h(g=b["$end_with?"]("+"))?b["$start_with?"]("+","\\+"):g)?l(D,"SinglePlusInlinePassRx")["$=~"](b):f)){if(h((f=p["~"])===c?c:f["$[]"](1)))return""+d+"`+"+((f=p["~"])===c?c:f["$[]"](2))+"+`";k=[w=this.passthroughs.$size(),h(e)?n(["text","subs","attributes","type"],{text:(f=p["~"])===c?c:f["$[]"](2),subs:l(D,"BASIC_SUBS"),attributes:e,type:"unquoted"}):n(["text","subs"],{text:(f=p["~"])===c?c:f["$[]"](2),subs:l(D,"BASIC_SUBS")})];E(this.passthroughs,"[]=",a.to_a(k));k[z(k.length,1)];return""+
d+"`"+l(D,"PASS_START")+w+l(D,"PASS_END")+"`"}return""+d+"`"+b+"`"},W.$$arity=-3);a.def(C,"$restore_passthroughs",R=function(a,b){var d,e,f,g=this;null==g.passthroughs&&(g.passthroughs=c);null==b&&(b=!0);return function(){try{return h(h(d=b)?h(e=g.passthroughs["$empty?"]())?e:a["$include?"](l(D,"PASS_START"))["$!"]():d)?a:E(a,"gsub",[l(D,"PassSlotRx")],(f=function(){var a=f.$$s||this,b,d=c,e=c,g=c;null==a.passthroughs&&(a.passthroughs=c);d=a.passthroughs["$[]"](((b=p["~"])===c?c:b["$[]"](1)).$to_i());
e=a.$apply_subs(d["$[]"]("text"),d["$[]"]("subs"));h(g=d["$[]"]("type"))&&(e=l(D,"Inline").$new(a,"quoted",e,n(["type","attributes"],{type:g,attributes:d["$[]"]("attributes")})).$convert());return h(e["$include?"](l(D,"PASS_START")))?a.$restore_passthroughs(e,!1):e},f.$$s=g,f.$$arity=0,f))}finally{h(b)&&g.passthroughs.$clear()}}()},R.$$arity=-2);l(D,"RUBY_ENGINE")["$=="]("opal")?(a.def(C,"$sub_quotes",ba=function(a){var b,d=c;null==this.document&&(this.document=c);h(l(D,"QuotedTextSniffRx")["$[]"](d=
this.document.$compat_mode())["$match?"](a))&&E(l(D,"QUOTE_SUBS")["$[]"](d),"each",[],(b=function(d,e,f){var h=b.$$s||this,g;null==d&&(d=c);null==e&&(e=c);null==f&&(f=c);return a=E(a,"gsub",[f],(g=function(){var a=g.$$s||this;null==p["~"]&&(p["~"]=c);return a.$convert_quoted_text(p["~"],d,e)},g.$$s=h,g.$$arity=0,g))},b.$$s=this,b.$$arity=3,b));return a},ba.$$arity=1),a.def(C,"$sub_replacements",S=function(a){var b;h(l(D,"ReplaceableTextRx")["$match?"](a))&&E(l(D,"REPLACEMENTS"),"each",[],(b=function(d,
e,f){var h=b.$$s||this,g;null==d&&(d=c);null==e&&(e=c);null==f&&(f=c);return a=E(a,"gsub",[d],(g=function(){var a=g.$$s||this;null==p["~"]&&(p["~"]=c);return a.$do_replacement(p["~"],e,f)},g.$$s=h,g.$$arity=0,g))},b.$$s=this,b.$$arity=3,b));return a},S.$$arity=1)):c;h(f("::","RUBY_MIN_VERSION_1_9"))?a.def(C,"$sub_specialchars",qa=function(a){var c,b;return h(h(c=h(b=a["$include?"]("<"))?b:a["$include?"]("&"))?c:a["$include?"](">"))?a.$gsub(l(D,"SpecialCharsRx"),l(D,"SpecialCharsTr")):a},qa.$$arity=
1):a.def(C,"$sub_specialchars",ia=function(a){var b,d,e;return h(h(b=h(d=a["$include?"]("<"))?d:a["$include?"]("&"))?b:a["$include?"](">"))?E(a,"gsub",[l(D,"SpecialCharsRx")],(e=function(){var a;return l(D,"SpecialCharsTr")["$[]"]((a=p["~"])===c?c:a["$[]"](0))},e.$$s=this,e.$$arity=0,e)):a},ia.$$arity=1);a.alias(C,"sub_specialcharacters","sub_specialchars");a.def(C,"$do_replacement",U=function(a,b,d){var e=c,e=c;h((e=a["$[]"](0))["$include?"](l(D,"RS")))?a=e.$sub(l(D,"RS"),""):(e=d,a="none"["$==="](e)?
b:"bounding"["$==="](e)?""+a["$[]"](1)+b+a["$[]"](2):""+a["$[]"](1)+b);return a},U.$$arity=3);a.def(C,"$sub_attributes",la=function(b,d){var e,f,g,k,w=c,m=c,z=c,A=c,H=c,Y=c,t=c,t=c;null==this.document&&(this.document=c);null==d&&(d=n([],{}));w=this.document.$attributes();m=z=A=H=Y=c;t=E(b,"gsub",[l(D,"AttributeReferenceRx")],(e=function(){var b=e.$$s||this,f,g,n,k=c,t=c,Ka=c,v=c;null==b.document&&(b.document=c);return h(h(f=((g=p["~"])===c?c:g["$[]"](1))["$=="](l(D,"RS")))?f:((g=p["~"])===c?c:g["$[]"](4))["$=="](l(D,
"RS")))?"{"+((f=p["~"])===c?c:f["$[]"](2))+"}":h((f=p["~"])===c?c:f["$[]"](3))?function(){k=(t=((f=p["~"])===c?c:f["$[]"](2)).$split(":",3)).$shift();return"set"["$==="](k)?(g=l(D,"Parser").$store_attribute(t["$[]"](0),h(n=t["$[]"](1))?n:"",b.document),f=a.to_ary(g),Ka=null==f[1]?c:f[1],g,h(h(f=Ka)?f:(H=h(g=H)?g:h(n=w["$[]"]("attribute-undefined"))?n:l(D,"Compliance").$attribute_undefined())["$!="]("drop-line"))?m=A=l(D,"DEL"):m=z=l(D,"CAN")):"counter2"["$==="](k)?(E(b.document,"counter",a.to_a(t)),
m=A=l(D,"DEL")):E(b.document,"counter",a.to_a(t))}():h(w["$key?"](v=((f=p["~"])===c?c:f["$[]"](2)).$downcase()))?w["$[]"](v):h(Ka=l(D,"INTRINSIC_ATTRIBUTES")["$[]"](v))?Ka:function(){k=Y=h(f=Y)?f:h(g=h(n=d["$[]"]("attribute_missing"))?n:w["$[]"]("attribute-missing"))?g:l(D,"Compliance").$attribute_missing();if("drop"["$==="](k))return m=A=l(D,"DEL");if("drop-line"["$==="](k))return b.$logger().$warn("dropping line containing reference to missing attribute: "+v),m=z=l(D,"CAN");"warn"["$==="](k)&&b.$logger().$warn("skipping reference to missing attribute: "+
v);return(f=p["~"])===c?c:f["$[]"](0)}()},e.$$s=this,e.$$arity=0,e));return h(m)?h(A)?(t=t.$tr_s(l(D,"DEL"),l(D,"DEL")).$split(l(D,"LF"),-1),h(z)?E(t,"reject",[],(f=function(a){var b,d,e;null==a&&(a=c);return h(b=h(d=h(e=a["$=="](l(D,"DEL")))?e:a["$=="](l(D,"CAN")))?d:a["$start_with?"](l(D,"CAN")))?b:a["$include?"](l(D,"CAN"))},f.$$s=this,f.$$arity=1,f)).$join(l(D,"LF")).$delete(l(D,"DEL")):E(t,"reject",[],(g=function(a){null==a&&(a=c);return a["$=="](l(D,"DEL"))},g.$$s=this,g.$$arity=1,g)).$join(l(D,
"LF")).$delete(l(D,"DEL"))):h(t["$include?"](l(D,"LF")))?E(t.$split(l(D,"LF"),-1),"reject",[],(k=function(a){var b,d;null==a&&(a=c);return h(b=h(d=a["$=="](l(D,"CAN")))?d:a["$start_with?"](l(D,"CAN")))?b:a["$include?"](l(D,"CAN"))},k.$$s=this,k.$$arity=1,k)).$join(l(D,"LF")):"":t},la.$$arity=-2);a.def(C,"$sub_macros",ga=function(b){try{var d,e,k,m,A,v,C,r,G,H,Y,Ka,Z=c,Va=c,M=c,Qa=c,Ba=c,u=c,I=c,T=c,x=c,y=c;null==this.document&&(this.document=c);Z=n([],{});Va=(M=["square_bracket",b["$include?"]("[")],
E(Z,"[]=",a.to_a(M)),M[z(M.length,1)]);Qa=b["$include?"](":");Ba=(M=["macroish",h(d=Va)?Qa:d],E(Z,"[]=",a.to_a(M)),M[z(M.length,1)]);u=h(d=Ba)?b["$include?"](":["):d;I=(T=this.document).$attributes();x=b;h(I["$key?"]("experimental"))&&(h(h(d=u)?h(e=x["$include?"]("kbd:"))?e:x["$include?"]("btn:"):d)&&(x=E(x,"gsub",[l(D,"InlineKbdBtnMacroRx")],(k=function(){var b=k.$$s||this,d,e,f,H=c,m=c,Z=c;return h((d=p["~"])===c?c:d["$[]"](1))?((d=p["~"])===c?c:d["$[]"](0)).$slice(1,((d=p["~"])===c?c:d["$[]"](0)).$length()):
((d=p["~"])===c?c:d["$[]"](2))["$=="]("kbd")?(h((H=((d=p["~"])===c?c:d["$[]"](3)).$strip())["$include?"](l(D,"R_SB")))&&(H=H.$gsub(l(D,"ESC_R_SB"),l(D,"R_SB"))),h(h(d=g(H.$length(),1))?m=h(m=H.$index(",",1))?[m,H.$index("+",1)].$compact().$min():H.$index("+",1):d)?(Z=H.$slice(m,1),h(H["$end_with?"](Z))?(H=E(H.$chop().$split(Z,-1),"map",[],(e=function(a){null==a&&(a=c);return a.$strip()},e.$$s=b,e.$$arity=1,e)),M=[-1,""+H["$[]"](-1)+Z],E(H,"[]=",a.to_a(M)),M[z(M.length,1)]):H=E(H.$split(Z),"map",[],
(f=function(a){null==a&&(a=c);return a.$strip()},f.$$s=b,f.$$arity=1,f))):H=[H],l(D,"Inline").$new(b,"kbd",c,n(["attributes"],{attributes:n(["keys"],{keys:H})})).$convert()):l(D,"Inline").$new(b,"button",b.$unescape_bracketed_text((d=p["~"])===c?c:d["$[]"](3))).$convert()},k.$$s=this,k.$$arity=0,k))),h(h(d=Ba)?x["$include?"]("menu:"):d)&&(x=E(x,"gsub",[l(D,"InlineMenuMacroRx")],(m=function(){var a=m.$$s||this,b,d,e=c,f=e=b=c,g=f=b=c;null==p["~"]&&(p["~"]=c);e=p["~"];if(h((b=e["$[]"](0))["$start_with?"](l(D,
"RS"))))return b["$[]"](q(1,-1,!1));b=[e["$[]"](1),e["$[]"](2)];e=b[0];f=b[1];b;h(f)?(h(f["$include?"](l(D,"R_SB")))&&(f=f.$gsub(l(D,"ESC_R_SB"),l(D,"R_SB"))),h(b=h(f["$include?"]("&gt;"))?"&gt;":h(f["$include?"](","))?",":c)?(f=E(f.$split(b),"map",[],(d=function(a){null==a&&(a=c);return a.$strip()},d.$$s=a,d.$$arity=1,d)),g=f.$pop()):(b=[[],f.$rstrip()],f=b[0],g=b[1],b)):(b=[[],c],f=b[0],g=b[1],b);return l(D,"Inline").$new(a,"menu",c,n(["attributes"],{attributes:n(["menu","submenus","menuitem"],
{menu:e,submenus:f,menuitem:g})})).$convert()},m.$$s=this,m.$$arity=0,m))),h(h(d=x["$include?"]('"'))?x["$include?"]("&gt;"):d)&&(x=E(x,"gsub",[l(D,"InlineMenuRx")],(A=function(){var b=A.$$s||this,d,e,f=c,g=f=f=e=c;e=c;null==p["~"]&&(p["~"]=c);f=p["~"];if(h((e=f["$[]"](0))["$start_with?"](l(D,"RS"))))return e["$[]"](q(1,-1,!1));f=f["$[]"](1);e=E(f.$split("&gt;"),"map",[],(d=function(a){null==a&&(a=c);return a.$strip()},d.$$s=b,d.$$arity=1,d));d=a.to_ary(e);f=null==d[0]?c:d[0];g=t.call(d,1);e;e=g.$pop();
return l(D,"Inline").$new(b,"menu",c,n(["attributes"],{attributes:n(["menu","submenus","menuitem"],{menu:f,submenus:g,menuitem:e})})).$convert()},A.$$s=this,A.$$arity=0,A))));h(h(d=y=T.$extensions())?y["$inline_macros?"]():d)&&E(y.$inline_macros(),"each",[],(v=function(b){var d=v.$$s||this,e;null==b&&(b=c);return x=E(x,"gsub",[b.$instance().$regexp()],(e=function(){var d=e.$$s||this,f,g=c,k=g=c,w=c,H=c,g=c;null==p["~"]&&(p["~"]=c);g=p["~"];if(h(g["$[]"](0)["$start_with?"](l(D,"RS"))))return g["$[]"](0)["$[]"](q(1,
-1,!1));var m;a:{try{m=g.$names();break a}catch(Z){if(a.rescue(Z,[l(D,"StandardError")]))try{m=[];break a}finally{a.pop_exception()}else throw Z;}m=void 0}if(h(m["$empty?"]()))f=[g["$[]"](1),g["$[]"](2),b.$config()];else{var Y;a:{try{Y=g["$[]"]("target");break a}catch(Z){if(a.rescue(Z,[l(D,"StandardError")]))try{Y=c;break a}finally{a.pop_exception()}else throw Z;}Y=void 0}m=Y;a:{try{f=g["$[]"]("content");break a}catch(Z){if(a.rescue(Z,[l(D,"StandardError")]))try{f=c;break a}finally{a.pop_exception()}else throw Z;
}f=void 0}f=[m,f,b.$config()]}g=f[0];k=f[1];w=f[2];f;H=h(H=w["$[]"]("default_attrs"))?H.$dup():n([],{});h(k["$nil_or_empty?"]())?h(h(f=k)?w["$[]"]("content_model")["$!="]("attributes"):f)&&(M=["text",k],E(H,"[]=",a.to_a(M)),M[z(M.length,1)]):(k=d.$unescape_bracketed_text(k),w["$[]"]("content_model")["$=="]("attributes")?d.$parse_attributes(k,h(f=w["$[]"]("pos_attrs"))?f:[],n(["sub_result","into"],{sub_result:!1,into:H})):(M=["text",k],E(H,"[]=",a.to_a(M)),M[z(M.length,1)]));g=b.$process_method()["$[]"](d,
h(f=g)?f:k,H);return h(l(D,"Inline")["$==="](g))?g.$convert():g},e.$$s=d,e.$$arity=0,e))},v.$$s=this,v.$$arity=1,v));h(h(d=Ba)?h(e=x["$include?"]("image:"))?e:x["$include?"]("icon:"):d)&&(x=E(x,"gsub",[l(D,"InlineImageMacroRx")],(C=function(){var b=C.$$s||this,d,e=c,f=c,g=f=c,k=c,e=c;null==p["~"]&&(p["~"]=c);e=p["~"];if(h((f=(d=p["~"])===c?c:d["$[]"](0))["$start_with?"](l(D,"RS"))))return f["$[]"](q(1,-1,!1));d=h(f["$start_with?"]("icon:"))?["icon",["size"]]:["image",["alt","width","height"]];f=d[0];
g=d[1];d;h((k=e["$[]"](1))["$include?"](l(D,"ATTR_REF_HEAD")))&&(k=b.$sub_attributes(k));f["$=="]("icon")||T.$register("images",k);e=b.$parse_attributes(e["$[]"](2),g,n(["unescape_input"],{unescape_input:!0}));h(d=e["$[]"]("alt"))?d:(M=["alt",(M=["default-alt",l(D,"Helpers").$basename(k,!0).$tr("_-"," ")],E(e,"[]=",a.to_a(M)),M[z(M.length,1)])],E(e,"[]=",a.to_a(M)),M[z(M.length,1)]);return l(D,"Inline").$new(b,"image",c,n(["type","target","attributes"],{type:f,target:k,attributes:e})).$convert()},
C.$$s=this,C.$$arity=0,C)));h(h(d=h(e=x["$include?"]("(("))?x["$include?"]("))"):e)?d:h(e=u)?x["$include?"]("dexterm"):e)&&(x=E(x,"gsub",[l(D,"InlineIndextermMacroRx")],(r=function(){var a=r.$$s||this,b,d=c,e=c,f=c,g=c,k=c,w=c,H=c,m=c;return function(){d=(b=p["~"])===c?c:b["$[]"](1);if("indexterm"["$==="](d)){e=(b=p["~"])===c?c:b["$[]"](2);if(h((f=(b=p["~"])===c?c:b["$[]"](0))["$start_with?"](l(D,"RS"))))return f.$slice(1,f.$length());g=a.$split_simple_csv(a.$normalize_string(e,!0));T.$register("indexterms",
g);return l(D,"Inline").$new(a,"indexterm",c,n(["attributes"],{attributes:n(["terms"],{terms:g})})).$convert()}if("indexterm2"["$==="](d)){e=(b=p["~"])===c?c:b["$[]"](2);if(h((f=(b=p["~"])===c?c:b["$[]"](0))["$start_with?"](l(D,"RS"))))return f.$slice(1,f.$length());k=a.$normalize_string(e,!0);T.$register("indexterms",[k]);return l(D,"Inline").$new(a,"indexterm",k,n(["type"],{type:"visible"})).$convert()}e=(b=p["~"])===c?c:b["$[]"](3);if(h((f=(b=p["~"])===c?c:b["$[]"](0))["$start_with?"](l(D,"RS"))))if(h(h(b=
e["$start_with?"]("("))?e["$end_with?"](")"):b))e=e.$slice(1,z(e.$length(),2)),b=[!0,"(",")"],w=b[0],H=b[1],m=b[2],b;else return f.$slice(1,f.$length());else w=!0,h(e["$start_with?"]("("))?(h(e["$end_with?"](")"))?(b=[e.$slice(1,z(e.$length(),2)),!1],e=b[0],w=b[1]):(b=[e.$slice(1,e.$length()),"(",""],e=b[0],H=b[1],m=b[2]),b):h(e["$end_with?"](")"))&&(b=[e.$slice(0,z(e.$length(),1)),"",")"],e=b[0],H=b[1],m=b[2],b);h(w)?(k=a.$normalize_string(e),T.$register("indexterms",[k]),x=l(D,"Inline").$new(a,
"indexterm",k,n(["type"],{type:"visible"})).$convert()):(g=a.$split_simple_csv(a.$normalize_string(e)),T.$register("indexterms",g),x=l(D,"Inline").$new(a,"indexterm",c,n(["attributes"],{attributes:n(["terms"],{terms:g})})).$convert());return h(H)?""+H+x+m:x}()},r.$$s=this,r.$$arity=0,r)));h(h(d=Qa)?x["$include?"]("://"):d)&&(x=E(x,"gsub",[l(D,"InlineLinkRx")],(G=function(){var b=G.$$s||this,d,e,f=c,g=c,k=c,w=c,H=c,m=c,g=f=g=c;null==p["~"]&&(p["~"]=c);f=p["~"];if(h(f["$[]"](2)["$start_with?"](l(D,
"RS"))))return""+f["$[]"](1)+f["$[]"](2)["$[]"](q(1,-1,!1))+f["$[]"](3);d=[f["$[]"](1),f["$[]"](2),h(e=g=f["$[]"](3))?e:"",""];k=d[0];w=d[1];H=d[2];m=d[3];d;if(k["$=="]("link:"))if(h(g))k="";else return f["$[]"](0);h(h(d=g)?d:l(D,"UriTerminatorRx")["$!~"](w))||(g=(d=p["~"])===c?c:d["$[]"](0),")"["$==="](g)?(w=w.$chop(),m=")"):";"["$==="](g)?h(h(d=k["$start_with?"]("&lt;"))?w["$end_with?"]("&gt;"):d)?(k=k["$[]"](q(4,-1,!1)),w=w["$[]"](q(0,-4,!0))):h((w=w.$chop())["$end_with?"](")"))?(w=w.$chop(),m=
");"):m=";":":"["$==="](g)&&(h((w=w.$chop())["$end_with?"](")"))?(w=w.$chop(),m="):"):m=":"),h(w["$end_with?"]("://"))&&a.ret(f["$[]"](0)));d=[c,n(["type"],{type:"link"})];f=d[0];g=d[1];d;h(H["$empty?"]())||(h(H["$include?"](l(D,"R_SB")))&&(H=H.$gsub(l(D,"ESC_R_SB"),l(D,"R_SB"))),h(h(d=T.$compat_mode()["$!"]())?H["$include?"]("="):d)&&(H=h(d=(f=l(D,"AttributeList").$new(H,b).$parse())["$[]"](1))?d:"",h(f["$key?"]("id"))&&(M=["id",f.$delete("id")],E(g,"[]=",a.to_a(M)),M[z(M.length,1)])),h(H["$end_with?"]("^"))&&
(H=H.$chop(),h(f)?h(d=f["$[]"]("window"))?d:(M=["window","_blank"],E(f,"[]=",a.to_a(M)),M[z(M.length,1)]):f=n(["window"],{window:"_blank"})));h(H["$empty?"]())&&(H=h(I["$key?"]("hide-uri-scheme"))?w.$sub(l(D,"UriSniffRx"),""):w,h(f)?(M=["role",h(f["$key?"]("role"))?"bare "+f["$[]"]("role"):"bare"],E(f,"[]=",a.to_a(M)),M[z(M.length,1)]):f=n(["role"],{role:"bare"}));T.$register("links",(M=["target",w],E(g,"[]=",a.to_a(M)),M[z(M.length,1)]));h(f)&&(M=["attributes",f],E(g,"[]=",a.to_a(M)),M[z(M.length,
1)]);return""+k+l(D,"Inline").$new(b,"anchor",H,g).$convert()+m},G.$$s=this,G.$$arity=0,G)));h(h(d=Ba)?h(e=x["$include?"]("link:"))?e:x["$include?"]("mailto:"):d)&&(x=E(x,"gsub",[l(D,"InlineLinkMacroRx")],(H=function(){var b=H.$$s||this,d,e=c,f=c,g=c,k=c,w=c,m=c;null==p["~"]&&(p["~"]=c);e=p["~"];if(h(e["$[]"](0)["$start_with?"](l(D,"RS"))))return e["$[]"](0)["$[]"](q(1,-1,!1));f=h(g=e["$[]"](1))?"mailto:"+e["$[]"](2):e["$[]"](2);d=[c,n(["type"],{type:"link"})];k=d[0];w=d[1];d;h((m=e["$[]"](3))["$empty?"]())||
(h(m["$include?"](l(D,"R_SB")))&&(m=m.$gsub(l(D,"ESC_R_SB"),l(D,"R_SB"))),h(g)?h(h(d=T.$compat_mode()["$!"]())?m["$include?"](","):d)&&(m=h(d=(k=l(D,"AttributeList").$new(m,b).$parse())["$[]"](1))?d:"",h(k["$key?"]("id"))&&(M=["id",k.$delete("id")],E(w,"[]=",a.to_a(M)),M[z(M.length,1)]),h(k["$key?"](2))&&(f=h(k["$key?"](3))?""+f+"?subject="+l(D,"Helpers").$uri_encode(k["$[]"](2))+"&amp;body="+l(D,"Helpers").$uri_encode(k["$[]"](3)):""+f+"?subject="+l(D,"Helpers").$uri_encode(k["$[]"](2)))):h(h(d=
T.$compat_mode()["$!"]())?m["$include?"]("="):d)&&(m=h(d=(k=l(D,"AttributeList").$new(m,b).$parse())["$[]"](1))?d:"",h(k["$key?"]("id"))&&(M=["id",k.$delete("id")],E(w,"[]=",a.to_a(M)),M[z(M.length,1)])),h(m["$end_with?"]("^"))&&(m=m.$chop(),h(k)?h(d=k["$[]"]("window"))?d:(M=["window","_blank"],E(k,"[]=",a.to_a(M)),M[z(M.length,1)]):k=n(["window"],{window:"_blank"})));h(m["$empty?"]())&&(h(g)?m=e["$[]"](2):(m=h(I["$key?"]("hide-uri-scheme"))?f.$sub(l(D,"UriSniffRx"),""):f,h(k)?(M=["role",h(k["$key?"]("role"))?
"bare "+k["$[]"]("role"):"bare"],E(k,"[]=",a.to_a(M)),M[z(M.length,1)]):k=n(["role"],{role:"bare"})));T.$register("links",(M=["target",f],E(w,"[]=",a.to_a(M)),M[z(M.length,1)]));h(k)&&(M=["attributes",k],E(w,"[]=",a.to_a(M)),M[z(M.length,1)]);return l(D,"Inline").$new(b,"anchor",m,w).$convert()},H.$$s=this,H.$$arity=0,H)));h(x["$include?"]("@"))&&(x=E(x,"gsub",[l(D,"InlineEmailRx")],(Y=function(){var a=Y.$$s||this,b,d,e=c,f=c;b=c;b=[(d=p["~"])===c?c:d["$[]"](0),(d=p["~"])===c?c:d["$[]"](1)];e=b[0];
f=b[1];b;if(h(f))return f["$=="](l(D,"RS"))?e["$[]"](q(1,-1,!1)):e;b="mailto:"+e;T.$register("links",b);return l(D,"Inline").$new(a,"anchor",e,n(["type","target"],{type:"link",target:b})).$convert()},Y.$$s=this,Y.$$arity=0,Y)));h(h(d=Ba)?x["$include?"]("tnote"):d)&&(x=E(x,"gsub",[l(D,"InlineFootnoteMacroRx")],(Ka=function(){var b=Ka.$$s||this,d,e,g,k=c,w=c,H=c,m=k=e=c,H=c;null==p["~"]&&(p["~"]=c);k=p["~"];if(h(k["$[]"](0)["$start_with?"](l(D,"RS"))))return k["$[]"](0)["$[]"](q(1,-1,!1));h(k["$[]"](1))?
(e=(h(d=k["$[]"](3))?d:"").$split(",",2),d=a.to_ary(e),w=null==d[0]?c:d[0],H=null==d[1]?c:d[1],e):(d=[k["$[]"](2),k["$[]"](3)],w=d[0],H=d[1],d);if(h(w))h(H)?(H=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(H,!0))),!1),e=T.$counter("footnote-number"),T.$register("footnotes",f(l(D,"Document"),"Footnote").$new(e,w,H)),d=["ref",c],k=d[0],m=d[1]):(h(H=E(T.$footnotes(),"find",[],(g=function(a){null==a&&(a=c);return a.$id()["$=="](w)},g.$$s=b,g.$$arity=1,g)))?d=[H.$index(),
H.$text()]:(b.$logger().$warn("invalid footnote reference: "+w),d=[c,w]),e=d[0],H=d[1],d,d=["xref",w,c],k=d[0],m=d[1],w=d[2]),d;else if(h(H))H=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(H,!0))),!1),e=T.$counter("footnote-number"),T.$register("footnotes",f(l(D,"Document"),"Footnote").$new(e,w,H)),k=m=c;else return k["$[]"](0);return l(D,"Inline").$new(b,"footnote",H,n(["attributes","id","target","type"],{attributes:n(["index"],{index:e}),id:w,target:m,type:k})).$convert()},
Ka.$$s=this,Ka.$$arity=0,Ka)));return this.$sub_inline_xrefs(this.$sub_inline_anchors(x,Z),Z)}catch(S){if(S===a.returner)return S.$v;throw S;}},ga.$$arity=1);a.def(C,"$sub_inline_anchors",ca=function(a,b){var d,e,f,g,k;null==this.context&&(this.context=c);null==this.parent&&(this.parent=c);null==b&&(b=c);h((d=this.context["$=="]("list_item"))?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&(a=E(a,"sub",[l(D,"InlineBiblioAnchorRx")],(e=function(){var a=e.$$s||this,b,
d;return l(D,"Inline").$new(a,"anchor","["+(h(b=(d=p["~"])===c?c:d["$[]"](2))?b:(d=p["~"])===c?c:d["$[]"](1))+"]",n(["type","id","target"],{type:"bibref",id:(b=p["~"])===c?c:b["$[]"](1),target:(b=p["~"])===c?c:b["$[]"](1)})).$convert()},e.$$s=this,e.$$arity=0,e)));h(h(d=h(f=h(g=b["$!"]())?g:b["$[]"]("square_bracket"))?a["$include?"]("[["):f)?d:h(f=h(g=b["$!"]())?g:b["$[]"]("macroish"))?a["$include?"]("or:"):f)&&(a=E(a,"gsub",[l(D,"InlineAnchorRx")],(k=function(){var a=k.$$s||this,b,d,e=c,f=c;if(h((b=
p["~"])===c?c:b["$[]"](1)))return((b=p["~"])===c?c:b["$[]"](0)).$slice(1,((b=p["~"])===c?c:b["$[]"](0)).$length());h(e=(b=p["~"])===c?c:b["$[]"](2))?f=(b=p["~"])===c?c:b["$[]"](3):(e=(b=p["~"])===c?c:b["$[]"](4),h(h(b=f=(d=p["~"])===c?c:d["$[]"](5))?f["$include?"](l(D,"R_SB")):b)&&(f=f.$gsub(l(D,"ESC_R_SB"),l(D,"R_SB"))));return l(D,"Inline").$new(a,"anchor",f,n(["type","id","target"],{type:"ref",id:e,target:e})).$convert()},k.$$s=this,k.$$arity=0,k)));return a},ca.$$arity=-2);a.def(C,"$sub_inline_xrefs",
aa=function(e,k){var m,A,t;null==k&&(k=c);h(h(m=h(A=h(k)?k["$[]"]("macroish"):e["$include?"]("["))?e["$include?"]("xref:"):A)?m:h(A=e["$include?"]("&"))?e["$include?"]("lt;&"):A)&&(e=E(e,"gsub",[l(D,"InlineXrefMacroRx")],(t=function(){var e=t.$$s||this,k,m,A=c,E=c,H=c,Y=c,Ka=A=c,Z=c,v=c,M=c,C=M=c,r=c,G=c;null==e.document&&(e.document=c);null==p["~"]&&(p["~"]=c);null==p.VERBOSE&&(p.VERBOSE=c);A=p["~"];if(h(A["$[]"](0)["$start_with?"](l(D,"RS"))))return A["$[]"](0)["$[]"](q(1,-1,!1));k=[n([],{}),e.document];
E=k[0];H=k[1];k;h(Y=A["$[]"](1))?(m=Y.$split(",",2),k=a.to_ary(m),Y=null==k[0]?c:k[0],A=null==k[1]?c:k[1],m,h(A)&&(A=A.$lstrip())):(Ka=!0,Y=A["$[]"](2),h(A=A["$[]"](3))&&(h(A["$include?"](l(D,"R_SB")))&&(A=A.$gsub(l(D,"ESC_R_SB"),l(D,"R_SB"))),h(h(k=H.$compat_mode()["$!"]())?A["$include?"]("="):k)&&(A=l(D,"AttributeList").$new(A,e).$parse_into(E)["$[]"](1))));h(H.$compat_mode())?Z=Y:h(v=Y.$index("#"))?h(g(v,0))?(h(g(M=z(z(Y.$length(),v),1),0))?(k=[Y.$slice(0,v),Y.$slice(b(v,1),M)],M=k[0],Z=k[1],k):
M=Y.$slice(0,v),h((C=f("::","File").$extname(M))["$empty?"]())?r=M:h(l(D,"ASCIIDOC_EXTENSIONS")["$[]"](C))&&(r=M=M.$slice(0,z(M.$length(),C.$length())))):(k=[Y,Y.$slice(1,Y.$length())],G=k[0],Z=k[1],k):h(h(k=Ka)?Y["$end_with?"](".adoc"):k)?r=M=Y.$slice(0,z(Y.$length(),5)):Z=Y;h(G)?(Y=Z,h(h(k=p.VERBOSE)?H.$catalog()["$[]"]("ids")["$key?"](Y)["$!"]():k)&&e.$logger().$warn("invalid reference: "+Y)):h(M)?h(h(k=r)?h(m=H.$attributes()["$[]"]("docname")["$=="](M))?m:H.$catalog()["$[]"]("includes")["$[]"](M):
k)?h(Z)?(k=[Z,c,"#"+Z],Y=k[0],M=k[1],G=k[2],k,h(h(k=p.VERBOSE)?H.$catalog()["$[]"]("ids")["$key?"](Y)["$!"]():k)&&e.$logger().$warn("invalid reference: "+Y)):(k=[c,c,"#"],Y=k[0],M=k[1],G=k[2],k):(k=[M,""+H.$attributes()["$[]"]("relfileprefix")+M+(h(r)?H.$attributes().$fetch("relfilesuffix",H.$outfilesuffix()):"")],Y=k[0],M=k[1],k,h(Z)?(k=[""+Y+"#"+Z,""+M+"#"+Z],Y=k[0],G=k[1],k):G=M):h(h(k=H.$compat_mode())?k:l(D,"Compliance").$natural_xrefs()["$!"]())?(k=[Z,"#"+Z],Y=k[0],G=k[1],k,h(h(k=p.VERBOSE)?
H.$catalog()["$[]"]("ids")["$key?"](Y)["$!"]():k)&&e.$logger().$warn("invalid reference: "+Y)):h(H.$catalog()["$[]"]("ids")["$key?"](Z))?(k=[Z,"#"+Z],Y=k[0],G=k[1],k):h(h(k=Y=H.$catalog()["$[]"]("ids").$key(Z))?h(m=Z["$include?"](" "))?m:Z.$downcase()["$!="](Z):k)?(k=[Y,"#"+Y],Z=k[0],G=k[1],k):(k=[Z,"#"+Z],Y=k[0],G=k[1],k,h(p.VERBOSE)&&e.$logger().$warn("invalid reference: "+Y));k=[M,Z,Y];E["$[]="]("path",k[0]);E["$[]="]("fragment",k[1]);E["$[]="]("refid",k[2]);k;return l(D,"Inline").$new(e,"anchor",
A,n(["type","target","attributes"],{type:"xref",target:G,attributes:E})).$convert()},t.$$s=this,t.$$arity=0,t)));return e},aa.$$arity=-2);a.def(C,"$sub_callouts",ea=function(a){var b,d=c,d=h(this["$attr?"]("line-comment"))?new RegExp("(?:"+f("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+l(D,"CalloutSourceRxt")):l(D,"CalloutSourceRx");return E(a,"gsub",[d],(b=function(){var a=b.$$s||this,d;null==a.document&&(a.document=c);return h((d=p["~"])===c?c:d["$[]"](1))?((d=p["~"])===c?c:d["$[]"](0)).$sub(l(D,
"RS"),""):l(D,"Inline").$new(a,"callout",(d=p["~"])===c?c:d["$[]"](3),n(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},b.$$s=this,b.$$arity=0,b))},ea.$$arity=1);a.def(C,"$sub_post_replacements",J=function(a){var b,d,e,f=c,g=c;null==this.document&&(this.document=c);null==this.attributes&&(this.attributes=c);if(h(h(b=this.document.$attributes()["$key?"]("hardbreaks"))?b:this.attributes["$key?"]("hardbreaks-option"))){f=a.$split(l(D,"LF"),-1);if(h(k(f.$size(),2)))return a;g=f.$pop();
return A(E(f,"map",[],(d=function(a){var b=d.$$s||this;null==a&&(a=c);return l(D,"Inline").$new(b,"break",h(a["$end_with?"](l(D,"HARD_LINE_BREAK")))?a.$slice(0,z(a.$length(),2)):a,n(["type"],{type:"line"})).$convert()},d.$$s=this,d.$$arity=1,d))["$<<"](g),l(D,"LF"))}return h(h(b=a["$include?"](l(D,"PLUS")))?a["$include?"](l(D,"HARD_LINE_BREAK")):b)?E(a,"gsub",[l(D,"HardLineBreakRx")],(e=function(){var a=e.$$s||this,b;return l(D,"Inline").$new(a,"break",(b=p["~"])===c?c:b["$[]"](1),n(["type"],{type:"line"})).$convert()},
e.$$s=this,e.$$arity=0,e)):a},J.$$arity=1);a.def(C,"$convert_quoted_text",da=function(a,b,d){var e=c,f=c,g=c,k=c,w=c;if(h(a["$[]"](0)["$start_with?"](l(D,"RS"))))if(h(d["$=="]("constrained")?e=a["$[]"](2):d["$=="]("constrained")))f="["+e+"]";else return a["$[]"](0)["$[]"](q(1,-1,!1));if(d["$=="]("constrained")){if(h(f))return""+f+l(D,"Inline").$new(this,"quoted",a["$[]"](3),n(["type"],{type:b})).$convert();h(g=a["$[]"](2))&&(k=(w=this.$parse_quoted_text_attributes(g)).$delete("id"),b["$=="]("mark")&&
(b="unquoted"));return""+a["$[]"](1)+l(D,"Inline").$new(this,"quoted",a["$[]"](3),n(["type","id","attributes"],{type:b,id:k,attributes:w})).$convert()}h(g=a["$[]"](1))&&(k=(w=this.$parse_quoted_text_attributes(g)).$delete("id"),b["$=="]("mark")&&(b="unquoted"));return l(D,"Inline").$new(this,"quoted",a["$[]"](2),n(["type","id","attributes"],{type:b,id:k,attributes:w})).$convert()},da.$$arity=3);a.def(C,"$parse_quoted_text_attributes",L=function(b){var d,e=c,f=c,k=c,f=k=e=c;h(b["$include?"](l(D,"ATTR_REF_HEAD")))&&
(b=this.$sub_attributes(b,n(["multiline"],{multiline:!0})));h(b["$include?"](","))&&(b=b.$slice(0,b.$index(",")));return h((b=b.$strip())["$empty?"]())?n([],{}):h(h(d=b["$start_with?"](".","#"))?l(D,"Compliance").$shorthand_property_syntax():d)?(e=b.$split("#",2),h(g(e.$size(),1))?(b=e["$[]"](1).$split("."),d=a.to_ary(b),f=null==d[0]?c:d[0],k=t.call(d,1),b):(f=c,k=[]),e=h(e["$[]"](0)["$empty?"]())?[]:e["$[]"](0).$split("."),h(g(e.$size(),1))&&e.$shift(),h(g(k.$size(),0))&&e.$concat(k),k=n([],{}),
h(f)&&(f=["id",f],E(k,"[]=",a.to_a(f)),f[z(f.length,1)]),h(e["$empty?"]())||(f=["role",A(e," ")],E(k,"[]=",a.to_a(f)),f[z(f.length,1)]),k):n(["role"],{role:b})},L.$$arity=1);a.def(C,"$parse_attributes",ra=function(a,b,d){var e,f=c,g=c;null==this.document&&(this.document=c);null==b&&(b=["role"]);null==d&&(d=n([],{}));if(!h(a))return c;if(h(a["$empty?"]()))return n([],{});h(h(e=d["$[]"]("sub_input"))?a["$include?"](l(D,"ATTR_REF_HEAD")):e)&&(a=this.document.$sub_attributes(a));h(d["$[]"]("unescape_input"))&&
(a=this.$unescape_bracketed_text(a));f=h(d.$fetch("sub_result",!0))?this:c;return h(g=d["$[]"]("into"))?l(D,"AttributeList").$new(a,f).$parse_into(g,b):l(D,"AttributeList").$new(a,f).$parse(b)},ra.$$arity=-2);a.def(C,"$expand_subs",K=function(a){var e,g,k=c;if(h(f("::","Symbol")["$==="](a)))return a["$=="]("none")?c:h(e=l(D,"SUB_GROUPS")["$[]"](a))?e:[a];k=[];E(a,"each",[],(g=function(a){var e=c;null==a&&(a=c);return a["$=="]("none")?c:h(e=l(D,"SUB_GROUPS")["$[]"](a))?k=b(k,e):k["$<<"](a)},g.$$s=
this,g.$$arity=1,g));return h(k["$empty?"]())?c:k},K.$$arity=1);a.def(C,"$unescape_bracketed_text",sa=function(a){h(a["$empty?"]())||h((a=a.$strip().$tr(l(D,"LF")," "))["$include?"](l(D,"R_SB")))&&(a=a.$gsub(l(D,"ESC_R_SB"),l(D,"R_SB")));return a},sa.$$arity=1);a.def(C,"$normalize_string",Ga=function(a,b){var c;null==b&&(b=!1);h(a["$empty?"]())||(a=a.$strip().$tr(l(D,"LF")," "),h(h(c=b)?a["$include?"](l(D,"R_SB")):c)&&(a=a.$gsub(l(D,"ESC_R_SB"),l(D,"R_SB"))));return a},Ga.$$arity=-2);a.def(C,"$unescape_brackets",
ua=function(a){h(a["$empty?"]())||h(a["$include?"](l(D,"RS")))&&(a=a.$gsub(l(D,"ESC_R_SB"),l(D,"R_SB")));return a},ua.$$arity=1);a.def(C,"$split_simple_csv",oa=function(a){var b,d,e=c,f=c,g=c;h(a["$empty?"]())?e=[]:h(a["$include?"]('"'))?(e=[],f=[],g=!1,E(a,"each_char",[],(b=function(a){var b=c;null==a&&(a=c);return function(){b=a;if(","["$==="](b)){if(h(g))return f["$<<"](a);e["$<<"](f.$join().$strip());return f=[]}return'"'["$==="](b)?g=g["$!"]():f["$<<"](a)}()},b.$$s=this,b.$$arity=1,b)),e["$<<"](f.$join().$strip())):
e=E(a.$split(","),"map",[],(d=function(a){null==a&&(a=c);return a.$strip()},d.$$s=this,d.$$arity=1,d));return e},oa.$$arity=1);a.def(C,"$resolve_subs",Ja=function(a,e,f,k){var n,m=c,t=c,p=c,v=c;null==e&&(e="block");null==f&&(f=c);null==k&&(k=c);if(h(a["$nil_or_empty?"]()))return c;m=c;h(a["$include?"](" "))&&(a=a.$delete(" "));t=l(D,"SubModifierSniffRx")["$match?"](a);E(a.$split(","),"each",[],(n=function(a){var g,k,n=c,w=g=c,A=w=c,n=c;null==a&&(a=c);n=c;h(t)&&((g=a.$chr())["$=="]("+")?(n="append",
a=a["$[]"](q(1,-1,!1))):g["$=="]("-")?(n="remove",a=a["$[]"](q(1,-1,!1))):h(a["$end_with?"]("+"))&&(n="prepend",a=a.$chop()));a=a.$to_sym();h((g=e["$=="]("inline"))?h(k=a["$=="]("verbatim"))?k:a["$=="]("v"):e["$=="]("inline"))?w=l(D,"BASIC_SUBS"):h(l(D,"SUB_GROUPS")["$key?"](a))?w=l(D,"SUB_GROUPS")["$[]"](a):h(h(g=e["$=="]("inline")?a.$length()["$=="](1):e["$=="]("inline"))?l(D,"SUB_HINTS")["$key?"](a):g)?(w=l(D,"SUB_HINTS")["$[]"](a),w=h(A=l(D,"SUB_GROUPS")["$[]"](w))?A:[w]):w=[a];if(h(n))return m=
h(g=m)?g:h(f)?f.$dup():[],"append"["$==="](n)?m=b(m,w):"prepend"["$==="](n)?m=b(w,m):"remove"["$==="](n)?m=z(m,w):c;m=h(g=m)?g:[];return m=b(m,w)},n.$$s=this,n.$$arity=1,n));if(!h(m))return c;p=m["$&"](l(D,"SUB_OPTIONS")["$[]"](e));h(z(m,p)["$empty?"]())||(v=z(m,p),this.$logger().$warn("invalid substitution type"+(h(g(v.$size(),1))?"s":"")+(h(k)?" for ":"")+k+": "+A(v,", ")));return p},Ja.$$arity=-2);a.def(C,"$resolve_block_subs",P=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},P.$$arity=
3);a.def(C,"$resolve_pass_subs",Q=function(a){return this.$resolve_subs(a,"inline",c,"passthrough macro")},Q.$$arity=1);a.def(C,"$highlight_source",Ha=function(e,g,k){var w,m,t,v,C,q,r=c,H=c,Y=c,Ka=c,Z=c,Va=c,M=c,Qa=c,Ba=c,x=c,I=r=c,u=c,T=c;null==this.document&&(this.document=c);null==this.passthroughs&&(this.passthroughs=c);null==k&&(k=c);r=k=h(w=k)?w:this.document.$attributes()["$[]"]("source-highlighter");"coderay"["$==="](r)?h(h(w=h(m=H=f("::","CodeRay","skip_raise")?"constant":c)?m:(t=G.$$cvars["@@coderay_unavailable"],
null!=t)?"class variable":c)?w:this.document.$attributes()["$[]"]("coderay-unavailable"))||(h(l(D,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?a.class_variable_set(G,"@@coderay_unavailable",!0):H=!0):"pygments"["$==="](r)?h(h(w=h(m=H=f("::","Pygments","skip_raise")?"constant":c)?m:(v=G.$$cvars["@@pygments_unavailable"],null!=v)?"class variable":c)?w:this.document.$attributes()["$[]"]("pygments-unavailable"))||(h(l(D,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?
a.class_variable_set(G,"@@pygments_unavailable",!0):H=!0):H=!1;if(!h(H))return this.$sub_source(e,g);Y=0;Ka=!1;h(g)?(Z=n([],{}),Va=-1,M=h(this["$attr?"]("line-comment"))?new RegExp("(?:"+f("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+l(D,"CalloutExtractRxt")):l(D,"CalloutExtractRx"),e=A(E(e.$split(l(D,"LF"),-1),"map",[],(C=function(e){var f=C.$$s||this,g;null==e&&(e=c);Y=b(Y,1);return E(e,"gsub",[M],(g=function(){var b,d=c,e=c;null==p["~"]&&(p["~"]=c);d=p["~"];if(d["$[]"](1)["$=="](l(D,
"RS")))return d["$[]"](0).$sub(l(D,"RS"),"");(h(b=Z["$[]"](Y))?b:(e=[Y,[]],E(Z,"[]=",a.to_a(e)),e[z(e.length,1)]))["$<<"](d["$[]"](3));Va=Y;return c},g.$$s=f,g.$$arity=0,g))},C.$$s=this,C.$$arity=1,C)),l(D,"LF")),Ka=Va["$=="](Y),h(Z["$empty?"]())&&(Z=c)):Z=c;Ba=Qa=c;r=k;"coderay"["$==="](r)?(h(Qa=h(this["$attr?"]("linenums",c,!1))?(h(w=this.document.$attributes()["$[]"]("coderay-linenums-mode"))?w:"table").$to_sym():c)&&h(this["$attr?"]("highlight",c,!1))&&(Ba=this.$resolve_highlight_lines(this.$attr("highlight",
c,!1))),x=f(f("::","CodeRay"),"Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",n(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(h(w=this.document.$attributes()["$[]"]("coderay-css"))?w:"class").$to_sym(),line_numbers:Qa,line_number_anchors:!1,highlight_lines:Ba,bold_every:!1})).$highlight(e)):"pygments"["$==="](r)&&(r=h(w=f(f("::","Pygments"),"Lexer").$find_by_alias(this.$attr("language","text",!1)))?w:f(f("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),
I=n(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),r.$name()["$=="]("PHP")&&(u=["startinline",this["$option?"]("mixed")["$!"]()],E(I,"[]=",a.to_a(u)),u[z(u.length,1)]),(h(w=this.document.$attributes()["$[]"]("pygments-css"))?w:"class")["$=="]("class")||(u=["noclasses",!0],E(I,"[]=",a.to_a(u)),u[z(u.length,1)],u=["style",h(w=this.document.$attributes()["$[]"]("pygments-style"))?w:f(l(D,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],E(I,
"[]=",a.to_a(u)),u[z(u.length,1)]),h(this["$attr?"]("highlight",c,!1))&&!h((Ba=this.$resolve_highlight_lines(this.$attr("highlight",c,!1)))["$empty?"]())&&(u=["hl_lines",A(Ba," ")],E(I,"[]=",a.to_a(u)),u[z(u.length,1)]),h(h(w=this["$attr?"]("linenums",c,!1))?(u=["linenos",h(m=this.document.$attributes()["$[]"]("pygments-linenums-mode"))?m:"table"],E(I,"[]=",a.to_a(u)),u[z(u.length,1)])["$=="]("table"):w)?(Qa="table",x=h(x=r.$highlight(e,n(["options"],{options:I})))?x.$sub(l(D,"PygmentsWrapperDivRx"),
"\\1").$gsub(l(D,"PygmentsWrapperPreRx"),"\\1"):this.$sub_specialchars(e)):h(x=r.$highlight(e,n(["options"],{options:I})))?h(l(D,"PygmentsWrapperPreRx")["$=~"](x))&&(x=(w=p["~"])===c?c:w["$[]"](1)):x=this.$sub_specialchars(e));h(this.passthroughs["$empty?"]())||(x=x.$gsub(l(D,"HighlightedPassSlotRx"),""+l(D,"PASS_START")+"\\1"+l(D,"PASS_END")));return h(h(w=g)?Z:w)?(Y=0,T=Qa["$!="]("table"),A(E(x.$split(l(D,"LF"),-1),"map",[],(q=function(a){var e=q.$$s||this,f,g,w,m=c,H=c,M=c,m=c;null==e.document&&
(e.document=c);null==a&&(a=c);if(!h(T)){if(!h(a["$include?"]('<td class="code">')))return a;T=!0}Y=b(Y,1);if(h(m=Z.$delete(Y))){H=c;h(h(f=h(g=Ka)?Z["$empty?"]():g)?Qa["$=="]("table"):f)&&(h((f=k["$=="]("coderay"))?M=a.$index("</pre>"):k["$=="]("coderay"))?(f=[a.$slice(0,M),a.$slice(M,a.$length())],a=f[0],H=f[1],f):h((f=k["$=="]("pygments"))?M=a["$start_with?"]("</td>"):k["$=="]("pygments"))&&(f=["",a],a=f[0],H=f[1],f));if(m.$size()["$=="](1))return""+a+l(D,"Inline").$new(e,"callout",m["$[]"](0),n(["id"],
{id:e.document.$callouts().$read_next_id()})).$convert()+H;m=A(E(m,"map",[],(w=function(a){var b=w.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return l(D,"Inline").$new(b,"callout",a,n(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},w.$$s=e,w.$$arity=1,w))," ");return""+a+m+H}return a},q.$$s=this,q.$$arity=1,q)),l(D,"LF"))):x},Ha.$$arity=-3);a.def(C,"$resolve_highlight_lines",xa=function(b){var d,e=c,e=[];E((h(b["$include?"](" "))?b.$delete(" "):b).$split(l(D,"DataDelimiterRx")),
"map",[],(d=function(b){var d,f=c,g=c,g=d=c;null==b&&(b=c);f=!1;h(b["$start_with?"]("!"))&&(b=b["$[]"](q(1,-1,!1)),f=!0);return h(b["$include?"]("-"))?(b=b.$split("-",2),d=a.to_ary(b),g=null==d[0]?c:d[0],d=null==d[1]?c:d[1],b,g=a.Range.$new(g.$to_i(),d.$to_i(),!1).$to_a(),h(f)?e=z(e,g):e.$concat(g)):h(f)?e.$delete(b.$to_i()):e["$<<"](b.$to_i())},d.$$s=this,d.$$arity=1,d));return e.$sort().$uniq()},xa.$$arity=1);a.def(C,"$sub_source",Aa=function(a,b){return h(b)?this.$sub_callouts(this.$sub_specialchars(a)):
this.$sub_specialchars(a)},Aa.$$arity=2);a.def(C,"$lock_in_subs",Ea=function(){var b,d,e,f,g=c,k=g=c,n=c,g=c;null==this.default_subs&&(this.default_subs=c);null==this.content_model&&(this.content_model=c);null==this.context&&(this.context=c);null==this.subs&&(this.subs=c);null==this.attributes&&(this.attributes=c);null==this.style&&(this.style=c);null==this.document&&(this.document=c);if(!h(g=this.default_subs))if(g=this.content_model,"simple"["$==="](g))g=l(D,"NORMAL_SUBS");else if("verbatim"["$==="](g))g=
h(h(b=this.context["$=="]("listing"))?b:(d=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))?l(D,"VERBATIM_SUBS"):this.context["$=="]("verse")?l(D,"NORMAL_SUBS"):l(D,"BASIC_SUBS");else if("raw"["$==="](g))g=this.context["$=="]("stem")?l(D,"BASIC_SUBS"):l(D,"NONE_SUBS");else return this.subs;h(k=this.attributes["$[]"]("subs"))?this.subs=h(b=this.$resolve_block_subs(k,g,this.context))?b:[]:this.subs=g.$dup();h(h(b=h(d=h(e=h(f=this.context["$=="]("listing")?
this.style["$=="]("source"):this.context["$=="]("listing"))?this.attributes["$key?"]("language"):f)?this.document["$basebackend?"]("html"):e)?l(D,"SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):d)?n=this.subs.$index("specialcharacters"):b)&&(g=[n,"highlight"],E(this.subs,"[]=",a.to_a(g)),g[z(g.length,1)]);return this.subs},Ea.$$arity=0)})(x[0],x)}(m[0],m)};Opal.modules["asciidoctor/abstract_node"]=function(a){function b(a,c){return"number"===typeof a&&"number"===
typeof c?a-c:a["$-"](c)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function A(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var z=[],k=a.nil,m=a.const_get_qualified,c=a.const_get_relative,f=a.module,l=a.klass,t=a.hash2,p=a.truthy,n=a.send,e=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $converter $attributes $nil? $[]= $- $delete $update $nil_or_empty? $split $include? $empty? $* $apply_reftext_subs $attr? $extname $attr $image_uri $< $safe $uriish? $uri_encode_spaces $normalize_web_path $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $strict_encode64 $binread $warn $logger $require_library $! $open $content_type $read $base_dir $root? $path_resolver $join $system_path $web_path $=== $!= $normalize_lines_from_string $open_uri $fetch $read_asset $gsub".split(" "));
return function(h,z){function v(){}var q=[v=f(h,"Asciidoctor",v)].concat(z);(function(f,$super,h){function z(){}f=z=l(f,$super,"AbstractNode",z);var E=f.prototype,v=[f].concat(h),q,C,r,u,x,y,B,F,N,W,R,ba,S,qa,ya,U,la,ga,ca,J,ea,L,da,na,ra,K,sa,Ga,ua,oa,pa,P;E.document=E.attributes=E.parent=k;f.$include(c(v,"Logging"));f.$include(c(v,"Substitutors"));f.$attr_reader("attributes");f.$attr_reader("context");f.$attr_reader("document");f.$attr_accessor("id");f.$attr_reader("node_name");f.$attr_reader("parent");
a.def(f,"$initialize",q=function(a,b,c){null==c&&(c=t([],{}));b["$=="]("document")?(a=[this,k],this.document=a[0],this.parent=a[1],a):p(a)?(a=[a.$document(),a],this.document=a[0],this.parent=a[1],a):this.document=this.parent=k;this.node_name=(this.context=b).$to_s();this.attributes=p(c["$key?"]("attributes"))?c["$[]"]("attributes").$dup():t([],{});return this.passthroughs=t([],{})},q.$$arity=-3);a.def(f,"$block?",C=function(){return this.$raise(m("::","NotImplementedError"))},C.$$arity=0);a.def(f,
"$inline?",r=function(){return this.$raise(m("::","NotImplementedError"))},r.$$arity=0);a.def(f,"$converter",u=function(){return this.document.$converter()},u.$$arity=0);a.def(f,"$parent=",x=function(a){var b;return b=[a,a.$document()],this.parent=b[0],this.document=b[1],b},x.$$arity=1);a.def(f,"$attr",y=function(a,b,c){var d,e;null==b&&(b=k);null==c&&(c=!0);a=a.$to_s();return p(d=this.attributes["$[]"](a))?d:p(p(e=c)?this.parent:e)?p(e=this.document.$attributes()["$[]"](a))?e:b:b},y.$$arity=-2);
a.def(f,"$attr?",B=function(a,b,c){var d,e,f;null==b&&(b=k);null==c&&(c=!0);a=a.$to_s();return p(b["$nil?"]())?p(d=this.attributes["$key?"](a))?d:p(e=p(f=c)?this.parent:f)?this.document.$attributes()["$key?"](a):e:b["$=="](p(d=this.attributes["$[]"](a))?d:p(p(e=c)?this.parent:e)?this.document.$attributes()["$[]"](a):k)},B.$$arity=-2);a.def(f,"$set_attr",F=function(c,e,f){var g=k;null==e&&(e="");null==f&&(f=!0);if(p(f["$=="](!1)?this.attributes["$key?"](c):f["$=="](!1)))return!1;g=[c,e];n(this.attributes,
"[]=",a.to_a(g));g[b(g.length,1)];return!0},F.$$arity=-2);a.def(f,"$remove_attr",N=function(a){return this.attributes.$delete(a)},N.$$arity=1);a.def(f,"$option?",W=function(a){return this.attributes["$key?"](""+a+"-option")},W.$$arity=1);a.def(f,"$set_option",R=function(c){var e=k,e=p(this.attributes["$key?"]("options"))?["options",""+this.attributes["$[]"]("options")+","+c]:["options",c];n(this.attributes,"[]=",a.to_a(e));e[b(e.length,1)];e=[""+c+"-option",""];n(this.attributes,"[]=",a.to_a(e));
return e[b(e.length,1)]},R.$$arity=1);a.def(f,"$update_attributes",ba=function(a){this.attributes.$update(a);return k},ba.$$arity=1);a.def(f,"$role",S=function(){var a;return p(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role")},S.$$arity=0);a.def(f,"$roles",qa=function(){var a,b=k;return p((b=p(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:b.$split()},qa.$$arity=0);a.def(f,"$role?",ya=function(a){var b;null==a&&
(a=k);return p(a)?a["$=="](p(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role")):p(b=this.attributes["$key?"]("role"))?b:this.document.$attributes()["$key?"]("role")},ya.$$arity=-1);a.def(f,"$has_role?",U=function(a){var b,c=k;return p(c=p(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role"))?(" "+c+" ")["$include?"](" "+a+" "):!1},U.$$arity=1);a.def(f,"$add_role",la=function(c){var e=k,e=k;if(p((e=this.attributes["$[]"]("role"))["$nil_or_empty?"]()))return e=
["role",c],n(this.attributes,"[]=",a.to_a(e)),e[b(e.length,1)],!0;if(p((" "+e+" ")["$include?"](" "+c+" ")))return!1;e=["role",""+e+" "+c];n(this.attributes,"[]=",a.to_a(e));e[b(e.length,1)];return!0},la.$$arity=1);a.def(f,"$remove_role",ga=function(c){var e=k,e=k;return p((e=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?!1:p((e=e.$split()).$delete(c))?(p(e["$empty?"]())?this.attributes.$delete("role"):(e=["role",g(e," ")],n(this.attributes,"[]=",a.to_a(e)),e[b(e.length,1)]),!0):!1},ga.$$arity=
1);a.def(f,"$reftext",ca=function(){var a=k;return p(a=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(a):k},ca.$$arity=0);a.def(f,"$reftext?",J=function(){return this.attributes["$key?"]("reftext")},J.$$arity=0);a.def(f,"$icon_uri",ea=function(a){var b=k;p(this["$attr?"]("icon"))?p(m("::","File").$extname(b=this.$attr("icon"))["$empty?"]())&&(b=""+b+"."+this.document.$attr("icontype","png")):b=""+a+"."+this.document.$attr("icontype","png");return this.$image_uri(b,"iconsdir")},ea.$$arity=
1);a.def(f,"$image_uri",L=function(a,b){var d,e,f,g,h=k,l=k;null==b&&(b="imagesdir");return p(p(d=A((h=this.document).$safe(),m(c(v,"SafeMode"),"SECURE")))?h["$attr?"]("data-uri"):d)?p(p(d=p(e=c(v,"Helpers")["$uriish?"](a))?a=this.$uri_encode_spaces(a):e)?d:p(e=p(f=p(g=b)?l=h.$attr(b):g)?c(v,"Helpers")["$uriish?"](l):f)?a=this.$normalize_web_path(a,l,!1):e)?p(h["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(a,h["$attr?"]("cache-uri")):a:this.$generate_data_uri(a,b):this.$normalize_web_path(a,
p(b)?h.$attr(b):k)},L.$$arity=-2);a.def(f,"$media_uri",da=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,p(b)?this.document.$attr(b):k)},da.$$arity=-2);a.def(f,"$generate_data_uri",na=function(a,b){var c=k,d=c=k;null==b&&(b=k);c=m("::","File").$extname(a);c=c["$=="](".svg")?"image/svg+xml":"image/"+c["$[]"](e(1,-1,!1));d=p(b)?this.$normalize_system_path(a,this.document.$attr(b),k,t(["target_name"],{target_name:"image"})):this.$normalize_system_path(a);if(p(m("::","File")["$readable?"](d)))return"data:"+
c+";base64,"+m("::","Base64").$strict_encode64(m("::","IO").$binread(d));this.$logger().$warn("image to embed not found or not readable: "+d);return"data:"+c+";base64,"},na.$$arity=-2);a.def(f,"$generate_data_uri_from_uri",ra=function(b,d){var e,f=k,g=k;null==d&&(d=!1);p(d)?c(v,"Helpers").$require_library("open-uri/cached","open-uri-cached"):p(m("::","RUBY_ENGINE_OPAL")["$!"]())&&m("::","OpenURI");try{return f=k,g=n(this,"open",[b,"rb"],(e=function(a){null==a&&(a=k);f=a.$content_type();return a.$read()},
e.$$s=this,e.$$arity=1,e)),"data:"+f+";base64,"+m("::","Base64").$strict_encode64(g)}catch(h){if(a.rescue(h,[c(v,"StandardError")]))try{return this.$logger().$warn("could not retrieve image data from URI: "+b),b}finally{a.pop_exception()}else throw h;}},ra.$$arity=-2);a.def(f,"$normalize_asset_path",K=function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),k,t(["target_name","recover"],{target_name:b,recover:c}))},K.$$arity=-2);a.def(f,"$normalize_system_path",
sa=function(a,b,d,e){var f=k;null==b&&(b=k);null==d&&(d=k);null==e&&(e=t([],{}));p(A((f=this.document).$safe(),m(c(v,"SafeMode"),"SAFE")))?p(b)?p(f.$path_resolver()["$root?"](b))||(b=m("::","File").$join(f.$base_dir(),b)):b=f.$base_dir():(p(b)||(b=f.$base_dir()),p(d)||(d=f.$base_dir()));return f.$path_resolver().$system_path(a,b,d,e)},sa.$$arity=-2);a.def(f,"$normalize_web_path",Ga=function(a,b,d){var e;null==b&&(b=k);null==d&&(d=!0);return p(p(e=d)?c(v,"Helpers")["$uriish?"](a):e)?this.$uri_encode_spaces(a):
this.document.$path_resolver().$web_path(a,b)},Ga.$$arity=-2);a.def(f,"$read_asset",ua=function(a,b){var d;null==b&&(b=t([],{}));p(m("::","Hash")["$==="](b))||(b=t(["warn_on_failure"],{warn_on_failure:b["$!="](!1)}));if(p(m("::","File")["$readable?"](a)))return p(b["$[]"]("normalize"))?g(c(v,"Helpers").$normalize_lines_from_string(m("::","IO").$read(a)),c(v,"LF")):m("::","IO").$read(a);p(b["$[]"]("warn_on_failure"))&&this.$logger().$warn(""+(p(d=this.$attr("docfile"))?d:"<stdin>")+": "+(p(d=b["$[]"]("label"))?
d:"file")+" does not exist or cannot be read: "+a);return k},ua.$$arity=-2);a.def(f,"$read_contents",oa=function(b,d){var e,f,h,l,A=k,z=k,E=k;null==d&&(d=t([],{}));A=this.document;if(p(p(e=c(v,"Helpers")["$uriish?"](b))?e:p(f=p(h=z=d["$[]"]("start"))?c(v,"Helpers")["$uriish?"](z):h)?b=A.$path_resolver().$web_path(b,z):f))if(p(A["$attr?"]("allow-uri-read"))){p(A["$attr?"]("cache-uri"))&&c(v,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{return E=n(m("::","OpenURI"),"open_uri",
[b],(l=function(a){null==a&&(a=k);return a.$read()},l.$$s=this,l.$$arity=1,l)),p(d["$[]"]("normalize"))&&(E=g(c(v,"Helpers").$normalize_lines_from_string(E),c(v,"LF"))),E}catch(C){if(a.rescue(C,[c(v,"StandardError")]))try{return p(d.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(p(e=d["$[]"]("label"))?e:"asset")+" at URI: "+b),k}finally{a.pop_exception()}else throw C;}}else return p(d.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+
(p(e=d["$[]"]("label"))?e:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),k;else return b=this.$normalize_system_path(b,d["$[]"]("start"),k,t(["target_name"],{target_name:p(e=d["$[]"]("label"))?e:"asset"})),this.$read_asset(b,t(["normalize","warn_on_failure","label"],{normalize:d["$[]"]("normalize"),warn_on_failure:d.$fetch("warn_on_failure",!0),label:d["$[]"]("label")}))},oa.$$arity=-2);a.def(f,"$uri_encode_spaces",pa=function(a){return p(a["$include?"](" "))?a.$gsub(" ","%20"):
a},pa.$$arity=1);return(a.def(f,"$is_uri?",P=function(a){return c(v,"Helpers")["$uriish?"](a)},P.$$arity=1),k)&&"is_uri?"})(q[0],null,q)}(z[0],z)};Opal.modules["asciidoctor/abstract_block"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function A(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var z=[],k=a.nil,m=a.const_get_relative,c=a.module,f=a.klass,l=a.hash2,
t=a.send,p=a.truthy;a.add_stubs("$attr_reader $attr_writer $attr_accessor $== $!= $level $file $lineno $playback_attributes $convert $converter $* $map $to_s $parent $parent= $- $<< $! $empty? $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $context $blocks $+ $find_index $next_adjacent_block $select $sub_specialchars $match? $sub_replacements $title $apply_title_subs $include? $delete $reftext $=== $sprintf $sub_quotes $compat_mode $attributes $chomp $increment_and_store_counter $index= $numbered $sectname $counter $number= $number $caption= $assign_numeral $reindex_sections".split(" "));
return function(n,e){function h(){}var z=[h=c(n,"Asciidoctor",h)].concat(e);(function(c,$super,e){function h(){}c=h=f(c,$super,"AbstractBlock",h);var n=c.prototype,z=[c].concat(e),E,v,q,C,r,u,x,y,B,F,N,W,R,ba,S,qa,Ca,U,la,ga,ca,J,ea,L,da,na,ra;n.source_location=n.document=n.attributes=n.blocks=n.next_section_index=n.context=n.style=n.id=n.header=n.caption=n.title_converted=n.converted_title=n.title=n.subs=n.number=n.next_section_number=k;c.$attr_reader("blocks");c.$attr_writer("caption");c.$attr_accessor("content_model");
c.$attr_accessor("level");c.$attr_accessor("number");c.$attr_accessor("source_location");c.$attr_accessor("style");c.$attr_reader("subs");a.def(c,"$initialize",E=function(b,c,d){var e=E.$$p,f=k,g=k,h=k;e&&(E.$$p=null);g=0;h=arguments.length;for(f=Array(h);g<h;g++)f[g]=arguments[g];null==d&&(d=l([],{}));t(this,a.find_super_dispatcher(this,"initialize",E,!1),f,e);this.content_model="compound";this.blocks=[];this.subs=[];this.id=this.title=this.title_converted=this.caption=this.number=this.style=this.default_subs=
this.source_location=k;c["$=="]("document")?this.level=0:p(p(b)?c["$!="]("section"):b)?this.level=b.$level():this.level=k;this.next_section_index=0;return this.next_section_number=1},E.$$arity=-3);a.def(c,"$block?",v=function(){return!0},v.$$arity=0);a.def(c,"$inline?",q=function(){return!1},q.$$arity=0);a.def(c,"$file",C=function(){var a;return p(a=this.source_location)?this.source_location.$file():a},C.$$arity=0);a.def(c,"$lineno",r=function(){var a;return p(a=this.source_location)?this.source_location.$lineno():
a},r.$$arity=0);a.def(c,"$convert",u=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},u.$$arity=0);a.alias(c,"render","convert");a.def(c,"$content",x=function(){var a;return b(t(this.blocks,"map",[],(a=function(a){null==a&&(a=k);return a.$convert()},a.$$s=this,a.$$arity=1,a)),m(z,"LF"))},x.$$arity=0);a.def(c,"$context=",y=function(a){return this.node_name=(this.context=a).$to_s()},y.$$arity=1);a.def(c,"$<<",B=function(b){var c=k;b.$parent()["$=="](this)||
(c=[this],t(b,"parent=",a.to_a(c)),c[g(c.length,1)]);this.blocks["$<<"](b);return this},B.$$arity=1);a.alias(c,"append","<<");a.def(c,"$blocks?",F=function(){return this.blocks["$empty?"]()["$!"]()},F.$$arity=0);a.def(c,"$sections?",N=function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)},N.$$arity=0);a.def(c,"$find_by",W=function(b){var c=W.$$p,d=c||k,e,f,g,h,n,w,m=k,A=k,z=k,E=k,v=k,C=k;c&&(W.$$p=null);c&&(W.$$p=null);null==b&&(b=l([],{}));m=[];if(p(p(e=p(f=p(g=p(h=A=
(z=b["$[]"]("context"))["$!"]())?h:z["$=="](this.context))?p(h=(E=b["$[]"]("style"))["$!"]())?h:E["$=="](this.style):g)?p(g=(v=b["$[]"]("role"))["$!"]())?g:this["$has_role?"](v):f)?p(f=(C=b["$[]"]("id"))["$!"]())?f:C["$=="](this.id):e)){if(p(C))return d!==k?p(a.yield1(d,this))?[this]:m:[this];if(d!==k){if(p(a.yield1(d,this)))m["$<<"](this)}else m["$<<"](this)}p(p(e=(f=this.context["$=="]("document"))?p(g=A)?g:z["$=="]("section"):this.context["$=="]("document"))?this["$header?"]():e)&&m.$concat(t(this.header,
"find_by",[b],d.$to_proc()));z["$=="]("document")||(this.context["$=="]("dlist")?p(p(e=A)?e:z["$!="]("section"))&&t(this.blocks.$flatten(),"each",[],(n=function(a){null==a&&(a=k);return p(a)?m.$concat(t(a,"find_by",[b],d.$to_proc())):k},n.$$s=this,n.$$arity=1,n)):p(t(this.blocks,"each",[],(w=function(a){null==a&&(a=k);return p(z["$=="]("section")?a.$context()["$!="]("section"):z["$=="]("section"))?k:m.$concat(t(a,"find_by",[b],d.$to_proc()))},w.$$s=this,w.$$arity=1,w))));return m},W.$$arity=-1);a.alias(c,
"query","find_by");a.def(c,"$next_adjacent_block",R=function(){var a=k,b=k;return this.context["$=="]("document")?k:p(a=(b=this.$parent()).$blocks()["$[]"](A(b.$blocks().$find_index(this),1)))?a:b.$next_adjacent_block()},R.$$arity=0);a.def(c,"$sections",ba=function(){var a;return t(this.blocks,"select",[],(a=function(a){null==a&&(a=k);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},ba.$$arity=0);a.def(c,"$alt",S=function(){var a=k;if(p(a=this.attributes["$[]"]("alt"))){if(a["$=="](this.attributes["$[]"]("default-alt")))return this.$sub_specialchars(a);
a=this.$sub_specialchars(a);return p(m(z,"ReplaceableTextRx")["$match?"](a))?this.$sub_replacements(a):a}return k},S.$$arity=0);a.def(c,"$caption",qa=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},qa.$$arity=0);a.def(c,"$captioned_title",Ca=function(){return""+this.caption+this.$title()},Ca.$$arity=0);a.def(c,"$list_marker_keyword",U=function(a){var b;null==a&&(a=k);return m(z,"ORDERED_LIST_KEYWORDS")["$[]"](p(b=a)?b:this.style)},U.$$arity=-1);
a.def(c,"$title",la=function(){var a,b;return p(this.title_converted)?this.converted_title:this.converted_title=p(a=p(b=this.title_converted=!0)?this.title:b)?this.$apply_title_subs(this.title):a},la.$$arity=0);a.def(c,"$title?",ga=function(){return p(this.title)?!0:!1},ga.$$arity=0);a.def(c,"$title=",ca=function(a){var b;return b=[a,k],this.title=b[0],this.title_converted=b[1],b},ca.$$arity=1);a.def(c,"$sub?",J=function(a){return this.subs["$include?"](a)},J.$$arity=1);a.def(c,"$remove_sub",ea=function(a){this.subs.$delete(a);
return k},ea.$$arity=1);a.def(c,"$xreftext",L=function(a){var b,c,d=k,e=k,f=e=k;null==a&&(a=k);p(p(b=d=this.$reftext())?d["$empty?"]()["$!"]():b)?b=d:(p(p(b=p(c=a)?this.title:c)?this.caption:b)?(e=a,"full"["$==="](e)?(e=this.$sprintf(this.$sub_quotes(p(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=p(p(b=this.number)?f=this.document.$attributes()["$[]"](this.context["$=="]("image")?"figure-caption":""+this.context+"-caption"):b)?""+f+" "+this.number+", "+e:""+this.caption.$chomp(". ")+
", "+e):a="short"["$==="](e)?p(p(b=this.number)?f=this.document.$attributes()["$[]"](this.context["$=="]("image")?"figure-caption":""+this.context+"-caption"):b)?""+f+" "+this.number:this.caption.$chomp(". "):this.$title()):a=this.$title(),b=a);return b},L.$$arity=-1);a.def(c,"$assign_caption",da=function(a,b){var c,d,e=k;null==a&&(a=k);null==b&&(b=k);!p(p(c=p(d=this.caption)?d:this.title["$!"]())?c:this.caption=p(d=a)?d:this.document.$attributes()["$[]"]("caption"))&&p(e=this.document.$attributes()["$[]"](""+
(b=p(c=b)?c:this.context)+"-caption"))&&(this.caption=""+e+" "+(this.number=this.document.$increment_and_store_counter(""+b+"-number",this))+". ");return k},da.$$arity=-1);a.def(c,"$assign_numeral",na=function(b){var c,d=k,e=k,f=k,h=k;this.next_section_index=A((d=[this.next_section_index],t(b,"index=",a.to_a(d)),d[g(d.length,1)]),1);p(e=b.$numbered())&&((f=b.$sectname())["$=="]("appendix")?(d=[this.document.$counter("appendix-number","A")],t(b,"number=",a.to_a(d)),d[g(d.length,1)],d=p(h=this.document.$attributes()["$[]"]("appendix-caption"))?
[""+h+" "+b.$number()+": "]:[""+b.$number()+". "],t(b,"caption=",a.to_a(d)),d[g(d.length,1)]):p(p(c=f["$=="]("chapter"))?c:e["$=="]("chapter"))?(d=[this.document.$counter("chapter-number",1)],t(b,"number=",a.to_a(d)),d[g(d.length,1)]):this.next_section_number=A((d=[this.next_section_number],t(b,"number=",a.to_a(d)),d[g(d.length,1)]),1));return k},na.$$arity=1);return(a.def(c,"$reindex_sections",ra=function(){var a;this.next_section_index=0;this.next_section_number=1;return t(this.blocks,"each",[],
(a=function(b){var c=a.$$s||this;null==b&&(b=k);return b.$context()["$=="]("section")?(c.$assign_numeral(b),b.$reindex_sections()):k},a.$$s=this,a.$$arity=1,a))},ra.$$arity=0),k)&&"reindex_sections"})(z[0],m(z,"AbstractNode"),z)}(z[0],z)};Opal.modules["asciidoctor/attribute_list"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var p=[],z=a.nil,k=a.const_get_qualified,m=a.const_get_relative,
c=a.module,f=a.klass,l=a.hash2,t=a.truthy,v=a.send;a.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $skip_blank $== $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $include? $delete $each $split $empty? $strip $apply_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(n,e){function h(){}var p=[h=c(n,"Asciidoctor",h)].concat(e);(function(c,$super,e){function h(){}c=h=f(c,$super,"AttributeList",
h);var n=c.prototype,p=[c].concat(e),A,E,q,C,r,u,x,y,B,F,N,W;n.attributes=n.scanner=n.delimiter=n.block=n.delimiter_skip_pattern=n.delimiter_boundary_pattern=z;a.const_set(p[0],"BACKSLASH","\\");a.const_set(p[0],"BoundaryRxs",l(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/}));a.const_set(p[0],"EscapedQuotes",l(['"',"'"],{'"':'\\"',"'":"\\'"}));a.const_set(p[0],"NameRx",new RegExp(""+m(p,"CG_WORD")+"["+m(p,"CC_WORD")+"\\-.]*"));a.const_set(p[0],"BlankRx",/[ \t]+/);
a.const_set(p[0],"SkipRxs",l(["blank",","],{blank:m(p,"BlankRx"),",":/[ \t]*(,|$)/}));a.def(c,"$initialize",A=function(a,b,c){null==b&&(b=z);null==c&&(c=",");this.scanner=k("::","StringScanner").$new(a);this.block=b;this.delimiter=c;this.delimiter_skip_pattern=m(p,"SkipRxs")["$[]"](c);this.delimiter_boundary_pattern=m(p,"BoundaryRxs")["$[]"](c);return this.attributes=z},A.$$arity=-2);a.def(c,"$parse_into",E=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},E.$$arity=-2);a.def(c,"$parse",
q=function(a){var c=z;null==a&&(a=[]);if(t(this.attributes))return this.attributes;this.attributes=l([],{});for(c=0;t(this.$parse_attribute(c,a))&&!t(this.scanner["$eos?"]());)this.$skip_delimiter(),c=b(c,1);return this.attributes},q.$$arity=-1);a.def(c,"$rekey",C=function(a){return m(p,"AttributeList").$rekey(this.attributes,a)},C.$$arity=1);a.defs(c,"$rekey",r=function(c,e){var f;v(e,"each_with_index",[],(f=function(e,f){var h=z,h=h=z;null==e&&(e=z);null==f&&(f=z);if(!t(e))return z;h=b(f,1);return t(h=
c["$[]"](h))?(h=[e,h],v(c,"[]=",a.to_a(h)),h[g(h.length,1)]):z},f.$$s=this,f.$$arity=2,f));return c},r.$$arity=2);a.def(c,"$parse_attribute",u=function(c,e){var f,h,l=z,k=z,n=k=z,m=z,p=z,k=l=k=m=z;null==c&&(c=0);null==e&&(e=[]);l=!1;this.$skip_blank();if((k=this.scanner.$peek(1))["$=="]('"'))k=this.$parse_attribute_value(this.scanner.$get_byte()),n=z;else if(k["$=="]("'"))k=this.$parse_attribute_value(this.scanner.$get_byte()),n=z,l=!0;else{k=this.$scan_name();m=0;p=z;if(t(this.scanner["$eos?"]())){if(!t(k))return!1}else m=
t(f=this.$skip_blank())?f:0,p=this.scanner.$get_byte();if(t(t(f=p["$!"]())?f:p["$=="](this.delimiter)))n=z;else if(t(t(f=p["$!="]("="))?f:k["$!"]()))k=""+k+" "["$*"](m)+p+this.$scan_to_delimiter(),n=z;else if(this.$skip_blank(),t(this.scanner.$peek(1)))if((p=this.scanner.$get_byte())["$=="]('"'))n=this.$parse_attribute_value(p);else if(p["$=="]("'"))n=this.$parse_attribute_value(p),l=!0;else if(p["$=="](this.delimiter))n=z;else if(n=""+p+this.$scan_to_delimiter(),n["$=="]("None"))return!0}t(n)?(m=
k,"options"["$==="](m)||"opts"["$==="](m)?(t(n["$include?"](","))?(t(n["$include?"](" "))&&(n=n.$delete(" ")),v(n.$split(","),"each",[],(h=function(b){var c=h.$$s||this,d=z;null==c.attributes&&(c.attributes=z);null==b&&(b=z);if(t(b["$empty?"]()))return z;d=[""+b+"-option",""];v(c.attributes,"[]=",a.to_a(d));return d[g(d.length,1)]},h.$$s=this,h.$$arity=1,h))):(k=[""+(n=n.$strip())+"-option",""],v(this.attributes,"[]=",a.to_a(k)),k[g(k.length,1)]),k=["options",n]):t(t(f=l)?this.block:f)?(m=k,k="title"["$==="](m)||
"reftext"["$==="](m)?[k,n]:[k,this.block.$apply_subs(n)]):k=[k,n]):(l=t(t(f=l)?this.block:f)?this.block.$apply_subs(k):k,t(k=e["$[]"](c))&&(k=[k,l],v(this.attributes,"[]=",a.to_a(k)),k[g(k.length,1)]),k=[b(c,1),l]);v(this.attributes,"[]=",a.to_a(k));k[g(k.length,1)];return!0},u.$$arity=-1);a.def(c,"$parse_attribute_value",x=function(a){var b=z;return this.scanner.$peek(1)["$=="](a)?(this.scanner.$get_byte(),""):t(b=this.$scan_to_quote(a))?(this.scanner.$get_byte(),t(b["$include?"](m(p,"BACKSLASH")))?
b.$gsub(m(p,"EscapedQuotes")["$[]"](a),a):b):""+a+this.$scan_to_delimiter()},x.$$arity=1);a.def(c,"$skip_blank",y=function(){return this.scanner.$skip(m(p,"BlankRx"))},y.$$arity=0);a.def(c,"$skip_delimiter",B=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},B.$$arity=0);a.def(c,"$scan_name",F=function(){return this.scanner.$scan(m(p,"NameRx"))},F.$$arity=0);a.def(c,"$scan_to_delimiter",N=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},N.$$arity=0);return(a.def(c,
"$scan_to_quote",W=function(a){return this.scanner.$scan(m(p,"BoundaryRxs")["$[]"](a))},W.$$arity=1),z)&&"scan_to_quote"})(p[0],null,p)}(p[0],p)};Opal.modules["asciidoctor/block"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var p=[],t=a.nil,k=a.const_get_qualified,m=a.const_get_relative,c=a.module,f=a.klass,l=a.send,v=a.hash2,q=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $logger $to_s $class $object_id $inspect".split(" "));
return function(n,e){function h(){}var p=[h=c(n,"Asciidoctor",h)].concat(e);(function(c,$super,e){function h(){}c=h=f(c,$super,"Block",h);var n=c.prototype,p=[c].concat(e),A,E,r,C;e=t;n.attributes=n.content_model=n.lines=n.subs=n.blocks=n.context=n.style=t;e=["simple"];l(a.const_set(p[0],"DEFAULT_CONTENT_MODEL",v("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",
pass:"raw",thematic_break:"empty",video:"empty"})),"default=",a.to_a(e));e[b(e.length,1)];a.alias(c,"blockname","context");c.$attr_accessor("lines");a.def(c,"$initialize",A=function(c,e,f){var g,h=A.$$p,n=t,w=n=t,E=n=t,C=t;h&&(A.$$p=null);E=0;C=arguments.length;for(n=Array(C);E<C;E++)n[E]=arguments[E];null==f&&(f=v([],{}));l(this,a.find_super_dispatcher(this,"initialize",A,!1),n,h);this.content_model=q(g=f["$[]"]("content_model"))?g:m(p,"DEFAULT_CONTENT_MODEL")["$[]"](e);q(f["$key?"]("subs"))?q(n=
f["$[]"]("subs"))?(n["$=="]("default")?this.default_subs=f["$[]"]("default_subs"):q(k("::","Array")["$==="](n))?(this.default_subs=n.$dup(),this.attributes.$delete("subs")):(this.default_subs=t,n=["subs",""+n],l(this.attributes,"[]=",a.to_a(n)),n[b(n.length,1)]),this.$lock_in_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=t;return q((w=f["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:q(k("::","String")["$==="](w))?this.lines=m(p,"Helpers").$normalize_lines_from_string(w):
this.lines=w.$dup()},A.$$arity=-3);a.def(c,"$content",E=function(){var b,c=E.$$p,d=this,e=t,f=t,h=t,k=t,n=t,A=t,v=t;c&&(E.$$p=null);A=0;v=arguments.length;for(n=Array(v);A<v;A++)n[A]=arguments[A];return function(){e=d.content_model;if("compound"["$==="](e))return l(d,a.find_super_dispatcher(d,"content",E,!1),n,c);if("simple"["$==="](e))return d.$apply_subs(g(d.lines,m(p,"LF")),d.subs);if("verbatim"["$==="](e)||"raw"["$==="](e)){f=d.$apply_subs(d.lines,d.subs);var A;A=f.$size();A="number"===typeof A?
2>A:A["$<"](2);if(q(A))return f["$[]"](0);for(;q(q(b=h=f["$[]"](0))?h.$rstrip()["$empty?"]():b);)f.$shift();for(;q(q(b=k=f["$[]"](-1))?k.$rstrip()["$empty?"]():b);)f.$pop();return g(f,m(p,"LF"))}d.content_model["$=="]("empty")||d.$logger().$warn("Unknown content model '"+d.content_model+"' for block: "+d.$to_s());return t}()},E.$$arity=0);a.def(c,"$source",r=function(){return g(this.lines,m(p,"LF"))},r.$$arity=0);return(a.def(c,"$to_s",C=function(){var a=t,a=this.content_model["$=="]("compound")?
"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},C.$$arity=0),t)&&"to_s"})(p[0],m(p,"AbstractBlock"),p)}(p[0],p)};Opal.modules["asciidoctor/callouts"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:
a["$-"](b)}var p=[],t=a.nil,k=a.module,m=a.klass,c=a.hash2,f=a.truthy,l=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(p,A){function n(){}var e=[n=k(p,"Asciidoctor",n)].concat(A);(function(e,$super,k){function n(){}e=n=m(e,$super,"Callouts",n);var p=e.prototype;[e].concat(k);var A,v,q,r,u,x,C,D,y;p.co_index=p.lists=p.list_index=t;a.def(e,"$initialize",A=function(){this.lists=
[];this.list_index=0;return this.$next_list()},A.$$arity=0);a.def(e,"$register",v=function(a){var e=t;this.$current_list()["$<<"](c(["ordinal","id"],{ordinal:a.$to_i(),id:e=this.$generate_next_callout_id()}));this.co_index=b(this.co_index,1);return e},v.$$arity=1);a.def(e,"$read_next_id",q=function(){var a=t,c=t,a=t,c=this.$current_list(),e;e=this.co_index;var h=c.$size();e="number"===typeof e&&"number"===typeof h?e<=h:e["$<="](h);f(e)&&(a=c["$[]"](g(this.co_index,1))["$[]"]("id"));this.co_index=
b(this.co_index,1);return a},q.$$arity=0);a.def(e,"$callout_ids",r=function(a){var b;return l(this.$current_list(),"map",[],(b=function(b){null==b&&(b=t);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":""},b.$$s=this,b.$$arity=1,b)).$join().$chop()},r.$$arity=1);a.def(e,"$current_list",u=function(){return this.lists["$[]"](g(this.list_index,1))},u.$$arity=0);a.def(e,"$next_list",x=function(){this.list_index=b(this.list_index,1);var a;a=this.lists.$size();var c=this.list_index;a="number"===
typeof a&&"number"===typeof c?a<c:a["$<"](c);if(f(a))this.lists["$<<"]([]);this.co_index=1;return t},x.$$arity=0);a.def(e,"$rewind",C=function(){this.co_index=this.list_index=1;return t},C.$$arity=0);a.def(e,"$generate_next_callout_id",D=function(){return this.$generate_callout_id(this.list_index,this.co_index)},D.$$arity=0);return(a.def(e,"$generate_callout_id",y=function(a,b){return"CO"+a+"-"+b},y.$$arity=2),t)&&"generate_callout_id"})(e[0],null,e)}(p[0],p)};Opal.modules["asciidoctor/converter/base"]=
function(a){var b=[],g=a.nil,p=a.const_get_relative,t=a.module,k=a.klass,m=a.hash2,c=a.truthy;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(b,d){function v(){}var q=[v=t(b,"Asciidoctor",v)].concat(d);(function(a,b){function c(){}[c=t(a,"Converter",c)].concat(b);g})(q[0],q);(function(a,$super,b){function c(){}a=c=k(a,$super,"Base",c);b=[a].concat(b);a.$include(p(b,"Logging"));return a.$include(p(b,"Converter"))})(p(q,"Converter"),null,q);(function(b,$super,d){function f(){}
b=f=k(b,$super,"BuiltIn",f);d=[b].concat(d);var l,t,z,v;b.$include(p(d,"Logging"));a.def(b,"$initialize",l=function(a,b){null==b&&m([],{});return g},l.$$arity=-2);a.def(b,"$convert",t=function(a,b,d){var f;null==b&&(b=g);null==d&&(d=m([],{}));b=c(f=b)?f:a.$node_name();return c(d["$empty?"]())?this.$send(b,a):this.$send(b,a,d)},t.$$arity=-2);a.alias(b,"handles?","respond_to?");a.def(b,"$content",z=function(a){return a.$content()},z.$$arity=1);a.alias(b,"pass","content");return(a.def(b,"$skip",v=function(a){return g},
v.$$arity=1),g)&&"skip"})(p(q,"Converter"),null,q)}(b[0],b)};Opal.modules["asciidoctor/converter/factory"]=function(a){var b=[],g=a.nil,p=a.const_get_qualified,t=a.const_get_relative,k=a.module,m=a.klass,c=a.truthy,f=a.hash2,l=a.send;a.add_stubs("$new $require $to_s $include? $include $warn $logger $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $- $== $[] $clear $=== $supports_templates? $key?".split(" "));return function(b,d){function n(){}var e=[n=k(b,"Asciidoctor",
n)].concat(d);(function(b,d){function e(){}var n=[e=k(b,"Converter",e)].concat(d);(function(b,$super,d){function e(){}b=e=m(b,$super,"Factory",e);var h=b.prototype,k=[b].concat(d),n,E,v,q,r;h.converters=h.star_converter=g;b.__default__=g;(function(b,d){var e=[b].concat(d),h,l,k,n,m,E;a.def(b,"$default",h=function(b){var d;null==this.__default__&&(this.__default__=g);null==b&&(b=!0);if(!c(b))return c(d=this.__default__)?d:this.$new();var f;if(c(d=this.__default__))f=d;else a:{try{c(p("::","ThreadSafe",
"skip_raise")?"constant":g)||this.$require("thread_safe".$to_s());f=this.$new(p(p("::","ThreadSafe"),"Cache").$new());break a}catch(h){if(a.rescue(h,[p("::","LoadError")]))try{c(this["$include?"](t(e,"Logging")))||this.$include(t(e,"Logging"));this.$logger().$warn("gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");f=this.$new();break a}finally{a.pop_exception()}else throw h;}f=void 0}return this.__default__=f},h.$$arity=-1);a.def(b,"$register",l=function(a,
b){null==b&&(b=["*"]);return this.$default().$register(a,b)},l.$$arity=-2);a.def(b,"$resolve",k=function(a){return this.$default().$resolve(a)},k.$$arity=1);a.def(b,"$create",n=function(a,b){null==b&&(b=f([],{}));return this.$default().$create(a,b)},n.$$arity=-2);a.def(b,"$converters",m=function(){return this.$default().$converters()},m.$$arity=0);return(a.def(b,"$unregister_all",E=function(){return this.$default().$unregister_all()},E.$$arity=0),g)&&"unregister_all"})(a.get_singleton_class(b),k);
b.$attr_reader("converters");a.def(b,"$initialize",n=function(a){var b;null==a&&(a=g);this.converters=c(b=a)?b:f([],{});return this.star_converter=g},n.$$arity=-1);a.def(b,"$register",E=function(b,c){var d;null==c&&(c=["*"]);l(c,"each",[],(d=function(c){var e=d.$$s||this,f=g;null==e.converters&&(e.converters=g);null==c&&(c=g);f=[c,b];l(e.converters,"[]=",a.to_a(f));var h=f,f=f.length,f="number"===typeof f?f-1:f["$-"](1);h[f];return c["$=="]("*")?e.star_converter=b:g},d.$$s=this,d.$$arity=1,d));return g},
E.$$arity=-2);a.def(b,"$resolve",v=function(a){var b,d;return c(b=this.converters)?c(d=this.converters["$[]"](a))?d:this.star_converter:b},v.$$arity=1);a.def(b,"$unregister_all",q=function(){this.converters.$clear();return this.star_converter=g},q.$$arity=0);return(a.def(b,"$create",r=function(a,b){var d,e,h,l,n,m,E,v,C,q,r,u,x,D=g,y=g,D=D=g;null==b&&(b=f([],{}));if(c(D=this.$resolve(a))){if(y=c(p("::","Class")["$==="](D))?D.$new(a,b):D,!c(c(d=p(t(k,"Converter"),"BackendInfo")["$==="](y))?y["$supports_templates?"]():
d))return y}else D=a,"html5"["$==="](D)?(c((h=p("::","Asciidoctor","skip_raise"))&&(e=p(h,"Converter","skip_raise"))&&p(e,"Html5Converter","skip_raise")?"constant":g)||this.$require("asciidoctor/converter/html5".$to_s()),y=t(k,"Html5Converter").$new(a,b)):"docbook5"["$==="](D)?(c((n=p("::","Asciidoctor","skip_raise"))&&(l=p(n,"Converter","skip_raise"))&&p(l,"DocBook5Converter","skip_raise")?"constant":g)||this.$require("asciidoctor/converter/docbook5".$to_s()),y=t(k,"DocBook5Converter").$new(a,b)):
"docbook45"["$==="](D)?(c((E=p("::","Asciidoctor","skip_raise"))&&(m=p(E,"Converter","skip_raise"))&&p(m,"DocBook45Converter","skip_raise")?"constant":g)||this.$require("asciidoctor/converter/docbook45".$to_s()),y=t(k,"DocBook45Converter").$new(a,b)):"manpage"["$==="](D)&&(c((C=p("::","Asciidoctor","skip_raise"))&&(v=p(C,"Converter","skip_raise"))&&p(v,"ManPageConverter","skip_raise")?"constant":g)||this.$require("asciidoctor/converter/manpage".$to_s()),y=t(k,"ManPageConverter").$new(a,b));if(!c(b["$key?"]("template_dirs")))return y;
c((r=p("::","Asciidoctor","skip_raise"))&&(q=p(r,"Converter","skip_raise"))&&p(q,"TemplateConverter","skip_raise")?"constant":g)||this.$require("asciidoctor/converter/template".$to_s());D=t(k,"TemplateConverter").$new(a,b["$[]"]("template_dirs"),b);c((x=p("::","Asciidoctor","skip_raise"))&&(u=p(x,"Converter","skip_raise"))&&p(u,"CompositeConverter","skip_raise")?"constant":g)||this.$require("asciidoctor/converter/composite".$to_s());return t(k,"CompositeConverter").$new(a,D,y)},r.$$arity=-2),g)&&
"create"})(n[0],null,n)})(e[0],e)}(b[0],b)};Opal.modules["asciidoctor/converter"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var g=a.top,p=[],t=a.nil,k=a.const_get_qualified,m=a.const_get_relative,c=a.module,f=a.send,l=a.truthy,v=a.range,q=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $- $extend $include $respond_to? $write $chomp $require".split(" "));(function(g,e){function h(){}var w=
[h=c(g,"Asciidoctor",h)].concat(e);(function(e,g){function h(){}var n=h=c(e,"Converter",h),w=[n].concat(g),p,A;(function(b,d){function e(){}var g=e=c(b,"Config",e),h=[g].concat(d),l;a.def(g,"$register_for",l=function(b){var c,d,e,g=t;c=a.slice.call(arguments,0,arguments.length);m(h,"Factory").$register(this,c);g=function(a,b){[a].concat(b);return a}(a.get_singleton_class(this),h);c["$=="](["*"])?f(g,"send",["define_method","converts?"],(d=function(a){return!0},d.$$s=this,d.$$arity=1,d)):f(g,"send",
["define_method","converts?"],(e=function(a){null==a&&(a=t);return c["$include?"](a)},e.$$s=this,e.$$arity=1,e));return t},l.$$arity=-1)})(w[0],w);(function(e,g){function h(){}var n=h=c(e,"BackendInfo",h),w=[n].concat(g),p,A,E,r,u,x,G,y;a.def(n,"$backend_info",p=function(){var a;null==this.backend_info&&(this.backend_info=t);return this.backend_info=l(a=this.backend_info)?a:this.$setup_backend_info()},p.$$arity=0);a.def(n,"$setup_backend_info",A=function(){var a=t,b=t,c=t,d=t;null==this.backend&&
(this.backend=t);l(this.backend)||this.$raise(k("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class());a=this.backend.$sub(m(w,"TrailingDigitsRx"),"");l(b=m(w,"DEFAULT_EXTENSIONS")["$[]"](a))?c=b["$[]"](v(1,-1,!1)):(a="html",b=".html",d=c="html");return q(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:a,outfilesuffix:b,filetype:c,htmlsyntax:d})},A.$$arity=0);a.def(n,"$filetype",E=function(c){var e=t;null==c&&(c=t);return l(c)?(e=["filetype",c],f(this.$backend_info(),
"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("filetype")},E.$$arity=-1);a.def(n,"$basebackend",r=function(c){var e=t;null==c&&(c=t);return l(c)?(e=["basebackend",c],f(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("basebackend")},r.$$arity=-1);a.def(n,"$outfilesuffix",u=function(c){var e=t;null==c&&(c=t);return l(c)?(e=["outfilesuffix",c],f(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},u.$$arity=
-1);a.def(n,"$htmlsyntax",x=function(c){var e=t;null==c&&(c=t);return l(c)?(e=["htmlsyntax",c],f(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},x.$$arity=-1);a.def(n,"$supports_templates",G=function(){var c=t,c=["supports_templates",!0];f(this.$backend_info(),"[]=",a.to_a(c));return c[b(c.length,1)]},G.$$arity=0);a.def(n,"$supports_templates?",y=function(){return this.$backend_info()["$[]"]("supports_templates")},y.$$arity=0)})(w[0],w);(function(b,
c){var d=[b].concat(c),e;return(a.def(b,"$included",e=function(a){return a.$extend(m(d,"Config"))},e.$$arity=1),t)&&"included"})(a.get_singleton_class(n),w);n.$include(m(w,"Config"));n.$include(m(w,"BackendInfo"));a.def(n,"$initialize",p=function(a,b){null==b&&q([],{});this.backend=a;return this.$setup_backend_info()},p.$$arity=-2);a.def(n,"$convert",A=function(a,b,c){null==c&&q([],{});return this.$raise(k("::","NotImplementedError"))},A.$$arity=-2);a.alias(n,"handles?","respond_to?");a.alias(n,"convert_with_options",
"convert")})(w[0],w);(function(b,d){function e(){}var f=e=c(b,"Writer",e),g=[f].concat(d),h;a.def(f,"$write",h=function(a,b){l(b["$respond_to?"]("write"))?(b.$write(a.$chomp()),b.$write(m(g,"LF"))):k("::","IO").$write(b,a);return t},h.$$arity=2)})(w[0],w);(function(b,d){function e(){}var f=e=c(b,"VoidWriter",e),g=[f].concat(d),h;f.$include(m(g,"Writer"));a.def(f,"$write",h=function(a,b){return t},h.$$arity=2)})(w[0],w)})(p[0],p);g.$require("asciidoctor/converter/base");return g.$require("asciidoctor/converter/factory")};
Opal.modules["asciidoctor/document"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var k=[],m=a.nil,c=a.const_get_qualified,f=a.const_get_relative,l=a.module,v=a.klass,q=a.truthy,n=a.send,e=a.hash2,h=a.gvars;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $options $inject $catalog $== $dup $attributes $safe $compat_mode $sourcemap $path_resolver $converter $extensions $each $end_with? $start_with? $slice $length $chop $downcase $extname $=== $value_for_name $to_s $key? $freeze $attribute_undefined $attribute_missing $name_for_value $expand_path $pwd $>= $+ $abs $to_i $delete_if $update_doctype_attributes $cursor $parse $restore_attributes $update_backend_attributes $utc $at $Integer $now $index $strftime $year $fetch $activate $create $to_proc $groups $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $nil_or_empty? $nextval $value $save_to $chr $ord $source $source_lines $doctitle $sectname= $title= $first_section $title $merge $find $context $assign_numeral $clear_playback_attributes $save_attributes $attribute_locked? $rewind $replace $name $negate $limit_bytesize $apply_attribute_value_subs $delete? $=~ $apply_subs $resolve_pass_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $raise $Array $backend $default $start $doctype $content_model $warn $logger $content $convert $postprocessors? $postprocessors $record $write $respond_to? $chomp $write_alternate_pages $map $split $resolve_docinfo_subs $& $normalize_system_path $read_asset $docinfo_processors? $compact $* $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(k,r){function u(){}var x=[u=l(k,"Asciidoctor",u)].concat(r);(function(l,$super,k){function E(){}l=E=v(l,$super,"Document",E);var r=l.prototype,u=[l].concat(k),C,x,y,B,F,V,ka,N,W,R,ba,S,qa,J,U,la,ga,ca,L,ea,ia,da,na,ra,K,sa,ya,ua,oa,pa,P,Q,Ha,xa,Aa,Ea,wa,za,Ia,Oa,Ma,Pa,Na,Sa,Ta;r.attributes=r.safe=r.sourcemap=r.reader=r.base_dir=r.parsed=r.parent_document=r.extensions=r.options=r.counters=r.catalog=r.header=r.blocks=r.attributes_modified=r.id=r.header_attributes=r.max_attribute_value_size=
r.attribute_overrides=r.backend=r.doctype=r.converter=r.timings=r.outfilesuffix=r.docinfo_processor_extensions=r.document=m;a.const_set(u[0],"Footnote",c("::","Struct").$new("index","id","text"));(function(c,$super,e){function f(){}c=f=v(c,$super,"AttributeEntry",f);[c].concat(e);var g,h;c.$attr_reader("name","value","negate");a.def(c,"$initialize",g=function(a,b,c){null==c&&(c=m);this.name=a;this.value=b;return this.negate=q(c["$nil?"]())?b["$nil?"]():c},g.$$arity=-3);return(a.def(c,"$save_to",h=
function(c){var e,f=m;(q(e=c["$[]"]("attribute_entries"))?e:(f=["attribute_entries",[]],n(c,"[]=",a.to_a(f)),f[b(f.length,1)]))["$<<"](this);return this},h.$$arity=1),m)&&"save_to"})(u[0],null,u);(function(b,$super,c){function d(){}b=d=v(b,$super,"Title",d);var g=b.prototype,h=[b].concat(c),l,k,n,w;g.sanitized=g.subtitle=g.combined=m;b.$attr_reader("main");a.alias(b,"title","main");b.$attr_reader("subtitle");b.$attr_reader("combined");a.def(b,"$initialize",l=function(b,c){var d,g,l=m;null==c&&(c=
e([],{}));q(q(d=this.sanitized=c["$[]"]("sanitize"))?b["$include?"]("<"):d)&&(b=b.$gsub(f(h,"XmlSanitizeRx"),"").$squeeze(" ").$strip());q(q(d=(l=q(g=c["$[]"]("separator"))?g:":")["$empty?"]())?d:b["$include?"](l=""+l+" ")["$!"]())?(this.main=b,this.subtitle=m):(g=b.$rpartition(l),d=a.to_ary(g),this.main=null==d[0]?m:d[0],this.subtitle=null==d[2]?m:d[2],g);return this.combined=b},l.$$arity=-2);a.def(b,"$sanitized?",k=function(){return this.sanitized},k.$$arity=0);a.def(b,"$subtitle?",n=function(){return q(this.subtitle)?
!0:!1},n.$$arity=0);return(a.def(b,"$to_s",w=function(){return this.combined},w.$$arity=0),m)&&"to_s"})(u[0],null,u);l.$attr_reader("safe");l.$attr_reader("compat_mode");l.$attr_reader("backend");l.$attr_reader("doctype");l.$attr_accessor("sourcemap");l.$attr_reader("catalog");a.alias(l,"references","catalog");l.$attr_reader("counters");l.$attr_reader("header");l.$attr_reader("base_dir");l.$attr_reader("options");l.$attr_reader("outfilesuffix");l.$attr_reader("parent_document");l.$attr_reader("reader");
l.$attr_reader("path_resolver");l.$attr_reader("converter");l.$attr_reader("extensions");a.def(l,"$initialize",C=function(h,l){var k,t,Z,v,M,E,z,r=m,I=m,x=m,D=m,y=m,G=y=y=m,B=m,O=G=m,F=G=G=m,S=m,y=y=S=G=r=m;C.$$p&&(C.$$p=null);null==h&&(h=m);null==l&&(l=e([],{}));n(this,a.find_super_dispatcher(this,"initialize",C,!1),[this,"document"],null);if(q(r=l.$delete("parent")))this.parent_document=r,q(k=l["$[]"]("base_dir"))?k:(I=["base_dir",r.$base_dir()],n(l,"[]=",a.to_a(I)),I[b(I.length,1)]),q(r.$options()["$[]"]("catalog_assets"))&&
(I=["catalog_assets",!0],n(l,"[]=",a.to_a(I)),I[b(I.length,1)]),this.catalog=n(r.$catalog(),"inject",[e([],{})],(t=function(c,e){var f,g,h=m;f=m;null==c&&(c=m);null==e&&(e=m);g=e;f=a.to_ary(g);h=null==f[0]?m:f[0];f=null==f[1]?m:f[1];g;I=[h,h["$=="]("footnotes")?[]:f];n(c,"[]=",a.to_a(I));I[b(I.length,1)];return c},t.$$s=this,t.$$arity=2,t.$$has_top_level_mlhs_arg=!0,t)),this.attribute_overrides=x=r.$attributes().$dup(),D=x.$delete("doctype"),x.$delete("compat-mode"),x.$delete("toc"),x.$delete("toc-placement"),
x.$delete("toc-position"),this.safe=r.$safe(),q(this.compat_mode=r.$compat_mode())&&(I=["compat-mode",""],n(this.attributes,"[]=",a.to_a(I)),I[b(I.length,1)]),this.sourcemap=r.$sourcemap(),this.timings=m,this.path_resolver=r.$path_resolver(),this.converter=r.$converter(),y=!1,this.extensions=r.$extensions();else{this.parent_document=m;this.catalog=e("ids refs footnotes links images indexterms callouts includes".split(" "),{ids:e([],{}),refs:e([],{}),footnotes:[],links:[],images:[],indexterms:[],callouts:f(u,
"Callouts").$new(),includes:e([],{})});this.attribute_overrides=x=e([],{});n(q(k=l["$[]"]("attributes"))?k:e([],{}),"each",[],(Z=function(c,e){var f;null==c&&(c=m);null==e&&(e=m);q(c["$end_with?"]("@"))?(f=q(c["$start_with?"]("!"))?[c.$slice(1,c.$length()),!1]:q(c["$end_with?"]("!@"))?[c.$slice(0,b(c.$length(),2)),!1]:[c.$chop(),""+e+"@"],c=f[0],e=f[1],f):q(c["$start_with?"]("!"))?(f=[c.$slice(1,c.$length()),e["$=="]("@")?!1:m],c=f[0],e=f[1],f):q(c["$end_with?"]("!"))&&(f=[c.$chop(),e["$=="]("@")?
!1:m],c=f[0],e=f[1],f);I=[c.$downcase(),e];n(x,"[]=",a.to_a(I));return I[b(I.length,1)]},Z.$$s=this,Z.$$arity=2,Z));q(y=l["$[]"]("to_file"))&&(I=["outfilesuffix",c("::","File").$extname(y)],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]);if(q((y=l["$[]"]("safe"))["$!"]()))this.safe=c(f(u,"SafeMode"),"SECURE");else if(q(c("::","Integer")["$==="](y)))this.safe=y;else try{this.safe=f(u,"SafeMode").$value_for_name(y.$to_s())}catch(ha){if(a.rescue(ha,[f(u,"StandardError")]))try{this.safe=c(f(u,"SafeMode"),"SECURE")}finally{a.pop_exception()}else throw ha;
}this.compat_mode=x["$key?"]("compat-mode");this.sourcemap=l["$[]"]("sourcemap");this.timings=l.$delete("timings");this.path_resolver=f(u,"PathResolver").$new();this.converter=m;y=(v=c("::","Asciidoctor","skip_raise"))&&(k=c(v,"Extensions","skip_raise"))?"constant":m;this.extensions=m}this.parsed=!1;this.header=m;this.counters=e([],{});this.attributes_modified=c("::","Set").$new();this.docinfo_processor_extensions=e([],{});G=q(M=l["$[]"]("header_footer"))?M:(I=["header_footer",!1],n(l,"[]=",a.to_a(I)),
I[b(I.length,1)]);(this.options=l).$freeze();B=this.attributes;I=["sectids",""];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["toc-placement","auto"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];q(G)?(I=["copycss",""],n(B,"[]=",a.to_a(I)),I[b(I.length,1)],I=["embedded",m]):(I=["notitle",""],n(B,"[]=",a.to_a(I)),I[b(I.length,1)],I=["embedded",""]);n(x,"[]=",a.to_a(I));I[b(I.length,1)];I=["stylesheet",""];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["webfonts",""];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["prewrap",
""];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["attribute-undefined",f(u,"Compliance").$attribute_undefined()];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["attribute-missing",f(u,"Compliance").$attribute_missing()];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["iconfont-remote",""];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["caution-caption","Caution"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["important-caption","Important"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["note-caption","Note"];n(B,"[]=",a.to_a(I));
I[b(I.length,1)];I=["tip-caption","Tip"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["warning-caption","Warning"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["example-caption","Example"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["figure-caption","Figure"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["table-caption","Table"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["toc-title","Table of Contents"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["section-refsig","Section"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["part-refsig",
"Part"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["chapter-refsig","Chapter"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["appendix-caption",(I=["appendix-refsig","Appendix"],n(B,"[]=",a.to_a(I)),I[b(I.length,1)])];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["untitled-label","Untitled"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["version-label","Version"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["last-update-label","Last updated"];n(B,"[]=",a.to_a(I));I[b(I.length,1)];I=["asciidoctor",""];n(x,"[]=",a.to_a(I));
I[b(I.length,1)];I=["asciidoctor-version",f(u,"VERSION")];n(x,"[]=",a.to_a(I));I[b(I.length,1)];I=["safe-mode-name",G=f(u,"SafeMode").$name_for_value(this.safe)];n(x,"[]=",a.to_a(I));I[b(I.length,1)];I=["safe-mode-"+G,""];n(x,"[]=",a.to_a(I));I[b(I.length,1)];I=["safe-mode-level",this.safe];n(x,"[]=",a.to_a(I));I[b(I.length,1)];q(M=x["$[]"]("max-include-depth"))?M:(I=["max-include-depth",64],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]);q(M=x["$[]"]("allow-uri-read"))?M:(I=["allow-uri-read",m],n(x,"[]=",
a.to_a(I)),I[b(I.length,1)]);I=["user-home",f(u,"USER_HOME")];n(x,"[]=",a.to_a(I));I[b(I.length,1)];q(x["$key?"]("numbered"))&&(I=["sectnums",x.$delete("numbered")],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]);q(O=l["$[]"]("base_dir"))?this.base_dir=(I=["docdir",c("::","File").$expand_path(O)],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]):q(x["$[]"]("docdir"))?this.base_dir=x["$[]"]("docdir"):this.base_dir=(I=["docdir",c("::","Dir").$pwd()],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]);q(G=l["$[]"]("backend"))&&(I=["backend",
""+G],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]);q(G=l["$[]"]("doctype"))&&(I=["doctype",""+G],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]);q(g(this.safe,c(f(u,"SafeMode"),"SERVER")))&&(q(M=x["$[]"]("copycss"))?M:(I=["copycss",m],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]),q(M=x["$[]"]("source-highlighter"))?M:(I=["source-highlighter",m],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]),q(M=x["$[]"]("backend"))?M:(I=["backend",f(u,"DEFAULT_BACKEND")],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]),q(q(M=r["$!"]())?x["$key?"]("docfile"):
M)&&(I=["docfile",x["$[]"]("docfile")["$[]"](a.Range.$new(p(x["$[]"]("docdir").$length(),1),-1,!1))],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]),I=["docdir",""],n(x,"[]=",a.to_a(I)),I[b(I.length,1)],I=["user-home","."],n(x,"[]=",a.to_a(I)),I[b(I.length,1)],q(g(this.safe,c(f(u,"SafeMode"),"SECURE")))&&(q(x["$key?"]("max-attribute-value-size"))||(I=["max-attribute-value-size",4096],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]),q(x["$key?"]("linkcss"))||(I=["linkcss",""],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]),q(M=
x["$[]"]("icons"))?M:(I=["icons",m],n(x,"[]=",a.to_a(I)),I[b(I.length,1)])));this.max_attribute_value_size=q(F=q(M=x["$[]"]("max-attribute-value-size"))?M:(I=["max-attribute-value-size",m],n(x,"[]=",a.to_a(I)),I[b(I.length,1)]))?F.$to_i().$abs():m;n(x,"delete_if",[],(E=function(e,f){var g,h=m;null==e&&(e=m);null==f&&(f=m);q(f)?(q(q(g=c("::","String")["$==="](f))?f["$end_with?"]("@"):g)&&(g=[f.$chop(),!0],f=g[0],h=g[1],g),I=[e,f],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]):(B.$delete(e),h=f["$=="](!1));
return h},E.$$s=this,E.$$arity=2,E));if(q(r))return this.backend=B["$[]"]("backend"),(this.doctype=(I=["doctype",D],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]))["$=="](f(u,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(f(u,"DEFAULT_DOCTYPE")),this.reader=f(u,"Reader").$new(h,l["$[]"]("cursor")),q(this.sourcemap)&&(this.source_location=this.reader.$cursor()),f(u,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;this.backend=m;(q(M=B["$[]"]("backend"))?M:(I=["backend",f(u,
"DEFAULT_BACKEND")],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]))["$=="]("manpage")?this.doctype=(I=["doctype",(I=["doctype","manpage"],n(x,"[]=",a.to_a(I)),I[b(I.length,1)])],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]):this.doctype=q(M=B["$[]"]("doctype"))?M:(I=["doctype",f(u,"DEFAULT_DOCTYPE")],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]);this.$update_backend_attributes(B["$[]"]("backend"),!0);S=q(c("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?c("::","Time").$at(this.$Integer(c("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():
c("::","Time").$now();q(r=B["$[]"]("localdate"))?G=q(M=B["$[]"]("localyear"))?M:(I=["localyear",r.$index("-")["$=="](4)?r.$slice(0,4):m],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]):(r=(I=["localdate",S.$strftime("%Y-%m-%d")],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]),G=q(M=B["$[]"]("localyear"))?M:(I=["localyear",S.$year().$to_s()],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]));if(q(M=B["$[]"]("localtime")))k=M;else{var X;a:{try{X=S.$strftime("%H:%M:%S %Z");break a}catch(ha){if(a.rescue(ha,[f(u,"StandardError")]))try{X=
S.$strftime("%H:%M:%S %z");break a}finally{a.pop_exception()}else throw ha;}X=void 0}k=(I=["localtime",X],n(B,"[]=",a.to_a(I)),I[b(I.length,1)])}S=k;q(M=B["$[]"]("localdatetime"))?M:(I=["localdatetime",""+r+" "+S],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]);q(M=B["$[]"]("docdate"))?M:(I=["docdate",r],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]);q(M=B["$[]"]("docyear"))?M:(I=["docyear",G],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]);q(M=B["$[]"]("doctime"))?M:(I=["doctime",S],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]);
q(M=B["$[]"]("docdatetime"))?M:(I=["docdatetime",""+r+" "+S],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]);q(M=B["$[]"]("stylesdir"))?M:(I=["stylesdir","."],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]);q(M=B["$[]"]("iconsdir"))?M:(I=["iconsdir",""+B.$fetch("imagesdir","./images")+"/icons"],n(B,"[]=",a.to_a(I)),I[b(I.length,1)]);q(y)&&(q(y=l["$[]"]("extension_registry"))?q(q(M=c(f(u,"Extensions"),"Registry")["$==="](y))?M:q(z=c("::","RUBY_ENGINE_JRUBY"))?c(c(c("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](y):
z)&&(this.extensions=y.$activate(this)):q(c("::","Proc")["$==="](y=l["$[]"]("extensions")))?this.extensions=n(f(u,"Extensions"),"create",[],y.$to_proc()).$activate(this):q(f(u,"Extensions").$groups()["$empty?"]()["$!"]())&&(this.extensions=c(f(u,"Extensions"),"Registry").$new().$activate(this)));this.reader=f(u,"PreprocessorReader").$new(this,h,c(f(u,"Reader"),"Cursor").$new(B["$[]"]("docfile"),this.base_dir),e(["normalize"],{normalize:!0}));return q(this.sourcemap)?this.source_location=this.reader.$cursor():
m},C.$$arity=-1);a.def(l,"$parse",x=function(a){var b,d,g,h=m,l=m;null==a&&(a=m);if(q(this.parsed))return this;h=this;q(a)&&(this.reader=f(u,"PreprocessorReader").$new(h,a,c(f(u,"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),e(["normalize"],{normalize:!0})),q(this.sourcemap)&&(this.source_location=this.reader.$cursor()));q(q(b=l=q(this.parent_document)?m:this.extensions)?l["$preprocessors?"]():b)&&n(l.$preprocessors(),"each",[],(d=function(a){var b=d.$$s||this,c;null==b.reader&&
(b.reader=m);null==a&&(a=m);return b.reader=q(c=a.$process_method()["$[]"](h,b.reader))?c:b.reader},d.$$s=this,d.$$arity=1,d));f(u,"Parser").$parse(this.reader,h,e(["header_only"],{header_only:this.options["$[]"]("parse_header_only")}));this.$restore_attributes();q(q(b=l)?l["$tree_processors?"]():b)&&n(l.$tree_processors(),"each",[],(g=function(a){var b,c,d=m;null==a&&(a=m);return q(q(b=q(c=d=a.$process_method()["$[]"](h))?f(u,"Document")["$==="](d):c)?d["$!="](h):b)?h=d:m},g.$$s=this,g.$$arity=1,
g));this.parsed=!0;return h},x.$$arity=-1);a.def(l,"$counter",y=function(c,e){var f,g=m,h=m,l=m;null==e&&(e=m);if(q(this.parent_document))return this.parent_document.$counter(c,e);l=q(q(f=g=(h=this.attributes["$[]"](c))["$nil_or_empty?"]()["$!"]())?this.counters["$key?"](c):f)?[c,(l=[c,this.$nextval(h)],n(this.counters,"[]=",a.to_a(l)),l[b(l.length,1)])]:q(e)?[c,(l=[c,e["$=="](e.$to_i().$to_s())?e.$to_i():e],n(this.counters,"[]=",a.to_a(l)),l[b(l.length,1)])]:[c,(l=[c,this.$nextval(q(g)?h:0)],n(this.counters,
"[]=",a.to_a(l)),l[b(l.length,1)])];n(this.attributes,"[]=",a.to_a(l));return l[b(l.length,1)]},y.$$arity=-2);a.def(l,"$increment_and_store_counter",B=function(a,b){return f(u,"AttributeEntry").$new(a,this.$counter(a)).$save_to(b.$attributes()).$value()},B.$$arity=2);a.alias(l,"counter_increment","increment_and_store_counter");a.def(l,"$nextval",F=function(a){var b=m;if(q(c("::","Integer")["$==="](a)))return p(a,1);b=a.$to_i();return q(b.$to_s()["$!="](a.$to_s()))?p(a["$[]"](0).$ord(),1).$chr():p(b,
1)},F.$$arity=1);a.def(l,"$register",V=function(c,e){var f,g,h=this,l=m,k=m,w=m,t=m,v=m,E=m,z=m;return function(){l=c;if("ids"["$==="](l))return g=e,f=a.to_ary(g),k=null==f[0]?m:f[0],w=null==f[1]?m:f[1],g,t=h.catalog["$[]"]("ids"),q(f=t["$[]"](k))?f:(v=[k,q(g=w)?g:p(p("[",k),"]")],n(t,"[]=",a.to_a(v)),v[b(v.length,1)]);if("refs"["$==="](l)){g=e;f=a.to_ary(g);k=null==f[0]?m:f[0];E=null==f[1]?m:f[1];w=null==f[2]?m:f[2];g;if(q((z=h.catalog["$[]"]("refs"))["$key?"](k)))return m;v=[k,q(f=w)?f:p(p("[",
k),"]")];n(h.catalog["$[]"]("ids"),"[]=",a.to_a(v));v[b(v.length,1)];v=[k,E];n(z,"[]=",a.to_a(v));return v[b(v.length,1)]}return"footnotes"["$==="](l)||"indexterms"["$==="](l)?h.catalog["$[]"](c)["$<<"](e):q(h.options["$[]"]("catalog_assets"))?h.catalog["$[]"](c)["$<<"](e):m}()},V.$$arity=2);a.def(l,"$footnotes?",ka=function(){return q(this.catalog["$[]"]("footnotes")["$empty?"]())?!1:!0},ka.$$arity=0);a.def(l,"$footnotes",N=function(){return this.catalog["$[]"]("footnotes")},N.$$arity=0);a.def(l,
"$callouts",W=function(){return this.catalog["$[]"]("callouts")},W.$$arity=0);a.def(l,"$nested?",R=function(){return q(this.parent_document)?!0:!1},R.$$arity=0);a.def(l,"$embedded?",ba=function(){return this.attributes["$key?"]("embedded")},ba.$$arity=0);a.def(l,"$extensions?",S=function(){return q(this.extensions)?!0:!1},S.$$arity=0);a.def(l,"$source",qa=function(){return q(this.reader)?this.reader.$source():m},qa.$$arity=0);a.def(l,"$source_lines",J=function(){return q(this.reader)?this.reader.$source_lines():
m},J.$$arity=0);a.def(l,"$basebackend?",U=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},U.$$arity=1);a.def(l,"$title",la=function(){return this.$doctitle()},la.$$arity=0);a.def(l,"$title=",ga=function(c){var e=m,g=m;q(e=this.header)||(g=["header"],n(e=this.header=f(u,"Section").$new(this,0),"sectname=",a.to_a(g)),g[b(g.length,1)]);g=[c];n(e,"title=",a.to_a(g));return g[b(g.length,1)]},ga.$$arity=1);a.def(l,"$doctitle",ca=function(a){var b,c=m,d=m,g=m;null==a&&(a=e([],{}));if(!q(c=
this.attributes["$[]"]("title")))if(q(d=this.$first_section()))c=d.$title();else if(q((q(b=a["$[]"]("use_fallback"))?c=this.attributes["$[]"]("untitled-label"):b)["$!"]()))return m;return q(g=a["$[]"]("partition"))?f(u,"Title").$new(c,a.$merge(e(["separator"],{separator:g["$=="](!0)?this.attributes["$[]"]("title-separator"):g}))):q(q(b=a["$[]"]("sanitize"))?c["$include?"]("<"):b)?c.$gsub(f(u,"XmlSanitizeRx"),"").$squeeze(" ").$strip():c},ca.$$arity=-1);a.alias(l,"name","doctitle");a.def(l,"$author",
L=function(){return this.attributes["$[]"]("author")},L.$$arity=0);a.def(l,"$revdate",ea=function(){return this.attributes["$[]"]("revdate")},ea.$$arity=0);a.def(l,"$notitle",ia=function(){var a;return q(a=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):a},ia.$$arity=0);a.def(l,"$noheader",da=function(){return this.attributes["$key?"]("noheader")},da.$$arity=0);a.def(l,"$nofooter",na=function(){return this.attributes["$key?"]("nofooter")},na.$$arity=0);a.def(l,"$first_section",
ra=function(){var a,b;return q(a=this.header)?a:n(this.blocks,"find",[],(b=function(a){null==a&&(a=m);return a.$context()["$=="]("section")},b.$$s=this,b.$$arity=1,b))},ra.$$arity=0);a.def(l,"$has_header?",K=function(){return q(this.header)?!0:!1},K.$$arity=0);a.alias(l,"header?","has_header?");a.def(l,"$<<",sa=function(b){var c=sa.$$p,d=m,e=m,f=m;c&&(sa.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];b.$context()["$=="]("section")&&this.$assign_numeral(b);return n(this,
a.find_super_dispatcher(this,"<<",sa,!1),d,c)},sa.$$arity=1);a.def(l,"$finalize_header",ya=function(c,e){var f=m;null==e&&(e=!0);this.$clear_playback_attributes(c);this.$save_attributes();q(e)||(f=["invalid-header",!0],n(c,"[]=",a.to_a(f)),f[b(f.length,1)]);return c},ya.$$arity=-2);a.def(l,"$save_attributes",ua=function(){var c,e,g,h=m,l=m,k=m,w=l=m,p=m,t=m,A=m,t=w=m;(h=this.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(q(q(c=this["$attribute_locked?"]("toc"))?c:this.attributes_modified["$include?"]("toc"))||
(l=["toc",""],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]),q(q(c=this["$attribute_locked?"]("sectnums"))?c:this.attributes_modified["$include?"]("sectnums"))||(l=["sectnums",""],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]));q(q(c=h["$key?"]("doctitle"))?c:(k=this.$doctitle())["$!"]())||(l=["doctitle",k],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]);q(this.id)||(this.id=h["$[]"]("css-signature"));l=q(w=q(h.$delete("toc2"))?"left":h["$[]"]("toc"))?q(q(c=p=h.$fetch("toc-placement","macro"))?p["$!="]("auto"):c)?p:h["$[]"]("toc-position"):
m;q(q(c=w)?q(e=w["$empty?"]()["$!"]())?e:l["$nil_or_empty?"]()["$!"]():c)&&(t="left",A="toc2",w=q(l["$nil_or_empty?"]()["$!"]())?l:q(w["$empty?"]()["$!"]())?w:t,l=["toc",""],n(h,"[]=",a.to_a(l)),l[b(l.length,1)],l=["toc-placement","auto"],n(h,"[]=",a.to_a(l)),l[b(l.length,1)],t=w,"left"["$==="](t)||"<"["$==="](t)||"&lt;"["$==="](t)?(l=["toc-position","left"],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]):"right"["$==="](t)||">"["$==="](t)||"&gt;"["$==="](t)?(l=["toc-position","right"],n(h,"[]=",a.to_a(l)),
l[b(l.length,1)]):"top"["$==="](t)||"^"["$==="](t)?(l=["toc-position","top"],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]):"bottom"["$==="](t)||"v"["$==="](t)?(l=["toc-position","bottom"],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]):("preamble"["$==="](t)||"macro"["$==="](t)?(l=["toc-position","content"],n(h,"[]=",a.to_a(l)),l[b(l.length,1)],l=["toc-placement",w],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]):h.$delete("toc-position"),A=m),q(A)&&(q(c=h["$[]"]("toc-class"))?c:(l=["toc-class",A],n(h,"[]=",a.to_a(l)),l[b(l.length,
1)])));q(this.compat_mode=h["$key?"]("compat-mode"))&&q(h["$key?"]("language"))&&(l=["source-language",h["$[]"]("language")],n(h,"[]=",a.to_a(l)),l[b(l.length,1)]);this.outfilesuffix=h["$[]"]("outfilesuffix");this.header_attributes=h.$dup();return q(this.parent_document)?m:n(f(u,"FLEXIBLE_ATTRIBUTES"),"each",[],(g=function(a){var b=g.$$s||this,c;null==b.attribute_overrides&&(b.attribute_overrides=m);null==a&&(a=m);return q(q(c=b.attribute_overrides["$key?"](a))?b.attribute_overrides["$[]"](a):c)?
b.attribute_overrides.$delete(a):m},g.$$s=this,g.$$arity=1,g))},ua.$$arity=0);a.def(l,"$restore_attributes",oa=function(){q(this.parent_document)||this.catalog["$[]"]("callouts").$rewind();return this.attributes.$replace(this.header_attributes)},oa.$$arity=0);a.def(l,"$clear_playback_attributes",pa=function(a){return a.$delete("attribute_entries")},pa.$$arity=1);a.def(l,"$playback_attributes",P=function(c){var e;return q(c["$key?"]("attribute_entries"))?n(c["$[]"]("attribute_entries"),"each",[],(e=
function(c){var f=e.$$s||this,g=m,h=m;null==f.attributes&&(f.attributes=m);null==c&&(c=m);g=c.$name();if(q(c.$negate()))return f.attributes.$delete(g),g["$=="]("compat-mode")?f.compat_mode=!1:m;h=[g,c.$value()];n(f.attributes,"[]=",a.to_a(h));h[b(h.length,1)];return g["$=="]("compat-mode")?f.compat_mode=!0:m},e.$$s=this,e.$$arity=1,e)):m},P.$$arity=1);a.def(l,"$set_attribute",Q=function(c,e){var f=m,g=m,g=m;null==e&&(e="");if(q(this["$attribute_locked?"](c)))return!1;f=q(this.max_attribute_value_size)?
this.$apply_attribute_value_subs(e).$limit_bytesize(this.max_attribute_value_size):this.$apply_attribute_value_subs(e);g=c;"backend"["$==="](g)?this.$update_backend_attributes(f,this.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](g)?this.$update_doctype_attributes(f):(g=[c,f],n(this.attributes,"[]=",a.to_a(g)),g[b(g.length,1)]);this.attributes_modified["$<<"](c);return f},Q.$$arity=-2);a.def(l,"$delete_attribute",Ha=function(a){if(q(this["$attribute_locked?"](a)))return!1;this.attributes.$delete(a);
this.attributes_modified["$<<"](a);return!0},Ha.$$arity=1);a.def(l,"$attribute_locked?",xa=function(a){return this.attribute_overrides["$key?"](a)},xa.$$arity=1);a.def(l,"$apply_attribute_value_subs",Aa=function(a){var b;return q(f(u,"AttributeEntryPassMacroRx")["$=~"](a))?q((b=h["~"])===m?m:b["$[]"](1))?this.$apply_subs((b=h["~"])===m?m:b["$[]"](2),this.$resolve_pass_subs((b=h["~"])===m?m:b["$[]"](1))):(b=h["~"])===m?m:b["$[]"](2):this.$apply_header_subs(a)},Aa.$$arity=1);a.def(l,"$update_backend_attributes",
Ea=function(e,g){var h,l,k=m,w=m,p=m,t=m,A=m,v=m,E=m,z=m,r=w=m,w=m;null==g&&(g=m);return q(q(h=g)?h:q(l=e)?e["$!="](this.backend):l)?(h=[this.backend,(k=this.attributes)["$[]"]("basebackend"),this.doctype],w=h[0],p=h[1],t=h[2],h,q(e["$start_with?"]("xhtml"))?(A=["htmlsyntax","xml"],n(k,"[]=",a.to_a(A)),A[b(A.length,1)],e=e.$slice(1,e.$length())):q(e["$start_with?"]("html"))&&!k["$[]"]("htmlsyntax")["$=="]("xml")&&(A=["htmlsyntax","html"],n(k,"[]=",a.to_a(A)),A[b(A.length,1)]),q(v=f(u,"BACKEND_ALIASES")["$[]"](e))&&
(e=v),q(t)?(q(w)&&(k.$delete("backend-"+w),k.$delete("backend-"+w+"-doctype-"+t)),A=["backend-"+e+"-doctype-"+t,""],n(k,"[]=",a.to_a(A)),A[b(A.length,1)],A=["doctype-"+t,""],n(k,"[]=",a.to_a(A)),A[b(A.length,1)]):q(w)&&k.$delete("backend-"+w),A=["backend-"+e,""],n(k,"[]=",a.to_a(A)),A[b(A.length,1)],this.backend=(A=["backend",e],n(k,"[]=",a.to_a(A)),A[b(A.length,1)]),q(c(f(u,"Converter"),"BackendInfo")["$==="](this.converter=this.$create_converter()))?(E=this.converter.$basebackend(),q(this["$attribute_locked?"]("outfilesuffix"))||
(A=["outfilesuffix",this.converter.$outfilesuffix()],n(k,"[]=",a.to_a(A)),A[b(A.length,1)]),z=this.converter.$filetype()):q(this.converter)?(E=e.$sub(f(u,"TrailingDigitsRx"),""),q(w=f(u,"DEFAULT_EXTENSIONS")["$[]"](E))?z=w.$slice(1,w.$length()):(h=[".html","html","html"],w=h[0],E=h[1],z=h[2],h),q(this["$attribute_locked?"]("outfilesuffix"))||(A=["outfilesuffix",w],n(k,"[]=",a.to_a(A)),A[b(A.length,1)])):this.$raise(c("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+
e+"'. Processing aborted."),q(r=k["$[]"]("filetype"))&&k.$delete("filetype-"+r),A=["filetype",z],n(k,"[]=",a.to_a(A)),A[b(A.length,1)],A=["filetype-"+z,""],n(k,"[]=",a.to_a(A)),A[b(A.length,1)],q(w=f(u,"DEFAULT_PAGE_WIDTHS")["$[]"](E))?(A=["pagewidth",w],n(k,"[]=",a.to_a(A)),A[b(A.length,1)]):k.$delete("pagewidth"),q(E["$!="](p))&&(q(t)?(q(p)&&(k.$delete("basebackend-"+p),k.$delete("basebackend-"+p+"-doctype-"+t)),A=["basebackend-"+E+"-doctype-"+t,""],n(k,"[]=",a.to_a(A)),A[b(A.length,1)]):q(p)&&
k.$delete("basebackend-"+p),A=["basebackend-"+E,""],n(k,"[]=",a.to_a(A)),A[b(A.length,1)],A=["basebackend",E],n(k,"[]=",a.to_a(A)),A[b(A.length,1)]),e):m},Ea.$$arity=-2);a.def(l,"$update_doctype_attributes",wa=function(c){var e,f=m,g=m,h=m,l=m,g=m;return q(q(e=c)?c["$!="](this.doctype):e)?(e=[this.backend,(f=this.attributes)["$[]"]("basebackend"),this.doctype],g=e[0],h=e[1],l=e[2],e,q(l)?(f.$delete("doctype-"+l),q(g)&&(f.$delete("backend-"+g+"-doctype-"+l),g=["backend-"+g+"-doctype-"+c,""],n(f,"[]=",
a.to_a(g)),g[b(g.length,1)]),q(h)&&(f.$delete("basebackend-"+h+"-doctype-"+l),g=["basebackend-"+h+"-doctype-"+c,""],n(f,"[]=",a.to_a(g)),g[b(g.length,1)])):(q(g)&&(g=["backend-"+g+"-doctype-"+c,""],n(f,"[]=",a.to_a(g)),g[b(g.length,1)]),q(h)&&(g=["basebackend-"+h+"-doctype-"+c,""],n(f,"[]=",a.to_a(g)),g[b(g.length,1)])),g=["doctype-"+c,""],n(f,"[]=",a.to_a(g)),g[b(g.length,1)],this.doctype=(g=["doctype",c],n(f,"[]=",a.to_a(g)),g[b(g.length,1)])):m},wa.$$arity=1);a.def(l,"$create_converter",za=function(){var g=
m,h=m,l=m,k=m,w=m,h=m,g=e([],{}),h=["htmlsyntax",this.attributes["$[]"]("htmlsyntax")];n(g,"[]=",a.to_a(h));h[b(h.length,1)];q(l=this.options["$[]"]("template_dir"))?k=[l]:q(k=this.options["$[]"]("template_dirs"))&&(k=this.$Array(k));q(k)&&(h=["template_dirs",k],n(g,"[]=",a.to_a(h)),h[b(h.length,1)],h=["template_cache",this.options.$fetch("template_cache",!0)],n(g,"[]=",a.to_a(h)),h[b(h.length,1)],h=["template_engine",this.options["$[]"]("template_engine")],n(g,"[]=",a.to_a(h)),h[b(h.length,1)],h=
["template_engine_options",this.options["$[]"]("template_engine_options")],n(g,"[]=",a.to_a(h)),h[b(h.length,1)],h=["eruby",this.options["$[]"]("eruby")],n(g,"[]=",a.to_a(h)),h[b(h.length,1)],h=["safe",this.safe],n(g,"[]=",a.to_a(h)),h[b(h.length,1)]);h=q(w=this.options["$[]"]("converter"))?c(f(u,"Converter"),"Factory").$new(c("::","Hash")["$[]"](this.$backend(),w)):c(f(u,"Converter"),"Factory").$default(!1);return h.$create(this.$backend(),g)},za.$$arity=0);a.def(l,"$convert",Ia=function(h){var l,
k,p=m,t=m,A=m,M=m,v=m;null==h&&(h=e([],{}));q(this.timings)&&this.timings.$start("convert");q(this.parsed)||this.$parse();q(q(l=g(this.safe,c(f(u,"SafeMode"),"SERVER")))?l:h["$empty?"]())||(q((p=["outfile",h["$[]"]("outfile")],n(this.attributes,"[]=",a.to_a(p)),p[b(p.length,1)]))||this.attributes.$delete("outfile"),q((p=["outdir",h["$[]"]("outdir")],n(this.attributes,"[]=",a.to_a(p)),p[b(p.length,1)]))||this.attributes.$delete("outdir"));this.$doctype()["$=="]("inline")?q(t=q(l=this.blocks["$[]"](0))?
l:this.header)&&(q(q(l=t.$content_model()["$=="]("compound"))?l:t.$content_model()["$=="]("empty"))?this.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):A=t.$content()):(M=q(q(h["$key?"]("header_footer"))?h["$[]"]("header_footer"):this.options["$[]"]("header_footer"))?"document":"embedded",A=this.converter.$convert(this,M));!q(this.parent_document)&&q(q(l=v=this.extensions)?v["$postprocessors?"]():l)&&n(v.$postprocessors(),"each",
[],(k=function(a){var b=k.$$s||this;null==a&&(a=m);return A=a.$process_method()["$[]"](b,A)},k.$$s=this,k.$$arity=1,k));q(this.timings)&&this.timings.$record("convert");return A},Ia.$$arity=-1);a.alias(l,"render","convert");a.def(l,"$write",Oa=function(a,b){var d;q(this.timings)&&this.timings.$start("write");q(f(u,"Writer")["$==="](this.converter))?this.converter.$write(a,b):(q(b["$respond_to?"]("write"))?q(a["$nil_or_empty?"]())||(b.$write(a.$chomp()),b.$write(f(u,"LF"))):c("::","IO").$write(b,a),
q(q(d=this.backend["$=="]("manpage")?c("::","String")["$==="](b):this.backend["$=="]("manpage"))?this.converter["$respond_to?"]("write_alternate_pages"):d)&&this.converter.$write_alternate_pages(this.attributes["$[]"]("mannames"),this.attributes["$[]"]("manvolnum"),b));q(this.timings)&&this.timings.$record("write");return m},Oa.$$arity=2);a.def(l,"$content",Ma=function(){var b=Ma.$$p,c=m,d=m,e=m;b&&(Ma.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];this.attributes.$delete("title");
return n(this,a.find_super_dispatcher(this,"content",Ma,!1),c,b)},Ma.$$arity=0);a.def(l,"$docinfo",Pa=function(a,b){var d,h,l,k=m,v=m,E=m,r=m,C=m,x=m,y=m,r=y=m;null==a&&(a="head");null==b&&(b=m);if(q(g(this.$safe(),c(f(u,"SafeMode"),"SECURE"))))return"";k=[];a["$=="]("head")||(v="-"+a);q(b)||(b=this.outfilesuffix);E=q((E=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?q(this.attributes["$key?"]("docinfo2"))?["private","shared"]:q(this.attributes["$key?"]("docinfo1"))?["shared"]:q(E)?["private"]:
m:n(E.$split(","),"map",[],(d=function(a){null==a&&(a=m);return a.$strip()},d.$$s=this,d.$$arity=1,d));if(q(E)){h=["docinfo"+v+b,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()];r=h[0];C=h[1];x=h[2];h;if(!q(E["$&"](["shared","shared-"+a])["$empty?"]())&&(y=this.$normalize_system_path(r,C),q(y=this.$read_asset(y,e(["normalize"],{normalize:!0})))))k["$<<"](this.$apply_subs(y,x));if(!q(q(h=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?h:E["$&"](["private","private-"+a])["$empty?"]())&&
(y=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+r,C),q(r=this.$read_asset(y,e(["normalize"],{normalize:!0})))))k["$<<"](this.$apply_subs(r,x))}q(q(h=this.extensions)?this["$docinfo_processors?"](a):h)&&(k=p(k,n(this.docinfo_processor_extensions["$[]"](a),"map",[],(l=function(a){var b=l.$$s||this;null==a&&(a=m);return a.$process_method()["$[]"](b)},l.$$s=this,l.$$arity=1,l)).$compact()));return t(k,f(u,"LF"))},Pa.$$arity=-1);a.def(l,"$resolve_docinfo_subs",Na=function(){return q(this.attributes["$key?"]("docinfosubs"))?
this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",m,"docinfo"):["attributes"]},Na.$$arity=0);a.def(l,"$docinfo_processors?",Sa=function(c){var e,f=m;null==c&&(c="head");if(q(this.docinfo_processor_extensions["$key?"](c)))return this.docinfo_processor_extensions["$[]"](c)["$!="](!1);if(q(q(e=this.extensions)?this.document.$extensions()["$docinfo_processors?"](c):e))return(f=[c,this.document.$extensions().$docinfo_processors(c)],n(this.docinfo_processor_extensions,"[]=",a.to_a(f)),f[b(f.length,
1)])["$!"]()["$!"]();f=[c,!1];n(this.docinfo_processor_extensions,"[]=",a.to_a(f));return f[b(f.length,1)]},Sa.$$arity=-1);return(a.def(l,"$to_s",Ta=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(q(this.header["$!="](m))?this.header.$title():m).$inspect()+", blocks: "+this.blocks.$size()+"}>"},Ta.$$arity=0),m)&&"to_s"})(x[0],f(x,"AbstractBlock"),x)}(k[0],k)};Opal.modules["asciidoctor/inline"]=function(a){var b=[],g=a.nil,p=a.const_get_relative,
t=a.module,k=a.klass,m=a.hash2,c=a.send,f=a.truthy;a.add_stubs("$attr_reader $attr_accessor $[] $dup $convert $converter $attr $== $apply_reftext_subs $reftext".split(" "));return function(b,d){function q(){}var n=[q=t(b,"Asciidoctor",q)].concat(d);(function(b,$super,d){function l(){}b=l=k(b,$super,"Inline",l);var n=b.prototype;[b].concat(d);var p,t,q,A,v,z,r,C;n.text=n.type=g;b.$attr_reader("text");b.$attr_reader("type");b.$attr_accessor("target");a.def(b,"$initialize",p=function(b,d,e,l){var k=
g;p.$$p&&(p.$$p=null);null==e&&(e=g);null==l&&(l=m([],{}));c(this,a.find_super_dispatcher(this,"initialize",p,!1),[b,d],null);this.node_name="inline_"+d;this.text=e;this.id=l["$[]"]("id");this.type=l["$[]"]("type");this.target=l["$[]"]("target");return f(k=l["$[]"]("attributes"))?this.attributes=k.$dup():g},p.$$arity=-3);a.def(b,"$block?",t=function(){return!1},t.$$arity=0);a.def(b,"$inline?",q=function(){return!0},q.$$arity=0);a.def(b,"$convert",A=function(){return this.$converter().$convert(this)},
A.$$arity=0);a.alias(b,"render","convert");a.def(b,"$alt",v=function(){return this.$attr("alt")},v.$$arity=0);a.def(b,"$reftext?",z=function(){var a,b;return f(a=this.text)?f(b=this.type["$=="]("ref"))?b:this.type["$=="]("bibref"):a},z.$$arity=0);a.def(b,"$reftext",r=function(){var a=g;return f(a=this.text)?this.$apply_reftext_subs(a):g},r.$$arity=0);return(a.def(b,"$xreftext",C=function(a){return this.$reftext()},C.$$arity=-1),g)&&"xreftext"})(n[0],p(n,"AbstractNode"),n)}(b[0],b)};Opal.modules["asciidoctor/list"]=
function(a){var b=[],g=a.nil,p=a.const_get_relative,t=a.module,k=a.klass,m=a.send,c=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $dup $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));return function(b,d){function q(){}var v=[q=t(b,"Asciidoctor",q)].concat(d);(function(b,$super,d){function f(){}b=f=k(b,$super,"List",f);var l=b.prototype;[b].concat(d);
var p,t,q,A;l.context=l.document=l.style=g;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.def(b,"$initialize",p=function(b,c){var d=p.$$p,f=g,h=g,l=g;d&&(p.$$p=null);h=0;l=arguments.length;for(f=Array(l);h<l;h++)f[h]=arguments[h];return m(this,a.find_super_dispatcher(this,"initialize",p,!1),f,d)},p.$$arity=2);a.def(b,"$outline?",t=function(){var a;return c(a=this.context["$=="]("ulist"))?a:this.context["$=="]("olist")},t.$$arity=0);a.def(b,"$convert",q=function(){var b=
q.$$p,c=g,d=c=g,f=g;b&&(q.$$p=null);d=0;f=arguments.length;for(c=Array(f);d<f;d++)c[d]=arguments[d];return this.context["$=="]("colist")?(c=m(this,a.find_super_dispatcher(this,"convert",q,!1),c,b),this.document.$callouts().$next_list(),c):m(this,a.find_super_dispatcher(this,"convert",q,!1),c,b)},q.$$arity=0);a.alias(b,"render","convert");return(a.def(b,"$to_s",A=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+
this.$items().$size()+"}>"},A.$$arity=0),g)&&"to_s"})(v[0],p(v,"AbstractBlock"),v);(function(b,$super,d){function f(){}b=f=k(b,$super,"ListItem",f);var l=b.prototype,t=[b].concat(d),q,v,z,r,u,x,y,C;l.text=l.subs=l.blocks=g;a.alias(b,"list","parent");b.$attr_accessor("marker");a.def(b,"$initialize",q=function(b,c){q.$$p&&(q.$$p=null);null==c&&(c=g);m(this,a.find_super_dispatcher(this,"initialize",q,!1),[b,"list_item"],null);this.text=c;this.level=b.$level();return this.subs=p(t,"NORMAL_SUBS").$dup()},
q.$$arity=-2);a.def(b,"$text?",v=function(){return this.text["$nil_or_empty?"]()["$!"]()},v.$$arity=0);a.def(b,"$text",z=function(){var a;return c(a=this.text)?this.$apply_subs(this.text,this.subs):a},z.$$arity=0);a.def(b,"$text=",r=function(a){return this.text=a},r.$$arity=1);a.def(b,"$simple?",u=function(){var a,b,d=g;return c(a=this.blocks["$empty?"]())?a:c(b=this.blocks.$size()["$=="](1)?p(t,"List")["$==="](d=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?d["$outline?"]():b},u.$$arity=
0);a.def(b,"$compound?",x=function(){return this["$simple?"]()["$!"]()},x.$$arity=0);a.def(b,"$fold_first",y=function(a,b){var d,f,h,l,k,n=g,m=g;null==a&&(a=!1);null==b&&(b=!1);c(c(d=c(f=n=this.blocks["$[]"](0))?p(t,"Block")["$==="](n):f)?c(f=n.$context()["$=="]("paragraph")?a["$!"]():n.$context()["$=="]("paragraph"))?f:c(h=c(l=c(k=b)?k:a["$!"]())?n.$context()["$=="]("literal"):l)?n["$option?"]("listparagraph"):h:d)&&(m=this.$blocks().$shift(),c(this.text["$nil_or_empty?"]())||m.$lines().$unshift(this.text),
this.text=m.$source());return g},y.$$arity=-1);return(a.def(b,"$to_s",C=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(c(a=this.blocks)?a:[]).$size()+"}>"},C.$$arity=0),g)&&"to_s"})(v[0],p(v,"AbstractBlock"),v)}(b[0],b)};Opal.modules["asciidoctor/parser"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,b){return"number"===typeof a&&
"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var m=[],c=a.nil,f=a.const_get_qualified,l=a.const_get_relative,q=a.module,v=a.klass,n=a.send,e=a.truthy,h=a.hash2,E=a.gvars,r=a.range;a.add_stubs("$include $new $lambda $start_with? $match? $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $assign_numeral $<< $blocks $parse_block_metadata_lines $attributes $is_next_line_doctitle? $finalize_header $nil_or_empty? $title= $- $sourcemap $cursor $parse_section_title $id= $source_location= $header $attribute_locked? $[]= $id $parse_header_metadata $register $== $doctype $parse_manpage_header $=~ $downcase $include? $sub_attributes $error $logger $message_with_context $cursor_at_prev_line $skip_blank_lines $is_next_line_section? $initialize_section $level $* $read_lines_until $title $map $split $lstrip $backend $context $empty? $has_header? $delete $! $!= $attr? $attr $key? $document $+ $special $sectname $to_i $> $< $warn $next_block $blocks? $style $context= $style= $parent= $size $content_model $shift $unwrap_standalone_preamble $dup $fetch $parse_block_metadata_line $extensions $block_macros? $mark $read_line $terminator $to_s $masq $to_sym $registered_for_block? $cursor_at_mark $strict_verbatim_paragraphs $unshift_line $markdown_syntax $keys $chr $length $end_with? $=== $parse_attributes $attribute_missing $clear $tr $basename $assign_caption $registered_for_block_macro? $config $update $process_method $replace $match $peek_line $next_list_item $items $callout_ids $callouts $next_list $marker $find $next_description_list $underline_style_section_titles $is_section_title? $atx_section_title? $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $map! $pop $build_block $apply_subs $slice $chop $catalog_inline_anchors $rekey $index $strip $next_table $concat $each $title? $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $gsub $reader $catalog_inline_anchor $source_location $marker= $catalog_inline_biblio_anchor $text= $resolve_ordered_list_marker $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $casecmp $sectname= $special= $numbered= $numbered $cursor_at_line $lineno $update_attributes $peek_lines $setext_section_title? $abs $line_length $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $rstrip $each_with_index $compact $Array $squeeze $to_a $parse_style_attribute $process_attribute_entry $skip_comment_lines $advance $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $ord $int_to_roman $parse_colspecs $create_columns $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $pre_match $post_match $buffer_has_unclosed_quotes? $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $has_header_option= $partition_header_footer $upto $shorthand_property_syntax $join $each_char $call $sub! $gsub! $% $begin".split(" "));
return function(m,u){function x(){}var y=[x=q(m,"Asciidoctor",x)].concat(u);(function(m,$super,q){function x(){}m=x=v(m,$super,"Parser",x);var C=[m].concat(q),u,y,G,B,O,F,N,W,R,ba,S,qa,J,U,la,ga,ca,L,ea,ia,da,na,ra,K,sa,Ga,ua,oa,aa,pa,Q,P,xa,Aa,Ea,wa,za,Ia,Oa,Ma,Pa,Na,Sa,Ta,Ua,H;m.$include(l(C,"Logging"));a.const_set(C[0],"BlockMatchData",l(C,"Struct").$new("context","masq","tip","terminator"));a.const_set(C[0],"TabRx",/\t/);a.const_set(C[0],"TabIndentRx",/^\t+/);a.const_set(C[0],"StartOfBlockProc",
n(m,"lambda",[],(u=function(a){var b=u.$$s||this,d,f;null==a&&(a=c);return e(d=e(f=a["$start_with?"]("["))?l(C,"BlockAttributeLineRx")["$match?"](a):f)?d:b["$is_delimited_block?"](a)},u.$$s=m,u.$$arity=1,u)));a.const_set(C[0],"StartOfListProc",n(m,"lambda",[],(y=function(a){null==a&&(a=c);return l(C,"AnyListRx")["$match?"](a)},y.$$s=m,y.$$arity=1,y)));a.const_set(C[0],"StartOfBlockOrListProc",n(m,"lambda",[],(G=function(a){var b=G.$$s||this,d,f,g;null==a&&(a=c);return e(d=e(f=b["$is_delimited_block?"](a))?
f:e(g=a["$start_with?"]("["))?l(C,"BlockAttributeLineRx")["$match?"](a):g)?d:l(C,"AnyListRx")["$match?"](a)},G.$$s=m,G.$$arity=1,G)));a.const_set(C[0],"NoOp",c);a.const_set(C[0],"TableCellHorzAlignments",h(["<",">","^"],{"<":"left",">":"right","^":"center"}));a.const_set(C[0],"TableCellVertAlignments",h(["<",">","^"],{"<":"top",">":"bottom","^":"middle"}));a.const_set(C[0],"TableCellStyles",h("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));
a.def(m,"$initialize",B=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},B.$$arity=0);a.defs(m,"$parse",O=function(b,d,f){var g,l=g=c;null==f&&(f=h([],{}));g=this.$parse_document_header(b,d);if(!e(f["$[]"]("header_only")))for(;e(b["$has_more_lines?"]());)f=this.$next_section(b,d,g),g=a.to_ary(f),l=null==g[0]?c:g[0],g=null==g[1]?c:g[1],f,e(l)&&(d.$assign_numeral(l),d.$blocks()["$<<"](l));return d},O.$$arity=-3);a.defs(m,"$parse_document_header",
F=function(f,g){var l,k,m=c,w=c,p=c,t=c,q=c,A=k=c,v=c,m=k=p=v=k=p=c,m=this.$parse_block_metadata_lines(f,g),w=g.$attributes();if(e(e(l=p=this["$is_next_line_doctitle?"](f,m,w["$[]"]("leveloffset")))?m["$[]"]("title"):l))return g.$finalize_header(m,!1);t=c;e((q=w["$[]"]("doctitle"))["$nil_or_empty?"]())||(k=[t=q],n(g,"title=",a.to_a(k)),k[b(k.length,1)]);e(p)&&(e(g.$sourcemap())&&(A=f.$cursor()),k=this.$parse_section_title(f,g),l=a.to_ary(k),g["$id="](null==l[0]?c:l[0]),v=null==l[2]?c:l[2],p=null==
l[4]?c:l[4],k,e(t)||(k=[t=v],n(g,"title=",a.to_a(k)),k[b(k.length,1)]),e(A)&&(k=[A],n(g.$header(),"source_location=",a.to_a(k)),k[b(k.length,1)]),e(e(l=p)?l:g["$attribute_locked?"]("compat-mode"))||(k=["compat-mode",""],n(w,"[]=",a.to_a(k)),k[b(k.length,1)]),e(k=m["$[]"]("separator"))&&!e(g["$attribute_locked?"]("title-separator"))&&(k=["title-separator",k],n(w,"[]=",a.to_a(k)),k[b(k.length,1)]),k=["doctitle",v],n(w,"[]=",a.to_a(k)),k[b(k.length,1)],e(p=m["$[]"]("id"))?(k=[p],n(g,"id=",a.to_a(k)),
k[b(k.length,1)]):p=g.$id(),e(k=m["$[]"]("role"))&&(k=["docrole",k],n(w,"[]=",a.to_a(k)),k[b(k.length,1)]),e(m=m["$[]"]("reftext"))&&(k=["reftext",m],n(w,"[]=",a.to_a(k)),k[b(k.length,1)]),m=h([],{}),this.$parse_header_metadata(f,g),e(p)&&g.$register("refs",[p,g]));e(e(l=(q=w["$[]"]("doctitle"))["$nil_or_empty?"]())?l:q["$=="](v))||(k=[t=q],n(g,"title=",a.to_a(k)),k[b(k.length,1)]);e(t)&&(k=["doctitle",t],n(w,"[]=",a.to_a(k)),k[b(k.length,1)]);g.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(f,
g);return g.$finalize_header(m)},F.$$arity=2);a.defs(m,"$parse_manpage_header",N=function(f,k){var m,p,t=c,q=c,A=c,v=A=c,H=c;e(l(C,"ManpageTitleVolnumRx")["$=~"](k.$attributes()["$[]"]("doctitle")))?(t=["mantitle",(e(((m=E["~"])===c?c:m["$[]"](1))["$include?"](l(C,"ATTR_REF_HEAD")))?k.$sub_attributes((m=E["~"])===c?c:m["$[]"](1)):(m=E["~"])===c?c:m["$[]"](1)).$downcase()],n(k.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)],t=["manvolnum",(m=E["~"])===c?c:m["$[]"](2)]):(this.$logger().$error(this.$message_with_context("malformed manpage title",
h(["source_location"],{source_location:f.$cursor_at_prev_line()}))),t=["mantitle",k.$attributes()["$[]"]("doctitle")],n(k.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)],t=["manvolnum","1"]);n(k.$attributes(),"[]=",a.to_a(t));t[b(t.length,1)];f.$skip_blank_lines();e(this["$is_next_line_section?"](f,h([],{})))?(q=this.$initialize_section(f,k,h([],{})),q.$level()["$=="](1)?(A=g(f.$read_lines_until(h(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0}))," "),
e(l(C,"ManpageNamePurposeRx")["$=~"](A))?(A=k.$attributes(),e(m=A["$[]"]("manname-title"))?m:(t=["manname-title",q.$title()],n(A,"[]=",a.to_a(t)),t[b(t.length,1)]),e(q.$id())&&(t=["manname-id",q.$id()],n(k.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)]),t=["manpurpose",(m=E["~"])===c?c:m["$[]"](2)],n(k.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)],e((v=e(((m=E["~"])===c?c:m["$[]"](1))["$include?"](l(C,"ATTR_REF_HEAD")))?k.$sub_attributes((m=E["~"])===c?c:m["$[]"](1)):(m=E["~"])===c?c:m["$[]"](1))["$include?"](","))?
v=(H=n(v.$split(","),"map",[],(p=function(a){null==a&&(a=c);return a.$lstrip()},p.$$s=this,p.$$arity=1,p)))["$[]"](0):H=[v],t=["manname",v],n(k.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)],t=["mannames",H],n(k.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)],k.$backend()["$=="]("manpage")&&(t=["docname",v],n(k.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)],t=["outfilesuffix","."+k.$attributes()["$[]"]("manvolnum")],n(k.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)])):this.$logger().$error(this.$message_with_context("malformed name section body",
h(["source_location"],{source_location:f.$cursor_at_prev_line()})))):this.$logger().$error(this.$message_with_context("name section title must be at level 1",h(["source_location"],{source_location:f.$cursor_at_prev_line()})))):this.$logger().$error(this.$message_with_context("name section expected",h(["source_location"],{source_location:f.$cursor_at_prev_line()})));return c},N.$$arity=2);a.defs(m,"$next_section",W=function(f,g,m){var w,q,v,H,E=c,r=c,u=c,x=c,y=c,D=c,G=c,B=c,O=c,F=c,S=c,ha=O=c,X=c,
ba=c,r=ba=X=G=X=c;null==m&&(m=h([],{}));E=r=u=!1;e(e(w=(q=g.$context()["$=="]("document"))?g.$blocks()["$empty?"]():g.$context()["$=="]("document"))?e(q=e(v=x=g["$has_header?"]())?v:m.$delete("invalid-header"))?q:this["$is_next_line_section?"](f,m)["$!"]():w)?(y=(D=g).$doctype()["$=="]("book"),e(e(w=x)?w:e(q=y)?m["$[]"](1)["$!="]("abstract"):q)&&(E=r=l(C,"Block").$new(g,"preamble",h(["content_model"],{content_model:"compound"})),e(e(w=y)?g["$attr?"]("preface-title"):w)&&(G=[g.$attr("preface-title")],
n(E,"title=",a.to_a(G)),G[b(G.length,1)]),g.$blocks()["$<<"](E)),B=g,O=0,e(g.$attributes()["$key?"]("fragment"))?F=-1:e(y)?(w=[1,0],F=w[0],S=w[1],w):F=1):(y=(D=g.$document()).$doctype()["$=="]("book"),B=this.$initialize_section(f,g,m),m=e(O=m["$[]"]("title"))?h(["title"],{title:O}):h([],{}),F=p(O=B.$level(),1),O["$=="](0)?u=y:e((w=O["$=="](1))?B.$special():O["$=="](1))&&!e(e(w=e(q=(ha=B.$sectname())["$=="]("appendix"))?q:ha["$=="]("preface"))?w:ha["$=="]("abstract"))&&(F=c));for(f.$skip_blank_lines();e(f["$has_more_lines?"]());){this.$parse_block_metadata_lines(f,
D,m);if(e(X=this["$is_next_line_section?"](f,m)))if(e(D["$attr?"]("leveloffset"))&&(X=p(X,D.$attr("leveloffset").$to_i())),e(t(X,O)))e(F)?e(e(q=e(v=X["$=="](F))?v:e(H=S)?X["$=="](S):H)?q:k(F,0))||(ba=e(S)?"expected levels "+S+" or "+F:"expected level "+F,this.$logger().$warn(this.$message_with_context("section title out of sequence: "+ba+", got level "+X,h(["source_location"],{source_location:f.$cursor()})))):this.$logger().$error(this.$message_with_context(""+ha+" sections do not support nested sections",
h(["source_location"],{source_location:f.$cursor()}))),v=this.$next_section(f,B,m),q=a.to_ary(v),X=null==q[0]?c:q[0],m=null==q[1]?c:q[1],v,B.$assign_numeral(X),B.$blocks()["$<<"](X);else if(e((q=X["$=="](0))?B["$=="](D):X["$=="](0)))e(y)||this.$logger().$error(this.$message_with_context("level 0 sections can only be used when doctype is book",h(["source_location"],{source_location:f.$cursor()}))),v=this.$next_section(f,B,m),q=a.to_ary(v),X=null==q[0]?c:q[0],m=null==q[1]?c:q[1],v,B.$assign_numeral(X),
B.$blocks()["$<<"](X);else break;else G=f.$cursor(),e(X=this.$next_block(f,e(q=r)?q:B,m,h(["parse_metadata"],{parse_metadata:!1})))&&(e(u)&&(e(B["$blocks?"]()["$!"]())?e(X.$style()["$!="]("partintro"))&&(X.$context()["$=="]("paragraph")?(G=["open"],n(X,"context=",a.to_a(G)),G[b(G.length,1)],G=["partintro"],n(X,"style=",a.to_a(G)),G[b(G.length,1)]):(G=[r=l(C,"Block").$new(B,"open",h(["content_model"],{content_model:"compound"}))],n(X,"parent=",a.to_a(G)),G[b(G.length,1)],G=["partintro"],n(r,"style=",
a.to_a(G)),G[b(G.length,1)],B.$blocks()["$<<"](r))):B.$blocks().$size()["$=="](1)&&(ba=B.$blocks()["$[]"](0),e(e(q=r["$!"]())?ba.$content_model()["$=="]("compound"):q)?this.$logger().$error(this.$message_with_context("illegal block content outside of partintro block",h(["source_location"],{source_location:G}))):e(ba.$content_model()["$!="]("compound"))&&(G=[r=l(C,"Block").$new(B,"open",h(["content_model"],{content_model:"compound"}))],n(X,"parent=",a.to_a(G)),G[b(G.length,1)],G=["partintro"],n(r,
"style=",a.to_a(G)),G[b(G.length,1)],B.$blocks().$shift(),ba.$style()["$=="]("partintro")&&(G=["paragraph"],n(ba,"context=",a.to_a(G)),G[b(G.length,1)],G=[c],n(ba,"style=",a.to_a(G)),G[b(G.length,1)]),r["$<<"](ba),B.$blocks()["$<<"](r)))),(e(q=r)?q:B).$blocks()["$<<"](X),m=h([],{}));if(e(q=f.$skip_blank_lines()))q;else break}if(e(u))e(e(w=B["$blocks?"]())?B.$blocks()["$[]"](-1).$context()["$=="]("section"):w)||this.$logger().$error(this.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",
h(["source_location"],{source_location:f.$cursor()})));else if(e(E))if(e(E["$blocks?"]())){if(!e(e(w=e(q=y)?q:D.$blocks()["$[]"](1))?w:l(C,"Compliance").$unwrap_standalone_preamble()["$!"]()))for(D.$blocks().$shift();e(r=E.$blocks().$shift());)D["$<<"](r)}else D.$blocks().$shift();return[e(B["$!="](g))?B:c,m.$dup()]},W.$$arity=-3);a.defs(m,"$next_block",R=function(f,m,q,v){try{var H,u,x,y,I,G,D,B,O,F=c,S=c,X=c,ha=c,ba=c,ra=c,U=c,ca=c,R=c,N=c,V=c,qa=c,W=c,la=c,K=c,ja=c,J=c,fa=c,ga=c,da=c,ka=c,L=c,
va=c,ea=c,Ca=c,ma=c,sa=c,na=c,za=c,oa=c,Q=c,Ma=c,Da=c,ua=c,T=c,ia=c,Ga=c,Pa=c,aa=c,Fa=c,xa=c,pa=c,P=c,Ia=c,Ja=c,Na=c,Ua=c,Oa=c,wa=c,Sa=c,Aa=c;null==q&&(q=h([],{}));null==v&&(v=h([],{}));if(!e(F=f.$skip_blank_lines()))return c;e(e(H=S=v["$[]"]("text"))?t(F,0):H)&&(v.$delete("text"),S=!1);X=m.$document();if(e(v.$fetch("parse_metadata",!0)))for(;e(this.$parse_block_metadata_line(f,X,q,v));)f.$shift(),e(u=f.$skip_blank_lines())?u:a.ret(c);e(ha=X.$extensions())&&(H=[ha["$blocks?"](),ha["$block_macros?"]()],
ba=H[0],ra=H[1],H);f.$mark();H=[f.$read_line(),X.$attributes(),q["$[]"](1)];U=H[0];ca=H[1];R=H[2];H;N=V=qa=W=c;e(la=this["$is_delimited_block?"](U,!0))&&(V=qa=la.$context(),W=la.$terminator(),e(R["$!"]())?R=(K=["style",V.$to_s()],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]):e(R["$!="](V.$to_s()))&&(e(la.$masq()["$include?"](R))?V=R.$to_sym():e(e(H=la.$masq()["$include?"]("admonition"))?l(C,"ADMONITION_STYLES")["$include?"](R):H)?V="admonition":e(e(H=ba)?ha["$registered_for_block?"](R,V):H)?V=R.$to_sym():
(this.$logger().$warn(this.$message_with_context("invalid style for "+V+" block: "+R,h(["source_location"],{source_location:f.$cursor_at_mark()}))),R=V.$to_s())));if(!e(la))for(;e(!0);){if(e(e(u=e(x=R)?l(C,"Compliance").$strict_verbatim_paragraphs():x)?l(C,"VERBATIM_STYLES")["$include?"](R):u)){V=R.$to_sym();f.$unshift_line(U);break}if(e(S))ja=U["$start_with?"](" ",l(C,"TAB"));else if(J=l(C,"Compliance").$markdown_syntax(),e(U["$start_with?"](" "))){if(u=[!0," "],ja=u[0],fa=u[1],u,e(e(u=e(x=J)?n(U.$lstrip(),
"start_with?",a.to_a(l(C,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):x)?l(C,"MarkdownThematicBreakRx")["$match?"](U):u)){N=l(C,"Block").$new(m,"thematic_break",h(["content_model"],{content_model:"empty"}));break}}else if(e(U["$start_with?"](l(C,"TAB"))))u=[!0,l(C,"TAB")],ja=u[0],fa=u[1],u;else if(u=[!1,U.$chr()],ja=u[0],fa=u[1],u,ga=e(J)?l(C,"HYBRID_LAYOUT_BREAK_CHARS"):l(C,"LAYOUT_BREAK_CHARS"),e(e(u=ga["$key?"](fa))?e(J)?l(C,"ExtLayoutBreakRx")["$match?"](U):(x=U["$=="](g(fa,da=U.$length())))?t(da,
2):U["$=="](g(fa,da=U.$length())):u)){N=l(C,"Block").$new(m,ga["$[]"](fa),h(["content_model"],{content_model:"empty"}));break}else if(e(e(u=U["$end_with?"]("]"))?U["$include?"]("::"):u))if(e(e(u=e(x=fa["$=="]("i"))?x:U["$start_with?"]("video:","audio:"))?l(C,"BlockMediaMacroRx")["$=~"](U):u)){u=[((x=E["~"])===c?c:x["$[]"](1)).$to_sym(),(x=E["~"])===c?c:x["$[]"](2),(x=E["~"])===c?c:x["$[]"](3)];ka=u[0];L=u[1];va=u[2];u;N=l(C,"Block").$new(m,ka,h(["content_model"],{content_model:"empty"}));e(va)&&(ea=
ka,Ca="video"["$==="](ea)?["poster","width","height"]:"audio"["$==="](ea)?[]:["alt","width","height"],N.$parse_attributes(va,Ca,h(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:q})));e(q["$key?"]("style"))&&q.$delete("style");if(e(e(u=L["$include?"](l(C,"ATTR_REF_HEAD")))?(L=N.$sub_attributes(L,h(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():u)){if((e(u=ca["$[]"]("attribute-missing"))?u:l(C,"Compliance").$attribute_missing())["$=="]("skip"))return l(C,"Block").$new(m,
"paragraph",h(["content_model","source"],{content_model:"simple",source:[U]}));q.$clear();return c}ka["$=="]("image")&&(X.$register("images",L),e(u=q["$[]"]("alt"))?u:(K=["alt",e(x=R)?x:(K=["default-alt",l(C,"Helpers").$basename(L,!0).$tr("_-"," ")],n(q,"[]=",a.to_a(K)),K[b(K.length,1)])],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]),e((ma=q.$delete("scaledwidth"))["$nil_or_empty?"]())||(K=["scaledwidth",e(l(C,"TrailingDigitsRx")["$match?"](ma))?""+ma+"%":ma],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]),K=[q.$delete("title")],
n(N,"title=",a.to_a(K)),K[b(K.length,1)],N.$assign_caption(q.$delete("caption"),"figure"));K=["target",L];n(q,"[]=",a.to_a(K));K[b(K.length,1)];break}else if(e(e(u=(x=fa["$=="]("t"))?U["$start_with?"]("toc:"):fa["$=="]("t"))?l(C,"BlockTocMacroRx")["$=~"](U):u)){N=l(C,"Block").$new(m,"toc",h(["content_model"],{content_model:"empty"}));e((u=E["~"])===c?c:u["$[]"](1))&&N.$parse_attributes((u=E["~"])===c?c:u["$[]"](1),[],h(["sub_result","into"],{sub_result:!1,into:q}));break}else if(e(e(u=e(x=ra)?l(C,
"CustomBlockMacroRx")["$=~"](U):x)?sa=ha["$registered_for_block_macro?"]((x=E["~"])===c?c:x["$[]"](1)):u))if(u=[(x=E["~"])===c?c:x["$[]"](2),(x=E["~"])===c?c:x["$[]"](3)],L=u[0],na=u[1],u,sa.$config()["$[]"]("content_model")["$=="]("attributes")?e(na)&&X.$parse_attributes(na,e(u=sa.$config()["$[]"]("pos_attrs"))?u:[],h(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:q})):(K=["text",e(u=na)?u:""],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]),e(za=sa.$config()["$[]"]("default_attrs"))&&
n(q,"update",[za],(y=function(a,b){null==b&&(b=c);return b},y.$$s=this,y.$$arity=2,y)),e(N=sa.$process_method()["$[]"](m,L,q))){q.$replace(N.$attributes());break}else return q.$clear(),c;if(e(e(u=e(x=e(I=ja["$!"]())?l(C,"CALLOUT_LIST_HEADS")["$include?"](fa=e(G=fa)?G:U.$chr()):I)?l(C,"CalloutListSniffRx")["$match?"](U):x)?oa=l(C,"CalloutListRx").$match(U):u)){N=l(C,"List").$new(m,"colist");K=["style","arabic"];n(q,"[]=",a.to_a(K));K[b(K.length,1)];f.$unshift_line(U);for(Q=1;e(e(x=oa)?x:e(I=oa=l(C,
"CalloutListRx").$match(f.$peek_line()))?f.$mark():I);)oa["$[]"](1)["$=="](Q.$to_s())||this.$logger().$warn(this.$message_with_context("callout list item index: expected "+Q+", got "+oa["$[]"](1),h(["source_location"],{source_location:f.$cursor_at_mark()}))),e(Ma=this.$next_list_item(f,N,oa))&&(N.$items()["$<<"](Ma),e((Da=X.$callouts().$callout_ids(N.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+N.$items().$size()+">",h(["source_location"],
{source_location:f.$cursor_at_mark()}))):(K=["coids",Da],n(Ma.$attributes(),"[]=",a.to_a(K)),K[b(K.length,1)])),Q=p(Q,1),oa=c;X.$callouts().$next_list();break}else if(e(l(C,"UnorderedListRx")["$match?"](U))){f.$unshift_line(U);e(R)||e(e(u=l(C,"Section")["$==="](m))?m.$sectname()["$=="]("bibliography"):u)&&(R=(K=["style","bibliography"],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]));N=this.$next_list(f,"ulist",m,R);break}else if(e(oa=l(C,"OrderedListRx").$match(U))){f.$unshift_line(U);N=this.$next_list(f,
"olist",m);e(R)||(ua=N.$items()["$[]"](0).$marker(),K=e(ua["$start_with?"]("."))?["style",(e(u=l(C,"ORDERED_LIST_STYLES")["$[]"](b(ua.$length(),1)))?u:"arabic").$to_s()]:["style",(e(u=n(l(C,"ORDERED_LIST_STYLES"),"find",[],(D=function(a){null==a&&(a=c);return l(C,"OrderedListMarkerRxMap")["$[]"](a)["$match?"](ua)},D.$$s=this,D.$$arity=1,D)))?u:"arabic").$to_s()],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]);break}else if(e(oa=l(C,"DescriptionListRx").$match(U))){f.$unshift_line(U);N=this.$next_description_list(f,
oa,m);break}else if(e(e(u=e(x=R["$=="]("float"))?x:R["$=="]("discrete"))?e(l(C,"Compliance").$underline_style_section_titles())?this["$is_section_title?"](U,f.$peek_line()):e(x=ja["$!"]())?this["$atx_section_title?"](U):x:u)){f.$unshift_line(U);x=this.$parse_section_title(f,X,q["$[]"]("id"));u=a.to_ary(x);T=null==u[0]?c:u[0];ia=null==u[1]?c:u[1];Ga=null==u[2]?c:u[2];Pa=null==u[3]?c:u[3];x;e(ia)&&(K=["reftext",ia],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]);N=l(C,"Block").$new(m,"floating_title",h(["content_model"],
{content_model:"empty"}));K=[Ga];n(N,"title=",a.to_a(K));K[b(K.length,1)];q.$delete("title");K=[e(u=T)?u:e(ca["$key?"]("sectids"))?l(C,"Section").$generate_id(N.$title(),X):c];n(N,"id=",a.to_a(K));K[b(K.length,1)];K=[Pa];n(N,"level=",a.to_a(K));K[b(K.length,1)];break}else if(e(e(u=R)?R["$!="]("normal"):u))if(e(l(C,"PARAGRAPH_STYLES")["$include?"](R))){V=R.$to_sym();qa="paragraph";f.$unshift_line(U);break}else if(e(l(C,"ADMONITION_STYLES")["$include?"](R))){V="admonition";qa="paragraph";f.$unshift_line(U);
break}else if(e(e(u=ba)?ha["$registered_for_block?"](R,"paragraph"):u)){V=R.$to_sym();qa="paragraph";f.$unshift_line(U);break}else this.$logger().$warn(this.$message_with_context("invalid style for paragraph: "+R,h(["source_location"],{source_location:f.$cursor_at_mark()}))),R=c;f.$unshift_line(U);if(e(e(u=ja)?R["$!"]():u))aa=this.$read_paragraph_lines(f,e(u=Fa=l(C,"ListItem")["$==="](m))?F["$=="](0):u,h(["skip_line_comments"],{skip_line_comments:S})),this["$adjust_indentation!"](aa),N=l(C,"Block").$new(m,
"literal",h(["content_model","source","attributes"],{content_model:"verbatim",source:aa,attributes:q})),e(Fa)&&N.$set_option("listparagraph");else{aa=this.$read_paragraph_lines(f,(u=F["$=="](0))?l(C,"ListItem")["$==="](m):F["$=="](0),h(["skip_line_comments"],{skip_line_comments:!0}));if(e(S)){if(e(e(u=ja)?R["$=="]("normal"):u))this["$adjust_indentation!"](aa);N=l(C,"Block").$new(m,"paragraph",h(["content_model","source","attributes"],{content_model:"simple",source:aa,attributes:q}))}else if(e(e(u=
e(x=l(C,"ADMONITION_STYLE_HEADS")["$include?"](fa))?U["$include?"](":"):x)?l(C,"AdmonitionParagraphRx")["$=~"](U):u))K=[0,(u=E["~"])===c?c:u.$post_match()],n(aa,"[]=",a.to_a(K)),K[b(K.length,1)],K=["name",xa=(K=["style",(u=E["~"])===c?c:u["$[]"](1)],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]).$downcase()],n(q,"[]=",a.to_a(K)),K[b(K.length,1)],K=["textlabel",e(u=q.$delete("caption"))?u:ca["$[]"](""+xa+"-caption")],n(q,"[]=",a.to_a(K)),K[b(K.length,1)],N=l(C,"Block").$new(m,"admonition",h(["content_model",
"source","attributes"],{content_model:"simple",source:aa,attributes:q}));else if(e(e(u=e(x=J)?fa["$=="](">"):x)?U["$start_with?"]("> "):u)){n(aa,"map!",[],(B=function(a){null==a&&(a=c);return a["$=="](">")?a["$[]"](r(1,-1,!1)):e(a["$start_with?"]("> "))?a["$[]"](r(2,-1,!1)):a},B.$$s=this,B.$$arity=1,B));if(e(aa["$[]"](-1)["$start_with?"]("-- ")))for(pa=pa=aa.$pop()["$[]"](r(3,-1,!1));e(aa["$[]"](-1)["$empty?"]());)aa.$pop();K=["style","quote"];n(q,"[]=",a.to_a(K));K[b(K.length,1)];N=this.$build_block("quote",
"compound",!1,m,l(C,"Reader").$new(aa),q);e(pa)&&(x=N.$apply_subs(pa).$split(", ",2),u=a.to_ary(x),P=null==u[0]?c:u[0],Ia=null==u[1]?c:u[1],x,e(P)&&(K=["attribution",P],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]),e(Ia)&&(K=["citetitle",Ia],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]))}else if(e(e(u=e(x=(I=fa["$=="]('"'))?t(aa.$size(),1):fa["$=="]('"'))?aa["$[]"](-1)["$start_with?"]("-- "):x)?aa["$[]"](-2)["$end_with?"]('"'):u)){K=[0,U["$[]"](r(1,-1,!1))];n(aa,"[]=",a.to_a(K));K[b(K.length,1)];for(pa=(pa=aa.$pop()).$slice(3,
pa.$length());e(aa["$[]"](-1)["$empty?"]());)aa.$pop();K=[-1,aa["$[]"](-1).$chop()];n(aa,"[]=",a.to_a(K));K[b(K.length,1)];K=["style","quote"];n(q,"[]=",a.to_a(K));K[b(K.length,1)];N=l(C,"Block").$new(m,"quote",h(["content_model","source","attributes"],{content_model:"simple",source:aa,attributes:q}));x=N.$apply_subs(pa).$split(", ",2);u=a.to_ary(x);P=null==u[0]?c:u[0];Ia=null==u[1]?c:u[1];x;e(P)&&(K=["attribution",P],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]);e(Ia)&&(K=["citetitle",Ia],n(q,"[]=",a.to_a(K)),
K[b(K.length,1)])}else{if(e(e(u=ja)?R["$=="]("normal"):u))this["$adjust_indentation!"](aa);N=l(C,"Block").$new(m,"paragraph",h(["content_model","source","attributes"],{content_model:"simple",source:aa,attributes:q}))}this.$catalog_inline_anchors(g(aa,l(C,"LF")),N,X)}break}if(!e(N))if(e(e(H=V["$=="]("abstract"))?H:V["$=="]("partintro"))&&(V="open"),ea=V,"admonition"["$==="](ea))K=["name",xa=R.$downcase()],n(q,"[]=",a.to_a(K)),K[b(K.length,1)],K=["textlabel",e(H=q.$delete("caption"))?H:ca["$[]"](""+
xa+"-caption")],n(q,"[]=",a.to_a(K)),K[b(K.length,1)],N=this.$build_block(V,"compound",W,m,f,q);else{if("comment"["$==="](ea))return this.$build_block(V,"skip",W,m,f,q),q.$clear(),c;if("example"["$==="](ea))N=this.$build_block(V,"compound",W,m,f,q);else if("listing"["$==="](ea)||"literal"["$==="](ea))N=this.$build_block(V,"verbatim",W,m,f,q);else if("source"["$==="](ea))l(C,"AttributeList").$rekey(q,[c,"language","linenums"]),!e(q["$key?"]("language"))&&e(ca["$key?"]("source-language"))&&(K=["language",
e(H=ca["$[]"]("source-language"))?H:"text"],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]),!e(q["$key?"]("linenums"))&&e(e(H=q["$key?"]("linenums-option"))?H:ca["$key?"]("source-linenums-option"))&&(K=["linenums",""],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]),!e(q["$key?"]("indent"))&&e(ca["$key?"]("source-indent"))&&(K=["indent",ca["$[]"]("source-indent")],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]),N=this.$build_block("listing","verbatim",W,m,f,q);else if("fenced_code"["$==="](ea))K=["style","source"],n(q,"[]=",
a.to_a(K)),K[b(K.length,1)],(da=U.$length())["$=="](3)?Ja=c:e(Na=(Ja=U.$slice(3,da)).$index(","))?e(t(Na,0))?(Ja=Ja.$slice(0,Na).$strip(),e(k(Na,b(da,4)))&&(K=["linenums",""],n(q,"[]=",a.to_a(K)),K[b(K.length,1)])):(Ja=c,e(t(da,4))&&(K=["linenums",""],n(q,"[]=",a.to_a(K)),K[b(K.length,1)])):Ja=Ja.$lstrip(),e(Ja["$nil_or_empty?"]())?e(ca["$key?"]("source-language"))&&(K=["language",e(H=ca["$[]"]("source-language"))?H:"text"],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]):(K=["language",Ja],n(q,"[]=",a.to_a(K)),
K[b(K.length,1)]),!e(q["$key?"]("linenums"))&&e(e(H=q["$key?"]("linenums-option"))?H:ca["$key?"]("source-linenums-option"))&&(K=["linenums",""],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]),!e(q["$key?"]("indent"))&&e(ca["$key?"]("source-indent"))&&(K=["indent",ca["$[]"]("source-indent")],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]),W=W.$slice(0,3),N=this.$build_block("listing","verbatim",W,m,f,q);else if("pass"["$==="](ea))N=this.$build_block(V,"raw",W,m,f,q);else if("stem"["$==="](ea)||"latexmath"["$==="](ea)||
"asciimath"["$==="](ea))V["$=="]("stem")&&(K=["style",l(C,"STEM_TYPE_ALIASES")["$[]"](e(H=q["$[]"](2))?H:ca["$[]"]("stem"))],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]),N=this.$build_block("stem","raw",W,m,f,q);else if("open"["$==="](ea)||"sidebar"["$==="](ea))N=this.$build_block(V,"compound",W,m,f,q);else if("table"["$==="](ea))Ua=f.$cursor(),Oa=l(C,"Reader").$new(f.$read_lines_until(h(["terminator","skip_line_comments","context","cursor"],{terminator:W,skip_line_comments:!0,context:"table",cursor:"at_mark"})),
Ua),e(W["$start_with?"]("|","!"))||(e(H=q["$[]"]("format"))?H:(K=["format",e(W["$start_with?"](","))?"csv":"dsv"],n(q,"[]=",a.to_a(K)),K[b(K.length,1)])),N=this.$next_table(Oa,m,q);else if("quote"["$==="](ea)||"verse"["$==="](ea))l(C,"AttributeList").$rekey(q,[c,"attribution","citetitle"]),N=this.$build_block(V,V["$=="]("verse")?"verbatim":"compound",W,m,f,q);else if(e(e(H=ba)?sa=ha["$registered_for_block?"](V,qa):H)){if(e((wa=sa.$config()["$[]"]("content_model"))["$!="]("skip"))&&(e((Sa=e(H=sa.$config()["$[]"]("pos_attrs"))?
H:[])["$empty?"]()["$!"]())&&l(C,"AttributeList").$rekey(q,[c].$concat(Sa)),e(za=sa.$config()["$[]"]("default_attrs"))&&n(za,"each",[],(O=function(f,g){var h;null==f&&(f=c);null==g&&(g=c);return e(h=q["$[]"](f))?h:(K=[f,g],n(q,"[]=",a.to_a(K)),K[b(K.length,1)])},O.$$s=this,O.$$arity=2,O)),K=["cloaked-context",qa],n(q,"[]=",a.to_a(K)),K[b(K.length,1)]),N=this.$build_block(V,wa,W,m,f,q,h(["extension"],{extension:sa})),!e(N))return q.$clear(),c}else this.$raise("Unsupported block type "+V+" at "+f.$cursor())}e(X.$sourcemap())&&
(K=[f.$cursor_at_mark()],n(N,"source_location=",a.to_a(K)),K[b(K.length,1)]);e(q["$key?"]("title"))&&(K=[q.$delete("title")],n(N,"title=",a.to_a(K)),K[b(K.length,1)]);K=[q["$[]"]("style")];n(N,"style=",a.to_a(K));K[b(K.length,1)];e(Aa=e(H=N.$id())?H:(K=[q["$[]"]("id")],n(N,"id=",a.to_a(K)),K[b(K.length,1)]))&&!e(X.$register("refs",[Aa,N,e(H=q["$[]"]("reftext"))?H:e(N["$title?"]())?N.$title():c]))&&this.$logger().$warn(this.$message_with_context("id assigned to block already in use: "+Aa,h(["source_location"],
{source_location:f.$cursor_at_mark()})));e(q["$empty?"]())||N.$attributes().$update(q);N.$lock_in_subs();e(N["$sub?"]("callouts"))&&!e(this.$catalog_callouts(N.$source(),X))&&N.$remove_sub("callouts");return N}catch(Ra){if(Ra===a.returner)return Ra.$v;throw Ra;}},R.$$arity=-3);a.defs(m,"$read_paragraph_lines",ba=function(f,g,k){var m=c,m=c;null==k&&(k=h([],{}));m=["break_on_blank_lines",!0];n(k,"[]=",a.to_a(m));m[b(m.length,1)];m=["break_on_list_continuation",!0];n(k,"[]=",a.to_a(m));m[b(m.length,
1)];m=["preserve_last_line",!0];n(k,"[]=",a.to_a(m));m[b(m.length,1)];m=e(g)?e(l(C,"Compliance").$block_terminates_paragraph())?l(C,"StartOfBlockOrListProc"):l(C,"StartOfListProc"):e(l(C,"Compliance").$block_terminates_paragraph())?l(C,"StartOfBlockProc"):l(C,"NoOp");return n(f,"read_lines_until",[k],m.$to_proc())},ba.$$arity=-3);a.defs(m,"$is_delimited_block?",S=function(f,h){var n,m,q=m=c,p=c,H=c,A=c,H=p=c;null==h&&(h=!1);if(!e(e(n=t(m=f.$length(),1))?l(C,"DELIMITED_BLOCK_HEADS")["$include?"](f.$slice(0,
2)):n))return c;if(m["$=="](2))q=f,p=2;else{e("number"===typeof m?4>=m:m["$<="](4))?(q=f,p=m):(q=f.$slice(0,4),p=4);H=!1;if(e(l(C,"Compliance").$markdown_syntax())&&(A=p["$=="](4)?q.$chop():q,A["$=="]("```"))){if(e(p["$=="](4)?q["$end_with?"]("`"):p["$=="](4)))return c;q=A;p=3;H=!0}if(e((n=p["$=="](3))?H["$!"]():p["$=="](3)))return c}if(e(l(C,"DELIMITED_BLOCKS")["$key?"](q))){if(e(e(n=k(p,4))?n:p["$=="](m)))return e(h)?(m=l(C,"DELIMITED_BLOCKS")["$[]"](q),n=a.to_ary(m),p=null==n[0]?c:n[0],H=null==
n[1]?c:n[1],m,l(C,"BlockMatchData").$new(p,H,q,q)):!0;if((""+q+g(q["$[]"](r(-1,-1,!1)),b(m,p)))["$=="](f))return e(h)?(m=l(C,"DELIMITED_BLOCKS")["$[]"](q),n=a.to_ary(m),p=null==n[0]?c:n[0],H=null==n[1]?c:n[1],m,l(C,"BlockMatchData").$new(p,H,q,f)):!0}return c},S.$$arity=-2);a.defs(m,"$build_block",qa=function(f,g,k,m,q,p,w){var H,A,v=c,E=c,u=v=E=c;H=u=u=u=u=c;null==w&&(w=h([],{}));H=g["$=="]("skip")?[!0,"simple"]:g["$=="]("raw")?[!1,"simple"]:[!1,g];v=H[0];E=H[1];H;e(k["$nil?"]())?(E["$=="]("verbatim")?
E=q.$read_lines_until(h(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(g["$=="]("compound")&&(g="simple"),E=this.$read_paragraph_lines(q,!1,h(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:v}))),v=c):e(E["$!="]("compound"))?(E=q.$read_lines_until(h(["terminator","skip_processing","context","cursor"],{terminator:k,skip_processing:v,context:f,cursor:"at_mark"})),v=c):k["$=="](!1)?(E=c,v=q):(E=c,u=q.$cursor(),
v=l(C,"Reader").$new(q.$read_lines_until(h(["terminator","skip_processing","context","cursor"],{terminator:k,skip_processing:v,context:f,cursor:"at_mark"})),u));if(g["$=="]("verbatim"))if(e(u=p["$[]"]("indent")))this["$adjust_indentation!"](E,u,e(H=p["$[]"]("tabsize"))?H:m.$document().$attributes()["$[]"]("tabsize"));else{if(e(t(u=(e(H=p["$[]"]("tabsize"))?H:m.$document().$attributes()["$[]"]("tabsize")).$to_i(),0)))this["$adjust_indentation!"](E,c,u)}else if(g["$=="]("skip"))return c;if(e(u=w["$[]"]("extension")))if(p.$delete("style"),
e(u=u.$process_method()["$[]"](m,e(H=v)?H:l(C,"Reader").$new(E),p.$dup())))p.$replace(u.$attributes()),e((H=u.$content_model()["$=="]("compound"))?(E=u.$lines())["$nil_or_empty?"]()["$!"]():u.$content_model()["$=="]("compound"))&&(g="compound",v=l(C,"Reader").$new(E));else return c;else u=l(C,"Block").$new(m,f,h(["content_model","source","attributes"],{content_model:g,source:E,attributes:p}));e(e(H=e(A=p["$key?"]("title"))?u.$context()["$!="]("admonition"):A)?m.$document().$attributes()["$key?"](""+
u.$context()+"-caption"):H)&&(H=[p.$delete("title")],n(u,"title=",a.to_a(H)),H[b(H.length,1)],u.$assign_caption(p.$delete("caption")));g["$=="]("compound")&&this.$parse_blocks(v,u);return u},qa.$$arity=-7);a.defs(m,"$parse_blocks",J=function(a,b){for(var d,f,g=c;e(e(d=e(f=g=this.$next_block(a,b))?b.$blocks()["$<<"](g):f)?d:a["$has_more_lines?"]()););},J.$$arity=2);a.defs(m,"$next_list",U=function(f,g,h,m){var q,w,H=c,v=c,u=v=c,r=c,x=c,y=c;null==E["~"]&&(E["~"]=c);null==m&&(m=c);H=l(C,"List").$new(h,
g);v=[h.$context()["$=="](g)?p(h.$level(),1):1];n(H,"level=",a.to_a(v));for(v[b(v.length,1)];e(e(q=f["$has_more_lines?"]())?l(C,"ListRxMap")["$[]"](g)["$=~"](f.$peek_line()):q);){q=[E["~"],this.$resolve_list_marker(g,(w=E["~"])===c?c:w["$[]"](1))];v=q[0];u=q[1];q;if(e(e(q=H["$items?"]())?u["$!="](H.$items()["$[]"](0).$marker()):q))for(r=p(H.$level(),1),x=h;x.$context()["$=="](g);){if(u["$=="](x.$items()["$[]"](0).$marker())){r=x.$level();break}x=x.$parent()}else r=H.$level();if(e(e(q=H["$items?"]()["$!"]())?
q:r["$=="](H.$level())))y=this.$next_list_item(f,H,v,c,m);else if(e(k(r,H.$level())))break;else if(e(t(r,H.$level())))H.$items()["$[]"](-1)["$<<"](this.$next_block(f,H));if(e(y))H.$items()["$<<"](y);y=c;if(e(q=f.$skip_blank_lines()))q;else break}return H},U.$$arity=-4);a.defs(m,"$catalog_callouts",la=function(a,b){var d,f=c,f=!1;e(a["$include?"]("<"))&&n(a,"scan",[l(C,"CalloutScanRx")],(d=function(){var a,d,g=c,h=c;a=[(d=E["~"])===c?c:d["$[]"](0),(d=E["~"])===c?c:d["$[]"](2)];g=a[0];h=a[1];a;e(g["$start_with?"]("\\"))||
b.$callouts().$register(h);return f=!0},d.$$s=this,d.$$arity=0,d));return f},la.$$arity=2);a.defs(m,"$catalog_inline_anchor",ga=function(a,b,d,f,g){var k;null==g&&(g=c);g=e(k=g)?k:d.$document();e(e(k=b)?b["$include?"](l(C,"ATTR_REF_HEAD")):k)&&(b=g.$sub_attributes(b));e(g.$register("refs",[a,l(C,"Inline").$new(d,"anchor",b,h(["type","id"],{type:"ref",id:a})),b]))||(e(l(C,"Reader")["$==="](f))&&(f=f.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+
a,h(["source_location"],{source_location:f}))));return c},ga.$$arity=-5);a.defs(m,"$catalog_inline_anchors",ca=function(a,b,d){var f,g;e(e(f=a["$include?"]("[["))?f:a["$include?"]("or:"))&&n(a,"scan",[l(C,"InlineAnchorScanRx")],(g=function(){var a=g.$$s||this,f,k=c,n=c;if(e(k=(f=E["~"])===c?c:f["$[]"](1))){if(e(n=(f=E["~"])===c?c:f["$[]"](2))&&e(e(f=n["$include?"](l(C,"ATTR_REF_HEAD")))?(n=d.$sub_attributes(n))["$empty?"]():f))return c}else if(k=(f=E["~"])===c?c:f["$[]"](3),e(n=(f=E["~"])===c?c:f["$[]"](4))&&
(e(n["$include?"]("]"))&&(n=n.$gsub("\\]","]")),e(e(f=n["$include?"](l(C,"ATTR_REF_HEAD")))?(n=d.$sub_attributes(n))["$empty?"]():f)))return c;return e(d.$register("refs",[k,l(C,"Inline").$new(b,"anchor",n,h(["type","id"],{type:"ref",id:k})),n]))?c:a.$logger().$warn(a.$message_with_context("id assigned to anchor already in use: "+k,h(["source_location"],{source_location:d.$reader().$cursor_at_prev_line()})))},g.$$s=this,g.$$arity=0,g));return c},ca.$$arity=3);a.defs(m,"$catalog_inline_biblio_anchor",
L=function(a,b,d,f){var g=c;e(d.$document().$register("refs",[a,l(C,"Inline").$new(d,"anchor",g="["+(e(b)?b:a)+"]",h(["type","id"],{type:"bibref",id:a})),g]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+a,h(["source_location"],{source_location:f.$cursor()})));return c},L.$$arity=4);a.defs(m,"$next_description_list",ea=function(f,g,h){for(var k,m,q=c,p=c,w=c,t=c,H=c,t=c,q=l(C,"List").$new(h,"dlist"),p=c,w=l(C,"DescriptionListSiblingRx")["$[]"](g["$[]"](2));e(e(k=
g)?k:e(m=f["$has_more_lines?"]())?g=w.$match(f.$peek_line()):m);){m=this.$next_list_item(f,q,g,w);k=a.to_ary(m);t=null==k[0]?c:k[0];H=null==k[1]?c:k[1];m;if(e(e(k=p)?p["$[]"](1)["$!"]():k))p["$[]"](0)["$<<"](t),t=[1,H],n(p,"[]=",a.to_a(t)),t[b(t.length,1)];else q.$items()["$<<"](p=[[t],H]);g=c}return q},ea.$$arity=3);a.defs(m,"$next_list_item",ia=function(f,g,k,m,q){var p,w,t=c,H=c,v=c,A=c,u=c,z=c,r=A=c,x=c,y=u=r=u=r=t=r=c;null==m&&(m=c);null==q&&(q=c);(t=g.$context())["$=="]("dlist")?(H=!0,v=l(C,
"ListItem").$new(g,A=k["$[]"](1)),e(e(p=A["$start_with?"]("[["))?l(C,"LeadingInlineAnchorRx")["$=~"](A):p)&&this.$catalog_inline_anchor((p=E["~"])===c?c:p["$[]"](1),e(p=(w=E["~"])===c?c:w["$[]"](2))?p:((w=E["~"])===c?c:w.$post_match()).$lstrip(),v,f),e(u=k["$[]"](3))&&(z=!0),A=l(C,"ListItem").$new(g,u),e(g.$document().$sourcemap())&&(r=[f.$cursor()],n(v,"source_location=",a.to_a(r)),r[b(r.length,1)],e(z)?(r=[v.$source_location()],n(A,"source_location=",a.to_a(r)),r[b(r.length,1)]):x=!0)):(z=!0,A=
l(C,"ListItem").$new(g,u=k["$[]"](2)),e(g.$document().$sourcemap())&&(r=[f.$cursor()],n(A,"source_location=",a.to_a(r)),r[b(r.length,1)]),t["$=="]("ulist")?(r=[m=e(p=m)?p:k["$[]"](1)],n(A,"marker=",a.to_a(r)),r[b(r.length,1)],e(u["$start_with?"]("["))&&(e(e(p=q)?q["$=="]("bibliography"):p)?e(l(C,"InlineBiblioAnchorRx")["$=~"](u))&&this.$catalog_inline_biblio_anchor((p=E["~"])===c?c:p["$[]"](1),(p=E["~"])===c?c:p["$[]"](2),A,f):e(u["$start_with?"]("[["))?e(l(C,"LeadingInlineAnchorRx")["$=~"](u))&&
this.$catalog_inline_anchor((p=E["~"])===c?c:p["$[]"](1),(p=E["~"])===c?c:p["$[]"](2),A,f):e(u["$start_with?"]("[ ] ","[x] ","[*] "))&&(r=["checklist-option",""],n(g.$attributes(),"[]=",a.to_a(r)),r[b(r.length,1)],r=["checkbox",""],n(A.$attributes(),"[]=",a.to_a(r)),r[b(r.length,1)],e(u["$start_with?"]("[ "))||(r=["checked",""],n(A.$attributes(),"[]=",a.to_a(r)),r[b(r.length,1)]),r=[u.$slice(4,u.$length())],n(A,"text=",a.to_a(r)),r[b(r.length,1)]))):(r=t["$=="]("olist")?[m=e(p=m)?p:this.$resolve_ordered_list_marker(k["$[]"](1),
g.$items().$size(),!0,f)]:[m=e(p=m)?p:"<1>"],n(A,"marker=",a.to_a(r)),r[b(r.length,1)]));f.$shift();r=f.$cursor();t=l(C,"Reader").$new(this.$read_lines_for_list_item(f,t,m,z),r);if(e(t["$has_more_lines?"]())){e(x)&&(r=[r],n(A,"source_location=",a.to_a(r)),r[b(r.length,1)]);r=t.$skip_line_comments();e(u=t.$peek_line())?(e(r["$empty?"]())||t.$unshift_lines(r),e(r=u["$empty?"]())?u=!1:(u=!0,e(H)||(z=c))):u=r=!1;if(e(y=this.$next_block(t,A,h([],{}),h(["text"],{text:z["$!"]()}))))A.$blocks()["$<<"](y);
for(;e(t["$has_more_lines?"]());)if(e(y=this.$next_block(t,A)))A.$blocks()["$<<"](y);A.$fold_first(r,u)}return e(H)?e(e(p=A["$text?"]())?p:A["$blocks?"]())?[v,A]:[v]:A},ia.$$arity=-4);a.defs(m,"$read_lines_for_list_item",da=function(f,g,k,m){var p,q,w,t,H,A,v,u,r=c,z=c,x=c,y=c,G=c,D=c,D=w=w=c;null==k&&(k=c);null==m&&(m=!0);r=[];z="inactive";x=!1;for(y=c;e(f["$has_more_lines?"]());){G=f.$read_line();if(e(this["$is_sibling_list_item?"](G,g,k)))break;D=e(r["$empty?"]())?c:r["$[]"](-1);if(D["$=="](l(C,
"LIST_CONTINUATION"))&&(z["$=="]("inactive")&&(z="active",m=!0,e(x)||(w=[-1,""],n(r,"[]=",a.to_a(w)),w[b(w.length,1)])),G["$=="](l(C,"LIST_CONTINUATION")))){e(z["$!="]("frozen"))&&(z="frozen",r["$<<"](G));G=c;continue}if(e(w=this["$is_delimited_block?"](G,!0)))if(z["$=="]("active"))r["$<<"](G),r.$concat(f.$read_lines_until(h(["terminator","read_last_line","context"],{terminator:w.$terminator(),read_last_line:!0,context:c}))),z="inactive";else break;else if(e(e(q=(w=g["$=="]("dlist"))?z["$!="]("active"):
g["$=="]("dlist"))?l(C,"BlockAttributeLineRx")["$match?"](G):q))break;else if(e((q=z["$=="]("active"))?G["$empty?"]()["$!"]():z["$=="]("active")))if(e(l(C,"LiteralParagraphRx")["$match?"](G)))f.$unshift_line(G),r.$concat(n(f,"read_lines_until",[h(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(t=function(a){var b=t.$$s||this;null==a&&(a=c);return g["$=="]("dlist")?b["$is_sibling_list_item?"](a,
g,k):g["$=="]("dlist")},t.$$s=this,t.$$arity=1,t))),z="inactive";else if(e(e(q=e(w=l(C,"BlockTitleRx")["$match?"](G))?w:l(C,"BlockAttributeLineRx")["$match?"](G))?q:l(C,"AttributeEntryRx")["$match?"](G)))r["$<<"](G);else e(D=n(e(x)?["dlist"]:l(C,"NESTABLE_LIST_CONTEXTS"),"find",[],(H=function(a){null==a&&(a=c);return l(C,"ListRxMap")["$[]"](a)["$match?"](G)},H.$$s=this,H.$$arity=1,H)))&&(x=!0,e((q=D["$=="]("dlist"))?((w=E["~"])===c?c:w["$[]"](3))["$nil_or_empty?"]():D["$=="]("dlist"))&&(m=!1)),r["$<<"](G),
z="inactive";else if(e(e(q=D)?D["$empty?"]():q)){if(e(G["$empty?"]())){if(!e(G=e(q=f.$skip_blank_lines())?f.$read_line():q))break;if(e(this["$is_sibling_list_item?"](G,g,k)))break}if(G["$=="](l(C,"LIST_CONTINUATION")))y=r.$size(),r["$<<"](G);else if(e(m))if(e(this["$is_sibling_list_item?"](G,g,k)))break;else if(e(D=n(l(C,"NESTABLE_LIST_CONTEXTS"),"find",[],(A=function(a){null==a&&(a=c);return l(C,"ListRxMap")["$[]"](a)["$=~"](G)},A.$$s=this,A.$$arity=1,A))))r["$<<"](G),x=!0,e((q=D["$=="]("dlist"))?
((w=E["~"])===c?c:w["$[]"](3))["$nil_or_empty?"]():D["$=="]("dlist"))&&(m=!1);else if(e(l(C,"LiteralParagraphRx")["$match?"](G)))f.$unshift_line(G),r.$concat(n(f,"read_lines_until",[h(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(v=function(a){var b=v.$$s||this;null==a&&(a=c);return g["$=="]("dlist")?b["$is_sibling_list_item?"](a,g,k):g["$=="]("dlist")},v.$$s=this,v.$$arity=1,v)));else break;
else e(x)||r.$pop(),r["$<<"](G),m=!0}else e(G["$empty?"]()["$!"]())&&(m=!0),e(D=n(e(x)?["dlist"]:l(C,"NESTABLE_LIST_CONTEXTS"),"find",[],(u=function(a){null==a&&(a=c);return l(C,"ListRxMap")["$[]"](a)["$=~"](G)},u.$$s=this,u.$$arity=1,u)))&&(x=!0,e((q=D["$=="]("dlist"))?((w=E["~"])===c?c:w["$[]"](3))["$nil_or_empty?"]():D["$=="]("dlist"))&&(m=!1)),r["$<<"](G);G=c}e(G)&&f.$unshift_line(G);for(e(y)&&r.$delete_at(y);e(e(q=r["$empty?"]()["$!"]())?r["$[]"](-1)["$empty?"]():q);)r.$pop();e(e(p=r["$empty?"]()["$!"]())?
r["$[]"](-1)["$=="](l(C,"LIST_CONTINUATION")):p)&&r.$pop();return r},da.$$arity=-3);a.defs(m,"$initialize_section",na=function(f,g,k){var m,q,p=c,w=c,H=c,A=c,v=c,u=c,E=c,r=c,x=c,y=c,G=c,D=H=c,B=c,K=v=c;null==k&&(k=h([],{}));p=g.$document();w=(H=p.$doctype())["$=="]("book");e(p.$sourcemap())&&(A=f.$cursor());v=k["$[]"](1);q=this.$parse_section_title(f,p,k["$[]"]("id"));m=a.to_ary(q);u=null==m[0]?c:m[0];E=null==m[1]?c:m[1];r=null==m[2]?c:m[2];x=null==m[3]?c:m[3];y=null==m[4]?c:m[4];q;e(E)?(G=["reftext",
E],n(k,"[]=",a.to_a(G)),G[b(G.length,1)]):E=k["$[]"]("reftext");e(v)?e(e(m=w)?v["$=="]("abstract"):m)?(m=["chapter",1],H=m[0],x=m[1],m):(m=[v,!0],H=m[0],D=m[1],m,x["$=="](0)&&(x=1),B=v["$=="]("appendix")):e(w)?H=x["$=="](0)?"part":e(t(x,1))?"section":"chapter":e(H["$=="]("manpage")?r.$casecmp("synopsis")["$=="](0):H["$=="]("manpage"))?(m=["synopsis",!0],H=m[0],D=m[1],m):H="section";v=l(C,"Section").$new(g,x);m=[u,r,H,A];v["$id="](m[0]);v["$title="](m[1]);v["$sectname="](m[2]);v["$source_location="](m[3]);
m;e(D)?(G=[!0],n(v,"special=",a.to_a(G)),G[b(G.length,1)],e(B)?(G=[!0],n(v,"numbered=",a.to_a(G)),G[b(G.length,1)]):p.$attributes()["$[]"]("sectnums")["$=="]("all")&&(G=[e(e(m=w)?x["$=="](1):m)?"chapter":!0],n(v,"numbered=",a.to_a(G)),G[b(G.length,1)])):e(e(m=p.$attributes()["$[]"]("sectnums"))?t(x,0):m)?(G=[e(v.$special())?e(m=g.$numbered())?!0:m:!0],n(v,"numbered=",a.to_a(G)),G[b(G.length,1)]):e(e(m=e(q=w)?x["$=="](0):q)?p.$attributes()["$[]"]("partnums"):m)&&(G=[!0],n(v,"numbered=",a.to_a(G)),
G[b(G.length,1)]);e(K=e(m=v.$id())?m:(G=[e(p.$attributes()["$key?"]("sectids"))?l(C,"Section").$generate_id(v.$title(),p):c],n(v,"id=",a.to_a(G)),G[b(G.length,1)]))&&!e(p.$register("refs",[K,v,e(m=E)?m:v.$title()]))&&this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+K,h(["source_location"],{source_location:f.$cursor_at_line(b(f.$lineno(),e(y)?1:2))})));v.$update_attributes(k);f.$skip_blank_lines();return v},na.$$arity=-3);a.defs(m,"$is_next_line_section?",ra=
function(a,b){var d,f,g=c,h=c;return e(e(d=g=b["$[]"](1))?e(f=g["$=="]("discrete"))?f:g["$=="]("float"):d)?c:e(l(C,"Compliance").$underline_style_section_titles())?(h=a.$peek_lines(2,e(d=g)?g["$=="]("comment"):d),this["$is_section_title?"](e(d=h["$[]"](0))?d:"",h["$[]"](1))):this["$atx_section_title?"](e(d=a.$peek_line())?d:"")},ra.$$arity=2);a.defs(m,"$is_next_line_doctitle?",K=function(a,b,d){var f,g=c;return e(d)?e(f=g=this["$is_next_line_section?"](a,b))?p(g,d.$to_i())["$=="](0):f:this["$is_next_line_section?"](a,
b)["$=="](0)},K.$$arity=3);a.defs(m,"$is_section_title?",sa=function(a,b){var d;null==b&&(b=c);return e(d=this["$atx_section_title?"](a))?d:e(b["$nil_or_empty?"]())?c:this["$setext_section_title?"](a,b)},sa.$$arity=-2);a.defs(m,"$atx_section_title?",Ga=function(a){var f;return e(e(l(C,"Compliance").$markdown_syntax())?e(f=a["$start_with?"]("=","#"))?l(C,"ExtAtxSectionTitleRx")["$=~"](a):f:e(f=a["$start_with?"]("="))?l(C,"AtxSectionTitleRx")["$=~"](a):f)?b(((f=E["~"])===c?c:f["$[]"](1)).$length(),
1):c},Ga.$$arity=1);a.defs(m,"$setext_section_title?",ua=function(a,f){var h,n,m,p=c,q=c,t=c;return e(e(h=e(n=e(m=p=l(C,"SETEXT_SECTION_LEVELS")["$[]"](q=f.$chr()))?g(q,t=f.$length())["$=="](f):m)?l(C,"SetextSectionTitleRx")["$match?"](a):n)?k(b(this.$line_length(a),t).$abs(),2):h)?p:c},ua.$$arity=2);a.defs(m,"$parse_section_title",oa=function(a,f,h){var n,m,q,t,H,v=c,u=c,r=c,z=c,x=c,y=c,G=c,D=c;null==h&&(h=c);v=c;u=a.$read_line();e(e(l(C,"Compliance").$markdown_syntax())?e(n=u["$start_with?"]("=",
"#"))?l(C,"ExtAtxSectionTitleRx")["$=~"](u):n:e(n=u["$start_with?"]("="))?l(C,"AtxSectionTitleRx")["$=~"](u):n)?(n=[b(((m=E["~"])===c?c:m["$[]"](1)).$length(),1),(m=E["~"])===c?c:m["$[]"](2),!0],r=n[0],z=n[1],x=n[2],n,!e(h)&&e(e(n=e(m=z["$end_with?"]("]]"))?l(C,"InlineSectionAnchorRx")["$=~"](z):m)?((m=E["~"])===c?c:m["$[]"](1))["$!"]():n)&&(n=[z.$slice(0,b(z.$length(),((m=E["~"])===c?c:m["$[]"](0)).$length())),(m=E["~"])===c?c:m["$[]"](2),(m=E["~"])===c?c:m["$[]"](3)],z=n[0],h=n[1],v=n[2],n)):e(e(n=
e(m=e(q=e(t=e(H=l(C,"Compliance").$underline_style_section_titles())?y=a.$peek_line(!0):H)?r=l(C,"SETEXT_SECTION_LEVELS")["$[]"](G=y.$chr()):t)?g(G,D=y.$length())["$=="](y):q)?z=e(q=l(C,"SetextSectionTitleRx")["$=~"](u))?(t=E["~"])===c?c:t["$[]"](1):q:m)?k(b(this.$line_length(u),D).$abs(),2):n)?(x=!1,!e(h)&&e(e(n=e(m=z["$end_with?"]("]]"))?l(C,"InlineSectionAnchorRx")["$=~"](z):m)?((m=E["~"])===c?c:m["$[]"](1))["$!"]():n)&&(n=[z.$slice(0,b(z.$length(),((m=E["~"])===c?c:m["$[]"](0)).$length())),(m=
E["~"])===c?c:m["$[]"](2),(m=E["~"])===c?c:m["$[]"](3)],z=n[0],h=n[1],v=n[2],n),a.$shift()):this.$raise("Unrecognized section at "+a.$cursor_at_prev_line());e(f["$attr?"]("leveloffset"))&&(r=p(r,f.$attr("leveloffset").$to_i()));return[h,v,z,r,x]},oa.$$arity=-3);e(l(C,"FORCE_UNICODE_LINE_LENGTH"))?a.defs(m,"$line_length",aa=function(a){return a.$scan(l(C,"UnicodeCharScanRx")).$size()},aa.$$arity=1):a.defs(m,"$line_length",pa=function(a){return a.$length()},pa.$$arity=1);a.defs(m,"$parse_header_metadata",
Q=function(k,m){var q,t,H,v,u=c,E=c,z=c,x=c,y=c,G=c,D=c,B=c,K=G=c,O=c,G=D=y=z=E=c;null==m&&(m=c);this.$process_attribute_entries(k,m);q=[h([],{}),c,c];u=q[0];E=q[1];z=q[2];q;e(e(q=k["$has_more_lines?"]())?k["$next_line_empty?"]()["$!"]():q)?(e((x=this.$process_authors(k.$read_line()))["$empty?"]())||(e(m)&&(n(x,"each",[],(t=function(g,h){var l=c;null==g&&(g=c);null==h&&(h=c);if(e(m.$attributes()["$key?"](g)))return c;l=[g,e(f("::","String")["$==="](h))?m.$apply_header_subs(h):h];n(m.$attributes(),
"[]=",a.to_a(l));return l[b(l.length,1)]},t.$$s=this,t.$$arity=2,t)),E=m.$attributes()["$[]"]("author"),z=m.$attributes()["$[]"]("authors")),u=x),this.$process_attribute_entries(k,m),y=h([],{}),e(e(q=k["$has_more_lines?"]())?k["$next_line_empty?"]()["$!"]():q)&&(G=k.$read_line(),e(D=l(C,"RevisionInfoLineRx").$match(G))?(e(D["$[]"](1))&&(B=["revnumber",D["$[]"](1).$rstrip()],n(y,"[]=",a.to_a(B)),B[b(B.length,1)]),e((G=D["$[]"](2).$strip())["$empty?"]())||(B=e(e(q=D["$[]"](1)["$!"]())?G["$start_with?"]("v"):
q)?["revnumber",G["$[]"](r(1,-1,!1))]:["revdate",G],n(y,"[]=",a.to_a(B)),B[b(B.length,1)]),e(D["$[]"](3))&&(B=["revremark",D["$[]"](3).$rstrip()],n(y,"[]=",a.to_a(B)),B[b(B.length,1)])):k.$unshift_line(G)),e(y["$empty?"]())||(e(m)&&n(y,"each",[],(H=function(f,g){null==f&&(f=c);null==g&&(g=c);if(e(m.$attributes()["$key?"](f)))return c;B=[f,m.$apply_header_subs(g)];n(m.$attributes(),"[]=",a.to_a(B));return B[b(B.length,1)]},H.$$s=this,H.$$arity=2,H)),u.$update(y)),this.$process_attribute_entries(k,
m),k.$skip_blank_lines()):x=h([],{});if(e(m)){if(e(e(q=m.$attributes()["$key?"]("author"))?(K=m.$attributes()["$[]"]("author"))["$!="](E):q))x=this.$process_authors(K,!0,!1);else if(e(e(q=m.$attributes()["$key?"]("authors"))?(K=m.$attributes()["$[]"]("authors"))["$!="](z):q))x=this.$process_authors(K,!0);else{q=[[],1,"author_1",!1,!1];O=q[0];E=q[1];z=q[2];y=q[3];D=q[4];for(q;e(m.$attributes()["$key?"](z));)(G=m.$attributes()["$[]"](z))["$=="](x["$[]"](z))?(O["$<<"](c),D=!0):(O["$<<"](G),y=!0),z="author_"+
(E=p(E,1));e(y)?(e(D)&&n(O,"each_with_index",[],(v=function(f,h){var l=v.$$s||this,k,m=c;null==f&&(f=c);null==h&&(h=c);if(e(f))return c;B=[h,g(n([x["$[]"]("firstname_"+(m=p(h,1))),x["$[]"]("middlename_"+m),x["$[]"]("lastname_"+m)].$compact(),"map",[],(k=function(a){null==a&&(a=c);return a.$tr(" ","_")},k.$$s=l,k.$$arity=1,k))," ")];n(O,"[]=",a.to_a(B));return B[b(B.length,1)]},v.$$s=this,v.$$arity=2,v)),x=this.$process_authors(O,!0,!1)):x=h([],{})}e(x["$empty?"]())?e(q=u["$[]"]("authorcount"))?q:
(B=["authorcount",(B=["authorcount",0],n(m.$attributes(),"[]=",a.to_a(B)),B[b(B.length,1)])],n(u,"[]=",a.to_a(B)),B[b(B.length,1)]):(m.$attributes().$update(x),e(e(q=m.$attributes()["$key?"]("email")["$!"]())?m.$attributes()["$key?"]("email_1"):q)&&(B=["email",m.$attributes()["$[]"]("email_1")],n(m.$attributes(),"[]=",a.to_a(B)),B[b(B.length,1)]))}return u},Q.$$arity=-2);a.defs(m,"$process_authors",P=function(f,g,k){var m,q,w=this,t=c,H=c,v=c,u=c,u=c;null==g&&(g=!1);null==k&&(k=!0);t=h([],{});H=0;
v="author authorinitials firstname middlename lastname email".split(" ");u=function(){return e(k)?n(f.$split(";"),"map",[],(m=function(a){null==a&&(a=c);return a.$strip()},m.$$s=w,m.$$arity=1,m)):w.$Array(f)}();n(u,"each",[],(q=function(f){var k=q.$$s||this,m,w,u,E,r=c,z=c,x=c,y=c,G=c,D=c,B=c,Y=c;null==f&&(f=c);if(e(f["$empty?"]()))return c;H=p(H,1);r=h([],{});H["$=="](1)?n(v,"each",[],(m=function(e){var f=c;null==e&&(e=c);f=[e.$to_sym(),e];n(r,"[]=",a.to_a(f));return f[b(f.length,1)]},m.$$s=k,m.$$arity=
1,m)):n(v,"each",[],(w=function(e){var f=c;null==e&&(e=c);f=[e.$to_sym(),""+e+"_"+H];n(r,"[]=",a.to_a(f));return f[b(f.length,1)]},w.$$s=k,w.$$arity=1,w));if(e(g)){if(e(f["$include?"]("<"))&&(z=[r["$[]"]("author"),f.$tr("_"," ")],n(t,"[]=",a.to_a(z)),z[b(z.length,1)],f=f.$gsub(l(C,"XmlSanitizeRx"),"")),(x=f.$split(c,3)).$size()["$=="](3))x["$<<"](x.$pop().$squeeze(" "))}else e(y=l(C,"AuthorInfoLineRx").$match(f))&&(x=y.$to_a()).$shift();e(x)?(G=(z=[r["$[]"]("firstname"),D=x["$[]"](0).$tr("_"," ")],
n(t,"[]=",a.to_a(z)),z[b(z.length,1)]),z=[r["$[]"]("authorinitials"),D.$chr()],n(t,"[]=",a.to_a(z)),z[b(z.length,1)],e(x["$[]"](1))&&(e(x["$[]"](2))?(z=[r["$[]"]("middlename"),B=x["$[]"](1).$tr("_"," ")],n(t,"[]=",a.to_a(z)),z[b(z.length,1)],z=[r["$[]"]("lastname"),Y=x["$[]"](2).$tr("_"," ")],n(t,"[]=",a.to_a(z)),z[b(z.length,1)],G=p(p(p(p(D," "),B)," "),Y),z=[r["$[]"]("authorinitials"),""+D.$chr()+B.$chr()+Y.$chr()]):(z=[r["$[]"]("lastname"),Y=x["$[]"](1).$tr("_"," ")],n(t,"[]=",a.to_a(z)),z[b(z.length,
1)],G=p(p(D," "),Y),z=[r["$[]"]("authorinitials"),""+D.$chr()+Y.$chr()]),n(t,"[]=",a.to_a(z)),z[b(z.length,1)]),e(u=t["$[]"](r["$[]"]("author")))?u:(z=[r["$[]"]("author"),G],n(t,"[]=",a.to_a(z)),z[b(z.length,1)]),e(e(u=g)?u:x["$[]"](3)["$!"]())||(z=[r["$[]"]("email"),x["$[]"](3)],n(t,"[]=",a.to_a(z)),z[b(z.length,1)])):(z=[r["$[]"]("author"),(z=[r["$[]"]("firstname"),D=f.$squeeze(" ").$strip()],n(t,"[]=",a.to_a(z)),z[b(z.length,1)])],n(t,"[]=",a.to_a(z)),z[b(z.length,1)],z=[r["$[]"]("authorinitials"),
D.$chr()],n(t,"[]=",a.to_a(z)),z[b(z.length,1)]);H["$=="](1)?z=["authors",t["$[]"](r["$[]"]("author"))]:(H["$=="](2)&&n(v,"each",[],(E=function(f){null==f&&(f=c);return e(t["$key?"](f))?(z=[""+f+"_1",t["$[]"](f)],n(t,"[]=",a.to_a(z)),z[b(z.length,1)]):c},E.$$s=k,E.$$arity=1,E)),z=["authors",""+t["$[]"]("authors")+", "+t["$[]"](r["$[]"]("author"))]);n(t,"[]=",a.to_a(z));return z[b(z.length,1)]},q.$$s=w,q.$$arity=1,q));u=["authorcount",H];n(t,"[]=",a.to_a(u));u[b(u.length,1)];return t},P.$$arity=-2);
a.defs(m,"$parse_block_metadata_lines",xa=function(a,b,c,d){var f;null==c&&(c=h([],{}));for(null==d&&(d=h([],{}));e(this.$parse_block_metadata_line(a,b,c,d));)if(a.$shift(),e(f=a.$skip_blank_lines()))f;else break;return c},xa.$$arity=-3);a.defs(m,"$parse_block_metadata_line",Aa=function(f,k,m,q){var p,t,H=c,v=c,A=c,A=A=A=c;null==E["~"]&&(E["~"]=c);null==q&&(q=h([],{}));if(e(e(p=H=f.$peek_line())?e(q["$[]"]("text"))?H["$start_with?"]("[","/"):v=H["$start_with?"]("[",".","/",":"):p))if(e(H["$start_with?"]("[")))if(e(H["$start_with?"]("[["))){if(e(e(p=
H["$end_with?"]("]]"))?l(C,"BlockAnchorRx")["$=~"](H):p))return A=["id",(p=E["~"])===c?c:p["$[]"](1)],n(m,"[]=",a.to_a(A)),A[b(A.length,1)],e(A=(p=E["~"])===c?c:p["$[]"](2))&&(A=["reftext",e(A["$include?"](l(C,"ATTR_REF_HEAD")))?k.$sub_attributes(A):A],n(m,"[]=",a.to_a(A)),A[b(A.length,1)]),!0}else{if(e(e(p=H["$end_with?"]("]"))?l(C,"BlockAttributeListRx")["$=~"](H):p))return A=m["$[]"](1),e(k.$parse_attributes((p=E["~"])===c?c:p["$[]"](1),[],h(["sub_input","into"],{sub_input:!0,into:m}))["$[]"](1))&&
(A=[1,e(p=this.$parse_style_attribute(m,f))?p:A],n(m,"[]=",a.to_a(A)),A[b(A.length,1)]),!0}else if(e(e(p=v)?H["$start_with?"]("."):p)){if(e(l(C,"BlockTitleRx")["$=~"](H)))return A=["title",(p=E["~"])===c?c:p["$[]"](1)],n(m,"[]=",a.to_a(A)),A[b(A.length,1)],!0}else if(e(e(p=v["$!"]())?p:H["$start_with?"]("/"))){if(e(H["$start_with?"]("//"))){if(H["$=="]("//"))return!0;if(e(e(p=v)?g("/",A=H.$length())["$=="](H):p)){if(A["$=="](3))return c;f.$read_lines_until(h(["terminator","skip_first_line","preserve_last_line",
"skip_processing","context"],{terminator:H,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"}));return!0}return e(H["$start_with?"]("///"))?c:!0}}else if(e(e(p=e(t=v)?H["$start_with?"](":"):t)?l(C,"AttributeEntryRx")["$=~"](H):p))return this.$process_attribute_entry(f,k,m,E["~"]),!0;return c},Aa.$$arity=-4);a.defs(m,"$process_attribute_entries",Ea=function(a,b,d){null==d&&(d=c);for(a.$skip_comment_lines();e(this.$process_attribute_entry(a,b,d));)a.$shift(),a.$skip_comment_lines()},
Ea.$$arity=-3);a.defs(m,"$process_attribute_entry",wa=function(a,f,g,h){var k,m,n=c,q=c,p=c,w=c;null==g&&(g=c);null==h&&(h=c);if(e(h=e(k=h)?k:e(a["$has_more_lines?"]())?l(C,"AttributeEntryRx").$match(a.$peek_line()):c)){if(e((n=h["$[]"](2))["$nil_or_empty?"]()))n="";else if(e(n["$end_with?"](l(C,"LINE_CONTINUATION"),l(C,"LINE_CONTINUATION_LEGACY"))))for(k=[n.$slice(-2,2),n.$slice(0,b(n.$length(),2)).$rstrip()],q=k[0],n=k[1],k;e(e(m=a.$advance())?(p=a.$peek_line().$lstrip())["$empty?"]()["$!"]():m)&&
(e(w=p["$end_with?"](q))&&(p=p.$slice(0,b(p.$length(),2)).$rstrip()),n=""+n+(e(n["$end_with?"](l(C,"HARD_LINE_BREAK")))?l(C,"LF"):" ")+p,e(w)););this.$store_attribute(h["$[]"](1),n,f,g);return!0}return c},wa.$$arity=-3);a.defs(m,"$store_attribute",za=function(a,g,h,k){var m,n=c;null==h&&(h=c);null==k&&(k=c);e(a["$end_with?"]("!"))?(m=[a.$chop(),c],a=m[0],g=m[1],m):e(a["$start_with?"]("!"))&&(m=[a.$slice(1,a.$length()),c],a=m[0],g=m[1],m);a=this.$sanitize_attribute_name(a);a["$=="]("numbered")&&(a=
"sectnums");e(h)?e(g)?(a["$=="]("leveloffset")&&(e(g["$start_with?"]("+"))?g=p(h.$attr("leveloffset",0).$to_i(),(e(m=g["$[]"](r(1,-1,!1)))?m:0).$to_i()).$to_s():e(g["$start_with?"]("-"))&&(g=b(h.$attr("leveloffset",0).$to_i(),(e(m=g["$[]"](r(1,-1,!1)))?m:0).$to_i()).$to_s())),e(n=h.$set_attribute(a,g))&&(g=n,e(k)&&f(l(C,"Document"),"AttributeEntry").$new(a,g).$save_to(k))):e(e(m=h.$delete_attribute(a))?k:m)&&f(l(C,"Document"),"AttributeEntry").$new(a,g).$save_to(k):e(k)&&f(l(C,"Document"),"AttributeEntry").$new(a,
g).$save_to(k);return[a,g]},za.$$arity=-3);a.defs(m,"$resolve_list_marker",Ia=function(a,b,d,e,f){null==d&&(d=0);null==e&&(e=!1);null==f&&(f=c);return a["$=="]("ulist")?b:a["$=="]("olist")?this.$resolve_ordered_list_marker(b,d,e,f):"<1>"},Ia.$$arity=-3);a.defs(m,"$resolve_ordered_list_marker",Oa=function(a,b,d,f){var g,k,m=c,q=c,w=c;null==b&&(b=0);null==d&&(d=!1);null==f&&(f=c);if(e(a["$start_with?"](".")))return a;m=q=c;w=n(l(C,"ORDERED_LIST_STYLES"),"find",[],(g=function(b){null==b&&(b=c);return l(C,
"OrderedListMarkerRxMap")["$[]"](b)["$match?"](a)},g.$$s=this,g.$$arity=1,g));"arabic"["$==="](w)?(e(d)&&(m=p(b,1),q=a.$to_i()),a="1."):"loweralpha"["$==="](w)?(e(d)&&(m=p("a"["$[]"](0).$ord(),b).$chr(),q=a.$chop()),a="a."):"upperalpha"["$==="](w)?(e(d)&&(m=p("A"["$[]"](0).$ord(),b).$chr(),q=a.$chop()),a="A."):"lowerroman"["$==="](w)?(e(d)&&(m=l(C,"Helpers").$int_to_roman(p(b,1)).$downcase(),q=a.$chop()),a="i)"):"upperroman"["$==="](w)&&(e(d)&&(m=l(C,"Helpers").$int_to_roman(p(b,1)),q=a.$chop()),
a="I)");e(e(k=d)?m["$!="](q):k)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+m+", got "+q,h(["source_location"],{source_location:f.$cursor()})));return a},Oa.$$arity=-2);a.defs(m,"$is_sibling_list_item?",Ma=function(a,b,d){var g,h=c,k=c;e(f("::","Regexp")["$==="](d))?h=d:(h=l(C,"ListRxMap")["$[]"](b),k=d);return e(h["$=~"](a))?e(k)?k["$=="](this.$resolve_list_marker(b,(g=E["~"])===c?c:g["$[]"](1))):!0:!1},Ma.$$arity=3);a.defs(m,"$next_table",Pa=function(g,h,k){var m,
q,w,H=c,v=c,u=c,E=c,r=c,x=c,y=c,G=c,D=c,B=c,K=c,O=r=c,F=c,S=r=O=c,X=S=c,H=l(C,"Table").$new(h,k);e(k["$key?"]("title"))&&(v=[k.$delete("title")],n(H,"title=",a.to_a(v)),v[b(v.length,1)],H.$assign_caption(k.$delete("caption")));e(e(m=k["$key?"]("cols"))?(u=this.$parse_colspecs(k["$[]"]("cols")))["$empty?"]()["$!"]():m)&&(H.$create_columns(u),E=!0);r=e(m=g.$skip_blank_lines())?m:0;x=f(l(C,"Table"),"ParserContext").$new(g,H,k);m=[x.$format(),-1,c];y=m[0];G=m[1];D=m[2];m;e(e(m=e(q=t(r,0))?q:k["$key?"]("header-option"))?
m:k["$key?"]("noheader-option"))||(B=!0);for(m=!1;m||e(K=g.$read_line());){m=!1;e(e(q=r=t(G=p(G,1),0))?K["$empty?"]():q)?(K=c,e(D)&&(D=p(D,1))):y["$=="]("psv")&&(e(x["$starts_with_delimiter?"](K))?(K=K.$slice(1,K.$length()),x.$close_open_cell(),e(D)&&(D=c)):(w=this.$parse_cellspec(K,"start",x.$delimiter()),q=a.to_ary(w),O=null==q[0]?c:q[0],K=null==q[1]?c:q[1],w,e(O)?(x.$close_open_cell(O),e(D)&&(D=c)):e(e(q=D)?D["$=="](G):q)&&(q=[!1,c],B=q[0],D=q[1],q)));e(r)||(g.$mark(),e(B)&&(e(e(q=g["$has_more_lines?"]())?
g.$peek_line()["$empty?"]():q)?D=1:B=!1));for(q=!1;q||e(!0);)if(q=!1,e(e(w=K)?F=x.$match_delimiter(K):w)){w=[F.$pre_match(),F.$post_match()];O=w[0];r=w[1];w;S=y;if("csv"["$==="](S)){if(e(x["$buffer_has_unclosed_quotes?"](O))){x.$skip_past_delimiter(O);if(e((K=r)["$empty?"]()))break;q=!0;continue}v=[""+x.$buffer()+O]}else if("dsv"["$==="](S)){if(e(O["$end_with?"]("\\"))){x.$skip_past_escaped_delimiter(O);if(e((K=r)["$empty?"]())){v=[""+x.$buffer()+l(C,"LF")];n(x,"buffer=",a.to_a(v));v[b(v.length,1)];
x.$keep_cell_open();break}q=!0;continue}v=[""+x.$buffer()+O]}else{if(e(O["$end_with?"]("\\"))){x.$skip_past_escaped_delimiter(O);if(e((K=r)["$empty?"]())){v=[""+x.$buffer()+l(C,"LF")];n(x,"buffer=",a.to_a(v));v[b(v.length,1)];x.$keep_cell_open();break}q=!0;continue}h=this.$parse_cellspec(O);w=a.to_ary(h);O=null==w[0]?c:w[0];S=null==w[1]?c:w[1];h;x.$push_cellspec(O);v=[""+x.$buffer()+S]}n(x,"buffer=",a.to_a(v));v[b(v.length,1)];e((K=r)["$empty?"]())&&(K=c);x.$close_cell()}else{v=[""+x.$buffer()+K+
l(C,"LF")];n(x,"buffer=",a.to_a(v));v[b(v.length,1)];S=y;"csv"["$==="](S)?e(x["$buffer_has_unclosed_quotes?"]())?(e(e(w=D)?G["$=="](0):w)&&(w=[!1,c],B=w[0],D=w[1],w),x.$keep_cell_open()):x.$close_cell(!0):"dsv"["$==="](S)?x.$close_cell(!0):x.$keep_cell_open();break}if(e(x["$cell_open?"]()))e(g["$has_more_lines?"]())||x.$close_cell(!0);else if(e(q=g.$skip_blank_lines()))q;else break}e(e(m=(X=H.$attributes(),e(q=X["$[]"]("colcount"))?q:(v=["colcount",H.$columns().$size()],n(X,"[]=",a.to_a(v)),v[b(v.length,
1)]))["$=="](0))?m:E)||H.$assign_column_widths();e(B)&&(v=[!0],n(H,"has_header_option=",a.to_a(v)),v[b(v.length,1)],v=["header-option",""],n(k,"[]=",a.to_a(v)),v[b(v.length,1)],v=["options",e(k["$key?"]("options"))?""+k["$[]"]("options")+",header":"header"],n(k,"[]=",a.to_a(v)),v[b(v.length,1)]);H.$partition_header_footer(k);return H},Pa.$$arity=3);a.defs(m,"$parse_colspecs",Na=function(g){var k,m,q=c;e(g["$include?"](" "))&&(g=g.$delete(" "));if(g["$=="](g.$to_i().$to_s()))return n(f("::","Array"),
"new",[g.$to_i()],(k=function(){return h(["width"],{width:1})},k.$$s=this,k.$$arity=0,k));q=[];n(g.$split(",",-1),"each",[],(m=function(f){var g=m.$$s||this,k,p,w=c,t=c,H=c,v=c,A=H=c;null==f&&(f=c);return e(f["$empty?"]())?q["$<<"](h(["width"],{width:1})):e(w=l(C,"ColumnSpecRx").$match(f))?(t=h([],{}),e(w["$[]"](2))&&(f=w["$[]"](2).$split("."),k=a.to_ary(f),H=null==k[0]?c:k[0],v=null==k[1]?c:k[1],f,e(e(k=H["$nil_or_empty?"]()["$!"]())?l(C,"TableCellHorzAlignments")["$key?"](H):k)&&(H=["halign",l(C,
"TableCellHorzAlignments")["$[]"](H)],n(t,"[]=",a.to_a(H)),H[b(H.length,1)]),e(e(k=v["$nil_or_empty?"]()["$!"]())?l(C,"TableCellVertAlignments")["$key?"](v):k)&&(H=["valign",l(C,"TableCellVertAlignments")["$[]"](v)],n(t,"[]=",a.to_a(H)),H[b(H.length,1)])),H=e(A=w["$[]"](3))?["width",A["$=="]("~")?-1:A.$to_i()]:["width",1],n(t,"[]=",a.to_a(H)),H[b(H.length,1)],e(e(k=w["$[]"](4))?l(C,"TableCellStyles")["$key?"](w["$[]"](4)):k)&&(H=["style",l(C,"TableCellStyles")["$[]"](w["$[]"](4))],n(t,"[]=",a.to_a(H)),
H[b(H.length,1)]),e(w["$[]"](1))?n(1,"upto",[w["$[]"](1).$to_i()],(p=function(){return q["$<<"](t.$dup())},p.$$s=g,p.$$arity=0,p)):q["$<<"](t)):c},m.$$s=this,m.$$arity=1,m));return q},Na.$$arity=1);a.defs(m,"$parse_cellspec",Sa=function(f,g,k){var m,q=c,p=c,w=q=c,t=c,H=c,t=c;null==g&&(g="end");null==k&&(k=c);m=[c,""];m;if(g["$=="]("start"))if(e(f["$include?"](k)))if(g=f.$split(k,2),m=a.to_ary(g),q=null==m[0]?c:m[0],p=null==m[1]?c:m[1],g,e(q=l(C,"CellSpecStartRx").$match(q))){if(e(q["$[]"](0)["$empty?"]()))return[h([],
{}),p]}else return[c,f];else return[c,f];else if(e(q=l(C,"CellSpecEndRx").$match(f))){if(e(q["$[]"](0).$lstrip()["$empty?"]()))return[h([],{}),f.$rstrip()];p=q.$pre_match()}else return[h([],{}),f];w=h([],{});e(q["$[]"](1))&&(g=q["$[]"](1).$split("."),m=a.to_ary(g),t=null==m[0]?c:m[0],H=null==m[1]?c:m[1],g,t=e(t["$nil_or_empty?"]())?1:t.$to_i(),H=e(H["$nil_or_empty?"]())?1:H.$to_i(),q["$[]"](2)["$=="]("+")?(t["$=="](1)||(t=["colspan",t],n(w,"[]=",a.to_a(t)),t[b(t.length,1)]),H["$=="](1)||(t=["rowspan",
H],n(w,"[]=",a.to_a(t)),t[b(t.length,1)])):q["$[]"](2)["$=="]("*")&&!t["$=="](1)&&(t=["repeatcol",t],n(w,"[]=",a.to_a(t)),t[b(t.length,1)]));e(q["$[]"](3))&&(g=q["$[]"](3).$split("."),m=a.to_ary(g),t=null==m[0]?c:m[0],H=null==m[1]?c:m[1],g,e(e(m=t["$nil_or_empty?"]()["$!"]())?l(C,"TableCellHorzAlignments")["$key?"](t):m)&&(t=["halign",l(C,"TableCellHorzAlignments")["$[]"](t)],n(w,"[]=",a.to_a(t)),t[b(t.length,1)]),e(e(m=H["$nil_or_empty?"]()["$!"]())?l(C,"TableCellVertAlignments")["$key?"](H):m)&&
(t=["valign",l(C,"TableCellVertAlignments")["$[]"](H)],n(w,"[]=",a.to_a(t)),t[b(t.length,1)]));e(e(m=q["$[]"](4))?l(C,"TableCellStyles")["$key?"](q["$[]"](4)):m)&&(t=["style",l(C,"TableCellStyles")["$[]"](q["$[]"](4))],n(w,"[]=",a.to_a(t)),t[b(t.length,1)]);return[w,p]},Sa.$$arity=-2);a.defs(m,"$parse_style_attribute",Ta=function(f,g){var k,m,q,p,w,t=c,H=c,v=c,A=c,z=c,u=c,r=c,E=c,x=c,y=c;null==g&&(g=c);if(e(e(k=e(m=t=f["$[]"](1))?t["$include?"](" ")["$!"]():m)?l(C,"Compliance").$shorthand_property_syntax():
k)){k=["style",[],h([],{})];H=k[0];v=k[1];A=k[2];k;z=n(this,"lambda",[],(q=function(){var f=q.$$s||this,l,k=c,m=c;if(e(v["$empty?"]()))return H["$=="]("style")?c:e(g)?f.$logger().$warn(f.$message_with_context("invalid empty "+H+" detected in style attribute",h(["source_location"],{source_location:g.$cursor_at_prev_line()}))):f.$logger().$warn("invalid empty "+H+" detected in style attribute");k=H;if("role"["$==="](k)||"option"["$==="](k))(e(l=A["$[]"](H))?l:(m=[H,[]],n(A,"[]=",a.to_a(m)),m[b(m.length,
1)]))["$<<"](v.$join());else"id"["$==="](k)&&e(A["$key?"]("id"))&&(e(g)?f.$logger().$warn(f.$message_with_context("multiple ids detected in style attribute",h(["source_location"],{source_location:g.$cursor_at_prev_line()}))):f.$logger().$warn("multiple ids detected in style attribute")),m=[H,v.$join()],n(A,"[]=",a.to_a(m)),m[b(m.length,1)];return v=[]},q.$$s=this,q.$$arity=0,q));n(t,"each_char",[],(p=function(a){var b,d,f=c;null==a&&(a=c);return e(e(b=e(d=a["$=="]("."))?d:a["$=="]("#"))?b:a["$=="]("%"))?
(z.$call(),f=a,"."["$==="](f)?H="role":"#"["$==="](f)?H="id":"%"["$==="](f)?H="option":c):v["$<<"](a)},p.$$s=this,p.$$arity=1,p));if(H["$=="]("style"))return u=["style",t],n(f,"[]=",a.to_a(u)),u[b(u.length,1)];z.$call();e(A["$key?"]("style"))&&(r=(u=["style",A["$[]"]("style")],n(f,"[]=",a.to_a(u)),u[b(u.length,1)]));e(A["$key?"]("id"))&&(u=["id",A["$[]"]("id")],n(f,"[]=",a.to_a(u)),u[b(u.length,1)]);e(A["$key?"]("role"))&&(u=["role",e((E=f["$[]"]("role"))["$nil_or_empty?"]())?A["$[]"]("role").$join(" "):
""+E+" "+A["$[]"]("role").$join(" ")],n(f,"[]=",a.to_a(u)),u[b(u.length,1)]);e(A["$key?"]("option"))&&(n(x=A["$[]"]("option"),"each",[],(w=function(e){null==e&&(e=c);u=[""+e+"-option",""];n(f,"[]=",a.to_a(u));return u[b(u.length,1)]},w.$$s=this,w.$$arity=1,w)),u=["options",e((y=f["$[]"]("options"))["$nil_or_empty?"]())?x.$join(","):""+y+","+x.$join(",")],n(f,"[]=",a.to_a(u)),u[b(u.length,1)]);return r}u=["style",t];n(f,"[]=",a.to_a(u));return u[b(u.length,1)]},Ta.$$arity=-2);a.defs(m,"$adjust_indentation!",
Ua=function(f,h,k){var m,q,H,v,u,r,x=this,y=c,G=c,D=c;null==h&&(h=0);null==k&&(k=0);if(e(f["$empty?"]()))return c;e(e(m=t(k=k.$to_i(),0))?f.$join()["$include?"](l(C,"TAB")):m)&&(y=g(" ",k),n(f,"map!",[],(q=function(a){var f=q.$$s||this,h,m,t=c;null==a&&(a=c);if(e(a["$empty?"]()))return a;e(a["$start_with?"](l(C,"TAB")))&&(a=n(a,"sub",[l(C,"TabIndentRx")],(h=function(){var a;return g(y,((a=E["~"])===c?c:a["$[]"](0)).$length())},h.$$s=f,h.$$arity=0,h)));return e(a["$include?"](l(C,"TAB")))?(t=0,a=n(a,
"gsub",[l(C,"TabRx")],(m=function(){var a=c,e=c;null==E["~"]&&(E["~"]=c);if((a=p(E["~"].$begin(0),t))["$%"](k)["$=="](0))return t=p(t,b(k,1)),y;(e=b(k,a["$%"](k)))["$=="](1)||(t=p(t,b(e,1)));return g(" ",e)},m.$$s=f,m.$$arity=0,m))):a},q.$$s=x,q.$$arity=1,q)));if(!e(e(m=h)?t(h=h.$to_i(),-1):m))return c;G=c;(function(){var g=a.new_brk();try{return n(f,"each",[],(H=function(f){var h,l=c;null==f&&(f=c);if(e(f["$empty?"]()))return c;if((l=b(f.$length(),f.$lstrip().$length()))["$=="](0))G=c,a.brk(c,g);
else return e(e(h=G)?t(l,G):h)?c:G=l},H.$$s=x,H.$$brk=g,H.$$arity=1,H))}catch(h){if(h===g)return h.$v;throw h;}})();h["$=="](0)?e(G)&&n(f,"map!",[],(v=function(b){null==b&&(b=c);return e(b["$empty?"]())?b:b["$[]"](a.Range.$new(G,-1,!1))},v.$$s=x,v.$$arity=1,v)):(D=g(" ",h),e(G)?n(f,"map!",[],(u=function(b){null==b&&(b=c);return e(b["$empty?"]())?b:p(D,b["$[]"](a.Range.$new(G,-1,!1)))},u.$$s=x,u.$$arity=1,u)):n(f,"map!",[],(r=function(a){null==a&&(a=c);return e(a["$empty?"]())?a:p(D,a)},r.$$s=x,r.$$arity=
1,r)));return c},Ua.$$arity=-2);return(a.defs(m,"$sanitize_attribute_name",H=function(a){return a.$gsub(l(C,"InvalidAttributeNameCharsRx"),"").$downcase()},H.$$arity=1),c)&&"sanitize_attribute_name"})(y[0],null,y)}(m[0],m)};Opal.modules["asciidoctor/path_resolver"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var q=[],p=a.nil,k=a.const_get_qualified,m=a.const_get_relative,c=a.module,
f=a.klass,l=a.truthy,t=a.hash2,v=a.send;a.add_stubs("$include $attr_accessor $root? $posixify $expand_path $pwd $start_with? $== $match? $absolute_path? $+ $length $descends_from? $slice $include? $tr $partition_path $each $pop $<< $join_path $[] $web_root? $unc? $index $split $delete $[]= $- $* $raise $! $fetch $warn $logger $empty? $nil_or_empty? $chomp $!= $> $size $end_with? $uri_prefix $gsub".split(" "));return function(n,e){function h(){}var q=[h=c(n,"Asciidoctor",h)].concat(e);(function(c,
$super,e){function h(){}c=h=f(c,$super,"PathResolver",h);var n=c.prototype,q=[c].concat(e),A,u,r,E,x,y,B,F,V,J,N,W,R;n.file_separator=n._partition_path_web=n._partition_path_sys=n.working_dir=p;c.$include(m(q,"Logging"));a.const_set(q[0],"DOT",".");a.const_set(q[0],"DOT_DOT","..");a.const_set(q[0],"DOT_SLASH","./");a.const_set(q[0],"SLASH","/");a.const_set(q[0],"BACKSLASH","\\");a.const_set(q[0],"DOUBLE_SLASH","//");a.const_set(q[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);c.$attr_accessor("file_separator");
c.$attr_accessor("working_dir");a.def(c,"$initialize",A=function(a,b){var c,d;null==a&&(a=p);null==b&&(b=p);this.file_separator=l(c=l(d=a)?d:k(k("::","File"),"ALT_SEPARATOR"))?c:k(k("::","File"),"SEPARATOR");this.working_dir=l(b)?l(this["$root?"](b))?this.$posixify(b):k("::","File").$expand_path(b):k("::","Dir").$pwd();this._partition_path_sys=t([],{});return this._partition_path_web=t([],{})},A.$$arity=-1);a.def(c,"$absolute_path?",u=function(a){var b;return l(b=a["$start_with?"](m(q,"SLASH")))?
b:this.file_separator["$=="](m(q,"BACKSLASH"))?m(q,"WindowsRootRx")["$match?"](a):this.file_separator["$=="](m(q,"BACKSLASH"))},u.$$arity=1);l(m(q,"RUBY_ENGINE")["$=="]("opal")?k("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):m(q,"RUBY_ENGINE")["$=="]("opal"))?a.def(c,"$root?",r=function(a){var b;return l(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://")},r.$$arity=1):a.alias(c,"root?","absolute_path?");a.def(c,"$unc?",E=function(a){return a["$start_with?"](m(q,
"DOUBLE_SLASH"))},E.$$arity=1);a.def(c,"$web_root?",x=function(a){return a["$start_with?"](m(q,"SLASH"))},x.$$arity=1);a.def(c,"$descends_from?",y=function(a,c){var e;return c["$=="](a)?0:c["$=="](m(q,"SLASH"))?l(e=a["$start_with?"](m(q,"SLASH")))?1:e:l(e=a["$start_with?"](b(c,m(q,"SLASH"))))?b(c.$length(),1):e},y.$$arity=2);a.def(c,"$relative_path",B=function(a,b){var c,d=p;return l(l(c=this["$root?"](a))?d=this["$descends_from?"](a,b):c)?a.$slice(d,a.$length()):a},B.$$arity=2);a.def(c,"$posixify",
F=function(a){return l(a)?l(this.file_separator["$=="](m(q,"BACKSLASH"))?a["$include?"](m(q,"BACKSLASH")):this.file_separator["$=="](m(q,"BACKSLASH")))?a.$tr(m(q,"BACKSLASH"),m(q,"SLASH")):a:""},F.$$arity=1);a.alias(c,"posixfy","posixify");a.def(c,"$expand_path",V=function(b){var c,d,e,f=p,g=c=p;d=this.$partition_path(b);c=a.to_ary(d);f=null==c[0]?p:c[0];c=null==c[1]?p:c[1];d;return l(b["$include?"](m(q,"DOT_DOT")))?(g=[],v(f,"each",[],(e=function(a){null==a&&(a=p);return a["$=="](m(q,"DOT_DOT"))?
g.$pop():g["$<<"](a)},e.$$s=this,e.$$arity=1,e)),this.$join_path(g,c)):this.$join_path(f,c)},V.$$arity=1);a.def(c,"$partition_path",J=function(c,e){var f=p,g=p,h=f=p,f=f=p;null==e&&(e=p);if(l(f=(g=l(e)?this._partition_path_web:this._partition_path_sys)["$[]"](c)))return f;f=this.$posixify(c);l(e)?l(this["$web_root?"](f))?h=m(q,"SLASH"):l(f["$start_with?"](m(q,"DOT_SLASH")))&&(h=m(q,"DOT_SLASH")):l(this["$root?"](f))?h=l(this["$unc?"](f))?m(q,"DOUBLE_SLASH"):l(f["$start_with?"](m(q,"SLASH")))?m(q,
"SLASH"):f.$slice(0,b(f.$index(m(q,"SLASH")),1)):l(f["$start_with?"](m(q,"DOT_SLASH")))&&(h=m(q,"DOT_SLASH"));f=(l(h)?f.$slice(h.$length(),f.$length()):f).$split(m(q,"SLASH"));f.$delete(m(q,"DOT"));f=[c,[f,h]];v(g,"[]=",a.to_a(f));g=f;h=f.length;h="number"===typeof h?h-1:h["$-"](1);return g[h]},J.$$arity=-2);a.def(c,"$join_path",N=function(a,b){null==b&&(b=p);return l(b)?""+b+g(a,m(q,"SLASH")):g(a,m(q,"SLASH"))},N.$$arity=-2);a.def(c,"$system_path",W=function(c,e,f,g){var h,n,w,A,u=p,r=p,E=p,x=p,
C=u=p,y=p,G=p,D=C=p;null==e&&(e=p);null==f&&(f=p);null==g&&(g=t([],{}));l(f)&&(l(this["$root?"](f))||this.$raise(k("::","SecurityError"),"Jail is not an absolute path: "+f),f=this.$posixify(f));if(l(c)){if(l(this["$root?"](c))){u=this.$expand_path(c);if(l(l(h=f)?this["$descends_from?"](u,f)["$!"]():h)){if(l(g.$fetch("recover",!0)))return this.$logger().$warn(""+(l(h=g["$[]"]("target_name"))?h:"path")+" is outside of jail; recovering automatically"),n=this.$partition_path(u),h=a.to_ary(n),r=null==
h[0]?p:h[0],n,n=this.$partition_path(f),h=a.to_ary(n),E=null==h[0]?p:h[0],x=null==h[1]?p:h[1],n,this.$join_path(b(E,r),x);this.$raise(k("::","SecurityError"),""+(l(h=g["$[]"]("target_name"))?h:"path")+" "+c+" is outside of jail: "+f+" (disallowed in safe mode)")}return u}n=this.$partition_path(c);h=a.to_ary(n);r=null==h[0]?p:h[0];n}else r=[];if(l(r["$empty?"]())){if(l(e["$nil_or_empty?"]()))return l(h=f)?h:this.working_dir;if(l(this["$root?"](e)))if(l(f))e=this.$posixify(e);else return this.$expand_path(e);
else n=this.$partition_path(e),h=a.to_ary(n),r=null==h[0]?p:h[0],n,e=l(h=f)?h:this.working_dir}else l(e["$nil_or_empty?"]())?e=l(h=f)?h:this.working_dir:l(this["$root?"](e))?l(f)&&(e=this.$posixify(e)):e=""+(l(h=f)?h:this.working_dir).$chomp("/")+"/"+e;l(l(h=l(n=f)?u=this["$descends_from?"](e,f)["$!"]():n)?this.file_separator["$=="](m(q,"BACKSLASH")):h)?(n=this.$partition_path(e),h=a.to_ary(n),C=null==h[0]?p:h[0],y=null==h[1]?p:h[1],n,n=this.$partition_path(f),h=a.to_ary(n),E=null==h[0]?p:h[0],x=
null==h[1]?p:h[1],n,l(y["$!="](x))&&(l(g.$fetch("recover",!0))?(this.$logger().$warn("start path for "+(l(h=g["$[]"]("target_name"))?h:"path")+" is outside of jail root; recovering automatically"),C=E,u=!1):this.$raise(k("::","SecurityError"),"start path for "+(l(h=g["$[]"]("target_name"))?h:"path")+" "+e+" refers to location outside jail root: "+f+" (disallowed in safe mode)"))):(n=this.$partition_path(e),h=a.to_ary(n),C=null==h[0]?p:h[0],x=null==h[1]?p:h[1],n);l((G=b(C,r))["$include?"](m(q,"DOT_DOT")))&&
(h=[G,[]],C=h[0],G=h[1],h,l(f)?(l(E)||(n=this.$partition_path(f),h=a.to_ary(n),E=null==h[0]?p:h[0],n),D=!1,v(C,"each",[],(w=function(a){var b=w.$$s||this,d;null==a&&(a=p);if(a["$=="](m(q,"DOT_DOT"))){a=G.$size();var e=E.$size();a="number"===typeof a&&"number"===typeof e?a>e:a["$>"](e);if(l(a))return G.$pop();if(l(g.$fetch("recover",!0))){if(l(D))return p;b.$logger().$warn(""+(l(d=g["$[]"]("target_name"))?d:"path")+" has illegal reference to ancestor of jail; recovering automatically");return D=!0}return b.$raise(k("::",
"SecurityError"),""+(l(d=g["$[]"]("target_name"))?d:"path")+" "+c+" refers to location outside jail: "+f+" (disallowed in safe mode)")}return G["$<<"](a)},w.$$s=this,w.$$arity=1,w))):v(C,"each",[],(A=function(a){null==a&&(a=p);return a["$=="](m(q,"DOT_DOT"))?G.$pop():G["$<<"](a)},A.$$s=this,A.$$arity=1,A)));return l(u)?(u=this.$join_path(G,x),l(this["$descends_from?"](u,f))?u:l(g.$fetch("recover",!0))?(this.$logger().$warn(""+(l(h=g["$[]"]("target_name"))?h:"path")+" is outside of jail; recovering automatically"),
l(E)||(n=this.$partition_path(f),h=a.to_ary(n),E=null==h[0]?p:h[0],n),this.$join_path(b(E,r),x)):this.$raise(k("::","SecurityError"),""+(l(h=g["$[]"]("target_name"))?h:"path")+" "+c+" is outside of jail: "+f+" (disallowed in safe mode)")):this.$join_path(G,x)},W.$$arity=-2);return(a.def(c,"$web_path",R=function(b,c){var d,e,f,g=p,h=p,k=p,n=p,w=p;null==c&&(c=p);b=this.$posixify(b);c=this.$posixify(c);g=p;l(l(d=c["$nil_or_empty?"]())?d:this["$web_root?"](b))||(b=l(c["$end_with?"](m(q,"SLASH")))?""+
c+b:""+c+m(q,"SLASH")+b,l(g=m(q,"Helpers").$uri_prefix(b))&&(b=b["$[]"](a.Range.$new(g.$length(),-1,!1))));e=this.$partition_path(b,!0);d=a.to_ary(e);h=null==d[0]?p:d[0];k=null==d[1]?p:d[1];e;n=[];v(h,"each",[],(f=function(a){var b;null==a&&(a=p);return a["$=="](m(q,"DOT_DOT"))?l(n["$empty?"]())?l(l(b=k)?k["$!="](m(q,"DOT_SLASH")):b)?p:n["$<<"](a):n["$[]"](-1)["$=="](m(q,"DOT_DOT"))?n["$<<"](a):n.$pop():n["$<<"](a)},f.$$s=this,f.$$arity=1,f));l((w=this.$join_path(n,k))["$include?"](" "))&&(w=w.$gsub(" ",
"%20"));return l(g)?""+g+w:w},R.$$arity=-2),p)&&"web_path"})(q[0],null,q)}(q[0],q)};Opal.modules["asciidoctor/reader"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?
a<b:a["$<"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var c=[],f=a.nil,l=a.const_get_qualified,t=a.const_get_relative,v=a.module,n=a.klass,e=a.hash2,h=a.truthy,u=a.range,r=a.send,x=a.gvars,y=a.hash;a.add_stubs("$include $attr_reader $+ $attr_accessor $! $=== $split $file $dir $dirname $path $basename $lineno $prepare_lines $dup $[] $normalize_lines_from_string $normalize_lines_array $empty? $nil_or_empty? $peek_line $> $process_line $times $shift $read_line $<< $- $unshift_all $has_more_lines? $* $read_lines $unshift $start_with? $length $== $read_lines_until $size $clear $cursor $[]= $!= $fetch $cursor_at_mark $warn $logger $message_with_context $new $to_i $attributes $< $catalog $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $pop_include $downcase $error $none? $key? $any? $all? $strip $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $resolve_include_path $each $map $/ $to_a $uniq $sort $slice $open $each_line $infinite? $push_include $delete $value? $force_encoding $create_include_cursor $rindex $delete_at $nil? $keys $join $binread $read $uriish? $attr? $require_library $normalize_system_path $file? $relative_path $path_resolver $base_dir $to_s $path= $extname $rootname $<= $to_f $extensions? $extensions $include_processors $class $object_id $inspect".split(" "));
return function(c,B){function F(){}var J=[F=v(c,"Asciidoctor",F)].concat(B);(function(c,$super,k){function m(){}c=m=n(c,$super,"Reader",m);var v=c.prototype,x=[c].concat(k),y,G,B,F,W,R,J,S,L,fa,U,la,ga,ca,ta,ea,ia,da,na,ra,K,sa,T,ua,oa,aa,P,Q,pa,xa,Aa,Ea,wa;v.file=v.lines=v.process_lines=v.look_ahead=v.unescape_next_line=v.lineno=v.dir=v.path=v.mark=v.source_lines=f;c.$include(t(x,"Logging"));(function(c,$super,e){function g(){}c=g=n(c,$super,"Cursor",g);var h=c.prototype;[c].concat(e);var l,k,m;
h.lineno=h.path=f;c.$attr_reader("file","dir","path","lineno");a.def(c,"$initialize",l=function(a,b,c,d){var e;null==b&&(b=f);null==c&&(c=f);null==d&&(d=1);return e=[a,b,c,d],this.file=e[0],this.dir=e[1],this.path=e[2],this.lineno=e[3],e},l.$$arity=-2);a.def(c,"$advance",k=function(a){return this.lineno=b(this.lineno,a)},k.$$arity=1);a.def(c,"$line_info",m=function(){return""+this.path+": line "+this.lineno},m.$$arity=0);return a.alias(c,"to_s","line_info")})(x[0],null,x);c.$attr_reader("file");c.$attr_reader("dir");
c.$attr_reader("path");c.$attr_reader("lineno");c.$attr_reader("source_lines");c.$attr_accessor("process_lines");c.$attr_accessor("unterminated");a.def(c,"$initialize",y=function(b,c,d){var g;null==b&&(b=f);null==c&&(c=f);null==d&&(d=e([],{}));h(c["$!"]())?(this.file=f,this.dir=".",this.path="<stdin>",this.lineno=1):h(l("::","String")["$==="](c))?(this.file=c,c=l("::","File").$split(this.file),g=a.to_ary(c),this.dir=null==g[0]?f:g[0],this.path=null==g[1]?f:g[1],c,this.lineno=1):(h(this.file=c.$file())?
(this.dir=h(g=c.$dir())?g:l("::","File").$dirname(this.file),this.path=h(g=c.$path())?g:l("::","File").$basename(this.file)):(this.dir=h(g=c.$dir())?g:".",this.path=h(g=c.$path())?g:"<stdin>"),this.lineno=h(g=c.$lineno())?g:1);this.lines=h(b)?this.$prepare_lines(b,d):[];this.source_lines=this.lines.$dup();this.mark=f;this.look_ahead=0;this.process_lines=!0;this.unescape_next_line=!1;return this.unterminated=f},y.$$arity=-1);a.def(c,"$prepare_lines",G=function(a,b){null==b&&(b=e([],{}));return h(l("::",
"String")["$==="](a))?h(b["$[]"]("normalize"))?t(x,"Helpers").$normalize_lines_from_string(a):a.$split(t(x,"LF"),-1):h(b["$[]"]("normalize"))?t(x,"Helpers").$normalize_lines_array(a):a.$dup()},G.$$arity=-2);a.def(c,"$process_line",B=function(a){h(this.process_lines)&&(this.look_ahead=b(this.look_ahead,1));return a},B.$$arity=1);a.def(c,"$has_more_lines?",F=function(){return h(this.lines["$empty?"]())?(this.look_ahead=0,!1):!0},F.$$arity=0);a.def(c,"$empty?",W=function(){return h(this.lines["$empty?"]())?
(this.look_ahead=0,!0):!1},W.$$arity=0);a.alias(c,"eof?","empty?");a.def(c,"$next_line_empty?",R=function(){return this.$peek_line()["$nil_or_empty?"]()},R.$$arity=0);a.def(c,"$peek_line",J=function(a){var b,c=f;null==a&&(a=!1);return h(h(b=a)?b:g(this.look_ahead,0))?h(this.unescape_next_line)?this.lines["$[]"](0)["$[]"](u(1,-1,!1)):this.lines["$[]"](0):h(this.lines["$empty?"]())?(this.look_ahead=0,f):h(c=this.$process_line(this.lines["$[]"](0)))?c:this.$peek_line()},J.$$arity=-1);a.def(c,"$peek_lines",
S=function(b,c){var d,e,g=this,l=f,k=f;null==b&&(b=f);null==c&&(c=!1);l=g.look_ahead;k=[];(function(){var l=a.new_brk();try{return r(h(d=b)?d:t(x,"MAX_INT"),"times",[],(e=function(){var b=e.$$s||this,d=f;null==b.lineno&&(b.lineno=f);if(h(d=h(c)?b.$shift():b.$read_line()))return k["$<<"](d);h(c)&&(b.lineno=q(b.lineno,1));a.brk(f,l)},e.$$s=g,e.$$brk=l,e.$$arity=0,e))}catch(m){if(m===l)return m.$v;throw m;}})();h(k["$empty?"]())||(g.$unshift_all(k),h(c)&&(g.look_ahead=l));return k},S.$$arity=-1);a.def(c,
"$read_line",L=function(){var a;return h(h(a=g(this.look_ahead,0))?a:this["$has_more_lines?"]())?this.$shift():f},L.$$arity=0);a.def(c,"$read_lines",fa=function(){for(var a=f,a=[];h(this["$has_more_lines?"]());)a["$<<"](this.$shift());return a},fa.$$arity=0);a.alias(c,"readlines","read_lines");a.def(c,"$read",U=function(){return p(this.$read_lines(),t(x,"LF"))},U.$$arity=0);a.def(c,"$advance",la=function(){return h(this.$shift())?!0:!1},la.$$arity=0);a.def(c,"$unshift_line",ga=function(a){this.$unshift(a);
return f},ga.$$arity=1);a.alias(c,"restore_line","unshift_line");a.def(c,"$unshift_lines",ca=function(a){this.$unshift_all(a);return f},ca.$$arity=1);a.alias(c,"restore_lines","unshift_lines");a.def(c,"$replace_next_line",ta=function(a){this.$shift();this.$unshift(a);return!0},ta.$$arity=1);a.alias(c,"replace_line","replace_next_line");a.def(c,"$skip_blank_lines",ea=function(){var a=f,c=f;if(h(this["$empty?"]()))return f;for(a=0;h(c=this.$peek_line());)if(h(c["$empty?"]()))this.$shift(),a=b(a,1);
else return a},ea.$$arity=0);a.def(c,"$skip_comment_lines",ia=function(){var a,b=f,c=f;if(h(this["$empty?"]()))return f;for(;h(h(a=b=this.$peek_line())?b["$empty?"]()["$!"]():a);)if(h(b["$start_with?"]("//")))if(h(b["$start_with?"]("///")))if(h(h(a=g(c=b.$length(),3))?b["$=="](p("/",c)):a))this.$read_lines_until(e(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:b,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else this.$shift();
else break;return f},ia.$$arity=0);a.def(c,"$skip_line_comments",da=function(){var a,b=f,c=f;if(h(this["$empty?"]()))return[];for(b=[];h(h(a=c=this.$peek_line())?c["$empty?"]()["$!"]():a);)if(h(c["$start_with?"]("//")))b["$<<"](this.$shift());else break;return b},da.$$arity=0);a.def(c,"$terminate",na=function(){this.lineno=b(this.lineno,this.lines.$size());this.lines.$clear();this.look_ahead=0;return f},na.$$arity=0);a.def(c,"$read_lines_until",ra=function(b){var c,d,g,l,k=ra.$$p,m=k||f,n=f,p=f,w=
f,v=f,u=f,E=f,z=f,C=f,y=f,G=f,D=f,B=f,K=f;k&&(ra.$$p=null);null==b&&(b=e([],{}));n=[];h(h(c=this.process_lines)?b["$[]"]("skip_processing"):c)&&(this.process_lines=!1,p=!0);h(w=b["$[]"]("terminator"))?(v=h(c=b["$[]"]("cursor"))?c:this.$cursor(),E=u=!1):(u=b["$[]"]("break_on_blank_lines"),E=b["$[]"]("break_on_list_continuation"));z=b["$[]"]("skip_line_comments");C=y=G=f;for(h(b["$[]"]("skip_first_line"))&&this.$shift();h(h(d=C["$!"]())?D=this.$read_line():d);)C=function(){for(;h(!0);)return h(h(g=
w)?D["$=="](w):g)||h(h(g=u)?D["$empty?"]():g)?!0:h(h(g=h(l=E)?y:l)?D["$=="](t(x,"LIST_CONTINUATION")):g)?(B=["preserve_last_line",!0],r(b,"[]=",a.to_a(B)),B[q(B.length,1)],!0):h((g=m!==f)?a.yield1(m,D):m!==f)?!0:!1;return f}(),h(C)?(h(b["$[]"]("read_last_line"))&&(n["$<<"](D),y=!0),h(b["$[]"]("preserve_last_line"))&&(this.$unshift(D),G=!0)):h(h(d=h(g=z)?D["$start_with?"]("//"):g)?D["$start_with?"]("///")["$!"]():d)||(n["$<<"](D),y=!0);h(p)&&(this.process_lines=!0,h(h(c=G)?w["$!"]():c)&&(this.look_ahead=
q(this.look_ahead,1)));h(h(c=h(d=w)?w["$!="](D):d)?K=b.$fetch("context",w):c)&&(v["$=="]("at_mark")&&(v=this.$cursor_at_mark()),this.$logger().$warn(this.$message_with_context("unterminated "+K+" block",e(["source_location"],{source_location:v}))),this.unterminated=!0);return n},ra.$$arity=-1);a.def(c,"$shift",K=function(){this.lineno=b(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=q(this.look_ahead,1));return this.lines.$shift()},K.$$arity=0);a.def(c,"$unshift",sa=function(a){this.lineno=
q(this.lineno,1);this.look_ahead=b(this.look_ahead,1);return this.lines.$unshift(a)},sa.$$arity=1);a.def(c,"$unshift_all",T=function(c){this.lineno=q(this.lineno,c.$size());this.look_ahead=b(this.look_ahead,c.$size());return r(this.lines,"unshift",a.to_a(c))},T.$$arity=1);a.def(c,"$cursor",ua=function(){return t(x,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},ua.$$arity=0);a.def(c,"$cursor_at_line",oa=function(a){return t(x,"Cursor").$new(this.file,this.dir,this.path,a)},oa.$$arity=1);
a.def(c,"$cursor_at_mark",aa=function(){return h(this.mark)?r(t(x,"Cursor"),"new",a.to_a(this.mark)):this.$cursor()},aa.$$arity=0);a.def(c,"$cursor_before_mark",P=function(){var b,c,d=f,e=f,g=f;b=f;return h(this.mark)?(c=this.mark,b=a.to_ary(c),d=null==b[0]?f:b[0],e=null==b[1]?f:b[1],g=null==b[2]?f:b[2],b=null==b[3]?f:b[3],c,t(x,"Cursor").$new(d,e,g,q(b,1))):t(x,"Cursor").$new(this.file,this.dir,this.path,q(this.lineno,1))},P.$$arity=0);a.def(c,"$cursor_at_prev_line",Q=function(){return t(x,"Cursor").$new(this.file,
this.dir,this.path,q(this.lineno,1))},Q.$$arity=0);a.def(c,"$mark",pa=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},pa.$$arity=0);a.def(c,"$line_info",xa=function(){return""+this.path+": line "+this.lineno},xa.$$arity=0);a.def(c,"$lines",Aa=function(){return this.lines.$dup()},Aa.$$arity=0);a.def(c,"$string",Ea=function(){return p(this.lines,t(x,"LF"))},Ea.$$arity=0);a.def(c,"$source",wa=function(){return p(this.source_lines,t(x,"LF"))},wa.$$arity=0);return a.alias(c,"to_s",
"line_info")})(J[0],null,J);(function(c,$super,v){function G(){}c=G=n(c,$super,"PreprocessorReader",G);var B=c.prototype,F=[c].concat(v),J,V,L,N,W,R,ba,S,fa,ta,U,la,ga,ca,T,ea,aa,da,na;B.document=B.lineno=B.process_lines=B.look_ahead=B.skipping=B.include_stack=B.conditional_stack=B.path=B.include_processor_extensions=B.maxdepth=B.dir=B.lines=B.file=B.includes=B.unescape_next_line=f;c.$attr_reader("include_stack");a.def(c,"$initialize",J=function(b,c,d,g){var l=f;J.$$p&&(J.$$p=null);null==c&&(c=f);
null==d&&(d=f);null==g&&(g=e([],{}));this.document=b;r(this,a.find_super_dispatcher(this,"initialize",J,!1),[c,d,g],null);l=b.$attributes().$fetch("max-include-depth",64).$to_i();h(k(l,0))&&(l=0);this.maxdepth=e(["abs","rel"],{abs:l,rel:l});this.include_stack=[];this.includes=b.$catalog()["$[]"]("includes");this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=f},J.$$arity=-2);a.def(c,"$prepare_lines",V=function(c,g){var l,k,m=V.$$p,n=f,w=f,v=f,u=f,x=f,E=v=n=f;m&&(V.$$p=
null);v=0;E=arguments.length;for(n=Array(E);v<E;v++)n[v]=arguments[v];null==g&&(g=e([],{}));n=r(this,a.find_super_dispatcher(this,"prepare_lines",V,!1),n,m);h(h(l=this.document)?this.document.$attributes()["$[]"]("skip-front-matter"):l)&&h(w=this["$skip_front_matter!"](n))&&(v=["front-matter",p(w,t(F,"LF"))],r(this.document.$attributes(),"[]=",a.to_a(v)),v[q(v.length,1)]);if(h(g.$fetch("condense",!0))){for(;h(h(k=u=n["$[]"](0))?u["$empty?"]():k);)h(k=n.$shift())?this.lineno=b(this.lineno,1):k;for(;h(h(k=
x=n["$[]"](-1))?x["$empty?"]():k);)n.$pop()}if(h(g["$[]"]("indent")))t(F,"Parser")["$adjust_indentation!"](n,g["$[]"]("indent"),this.document.$attr("tabsize"));return n},V.$$arity=-2);a.def(c,"$process_line",L=function(a){var c,e;if(!h(this.process_lines))return a;if(h(a["$empty?"]()))return this.look_ahead=b(this.look_ahead,1),a;if(h(h(c=h(e=a["$end_with?"]("]"))?a["$start_with?"]("[")["$!"]():e)?a["$include?"]("::"):c)){if(h(h(c=a["$include?"]("if"))?t(F,"ConditionalDirectiveRx")["$=~"](a):c)){if(((c=
x["~"])===f?f:c["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),a["$[]"](u(1,-1,!1));if(h(this.$preprocess_conditional_directive((c=x["~"])===f?f:c["$[]"](2),(c=x["~"])===f?f:c["$[]"](3),(c=x["~"])===f?f:c["$[]"](4),(c=x["~"])===f?f:c["$[]"](5))))return this.$shift(),f;this.look_ahead=b(this.look_ahead,1);return a}if(h(this.skipping))return this.$shift(),f;if(h(h(c=a["$start_with?"]("inc","\\inc"))?t(F,"IncludeDirectiveRx")["$=~"](a):c)){if(((c=x["~"])===
f?f:c["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),a["$[]"](u(1,-1,!1));if(h(this.$preprocess_include_directive((c=x["~"])===f?f:c["$[]"](2),(c=x["~"])===f?f:c["$[]"](3))))return f;this.look_ahead=b(this.look_ahead,1);return a}this.look_ahead=b(this.look_ahead,1);return a}if(h(this.skipping))return this.$shift(),f;this.look_ahead=b(this.look_ahead,1);return a},L.$$arity=1);a.def(c,"$has_more_lines?",N=function(){return h(this.$peek_line())?!0:!1},
N.$$arity=0);a.def(c,"$empty?",W=function(){return h(this.$peek_line())?!1:!0},W.$$arity=0);a.alias(c,"eof?","empty?");a.def(c,"$peek_line",R=function(b){var c=R.$$p,d=f,e=d=f,g=f;c&&(R.$$p=null);e=0;g=arguments.length;for(d=Array(g);e<g;e++)d[e]=arguments[e];null==b&&(b=!1);if(h(d=r(this,a.find_super_dispatcher(this,"peek_line",R,!1),d,c)))return d;if(h(this.include_stack["$empty?"]()))return f;this.$pop_include();return this.$peek_line(b)},R.$$arity=-1);a.def(c,"$preprocess_conditional_directive",
ba=function(a,b,c,d){var g,l,k,m,n,p,w,v=f,u=f,E=f,z=f,C=z=v=f;h(v=b["$empty?"]())||(b=b.$downcase());if(h(h(g=h(l=v)?h(k=a["$=="]("ifdef"))?k:a["$=="]("ifndef"):l)?g:h(l=d)?a["$=="]("endif"):l))return!1;if(a["$=="]("endif"))return h(this.conditional_stack["$empty?"]())?this.$logger().$error(this.$message_with_context("unmatched macro: endif::"+b+"[]",e(["source_location"],{source_location:this.$cursor()}))):h(h(g=v)?g:b["$=="]((u=this.conditional_stack["$[]"](-1))["$[]"]("target")))?(this.conditional_stack.$pop(),
this.skipping=h(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$logger().$error(this.$message_with_context("mismatched macro: endif::"+b+"[], expected endif::"+u["$[]"]("target")+"[]",e(["source_location"],{source_location:this.$cursor()}))),!0;if(h(this.skipping))E=!1;else if(z=a,"ifdef"["$==="](z))z=c,E=","["$==="](z)?r(b.$split(",",-1),"none?",[],(m=function(a){var b=m.$$s||this;null==b.document&&(b.document=f);null==a&&(a=f);return b.document.$attributes()["$key?"](a)},
m.$$s=this,m.$$arity=1,m)):"+"["$==="](z)?r(b.$split("+",-1),"any?",[],(n=function(a){var b=n.$$s||this;null==b.document&&(b.document=f);null==a&&(a=f);return b.document.$attributes()["$key?"](a)["$!"]()},n.$$s=this,n.$$arity=1,n)):this.document.$attributes()["$key?"](b)["$!"]();else if("ifndef"["$==="](z))z=c,E=","["$==="](z)?r(b.$split(",",-1),"any?",[],(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=f);null==a&&(a=f);return b.document.$attributes()["$key?"](a)},p.$$s=this,p.$$arity=
1,p)):"+"["$==="](z)?r(b.$split("+",-1),"all?",[],(w=function(a){var b=w.$$s||this;null==b.document&&(b.document=f);null==a&&(a=f);return b.document.$attributes()["$key?"](a)},w.$$s=this,w.$$arity=1,w)):this.document.$attributes()["$key?"](b);else if("ifeval"["$==="](z)){if(!h(h(g=v)?t(F,"EvalExpressionRx")["$=~"](d.$strip()):g))return!1;g=[(l=x["~"])===f?f:l["$[]"](1),(l=x["~"])===f?f:l["$[]"](2),(l=x["~"])===f?f:l["$[]"](3)];v=g[0];z=g[1];C=g[2];g;v=this.$resolve_expr_val(v);C=this.$resolve_expr_val(C);
E=z["$=="]("!=")?v.$send("==",C):v.$send(z.$to_sym(),C)["$!"]()}h(h(g=a["$=="]("ifeval"))?g:d["$!"]())?(h(E)&&(this.skipping=!0),this.conditional_stack["$<<"](e(["target","skip","skipping"],{target:b,skip:E,skipping:this.skipping}))):h(h(g=this.skipping)?g:E)||(this.$replace_next_line(d.$rstrip()),this.$unshift(""),h(d["$start_with?"]("include::"))&&(this.look_ahead=q(this.look_ahead,1)));return!0},ba.$$arity=4);a.def(c,"$preprocess_include_directive",S=function(c,n){var p,v,u,E,z,C,G,D,B=this,N=
f,X=f,R=f,S=R=f,V=f,ca=f,W=f,J=f,ba=f,U=f,L=f,da=f,H=f,Y=f,Ka=f,Z=f,ka=f,M=f,Qa=f,ea=H=f;if(h(h(p=(N=c)["$include?"](t(F,"ATTR_REF_HEAD")))?(N=B.document.$sub_attributes(c,e(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():p))return B.$shift(),(h(p=B.document.$attributes()["$[]"]("attribute-missing"))?p:t(F,"Compliance").$attribute_missing())["$=="]("skip")&&B.$unshift("Unresolved directive in "+B.path+" - include::"+c+"["+n+"]"),!0;if(h(h(p=B["$include_processors?"]())?X=r(B.include_processor_extensions,
"find",[],(v=function(a){null==a&&(a=f);return a.$instance()["$handles?"](N)},v.$$s=B,v.$$arity=1,v)):p))return B.$shift(),X.$process_method()["$[]"](B.document,B,N,h(n)?t(F,"AttributeList").$new(n).$parse():e([],{})),!0;if(h(m(B.document.$safe(),l(t(F,"SafeMode"),"SECURE"))))return B.$replace_next_line("link:"+N+"[]");if(h(g(R=B.maxdepth["$[]"]("abs"),0))){if(h(m(B.include_stack.$size(),R)))return B.$logger().$error(B.$message_with_context("maximum include depth of "+B.maxdepth["$[]"]("rel")+" exceeded",
e(["source_location"],{source_location:B.$cursor()}))),f;R=h(n)?t(F,"AttributeList").$new(n).$parse():e([],{});v=B.$resolve_include_path(N,n,R);p=a.to_ary(v);S=null==p[0]?f:p[0];V=null==p[1]?f:p[1];ca=null==p[2]?f:p[2];v;if(!h(V))return S;W=J=f;h(n)&&(h(R["$key?"]("lines"))?(W=[],r(R["$[]"]("lines").$split(t(F,"DataDelimiterRx")),"each",[],(u=function(c){var e=u.$$s||this,g,m=f,n=f;null==c&&(c=f);return h(c["$include?"](".."))?(c=r(c.$split("..",2),"map",[],(g=function(a){null==a&&(a=f);return a.$to_i()},
g.$$s=e,g.$$arity=1,g)),g=a.to_ary(c),m=null==g[0]?f:g[0],n=null==g[1]?f:g[1],c,W=b(W,h(k(n,0))?[m,1/0]:l("::","Range").$new(m,n).$to_a())):W["$<<"](c.$to_i())},u.$$s=B,u.$$arity=1,u)),W=h(W["$empty?"]())?f:W.$sort().$uniq()):h(R["$key?"]("tag"))?h(h(p=(ba=R["$[]"]("tag"))["$empty?"]())?p:ba["$=="]("!"))||(J=h(ba["$start_with?"]("!"))?y(ba.$slice(1,ba.$length()),!1):y(ba,!0)):h(R["$key?"]("tags"))&&(J=e([],{}),r(R["$[]"]("tags").$split(t(F,"DataDelimiterRx")),"each",[],(E=function(b){var c,d=f;null==
b&&(b=f);if(h(h(c=b["$empty?"]())?c:b["$=="]("!")))return f;d=h(b["$start_with?"]("!"))?[b.$slice(1,b.$length()),!1]:[b,!0];r(J,"[]=",a.to_a(d));return d[q(d.length,1)]},E.$$s=B,E.$$arity=1,E)),h(J["$empty?"]())&&(J=f)));if(h(W)){p=[[],f,0];U=p[0];L=p[1];da=p[2];p;try{(function(){var c=a.new_brk();try{return r(B,"open",[S,"rb"],(z=function(c){var e=z.$$s||this,g,k=f;null==c&&(c=f);k=f;return function(){var m=a.new_brk();try{return r(c,"each_line",[],(g=function(c){var e,g,n=f;null==c&&(c=f);da=b(da,
1);if(h(h(e=k)?e:h(g=l("::","Float")["$==="](n=W["$[]"](0)))?k=n["$infinite?"]():g))return L=h(e=L)?e:da,U["$<<"](c);n["$=="](da)&&(L=h(e=L)?e:da,U["$<<"](c),W.$shift());if(h(W["$empty?"]()))a.brk(f,m);else return f},g.$$s=e,g.$$brk=m,g.$$arity=1,g))}catch(n){if(n===m)return n.$v;throw n;}}()},z.$$s=B,z.$$brk=c,z.$$arity=1,z))}catch(e){if(e===c)return e.$v;throw e;}})()}catch(ga){if(a.rescue(ga,[t(F,"StandardError")]))try{return B.$logger().$error(B.$message_with_context("include "+V+" not readable: "+
S,e(["source_location"],{source_location:B.$cursor()}))),B.$replace_next_line("Unresolved directive in "+B.path+" - include::"+N+"["+n+"]")}finally{a.pop_exception()}else throw ga;}B.$shift();h(L)&&(H=["partial-option",!0],r(R,"[]=",a.to_a(H)),H[q(H.length,1)],B.$push_include(U,S,ca,L,R))}else if(h(J)){p=[[],f,0,[],l("::","Set").$new(),f];U=p[0];L=p[1];da=p[2];Y=p[3];Ka=p[4];Z=p[5];p;h(J["$key?"]("**"))?h(J["$key?"]("*"))?(ka=M=J.$delete("**"),Qa=J.$delete("*")):ka=M=Qa=J.$delete("**"):(ka=M=J["$value?"](!0)["$!"](),
Qa=J.$delete("*"));try{r(B,"open",[S,"rb"],(C=function(c){var g=C.$$s||this,k,m,n=f,q=f,p=f;null==c&&(c=f);k=["::","[]"];n=k[0];q=k[1];k;h(t(F,"COERCE_ENCODING"))&&(p=l(l("::","Encoding"),"UTF_8"));return r(c,"each_line",[],(m=function(c){var g=m.$$s||this,l,k,w,v=f,H=f,A=f;null==c&&(c=f);da=b(da,1);h(p)&&c.$force_encoding(p);return h(h(l=h(k=c["$include?"](n))?c["$include?"](q):k)?t(F,"TagDirectiveRx")["$=~"](c):l)?h((l=x["~"])===f?f:l["$[]"](1))?(v=(l=x["~"])===f?f:l["$[]"](2))["$=="](Z)?(Y.$pop(),
k=h(Y["$empty?"]())?[f,M]:Y["$[]"](-1),l=a.to_ary(k),Z=null==l[0]?f:l[0],ka=null==l[1]?f:l[1],k):h(J["$key?"](v))?(H=g.$create_include_cursor(S,N,da),h(A=r(Y,"rindex",[],(w=function(a,b){null==a&&(a=f);return a["$=="](v)},w.$$s=g,w.$$arity=2,w)))?(A["$=="](0)?Y.$shift():Y.$delete_at(A),g.$logger().$warn(g.$message_with_context("mismatched end tag (expected '"+Z+"' but found '"+v+"') at line "+da+" of include "+V+": "+S,e(["source_location","include_location"],{source_location:g.$cursor(),include_location:H})))):
g.$logger().$warn(g.$message_with_context("unexpected end tag '"+v+"' at line "+da+" of include "+V+": "+S,e(["source_location","include_location"],{source_location:g.$cursor(),include_location:H})))):f:h(J["$key?"](v=(l=x["~"])===f?f:l["$[]"](2)))?(Ka["$<<"](v),Y["$<<"]([Z=v,ka=J["$[]"](v),da])):h(Qa["$nil?"]()["$!"]())?(ka=h(h(l=Z)?ka["$!"]():l)?!1:Qa,Y["$<<"]([Z=v,ka,da])):f:h(ka)?(L=h(l=L)?l:da,U["$<<"](c)):f},m.$$s=g,m.$$arity=1,m))},C.$$s=B,C.$$arity=1,C))}catch(ga){if(a.rescue(ga,[t(F,"StandardError")]))try{return B.$logger().$error(B.$message_with_context("include "+
V+" not readable: "+S,e(["source_location"],{source_location:B.$cursor()}))),B.$replace_next_line("Unresolved directive in "+B.path+" - include::"+N+"["+n+"]")}finally{a.pop_exception()}else throw ga;}h(Y["$empty?"]())||r(Y,"each",[],(G=function(a,b,c){b=G.$$s||this;null==a&&(a=f);null==c&&(c=f);return b.$logger().$warn(b.$message_with_context("detected unclosed tag '"+a+"' starting at line "+c+" of include "+V+": "+S,e(["source_location","include_location"],{source_location:b.$cursor(),include_location:b.$create_include_cursor(S,
N,c)})))},G.$$s=B,G.$$arity=3,G));h((H=q(J.$keys().$to_a(),Ka.$to_a()))["$empty?"]())||B.$logger().$warn(B.$message_with_context("tag"+(h(g(H.$size(),1))?"s":"")+" '"+H.$join(", ")+"' not found in include "+V+": "+S,e(["source_location"],{source_location:B.$cursor()})));B.$shift();h(L)&&(h(h(p=h(v=M)?Qa:v)?J["$empty?"]():p)||(H=["partial-option",!0],r(R,"[]=",a.to_a(H)),H[q(H.length,1)]),B.$push_include(U,S,ca,L,R))}else try{ea=function(){return r(B,"open",[S,"rb"],(D=function(a){null==a&&(a=f);return a.$read()},
D.$$s=B,D.$$arity=1,D))}(),B.$shift(),B.$push_include(ea,S,ca,1,R)}catch(ga){if(a.rescue(ga,[t(F,"StandardError")]))try{return B.$logger().$error(B.$message_with_context("include "+V+" not readable: "+S,e(["source_location"],{source_location:B.$cursor()}))),B.$replace_next_line("Unresolved directive in "+B.path+" - include::"+N+"["+n+"]")}finally{a.pop_exception()}else throw ga;}return!0}return f},S.$$arity=2);a.def(c,"$resolve_include_path",fa=function(a,b,c){var d,g,k=f,m=f,k=f,k=this.document;
if(h(h(d=t(F,"Helpers")["$uriish?"](a))?d:h(l("::","String")["$==="](this.dir))?f:a=""+this.dir+"/"+a)){if(!h(k["$attr?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");h(k["$attr?"]("cache-uri"))?h((g=l("::","OpenURI","skip_raise"))&&l(g,"Cache","skip_raise")?"constant":f)||t(F,"Helpers").$require_library("open-uri/cached","open-uri-cached"):h(l("::","RUBY_ENGINE_OPAL")["$!"]())&&l("::","OpenURI");return[l("::","URI").$parse(a),"uri",a]}m=k.$normalize_system_path(a,this.dir,
f,e(["target_name"],{target_name:"include file"}));if(!h(l("::","File")["$file?"](m))){if(h(c["$key?"]("optional-option")))return this.$shift(),!0;this.$logger().$error(this.$message_with_context("include file not found: "+m,e(["source_location"],{source_location:this.$cursor()})));return this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+a+"["+b+"]")}k=k.$path_resolver().$relative_path(m,k.$base_dir());return[m,"file",k]},fa.$$arity=3);a.def(c,"$push_include",ta=function(c,
g,k,m,n){var p,w=f,v=f,w=w=f;null==g&&(g=f);null==k&&(k=f);null==m&&(m=1);null==n&&(n=e([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);h(this.file=g)?(h(l("::","String")["$==="](g))?this.dir=l("::","File").$dirname(g):h(l("::","RUBY_ENGINE_OPAL"))?this.dir=l("::","URI").$parse(l("::","File").$dirname(g=g.$to_s())):(w=[(v=l("::","File").$dirname(g.$path()))["$=="]("/")?"":v],r(this.dir=g.$dup(),"path=",a.to_a(w)),w[q(w.length,
1)],g=g.$to_s()),k=h(p=k)?p:l("::","File").$basename(g),this.process_lines=t(F,"ASCIIDOC_EXTENSIONS")["$[]"](l("::","File").$extname(g))):(this.dir=".",this.process_lines=!0);h(k)?(this.path=k,h(this.process_lines)&&(w=[t(F,"Helpers").$rootname(k),h(n["$[]"]("partial-option"))?f:!0],r(this.includes,"[]=",a.to_a(w)),w[q(w.length,1)])):this.path="<stdin>";this.lineno=m;h(n["$key?"]("depth"))&&(w=n["$[]"]("depth").$to_i(),h("number"===typeof w?0>=w:w["$<="](0))&&(w=1),this.maxdepth=e(["abs","rel"],{abs:b(q(this.include_stack.$size(),
1),w),rel:w}));if(h((this.lines=this.$prepare_lines(c,e(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:n["$[]"]("indent")})))["$empty?"]()))this.$pop_include();else{if(h(n["$key?"]("leveloffset"))){this.lines.$unshift("");this.lines.$unshift(":leveloffset: "+n["$[]"]("leveloffset"));this.lines["$<<"]("");if(h(w=this.document.$attr("leveloffset")))this.lines["$<<"](":leveloffset: "+w);else this.lines["$<<"](":leveloffset!:");this.lineno=q(this.lineno,2)}this.look_ahead=0}return this},
ta.$$arity=-2);a.def(c,"$create_include_cursor",U=function(a,b,c){var d=f;h(l("::","String")["$==="](a))?d=l("::","File").$dirname(a):h(l("::","RUBY_ENGINE_OPAL"))?d=l("::","File").$dirname(a=a.$to_s()):(d=(d=l("::","File").$dirname(a.$path()))["$=="]("")?"/":d,a=a.$to_s());return t(F,"Cursor").$new(a,d,b,c)},U.$$arity=3);a.def(c,"$pop_include",la=function(){var b,c;h(g(this.include_stack.$size(),0))&&(c=this.include_stack.$pop(),b=a.to_ary(c),this.lines=null==b[0]?f:b[0],this.file=null==b[1]?f:b[1],
this.dir=null==b[2]?f:b[2],this.path=null==b[3]?f:b[3],this.lineno=null==b[4]?f:b[4],this.maxdepth=null==b[5]?f:b[5],this.process_lines=null==b[6]?f:b[6],c,this.look_ahead=0);return f},la.$$arity=0);a.def(c,"$include_depth",ga=function(){return this.include_stack.$size()},ga.$$arity=0);a.def(c,"$exceeded_max_depth?",ca=function(){var a,b=f;return h(h(a=g(b=this.maxdepth["$[]"]("abs"),0))?m(this.include_stack.$size(),b):a)?this.maxdepth["$[]"]("rel"):!1},ca.$$arity=0);a.def(c,"$shift",T=function(){var b=
T.$$p,c=f,d=f,e=f;b&&(T.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return h(this.unescape_next_line)?(this.unescape_next_line=!1,r(this,a.find_super_dispatcher(this,"shift",T,!1),c,b)["$[]"](u(1,-1,!1))):r(this,a.find_super_dispatcher(this,"shift",T,!1),c,b)},T.$$arity=0);a.def(c,"$skip_front_matter!",ea=function(c,e){var g,l=f,k=f;null==e&&(e=!0);l=f;if(c["$[]"](0)["$=="]("---")){k=c.$dup();l=[];c.$shift();h(e)&&(this.lineno=b(this.lineno,1));for(;h(h(g=c["$empty?"]()["$!"]())?
c["$[]"](0)["$!="]("---"):g);)l["$<<"](c.$shift()),h(e)&&(this.lineno=b(this.lineno,1));h(c["$empty?"]())?(r(c,"unshift",a.to_a(k)),h(e)&&(this.lineno=0),l=f):(c.$shift(),h(e)&&(this.lineno=b(this.lineno,1)))}return l},ea.$$arity=-2);a.def(c,"$resolve_expr_val",aa=function(a){var b,c,d=f;h(h(b=h(c=a["$start_with?"]('"'))?a["$end_with?"]('"'):c)?b:h(c=a["$start_with?"]("'"))?a["$end_with?"]("'"):c)?(d=!0,a=a["$[]"](u(1,-1,!0))):d=!1;h(a["$include?"](t(F,"ATTR_REF_HEAD")))&&(a=this.document.$sub_attributes(a,
e(["attribute_missing"],{attribute_missing:"drop"})));return h(d)?a:h(a["$empty?"]())?f:a["$=="]("true")?!0:a["$=="]("false")?!1:h(a.$rstrip()["$empty?"]())?" ":h(a["$include?"]("."))?a.$to_f():a.$to_i()},aa.$$arity=1);a.def(c,"$include_processors?",da=function(){var a;return h(this.include_processor_extensions["$nil?"]())?h(h(a=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():a)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():
this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},da.$$arity=0);return(a.def(c,"$to_s",na=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+p(r(this.include_stack,"map",[],(a=function(a){null==a&&(a=f);return a.$to_s()},a.$$s=this,a.$$arity=1,a)),", ")+"]}>"},na.$$arity=0),f)&&"to_s"})(J[0],t(J,"Reader"),J)}(c[0],c)};Opal.modules["asciidoctor/section"]=
function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var g=[],q=a.nil,p=a.const_get_relative,k=a.module,m=a.klass,c=a.hash2,f=a.send,l=a.truthy;a.add_stubs("$attr_accessor $attr_reader $=== $+ $level $special $generate_id $title $== $> $sectnum $int_to_roman $reftext $! $empty? $sprintf $sub_quotes $compat_mode $[] $attributes $context $assign_numeral $class $object_id $inspect $size $length $chr $[]= $- $gsub $downcase $delete $tr_s $end_with? $chop $start_with? $slice $key? $catalog $unique_id_start_index".split(" "));
return function(g,w){function n(){}var e=[n=k(g,"Asciidoctor",n)].concat(w);(function(e,$super,g){function k(){}e=k=m(e,$super,"Section",k);var n=e.prototype,w=[e].concat(g),t,v,u,r,x,C,y;n.document=n.level=n.number=n.parent=n.numbered=n.sectname=n.title=n.blocks=q;e.$attr_accessor("index");e.$attr_accessor("sectname");e.$attr_accessor("special");e.$attr_accessor("numbered");e.$attr_reader("caption");a.def(e,"$initialize",t=function(e,g,h,k){var m;t.$$p&&(t.$$p=null);null==e&&(e=q);null==g&&(g=q);
null==h&&(h=!1);null==k&&(k=c([],{}));f(this,a.find_super_dispatcher(this,"initialize",t,!1),[e,"section",k],null);e=l(p(w,"Section")["$==="](e))?[l(m=g)?m:b(e.$level(),1),e.$special()]:[l(m=g)?m:1,!1];this.level=e[0];this.special=e[1];e;this.numbered=h;return this.index=0},t.$$arity=-1);a.alias(e,"name","title");a.def(e,"$generate_id",v=function(){return p(w,"Section").$generate_id(this.$title(),this.document)},v.$$arity=0);a.def(e,"$sectnum",u=function(a,b){var c;null==a&&(a=".");null==b&&(b=q);
b=l(c=b)?c:b["$=="](!1)?"":a;this.level["$=="](1)?c=""+this.number+b:(c=this.level,c="number"===typeof c?1<c:c["$>"](1),c=l(c)?l(p(w,"Section")["$==="](this.parent))?""+this.parent.$sectnum(a)+this.number+b:""+this.number+b:""+p(w,"Helpers").$int_to_roman(this.number)+b);return c},u.$$arity=-1);a.def(e,"$xreftext",r=function(a){var b,c=q,d=q,e=q,f=d=q;null==a&&(a=q);l(l(b=c=this.$reftext())?c["$empty?"]()["$!"]():b)?b=c:l(a)?(l(this.numbered)?(d=a,"full"["$==="](d)?(d=l(l(b=(e=this.sectname)["$=="]("chapter"))?
b:e["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$sprintf(this.$sub_quotes(l(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=l(f=this.document.$attributes()["$[]"](""+e+"-refsig"))?""+f+" "+this.$sectnum(".",",")+" "+d:""+this.$sectnum(".",",")+" "+d):a="short"["$==="](d)?l(f=this.document.$attributes()["$[]"](""+this.sectname+"-refsig"))?""+f+" "+this.$sectnum(".",""):this.$sectnum(".",""):l(l(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?
this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$title()):a=l(l(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$title(),b=a):b=this.$title();return b},r.$$arity=-1);a.def(e,"$<<",x=function(b){var c=x.$$p,d=q,e=q,g=q;c&&(x.$$p=null);e=0;g=arguments.length;for(d=Array(g);e<g;e++)d[e]=arguments[e];b.$context()["$=="]("section")&&this.$assign_numeral(b);return f(this,a.find_super_dispatcher(this,"<<",x,!1),d,c)},x.$$arity=
1);a.def(e,"$to_s",C=function(){var b=C.$$p,c=q,d=c=q,e=q;b&&(C.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return l(this.title)?(c=l(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+c.$inspect()+", blocks: "+this.blocks.$size()+"}>"):f(this,a.find_super_dispatcher(this,"to_s",C,!1),c,b)},C.$$arity=0);return(a.defs(e,"$generate_id",y=function(c,e){var g,h,k=q,m=q,n=q,t=q,v=h=q,u=h=
m=k=q,k=e.$attributes(),m=l(g=k["$[]"]("idprefix"))?g:"_";l(n=k["$[]"]("idseparator"))?(l(g=n.$length()["$=="](1))?k=g:l(h=(t=n["$empty?"]())["$!"]())?(h=["idseparator",n.$chr()],f(k,"[]=",a.to_a(h)),n=h,k=h.length,k="number"===typeof k?k-1:k["$-"](1),k=n=n[k]):k=h,l(k)&&(v=l(l(g=n["$=="]("-"))?g:n["$=="]("."))?" .-":" "+n+".-")):(g=["_"," _.-"],n=g[0],v=g[1],g);k=""+m+c.$downcase().$gsub(p(w,"InvalidSectionIdCharsRx"),"");l(t)?k=k.$delete(" "):(k=k.$tr_s(v,n),l(k["$end_with?"](n))&&(k=k.$chop()),
l(l(g=m["$empty?"]())?k["$start_with?"](n):g)&&(k=k.$slice(1,k.$length())));if(l(e.$catalog()["$[]"]("ids")["$key?"](k))){g=[e.$catalog()["$[]"]("ids"),p(w,"Compliance").$unique_id_start_index()];m=g[0];h=g[1];for(g;l(m["$key?"](u=""+k+n+h));)h=b(h,1);return u}return k},y.$$arity=2),q)&&"generate_id"})(e[0],p(e,"AbstractBlock"),e)}(g[0],g)};Opal.modules["asciidoctor/stylesheets"]=function(a){var b=[],g=a.nil,q=a.const_get_qualified,p=a.const_get_relative,k=a.module,m=a.klass,c=a.truthy,f=a.hash2,
l=a.gvars,t=a.send;a.add_stubs("$join $new $rstrip $read $primary_stylesheet_data $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $=~ $css $[] $sub $[]= $- $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(b,d){function e(){}var h=[e=k(b,"Asciidoctor",e)].concat(d);(function(b,$super,d){function e(){}var h=e=m(b,$super,"Stylesheets",e);b=h.prototype;var k=[h].concat(d),n,v,u,r,x,y,B,F,J,V,L,N,
W,R,ba;b.primary_stylesheet_data=b.coderay_stylesheet_data=b.pygments_stylesheet_data=g;a.const_set(k[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(k[0],"DEFAULT_PYGMENTS_STYLE","default");a.const_set(k[0],"STYLESHEETS_DATA_PATH",q("::","File").$join(p(k,"DATA_PATH"),"stylesheets"));a.const_set(k[0],"PygmentsBgColorRx",/^\.pygments +\{ *background: *([^;]+);/);h.__instance__=h.$new();a.defs(h,"$instance",n=function(){null==this.__instance__&&(this.__instance__=g);return this.__instance__},
n.$$arity=0);a.def(h,"$primary_stylesheet_name",v=function(){return p(k,"DEFAULT_STYLESHEET_NAME")},v.$$arity=0);a.def(h,"$primary_stylesheet_data",u=function(){var b=a.const_get_relative([],"File"),c;c=a.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?"node"===b.$basename(__dirname)&&"dist"===b.$basename(b.$dirname(__dirname))?b.$join(b.$dirname(__dirname),"css"):b.$join(__dirname,"css"):a.const_get_relative([],"JAVASCRIPT_ENGINE")["$=="]("nashorn")?"nashorn"===b.$basename(__DIR__)&&
"dist"===b.$basename(b.$dirname(__DIR__))?b.$join(b.$dirname(__DIR__),"css"):b.$join(__DIR__,"css"):"css";return!1!==($a=h.primary_stylesheet_data)&&$a!==g&&null!=$a?$a:h.primary_stylesheet_data=a.const_get_relative([],"IO").$read(b.$join(c,"asciidoctor.css")).$chomp()},u.$$arity=0);a.def(h,"$embed_primary_stylesheet",r=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},r.$$arity=0);a.def(h,"$write_primary_stylesheet",x=function(a){null==a&&(a=".");return q("::","IO").$write(q("::",
"File").$join(a,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},x.$$arity=-1);a.def(h,"$coderay_stylesheet_name",y=function(){return"coderay-asciidoctor.css"},y.$$arity=0);a.def(h,"$coderay_stylesheet_data",B=function(){var a;return this.coderay_stylesheet_data=c(a=this.coderay_stylesheet_data)?a:q("::","IO").$read(q("::","File").$join(p(k,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$rstrip()},B.$$arity=0);a.def(h,"$embed_coderay_stylesheet",F=function(){return"<style>\n"+
this.$coderay_stylesheet_data()+"\n</style>"},F.$$arity=0);a.def(h,"$write_coderay_stylesheet",J=function(a){null==a&&(a=".");return q("::","IO").$write(q("::","File").$join(a,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},J.$$arity=-1);a.def(h,"$pygments_stylesheet_name",V=function(a){var b;null==a&&(a=g);return"pygments-"+(c(b=a)?b:p(k,"DEFAULT_PYGMENTS_STYLE"))+".css"},V.$$arity=-1);a.def(h,"$pygments_background",L=function(a){var b,d;null==a&&(a=g);return c(c(b=this.$load_pygments())?
p(k,"PygmentsBgColorRx")["$=~"](q("::","Pygments").$css(".pygments",f(["style"],{style:c(d=a)?d:p(k,"DEFAULT_PYGMENTS_STYLE")}))):b)?(b=l["~"])===g?g:b["$[]"](1):g},L.$$arity=-1);a.def(h,"$pygments_stylesheet_data",N=function(b){var d,e,h=g;null==b&&(b=g);return c(this.$load_pygments())?(b=c(d=b)?d:p(k,"DEFAULT_PYGMENTS_STYLE"),c(d=(this.pygments_stylesheet_data=c(e=this.pygments_stylesheet_data)?e:f([],{}))["$[]"](b))?h=d:(h=[b,(c(e=q("::","Pygments").$css(".listingblock .pygments",f(["classprefix",
"style"],{classprefix:"tok-",style:b})))?e:"/* Failed to load Pygments CSS. */").$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],t(this.pygments_stylesheet_data=c(e=this.pygments_stylesheet_data)?e:f([],{}),"[]=",a.to_a(h)),b=h,h=h.length,h="number"===typeof h?h-1:h["$-"](1),h=b[h]),h):"/* Pygments CSS disabled. Pygments is not available. */"},N.$$arity=-1);a.def(h,"$embed_pygments_stylesheet",W=function(a){null==a&&(a=g);return"<style>\n"+this.$pygments_stylesheet_data(a)+
"\n</style>"},W.$$arity=-1);a.def(h,"$write_pygments_stylesheet",R=function(a,b){null==a&&(a=".");null==b&&(b=g);return q("::","IO").$write(q("::","File").$join(a,this.$pygments_stylesheet_name(b)),this.$pygments_stylesheet_data(b))},R.$$arity=-1);return(a.def(h,"$load_pygments",ba=function(){return c(q("::","Pygments","skip_raise")?"constant":g)?!0:p(k,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},ba.$$arity=0),g)&&"load_pygments"})(h[0],null,h)}(b[0],b)};Opal.modules["asciidoctor/table"]=
function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var c=[],f=a.nil,l=a.const_get_qualified,
t=a.const_get_relative,v=a.module,n=a.klass,e=a.send,h=a.truthy,u=a.hash2,r=a.gvars;a.add_stubs("$attr_accessor $attr_reader $new $key? $[] $> $to_i $< $== $[]= $- $attributes $round $* $/ $to_f $empty? $body $each $<< $size $+ $assign_column_widths $warn $logger $update_attributes $assign_width $shift $style= $head= $pop $foot= $parent $sourcemap $dup $header_row? $table $delete $start_with? $rstrip $slice $length $advance $lstrip $strip $split $include? $readlines $unshift $nil? $=~ $catalog_inline_anchor $apply_subs $convert $map $text $! $file $lineno $to_s $include $to_set $mark $nested? $document $error $message_with_context $cursor_at_prev_line $nil_or_empty? $escape $columns $match $chop $end_with? $gsub $push_cellspec $cell_open? $close_cell $take_cellspec $squeeze $upto $times $cursor_before_mark $rowspan $activate_rowspan $colspan $end_of_row? $!= $close_row $rows $effective_column_visits".split(" "));
return function(c,x){function y(){}var B=[y=v(c,"Asciidoctor",y)].concat(x);(function(c,$super,l){function v(){}c=v=n(c,$super,"Table",v);var r=c.prototype,x=[c].concat(l),y,B,G,F,J;r.attributes=r.document=r.has_header_option=r.rows=r.columns=f;a.const_set(x[0],"DEFAULT_PRECISION_FACTOR",1E4);(function(b,$super,c){function d(){}b=d=n(b,$super,"Rows",d);var e=b.prototype;[b].concat(c);var g,h;e.head=e.body=e.foot=f;b.$attr_accessor("head","foot","body");a.def(b,"$initialize",g=function(a,b,c){null==
a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c},g.$$arity=-1);a.alias(b,"[]","send");return(a.def(b,"$by_section",h=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},h.$$arity=0),f)&&"by_section"})(x[0],null,x);c.$attr_accessor("columns");c.$attr_accessor("rows");c.$attr_accessor("has_header_option");c.$attr_reader("caption");a.def(c,"$initialize",y=function(c,l){var m,n,v=f,u=f,r=f;y.$$p&&(y.$$p=null);e(this,a.find_super_dispatcher(this,
"initialize",y,!1),[c,"table"],null);this.rows=t(x,"Rows").$new();this.columns=[];this.has_header_option=l["$key?"]("header-option");h(v=l["$[]"]("width"))?h(h(m=b(u=v.$to_i(),100))?m:g(u,1))&&!h((m=u["$=="](0))?h(n=v["$=="]("0"))?n:v["$=="]("0%"):u["$=="](0))&&(u=100):u=100;r=["tablepcwidth",u];e(this.attributes,"[]=",a.to_a(r));r[q(r.length,1)];h(this.document.$attributes()["$key?"]("pagewidth"))&&(h(m=this.attributes["$[]"]("tableabswidth"))?m:(r=["tableabswidth",p(k(this.attributes["$[]"]("tablepcwidth").$to_f(),
100),this.document.$attributes()["$[]"]("pagewidth")).$round()],e(this.attributes,"[]=",a.to_a(r)),r[q(r.length,1)]));return h(l["$key?"]("rotate-option"))?(r=["orientation","landscape"],e(l,"[]=",a.to_a(r)),r[q(r.length,1)]):f},y.$$arity=2);a.def(c,"$header_row?",B=function(){var a;return h(a=this.has_header_option)?this.rows.$body()["$empty?"]():a},B.$$arity=0);a.def(c,"$create_columns",G=function(c){var k,l,n=f,p=f,v=f,u=f,u=f,n=[],p=f,v=0;e(c,"each",[],(k=function(a){var b=k.$$s||this,c,d=f;null==
a&&(a=f);d=a["$[]"]("width");n["$<<"](t(x,"Column").$new(b,n.$size(),a));return h(g(d,0))?(p=h(c=p)?c:[])["$<<"](n["$[]"](-1)):v=m(v,d)},k.$$s=this,k.$$arity=1,k));h(b(u=(this.columns=n).$size(),0))&&(u=["colcount",u],e(this.attributes,"[]=",a.to_a(u)),u[q(u.length,1)],h(h(l=b(v,0))?l:p)||(v=f),this.$assign_column_widths(v,p));return f},G.$$arity=1);a.def(c,"$assign_column_widths",F=function(a,c){var g,l,n,w=f,v=f,r=f,C=f,y=f;null==a&&(a=f);null==c&&(c=f);w=t(x,"DEFAULT_PRECISION_FACTOR");v=r=0;h(a)?
(h(c)&&(h(b(a,100))?(C=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+a+"%")):(C=k(p(k(q(100,a),c.$size()),w).$to_i(),w),C.$to_i()["$=="](C)&&(C=C.$to_i()),a=100),y=u(["width","autowidth-option"],{width:C,"autowidth-option":""}),e(c,"each",[],(g=function(a){null==a&&(a=f);return a.$update_attributes(y)},g.$$s=this,g.$$arity=1,g))),e(this.columns,"each",[],(l=function(b){null==b&&(b=f);return v=m(v,r=b.$assign_width(f,a,w))},l.$$s=this,l.$$arity=
1,l))):(r=k(k(p(100,w),this.columns.$size()).$to_i(),w),r.$to_i()["$=="](r)&&(r=r.$to_i()),e(this.columns,"each",[],(n=function(a){null==a&&(a=f);return v=m(v,a.$assign_width(r))},n.$$s=this,n.$$arity=1,n)));v["$=="](100)||this.columns["$[]"](-1).$assign_width(k(p(m(q(100,v),r),w).$round(),w));return f},F.$$arity=-1);return(a.def(c,"$partition_header_footer",J=function(c){var g,k,l=f,m=f,n=f,l=["rowcount",this.rows.$body().$size()];e(this.attributes,"[]=",a.to_a(l));l[q(l.length,1)];m=this.rows.$body().$size();
h(h(g=b(m,0))?this.has_header_option:g)&&(n=this.rows.$body().$shift(),m=q(m,1),e(n,"each",[],(k=function(b){null==b&&(b=f);l=[f];e(b,"style=",a.to_a(l));return l[q(l.length,1)]},k.$$s=this,k.$$arity=1,k)),l=[[n]],e(this.rows,"head=",a.to_a(l)),l[q(l.length,1)]);h(h(g=b(m,0))?c["$key?"]("footer-option"):g)&&(l=[[this.rows.$body().$pop()]],e(this.rows,"foot=",a.to_a(l)),l[q(l.length,1)]);return f},J.$$arity=1),f)&&"partition_header_footer"})(B[0],t(B,"AbstractBlock"),B);(function(b,$super,c){function d(){}
b=d=n(b,$super,"Column",d);var g=b.prototype;[b].concat(c);var l,t;g.attributes=f;b.$attr_accessor("style");a.def(b,"$initialize",l=function(b,c,d){var g,k=f;l.$$p&&(l.$$p=null);null==d&&(d=u([],{}));e(this,a.find_super_dispatcher(this,"initialize",l,!1),[b,"column"],null);this.style=d["$[]"]("style");k=["colnumber",m(c,1)];e(d,"[]=",a.to_a(k));k[q(k.length,1)];h(g=d["$[]"]("width"))?g:(k=["width",1],e(d,"[]=",a.to_a(k)),k[q(k.length,1)]);h(g=d["$[]"]("halign"))?g:(k=["halign","left"],e(d,"[]=",a.to_a(k)),
k[q(k.length,1)]);h(g=d["$[]"]("valign"))?g:(k=["valign","top"],e(d,"[]=",a.to_a(k)),k[q(k.length,1)]);return this.$update_attributes(d)},l.$$arity=-3);a.alias(b,"table","parent");return(a.def(b,"$assign_width",t=function(b,c,d){var g=f;null==c&&(c=f);null==d&&(d=1E4);h(c)&&(b=k(p(p(k(this.attributes["$[]"]("width").$to_f(),c),100),d).$to_i(),d),b.$to_i()["$=="](b)&&(b=b.$to_i()));g=["colpcwidth",b];e(this.attributes,"[]=",a.to_a(g));g[q(g.length,1)];h(this.$parent().$attributes()["$key?"]("tableabswidth"))&&
(g=["colabswidth",p(k(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],e(this.attributes,"[]=",a.to_a(g)),g[q(g.length,1)]);return b},t.$$arity=-2),f)&&"assign_width"})(t(B,"Table"),t(B,"AbstractNode"),B);(function(b,$super,c){function d(){}b=d=n(b,$super,"Cell",d);var k=b.prototype,l=[b].concat(c),p,v,x,z,y,B,G;k.document=k.text=k.subs=k.style=k.inner_document=k.source_location=k.colspan=k.rowspan=k.attributes=f;b.$attr_reader("source_location");b.$attr_accessor("style");b.$attr_accessor("subs");
b.$attr_accessor("colspan");b.$attr_accessor("rowspan");a.alias(b,"column","parent");b.$attr_reader("inner_document");a.def(b,"$initialize",p=function(b,c,d,k){var n,v,x=f,z=f,C=f,y=f,B=f,G=f,F=f,J=B=f,N=f,K=f,B=f;p.$$p&&(p.$$p=null);null==d&&(d=u([],{}));null==k&&(k=u([],{}));e(this,a.find_super_dispatcher(this,"initialize",p,!1),[b,"cell"],null);h(this.document.$sourcemap())&&(this.source_location=k["$[]"]("cursor").$dup());h(b)&&(h(x=b.$table()["$header_row?"]())||(z=b.$attributes()["$[]"]("style")),
this.$update_attributes(b.$attributes()));if(h(d))if(h(d["$empty?"]())?this.colspan=this.rowspan=f:(n=[d.$delete("colspan"),d.$delete("rowspan")],this.colspan=n[0],this.rowspan=n[1],n,h(x)||(z=h(n=d["$[]"]("style"))?n:z),this.$update_attributes(d)),z["$=="]("asciidoc"))if(C=!0,y=k["$[]"]("cursor"),h((c=c.$rstrip())["$start_with?"](t(l,"LF")))){for(B=1;h((c=c.$slice(1,c.$length()))["$start_with?"](t(l,"LF")));)B=m(B,1);y.$advance(B)}else c=c.$lstrip();else if(h(h(n=G=z["$=="]("literal"))?n:z["$=="]("verse")))for(c=
c.$rstrip();h(c["$start_with?"](t(l,"LF")));)c=c.$slice(1,c.$length());else F=!0,c=h(c)?c.$strip():"";else this.colspan=this.rowspan=f;h(C)?(B=this.document.$attributes().$delete("doctitle"),J=c.$split(t(l,"LF"),-1),!h(J["$empty?"]())&&h((N=J["$[]"](0))["$include?"]("::"))&&(K=t(l,"PreprocessorReader").$new(this.document,[N]).$readlines(),h(N["$=="](K["$[]"](0))?g(K.$size(),2):N["$=="](K["$[]"](0)))||(J.$shift(),h(K["$empty?"]())||e(J,"unshift",a.to_a(K)))),this.inner_document=t(l,"Document").$new(J,
u(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:y})),h(B["$nil?"]())||(B=["doctitle",B],e(this.document.$attributes(),"[]=",a.to_a(B)),B[q(B.length,1)]),this.subs=f):h(G)?this.subs=t(l,"BASIC_SUBS"):(h(h(n=h(v=F)?c["$start_with?"]("[["):v)?t(l,"LeadingInlineAnchorRx")["$=~"](c):n)&&t(l,"Parser").$catalog_inline_anchor((n=r["~"])===f?f:n["$[]"](1),(n=r["~"])===f?f:n["$[]"](2),this,k["$[]"]("cursor"),this.document),this.subs=t(l,"NORMAL_SUBS"));this.text=c;return this.style=
z},p.$$arity=-3);a.def(b,"$text",v=function(){return this.$apply_subs(this.text,this.subs)},v.$$arity=0);a.def(b,"$text=",x=function(a){return this.text=a},x.$$arity=1);a.def(b,"$content",z=function(){var a;return this.style["$=="]("asciidoc")?this.inner_document.$convert():e(this.$text().$split(t(l,"BlankLineRx")),"map",[],(a=function(b){var c=a.$$s||this,d;null==c.style&&(c.style=f);null==b&&(b=f);return h(h(d=c.style["$!"]())?d:c.style["$=="]("header"))?b:t(l,"Inline").$new(c.$parent(),"quoted",
b,u(["type"],{type:c.style})).$convert()},a.$$s=this,a.$$arity=1,a))},z.$$arity=0);a.def(b,"$file",y=function(){var a;return h(a=this.source_location)?this.source_location.$file():a},y.$$arity=0);a.def(b,"$lineno",B=function(){var a;return h(a=this.source_location)?this.source_location.$lineno():a},B.$$arity=0);return(a.def(b,"$to_s",G=function(){var b,c=G.$$p,d=f,g=f,k=f;c&&(G.$$p=null);g=0;k=arguments.length;for(d=Array(k);g<k;g++)d[g]=arguments[g];return""+e(this,a.find_super_dispatcher(this,"to_s",
G,!1),d,c).$to_s()+" - [text: "+this.text+", colspan: "+(h(b=this.colspan)?b:1)+", rowspan: "+(h(b=this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},G.$$arity=0),f)&&"to_s"})(t(B,"Table"),t(B,"AbstractNode"),B);(function(c,$super,g){function k(){}c=k=n(c,$super,"ParserContext",k);var p=c.prototype,w=[c].concat(g),v,r,x,z,y,B,G,F,J,L,T,P,U,la,ga,ca,Da,ea,Fa;p.delimiter=p.delimiter_re=p.buffer=p.cellspecs=p.cell_open=p.format=p.start_cursor_data=p.table=p.current_row=p.colcount=p.column_visits=
p.active_rowspans=p.linenum=f;c.$include(t(w,"Logging"));a.const_set(w[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set());a.const_set(w[0],"DELIMITERS",u(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]}));c.$attr_accessor("table");c.$attr_accessor("format");c.$attr_reader("colcount");c.$attr_accessor("buffer");c.$attr_reader("delimiter");c.$attr_reader("delimiter_re");a.def(c,"$initialize",v=function(b,c,d){var e=f,g=f;null==d&&(d=u([],{}));
this.start_cursor_data=(this.reader=b).$mark();this.table=c;h(d["$key?"]("format"))?h(t(w,"FORMATS")["$include?"](e=d["$[]"]("format")))?e["$=="]("tsv")?this.format="csv":h((this.format=e)["$=="]("psv")?c.$document()["$nested?"]():(this.format=e)["$=="]("psv"))&&(e="!sv"):(this.$logger().$error(this.$message_with_context("illegal table format: "+e,u(["source_location"],{source_location:b.$cursor_at_prev_line()}))),b=["psv",h(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],e=b[1],b):(b=
["psv",h(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],e=b[1],b);h(d["$key?"]("separator"))?h((g=d["$[]"]("separator"))["$nil_or_empty?"]())?(d=t(w,"DELIMITERS")["$[]"](e),b=a.to_ary(d),this.delimiter=null==b[0]?f:b[0],this.delimiter_re=null==b[1]?f:b[1],d):g["$=="]("\\t")?(d=t(w,"DELIMITERS")["$[]"]("tsv"),b=a.to_ary(d),this.delimiter=null==b[0]?f:b[0],this.delimiter_re=null==b[1]?f:b[1],d):(b=[g,new RegExp(l("::","Regexp").$escape(g))],this.delimiter=b[0],this.delimiter_re=b[1],b):
(d=t(w,"DELIMITERS")["$[]"](e),b=a.to_ary(d),this.delimiter=null==b[0]?f:b[0],this.delimiter_re=null==b[1]?f:b[1],d);this.colcount=h(c.$columns()["$empty?"]())?-1:c.$columns().$size();this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},v.$$arity=-3);a.def(c,"$starts_with_delimiter?",r=function(a){return a["$start_with?"](this.delimiter)},r.$$arity=1);a.def(c,"$match_delimiter",x=function(a){return this.delimiter_re.$match(a)},
x.$$arity=1);a.def(c,"$skip_past_delimiter",z=function(a){this.buffer=""+this.buffer+a+this.delimiter;return f},z.$$arity=1);a.def(c,"$skip_past_escaped_delimiter",y=function(a){this.buffer=""+this.buffer+a.$chop()+this.delimiter;return f},y.$$arity=1);a.def(c,"$buffer_has_unclosed_quotes?",B=function(a){var b,c,d=f,e=f;null==a&&(a=f);return(d=h(a)?m(this.buffer,a).$strip():this.buffer.$strip())["$=="]('"')?!0:h(d["$start_with?"]('"'))?h(h(b=h(c=e=d["$end_with?"]('"'))?d["$end_with?"]('""'):c)?b:
d["$start_with?"]('""'))?h(b=(d=d.$gsub('""',""))["$start_with?"]('"'))?d["$end_with?"]('"')["$!"]():b:e["$!"]():!1},B.$$arity=-1);a.def(c,"$take_cellspec",G=function(){return this.cellspecs.$shift()},G.$$arity=0);a.def(c,"$push_cellspec",F=function(a){var b;null==a&&(a=u([],{}));this.cellspecs["$<<"](h(b=a)?b:u([],{}));return f},F.$$arity=-1);a.def(c,"$keep_cell_open",J=function(){this.cell_open=!0;return f},J.$$arity=0);a.def(c,"$mark_cell_closed",L=function(){this.cell_open=!1;return f},L.$$arity=
0);a.def(c,"$cell_open?",T=function(){return this.cell_open},T.$$arity=0);a.def(c,"$cell_closed?",P=function(){return this.cell_open["$!"]()},P.$$arity=0);a.def(c,"$close_open_cell",U=function(a){null==a&&(a=u([],{}));this.$push_cellspec(a);h(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return f},U.$$arity=-1);a.def(c,"$close_cell",la=function(c){try{var g,k,n=f,p=f,v=f;null==c&&(c=!1);this.format["$=="]("psv")?(n=this.buffer,this.buffer="",h(p=this.$take_cellspec())?v=h(g=p.$delete("repeatcol"))?
g:1:(this.$logger().$error(this.$message_with_context("table missing leading separator; recovering automatically",u(["source_location"],{source_location:e(l(t(w,"Reader"),"Cursor"),"new",a.to_a(this.start_cursor_data))}))),p=u([],{}),v=1)):(n=this.buffer.$strip(),this.buffer="",p=f,v=1,this.format["$=="]("csv")&&h(h(g=n["$empty?"]()["$!"]())?n["$include?"]('"'):g)&&(h(h(g=n["$start_with?"]('"'))?n["$end_with?"]('"'):g)&&(n=n.$slice(1,q(n.$length(),2)).$strip()),n=n.$squeeze('"')));e(1,"upto",[v],
(k=function(g){var r=k.$$s||this,x,z,y,C,B=f,G=f,F=f,B=f;null==r.colcount&&(r.colcount=f);null==r.table&&(r.table=f);null==r.current_row&&(r.current_row=f);null==r.reader&&(r.reader=f);null==r.column_visits&&(r.column_visits=f);null==r.linenum&&(r.linenum=f);null==g&&(g=f);r.colcount["$=="](-1)?(r.table.$columns()["$<<"](B=l(t(w,"Table"),"Column").$new(r.table,q(m(r.table.$columns().$size(),g),1))),h(h(x=h(z=p)?p["$key?"]("colspan"):z)?b(G=q(p["$[]"]("colspan").$to_i(),1),0):x)&&(F=r.table.$columns().$size(),
e(G,"times",[],(y=function(a){var b=y.$$s||this;null==b.table&&(b.table=f);null==a&&(a=f);return b.table.$columns()["$<<"](l(t(w,"Table"),"Column").$new(b.table,m(F,a)))},y.$$s=r,y.$$arity=1,y)))):h(B=r.table.$columns()["$[]"](r.current_row.$size()))||(r.$logger().$error(r.$message_with_context("dropping cell because it exceeds specified number of columns",u(["source_location"],{source_location:r.reader.$cursor_before_mark()}))),a.ret(f));B=l(t(w,"Table"),"Cell").$new(B,n,p,u(["cursor"],{cursor:r.reader.$cursor_before_mark()}));
r.reader.$mark();h(h(x=B.$rowspan()["$!"]())?x:B.$rowspan()["$=="](1))||r.$activate_rowspan(B.$rowspan(),h(x=B.$colspan())?x:1);r.column_visits=m(r.column_visits,h(x=B.$colspan())?x:1);r.current_row["$<<"](B);return h(h(x=r["$end_of_row?"]())?h(z=h(C=r.colcount["$!="](-1))?C:b(r.linenum,0))?z:h(C=c)?g["$=="](v):C:x)?r.$close_row():f},k.$$s=this,k.$$arity=1,k));this.cell_open=!1;return f}catch(r){if(r===a.returner)return r.$v;throw r;}},la.$$arity=-1);a.def(c,"$close_row",ga=function(){var b,c=f;this.table.$rows().$body()["$<<"](this.current_row);
this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();h(b=this.active_rowspans["$[]"](0))?b:(c=[0,0],e(this.active_rowspans,"[]=",a.to_a(c)),c[q(c.length,1)]);return f},ga.$$arity=0);a.def(c,"$activate_rowspan",ca=function(b,c){var d;e((1).$upto(q(b,1)),"each",[],(d=function(b){var g=d.$$s||this,k,l=f;null==g.active_rowspans&&(g.active_rowspans=f);null==b&&(b=f);l=[b,m(h(k=g.active_rowspans["$[]"](b))?k:0,c)];e(g.active_rowspans,
"[]=",a.to_a(l));return l[q(l.length,1)]},d.$$s=this,d.$$arity=1,d));return f},ca.$$arity=2);a.def(c,"$end_of_row?",Da=function(){var a;return h(a=this.colcount["$=="](-1))?a:this.$effective_column_visits()["$=="](this.colcount)},Da.$$arity=0);a.def(c,"$effective_column_visits",ea=function(){return m(this.column_visits,this.active_rowspans["$[]"](0))},ea.$$arity=0);return(a.def(c,"$advance",Fa=function(){return this.linenum=m(this.linenum,1)},Fa.$$arity=0),f)&&"advance"})(t(B,"Table"),null,B)}(c[0],
c)};Opal.modules["asciidoctor/converter/composite"]=function(a){var b=[],g=a.nil,q=a.const_get_qualified,p=a.const_get_relative,k=a.module,m=a.klass,c=a.send,f=a.truthy,l=a.hash2;a.add_stubs("$attr_reader $each $compact $flatten $respond_to? $composed $node_name $convert $converter_for $[] $find_converter $[]= $- $handles? $raise".split(" "));return function(b,d){function n(){}var e=[n=k(b,"Asciidoctor",n)].concat(d);(function(b,$super,d){function e(){}b=e=m(b,$super,"CompositeConverter",e);var k=
b.prototype;[b].concat(d);var n,q,p,t;k.converter_map=k.converters=g;b.$attr_reader("converters");a.def(b,"$initialize",n=function(b,d){var e,h;e=a.slice.call(arguments,1,arguments.length);this.backend=b;c(this.converters=e.$flatten().$compact(),"each",[],(h=function(a){var b=h.$$s||this;null==a&&(a=g);return f(a["$respond_to?"]("composed"))?a.$composed(b):g},h.$$s=this,h.$$arity=1,h));return this.converter_map=l([],{})},n.$$arity=-2);a.def(b,"$convert",q=function(a,b,c){var d;null==b&&(b=g);null==
c&&(c=l([],{}));b=f(d=b)?d:a.$node_name();return this.$converter_for(b).$convert(a,b,c)},q.$$arity=-2);a.alias(b,"convert_with_options","convert");a.def(b,"$converter_for",p=function(b){var d;d=g;f(d=this.converter_map["$[]"](b))?b=d:(d=[b,this.$find_converter(b)],c(this.converter_map,"[]=",a.to_a(d)),b=d,d=d.length,d="number"===typeof d?d-1:d["$-"](1),b=b[d]);return b},p.$$arity=1);return(a.def(b,"$find_converter",t=function(b){try{var d;c(this.converters,"each",[],(d=function(c){null==c&&(c=g);
if(f(c["$handles?"](b)))a.ret(c);else return g},d.$$s=this,d.$$arity=1,d));return this.$raise("Could not find a converter to handle transform: "+b)}catch(e){if(e===a.returner)return e.$v;throw e;}},t.$$arity=1),g)&&"find_converter"})(p(e,"Converter"),q(p(e,"Converter"),"Base"),e)}(b[0],b)};Opal.modules["asciidoctor/converter/html5"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}
function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var c=[],f=a.nil,l=a.const_get_qualified,t=a.const_get_relative,v=a.module,n=a.klass,e=a.send,h=a.hash2,r=a.truthy,u=a.range,x=a.gvars;a.add_stubs("$default= $- $== $[] $instance $empty? $attr $attr? $<< $include? $gsub $extname $doctitle $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $generate_manname_section $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $inspect $!= $document $sections $level $caption $captioned_title $numbered $<= $sectnum $< $key? $attributes $role $+ $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $items $blocks? $text? $chomp $safe $read_svg_contents $alt $image_uri $encode_quotes $join $append_link_constraint_attrs $pygments_background $to_sym $count $start_with? $end_with? $list_marker_keyword $parent $warn $logger $context $error $new $size $columns $by_section $rows $colspan $rowspan $role? $unshift $shift $split $nil_or_empty? $type $catalog $xreftext $target $map $chop $upcase $read_contents $sub $match $length".split(" "));
return function(c,y){function B(){}var F=[B=v(c,"Asciidoctor",B)].concat(y);(function(c,$super,v){function y(){}c=y=n(c,$super,"Html5Converter",y);var B=c.prototype,G=[c].concat(v),F,J,L,T,N,W,R,ba,S,P,aa,U,la,ga,ca,Da,ea,Fa,da,na,ra,K,fa,ia,ua,oa,Ja,Ra,Q,Ha,xa,Aa,Ea,wa,za,Ia,Oa,Ma,Pa,Na,Sa,Ta,Ua;v=f;B.xml_mode=B.void_element_slash=B.stylesheets=B.pygments_bg=B.refs=f;v=[["","",!1]];e(a.const_set(G[0],"QUOTE_TAGS",h("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),
{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",a.to_a(v));v[b(v.length,1)];a.const_set(G[0],"DropAnchorRx",/<(?:a[^>+]+|\/a)>/);a.const_set(G[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/);a.const_set(G[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m);
a.const_set(G[0],"SvgStartTagRx",/^<svg[^>]*>/);a.const_set(G[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["'])[^\n]*?\1/);a.def(c,"$initialize",F=function(a,b){null==b&&(b=h([],{}));this.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=r(this.xml_mode)?"/":f;return this.stylesheets=t(G,"Stylesheets").$instance()},F.$$arity=-2);a.def(c,"$document",J=function(b){var c,d,k,m,n,p=f,v=f,x=f,z=f,y=f,C=f,B=f,D=f,F=B=f,K=f,J=y=F=y=F=B=F=B=B=f,N=f,p=p=y=y=F=f,p=this.void_element_slash,
v="<br"+p+">";r((x=b.$attr("asset-uri-scheme","https"))["$empty?"]())||(x=""+x+":");z=""+x+"//cdnjs.cloudflare.com/ajax/libs";y=b["$attr?"]("linkcss");C=["<!DOCTYPE html>"];B=r(b["$attr?"]("nolang"))?"":' lang="'+b.$attr("lang","en")+'"';C["$<<"]("<html"+(r(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+B+">");C["$<<"]('<head>\n<meta charset="'+b.$attr("encoding","UTF-8")+'"'+p+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+p+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
p+'>\n<meta name="generator" content="Asciidoctor '+b.$attr("asciidoctor-version")+'"'+p+">");if(r(b["$attr?"]("app-name")))C["$<<"]('<meta name="application-name" content="'+b.$attr("app-name")+'"'+p+">");if(r(b["$attr?"]("description")))C["$<<"]('<meta name="description" content="'+b.$attr("description")+'"'+p+">");if(r(b["$attr?"]("keywords")))C["$<<"]('<meta name="keywords" content="'+b.$attr("keywords")+'"'+p+">");if(r(b["$attr?"]("authors")))C["$<<"]('<meta name="author" content="'+(r((D=b.$attr("authors"))["$include?"]("<"))?
D.$gsub(t(G,"XmlSanitizeRx"),""):D)+'"'+p+">");if(r(b["$attr?"]("copyright")))C["$<<"]('<meta name="copyright" content="'+b.$attr("copyright")+'"'+p+">");r(b["$attr?"]("favicon"))&&(r((B=b.$attr("favicon"))["$empty?"]())?(c=["favicon.ico","image/x-icon"],B=c[0],F=c[1],c):F=(K=l("::","File").$extname(B))["$=="](".ico")?"image/x-icon":"image/"+K["$[]"](u(1,-1,!1)),C["$<<"]('<link rel="icon" type="'+F+'" href="'+B+'"'+p+">"));C["$<<"]("<title>"+b.$doctitle(h(["sanitize","use_fallback"],{sanitize:!0,
use_fallback:!0}))+"</title>");if(r(t(G,"DEFAULT_STYLESHEET_KEYS")["$include?"](b.$attr("stylesheet")))){if(r(B=b.$attr("webfonts")))C["$<<"]('<link rel="stylesheet" href="'+x+"//fonts.googleapis.com/css?family="+(r(B["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":B)+'"'+p+">");if(r(y))C["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(t(G,"DEFAULT_STYLESHEET_NAME"),b.$attr("stylesdir",""),!1)+'"'+
p+">");else C["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if(r(b["$attr?"]("stylesheet")))if(r(y))C["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(b.$attr("stylesheet"),b.$attr("stylesdir",""))+'"'+p+">");else C["$<<"]("<style>\n"+b.$read_asset(b.$normalize_system_path(b.$attr("stylesheet"),b.$attr("stylesdir","")),h(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>");if(r(b["$attr?"]("icons","font")))if(r(b["$attr?"]("iconfont-remote")))C["$<<"]('<link rel="stylesheet" href="'+
b.$attr("iconfont-cdn",""+z+"/font-awesome/"+t(G,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+p+">");else B=""+b.$attr("iconfont-name","font-awesome")+".css",C["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(B,b.$attr("stylesdir",""),!1)+'"'+p+">");F=B=b.$attr("source-highlighter");if("coderay"["$==="](F)){if(b.$attr("coderay-css","class")["$=="]("class"))if(r(y))C["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),b.$attr("stylesdir",
""),!1)+'"'+p+">");else C["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](F)&&b.$attr("pygments-css","class")["$=="]("class"))if(F=b.$attr("pygments-style"),r(y))C["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(F),b.$attr("stylesdir",""),!1)+'"'+p+">");else C["$<<"](this.stylesheets.$embed_pygments_stylesheet(F));if(!r((y=b.$docinfo())["$empty?"]()))C["$<<"](y);C["$<<"]("</head>");F=r(b.$id())?['id="'+b.$id()+
'"']:[];J=r(r(c=r(d=r(k=y=b["$sections?"]())?b["$attr?"]("toc-class"):k)?b["$attr?"]("toc"):d)?b["$attr?"]("toc-placement","auto"):c)?[b.$doctype(),b.$attr("toc-class"),"toc-"+b.$attr("toc-position","header")]:[b.$doctype()];if(r(b["$attr?"]("docrole")))J["$<<"](b.$attr("docrole"));F["$<<"]('class="'+g(J," ")+'"');if(r(b["$attr?"]("max-width")))F["$<<"]('style="max-width: '+b.$attr("max-width")+';"');C["$<<"]("<body "+g(F," ")+">");if(!r(b.$noheader())){C["$<<"]('<div id="header">');if(b.$doctype()["$=="]("manpage")){C["$<<"]("<h1>"+
b.$doctitle()+" Manual Page</h1>");if(r(r(c=r(d=y)?b["$attr?"]("toc"):d)?b["$attr?"]("toc-placement","auto"):c))C["$<<"]('<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>");if(r(b["$attr?"]("manpurpose")))C["$<<"](this.$generate_manname_section(b))}else{if(r(b["$has_header?"]())){if(!r(b.$notitle()))C["$<<"]("<h1>"+b.$header().$title()+"</h1>");N=[];if(r(b["$attr?"]("author"))){N["$<<"]('<span id="author" class="author">'+
b.$attr("author")+"</span>"+v);if(r(b["$attr?"]("email")))N["$<<"]('<span id="email" class="email">'+b.$sub_macros(b.$attr("email"))+"</span>"+v);r(q(F=b.$attr("authorcount").$to_i(),1))&&e(a.Range.$new(2,F,!1),"each",[],(m=function(a){null==a&&(a=f);N["$<<"]('<span id="author'+a+'" class="author">'+b.$attr("author_"+a)+"</span>"+v);return r(b["$attr?"]("email_"+a))?N["$<<"]('<span id="email'+a+'" class="email">'+b.$sub_macros(b.$attr("email_"+a))+"</span>"+v):f},m.$$s=this,m.$$arity=1,m))}if(r(b["$attr?"]("revnumber")))N["$<<"]('<span id="revnumber">'+
(r(c=b.$attr("version-label"))?c:"").$downcase()+" "+b.$attr("revnumber")+(r(b["$attr?"]("revdate"))?",":"")+"</span>");if(r(b["$attr?"]("revdate")))N["$<<"]('<span id="revdate">'+b.$attr("revdate")+"</span>");if(r(b["$attr?"]("revremark")))N["$<<"](""+v+'<span id="revremark">'+b.$attr("revremark")+"</span>");r(N["$empty?"]())||(C["$<<"]('<div class="details">'),C.$concat(N),C["$<<"]("</div>"))}if(r(r(c=r(d=y)?b["$attr?"]("toc"):d)?b["$attr?"]("toc-placement","auto"):c))C["$<<"]('<div id="toc" class="'+
b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>")}C["$<<"]("</div>")}C["$<<"]('<div id="content">\n'+b.$content()+"\n</div>");r(r(c=b["$footnotes?"]())?b["$attr?"]("nofootnotes")["$!"]():c)&&(C["$<<"]('<div id="footnotes">\n<hr'+p+">"),e(b.$footnotes(),"each",[],(n=function(a){null==a&&(a=f);return C["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+
"\n</div>")},n.$$s=this,n.$$arity=1,n)),C["$<<"]("</div>"));if(!r(b.$nofooter())){C["$<<"]('<div id="footer">');C["$<<"]('<div id="footer-text">');if(r(b["$attr?"]("revnumber")))C["$<<"](""+b.$attr("version-label")+" "+b.$attr("revnumber")+v);if(r(r(c=b["$attr?"]("last-update-label"))?b["$attr?"]("reproducible")["$!"]():c))C["$<<"](""+b.$attr("last-update-label")+" "+b.$attr("docdatetime"));C["$<<"]("</div>");C["$<<"]("</div>")}if(!r((y=b.$docinfo("footer"))["$empty?"]()))C["$<<"](y);F=B;"highlightjs"["$==="](F)||
"highlight.js"["$==="](F)?(y=b.$attr("highlightjsdir",""+z+"/highlight.js/9.12.0"),C["$<<"]('<link rel="stylesheet" href="'+y+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+p+">"),C["$<<"]('<script src="'+y+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):"prettify"["$==="](F)&&(y=b.$attr("prettifydir",""+z+"/prettify/r298"),C["$<<"]('<link rel="stylesheet" href="'+y+"/"+b.$attr("prettify-theme","prettify")+'.min.css"'+p+">"),C["$<<"]('<script src="'+
y+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));r(b["$attr?"]("stem"))&&(p=b.$attr("eqnums","none"),r(p["$empty?"]())&&(p="AMS"),p=' equationNumbers: { autoNumber: "'+p+'" } ',C["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+t(G,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+t(G,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+
t(G,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+p+'}\n});\n\x3c/script>\n<script src="'+z+"/mathjax/"+t(G,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));C["$<<"]("</body>");C["$<<"]("</html>");return g(C,t(G,"LF"))},J.$$arity=1);a.def(c,"$embedded",L=function(a){var b,c,d,h,k=f,l=f,m=f,k=[];if(a.$doctype()["$=="]("manpage")){if(r(a.$notitle())||(l=r(a.$id())?' id="'+a.$id()+'"':"",k["$<<"]("<h1"+
l+">"+a.$doctitle()+" Manual Page</h1>")),r(a["$attr?"]("manpurpose")))k["$<<"](this.$generate_manname_section(a))}else r(r(b=a["$has_header?"]())?a.$notitle()["$!"]():b)&&(l=r(a.$id())?' id="'+a.$id()+'"':"",k["$<<"]("<h1"+l+">"+a.$header().$title()+"</h1>"));if(r(r(b=r(c=r(d=a["$sections?"]())?a["$attr?"]("toc"):d)?(m=a.$attr("toc-placement"))["$!="]("macro"):c)?m["$!="]("preamble"):b))k["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");
k["$<<"](a.$content());r(r(b=a["$footnotes?"]())?a["$attr?"]("nofootnotes")["$!"]():b)&&(k["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),e(a.$footnotes(),"each",[],(h=function(a){null==a&&(a=f);return k["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},h.$$s=this,h.$$arity=1,h)),k["$<<"]("</div>"));return g(k,t(G,"LF"))},L.$$arity=1);a.def(c,"$outline",T=function(a,b){var c,d,l=f,m=
f,n=f,q=f;null==b&&(b=h([],{}));if(!r(a["$sections?"]()))return f;l=r(c=b["$[]"]("sectnumlevels"))?c:a.$document().$attr("sectnumlevels",3).$to_i();m=r(c=b["$[]"]("toclevels"))?c:a.$document().$attr("toclevels",2).$to_i();n=a.$sections();q=['<ul class="sectlevel'+n["$[]"](0).$level()+'">'];e(n,"each",[],(d=function(a){var b=d.$$s||this,c,e=f,g=f,n=f;null==a&&(a=f);e=a.$level();g=r(a.$caption())?a.$captioned_title():r(r(c=a.$numbered())?p(e,l):c)?""+a.$sectnum()+" "+a.$title():a.$title();r(g["$include?"]("<a"))&&
(g=g.$gsub(t(G,"DropAnchorRx"),""));return r(r(c=k(e,m))?n=b.$outline(a,h(["toclevels","secnumlevels"],{toclevels:m,secnumlevels:l})):c)?(q["$<<"]('<li><a href="#'+a.$id()+'">'+g+"</a>"),q["$<<"](n),q["$<<"]("</li>")):q["$<<"]('<li><a href="#'+a.$id()+'">'+g+"</a></li>")},d.$$s=this,d.$$arity=1,d));q["$<<"]("</ul>");return g(q,t(G,"LF"))},T.$$arity=-2);a.def(c,"$section",N=function(a){var b,c,d=f,e=f,g=f,h=f,k=f,l=f,n=f;(d=a.$level())["$=="](0)?(e=!0,g=r(r(b=a.$numbered())?p(d,a.$document().$attr("sectnumlevels",
3).$to_i()):b)?""+a.$sectnum()+" "+a.$title():a.$title()):g=r(r(b=r(c=a.$numbered())?a.$caption()["$!"]():c)?p(d,a.$document().$attr("sectnumlevels",3).$to_i()):b)?""+a.$sectnum()+" "+a.$title():a.$captioned_title();r(a.$id())?(h=' id="'+(k=a.$id())+'"',r((l=a.$document().$attributes())["$key?"]("sectlinks"))&&(g='<a class="link" href="#'+k+'">'+g+"</a>"),r(l["$key?"]("sectanchors"))&&(g=l["$[]"]("sectanchors")["$=="]("after")?""+g+'<a class="anchor" href="#'+k+'"></a>':'<a class="anchor" href="#'+
k+'"></a>'+g)):h="";return r(e)?"<h1"+h+' class="sect0'+(r(n=a.$role())?" "+n:"")+'">'+g+"</h1>\n"+a.$content():'<div class="sect'+d+(r(n=a.$role())?" "+n:"")+'">\n<h'+m(d,1)+h+">"+g+"</h"+m(d,1)+">\n"+(d["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},N.$$arity=1);a.def(c,"$admonition",W=function(a){var b,c=f,d=f,e=f,g=f,h=f,c=r(a.$id())?' id="'+a.$id()+'"':"",d=a.$attr("name"),e=r(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"",g=r(a.$document()["$attr?"]("icons"))?
r(r(b=a.$document()["$attr?"]("icons","font"))?a["$attr?"]("icon")["$!"]():b)?'<i class="fa icon-'+d+'" title="'+a.$attr("textlabel")+'"></i>':'<img src="'+a.$icon_uri(d)+'" alt="'+a.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+a.$attr("textlabel")+"</div>";return"<div"+c+' class="admonitionblock '+d+(r(h=a.$role())?" "+h:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+g+'\n</td>\n<td class="content">\n'+e+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},W.$$arity=1);a.def(c,
"$audio",R=function(a){var b,c=f,d=f,e=f,h=e=f,k=f,l=f,k=f,c=this.xml_mode,d=r(a.$id())?' id="'+a.$id()+'"':"",e=["audioblock",a.$role()].$compact(),e=' class="'+g(e," ")+'"',h=r(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"",k=a.$attr("start",f,!1),l=a.$attr("end",f,!1),k=r(r(b=k)?b:l)?"#t="+(r(b=k)?b:"")+(r(l)?","+l:""):"";return"<div"+d+e+">\n"+h+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+k+'"'+(r(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",
c):"")+(r(a["$option?"]("nocontrols"))?"":this.$append_boolean_attribute("controls",c))+(r(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",c):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},R.$$arity=1);a.def(c,"$colist",ba=function(a){var b,c,d=f,h=f,k=f,l=k=f,n=f,d=[],h=r(a.$id())?' id="'+a.$id()+'"':"",k=["colist",a.$style(),a.$role()].$compact(),k=' class="'+g(k," ")+'"';d["$<<"]("<div"+h+k+">");if(r(a["$title?"]()))d["$<<"]('<div class="title">'+
a.$title()+"</div>");r(a.$document()["$attr?"]("icons"))?(d["$<<"]("<table>"),b=[a.$document()["$attr?"]("icons","font"),0],l=b[0],n=b[1],b,e(a.$items(),"each",[],(c=function(b){var e=c.$$s||this,g=f;null==e.void_element_slash&&(e.void_element_slash=f);null==b&&(b=f);n=m(n,1);g=r(l)?'<i class="conum" data-value="'+n+'"></i><b>'+n+"</b>":'<img src="'+a.$icon_uri("callouts/"+n)+'" alt="'+n+'"'+e.void_element_slash+">";return d["$<<"]("<tr>\n<td>"+g+"</td>\n<td>"+b.$text()+(r(b["$blocks?"]())?m(t(G,
"LF"),b.$content()):"")+"</td>\n</tr>")},c.$$s=this,c.$$arity=1,c)),d["$<<"]("</table>")):(d["$<<"]("<ol>"),e(a.$items(),"each",[],(b=function(a){null==a&&(a=f);return d["$<<"]("<li>\n<p>"+a.$text()+"</p>"+(r(a["$blocks?"]())?m(t(G,"LF"),a.$content()):"")+"\n</li>")},b.$$s=this,b.$$arity=1,b)),d["$<<"]("</ol>"));d["$<<"]("</div>");return g(d,t(G,"LF"))},ba.$$arity=1);a.def(c,"$dlist",S=function(b){var c,d,h,k,l=f,n=f,m=f,q=m=m=f,p=n=f,l=[],n=r(b.$id())?' id="'+b.$id()+'"':"",m=b.$style(),m=("qanda"["$==="](m)?
["qlist","qanda",b.$role()]:"horizontal"["$==="](m)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),m=' class="'+g(m," ")+'"';l["$<<"]("<div"+n+m+">");if(r(b["$title?"]()))l["$<<"]('<div class="title">'+b.$title()+"</div>");m=b.$style();"qanda"["$==="](m)?(l["$<<"]("<ol>"),e(b.$items(),"each",[],(c=function(b,d){var g=c.$$s||this,h;null==b&&(b=f);null==d&&(d=f);l["$<<"]("<li>");e([].concat(a.to_a(b)),"each",[],(h=function(a){null==a&&(a=f);return l["$<<"]("<p><em>"+a.$text()+"</em></p>")},
h.$$s=g,h.$$arity=1,h));if(r(d)){if(r(d["$text?"]()))l["$<<"]("<p>"+d.$text()+"</p>");if(r(d["$blocks?"]()))l["$<<"](d.$content())}return l["$<<"]("</li>")},c.$$s=this,c.$$arity=2,c)),l["$<<"]("</ol>")):"horizontal"["$==="](m)?(q=this.void_element_slash,l["$<<"]("<table>"),r(r(d=b["$attr?"]("labelwidth"))?d:b["$attr?"]("itemwidth"))&&(l["$<<"]("<colgroup>"),n=r(b["$attr?"]("labelwidth"))?' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"':"",l["$<<"]("<col"+n+q+">"),n=r(b["$attr?"]("itemwidth"))?
' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"':"",l["$<<"]("<col"+n+q+">"),l["$<<"]("</colgroup>")),e(b.$items(),"each",[],(h=function(c,d){var g=h.$$s||this,k,m=f,n=f;null==c&&(c=f);null==d&&(d=f);l["$<<"]("<tr>");l["$<<"]('<td class="hdlist1'+(r(b["$option?"]("strong"))?" strong":"")+'">');m=[].concat(a.to_a(c));n=m["$[]"](-1);e(m,"each",[],(k=function(a){null==a&&(a=f);l["$<<"](a.$text());return r(a["$!="](n))?l["$<<"]("<br"+q+">"):f},k.$$s=g,k.$$arity=1,k));l["$<<"]("</td>");l["$<<"]('<td class="hdlist2">');
if(r(d)){if(r(d["$text?"]()))l["$<<"]("<p>"+d.$text()+"</p>");if(r(d["$blocks?"]()))l["$<<"](d.$content())}l["$<<"]("</td>");return l["$<<"]("</tr>")},h.$$s=this,h.$$arity=2,h)),l["$<<"]("</table>")):(l["$<<"]("<dl>"),p=r(b.$style())?"":' class="hdlist1"',e(b.$items(),"each",[],(k=function(b,c){var d=k.$$s||this,g;null==b&&(b=f);null==c&&(c=f);e([].concat(a.to_a(b)),"each",[],(g=function(a){null==a&&(a=f);return l["$<<"]("<dt"+p+">"+a.$text()+"</dt>")},g.$$s=d,g.$$arity=1,g));if(r(c)){l["$<<"]("<dd>");
if(r(c["$text?"]()))l["$<<"]("<p>"+c.$text()+"</p>");if(r(c["$blocks?"]()))l["$<<"](c.$content());return l["$<<"]("</dd>")}return f},k.$$s=this,k.$$arity=2,k)),l["$<<"]("</dl>"));l["$<<"]("</div>");return g(l,t(G,"LF"))},S.$$arity=1);a.def(c,"$example",P=function(a){var b=f,c=f,d=f,b=r(a.$id())?' id="'+a.$id()+'"':"",c=r(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":"";return"<div"+b+' class="exampleblock'+(r(d=a.$role())?" "+d:"")+'">\n'+c+'<div class="content">\n'+a.$content()+
"\n</div>\n</div>"},P.$$arity=1);a.def(c,"$floating_title",aa=function(a){var b=f,c=f,d=f,b="h"+m(a.$level(),1),c=r(a.$id())?' id="'+a.$id()+'"':"",d=[a.$style(),a.$role()].$compact();return"<"+b+c+' class="'+g(d," ")+'">'+a.$title()+"</"+b+">"},aa.$$arity=1);a.def(c,"$image",U=function(a){var b,c,d,e=f,h=f,m=f,n=f,q=f,p=f,v=f,v=m=m=h=h=e=f,e=a.$attr("target"),h=r(a["$attr?"]("width"))?' width="'+a.$attr("width")+'"':"",m=r(a["$attr?"]("height"))?' height="'+a.$attr("height")+'"':"";r(r(b=r(c=r(d=
a["$attr?"]("format","svg",!1))?d:e["$include?"](".svg"))?k(a.$document().$safe(),l(t(G,"SafeMode"),"SECURE")):c)?r(c=n=a["$option?"]("inline"))?c:q=a["$option?"]("interactive"):b)&&(r(n)?p=r(b=this.$read_svg_contents(a,e))?b:'<span class="alt">'+a.$alt()+"</span>":r(q)&&(v=r(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_quotes(a.$alt())+'"'+h+m+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",p='<object type="image/svg+xml" data="'+
a.$image_uri(e)+'"'+h+m+">"+v+"</object>"));p=r(b=p)?b:'<img src="'+a.$image_uri(e)+'" alt="'+this.$encode_quotes(a.$alt())+'"'+h+m+this.void_element_slash+">";r(a["$attr?"]("link",f,!1))&&(p='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+p+"</a>");e=r(a.$id())?' id="'+a.$id()+'"':"";h=["imageblock",a.$role()].$compact();h=' class="'+g(h," ")+'"';m=[];if(r(a["$attr?"]("align")))m["$<<"]("text-align: "+a.$attr("align"));if(r(a["$attr?"]("float")))m["$<<"]("float: "+
a.$attr("float"));m=r(m["$empty?"]())?"":' style="'+g(m,";")+'"';v=r(a["$title?"]())?'\n<div class="title">'+a.$captioned_title()+"</div>":"";return"<div"+e+h+m+'>\n<div class="content">\n'+p+"\n</div>"+v+"\n</div>"},U.$$arity=1);a.def(c,"$listing",la=function(a){var b,c=f,d=f,e=f,g=f,h=g=c=e=c=f,k=f,c=r(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(e=r(d=a.$attr("language",f,!1))?' data-lang="'+d+'"':"",g=a.$document().$attr("source-highlighter"),
"coderay"["$==="](g)?c=' class="CodeRay highlight'+(r(c)?" nowrap":"")+'"':"pygments"["$==="](g)?r(a.$document()["$attr?"]("pygments-css","inline"))?(r((b=this.pygments_bg,null!=b&&b!==f)?"instance-variable":f)||(this.pygments_bg=this.stylesheets.$pygments_background(a.$document().$attr("pygments-style"))),c=' class="pygments highlight'+(r(c)?" nowrap":"")+'" style="background: '+this.pygments_bg+'"'):c=' class="pygments highlight'+(r(c)?" nowrap":"")+'"':"highlightjs"["$==="](g)||"highlight.js"["$==="](g)?
(c=' class="highlightjs highlight'+(r(c)?" nowrap":"")+'"',r(d)&&(e=' class="language-'+d+' hljs"'+e)):"prettify"["$==="](g)?(c=' class="prettyprint highlight'+(r(c)?" nowrap":"")+(r(a["$attr?"]("linenums",f,!1))?" linenums":"")+'"',r(d)&&(e=' class="language-'+d+'"'+e)):"html-pipeline"["$==="](g)?(c=r(d)?' lang="'+d+'"':"",e=""):(c=' class="highlight'+(r(c)?" nowrap":"")+'"',r(d)&&(e=' class="language-'+d+'"'+e)),e="<pre"+c+"><code"+e+">",c="</code></pre>"):(e="<pre"+(r(c)?' class="nowrap"':"")+
">",c="</pre>");g=r(a.$id())?' id="'+a.$id()+'"':"";h=r(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":"";return"<div"+g+' class="listingblock'+(r(k=a.$role())?" "+k:"")+'">\n'+h+'<div class="content">\n'+e+a.$content()+c+"\n</div>\n</div>"},la.$$arity=1);a.def(c,"$literal",ga=function(a){var b,c=f,d=f,e=f,g=f,c=r(a.$id())?' id="'+a.$id()+'"':"",d=r(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"",e=r(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");
return"<div"+c+' class="literalblock'+(r(g=a.$role())?" "+g:"")+'">\n'+d+'<div class="content">\n<pre'+(r(e)?' class="nowrap"':"")+">"+a.$content()+"</pre>\n</div>\n</div>"},ga.$$arity=1);a.def(c,"$stem",ca=function(b){var c,d,h,k=f,l=f,m=f,n=f,q=f,p=d=f,v=f,k=r(b.$id())?' id="'+b.$id()+'"':"",l=r(b["$title?"]())?'<div class="title">'+b.$title()+"</div>\n":"";d=t(G,"BLOCK_MATH_DELIMITERS")["$[]"](m=b.$style().$to_sym());c=a.to_ary(d);n=null==c[0]?f:c[0];q=null==c[1]?f:c[1];d;d=b.$content();r((c=m["$=="]("asciimath"))?
d["$include?"](t(G,"LF")):m["$=="]("asciimath"))&&(p="<br"+this.void_element_slash+">"+t(G,"LF"),d=e(d,"gsub",[t(G,"StemBreakRx")],(h=function(){var a;return""+q+g(p,((a=x["~"])===f?f:a["$[]"](0)).$count(t(G,"LF")))+n},h.$$s=this,h.$$arity=0,h)));r(r(c=d["$start_with?"](n))?d["$end_with?"](q):c)||(d=""+n+d+q);return"<div"+k+' class="stemblock'+(r(v=b.$role())?" "+v:"")+'">\n'+l+'<div class="content">\n'+d+"\n</div>\n</div>"},ca.$$arity=1);a.def(c,"$olist",Da=function(a){var b,c=f,d=f,h=f,k=d=h=f,
l=h=f,c=[],d=r(a.$id())?' id="'+a.$id()+'"':"",h=["olist",a.$style(),a.$role()].$compact(),h=' class="'+g(h," ")+'"';c["$<<"]("<div"+d+h+">");if(r(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");d=r(k=a.$list_marker_keyword())?' type="'+k+'"':"";h=r(a["$attr?"]("start"))?' start="'+a.$attr("start")+'"':"";l=r(a["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",this.xml_mode):"";c["$<<"]('<ol class="'+a.$style()+'"'+d+h+l+">");e(a.$items(),"each",[],(b=function(a){null==
a&&(a=f);c["$<<"]("<li>");c["$<<"]("<p>"+a.$text()+"</p>");if(r(a["$blocks?"]()))c["$<<"](a.$content());return c["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</ol>");c["$<<"]("</div>");return g(c,t(G,"LF"))},Da.$$arity=1);a.def(c,"$open",ea=function(a){var b,c,d,e=f,g=f,h=f,k=f;if((e=a.$style())["$=="]("abstract")){if(r(a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),
"";g=r(a.$id())?' id="'+a.$id()+'"':"";h=r(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+g+' class="quoteblock abstract'+(r(k=a.$role())?" "+k:"")+'">\n'+h+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(r((b=e["$=="]("partintro"))?r(c=r(d=q(a.$level(),0))?d:a.$parent().$context()["$!="]("section"))?c:a.$document().$doctype()["$!="]("book"):e["$=="]("partintro")))return this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),
"";g=r(a.$id())?' id="'+a.$id()+'"':"";h=r(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+g+' class="openblock'+(r(r(b=e)?e["$!="]("open"):b)?" "+e:"")+(r(k=a.$role())?" "+k:"")+'">\n'+h+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},ea.$$arity=1);a.def(c,"$page_break",Fa=function(a){return'<div style="page-break-after: always;"></div>'},Fa.$$arity=1);a.def(c,"$paragraph",da=function(a){var b=f,b=f,b=r(a.$role())?'class="paragraph '+a.$role()+'"':'class="paragraph"',
b=r(a.$id())?'id="'+a.$id()+'" '+b:b;return r(a["$title?"]())?"<div "+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div "+b+">\n<p>"+a.$content()+"</p>\n</div>"},da.$$arity=1);a.def(c,"$preamble",na=function(a){var b,c,d=f,e=f,e=r(r(b=r(c=(d=a.$document())["$attr?"]("toc-placement","preamble"))?d["$sections?"]():c)?d["$attr?"]("toc"):b)?'\n<div id="toc" class="'+d.$attr("toc-class","toc")+'">\n<div id="toctitle">'+d.$attr("toc-title")+"</div>\n"+this.$outline(d)+
"\n</div>":"";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+e+"\n</div>"},na.$$arity=1);a.def(c,"$quote",ra=function(a){var b,c=f,d=f,e=d=f,h=f,k=f,l=f,l=h=f,c=r(a.$id())?' id="'+a.$id()+'"':"",d=["quoteblock",a.$role()].$compact(),d=' class="'+g(d," ")+'"',e=r(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"",h=r(a["$attr?"]("attribution"))?a.$attr("attribution"):f,k=r(a["$attr?"]("citetitle"))?a.$attr("citetitle"):f;r(r(b=h)?b:k)?(l=r(k)?"<cite>"+
k+"</cite>":"",h=r(h)?"&#8212; "+h+(r(k)?"<br"+this.void_element_slash+">\n":""):"",l='\n<div class="attribution">\n'+h+l+"\n</div>"):l="";return"<div"+c+d+">"+e+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+l+"\n</div>"},ra.$$arity=1);a.def(c,"$thematic_break",K=function(a){return"<hr"+this.void_element_slash+">"},K.$$arity=1);a.def(c,"$sidebar",fa=function(a){var b=f,c=f,d=f,b=r(a.$id())?' id="'+a.$id()+'"':"",c=r(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+b+
' class="sidebarblock'+(r(d=a.$role())?" "+d:"")+'">\n<div class="content">\n'+c+a.$content()+"\n</div>\n</div>"},fa.$$arity=1);a.def(c,"$table",ia=function(a){var b,c,d,h=f,k=f,l=f,n=f,p=f,v=n=f,u=p=l=v=f,h=[],k=r(a.$id())?' id="'+a.$id()+'"':"",l=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")];if(r(n=a.$attr("stripes")))l["$<<"]("stripes-"+n);p=[];if(r(r(b=n=a.$attributes()["$[]"]("autowidth-option"))?a["$attr?"]("width",f,!1)["$!"]():b))l["$<<"]("fit-content");else if((v=
a.$attr("tablepcwidth"))["$=="](100))l["$<<"]("stretch");else p["$<<"]("width: "+v+"%;");if(r(v=a.$role()))l["$<<"](v);l=' class="'+g(l," ")+'"';if(r(a["$attr?"]("float")))p["$<<"]("float: "+a.$attr("float")+";");p=r(p["$empty?"]())?"":' style="'+g(p," ")+'"';h["$<<"]("<table"+k+l+p+">");if(r(a["$title?"]()))h["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");r(q(a.$attr("rowcount"),0))&&(u=this.void_element_slash,h["$<<"]("<colgroup>"),r(n)?h=m(h,t(G,"Array").$new(a.$columns().$size(),
"<col"+u+">")):e(a.$columns(),"each",[],(c=function(a){null==a&&(a=f);return h["$<<"](r(a.$attributes()["$[]"]("autowidth-option"))?"<col"+u+">":'<col style="width: '+a.$attr("colpcwidth")+'%;"'+u+">")},c.$$s=this,c.$$arity=1,c)),h["$<<"]("</colgroup>"),e(a.$rows().$by_section(),"each",[],(d=function(b,c){var k=d.$$s||this,l;null==b&&(b=f);null==c&&(c=f);if(r(c["$empty?"]()))return f;h["$<<"]("<t"+b+">");e(c,"each",[],(l=function(c){var d=l.$$s||this,k;null==c&&(c=f);h["$<<"]("<tr>");e(c,"each",[],
(k=function(c){var d,e=f,k=f,l=k=f,m=f,n=f,q=f;null==c&&(c=f);b["$=="]("head")?e=c.$text():(k=c.$style(),e="asciidoc"["$==="](k)?'<div class="content">'+c.$content()+"</div>":"verse"["$==="](k)?'<div class="verse">'+c.$text()+"</div>":"literal"["$==="](k)?'<div class="literal"><pre>'+c.$text()+"</pre></div>":r((e=c.$content())["$empty?"]())?"":'<p class="tableblock">'+g(e,'</p>\n<p class="tableblock">')+"</p>");k=r(r(d=b["$=="]("head"))?d:c.$style()["$=="]("header"))?"th":"td";l=' class="tableblock halign-'+
c.$attr("halign")+" valign-"+c.$attr("valign")+'"';m=r(c.$colspan())?' colspan="'+c.$colspan()+'"':"";n=r(c.$rowspan())?' rowspan="'+c.$rowspan()+'"':"";q=r(a.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+a.$document().$attr("cellbgcolor")+';"':"";return h["$<<"]("<"+k+l+m+n+q+">"+e+"</"+k+">")},k.$$s=d,k.$$arity=1,k));return h["$<<"]("</tr>")},l.$$s=k,l.$$arity=1,l));return h["$<<"]("</t"+b+">")},d.$$s=this,d.$$arity=2,d)));h["$<<"]("</table>");return g(h,t(G,"LF"))},ia.$$arity=
1);a.def(c,"$toc",ua=function(a){var b,c,d=f,e=f,g=f,k=f,l=f,m=f;if(!r(r(b=r(c=(d=a.$document())["$attr?"]("toc-placement","macro"))?d["$sections?"]():c)?d["$attr?"]("toc"):b))return"\x3c!-- toc disabled --\x3e";r(a.$id())?(e=' id="'+a.$id()+'"',g=' id="'+a.$id()+'title"'):(e=' id="toc"',g=' id="toctitle"');k=r(a["$title?"]())?a.$title():d.$attr("toc-title");l=r(a["$attr?"]("levels"))?a.$attr("levels").$to_i():f;m=r(a["$role?"]())?a.$role():d.$attr("toc-class","toc");return"<div"+e+' class="'+m+'">\n<div'+
g+' class="title">'+k+"</div>\n"+this.$outline(d,h(["toclevels"],{toclevels:l}))+"\n</div>"},ua.$$arity=1);a.def(c,"$ulist",oa=function(a){var b,c=f,d=f,h=f,k=f,l=f,m=f,n=f,c=[],d=r(a.$id())?' id="'+a.$id()+'"':"",h=["ulist",a.$style(),a.$role()].$compact(),k=l="";r(m=a["$option?"]("checklist"))?(h.$unshift(h.$shift(),"checklist"),n=' class="checklist"',r(a["$option?"]("interactive"))?r(this.xml_mode)?(k='<input type="checkbox" data-item-complete="1" checked="checked"/> ',l='<input type="checkbox" data-item-complete="0"/> '):
(k='<input type="checkbox" data-item-complete="1" checked> ',l='<input type="checkbox" data-item-complete="0"> '):r(a.$document()["$attr?"]("icons","font"))?(k='<i class="fa fa-check-square-o"></i> ',l='<i class="fa fa-square-o"></i> '):(k="&#10003; ",l="&#10063; ")):n=r(a.$style())?' class="'+a.$style()+'"':"";c["$<<"]("<div"+d+' class="'+g(h," ")+'">');if(r(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");c["$<<"]("<ul"+n+">");e(a.$items(),"each",[],(b=function(a){var b;null==
a&&(a=f);c["$<<"]("<li>");if(r(r(b=m)?a["$attr?"]("checkbox"):b))c["$<<"]("<p>"+(r(a["$attr?"]("checked"))?k:l)+a.$text()+"</p>");else c["$<<"]("<p>"+a.$text()+"</p>");if(r(a["$blocks?"]()))c["$<<"](a.$content());return c["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</ul>");c["$<<"]("</div>");return g(c,t(G,"LF"))},oa.$$arity=1);a.def(c,"$verse",Ja=function(a){var b,c=f,d=f,e=d=f,h=f,k=f,l=f,l=h=f,c=r(a.$id())?' id="'+a.$id()+'"':"",d=["verseblock",a.$role()].$compact(),d=' class="'+g(d,
" ")+'"',e=r(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"",h=r(a["$attr?"]("attribution"))?a.$attr("attribution"):f,k=r(a["$attr?"]("citetitle"))?a.$attr("citetitle"):f;r(r(b=h)?b:k)?(l=r(k)?"<cite>"+k+"</cite>":"",h=r(h)?"&#8212; "+h+(r(k)?"<br"+this.void_element_slash+">\n":""):"",l='\n<div class="attribution">\n'+h+l+"\n</div>"):l="";return"<div"+c+d+">"+e+'\n<pre class="content">'+a.$content()+"</pre>"+l+"\n</div>"},Ja.$$arity=1);a.def(c,"$video",Ra=function(b){var c,d,e=this,
h=f,k=f,l=f,m=f,n=f,q=f,p=f,t=f,v=f,u=f,x=f,A=f,z=f,C=f,y=f,B=f,G=f,D=f,F=f,K=f,J=f,N=f,O=f,R=f,ca=f,L=f,W=f,V=f,X=f,U=f,ha=f,S=f,ga=f,h=e.xml_mode,k=r(b.$id())?' id="'+b.$id()+'"':"",l=["videoblock",b.$role()].$compact(),m=' class="'+g(l," ")+'"',n=r(b["$title?"]())?'\n<div class="title">'+b.$title()+"</div>":"",q=r(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':"",p=r(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':"";return function(){t=b.$attr("poster");if("vimeo"["$==="](t))return r((v=
b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(v=""+v+":"),u=r(b["$attr?"]("start",f,!1))?"#at="+b.$attr("start"):"",x="?",r(b["$option?"]("autoplay"))?(A=""+x+"autoplay=1",x="&amp;"):A="",z=r(b["$option?"]("loop"))?""+x+"loop=1":"","<div"+k+m+">"+n+'\n<div class="content">\n<iframe'+q+p+' src="'+v+"//player.vimeo.com/video/"+b.$attr("target")+u+A+z+'" frameborder="0"'+(r(b["$option?"]("nofullscreen"))?"":e.$append_boolean_attribute("allowfullscreen",h))+"></iframe>\n</div>\n</div>";
if("youtube"["$==="](t))return r((v=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(v=""+v+":"),C=r(b["$option?"]("related"))?1:0,y=r(b["$attr?"]("start",f,!1))?"&amp;start="+b.$attr("start"):"",B=r(b["$attr?"]("end",f,!1))?"&amp;end="+b.$attr("end"):"",A=r(b["$option?"]("autoplay"))?"&amp;autoplay=1":"",z=r(G=b["$option?"]("loop"))?"&amp;loop=1":"",D=r(b["$option?"]("nocontrols"))?"&amp;controls=0":"",r(b["$option?"]("nofullscreen"))?(F="&amp;fs=0",K=""):(F="",K=e.$append_boolean_attribute("allowfullscreen",
h)),J=r(b["$option?"]("modest"))?"&amp;modestbranding=1":"",N=r(b["$attr?"]("theme",f,!1))?"&amp;theme="+b.$attr("theme"):"",O=r(b["$attr?"]("lang"))?"&amp;hl="+b.$attr("lang"):"",d=b.$attr("target").$split("/",2),c=a.to_ary(d),R=null==c[0]?f:c[0],ca=null==c[1]?f:c[1],d,r(ca=r(c=ca)?c:b.$attr("list",f,!1))?L="&amp;list="+ca:(d=R.$split(",",2),c=a.to_ary(d),R=null==c[0]?f:c[0],W=null==c[1]?f:c[1],d,L=r(W=r(c=W)?c:b.$attr("playlist",f,!1))?"&amp;playlist="+W:r(G)?"&amp;playlist="+R:""),"<div"+k+m+">"+
n+'\n<div class="content">\n<iframe'+q+p+' src="'+v+"//www.youtube.com/embed/"+R+"?rel="+C+y+B+A+z+D+L+F+J+N+O+'" frameborder="0"'+K+"></iframe>\n</div>\n</div>";V=r((X=b.$attr("poster",f,!1))["$nil_or_empty?"]())?"":' poster="'+b.$media_uri(X)+'"';U=r((X=b.$attr("preload",f,!1))["$nil_or_empty?"]())?"":' preload="'+X+'"';ha=b.$attr("start",f,!1);S=b.$attr("end",f,!1);ga=r(r(c=ha)?c:S)?"#t="+(r(c=ha)?c:"")+(r(S)?","+S:""):"";return"<div"+k+m+">"+n+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+
ga+'"'+q+p+V+(r(b["$option?"]("autoplay"))?e.$append_boolean_attribute("autoplay",h):"")+(r(b["$option?"]("nocontrols"))?"":e.$append_boolean_attribute("controls",h))+(r(b["$option?"]("loop"))?e.$append_boolean_attribute("loop",h):"")+U+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},Ra.$$arity=1);a.def(c,"$inline_anchor",Q=function(a){var b,c=this,d=f,e=f,g=f,h=f,k=f,l=f;return function(){d=a.$type();if("xref"["$==="](d))return r(e=a.$attributes()["$[]"]("path"))?
(g=c.$append_link_constraint_attrs(a,r(a.$role())?[' class="'+a.$role()+'"']:[]).$join(),h=r(b=a.$text())?b:e):(g=r(a.$role())?' class="'+a.$role()+'"':"",r(h=a.$text())||(k=a.$attributes()["$[]"]("refid"),h=r(t(G,"AbstractNode")["$==="](l=(c.refs=r(b=c.refs)?b:a.$document().$catalog()["$[]"]("refs"))["$[]"](k)))?r(b=l.$xreftext(a.$attr("xrefstyle")))?b:"["+k+"]":"["+k+"]")),'<a href="'+a.$target()+'"'+g+">"+h+"</a>";if("ref"["$==="](d))return'<a id="'+a.$id()+'"></a>';if("link"["$==="](d)){g=r(a.$id())?
[' id="'+a.$id()+'"']:[];if(r(a.$role()))g["$<<"](' class="'+a.$role()+'"');if(r(a["$attr?"]("title",f,!1)))g["$<<"](' title="'+a.$attr("title")+'"');return'<a href="'+a.$target()+'"'+c.$append_link_constraint_attrs(a,g).$join()+">"+a.$text()+"</a>"}if("bibref"["$==="](d))return'<a id="'+a.$id()+'"></a>'+a.$text();c.$logger().$warn("unknown anchor type: "+a.$type().$inspect());return f}()},Q.$$arity=1);a.def(c,"$inline_break",Ha=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},Ha.$$arity=
1);a.def(c,"$inline_button",xa=function(a){return'<b class="button">'+a.$text()+"</b>"},xa.$$arity=1);a.def(c,"$inline_callout",Aa=function(a){var b=f;return r(a.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>":r(a.$document()["$attr?"]("icons"))?(b=a.$icon_uri("callouts/"+a.$text()),'<img src="'+b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"):'<b class="conum">('+a.$text()+")</b>"},Aa.$$arity=1);a.def(c,"$inline_footnote",Ea=function(a){var b=
f,c=f;if(r(b=a.$attr("index",f,!1))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>";c=r(a.$id())?' id="_footnote_'+a.$id()+'"':"";return'<sup class="footnote"'+c+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":
f},Ea.$$arity=1);a.def(c,"$inline_image",wa=function(a){var b,c,d,g,m,n,q=f,p=f,w=f,v=w=f,u=f,x=f,A=f,z=f,C=f,q=f;r((b=(q=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(q=a.$type())["$=="]("icon"))?(p="fa fa-"+a.$target(),e(h(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(c=function(b,c){null==b&&(b=f);null==c&&(c=f);return r(a["$attr?"](b))?p=""+p+" "+c+a.$attr(b):f},c.$$s=this,c.$$arity=2,c)),w=r(a["$attr?"]("title"))?' title="'+a.$attr("title")+
'"':"",w='<i class="'+p+'"'+w+"></i>"):r((b=q["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():q["$=="]("icon"))?w="["+a.$alt()+"]":(v=a.$target(),u=e(["width","height","title"],"map",[],(d=function(b){null==b&&(b=f);return r(a["$attr?"](b))?" "+b+'="'+a.$attr(b)+'"':""},d.$$s=this,d.$$arity=1,d)).$join(),r(r(b=r(g=r(m=q["$!="]("icon"))?r(n=a["$attr?"]("format","svg",!1))?n:v["$include?"](".svg"):m)?k(a.$document().$safe(),l(t(G,"SafeMode"),"SECURE")):g)?r(g=x=a["$option?"]("inline"))?g:A=
a["$option?"]("interactive"):b)&&(r(x)?w=r(b=this.$read_svg_contents(a,v))?b:'<span class="alt">'+a.$alt()+"</span>":r(A)&&(z=r(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_quotes(a.$alt())+'"'+u+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",w='<object type="image/svg+xml" data="'+a.$image_uri(v)+'"'+u+">"+z+"</object>")),w=r(b=w)?b:'<img src="'+(q["$=="]("icon")?a.$icon_uri(v):a.$image_uri(v))+'" alt="'+this.$encode_quotes(a.$alt())+
'"'+u+this.void_element_slash+">");r(a["$attr?"]("link",f,!1))&&(w='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+w+"</a>");p=r(C=a.$role())?""+q+" "+C:q;q=r(a["$attr?"]("float"))?' style="float: '+a.$attr("float")+'"':"";return'<span class="'+p+'"'+q+">"+w+"</span>"},wa.$$arity=1);a.def(c,"$inline_indexterm",za=function(a){return a.$type()["$=="]("visible")?a.$text():""},za.$$arity=1);a.def(c,"$inline_kbd",Ia=function(a){var b=f;return(b=a.$attr("keys")).$size()["$=="](1)?
"<kbd>"+b["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+g(b,"</kbd>+<kbd>")+"</kbd></span>"},Ia.$$arity=1);a.def(c,"$inline_menu",Oa=function(a){var b=f,c=f,d=f,e=f,h=f,b=r(a.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',c="</b>"+b+'<b class="submenu">',d=a.$attr("menu");return r((e=a.$attr("submenus"))["$empty?"]())?r(h=a.$attr("menuitem",f,!1))?'<span class="menuseq"><b class="menu">'+d+"</b>"+b+'<b class="menuitem">'+
h+"</b></span>":'<b class="menuref">'+d+"</b>":'<span class="menuseq"><b class="menu">'+d+"</b>"+b+'<b class="submenu">'+g(e,c)+"</b>"+b+'<b class="menuitem">'+a.$attr("menuitem")+"</b></span>"},Oa.$$arity=1);a.def(c,"$inline_quoted",Ma=function(b){var c,d,e=f,g=f,h=f,k=f,l=f;d=t(G,"QUOTE_TAGS")["$[]"](b.$type());c=a.to_ary(d);e=null==c[0]?f:c[0];g=null==c[1]?f:c[1];h=null==c[2]?f:c[2];d;r(b.$role())&&(k=' class="'+b.$role()+'"');r(b.$id())&&(l=' id="'+b.$id()+'"');return r(r(c=k)?c:l)?r(h)?""+e.$chop()+
(r(c=l)?c:"")+(r(c=k)?c:"")+">"+b.$text()+g:"<span"+(r(c=l)?c:"")+(r(c=k)?c:"")+">"+e+b.$text()+g+"</span>":""+e+b.$text()+g},Ma.$$arity=1);a.def(c,"$append_boolean_attribute",Pa=function(a,b){return r(b)?" "+a+'="'+a+'"':" "+a},Pa.$$arity=2);a.def(c,"$encode_quotes",Na=function(a){return r(a["$include?"]('"'))?a.$gsub('"',"&quot;"):a},Na.$$arity=1);a.def(c,"$generate_manname_section",Sa=function(a){var b,c=f,d=f,e=f,g=f,h=f,c=r(b=a.$attr("manname-title"))?b:"Name";r(r(b=d=a.$sections()["$[]"](0))?
(e=d.$title())["$=="](e.$upcase()):b)&&(c=c.$upcase());g=r(h=a.$attr("manname-id"))?' id="'+h+'"':"";return"<h2"+g+">"+c+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>"},Sa.$$arity=1);a.def(c,"$append_link_constraint_attrs",Ta=function(a,b){var c,d=f,e=f;null==b&&(b=[]);r(a["$option?"]("nofollow"))&&(d="nofollow");if(r(e=a.$attributes()["$[]"]("window"))){if(b["$<<"](' target="'+e+'"'),r(r(c=e["$=="]("_blank"))?c:a["$option?"]("noopener")))b["$<<"](r(d)?
' rel="'+d+' noopener"':' rel="noopener"')}else if(r(d))b["$<<"](' rel="'+d+'"');return b},Ta.$$arity=-2);return(a.def(c,"$read_svg_contents",Ua=function(b,c){var d,g=f,k=f,l=f;r(g=b.$read_contents(c,h(["start","normalize","label"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(r(g["$start_with?"]("<svg"))||(g=g.$sub(t(G,"SvgPreambleRx"),"")),k=l=f,e(["width","height"],"each",[],(d=function(a){null==a&&(a=f);return r(b["$attr?"](a))?(r(l)||(l=(k=g.$match(t(G,"SvgStartTagRx"))["$[]"](0)).$gsub(t(G,
"DimensionAttributeRx"),"")),l=""+l.$chop()+" "+a+'="'+b.$attr(a)+'px">'):f},d.$$s=this,d.$$arity=1,d)),r(l)&&(g=""+l+g["$[]"](a.Range.$new(k.$length(),-1,!1))));return g},Ua.$$arity=2),f)&&"read_svg_contents"})(t(F,"Converter"),l(t(F,"Converter"),"BuiltIn"),F)}(c[0],c)};Opal.modules["asciidoctor/extensions"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===
typeof a&&"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var k=a.top,m=[],c=a.nil,f=a.const_get_qualified,l=a.const_get_relative,r=a.truthy,t=a.module,n=a.klass,e=a.hash2,h=a.send,v=a.hash;a.add_stubs("$require $to_s $[]= $config $- $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $document $== $doctype $[] $+ $level $delete $> $casecmp $new $title= $sectname= $special= $fetch $numbered= $! $key? $attr? $special $numbered $generate_id $title $id= $update_attributes $tr $basename $create_block $=== $next_block $dup $<< $has_more_lines? $each $define_method $unshift $shift $send $empty? $size $call $option $flatten $respond_to? $include? $split $to_i $compact $inspect $attr_accessor $to_set $resolve_regexp $match? $method $register $values $groups $arity $instance_exec $to_proc $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $private $join $map $capitalize $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $resolve_class $< $update_config $push $as_symbol $name= $pop $-@ $next_auto_id $generate_name $class_for_name $reduce $const_defined?".split(" "));
r(l(m,"Asciidoctor","skip_raise")?"constant":c)||k.$require("asciidoctor".$to_s());return function(k,m){function u(){}var x=[u=t(k,"Asciidoctor",u)].concat(m);(function(k,m){function u(){}var x=u=t(k,"Extensions",u),y=[x].concat(m);(function(k,$super,m){function p(){}k=p=n(k,$super,"Processor",p);var t=k.prototype,v=[k].concat(m),u,x,z,y,B,G,E,F,J;t.config=c;(function(f,g){var k=[f].concat(g),l,m,n;a.def(f,"$config",l=function(){var a;null==this.config&&(this.config=c);return this.config=r(a=this.config)?
a:e([],{})},l.$$arity=0);a.def(f,"$option",m=function(e,f){var g=c,g=[e,f];h(this.$config(),"[]=",a.to_a(g));return g[b(g.length,1)]},m.$$arity=2);a.def(f,"$use_dsl",n=function(){return r(this.$name()["$nil_or_empty?"]())?r((a.Module.$$nesting=k,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):c:r((a.Module.$$nesting=k,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):c},n.$$arity=0);a.alias(f,"extend_dsl","use_dsl");return a.alias(f,"include_dsl","use_dsl")})(a.get_singleton_class(k),
v);k.$attr_reader("config");a.def(k,"$initialize",u=function(a){null==a&&(a=e([],{}));return this.config=this.$class().$config().$merge(a)},u.$$arity=-1);a.def(k,"$update_config",x=function(a){return this.config.$update(a)},x.$$arity=1);a.def(k,"$process",z=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},z.$$arity=-1);a.def(k,"$create_section",y=function(f,k,m,n){var p,
t=c,u=c,x=c,z=c,y=c,C=c,B=c,G=x=c,u=c;null==n&&(n=e([],{}));t=f.$document();u=(x=t.$doctype())["$=="]("book");z=r(p=n["$[]"]("level"))?p:g(f.$level(),1);r(y=m.$delete("style"))?r(r(p=u)?y["$=="]("abstract"):p)?(p=["chapter",1],C=p[0],z=p[1],p):(p=[y,!0],C=p[0],B=p[1],p,z["$=="](0)&&(z=1)):r(u)?C=z["$=="](0)?"part":r(q(z,1))?"section":"chapter":r(x["$=="]("manpage")?k.$casecmp("synopsis")["$=="](0):x["$=="]("manpage"))?(p=["synopsis",!0],C=p[0],B=p[1],p):C="section";x=l(v,"Section").$new(f,z);p=[k,
C];x["$title="](p[0]);x["$sectname="](p[1]);p;r(B)?(G=[!0],h(x,"special=",a.to_a(G)),G[b(G.length,1)],r(n.$fetch("numbered",y["$=="]("appendix")))?(G=[!0],h(x,"numbered=",a.to_a(G)),G[b(G.length,1)]):r(r(p=n["$key?"]("numbered")["$!"]())?t["$attr?"]("sectnums","all"):p)&&(G=[r(r(p=u)?z["$=="](1):p)?"chapter":!0],h(x,"numbered=",a.to_a(G)),G[b(G.length,1)])):r(q(z,0))?r(n.$fetch("numbered",t["$attr?"]("sectnums")))&&(G=[r(x.$special())?r(p=f.$numbered())?!0:p:!0],h(x,"numbered=",a.to_a(G)),G[b(G.length,
1)]):r(n.$fetch("numbered",r(p=u)?t["$attr?"]("partnums"):p))&&(G=[!0],h(x,"numbered=",a.to_a(G)),G[b(G.length,1)]);(u=m.$delete("id"))["$=="](!1)||(G=[(G=["id",r(p=u)?p:r(t["$attr?"]("sectids"))?l(v,"Section").$generate_id(x.$title(),t):c],h(m,"[]=",a.to_a(G)),G[b(G.length,1)])],h(x,"id=",a.to_a(G)),G[b(G.length,1)]);x.$update_attributes(m);return x},y.$$arity=-4);a.def(k,"$create_block",B=function(a,b,c,d,f){null==f&&(f=e([],{}));return l(v,"Block").$new(a,b,e(["source","attributes"],{source:c,
attributes:d}).$merge(f))},B.$$arity=-5);a.def(k,"$create_image_block",G=function(g,k,m){var n,p=c,q=c;null==m&&(m=e([],{}));r(p=k["$[]"]("target"))||this.$raise(f("::","ArgumentError"),"Unable to create an image block, target attribute is required");r(n=k["$[]"]("alt"))?n:(q=["alt",(q=["default-alt",l(v,"Helpers").$basename(p,!0).$tr("_-"," ")],h(k,"[]=",a.to_a(q)),q[b(q.length,1)])],h(k,"[]=",a.to_a(q)),q[b(q.length,1)]);return this.$create_block(g,"image",c,k,m)},G.$$arity=-3);a.def(k,"$create_inline",
E=function(a,b,c,d){null==d&&(d=e([],{}));return l(v,"Inline").$new(a,b,c,d)},E.$$arity=-4);a.def(k,"$parse_content",F=function(a,b,d){var f,g,h=c,k=c;null==d&&(d=c);for(h=r(l(v,"Reader")["$==="](b))?b:l(v,"Reader").$new(b);r(r(f=r(g=k=l(v,"Parser").$next_block(h,a,r(d)?d.$dup():e([],{})))?a["$<<"](k):g)?f:h["$has_more_lines?"]()););return a},F.$$arity=-3);return h([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],
["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(J=function(b,d,e){var f=J.$$s||this,g;null==b&&(b=c);null==d&&(d=c);null==e&&(e=c);return h(f,"define_method",[b],(g=function(b){var c=g.$$s||this,f;f=a.slice.call(arguments,0,arguments.length);f.$unshift(f.$shift(),e);return h(c,"send",[d].concat(a.to_a(f)))},g.$$s=f,g.$$arity=-1,g))},J.$$s=k,J.$$arity=
3,J))})(y[0],null,y);(function(e,g){function k(){}var l=k=t(e,"ProcessorDsl",k);[l].concat(g);var m,n,p;a.def(l,"$option",m=function(e,f){var g=c,g=[e,f];h(this.$config(),"[]=",a.to_a(g));return g[b(g.length,1)]},m.$$arity=2);a.def(l,"$process",n=function(b){var d=n.$$p,e=d||c,g;null==this.process_block&&(this.process_block=c);d&&(n.$$p=null);d&&(n.$$p=null);d=a.slice.call(arguments,0,arguments.length);return e!==c?(r(d["$empty?"]())||this.$raise(f("::","ArgumentError"),"wrong number of arguments (given "+
d.$size()+", expected 0)"),this.process_block=e):r((g=this.process_block,null!=g&&g!==c)?"instance-variable":c)?h(this.process_block,"call",a.to_a(d)):this.$raise(f("::","NotImplementedError"))},n.$$arity=-1);a.def(l,"$process_block_given?",p=function(){var a;return(a=this.process_block,null!=a&&a!==c)?"instance-variable":c},p.$$arity=0)})(y[0],y);(function(g,k){function m(){}var n=m=t(g,"SyntaxDsl",m),p=[n].concat(k),w,v,u,x,z;n.$include(l(p,"ProcessorDsl"));a.def(n,"$named",w=function(a){return r(l(p,
"Processor")["$==="](this))?this.name=a:this.$option("name",a)},w.$$arity=1);a.alias(n,"match_name","named");a.def(n,"$content_model",v=function(a){return this.$option("content_model",a)},v.$$arity=1);a.alias(n,"parse_content_as","content_model");a.alias(n,"parses_content_as","content_model");a.def(n,"$positional_attrs",u=function(b){var c;c=a.slice.call(arguments,0,arguments.length);return this.$option("pos_attrs",c.$flatten())},u.$$arity=-1);a.alias(n,"name_attributes","positional_attrs");a.alias(n,
"name_positional_attributes","positional_attrs");a.def(n,"$default_attrs",x=function(a){return this.$option("default_attrs",a)},x.$$arity=1);a.def(n,"$resolves_attributes",z=function(g){var k,l,m,n,p=this,t=c,w=c,v=c;k=a.slice.call(arguments,0,arguments.length);r(q(k.$size(),1))||r((k=k.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(k=[k]);return function(){t=k;return(!0)["$==="](t)?(p.$option("pos_attrs",[]),p.$option("default_attrs",e([],{}))):f("::","Array")["$==="](t)?(l=[[],e([],{})],w=l[0],v=l[1],
l,h(k,"each",[],(m=function(e){var f,g=c,k=c,l=c,l=c;null==e&&(e=c);return r((e=e.$to_s())["$include?"]("="))?(f=e.$split("=",2),e=a.to_ary(f),g=null==e[0]?c:e[0],k=null==e[1]?c:e[1],f,r(g["$include?"](":"))&&(f=g.$split(":",2),e=a.to_ary(f),l=null==e[0]?c:e[0],g=null==e[1]?c:e[1],f,l=l["$=="]("@")?w.$size():l.$to_i(),l=[l,g],h(w,"[]=",a.to_a(l)),l[b(l.length,1)]),l=[g,k],h(v,"[]=",a.to_a(l)),l[b(l.length,1)]):r(e["$include?"](":"))?(f=e.$split(":",2),e=a.to_ary(f),l=null==e[0]?c:e[0],g=null==e[1]?
c:e[1],f,l=l["$=="]("@")?w.$size():l.$to_i(),l=[l,g],h(w,"[]=",a.to_a(l)),l[b(l.length,1)]):w["$<<"](e)},m.$$s=p,m.$$arity=1,m)),p.$option("pos_attrs",w.$compact()),p.$option("default_attrs",v)):f("::","Hash")["$==="](t)?(l=[[],e([],{})],w=l[0],v=l[1],l,h(k,"each",[],(n=function(e,f){var g,k,l=g=c;k=c;null==e&&(e=c);null==f&&(f=c);r((g=e.$to_s())["$include?"](":"))&&(k=g.$split(":",2),g=a.to_ary(k),l=null==g[0]?c:g[0],g=null==g[1]?c:g[1],k,l=l["$=="]("@")?w.$size():l.$to_i(),k=[l,g],h(w,"[]=",a.to_a(k)),
k[b(k.length,1)]);return r(f)?(k=[g,f],h(v,"[]=",a.to_a(k)),k[b(k.length,1)]):c},n.$$s=p,n.$$arity=2,n)),p.$option("pos_attrs",w.$compact()),p.$option("default_attrs",v)):p.$raise(f("::","ArgumentError"),"unsupported attributes specification for macro: "+k.$inspect())}()},z.$$arity=-1);a.alias(n,"resolve_attributes","resolves_attributes")})(y[0],y);(function(b,$super,d){function e(){}b=e=n(b,$super,"Preprocessor",e);[b].concat(d);var g;return(a.def(b,"$process",g=function(a,b){return this.$raise(f("::",
"NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},g.$$arity=2),c)&&"process"})(y[0],l(y,"Processor"),y);a.const_set(l(y,"Preprocessor"),"DSL",l(y,"ProcessorDsl"));(function(b,$super,d){function e(){}b=e=n(b,$super,"TreeProcessor",e);[b].concat(d);var g;return(a.def(b,"$process",g=function(a){return this.$raise(f("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},g.$$arity=1),c)&&"process"})(y[0],
l(y,"Processor"),y);a.const_set(l(y,"TreeProcessor"),"DSL",l(y,"ProcessorDsl"));a.const_set(y[0],"Treeprocessor",l(y,"TreeProcessor"));(function(b,$super,d){function e(){}b=e=n(b,$super,"Postprocessor",e);[b].concat(d);var g;return(a.def(b,"$process",g=function(a,b){return this.$raise(f("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},g.$$arity=2),c)&&"process"})(y[0],l(y,"Processor"),y);a.const_set(l(y,"Postprocessor"),"DSL",l(y,"ProcessorDsl"));
(function(b,$super,d){function e(){}b=e=n(b,$super,"IncludeProcessor",e);[b].concat(d);var g,h;a.def(b,"$process",g=function(a,b,c,d){return this.$raise(f("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},g.$$arity=4);return(a.def(b,"$handles?",h=function(a){return!0},h.$$arity=1),c)&&"handles?"})(y[0],l(y,"Processor"),y);(function(b,d){function e(){}var g=e=t(b,"IncludeProcessorDsl",e),h=[g].concat(d),k;g.$include(l(h,"ProcessorDsl"));
a.def(g,"$handles?",k=function(b){var d=k.$$p,e=d||c,g;null==this.handles_block&&(this.handles_block=c);d&&(k.$$p=null);d&&(k.$$p=null);d=a.slice.call(arguments,0,arguments.length);return e!==c?(r(d["$empty?"]())||this.$raise(f("::","ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),this.handles_block=e):r((g=this.handles_block,null!=g&&g!==c)?"instance-variable":c)?this.handles_block.$call(d["$[]"](0)):!0},k.$$arity=-1)})(y[0],y);a.const_set(l(y,"IncludeProcessor"),"DSL",
l(y,"IncludeProcessorDsl"));(function(g,$super,k){function l(){}g=l=n(g,$super,"DocinfoProcessor",l);var m=g.prototype;[g].concat(k);var p,q;m.config=c;g.$attr_accessor("location");a.def(g,"$initialize",p=function(f){var g,k=c;p.$$p&&(p.$$p=null);null==f&&(f=e([],{}));h(this,a.find_super_dispatcher(this,"initialize",p,!1),[f],null);return r(g=this.config["$[]"]("location"))?g:(k=["location","head"],h(this.config,"[]=",a.to_a(k)),k[b(k.length,1)])},p.$$arity=-1);return(a.def(g,"$process",q=function(a){return this.$raise(f("::",
"NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},q.$$arity=1),c)&&"process"})(y[0],l(y,"Processor"),y);(function(b,c){function d(){}var e=d=t(b,"DocinfoProcessorDsl",d),f=[e].concat(c),g;e.$include(l(f,"ProcessorDsl"));a.def(e,"$at_location",g=function(a){return this.$option("location",a)},g.$$arity=1)})(y[0],y);a.const_set(l(y,"DocinfoProcessor"),"DSL",l(y,"DocinfoProcessorDsl"));(function(g,$super,k){function l(){}g=l=n(g,$super,"BlockProcessor",
l);var m=g.prototype;[g].concat(k);var p,q;m.config=c;g.$attr_accessor("name");a.def(g,"$initialize",p=function(g,k){var l,m=c,n=c;p.$$p&&(p.$$p=null);null==g&&(g=c);null==k&&(k=e([],{}));h(this,a.find_super_dispatcher(this,"initialize",p,!1),[k],null);this.name=r(l=g)?l:this.config["$[]"]("name");m=this.config["$[]"]("contexts");f("::","NilClass")["$==="](m)?r(l=this.config["$[]"]("contexts"))?l:(n=["contexts",["open","paragraph"].$to_set()],h(this.config,"[]=",a.to_a(n)),n[b(n.length,1)]):(n=f("::",
"Symbol")["$==="](m)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",this.config["$[]"]("contexts").$to_set()],h(this.config,"[]=",a.to_a(n)),n[b(n.length,1)]);return r(l=this.config["$[]"]("content_model"))?l:(n=["content_model","compound"],h(this.config,"[]=",a.to_a(n)),n[b(n.length,1)])},p.$$arity=-1);return(a.def(g,"$process",q=function(a,b,c){return this.$raise(f("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},
q.$$arity=3),c)&&"process"})(y[0],l(y,"Processor"),y);(function(b,c){function d(){}var e=d=t(b,"BlockProcessorDsl",d),f=[e].concat(c),g;e.$include(l(f,"SyntaxDsl"));a.def(e,"$contexts",g=function(b){var c;c=a.slice.call(arguments,0,arguments.length);return this.$option("contexts",c.$flatten().$to_set())},g.$$arity=-1);a.alias(e,"on_contexts","contexts");a.alias(e,"on_context","contexts");a.alias(e,"bound_to","contexts")})(y[0],y);a.const_set(l(y,"BlockProcessor"),"DSL",l(y,"BlockProcessorDsl"));(function(g,
$super,k){function l(){}g=l=n(g,$super,"MacroProcessor",l);var m=g.prototype;[g].concat(k);var p,q;m.config=c;g.$attr_accessor("name");a.def(g,"$initialize",p=function(f,g){var k,l=c;p.$$p&&(p.$$p=null);null==f&&(f=c);null==g&&(g=e([],{}));h(this,a.find_super_dispatcher(this,"initialize",p,!1),[g],null);this.name=r(k=f)?k:this.config["$[]"]("name");return r(k=this.config["$[]"]("content_model"))?k:(l=["content_model","attributes"],h(this.config,"[]=",a.to_a(l)),l[b(l.length,1)])},p.$$arity=-1);return(a.def(g,
"$process",q=function(a,b,c){return this.$raise(f("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},q.$$arity=3),c)&&"process"})(y[0],l(y,"Processor"),y);(function(b,d){function e(){}var f=e=t(b,"MacroProcessorDsl",e),g=[f].concat(d),k;f.$include(l(g,"SyntaxDsl"));a.def(f,"$resolves_attributes",k=function(b){var d,e=k.$$p,f=c,g=d=c;e&&(k.$$p=null);d=0;g=arguments.length;for(f=Array(g);d<g;d++)f[d]=arguments[d];d=a.slice.call(arguments,
0,arguments.length);if(r(d.$size()["$=="](1)?d["$[]"](0)["$!"]():d.$size()["$=="](1)))return this.$option("content_model","text"),c;h(this,a.find_super_dispatcher(this,"resolves_attributes",k,!1),f,e);return this.$option("content_model","attributes")},k.$$arity=-1);a.alias(f,"resolve_attributes","resolves_attributes")})(y[0],y);(function(a,$super,b){function d(){}[d=n(a,$super,"BlockMacroProcessor",d)].concat(b);return c})(y[0],l(y,"MacroProcessor"),y);a.const_set(l(y,"BlockMacroProcessor"),"DSL",
l(y,"MacroProcessorDsl"));(function(g,$super,k){function m(){}g=m=n(g,$super,"InlineMacroProcessor",m);var p=g.prototype,q=[g].concat(k),t,w;p.config=p.name=c;a.class_variable_set(m,"@@rx_cache",e([],{}));a.def(g,"$regexp",t=function(){var e,f=c;return r(e=this.config["$[]"]("regexp"))?e:(f=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],h(this.config,"[]=",a.to_a(f)),f[b(f.length,1)])},t.$$arity=0);return(a.def(g,"$resolve_regexp",w=function(e,g){var k,n,p=c;r(l(q,
"MacroNameRx")["$match?"](e))||this.$raise(f("::","ArgumentError"),"invalid name for inline macro: "+e);return r(k=(null==(n=m.$$cvars["@@rx_cache"])?c:n)["$[]"]([e,g]))?k:(p=[[e,g],new RegExp("\\\\?"+e+":"+(g["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],h(null==(n=m.$$cvars["@@rx_cache"])?c:n,"[]=",a.to_a(p)),p[b(p.length,1)])},w.$$arity=2),c)&&"resolve_regexp"})(y[0],l(y,"MacroProcessor"),y);(function(b,c){function d(){}var e=d=t(b,"InlineMacroProcessorDsl",d),f=[e].concat(c),g,h;
e.$include(l(f,"MacroProcessorDsl"));a.def(e,"$with_format",g=function(a){return this.$option("format",a)},g.$$arity=1);a.alias(e,"using_format","with_format");a.def(e,"$matches",h=function(a){return this.$option("regexp",a)},h.$$arity=1);a.alias(e,"match","matches");a.alias(e,"matching","matches")})(y[0],y);a.const_set(l(y,"InlineMacroProcessor"),"DSL",l(y,"InlineMacroProcessorDsl"));(function(b,$super,d){function e(){}b=e=n(b,$super,"Extension",e);[b].concat(d);var f;b.$attr_reader("kind");b.$attr_reader("config");
b.$attr_reader("instance");return(a.def(b,"$initialize",f=function(a,b,c){this.kind=a;this.instance=b;return this.config=c},f.$$arity=3),c)&&"initialize"})(y[0],null,y);(function(b,$super,d){function e(){}b=e=n(b,$super,"ProcessorExtension",e);[b].concat(d);var f;b.$attr_reader("process_method");return(a.def(b,"$initialize",f=function(b,d,e){var g;f.$$p&&(f.$$p=null);null==e&&(e=c);h(this,a.find_super_dispatcher(this,"initialize",f,!1),[b,d,d.$config()],null);return this.process_method=r(g=e)?g:d.$method("process")},
f.$$arity=-3),c)&&"initialize"})(y[0],l(y,"Extension"),y);(function(b,$super,d){function e(){}b=e=n(b,$super,"Group",e);d=[b].concat(d);var g;(function(b,d){var e=[b].concat(d),f;return(a.def(b,"$register",f=function(a){null==a&&(a=c);return l(e,"Extensions").$register(a,this)},f.$$arity=-1),c)&&"register"})(a.get_singleton_class(b),d);return(a.def(b,"$activate",g=function(a){return this.$raise(f("::","NotImplementedError"))},g.$$arity=1),c)&&"activate"})(y[0],null,y);(function(k,$super,m){function t(){}
k=t=n(k,$super,"Registry",t);var v=k.prototype,u=[k].concat(m),x,y,B,G,E,F,J,L,U,T,ga,ca,P,ea,aa,da,fa,ja,K,ta,ia,ma,oa,ya,pa,Q,Ha,xa,Aa,Ea,wa,za,Ia,Oa;v.groups=v.preprocessor_extensions=v.tree_processor_extensions=v.postprocessor_extensions=v.include_processor_extensions=v.docinfo_processor_extensions=v.block_extensions=v.block_macro_extensions=v.inline_macro_extensions=c;k.$attr_reader("document");k.$attr_reader("groups");a.def(k,"$initialize",x=function(a){null==a&&(a=e([],{}));this.groups=a;return this.document=
this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=c},x.$$arity=-1);a.def(k,"$activate",y=function(a){var b,d=c;this.document=a;r((d=g(l(u,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||h(d,"each",[],(b=function(a){var d=b.$$s||this,e=c;null==a&&(a=c);e=a;f("::","Proc")["$==="](e)?(e=a.$arity(),
a=0["$==="](e)||-1["$==="](e)?h(d,"instance_exec",[],a.$to_proc()):1["$==="](e)?a.$call(d):c):a=f("::","Class")["$==="](e)?a.$new().$activate(d):a.$activate(d);return a},b.$$s=this,b.$$arity=1,b));return this},y.$$arity=1);a.def(k,"$preprocessor",B=function(b){var d=B.$$p,e=d||c;d&&(B.$$p=null);d&&(B.$$p=null);d=a.slice.call(arguments,0,arguments.length);return h(this,"add_document_processor",["preprocessor",d],e.$to_proc())},B.$$arity=-1);a.def(k,"$preprocessors?",G=function(){return this.preprocessor_extensions["$!"]()["$!"]()},
G.$$arity=0);a.def(k,"$preprocessors",E=function(){return this.preprocessor_extensions},E.$$arity=0);a.def(k,"$tree_processor",F=function(b){var d=F.$$p,e=d||c;d&&(F.$$p=null);d&&(F.$$p=null);d=a.slice.call(arguments,0,arguments.length);return h(this,"add_document_processor",["tree_processor",d],e.$to_proc())},F.$$arity=-1);a.def(k,"$tree_processors?",J=function(){return this.tree_processor_extensions["$!"]()["$!"]()},J.$$arity=0);a.def(k,"$tree_processors",L=function(){return this.tree_processor_extensions},
L.$$arity=0);a.alias(k,"treeprocessor","tree_processor");a.alias(k,"treeprocessors?","tree_processors?");a.alias(k,"treeprocessors","tree_processors");a.def(k,"$postprocessor",U=function(b){var d=U.$$p,e=d||c;d&&(U.$$p=null);d&&(U.$$p=null);d=a.slice.call(arguments,0,arguments.length);return h(this,"add_document_processor",["postprocessor",d],e.$to_proc())},U.$$arity=-1);a.def(k,"$postprocessors?",T=function(){return this.postprocessor_extensions["$!"]()["$!"]()},T.$$arity=0);a.def(k,"$postprocessors",
ga=function(){return this.postprocessor_extensions},ga.$$arity=0);a.def(k,"$include_processor",ca=function(b){var d=ca.$$p,e=d||c;d&&(ca.$$p=null);d&&(ca.$$p=null);d=a.slice.call(arguments,0,arguments.length);return h(this,"add_document_processor",["include_processor",d],e.$to_proc())},ca.$$arity=-1);a.def(k,"$include_processors?",P=function(){return this.include_processor_extensions["$!"]()["$!"]()},P.$$arity=0);a.def(k,"$include_processors",ea=function(){return this.include_processor_extensions},
ea.$$arity=0);a.def(k,"$docinfo_processor",aa=function(b){var d=aa.$$p,e=d||c;d&&(aa.$$p=null);d&&(aa.$$p=null);d=a.slice.call(arguments,0,arguments.length);return h(this,"add_document_processor",["docinfo_processor",d],e.$to_proc())},aa.$$arity=-1);a.def(k,"$docinfo_processors?",da=function(a){var b;null==a&&(a=c);return r(this.docinfo_processor_extensions)?r(a)?h(this.docinfo_processor_extensions,"any?",[],(b=function(b){null==b&&(b=c);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,
b.$$arity=1,b)):!0:!1},da.$$arity=-1);a.def(k,"$docinfo_processors",fa=function(a){var b;null==a&&(a=c);return r(this.docinfo_processor_extensions)?r(a)?h(this.docinfo_processor_extensions,"select",[],(b=function(b){null==b&&(b=c);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):this.docinfo_processor_extensions:c},fa.$$arity=-1);a.def(k,"$block",ja=function(b){var d=ja.$$p,e=d||c;d&&(ja.$$p=null);d&&(ja.$$p=null);d=a.slice.call(arguments,0,arguments.length);return h(this,
"add_syntax_processor",["block",d],e.$to_proc())},ja.$$arity=-1);a.def(k,"$blocks?",K=function(){return this.block_extensions["$!"]()["$!"]()},K.$$arity=0);a.def(k,"$registered_for_block?",ta=function(a,b){var d=c;return r(d=this.block_extensions["$[]"](a.$to_sym()))?r(d.$config()["$[]"]("contexts")["$include?"](b))?d:!1:!1},ta.$$arity=2);a.def(k,"$find_block_extension",ia=function(a){return this.block_extensions["$[]"](a.$to_sym())},ia.$$arity=1);a.def(k,"$block_macro",ma=function(b){var d=ma.$$p,
e=d||c;d&&(ma.$$p=null);d&&(ma.$$p=null);d=a.slice.call(arguments,0,arguments.length);return h(this,"add_syntax_processor",["block_macro",d],e.$to_proc())},ma.$$arity=-1);a.def(k,"$block_macros?",oa=function(){return this.block_macro_extensions["$!"]()["$!"]()},oa.$$arity=0);a.def(k,"$registered_for_block_macro?",ya=function(a){var b=c;return r(b=this.block_macro_extensions["$[]"](a.$to_sym()))?b:!1},ya.$$arity=1);a.def(k,"$find_block_macro_extension",pa=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},
pa.$$arity=1);a.def(k,"$inline_macro",Q=function(b){var d=Q.$$p,e=d||c;d&&(Q.$$p=null);d&&(Q.$$p=null);d=a.slice.call(arguments,0,arguments.length);return h(this,"add_syntax_processor",["inline_macro",d],e.$to_proc())},Q.$$arity=-1);a.def(k,"$inline_macros?",Ha=function(){return this.inline_macro_extensions["$!"]()["$!"]()},Ha.$$arity=0);a.def(k,"$registered_for_inline_macro?",xa=function(a){var b=c;return r(b=this.inline_macro_extensions["$[]"](a.$to_sym()))?b:!1},xa.$$arity=1);a.def(k,"$find_inline_macro_extension",
Aa=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},Aa.$$arity=1);a.def(k,"$inline_macros",Ea=function(){return this.inline_macro_extensions.$values()},Ea.$$arity=0);k.$private();a.def(k,"$add_document_processor",wa=function(b,d){var e=wa.$$p,g=e||c,k,m,n,q=this,t=c,w=c,v=c,x=c,A=w=c,y=c,B=c,G=c,C=c;e&&(wa.$$p=null);e&&(wa.$$p=null);t=b.$to_s().$tr("_"," ");w=h(t.$split(),"map",[],(k=function(a){null==a&&(a=c);return a.$capitalize()},k.$$s=q,k.$$arity=1,k)).$join().$to_sym();v=
l(u,"Extensions").$const_get(w);x=r(f("::","AsciidoctorJ","skip_raise")?"constant":c)?f(f("::","AsciidoctorJ"),"Extensions").$const_get(w):c;w=r(m=q.$instance_variable_get(("@"+b+"_extensions").$to_sym()))?m:q.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);A=function(){if(g!==c)return y=q.$resolve_args(d,1),B=v.$new(y),r(v.$constants().$grep("DSL"))&&B.$extend(v.$const_get("DSL")),h(B,"instance_exec",[],g.$to_proc()),B.$freeze(),r(B["$process_block_given?"]())||q.$raise(f("::","ArgumentError"),
"No block specified to process "+t+" extension at "+g.$source_location()),l(u,"ProcessorExtension").$new(b,B);n=q.$resolve_args(d,2);m=a.to_ary(n);B=null==m[0]?c:m[0];y=null==m[1]?c:m[1];n;return r(G=l(u,"Extensions").$resolve_class(B))?(r(r(m=p(G,v))?m:r(n=x)?p(G,x):n)||q.$raise(f("::","ArgumentError"),"Invalid type for "+t+" extension: "+B),C=G.$new(y),C.$freeze(),l(u,"ProcessorExtension").$new(b,C)):r(r(m=v["$==="](B))?m:r(n=x)?x["$==="](B):n)?(B.$update_config(y),B.$freeze(),l(u,"ProcessorExtension").$new(b,
B)):q.$raise(f("::","ArgumentError"),"Invalid arguments specified for registering "+t+" extension: "+d)}();return A.$config()["$[]"]("position")["$=="](">>")?w.$unshift(A):w["$<<"](A)},wa.$$arity=2);a.def(k,"$add_syntax_processor",za=function(g,k){var m=za.$$p,n=m||c,q,t,w=c,v=c,x=c,A=c,y=v=c,B=c,G=c,C=x=c,x=c;m&&(za.$$p=null);m&&(za.$$p=null);w=g.$to_s().$tr("_"," ");v=h(w.$split(),"map",[],(q=function(a){null==a&&(a=c);return a.$capitalize()},q.$$s=this,q.$$arity=1,q)).$push("Processor").$join().$to_sym();
x=l(u,"Extensions").$const_get(v);A=r(f("::","AsciidoctorJ","skip_raise")?"constant":c)?f(f("::","AsciidoctorJ"),"Extensions").$const_get(v):c;v=r(t=this.$instance_variable_get(("@"+g+"_extensions").$to_sym()))?t:this.$instance_variable_set(("@"+g+"_extensions").$to_sym(),e([],{}));if(n!==c)return m=this.$resolve_args(k,2),t=a.to_ary(m),y=null==t[0]?c:t[0],B=null==t[1]?c:t[1],m,G=x.$new(this.$as_symbol(y),B),r(x.$constants().$grep("DSL"))&&G.$extend(x.$const_get("DSL")),n.$arity()["$=="](1)?a.yield1(n,
G):h(G,"instance_exec",[],n.$to_proc()),r(y=this.$as_symbol(G.$name()))||this.$raise(f("::","ArgumentError"),"No name specified for "+w+" extension at "+n.$source_location()),r(G["$process_block_given?"]())||this.$raise(f("::","NoMethodError"),"No block specified to process "+w+" extension at "+n.$source_location()),G.$freeze(),x=[y,l(u,"ProcessorExtension").$new(g,G)],h(v,"[]=",a.to_a(x)),x[b(x.length,1)];m=this.$resolve_args(k,3);t=a.to_ary(m);G=null==t[0]?c:t[0];y=null==t[1]?c:t[1];B=null==t[2]?
c:t[2];m;return r(C=l(u,"Extensions").$resolve_class(G))?(r(r(t=p(C,x))?t:r(m=A)?p(C,A):m)||this.$raise(f("::","ArgumentError"),"Class specified for "+w+" extension does not inherit from "+x+": "+G),x=C.$new(this.$as_symbol(y),B),r(y=this.$as_symbol(x.$name()))||this.$raise(f("::","ArgumentError"),"No name specified for "+w+" extension: "+G),x.$freeze(),x=[y,l(u,"ProcessorExtension").$new(g,x)],h(v,"[]=",a.to_a(x)),x[b(x.length,1)]):r(r(t=x["$==="](G))?t:r(m=A)?A["$==="](G):m)?(G.$update_config(B),
r(y)?(x=[this.$as_symbol(y)],h(G,"name=",a.to_a(x)),n=x[b(x.length,1)]):n=this.$as_symbol(G.$name()),r(y=n)||this.$raise(f("::","ArgumentError"),"No name specified for "+w+" extension: "+G),G.$freeze(),x=[y,l(u,"ProcessorExtension").$new(g,G)],h(v,"[]=",a.to_a(x)),x[b(x.length,1)]):this.$raise(f("::","ArgumentError"),"Invalid arguments specified for registering "+w+" extension: "+k)},za.$$arity=2);a.def(k,"$resolve_args",Ia=function(a,h){var k=c,l=c,k=r(f("::","Hash")["$==="](a["$[]"](-1)))?a.$pop():
e([],{});if(h["$=="](1))return k;r(q(l=b(b(h,1),a.$size()),0))?a=g(a,f("::","Array").$new(l)):r(p(l,0))&&a.$pop(l["$-@"]());a["$<<"](k);return a},Ia.$$arity=2);return(a.def(k,"$as_symbol",Oa=function(a){return r(a)?a.$to_sym():c},Oa.$$arity=1),c)&&"as_symbol"})(y[0],null,y);(function(k,m){var n=[k].concat(m),p,q,t,u,x,A,z,y,B,G,F;a.def(k,"$generate_name",p=function(){return"extgrp"+this.$next_auto_id()},p.$$arity=0);a.def(k,"$next_auto_id",q=function(){var a;null==this.auto_id&&(this.auto_id=c);this.auto_id=
r(a=this.auto_id)?a:-1;return this.auto_id=g(this.auto_id,1)},q.$$arity=0);a.def(k,"$groups",t=function(){var a;null==this.groups&&(this.groups=c);return this.groups=r(a=this.groups)?a:e([],{})},t.$$arity=0);a.def(k,"$create",u=function(a){var b=u.$$p,d=b||c,e;b&&(u.$$p=null);b&&(u.$$p=null);null==a&&(a=c);return d!==c?l(n,"Registry").$new(v(r(e=a)?e:this.$generate_name(),d)):l(n,"Registry").$new()},u.$$arity=-1);a.alias(k,"build_registry","create");a.def(k,"$register",x=function(e){var g=x.$$p,k=
g||c,l,m=c,n=c,p=c,q=c,m=c;g&&(x.$$p=null);g&&(x.$$p=null);g=a.slice.call(arguments,0,arguments.length);m=g.$size();k!==c?n=k:r(p=g.$pop())?n=r(l=this.$resolve_class(p))?l:p:this.$raise(f("::","ArgumentError"),"Extension group to register not specified");q=r(l=g.$pop())?l:this.$generate_name();r(g["$empty?"]())||this.$raise(f("::","ArgumentError"),"Wrong number of arguments ("+m+" for 1..2)");m=[q.$to_sym(),n];h(this.$groups(),"[]=",a.to_a(m));return m[b(m.length,1)]},x.$$arity=-1);a.def(k,"$unregister_all",
A=function(){this.groups=e([],{});return c},A.$$arity=0);a.def(k,"$unregister",z=function(b){var d,e;d=a.slice.call(arguments,0,arguments.length);h(d,"each",[],(e=function(a){var b=e.$$s||this;null==b.groups&&(b.groups=c);null==a&&(a=c);return b.groups.$delete(a.$to_sym())},e.$$s=this,e.$$arity=1,e));return c},z.$$arity=-1);a.def(k,"$resolve_class",y=function(a){var b=c,b=a;return f("::","Class")["$==="](b)?a:f("::","String")["$==="](b)?this.$class_for_name(a):c},y.$$arity=1);return r(l(n,"RUBY_MIN_VERSION_2"))?
(a.def(k,"$class_for_name",B=function(b){var d=c;try{return d=f("::","Object").$const_get(b,!1),r(f("::","Class")["$==="](d))||this.$raise(),d}catch(e){if(a.rescue(e,[l(n,"StandardError")]))try{return this.$raise(f("::","NameError"),"Could not resolve class for name: "+b)}finally{a.pop_exception()}else throw e;}},B.$$arity=1),c)&&"class_for_name":r(l(n,"RUBY_MIN_VERSION_1_9"))?(a.def(k,"$class_for_name",G=function(b){var d,e=c;try{return e=h(b.$split("::"),"reduce",[f("::","Object")],(d=function(a,
b){null==a&&(a=c);null==b&&(b=c);return r(b["$empty?"]())?a:a.$const_get(b,!1)},d.$$s=this,d.$$arity=2,d)),r(f("::","Class")["$==="](e))||this.$raise(),e}catch(g){if(a.rescue(g,[l(n,"StandardError")]))try{return this.$raise(f("::","NameError"),"Could not resolve class for name: "+b)}finally{a.pop_exception()}else throw g;}},G.$$arity=1),c)&&"class_for_name":(a.def(k,"$class_for_name",F=function(b){var d,e=c;try{return e=h(b.$split("::"),"reduce",[f("::","Object")],(d=function(a,b){var e=d.$$s||this;
null==a&&(a=c);null==b&&(b=c);return r(b["$empty?"]())?a:r(a["$const_defined?"](b))?a.$const_get(b):e.$raise()},d.$$s=this,d.$$arity=2,d)),r(f("::","Class")["$==="](e))||this.$raise(),e}catch(g){if(a.rescue(g,[l(n,"StandardError")]))try{return this.$raise(f("::","NameError"),"Could not resolve class for name: "+b)}finally{a.pop_exception()}else throw g;}},F.$$arity=1),c)&&"class_for_name"})(a.get_singleton_class(x),y)})(x[0],x)}(m[0],m)};Opal.modules["asciidoctor/js/opal_ext/browser/reader"]=function(a){var b=
[],g=a.nil,p=a.const_get_relative,q=a.module,k=a.klass,m=a.truthy;a.add_stubs("$posixify $new $base_dir $start_with? $uriish? $descends_from? $key? $attributes $replace_next_line $absolute_path? $== $empty? $! $slice $length".split(" "));return function(b,d){function l(){}var r=[l=q(b,"Asciidoctor",l)].concat(d);(function(b,$super,c){function d(){}b=d=k(b,$super,"PreprocessorReader",d);var f=b.prototype,l=[b].concat(c),q;f.path_resolver=f.document=f.include_stack=f.dir=g;return(a.def(b,"$resolve_include_path",
q=function(a,b,c){var d,e=g,f=g,h=g,k=h=e=g;c=g;e=(this.path_resolver=m(d=this.path_resolver)?d:p(l,"PathResolver").$new("\\")).$posixify(a);d=["file",this.document.$base_dir()];f=d[1];d;if(m(e["$start_with?"]("file://")))h=e;else if(m(p(l,"Helpers")["$uriish?"](e))){if(!m(m(d=this.path_resolver["$descends_from?"](e,f))?d:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");h=e}else if(m(this.path_resolver["$absolute_path?"](e)))h=e="file://"+
(m(e["$start_with?"]("/"))?"":"/")+e;else if((h=m(k=this.include_stack["$empty?"]())?f:this.dir)["$=="]("."))h=e;else if(m(m(d=h["$start_with?"]("file://"))?d:p(l,"Helpers")["$uriish?"](h)["$!"]()))h=""+h+"/"+e,e=m(k)?e:m(m(d=f["$=="]("."))?d:(c=this.path_resolver["$descends_from?"](h,f))["$!"]())?h:h.$slice(c,h.$length());else if(m(k))h=""+h+"/"+e;else if(m(m(d=c=this.path_resolver["$descends_from?"](h,f))?d:this.document.$attributes()["$key?"]("allow-uri-read")))h=""+h+"/"+e,e=m(c)?h.$slice(c,h.$length()):
e;else return this.$replace_next_line("link:"+a+"["+b+"]");return[h,"file",e]},q.$$arity=3),g)&&"resolve_include_path"})(r[0],p(r,"Reader"),r)}(b[0],b)};Opal.modules["asciidoctor/js/postscript"]=function(a){var b=a.top,g=a.nil,p=a.const_get_relative;a.add_stubs(["$require","$=="]);b.$require("asciidoctor/converter/composite");b.$require("asciidoctor/converter/html5");b.$require("asciidoctor/extensions");return p([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?b.$require("asciidoctor/js/opal_ext/browser/reader"):
g};(function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var q=a.top,k=[],m=a.nil,c=a.const_get_qualified,f=a.const_get_relative,l=a.truthy,r=a.gvars,t=a.module,n=a.hash2,e=a.send,h=a.hash;null==r[":"]&&(r[":"]=m);a.add_stubs("$== $>= $require $unshift $dirname $each $constants $const_get $downcase $to_s $[]= $- $upcase $[] $values $new $attr_reader $instance_variable_set $send $<< $define $expand_path $join $home $pwd $! $!= $default_external $to_set $map $keys $slice $merge $default= $* $to_a $dup $insert $start $logger $logger= $=== $split $gsub $respond_to? $raise $ancestors $class $path $utc $at $Integer $mtime $readlines $basename $extname $index $strftime $year $rewind $lines $each_line $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load $delete $key? $attributes $outfilesuffix $safe $normalize_system_path $mkdir_p $directory? $convert $write $< $attr? $attr $uriish? $include? $write_primary_stylesheet $instance $empty? $read_asset $file? $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
l(f(k,"RUBY_ENGINE","skip_raise")?"constant":m)||a.const_set(k[0],"RUBY_ENGINE","unknown");a.const_set(k[0],"RUBY_ENGINE_OPAL",f(k,"RUBY_ENGINE")["$=="]("opal"));a.const_set(k[0],"RUBY_ENGINE_JRUBY",f(k,"RUBY_ENGINE")["$=="]("jruby"));a.const_set(k[0],"RUBY_MIN_VERSION_1_9",b(f(k,"RUBY_VERSION"),"1.9"));a.const_set(k[0],"RUBY_MIN_VERSION_2",b(f(k,"RUBY_VERSION"),"2"));q.$require("set");f(k,"RUBY_ENGINE")["$=="]("opal")?q.$require("asciidoctor/js"):m;r[":"].$unshift(f(k,"File").$dirname("asciidoctor.rb"));
q.$require("asciidoctor/logging");(function(k,q){function r(){}var v=r=t(k,"Asciidoctor",r),u=[v].concat(q),x,z,y=m,B=m,F=m;a.const_set(u[0],"RUBY_ENGINE",c("::","RUBY_ENGINE"));(function(b,c){function d(){}var f=d=t(b,"SafeMode",d),h=[f].concat(c),k,l,p,q,r=m;a.const_set(h[0],"UNSAFE",0);a.const_set(h[0],"SAFE",1);a.const_set(h[0],"SERVER",10);a.const_set(h[0],"SECURE",20);r=n([],{});e((a.Module.$$nesting=h,f.$constants()),"each",[],(k=function(b){var c=k.$$s||this,d=m;null==b&&(b=m);d=[c.$const_get(b),
b.$to_s().$downcase()];e(r,"[]=",a.to_a(d));return d[g(d.length,1)]},k.$$s=f,k.$$arity=1,k));f.names_by_value=r;a.defs(f,"$value_for_name",l=function(a){return this.$const_get(a.$upcase())},l.$$arity=1);a.defs(f,"$name_for_value",p=function(a){null==this.names_by_value&&(this.names_by_value=m);return this.names_by_value["$[]"](a)},p.$$arity=1);a.defs(f,"$names",q=function(){null==this.names_by_value&&(this.names_by_value=m);return this.names_by_value.$values()},q.$$arity=0)})(u[0],u);(function(b,
d){function e(){}var f=e=t(b,"Compliance",e),g=[f].concat(d),h;f.keys=c("::","Set").$new();(function(a,b){[a].concat(b);return a.$attr_reader("keys")})(a.get_singleton_class(f),g);a.defs(f,"$define",h=function(b,c){null==this.keys&&(this.keys=m);this.$instance_variable_set("@"+b,c);var d=a.get_singleton_class(this);[d].concat(g);d.$send("attr_accessor",b);this.keys["$<<"](b);return m},h.$$arity=2);f.$define("block_terminates_paragraph",!0);f.$define("strict_verbatim_paragraphs",!0);f.$define("underline_style_section_titles",
!0);f.$define("unwrap_standalone_preamble",!0);f.$define("attribute_missing","skip");f.$define("attribute_undefined","drop-line");f.$define("shorthand_property_syntax",!0);f.$define("natural_xrefs",!0);f.$define("unique_id_start_index",2);f.$define("markdown_syntax",!0)})(u[0],u);a.const_set(u[0],"ROOT_PATH",c("::","File").$dirname(c("::","File").$dirname(c("::","File").$expand_path("asciidoctor.rb"))));a.const_set(u[0],"DATA_PATH",c("::","File").$join(f(u,"ROOT_PATH"),"data"));try{a.const_set(u[0],
"USER_HOME",c("::","Dir").$home())}catch(C){if(a.rescue(C,[f(u,"StandardError")]))try{a.const_set(u[0],"USER_HOME",l(x=c("::","ENV")["$[]"]("HOME"))?x:c("::","Dir").$pwd())}finally{a.pop_exception()}else throw C;}a.const_set(u[0],"COERCE_ENCODING",l(x=c("::","RUBY_ENGINE_OPAL")["$!"]())?c("::","RUBY_MIN_VERSION_1_9"):x);a.const_set(u[0],"FORCE_ENCODING",l(x=f(u,"COERCE_ENCODING"))?c("::","Encoding").$default_external()["$!="](c(c("::","Encoding"),"UTF_8")):x);a.const_set(u[0],"BOM_BYTES_UTF_8",[239,
187,191]);a.const_set(u[0],"BOM_BYTES_UTF_16LE",[255,254]);a.const_set(u[0],"BOM_BYTES_UTF_16BE",[254,255]);a.const_set(u[0],"FORCE_UNICODE_LINE_LENGTH",c("::","RUBY_MIN_VERSION_1_9")["$!"]());a.const_set(u[0],"LF",a.const_set(u[0],"EOL","\n"));a.const_set(u[0],"NULL","\x00");a.const_set(u[0],"TAB","\t");a.const_set(u[0],"MAX_INT",9007199254740991);a.const_set(u[0],"DEFAULT_DOCTYPE","article");a.const_set(u[0],"DEFAULT_BACKEND","html5");a.const_set(u[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());
a.const_set(u[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(u[0],"BACKEND_ALIASES",n(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.const_set(u[0],"DEFAULT_PAGE_WIDTHS",n(["docbook"],{docbook:425}));a.const_set(u[0],"DEFAULT_EXTENSIONS",n("html docbook pdf epub manpage asciidoc".split(" "),{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"}));a.const_set(u[0],"ASCIIDOC_EXTENSIONS",n([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,
".asc":!0,".ad":!0,".txt":!0}));a.const_set(u[0],"SETEXT_SECTION_LEVELS",n(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(u[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(u[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set());a.const_set(u[0],"CALLOUT_LIST_HEADS","<1234567890".split("").$to_set());a.const_set(u[0],"PARAGRAPH_STYLES","comment example literal listing normal open pass quote sidebar source verse abstract partintro".split(" ").$to_set());
a.const_set(u[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.const_set(u[0],"DELIMITED_BLOCKS",n('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",c("::",
"Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",c("::","Set").$new()],",===":["table",c("::","Set").$new()],":===":["table",c("::","Set").$new()],"!===":["table",c("::","Set").$new()],"////":["comment",c("::","Set").$new()],"```":["fenced_code",c("::","Set").$new()]}));a.const_set(u[0],"DELIMITED_BLOCK_HEADS",e(f(u,"DELIMITED_BLOCKS").$keys(),"map",[],(z=function(a){null==a&&(a=m);return a.$slice(0,
2)},z.$$s=v,z.$$arity=1,z)).$to_set());a.const_set(u[0],"LAYOUT_BREAK_CHARS",n(["'","<"],{"'":"thematic_break","<":"page_break"}));a.const_set(u[0],"MARKDOWN_THEMATIC_BREAK_CHARS",n(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"}));a.const_set(u[0],"HYBRID_LAYOUT_BREAK_CHARS",f(u,"LAYOUT_BREAK_CHARS").$merge(f(u,"MARKDOWN_THEMATIC_BREAK_CHARS")));a.const_set(u[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.const_set(u[0],"ORDERED_LIST_STYLES",["arabic","loweralpha",
"lowerroman","upperalpha","upperroman"]);a.const_set(u[0],"ORDERED_LIST_KEYWORDS",n(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.const_set(u[0],"ATTR_REF_HEAD","{");a.const_set(u[0],"LIST_CONTINUATION","+");a.const_set(u[0],"HARD_LINE_BREAK"," +");a.const_set(u[0],"LINE_CONTINUATION"," \\");a.const_set(u[0],"LINE_CONTINUATION_LEGACY"," +");a.const_set(u[0],"MATHJAX_VERSION","2.7.4");a.const_set(u[0],"BLOCK_MATH_DELIMITERS",
n(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.const_set(u[0],"INLINE_MATH_DELIMITERS",n(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));y=["asciimath"];e(a.const_set(u[0],"STEM_TYPE_ALIASES",n(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",a.to_a(y));y[g(y.length,1)];a.const_set(u[0],"FONT_AWESOME_VERSION","4.7.0");a.const_set(u[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);f(u,"RUBY_ENGINE")["$=="]("opal")||
m;a.const_set(u[0],"AuthorInfoLineRx",new RegExp("^("+f(u,"CG_WORD")+"["+f(u,"CC_WORD")+"\\-'.]*)(?: +("+f(u,"CG_WORD")+"["+f(u,"CC_WORD")+"\\-'.]*))?(?: +("+f(u,"CG_WORD")+"["+f(u,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.const_set(u[0],"RevisionInfoLineRx",/^(?:\D*([^\n]*?),)? *(?!:)([^\n]*?)(?: *(?!^),?: *([^\n]*))?$/);a.const_set(u[0],"ManpageTitleVolnumRx",/^([^\n]+?) *\( *([^\n]+?) *\)$/);a.const_set(u[0],"ManpageNamePurposeRx",/^([^\n]+?) +- +([^\n]+)$/);a.const_set(u[0],"ConditionalDirectiveRx",
/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,+])\S*?)?)\[([^\n]+)?\]$/);a.const_set(u[0],"EvalExpressionRx",/^([^\n]+?) *([=!><]=|[><]) *([^\n]+)$/);a.const_set(u[0],"IncludeDirectiveRx",/^(\\)?include::([^\[][^\[]*)\[([^\n]+)?\]$/);a.const_set(u[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\][\n \r]/);a.const_set(u[0],"AttributeEntryRx",new RegExp("^:(!?"+f(u,"CG_WORD")+"[^:]*):(?:[ \\t]+(.*))?$"));a.const_set(u[0],"InvalidAttributeNameCharsRx",new RegExp("[^"+f(u,"CC_WORD")+"-]"));f(u,"RUBY_ENGINE")["$=="]("opal")?
a.const_set(u[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/):m;a.const_set(u[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+f(u,"CG_WORD")+"+[-"+f(u,"CC_WORD")+"]*|(set|counter2?):.+?)(\\\\)?\\}"));a.const_set(u[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+f(u,"CC_ALPHA")+"_:]["+f(u,"CC_WORD")+":.-]*)(?:, *(.+))?)\\]\\]$"));a.const_set(u[0],"BlockAttributeListRx",new RegExp("^\\[(|["+f(u,"CC_WORD")+".#%{,\"'].*)\\]$"));a.const_set(u[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+
f(u,"CC_WORD")+".#%{,\"'].*|\\[(?:|["+f(u,"CC_ALPHA")+"_:]["+f(u,"CC_WORD")+":.-]*(?:, *.+)?)\\])\\]$"));a.const_set(u[0],"BlockTitleRx",/^\.(\.?[^ \t.][^\n]*)$/);a.const_set(u[0],"AdmonitionParagraphRx",new RegExp("^("+p(f(u,"ADMONITION_STYLES").$to_a(),"|")+"):[ \\t]+"));a.const_set(u[0],"LiteralParagraphRx",/^([ \t]+[^\n]*)$/);a.const_set(u[0],"AtxSectionTitleRx",/^(=={0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/);a.const_set(u[0],"ExtAtxSectionTitleRx",/^(=={0,5}|#\#{0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/);
a.const_set(u[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+f(u,"CG_WORD")+"+.*)[^.].*?)$"));a.const_set(u[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+f(u,"CC_ALPHA")+"_:]["+f(u,"CC_WORD")+":.-]*)(?:, *(.+))?\\]\\]$"));a.const_set(u[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+f(u,"CC_WORD")+"\\-.]+?"));a.const_set(u[0],"AnyListRx",/^(?:[ \t]*(?:-|\*\*{0,4}|\.\.{0,4}|\u2022\u2022{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]|[ \t]*[^\n]*?(?::::{0,2}|;;)(?:$|[ \t])|<?\d+>[ \t])/);
a.const_set(u[0],"UnorderedListRx",/^[ \t]*(-|\*\*{0,4}|\u2022\u2022{0,4})[ \t]+([^\n]*)$/);a.const_set(u[0],"OrderedListRx",/^[ \t]*(\.\.{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]+([^\n]*)$/);a.const_set(u[0],"OrderedListMarkerRxMap",n(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.const_set(u[0],"DescriptionListRx",/^(?!\/\/)[ \t]*([^\n]*?)(:::{0,2}|;;)(?:$|[ \t]+([^\n]*)$)/);
a.const_set(u[0],"DescriptionListSiblingRx",n(["::",":::","::::",";;"],{"::":/^(?!\/\/)[ \t]*(.*[^:]|)(::)(?:$|[ \t]+(.*)$)/,":::":/^(?!\/\/)[ \t]*(.*[^:]|)(:::)(?:$|[ \t]+(.*)$)/,"::::":/^(?!\/\/)[ \t]*(.*[^:]|)(::::)(?:$|[ \t]+(.*)$)/,";;":/^(?!\/\/)[ \t]*(.*?)(;;)(?:$|[ \t]+(.*)$)/}));a.const_set(u[0],"CalloutListRx",/^<?(\d+)>[ \t]+([^\n]*)$/);a.const_set(u[0],"CalloutListSniffRx",/^<?\d+>/);a.const_set(u[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);
a.const_set(u[0],"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.const_set(u[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+f(u,"CC_EOL")+")"));a.const_set(u[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+f(u,"CC_EOL")+")"));a.const_set(u[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+f(u,"CC_EOL")+")");a.const_set(u[0],"ListRxMap",n(["ulist",
"olist","dlist","colist"],{ulist:f(u,"UnorderedListRx"),olist:f(u,"OrderedListRx"),dlist:f(u,"DescriptionListRx"),colist:f(u,"CalloutListRx")}));a.const_set(u[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/);a.const_set(u[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(u[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);
a.const_set(u[0],"CustomBlockMacroRx",new RegExp("^("+f(u,"CG_WORD")+"+)::(|\\S|\\S.*?\\S)\\[(.+)?\\]$"));a.const_set(u[0],"BlockMediaMacroRx",/^(image|video|audio)::(\S|\S[^\n]*?\S)\[([^\n]+)?\]$/);a.const_set(u[0],"BlockTocMacroRx",/^toc::\[([^\n]+)?\]$/);a.const_set(u[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+f(u,"CC_ALPHA")+"_:]["+f(u,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|anchor:(["+f(u,"CC_ALPHA")+"_:]["+f(u,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\]))"));a.const_set(u[0],"InlineAnchorScanRx",
new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+f(u,"CC_ALPHA")+"_:]["+f(u,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+f(u,"CC_ALPHA")+"_:]["+f(u,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\])"));a.const_set(u[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+f(u,"CC_ALPHA")+"_:]["+f(u,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]"));a.const_set(u[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+f(u,"CC_ALPHA")+"_:]["+f(u,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]\\]"));a.const_set(u[0],"InlineEmailRx",
new RegExp("([\\\\>:/])?"+f(u,"CG_WORD")+"["+f(u,"CC_WORD")+".%+-]*@"+f(u,"CG_ALNUM")+"["+f(u,"CC_ALNUM")+".-]*\\."+f(u,"CG_ALPHA")+"{2,4}\\b"));a.const_set(u[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:([\\w-]+)?)\\[(?:|("+f(u,"CC_ALL")+"*?[^\\\\]))\\]","m"));a.const_set(u[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+f(u,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(u[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+
f(u,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+f(u,"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(u[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+f(u,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(u[0],"InlineLinkRx",new RegExp("(^|link:|"+f(u,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+f(u,"CC_ALL")+"*?[^\\\\])\\])?","m"));a.const_set(u[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+f(u,"CC_ALL")+
"*?[^\\\\])\\]","m"));a.const_set(u[0],"MacroNameRx",new RegExp("^"+f(u,"CG_WORD")+"+$"));a.const_set(u[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+f(u,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(u[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+f(u,"CG_WORD")+"|["+f(u,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+f(u,"CC_ALL")+"*?[^\\\\])?\\]","m"));a.const_set(u[0],"InlineMenuRx",new RegExp('\\\\?"(['+f(u,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'));
a.const_set(u[0],"InlinePassRx",h(!1,["+","`",new RegExp("(^|[^"+f(u,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+f(u,"CC_ALL")+"*?\\S)\\4)(?!"+f(u,"CG_WORD")+")","m")],!0,["`",m,new RegExp("(^|[^`"+f(u,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+f(u,"CC_ALL")+"*?\\S)\\4)(?![`"+f(u,"CC_WORD")+"])","m")]));a.const_set(u[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+f(u,"CC_ALL")+"*?\\S)\\+$","m"));a.const_set(u[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+
f(u,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+f(u,"CC_ALL")+"*?[^\\\\])\\])","m"));a.const_set(u[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+f(u,"CC_WORD")+"#/.:{]"+f(u,"CC_ALL")+"*?)&gt;&gt;|xref:(["+f(u,"CC_WORD")+"#/.:{]"+f(u,"CC_ALL")+"*?)\\[(?:\\]|("+f(u,"CC_ALL")+"*?[^\\\\])\\]))","m"));f(u,"RUBY_ENGINE")["$=="]("opal")?a.const_set(u[0],"HardLineBreakRx",/^(.*) \+$/m):m;a.const_set(u[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/);a.const_set(u[0],"ExtLayoutBreakRx",
/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/);a.const_set(u[0],"BlankLineRx",/\n{2,}/);a.const_set(u[0],"DataDelimiterRx",/[,;]/);a.const_set(u[0],"TrailingDigitsRx",/\d+$/);a.const_set(u[0],"EscapedSpaceRx",/\\([ \t\n])/);a.const_set(u[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/);a.const_set(u[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/);a.const_set(u[0],"SubModifierSniffRx",/[+-]/);f(u,"RUBY_ENGINE")["$=="]("opal")||m;a.const_set(u[0],"UriSniffRx",new RegExp("^"+f(u,"CG_ALPHA")+"["+f(u,"CC_ALNUM")+
".+-]+:/{0,2}"));a.const_set(u[0],"UriTerminatorRx",/[);:]$/);a.const_set(u[0],"XmlSanitizeRx",/<[^>]+>/);a.const_set(u[0],"INTRINSIC_ATTRIBUTES",n("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",
nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));B=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+f(u,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+f(u,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+f(u,"CC_ALL")+"*?\\S)\\*(?!"+f(u,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+f(u,
"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+f(u,"CC_ALL")+'*?\\S)`"(?!'+f(u,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+f(u,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+f(u,"CC_ALL")+"*?\\S)`'(?!"+f(u,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+f(u,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+f(u,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+f(u,"CC_ALL")+"*?\\S)`(?!["+f(u,"CC_WORD")+"\"'`])",
"m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+f(u,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+f(u,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+f(u,"CC_ALL")+"*?\\S)_(?!"+f(u,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+f(u,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+f(u,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+f(u,"CC_ALL")+"*?\\S)#(?!"+f(u,"CG_WORD")+")","m")],["superscript",
"unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]];F=B.$dup();y=[2,["double","constrained",new RegExp("(^|[^"+f(u,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+f(u,"CC_ALL")+"*?\\S)''(?!"+f(u,"CG_WORD")+")","m")]];e(F,"[]=",a.to_a(y));y[g(y.length,1)];y=[3,["single","constrained",new RegExp("(^|[^"+f(u,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+f(u,"CC_ALL")+"*?\\S)'(?!"+f(u,"CG_WORD")+")","m")]];e(F,"[]=",a.to_a(y));y[g(y.length,
1)];y=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+f(u,"CC_ALL")+"+?)\\+\\+","m")]];e(F,"[]=",a.to_a(y));y[g(y.length,1)];y=[5,["monospaced","constrained",new RegExp("(^|[^"+f(u,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+f(u,"CC_ALL")+"*?\\S)\\+(?!"+f(u,"CG_WORD")+")","m")]];e(F,"[]=",a.to_a(y));y[g(y.length,1)];F.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+f(u,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+f(u,"CC_ALL")+"*?\\S)'(?!"+f(u,"CG_WORD")+
")","m")]);a.const_set(u[0],"QUOTE_SUBS",h(!1,B,!0,F));F=B=m;a.const_set(u[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+f(u,"CG_WORD")+")\\\\?--(?="+f(u,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+f(u,"CG_ALNUM")+")\\\\?'(?="+f(u,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;",
"none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]);(function(h,k){var q=[h].concat(k),r,t,u,v;a.def(h,"$load",r=function(b,d){var h,k,r,t,u,v=m,x=m,y=m,z=m,B=m,C=m,D=m,E=m,F=m,G=m,J=m,L=m,O=m,P=m;null==d&&(d=n([],{}));try{d=d.$dup();l(v=d["$[]"]("timings"))&&v.$start("read");l(l(h=x=d["$[]"]("logger"))?x["$!="](f(q,"LoggerManager").$logger()):
h)&&(y=[x],e(f(q,"LoggerManager"),"logger=",a.to_a(y)),y[g(y.length,1)]);l((z=d["$[]"]("attributes"))["$!"]())?z=n([],{}):l(l(h=c("::","Hash")["$==="](z))?h:l(k=c("::","RUBY_ENGINE_JRUBY"))?c(c(c("::","Java"),"JavaUtil"),"Map")["$==="](z):k)?z=z.$dup():l(c("::","Array")["$==="](z))?(h=[n([],{}),z],z=h[0],B=h[1],h,e(B,"each",[],(r=function(b){var c,d=m,f=m;null==b&&(b=m);c=b.$split("=",2);b=a.to_ary(c);d=null==b[0]?m:b[0];f=null==b[1]?m:b[1];c;y=[d,l(b=f)?b:""];e(z,"[]=",a.to_a(y));return y[g(y.length,
1)]},r.$$s=this,r.$$arity=1,r))):l(c("::","String")["$==="](z))?(h=[n([],{}),z.$gsub(f(q,"SpaceDelimiterRx"),"\\1"+f(q,"NULL")).$gsub(f(q,"EscapedSpaceRx"),"\\1").$split(f(q,"NULL"))],z=h[0],B=h[1],h,e(B,"each",[],(t=function(b){var c,d=m,f=m;null==b&&(b=m);c=b.$split("=",2);b=a.to_ary(c);d=null==b[0]?m:b[0];f=null==b[1]?m:b[1];c;y=[d,l(b=f)?b:""];e(z,"[]=",a.to_a(y));return y[g(y.length,1)]},t.$$s=this,t.$$arity=1,t))):l(l(h=z["$respond_to?"]("keys"))?z["$respond_to?"]("[]"):h)?z=c("::","Hash")["$[]"](e(z.$keys(),
"map",[],(u=function(a){null==a&&(a=m);return[a,z["$[]"](a)]},u.$$s=this,u.$$arity=1,u))):this.$raise(c("::","ArgumentError"),"illegal type for attributes option: "+p(z.$class().$ancestors()," < "));C=m;if(l(c("::","File")["$==="](b)))D=c("::","File").$expand_path(b.$path()),E=l(c("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?c("::","Time").$at(this.$Integer(c("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():b.$mtime(),C=b.$readlines(),y=["docfile",D],e(z,"[]=",a.to_a(y)),y[g(y.length,1)],y=["docdir",
c("::","File").$dirname(D)],e(z,"[]=",a.to_a(y)),y[g(y.length,1)],y=["docname",f(q,"Helpers").$basename(D,(y=["docfilesuffix",c("::","File").$extname(D)],e(z,"[]=",a.to_a(y)),y[g(y.length,1)]))],e(z,"[]=",a.to_a(y)),y[g(y.length,1)],l(F=z["$[]"]("docdate"))?l(h=z["$[]"]("docyear"))?h:(y=["docyear",F.$index("-")["$=="](4)?F.$slice(0,4):m],e(z,"[]=",a.to_a(y)),y[g(y.length,1)]):(F=(y=["docdate",E.$strftime("%Y-%m-%d")],e(z,"[]=",a.to_a(y)),y[g(y.length,1)]),l(h=z["$[]"]("docyear"))?h:(y=["docyear",
E.$year().$to_s()],e(z,"[]=",a.to_a(y)),y[g(y.length,1)])),G=l(h=z["$[]"]("doctime"))?h:(y=["doctime",E.$strftime("%H:%M:%S %Z")],e(z,"[]=",a.to_a(y)),y[g(y.length,1)]),y=["docdatetime",""+F+" "+G],e(z,"[]=",a.to_a(y)),y[g(y.length,1)];else if(l(b["$respond_to?"]("readlines"))){try{b.$rewind()}catch(T){if(a.rescue(T,[f(q,"StandardError")]))try{m}finally{a.pop_exception()}else throw T;}C=b.$readlines()}else l(c("::","String")["$==="](b))?C=l(c("::","RUBY_MIN_VERSION_2"))?b.$lines():b.$each_line().$to_a():
l(c("::","Array")["$==="](b))?C=b.$dup():this.$raise(c("::","ArgumentError"),"unsupported input type: "+b.$class());l(v)&&(v.$record("read"),v.$start("parse"));y=["attributes",z];e(d,"[]=",a.to_a(y));y[g(y.length,1)];J=d["$[]"]("parse")["$=="](!1)?f(q,"Document").$new(C,d):f(q,"Document").$new(C,d).$parse();l(v)&&v.$record("parse");return J}catch(T){if(a.rescue(T,[f(q,"StandardError")])){L=T;try{try{O="asciidoctor: FAILED: "+(l(h=z["$[]"]("docfile"))?h:"<stdin>")+": Failed to load AsciiDoc document",
l(L["$respond_to?"]("exception"))?(P=L.$exception(""+O+" - "+L.$message()),P.$set_backtrace(L.$backtrace())):(P=L.$class().$new(O,L),y=[L.$stack_trace()],e(P,"stack_trace=",a.to_a(y)),y[g(y.length,1)])}catch(V){if(a.rescue(V,[f(q,"StandardError")]))try{P=L}finally{a.pop_exception()}else throw V;}return this.$raise(P)}finally{a.pop_exception()}}else throw T;}},r.$$arity=-2);a.def(h,"$load_file",t=function(a,b){var d;null==b&&(b=n([],{}));return e(c("::","File"),"open",[a,"rb"],(d=function(a){var c=
d.$$s||this;null==a&&(a=m);return c.$load(a,b)},d.$$s=this,d.$$arity=1,d))},t.$$arity=-2);a.def(h,"$convert",u=function(h,k){var p,r,t,u,v,x=m,y=m,A=m,z=m,B=m,C=m,D=m,E=v=z=m,F=z=m,G=x=x=D=B=m,J=D=B=m,L=y=x=C=m,O=A=m;null==k&&(k=n([],{}));k=k.$dup();k.$delete("parse");x=k.$delete("to_file");y=k.$delete("to_dir");A=l(p=k.$delete("mkdirs"))?p:!1;z=x;if((!0)["$==="](z)||m["$==="](z))B=l(p=y["$!"]())?c("::","File")["$==="](h):p,C=!1,D=y,x=m;else if((!1)["$==="](z))D=C=B=!1,x=m;else{if("/dev/null"["$==="](z))return this.$load(h,
k);B=!1;l(C=x["$respond_to?"]("write"))?D=!1:(z=["to_file",x],e(k,"[]=",a.to_a(z)),D=z[g(z.length,1)])}!l(k["$key?"]("header_footer"))&&l(l(p=B)?p:D)&&(z=["header_footer",!0],e(k,"[]=",a.to_a(z)),z[g(z.length,1)]);l(B)?(v=c("::","File").$expand_path(h.$path()),z=["to_dir",E=c("::","File").$dirname(v)],e(k,"[]=",a.to_a(z)),z[g(z.length,1)]):l(D)&&(l(y)?(z=l(x)?["to_dir",c("::","File").$dirname(c("::","File").$expand_path(c("::","File").$join(y,x)))]:["to_dir",c("::","File").$expand_path(y)],e(k,"[]=",
a.to_a(z)),z[g(z.length,1)]):l(x)&&(z=["to_dir",c("::","File").$dirname(c("::","File").$expand_path(x))],e(k,"[]=",a.to_a(z)),z[g(z.length,1)]));z=this.$load(h,k);l(B)?(F=c("::","File").$join(E,""+z.$attributes()["$[]"]("docname")+z.$outfilesuffix()),F["$=="](v)&&this.$raise(c("::","IOError"),"input file and output file cannot be the same: "+F)):l(D)?(B=l(k["$key?"]("base_dir"))?c("::","File").$expand_path(k["$[]"]("base_dir")):c("::","Dir").$pwd(),D=l(b(z.$safe(),c(f(q,"SafeMode"),"SAFE")))?B:m,
l(y)?(E=z.$normalize_system_path(y,B,D,n(["target_name","recover"],{target_name:"to_dir",recover:!1})),l(x)?(F=z.$normalize_system_path(x,E,m,n(["target_name","recover"],{target_name:"to_dir",recover:!1})),E=c("::","File").$dirname(F)):F=c("::","File").$join(E,""+z.$attributes()["$[]"]("docname")+z.$outfilesuffix())):l(x)&&(F=z.$normalize_system_path(x,B,D,n(["target_name","recover"],{target_name:"to_dir",recover:!1})),E=c("::","File").$dirname(F)),l(l(p=c("::","File")["$==="](h))?F["$=="](c("::",
"File").$expand_path(h.$path())):p)&&this.$raise(c("::","IOError"),"input file and output file cannot be the same: "+F),l(A)?f(q,"Helpers").$mkdir_p(E):l(c("::","File")["$directory?"](E))||this.$raise(c("::","IOError"),"target directory does not exist: "+y+" (hint: set mkdirs option)")):(F=x,E=m);x=l(l(p=F)?C["$!"]():p)?n(["outfile","outdir"],{outfile:F,outdir:E}):n([],{});x=z.$convert(x);return l(F)?(z.$write(x,F),l(v=C["$!"]())&&(v=z.$safe(),F=c(f(q,"SafeMode"),"SECURE"),v="number"===typeof v&&
"number"===typeof F?v<F:v["$<"](F)),l(l(p=l(r=l(t=l(u=v)?z["$attr?"]("linkcss"):u)?z["$attr?"]("copycss"):t)?z["$attr?"]("basebackend-html"):r)?(l(r=G=z.$attr("stylesdir"))?f(q,"Helpers")["$uriish?"](G):r)["$!"]():p)&&(D=B=!1,l(J=z.$attr("stylesheet"))&&(l(f(q,"DEFAULT_STYLESHEET_KEYS")["$include?"](J))?B=!0:l(f(q,"Helpers")["$uriish?"](J)["$!"]())&&(D=!0)),C=l(p=z["$attr?"]("source-highlighter","coderay"))?z.$attr("coderay-css","class")["$=="]("class"):p,x=l(p=z["$attr?"]("source-highlighter","pygments"))?
z.$attr("pygments-css","class")["$=="]("class"):p,l(l(p=l(r=l(t=B)?t:D)?r:C)?p:x)&&(y=z.$normalize_system_path(G,E,l(b(z.$safe(),c(f(q,"SafeMode"),"SAFE")))?E:m),l(A)?f(q,"Helpers").$mkdir_p(y):l(c("::","File")["$directory?"](y))||this.$raise(c("::","IOError"),"target stylesheet directory does not exist: "+y+" (hint: set mkdirs option)"),l(B)?f(q,"Stylesheets").$instance().$write_primary_stylesheet(y):l(D)&&(L=l((L=z.$attr("copycss"))["$empty?"]())?z.$normalize_system_path(J):z.$normalize_system_path(L),
A=z.$normalize_system_path(J,y,l(b(z.$safe(),c(f(q,"SafeMode"),"SAFE")))?E:m),l(l(p=L["$!="](A))?O=z.$read_asset(L,n(["warn_on_failure","label"],{warn_on_failure:c("::","File")["$file?"](A)["$!"](),label:"stylesheet"})):p)&&c("::","IO").$write(A,O)),l(C)?f(q,"Stylesheets").$instance().$write_coderay_stylesheet(y):l(x)&&f(q,"Stylesheets").$instance().$write_pygments_stylesheet(y,z.$attr("pygments-style")))),z):x},u.$$arity=-2);a.alias(h,"render","convert");a.def(h,"$convert_file",v=function(a,b){var d;
null==b&&(b=n([],{}));return e(c("::","File"),"open",[a,"rb"],(d=function(a){var c=d.$$s||this;null==a&&(a=m);return c.$convert(a,b)},d.$$s=this,d.$$arity=1,d))},v.$$arity=-2);a.alias(h,"render_file","convert_file");f(q,"RUBY_ENGINE")["$=="]("opal");return m})(a.get_singleton_class(v),u);f(u,"RUBY_ENGINE")["$=="]("opal")?(v.$require("asciidoctor/timings"),v.$require("asciidoctor/version")):m})(k[0],k);q.$require("asciidoctor/core_ext");q.$require("asciidoctor/helpers");q.$require("asciidoctor/substitutors");
q.$require("asciidoctor/abstract_node");q.$require("asciidoctor/abstract_block");q.$require("asciidoctor/attribute_list");q.$require("asciidoctor/block");q.$require("asciidoctor/callouts");q.$require("asciidoctor/converter");q.$require("asciidoctor/document");q.$require("asciidoctor/inline");q.$require("asciidoctor/list");q.$require("asciidoctor/parser");q.$require("asciidoctor/path_resolver");q.$require("asciidoctor/reader");q.$require("asciidoctor/section");q.$require("asciidoctor/stylesheets");
q.$require("asciidoctor/table");return f(k,"RUBY_ENGINE")["$=="]("opal")?q.$require("asciidoctor/js/postscript"):m})(Opal);var r=function(a){return!a||"$$smap"in a?a:Opal.hash(a)},g=function(a){var b={};a=a.$$smap;for(var g in a)b[g]=a[g];return b},B=function(a){if(a=r(a)){var b=a["$[]"]("attributes");b&&"object"===typeof b&&"Object"===b.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",r(b)))}return a},v=Opal.Asciidoctor.$$class;v.prototype.getCoreVersion=function(){return this.$$const.VERSION};
v.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}};v.prototype.convert=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));var g=this.$convert(a,B(b));return g===Opal.nil?"":g};v.prototype.convertFile=function(a,b){return this.$convert_file(a,
B(b))};v.prototype.load=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));return this.$load(a,B(b))};v.prototype.loadFile=function(a,b){return this.$load_file(a,B(b))};var t=Opal.Asciidoctor.AbstractBlock;t.prototype.append=function(a){this.$append(a);return this};t.prototype.applySubstitutions=function(a,b){return this.$apply_subs(a,b)};t.prototype.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};t.prototype.getCaptionedTitle=function(){return this.$captioned_title()};
t.prototype.getStyle=function(){return this.style};t.prototype.getCaption=function(){return this.$caption()};t.prototype.setCaption=function(a){this.caption=a};t.prototype.getLevel=function(){return this.level};t.prototype.getSubstitutions=function(){return this.subs};t.prototype.hasSubstitution=function(a){return this["$sub?"](a)};t.prototype.removeSubstitution=function(a){this.$remove_sub(a)};t.prototype.hasBlocks=function(){return 0<this.blocks.length};t.prototype.getBlocks=function(){return this.blocks};
t.prototype.getContent=function(){return this.$content()};t.prototype.convert=function(){return this.$convert()};t.prototype.findBy=function(a,b){return"undefined"===typeof b&&"function"===typeof a?Opal.send(this,"find_by",null,a):"function"===typeof b?Opal.send(this,"find_by",[r(a)],b):this.$find_by(r(a))};t.prototype.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?void 0:a};t.prototype.hasSections=function(){return this["$sections?"]()};t.prototype.getSections=function(){return this.$sections()};
t.prototype.getNumeral=function(){return this.$number()};t.prototype.setNumeral=function(a){return this["$number="](a)};t=Opal.Asciidoctor.Section;t.prototype.getIndex=function(){return this.index};t.prototype.setIndex=function(a){this.index=a};t.prototype.getSectionName=function(){return this.sectname};t.prototype.setSectionName=function(a){this.sectname=a};t.prototype.isSpecial=function(){return this.special};t.prototype.setSpecial=function(a){this.special=a};t.prototype.isNumbered=function(){return this.numbered};
t.prototype.getCaption=function(){var a=this.caption;return a===Opal.nil?void 0:a};t.prototype.getName=function(){return this.getTitle()};t=Opal.Asciidoctor.Block;t.prototype.getSource=function(){return this.$source()};t.prototype.getSourceLines=function(){return this.lines};t=Opal.Asciidoctor.AbstractNode;t.prototype.getAttributes=function(){return g(this.attributes)};t.prototype.getAttribute=function(a,b,g){a=this.$attr(a,b,g);return a===Opal.nil?void 0:a};t.prototype.hasAttribute=function(a){return a in
this.attributes.$$smap};t.prototype.isAttribute=function(a,b,g){a=this["$attr?"](a,b,g);return a===Opal.nil?!1:a};t.prototype.setAttribute=function(a,b,g){"undefined"===typeof g&&(g=!0);return this.$set_attr(a,b,g)};t.prototype.removeAttribute=function(a){a=this.$remove_attr(a);return a===Opal.nil?void 0:a};t.prototype.getDocument=function(){return this.document};t.prototype.getParent=function(){var a=this.parent;return a===Opal.nil?void 0:a};t.prototype.isInline=function(){return this["$inline?"]()};
t.prototype.isBlock=function(){return this["$block?"]()};t.prototype.isRole=function(a){return this["$role?"](a)};t.prototype.getRole=function(){return this.$role()};t.prototype.hasRole=function(a){return this["$has_role?"](a)};t.prototype.getRoles=function(){return this.$roles()};t.prototype.addRole=function(a){return this.$add_role(a)};t.prototype.removeRole=function(a){return this.$remove_role(a)};t.prototype.isReftext=function(){return this["$reftext?"]()};t.prototype.getReftext=function(){return this.$reftext()};
t.prototype.getContext=function(){var a=this.context;return"string"===typeof a?a:a.toString()};t.prototype.getId=function(){return this.id};t.prototype.isOption=function(a){return this["$option?"](a)};t.prototype.setOption=function(a){return this.$set_option(a)};t.prototype.getIconUri=function(a){return this.$icon_uri(a)};t.prototype.getMediaUri=function(a,b){return this.$media_uri(a,b)};t.prototype.getImageUri=function(a,b){return this.$image_uri(a,b)};t.prototype.getConverter=function(){return this.$converter()};
t.prototype.readContents=function(a,b){return this.$read_contents(a,r(b))};t.prototype.readAsset=function(a,b){return this.$read_asset(a,r(b))};t.prototype.normalizeWebPath=function(a,b,g){return this.$normalize_web_path(a,b,g)};t.prototype.normalizeSystemPath=function(a,b,g,p){return this.$normalize_system_path(a,b,g,r(p))};t.prototype.normalizeAssetPath=function(a,b,g){return this.$normalize_asset_path(a,b,g)};var p=Opal.Asciidoctor.Document;p.prototype.getHeader=function(){return this.header};
p.prototype.setAttribute=function(a,b){return this.$set_attribute(a,b)};p.prototype.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};p.prototype.convert=function(a){a=this.$convert(r(a));return a===Opal.nil?"":a};p.prototype.write=function(a,b){return this.$write(a,b)};p.prototype.getAuthor=function(){return this.$author()};p.prototype.getSource=function(){return this.$source()};p.prototype.getSourceLines=function(){return this.$source_lines()};p.prototype.isNested=
function(){return this["$nested?"]()};p.prototype.hasFootnotes=function(){return this["$footnotes?"]()};p.prototype.getFootnotes=function(){return this.$footnotes()};p.prototype.isEmbedded=function(){return this["$embedded?"]()};p.prototype.hasExtensions=function(){return this["$extensions?"]()};p.prototype.getDoctype=function(){return this.doctype};p.prototype.getBackend=function(){return this.backend};p.prototype.isBasebackend=function(a){return this["$basebackend?"](a)};p.prototype.getTitle=function(){var a=
this.$title();return a===Opal.nil?void 0:a};p.prototype.setTitle=function(a){return this["$title="](a)};p.prototype.getDocumentTitle=function(a){a=this.$doctitle(r(a));return a===Opal.nil?void 0:a};p.prototype.getDoctitle=p.prototype.getDocumentTitle;p.prototype.getCatalog=function(){return g(this.catalog)};p.prototype.getReferences=p.prototype.getCatalog;p.prototype.getRevisionDate=function(){return this.getAttribute("revdate")};p.prototype.getRevdate=function(){return this.getRevisionDate()};p.prototype.getRevisionNumber=
function(){return this.getAttribute("revnumber")};p.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")};p.RevisionInfo=function(a,b,g){this.date=a;this.number=b;this.remark=g};t=p.RevisionInfo;t.prototype.getDate=function(){return this.date};t.prototype.getNumber=function(){return this.number};t.prototype.getRemark=function(){return this.remark};t.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};p.prototype.getRevisionInfo=
function(){return new p.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())};p.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()};p.prototype.getNotitle=function(){return this.$notitle()};p.prototype.getNoheader=function(){return this.$noheader()};p.prototype.getNofooter=function(){return this.$nofooter()};p.prototype.hasHeader=function(){return this["$header?"]()};p.prototype.deleteAttribute=function(a){return this.$delete_attribute(a)};
p.prototype.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};p.prototype.parse=function(a){return this.$parse(a)};p.prototype.getDocinfo=function(a,b){return this.$docinfo(a,b)};p.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};p.prototype.counterIncrement=function(a,b){return this.$counter_increment(a,b)};p.prototype.counter=function(a,b){return this.$counter(a,b)};p.prototype.getSafe=function(){return this.safe};p.prototype.getCompatMode=function(){return this.compat_mode};
p.prototype.getSourcemap=function(){return this.sourcemap};p.prototype.getCounters=function(){return g(this.counters)};p.prototype.getCallouts=function(){return this.$callouts()};p.prototype.getBaseDir=function(){return this.base_dir};p.prototype.getOptions=function(){return g(this.options)};p.prototype.getOutfilesuffix=function(){return this.outfilesuffix};p.prototype.getParentDocument=function(){return this.parent_document};p.prototype.getReader=function(){return this.reader};p.prototype.getConverter=
function(){return this.converter};p.prototype.getExtensions=function(){return this.extensions};t=p.Title;t.prototype.getMain=function(){return this.main};t.prototype.getCombined=function(){return this.combined};t.prototype.getSubtitle=function(){var a=this.subtitle;return a===Opal.nil?void 0:a};t.prototype.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};t.prototype.hasSubtitle=function(){return this["$subtitle?"]()};t=Opal.Asciidoctor.Inline;Opal.Asciidoctor.Inline.$$class.prototype.create=
function(a,b,g,p){return this.$new(a,b,g,r(p))};t.prototype.convert=function(){return this.$convert()};t.prototype.getText=function(){var a=this.$text();return a===Opal.nil?void 0:a};t.prototype.getType=function(){return this.$type()};t.prototype.getTarget=function(){var a=this.$target();return a===Opal.nil?void 0:a};Opal.Asciidoctor.List.prototype.getItems=function(){return this.blocks};t=Opal.Asciidoctor.ListItem;t.prototype.getText=function(){return this.$text()};t.prototype.setText=function(a){return this.text=
a};t=Opal.Asciidoctor.Reader;t.prototype.pushInclude=function(a,b,g,p,q){return this.$push_include(a,b,g,p,r(q))};t.prototype.getCursor=function(){return this.$cursor()};t.prototype.getLines=function(){return this.$lines()};t.prototype.getString=function(){return this.$string()};t=Opal.Asciidoctor.Reader.Cursor;t.prototype.getFile=function(){var a=this.file;return a===Opal.nil?void 0:a};t.prototype.getDirectory=function(){var a=this.dir;return a===Opal.nil?void 0:a};t.prototype.getPath=function(){var a=
this.path;return a===Opal.nil?void 0:a};t.prototype.getLineNumber=function(){return this.lineno};t=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);if(Opal.Asciidoctor.LoggerManager=t)t.getLogger=function(){return this.$logger()},t.setLogger=function(a){this.logger=a},t.newLogger=function(a,b){return y(a,b).$new()},t.newFormatter=function(a,b){return F(a,b).$new()};var x=Opal.const_get_qualified(Opal.Logger,"Severity",!0);if(Opal.Asciidoctor.LoggerSeverity=x)x.get=function(a){return x.$constants()[a]};
t=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);if(Opal.Asciidoctor.LoggerFormatter=t)t.prototype.call=function(a,b,g,p){return this.$call(x.get(a),b,g,p)};t=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);if(Opal.Asciidoctor.MemoryLogger=t)t.prototype.getMessages=function(){for(var a=this.messages,b=[],p=0;p<a.length;p++){var q=g(a[p]);"string"===typeof q.message?q.getText=function(){return this.message}:(q.message=g(q.message),q.getText=function(){return this.message.text});
q.getSeverity=function(){return this.severity.toString()};q.getSourceLocation=function(){return this.message.source_location};b.push(q)}return b};t=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);if(Opal.Asciidoctor.Logger=t)t.prototype.getMaxSeverity=function(){return this.max_severity},t.prototype.getFormatter=function(){return this.formatter},t.prototype.setFormatter=function(a){return this.formatter=a},t.prototype.getLevel=function(){return this.level},t.prototype.setLevel=function(a){return this.level=
a},t.prototype.getProgramName=function(){return this.progname},t.prototype.setProgramName=function(a){return this.progname=a};t=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);if(Opal.Asciidoctor.NullLogger=t)t.prototype.getMaxSeverity=function(){return this.max_severity};var J=function(a){a.$$arity=a.length;return a},L=function(a,b,g,p){return"object"===typeof g||g.$$is_class?a["$"+b](g,p):Opal.send(a,b,p&&[p],J(g))},P=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=
P;P.create=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"build_registry",null,J(a)):"function"===typeof b?Opal.send(this,"build_registry",[a],J(b)):this.$build_registry()};P.register=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"register",null,J(a)):Opal.send(this,"register",[a],J(b))};P.getGroups=function(){return g(this.$groups())};P.unregisterAll=function(){this.$unregister_all()};P.unregister=function(){for(var a=Array.prototype.concat.apply([],
arguments),b=this.$groups(),g={},p=0,q=b.$$keys;p<q.length;p++){var k=q[p];g[k.toString()]=k}for(p=0;p<a.length;p++)q=a[p],q in g&&Opal.hash_delete(b,g[q])};t=P.Registry;t.prototype.getGroups=P.getGroups;t.prototype.unregisterAll=function(){this.groups=Opal.hash()};t.prototype.unregister=P.unregister;t.prototype.block=function(a,b){1===arguments.length&&(b=a,a=null);return L(this,"block",b,a)};t.prototype.inlineMacro=function(a,b){1===arguments.length&&(b=a,a=null);return L(this,"inline_macro",b,
a)};t.prototype.includeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return L(this,"include_processor",b,a)};t.prototype.blockMacro=function(a,b){1===arguments.length&&(b=a,a=null);return L(this,"block_macro",b,a)};t.prototype.treeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return L(this,"tree_processor",b,a)};t.prototype.postprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return L(this,"postprocessor",b,a)};t.prototype.preprocessor=function(a,b){1===arguments.length&&
(b=a,a=null);return L(this,"preprocessor",b,a)};t.prototype.docinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return L(this,"docinfo_processor",b,a)};t=P.Processor;t.prototype.prepend=function(){this.$option("position",">>")};t.prototype.process=function(a){a=new Proxy(a,{apply:function(a,b,p){for(var q=0;q<p.length;q++)"object"===typeof p[q]&&"$$smap"in p[q]&&(p[q]=g(p[q]));return a.apply(b,p)}});return Opal.send(this,"process",null,J(a))};t.prototype.named=function(a){return this.$named(a)};
t.prototype.createBlock=function(a,b,g,p,q){return this.$create_block(a,b,g,r(p),r(q))};t.prototype.createImageBlock=function(a,b,g){return this.$create_image_block(a,r(b),r(g))};t.prototype.createInline=function(a,b,g,p){p&&p.attributes&&(p.attributes=r(p.attributes));return this.$create_inline(a,b,g,r(p))};t.prototype.parseContent=function(a,b,g){return this.$parse_content(a,b,g)};t.prototype.positionalAttributes=function(a){return this.$positional_attrs(a)};t=P.BlockProcessor;t.prototype.onContext=
function(a){return this.$on_context(a)};t.prototype.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))};P.IncludeProcessor.prototype.handles=function(a){return Opal.send(this,"handles?",null,J(a))};P.DocinfoProcessor.prototype.atLocation=function(a){this.$at_location(a)};P.createPostprocessor=function(a,b){return u("Postprocessor",a,b)};P.newPostprocessor=function(a,b){return this.createPostprocessor(a,b).$new()};P.createPreprocessor=function(a,b){return u("Preprocessor",
a,b)};P.newPreprocessor=function(a,b){return this.createPreprocessor(a,b).$new()};P.createTreeProcessor=function(a,b){return u("TreeProcessor",a,b)};P.newTreeProcessor=function(a,b){return this.createTreeProcessor(a,b).$new()};P.createIncludeProcessor=function(a,b){return u("IncludeProcessor",a,b)};P.newIncludeProcessor=function(a,b){return this.createIncludeProcessor(a,b).$new()};P.createDocinfoProcessor=function(a,b){return u("DocinfoProcessor",a,b)};P.newDocinfoProcessor=function(a,b){return this.createDocinfoProcessor(a,
b).$new()};P.createBlockProcessor=function(a,b){return u("BlockProcessor",a,b)};P.newBlockProcessor=function(a,b){return this.createBlockProcessor(a,b).$new()};P.createInlineMacroProcessor=function(a,b){return u("InlineMacroProcessor",a,b)};P.newInlineMacroProcessor=function(a,b){return this.createInlineMacroProcessor(a,b).$new()};P.createBlockMacroProcessor=function(a,b){return u("BlockMacroProcessor",a,b)};P.newBlockMacroProcessor=function(a,b){return this.createBlockMacroProcessor(a,b).$new()};
t=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=t;t.prototype.convert=function(a,b,g){return this.$convert(a,b,r(g))};t.BuiltIn.prototype.convert=t.prototype.convert;t=Opal.Asciidoctor.Converter.Factory;Opal.Asciidoctor.ConverterFactory=t;t.getDefault=function(a){return this.$default(a)};t.prototype.create=function(a,b){return this.$create(a,r(b))};v.prototype.getVersion=function(){return"1.5.7"};return Opal.Asciidoctor});
