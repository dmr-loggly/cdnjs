!function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return o(r||e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";e("babel-polyfill");var n,o=e("./index.js"),i=(n=o)&&n.__esModule?n:{default:n};i.default.plugin(e("pouchdb-adapter-idb")),i.default.plugin(e("pouchdb-adapter-http")),window.RxDB=i.default},{"./index.js":8,"babel-polyfill":40,"pouchdb-adapter-http":505,"pouchdb-adapter-idb":506}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("babel-runtime/helpers/classCallCheck")),o=i(e("babel-runtime/helpers/createClass"));function i(e){return e&&e.__esModule?e:{default:e}}r.create=s;var a=function(){function e(t){var r=this;(0,n.default)(this,e),this.collection=t,this.subs=[],this.limit=100,this.buffer=[],this.counter=0,this.eventCounterMap=new WeakMap,this.subs.push(this.collection.$.subscribe(function(e){return r._handleChangeEvent(e)}))}return(0,o.default)(e,[{key:"_handleChangeEvent",value:function(e){for(this.counter++,this.buffer.push(e),this.eventCounterMap.set(e,this.counter);this.buffer.length>this.limit;)this.buffer.shift()}},{key:"getArrayIndexByPointer",value:function(e){var t=this.buffer[0],r=this.eventCounterMap.get(t);return e<r?null:e-r}},{key:"getFrom",value:function(e){var t=[],r=this.getArrayIndexByPointer(e);if(null===r)return null;for(;;){var n=this.buffer[r];if(r++,!n)return t;t.push(n)}}},{key:"runFrom",value:function(e,t){this.getFrom(e).forEach(function(e){return t(e)})}},{key:"reduceByLastOfDoc",value:function(e){var t={};return e.forEach(function(e){t[e.data.doc]=e}),Object.values(t)}},{key:"destroy",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}}]),e}();function s(e){return new a(e)}r.default={create:s}},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isRxSchema=r.isRxQuery=r.isRxDocument=r.isRxCollection=r.dbCount=r.isRxDatabase=r.plugin=r.checkAdapter=r.removeDatabase=r.create=void 0;var n=f(e("./rx-database")),o=f(e("./rx-schema")),i=f(e("./rx-document")),a=f(e("./rx-query")),s=f(e("./rx-collection")),u=f(e("./query-change-detector")),c=f(e("./plugin")),l=f(e("./pouch-db"));function f(e){return e&&e.__esModule?e:{default:e}}var d=r.create=n.default.create,h=r.removeDatabase=n.default.removeDatabase,p=r.checkAdapter=n.default.checkAdapter,b=r.plugin=c.default.addPlugin,v=r.isRxDatabase=n.default.isInstanceOf,y=r.dbCount=n.default.dbCount,_=r.isRxCollection=s.default.isInstanceOf,m=r.isRxDocument=i.default.isInstanceOf,g=r.isRxQuery=a.default.isInstanceOf,w=r.isRxSchema=o.default.isInstanceOf;r.default={create:d,removeDatabase:h,checkAdapter:p,plugin:b,dbCount:y,isRxDatabase:v,isRxCollection:_,isRxDocument:m,isRxQuery:g,isRxSchema:w,RxSchema:o.default,PouchDB:l.default,QueryChangeDetector:u.default,RxDatabase:n.default}},{"./plugin":12,"./pouch-db":26,"./query-change-detector":28,"./rx-collection":31,"./rx-database":32,"./rx-document":33,"./rx-query":35,"./rx-schema":36}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Crypter=void 0;var n=u(e("babel-runtime/helpers/classCallCheck")),o=u(e("babel-runtime/helpers/createClass"));r.create=l;var i=u(e("object-path")),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),s=u(e("./rx-error"));function u(e){return e&&e.__esModule?e:{default:e}}var c=r.Crypter=function(){function e(t,r){(0,n.default)(this,e),this._password=t,this._schema=r}return(0,o.default)(e,[{key:"_encryptValue",value:function(){throw s.default.pluginMissing("encryption")}},{key:"_decryptValue",value:function(){throw s.default.pluginMissing("encryption")}},{key:"encrypt",value:function(e){var t=this;return e=a.clone(e),this._password?(Object.keys(this._schema.encryptedPaths).map(function(r){var n=i.default.get(e,r),o=t._encryptValue(n);i.default.set(e,r,o)}),e):e}},{key:"decrypt",value:function(e){var t=this;return e=a.clone(e),this._password?(Object.keys(this._schema.encryptedPaths).map(function(r){var n=i.default.get(e,r),o=t._decryptValue(n);i.default.set(e,r,o)}),e):e}}]),e}();function l(e,t){return new c(e,t)}r.default={create:l,Crypter:c}},{"./rx-error":34,"./util":38,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"object-path":503}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=b(e("babel-runtime/regenerator")),o=b(e("babel-runtime/helpers/asyncToGenerator")),i=b(e("babel-runtime/helpers/classCallCheck")),a=b(e("babel-runtime/helpers/createClass"));r.create=_;var s=b(e("./pouch-db")),u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),c=b(e("./rx-schema")),l=b(e("./crypter")),f=b(e("./rx-error")),d=b(e("./overwritable")),h=b(e("./hooks")),p=e("rxjs/Observable");function b(e){return e&&e.__esModule?e:{default:e}}var v=function(){function e(t,r){(0,i.default)(this,e),this.newestCollection=t,this.migrationStrategies=r,this.currentSchema=t.schema,this.database=t.database,this.name=t.name}return(0,a.default)(e,[{key:"_getOldCollections",value:function(){var e=this;return Promise.all(this.currentSchema.previousVersions.map(function(t){return e.database._collectionsPouch.get(e.name+"-"+t)}).map(function(e){return e.catch(function(){return null})})).then(function(t){return t.filter(function(e){return null!==e}).map(function(t){return new y(t.schema.version,t.schema,e)})})}},{key:"migrate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrated)throw f.default.newRxError("DM1");this._migrated=!0;var r,i={done:!1,total:null,handled:0,success:0,deleted:0,percent:0};return new p.Observable((r=(0,o.default)(n.default.mark(function r(o){var a,s,c,l,f;return n.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e._getOldCollections();case 2:return a=r.sent,r.next=5,Promise.all(a.map(function(e){return e.countAllUndeleted()}));case 5:s=r.sent,c=s.reduce(function(e,t){return e+t},0),i.total=c,o.next(u.clone(i)),l=null,f=n.default.mark(function r(){var a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.migrate(t),e.next=3,new Promise(function(e){var t=a.subscribe(function(e){i.handled++,i[e.type]=i[e.type]+1,i.percent=Math.round(i.handled/i.total*100),o.next(u.clone(i))},function(e){t.unsubscribe(),o.error(e)},function(){t.unsubscribe(),e()})});case 3:case"end":return e.stop()}},r,e)});case 11:if(!(l=a.shift())){r.next=15;break}return r.delegateYield(f(),"t0",13);case 13:r.next=11;break;case 15:i.done=!0,i.percent=100,o.next(u.clone(i)),o.complete();case 19:case"end":return r.stop()}},r,e)})),function(e){return r.apply(this,arguments)}))}},{key:"migratePromise",value:function(e){var t=this;return this._migratePromise||(this._migratePromise=new Promise(function(r,n){t.migrate(e).subscribe(null,n,r)})),this._migratePromise}}]),e}(),y=function(){function e(t,r,n){(0,i.default)(this,e),this.version=t,this.dataMigrator=n,this.schemaObj=r,this.newestCollection=n.newestCollection,this.database=n.newestCollection.database}return(0,a.default)(e,[{key:"countAllUndeleted",value:function(){var e=(0,o.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.default.countAllUndeleted(this.pouchdb));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getBatch",value:function(e){var t=this;return s.default.getBatch(this.pouchdb,e).then(function(e){return e.map(function(e){return t._handleFromPouch(e)})})}},{key:"_handleFromPouch",value:function(e){var t=u.clone(e);return t=this.schema.swapIdToPrimary(e),this.schema.doKeyCompression()&&(t=this.keyCompressor.decompress(t)),t=this.crypter.decrypt(t)}},{key:"_handleToPouch",value:function(e){var t=u.clone(e);return t=this.crypter.encrypt(t),t=this.schema.swapPrimaryToId(t),this.schema.doKeyCompression()&&(t=this.keyCompressor.compress(t)),t}},{key:"migrateDocumentData",value:function(){var e=(0,o.default)(n.default.mark(function e(t){var r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=u.clone(t),r=this.version+1;case 2:if(!(r<=this.newestCollection.schema.version)){e.next=11;break}return e.next=5,this.dataMigrator.migrationStrategies[r+""](t);case 5:if(t=e.sent,r++,null!==t){e.next=9;break}return e.abrupt("return",null);case 9:e.next=2;break;case 11:e.prev=11,this.newestCollection.schema.validate(t),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(11),f.default.newRxError("DM2",{fromVersion:this.version,toVersion:this.newestCollection.schema.version,finalDoc:t});case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}},e,this,[[11,15]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_migrateDocument",value:function(){var e=(0,o.default)(n.default.mark(function e(t){var r,o,i;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.migrateDocumentData(t);case 2:if(r=e.sent,o={doc:t,migrated:r,oldCollection:this,newestCollection:this.newestCollection},!r){e.next=16;break}return h.default.runPluginHooks("preMigrateDocument",o),delete r._rev,e.next=9,this.newestCollection._pouchPut(r,!0);case 9:return i=e.sent,o.res=i,o.type="success",e.next=14,h.default.runAsyncPluginHooks("postMigrateDocument",o);case 14:e.next=17;break;case 16:o.type="deleted";case 17:return e.prev=17,e.next=20,this.pouchdb.remove(this._handleToPouch(t));case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(17);case 24:return e.abrupt("return",o);case 25:case"end":return e.stop()}},e,this,[[17,22]])}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=this;return this.pouchdb.destroy().then(function(){return e.database.removeCollectionDoc(e.dataMigrator.name,e.schema)})}},{key:"migrate",value:function(){var e,t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrate)throw f.default.newRxError("DM3");return this._migrate=!0,new p.Observable((e=(0,o.default)(n.default.mark(function e(o){var i,a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getBatch(r);case 2:i=e.sent,a=void 0;case 4:return e.next=6,Promise.all(i.map(function(e){return t._migrateDocument(e).then(function(e){return o.next(e)})})).catch(function(e){return a=e});case 6:if(!a){e.next=9;break}return o.error(a),e.abrupt("return");case 9:return e.next=11,t.getBatch(r);case 11:i=e.sent;case 12:if(!a&&i.length>0){e.next=4;break}case 13:return e.next=15,t.delete();case 15:o.complete();case 16:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))}},{key:"migratePromise",value:function(e){var t=this;return this._migratePromise||(this._migratePromise=new Promise(function(r,n){t.migrate(e).subscribe(null,n,r)})),this._migratePromise}},{key:"schema",get:function(){return this._schema||(this._schema=c.default.create(this.schemaObj,!1)),this._schema}},{key:"keyCompressor",get:function(){return this._keyCompressor||(this._keyCompressor=d.default.createKeyCompressor(this.schema)),this._keyCompressor}},{key:"crypter",get:function(){return this._crypter||(this._crypter=l.default.create(this.database.password,this.schema)),this._crypter}},{key:"pouchdb",get:function(){return this._pouchdb||(this._pouchdb=this.database._spawnPouchDB(this.newestCollection.name,this.version,this.newestCollection.pouchSettings)),this._pouchdb}}]),e}();function _(e,t){return new v(e,t)}r.default={create:_}},{"./crypter":4,"./hooks":7,"./overwritable":11,"./pouch-db":26,"./rx-error":34,"./rx-schema":36,"./util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/regenerator":57,"rxjs/Observable":543}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("babel-runtime/helpers/classCallCheck")),o=i(e("babel-runtime/helpers/createClass"));function i(e){return e&&e.__esModule?e:{default:e}}r.create=s;var a=function(){function e(){(0,n.default)(this,e),this._map=new Map}return(0,o.default)(e,[{key:"get",value:function(e){return this._map.get(e)}},{key:"set",value:function(e,t){return this._map.set(e,t)}},{key:"delete",value:function(e){this._map.delete(e)}}]),e}();function s(){return new a}r.default={create:s}},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.runAsyncPluginHooks=r.HOOKS=void 0;var n,o=s(e("babel-runtime/regenerator")),i=s(e("babel-runtime/helpers/asyncToGenerator")),a=r.runAsyncPluginHooks=(n=(0,i.default)(o.default.mark(function e(t,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(u[t].map(function(e){return e(r)})));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)});function s(e){return e&&e.__esModule?e:{default:e}}r.runPluginHooks=c;var u=r.HOOKS={createRxDatabase:[],createRxCollection:[],preCreateRxSchema:[],createRxSchema:[],createRxQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreatePouchDb:[],preMigrateDocument:[],postMigrateDocument:[]};function c(e,t){u[e].forEach(function(e){return e(t)})}r.default={runPluginHooks:c,runAsyncPluginHooks:a,HOOKS:u}},{"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/regenerator":57}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.checkAdapter=r.RxDatabase=r.QueryChangeDetector=r.PouchDB=r.RxSchema=r.isRxSchema=r.isRxQuery=r.isRxDocument=r.isRxCollection=r.isRxDatabase=r.dbCount=r.plugin=r.removeDatabase=r.create=void 0;var n=y(e("./core")),o=y(e("./plugins/schema-check")),i=y(e("./plugins/error-messages")),a=y(e("./plugins/validate")),s=y(e("./plugins/key-compression")),u=y(e("./plugins/leader-election")),c=y(e("./plugins/encryption")),l=y(e("./plugins/update")),f=y(e("./plugins/replication")),d=y(e("./plugins/adapter-check")),h=y(e("./plugins/json-dump")),p=y(e("./plugins/in-memory")),b=y(e("./plugins/attachments")),v=y(e("./plugins/local-documents"));function y(e){return e&&e.__esModule?e:{default:e}}n.default.plugin(o.default),n.default.plugin(i.default),n.default.plugin(a.default),n.default.plugin(s.default),n.default.plugin(u.default),n.default.plugin(c.default),n.default.plugin(l.default),n.default.plugin(f.default),n.default.plugin(d.default),n.default.plugin(h.default),n.default.plugin(p.default),n.default.plugin(b.default),n.default.plugin(v.default);var _=r.create=n.default.create,m=r.removeDatabase=n.default.removeDatabase,g=r.plugin=n.default.plugin,w=r.dbCount=n.default.dbCount,x=r.isRxDatabase=n.default.isRxDatabase,k=r.isRxCollection=n.default.isRxCollection,j=r.isRxDocument=n.default.isRxDocument,O=r.isRxQuery=n.default.isRxQuery,S=r.isRxSchema=n.default.isRxSchema,E=r.RxSchema=n.default.RxSchema,C=r.PouchDB=n.default.PouchDB,A=r.QueryChangeDetector=n.default.QueryChangeDetector,P=r.RxDatabase=n.default.RxDatabase,R=r.checkAdapter=n.default.checkAdapter;r.default={create:_,checkAdapter:R,removeDatabase:m,plugin:g,dbCount:w,isRxDatabase:x,isRxCollection:k,isRxDocument:j,isRxQuery:O,isRxSchema:S,RxSchema:E,PouchDB:C,QueryChangeDetector:A,RxDatabase:P}},{"./core":3,"./plugins/adapter-check":13,"./plugins/attachments":14,"./plugins/encryption":15,"./plugins/error-messages":16,"./plugins/in-memory":17,"./plugins/json-dump":18,"./plugins/key-compression":19,"./plugins/leader-election":20,"./plugins/local-documents":21,"./plugins/replication":22,"./plugins/schema-check":23,"./plugins/update":24,"./plugins/validate":25}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=l(e("babel-runtime/helpers/typeof")),o=l(e("babel-runtime/helpers/classCallCheck")),i=l(e("babel-runtime/helpers/createClass")),a=c(e("./mquery_utils")),s=l(e("../rx-error")),u=c(e("../util"));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,o.default)(this,e);var r=this.constructor.prototype;this.options={},this._conditions=r._conditions?u.clone(r._conditions):{},this._fields=r._fields?u.clone(r._fields):void 0,this._path=r._path||void 0,t&&this.find(t)}return(0,i.default)(e,[{key:"clone",value:function(){var t=new e;return Object.entries(this).forEach(function(e){t[e[0]]=u.clone(e[1])}),t}},{key:"where",value:function(){if(!arguments.length)return this;var e=(0,n.default)(arguments[0]);if("string"===e)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===e&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw s.default.newRxTypeError("MQ1",{path:arguments[0]})}},{key:"equals",value:function(e){this._ensurePath("equals");var t=this._path;return this._conditions[t]=e,this}},{key:"eq",value:function(e){this._ensurePath("eq");var t=this._path;return this._conditions[t]=e,this}},{key:"or",value:function(e){var t=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this}},{key:"nor",value:function(e){var t=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this}},{key:"and",value:function(e){var t=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this}},{key:"mod",value:function(){var e=void 0,t=void 0;return 1===arguments.length?(this._ensurePath("mod"),e=arguments[0],t=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(e=arguments.slice(1),t=arguments[0]):(e=arguments[1],t=arguments[0]):(this._ensurePath("mod"),e=arguments.slice(),t=this._path),(this._conditions[t]||(this._conditions[t]={})).$mod=e,this}},{key:"exists",value:function(){var e=void 0,t=void 0;return 0===arguments.length?(this._ensurePath("exists"),e=this._path,t=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),e=this._path,t=arguments[0]):(e=arguments[0],t=!0):2===arguments.length&&(e=arguments[0],t=arguments[1]),(this._conditions[e]||(this._conditions[e]={})).$exists=t,this}},{key:"elemMatch",value:function(){if(null===arguments[0])throw s.default.newRxTypeError("MQ2");var t=void 0,r=void 0,n=void 0;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),r=this._path,t=arguments[0];else if(a.isObject(arguments[0]))this._ensurePath("elemMatch"),r=this._path,n=arguments[0];else if("function"==typeof arguments[1])r=arguments[0],t=arguments[1];else{if(!arguments[1]||!a.isObject(arguments[1]))throw s.default.newRxTypeError("MQ2");r=arguments[0],n=arguments[1]}return t&&(t(n=new e),n=n._conditions),(this._conditions[r]||(this._conditions[r]={})).$elemMatch=n,this}},{key:"sort",value:function(e){var t=this;if(!e)return this;var r=void 0,o=void 0===e?"undefined":(0,n.default)(e);if(Array.isArray(e)){r=e.length;for(var i=0;i<e.length;++i)h(this.options,e[i][0],e[i][1]);return this}if(1===arguments.length&&"string"===o){r=(e=e.split(/\s+/)).length;for(var u=0;u<r;++u){var c=e[u];if(c){var l="-"===c[0]?-1:1;-1===l&&(c=c.substring(1)),d(this.options,c,l)}}return this}if(a.isObject(e))return Object.keys(e).forEach(function(r){return d(t.options,r,e[r])}),this;throw s.default.newRxTypeError("MQ3",{args:arguments})}},{key:"merge",value:function(t){if(!t)return this;if(!e.canMerge(t))throw s.default.newRxTypeError("MQ4",{source:t});return t instanceof e?(t._conditions&&a.merge(this._conditions,t._conditions),t._fields&&(this._fields||(this._fields={}),a.merge(this._fields,t._fields)),t.options&&(this.options||(this.options={}),a.merge(this.options,t.options)),t._update&&(this._update||(this._update={}),a.mergeClone(this._update,t._update)),t._distinct&&(this._distinct=t._distinct),this):(a.merge(this._conditions,t),this)}},{key:"find",value:function(t){return e.canMerge(t)&&this.merge(t),this}},{key:"_optionsForExec",value:function(){return u.clone(this.options)}},{key:"_ensurePath",value:function(e){if(!this._path)throw s.default.newRxError("MQ5",{method:e})}}]),e}();function d(e,t,r){if(Array.isArray(e.sort))throw s.default.newRxTypeError("MQ6",{opts:e,field:t,value:r});if(r&&r.$meta){(e.sort||(e.sort={}))[t]={$meta:r.$meta}}else{var n=String(r||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(n))throw Array.isArray(r)&&(r="["+r+"]"),s.default.newRxTypeError("MQ7",{field:t,value:r});var o=e.sort||(e.sort={}),i=r.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");o[t]=parseInt(i,10)}}function h(e,t,r){if(e.sort=e.sort||[],!Array.isArray(e.sort))throw s.default.newRxTypeError("MQ8",{opts:e,field:t,value:r});e.sort.push([t,r])}["gt","gte","lt","lte","ne","in","nin","all","regex","size"].forEach(function(e){f.prototype[e]=function(){var t=void 0,r=void 0;return 1===arguments.length?(this._ensurePath(e),r=arguments[0],t=this._path):(r=arguments[1],t=arguments[0]),(null===this._conditions[t]||"object"===(0,n.default)(this._conditions[t])?this._conditions[t]:this._conditions[t]={})["$"+e]=r,this}}),f.canMerge=function(e){return e instanceof f||a.isObject(e)},["limit","skip","maxScan","batchSize","comment"].forEach(function(e){f.prototype[e]=function(t){return this.options[e]=t,this}}),f.utils=a,r.default=f},{"../rx-error":34,"../util":38,"./mquery_utils":10,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/typeof":56}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.merge=function e(t,r){var n=Object.keys(r);var i=n.length;var a=void 0;for(;i--;)a=n[i],void 0===t[a]?t[a]=r[a]:o(r[a])?e(t[a],r[a]):t[a]=r[a]},r.mergeClone=function e(t,r){var i=Object.keys(r);var a=i.length;var s=void 0;for(;a--;)s=i[a],void 0===t[s]?t[s]=n.clone(r[s],{retainKeyOrder:1}):o(r[s])?e(t[s],r[s]):t[s]=n.clone(r[s],{retainKeyOrder:1})},r.isObject=o;var n=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util"));function o(e){return"[object Object]"===e.toString()}},{"../util":38}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o=e("./rx-error"),i=(n=o)&&n.__esModule?n:{default:n};var a={validatePassword:function(){throw i.default.pluginMissing("encryption")},createKeyCompressor:function(){throw i.default.pluginMissing("keycompression")},createLeaderElector:function(){throw i.default.pluginMissing("leaderelection")},checkAdapter:function(){throw i.default.pluginMissing("adapter-check")},tunnelErrorMessage:function(e){return"RxDB Error-Code "+e+".\n        - To find out what this means, use the error-messages-plugin https://pubkey.github.io/rxdb/custom-build.html#error-messages\n        - Or search for this code https://github.com/pubkey/rxdb/search?l=JavaScript&q="+e+"%3A\n        "}};r.default=a},{"./rx-error":34}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=h(e("babel-runtime/helpers/typeof"));r.addPlugin=v;var o=h(e("./rx-schema")),i=h(e("./crypter")),a=h(e("./rx-document")),s=h(e("./rx-query")),u=h(e("./rx-collection")),c=h(e("./rx-database")),l=h(e("./pouch-db")),f=h(e("./overwritable")),d=e("./hooks");function h(e){return e&&e.__esModule?e:{default:e}}var p={RxSchema:o.default.RxSchema.prototype,Crypter:i.default.Crypter.prototype,RxDocument:a.default.RxDocument.prototype,RxQuery:s.default.RxQuery.prototype,RxCollection:u.default.RxCollection.prototype,RxDatabase:c.default.RxDatabase.prototype},b=new Set;function v(e){b.has(e)||(b.add(e),e.rxdb||("object"===(void 0===e?"undefined":(0,n.default)(e))&&e.default&&(e=e.default),l.default.plugin(e)),e.prototypes&&Object.entries(e.prototypes).forEach(function(e){var t=e[0];(0,e[1])(p[t])}),e.overwritable&&Object.entries(e.overwritable).forEach(function(e){var t=e[0],r=e[1];f.default[t]=r}),e.hooks&&Object.entries(e.hooks).forEach(function(e){var t=e[0],r=e[1];d.HOOKS[t].push(r)}))}r.default={addPlugin:v,overwritable:f.default}},{"./crypter":4,"./hooks":7,"./overwritable":11,"./pouch-db":26,"./rx-collection":31,"./rx-database":32,"./rx-document":33,"./rx-query":35,"./rx-schema":36,"babel-runtime/helpers/typeof":56}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=r.checkAdapter=void 0;var n,o=c(e("babel-runtime/regenerator")),i=c(e("babel-runtime/helpers/asyncToGenerator")),a=r.checkAdapter=(n=(0,i.default)(o.default.mark(function e(t){var r,n,i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="rxdb-test-adapter-"+u.generateId(),n=null,i=void 0,e.prev=3,i=new s.default(r,u.adapterObject(t),{auto_compaction:!1,revs_limit:1}),e.next=7,i.info();case 7:return e.next=9,i.put({_id:r,value:!0});case 9:return e.next=11,i.get(r);case 11:n=e.sent,e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",!1);case 17:return e.prev=17,e.next=20,i.destroy();case 20:e.next=24;break;case 22:e.prev=22,e.t1=e.catch(17);case 24:if(!n||!n.value){e.next=28;break}return e.abrupt("return",!0);case 28:return e.abrupt("return",!1);case 29:case"end":return e.stop()}},e,this,[[3,14],[17,22]])})),function(e){return n.apply(this,arguments)}),s=c(e("../pouch-db")),u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util"));function c(e){return e&&e.__esModule?e:{default:e}}var l=r.rxdb=!0,f=r.prototypes={},d=r.overwritable={checkAdapter:a};r.default={rxdb:l,prototypes:f,overwritable:d}},{"../pouch-db":26,"../util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/regenerator":57}],14:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hooks=r.overwritable=r.prototypes=r.rxdb=r.postMigrateDocument=r.preMigrateDocument=r.putAttachment=r.RxAttachment=r.blobBufferUtil=void 0;var n,o,i,a,s=g(e("babel-runtime/helpers/classCallCheck")),u=g(e("babel-runtime/helpers/createClass")),c=g(e("babel-runtime/regenerator")),l=g(e("babel-runtime/helpers/asyncToGenerator")),f=(n=(0,l.default)(c.default.mark(function e(t){var r,n,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection.pouch.get(t.primary);case 2:r=e.sent,n=t.collection._handleFromPouch(r),o=y.default.create("UPDATE",t.collection.database,t.collection,t,n),t.$emit(o);case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),d=r.putAttachment=(o=(0,l.default)(c.default.mark(function e(t){var r,n,o,i=this,a=t.id,s=t.data,u=t.type,d=void 0===u?"text/plain":u;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(this),r=S(this),E(this)&&(s=this.collection._crypter._encryptValue(s)),n=k.createBlobBuffer(s,d),e.next=6,r.requestIdlePromise();case 6:return e.next=8,r.wrapCall((0,l.default)(c.default.mark(function e(){var t,r,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.collection.pouch.putAttachment(i.primary,a,i._data._rev,n,d);case 2:return e.next=4,i.collection.pouch.get(i.primary);case 4:return t=e.sent,r=t._attachments[a],o=O.fromPouchDocument(a,r,i),i._data._rev=t._rev,i._data._attachments=t._attachments,e.next=11,f(i);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}},e,i)})));case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)}),h=r.preMigrateDocument=(i=(0,l.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete t.migrated._attachments,e.abrupt("return",t);case 2:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)}),p=r.postMigrateDocument=(a=(0,l.default)(c.default.mark(function e(t){var r,n,o,i,a,s,u;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.oldCollection.schema.primaryPath,n=t.doc._attachments){e.next=4;break}return e.abrupt("return",t);case 4:e.t0=c.default.keys(n);case 5:if((e.t1=e.t0()).done){e.next=21;break}return o=e.t1.value,i=n[o],a=t.doc[r],e.next=11,t.oldCollection.pouchdb.getAttachment(a,o);case 11:return s=e.sent,e.next=14,k.toString(s);case 14:return s=e.sent,e.next=17,t.newestCollection.pouch.putAttachment(a,o,t.res.rev,k.createBlobBuffer(s,i.content_type),i.content_type);case 17:u=e.sent,t.res=u,e.next=5;break;case 21:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)});r.getAtomicQueueOfDocument=S,r.getAttachment=C,r.allAttachments=A;var b=g(e("custom-idle-queue")),v=e("rxjs/operators/map"),y=g(e("./../rx-change-event")),_=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./../util")),m=g(e("../rx-error"));function g(e){return e&&e.__esModule?e:{default:e}}var w=new WeakMap;function x(e){if(!e.collection.schema.jsonID.attachments)throw m.default.newRxError("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}var k=r.blobBufferUtil={createBlobBuffer:function(e,r){var n=void 0;try{n=new Blob([e],{type:r})}catch(o){n=new t(e,{type:r})}return n},toString:function(e){return e instanceof t?_.nextTick().then(function(){return e.toString()}):new Promise(function(t){var r=new FileReader;r.addEventListener("loadend",function(e){var r=e.target.result;t(r)}),r.readAsText(e)})}},j=function(e){Object.entries(e.doc.collection._attachments).forEach(function(t){var r=t[0],n=t[1];e.__defineGetter__(r,function(){return n.bind(e)})})},O=r.RxAttachment=function(){function e(t){var r=t.doc,n=t.id,o=t.type,i=t.length,a=t.digest,u=t.rev;(0,s.default)(this,e),this.doc=r,this.id=n,this.type=o,this.length=i,this.digest=a,this.rev=u,j(this)}return(0,u.default)(e,[{key:"remove",value:function(){var e=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.doc.collection.pouch.removeAttachment(this.doc.primary,this.id,this.doc._data._rev);case 2:return e.next=4,f(this.doc);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=(0,l.default)(c.default.mark(function e(){var t,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.doc.collection.pouch.getAttachment(this.doc.primary,this.id);case 2:if(t=e.sent,!E(this.doc)){e.next=8;break}return e.next=6,k.toString(t);case 6:r=e.sent,t=k.createBlobBuffer(this.doc.collection._crypter._decryptValue(r),this.type);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getStringData",value:function(){var e=(0,l.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return t=e.sent,e.next=5,k.toString(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function S(e){return w.has(e)||w.set(e,new b.default),w.get(e)}function E(e){return!!e.collection.schema.jsonID.attachments.encrypted}function C(e){x(this);var t=this._dataSync$.getValue();if(!t._attachments||!t._attachments[e])return null;var r=t._attachments[e];return O.fromPouchDocument(e,r,this)}function A(){var e=this;x(this);var t=this._dataSync$.getValue();return Object.keys(t._attachments).map(function(r){return O.fromPouchDocument(r,t._attachments[r],e)})}O.fromPouchDocument=function(e,t,r){return new O({doc:r,id:e,type:t.content_type,length:t.length,digest:t.digest,rev:t.revpos})};var P=r.rxdb=!0,R=r.prototypes={RxDocument:function(e){e.putAttachment=d,e.getAttachment=C,e.allAttachments=A,Object.defineProperty(e,"allAttachments$",{get:function(){var e=this;return this._dataSync$.pipe((0,v.map)(function(e){return e._attachments?e._attachments:{}}),(0,v.map)(function(e){return Object.entries(e)}),(0,v.map)(function(t){return t.map(function(t){var r=t[0],n=t[1];return O.fromPouchDocument(r,n,e)})}))}})}},D=r.overwritable={},M=r.hooks={preMigrateDocument:h,postMigrateDocument:p};r.default={rxdb:P,prototypes:R,overwritable:D,hooks:M,blobBufferUtil:k}}).call(this,e("buffer").Buffer)},{"../rx-error":34,"./../rx-change-event":30,"./../util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/regenerator":57,buffer:59,"custom-idle-queue":487,"rxjs/operators/map":561}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=void 0,r.encrypt=c,r.decrypt=l;var n,o=u(e("crypto-js/aes")),i=u(e("crypto-js/enc-utf8")),a=e("../rx-error"),s=(n=a)&&n.__esModule?n:{default:n};function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function c(e,t){return o.encrypt(e,t).toString()}function l(e,t){return o.decrypt(e,t).toString(i)}var f=function(e){return c(JSON.stringify(e),this._password)},d=function(e){var t=l(e,this._password);return JSON.parse(t)},h=r.rxdb=!0,p=r.prototypes={Crypter:function(e){e._encryptValue=f,e._decryptValue=d}},b=r.overwritable={validatePassword:function(e){if(e&&"string"!=typeof e)throw s.default.newRxTypeError("EN1",{password:e});if(e&&e.length<8)throw s.default.newRxError("EN2",{minPassLength:8,password:e})}};r.default={rxdb:h,prototypes:p,overwritable:b}},{"../rx-error":34,"crypto-js/aes":478,"crypto-js/enc-utf8":482}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",P1:"PouchDB.getBatch: limit must be > 2",QU1:"RxQuery._execOverDatabase(): op not known",QU2:"limit() must get a number",QU3:"skip() must get a number",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.collection(): collection-names cannot start with underscore _",DB3:"RxDatabase.collection(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.collection(): schema is missing",DB5:"RxDatabase.collection(): collection-name not allowed",DB6:"RxDatabase.collection(): another instance created this collection with a different schema",DB7:"RxDatabase.collection(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]');",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() do not provide ._id, it will be generated",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC12:"RxDocument.save(): error",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importDump(): the imported json relies on a different schema",JD3:"RxCollection.importDump(): json.passwordHash does not match the own",LE1:"LeaderElection: this should not happen :( please contact the maintainer",LE2:"LeaderElection: someone else is applying/leader",LE3:"LeaderElection: someone else overwrote apply",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.sync() query must be from the same RxCollection",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string or array<string>",SC5:"SchemaCheck: fieldname cannot be primary and ref at same time",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC9:"SchemaCheck: schema defines ._id, this will be done automatically",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema need an number>=0 as version",SC12:"SchemaCheck: primary can only be defined once",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: compoundIndexes must be an array",SC19:"SchemaCheck: compoundIndexes must contain arrays",SC20:"SchemaCheck: compoundIndexes.array must contains strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use RxDB.plugin(require('pouchdb-adapter-memory'));"},o=r.rxdb=!0,i=r.prototypes={},a=r.overwritable={tunnelErrorMessage:function(e){if(!n[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Cdoe "+e+" not known, contact the maintainer");return n[e]}};r.default={rxdb:o,prototypes:i,overwritable:a}},{}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=r.spawnInMemory=r.InMemoryRxCollection=void 0;var n,o=g(e("babel-runtime/helpers/typeof")),i=g(e("babel-runtime/regenerator")),a=g(e("babel-runtime/helpers/asyncToGenerator")),s=g(e("babel-runtime/helpers/classCallCheck")),u=g(e("babel-runtime/helpers/createClass")),c=g(e("babel-runtime/helpers/possibleConstructorReturn")),l=g(e("babel-runtime/helpers/inherits")),f=r.spawnInMemory=(n=(0,a.default)(i.default.mark(function e(){var t,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=4;break}if(O=!0,_.default.adapters&&_.default.adapters.memory){e.next=4;break}throw m.default.newRxError("IM1");case 4:if(!w.has(this)){e.next=8;break}return e.next=7,x.get(this);case 7:return e.abrupt("return",w.get(this));case 8:return t=new j(this),r=t.prepare(),w.set(this,t),x.set(this,r),e.next=14,r;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)}),d=e("rxjs/Subject"),h=g(e("../rx-collection")),p=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util")),b=g(e("../crypter")),v=g(e("../change-event-buffer")),y=g(e("../rx-schema")),_=g(e("../pouch-db")),m=g(e("../rx-error"));function g(e){return e&&e.__esModule?e:{default:e}}var w=new WeakMap,x=new WeakMap,k={new_edits:!1},j=r.InMemoryRxCollection=function(e){function t(e,r){(0,s.default)(this,t);var n=(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.database,e.name,function(e){var t=p.clone(e.jsonID);t.disableKeyCompression=!0,delete t.properties._id,delete t.properties._rev,delete t.properties._attachments;return function e(t,r){delete t.encrypted,Object.values(t).filter(function(e){return"object"===(void 0===e?"undefined":(0,o.default)(e))}).forEach(function(t){return e(t,r)})}(t,t),y.default.create(t)}(e.schema),r,{},e._methods));return n._isInMemory=!0,n._parentCollection=e,n._parentCollection.onDestroy.then(function(){return n.destroy()}),n._changeStreams=[],n.onDestroy.then(function(){n._changeStreams.forEach(function(e){return e.cancel()}),n.pouch.destroy()}),n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"prepare",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._crypter=b.default.create(this.database.password,this.schema),this.pouch=new _.default("rxdb-in-memory-"+p.randomCouchString(10),p.adapterObject("memory"),{}),this._observable$=new d.Subject,this._changeEventBuffer=v.default.create(this),e.next=6,Promise.all(this.schema.indexes.map(function(e){return t.pouch.createIndex({index:{fields:e}})}));case 6:return this._subs.push(this._observable$.subscribe(function(e){var r=t._docCache.get(e.data.doc);r&&r._handleChangeEvent(e)})),e.next=9,this._initialSync();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_initialSync",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t,r,n,o=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._parentCollection.pouch.allDocs({attachments:!1,include_docs:!0});case 2:return t=e.sent,e.next=5,this.pouch.bulkDocs({docs:t.rows.map(function(e){return e.doc}).filter(function(e){return!e.language}).map(function(e){return o._parentCollection._handleFromPouch(e)}).map(function(e){return o._parentCollection.schema.swapPrimaryToId(e)})},k);case 5:this._parentCollection.watchForChanges(),this.watchForChanges(),r=this.pouch.changes({since:"now",include_docs:!0,live:!0}).on("change",function(){var e=(0,a.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=o._parentCollection._handleToPouch(t.doc),o._parentCollection.pouch.bulkDocs({docs:[r]},k);case 2:case"end":return e.stop()}},e,o)}));return function(t){return e.apply(this,arguments)}}()),this._changeStreams.push(r),n=this._parentCollection.pouch.changes({since:"now",include_docs:!0,live:!0}).on("change",function(){var e=(0,a.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=o._parentCollection._handleFromPouch(t.doc),r=o.schema.swapPrimaryToId(r),o.pouch.bulkDocs({docs:[r]},k);case 3:case"end":return e.stop()}},e,o)}));return function(t){return e.apply(this,arguments)}}()),this._changeStreams.push(n);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"$emit",value:function(e){this._observable$.next(e),this._eventCounter||(this._eventCounter=0),this._eventCounter++,10===this._eventCounter&&(this._eventCounter=0,this.pouch.compact())}}]),t}(h.default.RxCollection);var O=!1,S=r.rxdb=!0,E=r.prototypes={RxCollection:function(e){e.inMemory=f}},C=r.overwritable={};r.default={rxdb:S,prototypes:E,overwritable:C,spawnInMemory:f}},{"../change-event-buffer":2,"../crypter":4,"../pouch-db":26,"../rx-collection":31,"../rx-error":34,"../rx-schema":36,"../util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54,"babel-runtime/helpers/typeof":56,"babel-runtime/regenerator":57,"rxjs/Subject":547}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=void 0;var n=c(e("babel-runtime/regenerator")),o=c(e("babel-runtime/helpers/asyncToGenerator")),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util")),a=c(e("../rx-query")),s=c(e("../rx-error")),u=c(e("../rx-change-event"));function c(e){return e&&e.__esModule?e:{default:e}}var l,f,d,h,p=(l=(0,o.default)(n.default.mark(function e(){var t,r,o=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:this.name,instanceToken:this.token,encrypted:!1,passwordHash:null,collections:[]},this.password&&(t.passwordHash=i.hash(this.password),t.encrypted=!a),r=Object.keys(this.collections).filter(function(e){return!s||s.includes(e)}).filter(function(e){return"_"!==e.charAt(0)}).map(function(e){return o.collections[e]}),e.next=5,Promise.all(r.map(function(e){return e.dump(a)}));case 5:return t.collections=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)}),b=(f=(0,o.default)(n.default.mark(function e(t){var r,o=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t.collections.filter(function(e){return!o.collections[e.name]}).map(function(e){return e.name})).length>0)){e.next=3;break}throw s.default.newRxError("JD1",{missingCollections:r});case 3:return e.abrupt("return",Promise.all(t.collections.map(function(e){return o.collections[e.name].importDump(e)})));case 4:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)}),v=(d=(0,o.default)(n.default.mark(function e(){var t,r,o,s,u=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!u,r={name:this.name,schemaHash:this.schema.hash,encrypted:!1,passwordHash:null,docs:[]},this.database.password&&t&&(r.passwordHash=i.hash(this.database.password),r.encrypted=!0),o=a.default.create("find",{},this),e.next=6,this._pouchFind(o,null,t);case 6:return s=e.sent,r.docs=s.map(function(e){return delete e._rev,e}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)}),y=(h=(0,o.default)(n.default.mark(function e(t){var r,a=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.schemaHash===this.schema.hash){e.next=2;break}throw s.default.newRxError("JD2",{schemaHash:t.schemaHash,own:this.schema.hash});case 2:if(!t.encrypted||t.passwordHash===i.hash(this.database.password)){e.next=4;break}throw s.default.newRxError("JD3",{passwordHash:t.passwordHash,own:i.hash(this.database.password)});case 4:return r=t.docs.map(function(e){return a._crypter.decrypt(e)}).map(function(e){return a.schema.validate(e)}).map(function(){var e=(0,o.default)(n.default.mark(function e(t){var r,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._pouchPut(t);case 2:r=t[a.schema.primaryPath],(o=u.default.create("INSERT",a.database,a,null,t)).data.doc=r,a.$emit(o);case 6:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(r));case 6:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)}),_=r.rxdb=!0,m=r.prototypes={RxDatabase:function(e){e.dump=p,e.importDump=b},RxCollection:function(e){e.dump=v,e.importDump=y}},g=r.overwritable={};r.default={rxdb:_,prototypes:m,overwritable:g}},{"../rx-change-event":30,"../rx-error":34,"../rx-query":35,"../util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/regenerator":57}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=void 0;var n=s(e("babel-runtime/helpers/typeof")),o=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));r.create=c;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util"));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,o.default)(this,e),this.schema=t,this._table,this._reverseTable,this._fullTable}return(0,i.default)(e,[{key:"_compressObj",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o={};return"object"!==(void 0===e?"undefined":(0,n.default)(e))||null===e?e:Array.isArray(e)?e.map(function(e){return t._compressObj(e,a.trimDots(r+".item"))}):(Object.keys(e).forEach(function(n){var i,s=e[n],u=a.trimDots(r+"."+n),c=t.table[u]?t.table[u]:n;i=t._compressObj(s,u),o[c]=i}),o)}},{key:"compress",value:function(e){return this.schema.doKeyCompression()?this._compressObj(e):a.clone(e)}},{key:"_decompressObj",value:function(e){var t=this,r=this.reverseTable;if("object"!==(void 0===e?"undefined":(0,n.default)(e))||null===e)return e;if(Array.isArray(e))return e.map(function(e){return t._decompressObj(e)});var o={};return Object.keys(e).forEach(function(n){var i=n;(n.startsWith("|")||n.startsWith("_"))&&r[n]&&(i=r[n]),o[i]=t._decompressObj(e[n])}),o}},{key:"decompress",value:function(e){return this.schema.doKeyCompression()?this._decompressObj(e):a.clone(e)}},{key:"_transformKey",value:function(e,t,r){var n=this.table;e=a.trimDots(e),t=a.trimDots(t);var o=r.shift(),i=a.trimDots(e+"."+o);return n[i]?t+="."+n[i]:t+="."+o,r.length>0?this._transformKey(i,t,r):a.trimDots(t)}},{key:"compressQuery",value:function(e){var t=this;if(e=a.clone(e),!this.schema.doKeyCompression())return e;var r={};return Object.keys(e.selector).forEach(function(n){var o=e.selector[n];if(n.startsWith("$")){var i=o.map(function(e){var r={};return Object.keys(e).forEach(function(n){var o=t._transformKey("","",n.split("."));r[o]=e[n]}),r});r[n]=i}else{var a=t._transformKey("","",n.split("."));r[a]=o}}),e.selector=r,e.sort&&(e.sort=e.sort.map(function(e){var r=Object.keys(e)[0],n=e[r],o={};return o[t._transformKey("","",r.split("."))]=n,o})),e}},{key:"table",get:function(){var e=this;if(!this._table){var t=0;this._table={};!function r(o,i){Object.keys(i).map(function(s){var u=i[s],c="properties"===s?o:a.trimDots(o+"."+s);"object"===(void 0===u?"undefined":(0,n.default)(u))&&!Array.isArray(u)&&!e._table[c]&&""!==c&&s.length>3&&!c.startsWith("_")&&(e._table[c]="|"+(t++,a.numberToLetter(t-1))),!0===u.primary&&(e._table[c]="_id"),"object"!==(void 0===u?"undefined":(0,n.default)(u))||Array.isArray(u)||r(c,u)})}("",this.schema.normalized)}return this._table}},{key:"reverseTable",get:function(){var e=this;if(!this._reverseTable){var t=this.table;this._reverseTable={},Object.keys(t).forEach(function(r){var n=t[r],o=r.split(".").pop();e._reverseTable[n]=o})}return this._reverseTable}}]),e}();function c(e){return new u(e)}var l=r.rxdb=!0,f=r.prototypes={},d=r.overwritable={createKeyCompressor:c};r.default={rxdb:l,prototypes:f,overwritable:d}},{"../util":38,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/typeof":56}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=r.SIGNAL_TIME=r.documentID=void 0;var n=p(e("babel-runtime/regenerator")),o=p(e("babel-runtime/helpers/asyncToGenerator")),i=p(e("babel-runtime/helpers/classCallCheck")),a=p(e("babel-runtime/helpers/createClass"));r.create=_;var s=p(e("unload")),u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util")),c=p(e("../rx-broadcast-channel")),l=p(e("../rx-error")),f=e("rxjs/BehaviorSubject"),d=e("rxjs/operators/filter"),h=e("rxjs/operators/first");function p(e){return e&&e.__esModule?e:{default:e}}var b=r.documentID="_local/leader",v=r.SIGNAL_TIME=500,y=function(){function e(t){(0,i.default)(this,e),this.destroyed=!1,this.subs=[],this.unloads=[],this.database=t,this.token=this.database.token,this.isLeader=!1,this.becomeLeader$=new f.BehaviorSubject({isLeader:!1}),this.isDead=!1,this.isApplying=!1,this.isWaiting=!1,this.bc=c.default.create(this.database,"leader"),this.electionChannel=this.bc?"broadcast":"socket"}return(0,a.default)(e,[{key:"createLeaderObject",value:function(){return{_id:b,is:"",apply:"",t:0}}},{key:"getLeaderObject",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,this.database._adminPouch.get(b);case 4:t=e.sent,e.next=14;break;case 7:return e.prev=7,e.t0=e.catch(1),t=this.createLeaderObject(),e.next=12,this.database._adminPouch.put(t);case 12:r=e.sent,t._rev=r.rev;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"setLeaderObject",value:function(e){return this.database._adminPouch.put(e)}},{key:"getApplyFunction",value:function(e){if("socket"===e)return this.applySocket.bind(this);if("broadcast"===e)return this.applyBroadcast.bind(this);throw l.default.newRxError("LE1")}},{key:"applyOnce",value:function(){var e=(0,o.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLeader){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isDead){e.next=4;break}return e.abrupt("return",!1);case 4:if(!this.isApplying){e.next=6;break}return e.abrupt("return",!1);case 6:if(!this.destroyed){e.next=8;break}return e.abrupt("return",!1);case 8:return this.isApplying=!0,e.next=11,this.getApplyFunction(this.electionChannel)();case 11:if(!e.sent){e.next=15;break}return e.next=15,this.beLeader();case 15:return this.isApplying=!1,e.abrupt("return",!0);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"applySocket",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getLeaderObject();case 3:if(t=e.sent,r=(new Date).getTime()-2*v,!(t.t>=r)){e.next=7;break}throw l.default.newRxError("LE2");case 7:return t.apply=this.token,t.t=(new Date).getTime(),e.next=11,this.setLeaderObject(t);case 11:return e.next=13,u.promiseWait(.5*v);case 13:return e.next=15,this.getLeaderObject();case 15:if((t=e.sent).apply===this.token){e.next=18;break}throw l.default.newRxError("LE3");case 18:return e.abrupt("return",!0);case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",!1);case 24:case"end":return e.stop()}},e,this,[[0,21]])}));return function(){return e.apply(this,arguments)}}()},{key:"applyBroadcast",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t,r,i,a,s,c=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).getTime(),r=[],i=[],a=function(){var e=(0,o.default)(n.default.mark(function e(){var o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.push(c.bc.$.pipe((0,d.filter)(function(){return!!c.isApplying}),(0,d.filter)(function(e){return e.t>=t}),(0,d.filter)(function(e){return"apply"===e.type}),(0,d.filter)(function(e){return e.data<t||e.data===t&&e.it>c.token}),(0,d.filter)(function(){return i.length<1})).subscribe(function(e){return i.push("other is applying:"+e.it)})),r.push(c.bc.$.pipe((0,d.filter)(function(){return!!c.isApplying}),(0,d.filter)(function(e){return e.t>=t}),(0,d.filter)(function(e){return"tell"===e.type}),(0,d.filter)(function(){return i.length<1})).subscribe(function(e){return i.push("other is leader"+e.it)})),r.push(c.bc.$.pipe((0,d.filter)(function(){return!!c.isApplying}),(0,d.filter)(function(e){return"apply"===e.type}),(0,d.filter)(function(e){return e.data>t||e.data===t&&e.it>c.token})).subscribe(function(){return c.bc.write("apply",t)})),o=3;case 4:if(!(o>0)){e.next=14;break}return o--,e.next=8,c.bc.write("apply",t);case 8:return e.next=10,u.promiseWait(300);case 10:if(!(i.length>0)){e.next=12;break}return e.abrupt("return",!1);case 12:e.next=4;break;case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}},e,c)}));return function(){return e.apply(this,arguments)}}(),e.next=6,a();case 6:return s=e.sent,r.map(function(e){return e.unsubscribe()}),e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"leaderSignal",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(!this.leaderSignal_run){e.next=4;break}return e.abrupt("return");case 4:this.leaderSignal_run=!0,e.t0=this.electionChannel,e.next="broadcast"===e.t0?8:"socket"===e.t0?11:31;break;case 8:return e.next=10,this.bc.write("tell");case 10:return e.abrupt("break",31);case 11:t=!1;case 12:if(t){e.next=30;break}return e.prev=13,e.next=16,this.getLeaderObject();case 16:return(r=e.sent).is=this.token,r.apply=this.token,r.t=(new Date).getTime(),e.next=22,this.setLeaderObject(r);case 22:t=!0,e.next=28;break;case 25:e.prev=25,e.t1=e.catch(13),console.dir(e.t1);case 28:e.next=12;break;case 30:return e.abrupt("break",31);case 31:return this.leaderSignal_run=!1,e.abrupt("return");case 33:case"end":return e.stop()}},e,this,[[13,25]])}));return function(){return e.apply(this,arguments)}}()},{key:"beLeader",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDead){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isLeader){e.next=4;break}return e.abrupt("return",!1);case 4:return this.isLeader=!0,this.becomeLeader$.next({isLeader:!0}),e.next=8,this.leaderSignal();case 8:e.t0=this.electionChannel,e.next="broadcast"===e.t0?11:"socket"===e.t0?14:16;break;case 11:return this.signalLeadership=this.bc.$.pipe((0,d.filter)(function(){return!!t.isLeader}),(0,d.filter)(function(e){return"tell"!==e.type})).subscribe(function(){return t.leaderSignal()}),this.subs.push(this.signalLeadership),e.abrupt("break",16);case 14:return(0,o.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destroyed){e.next=9;break}return e.next=3,u.promiseWait(v);case 3:if(t.isLeader){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.leaderSignal();case 7:e.next=0;break;case 9:case"end":return e.stop()}},e,t)}))(),e.abrupt("break",16);case 16:return this.unloads.push(s.default.add(function(){t.bc&&t.bc.write("death"),t.die()})),e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"die",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLeader){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isDead){e.next=4;break}return e.abrupt("return",!1);case 4:this.isDead=!0,this.isLeader=!1,this.signalLeadership&&this.signalLeadership.unsubscribe(),e.t0=this.electionChannel,e.next="broadcast"===e.t0?10:"socket"===e.t0?13:30;break;case 10:return e.next=12,this.bc.write("death");case 12:return e.abrupt("break",30);case 13:t=!1;case 14:if(t){e.next=29;break}return e.prev=15,e.next=18,this.getLeaderObject();case 18:return(r=e.sent).t=0,e.next=22,this.setLeaderObject(r);case 22:t=!0,e.next=27;break;case 25:e.prev=25,e.t1=e.catch(15);case 27:e.next=14;break;case 29:return e.abrupt("break",30);case 30:return e.abrupt("return",!0);case 31:case"end":return e.stop()}},e,this,[[15,25]])}));return function(){return e.apply(this,arguments)}}()},{key:"waitForLeadership",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t,r=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLeader){e.next=2;break}return e.abrupt("return",Promise.resolve(!0));case 2:if(this.isWaiting){e.next=14;break}this.isWaiting=!0,this.applyOnce(),t=5*v,e.t0=this.electionChannel,e.next="broadcast"===e.t0?9:"socket"===e.t0?11:13;break;case 9:return this.subs.push(this.bc.$.pipe((0,d.filter)(function(e){return"death"===e.type})).subscribe(function(){return r.applyOnce()})),e.abrupt("break",13);case 11:return t=2*v,e.abrupt("break",13);case 13:(0,o.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.destroyed||r.isLeader){e.next=16;break}return e.next=3,u.promiseWait(t);case 3:e.t0=r.electionChannel,e.next="broadcast"===e.t0?6:"socket"===e.t0?9:12;break;case 6:return e.next=8,u.requestIdlePromise(t);case 8:return e.abrupt("break",12);case 9:return e.next=11,r.database.requestIdlePromise(t);case 11:return e.abrupt("break",12);case 12:return e.next=14,r.applyOnce();case 14:e.next=0;break;case 16:case"end":return e.stop()}},e,r)}))();case 14:return e.abrupt("return",this.becomeLeader$.asObservable().pipe((0,d.filter)(function(e){return!0===e.isLeader}),(0,h.first)()).toPromise());case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=(0,o.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.destroyed=!0,this.subs.map(function(e){return e.unsubscribe()}),this.unloads.map(function(e){return e()}),e.next=5,this.die();case 5:this.bc&&this.bc.destroy();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function _(e){return new y(e)}var m=r.rxdb=!0,g=r.prototypes={},w=r.overwritable={createLeaderElector:_};r.default={rxdb:m,prototypes:g,overwritable:w}},{"../rx-broadcast-channel":29,"../rx-error":34,"../util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/regenerator":57,"rxjs/BehaviorSubject":540,"rxjs/operators/filter":559,"rxjs/operators/first":560,unload:591}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=r.RxLocalDocument=void 0;var n=m(e("babel-runtime/regenerator")),o=m(e("babel-runtime/helpers/asyncToGenerator")),i=m(e("babel-runtime/helpers/classCallCheck")),a=m(e("babel-runtime/helpers/createClass")),s=m(e("babel-runtime/helpers/possibleConstructorReturn")),u=m(e("babel-runtime/helpers/inherits")),c=m(e("object-path")),l=m(e("deep-equal")),f=m(e("../rx-document")),d=m(e("../rx-database")),h=m(e("../rx-collection")),p=m(e("../rx-change-event")),b=m(e("../doc-cache")),v=m(e("../rx-error")),y=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util")),_=e("rxjs/operators/filter");function m(e){return e&&e.__esModule?e:{default:e}}var g=new WeakMap,w=function(e){return g.has(e)||g.set(e,b.default.create()),g.get(e)},x=new WeakMap,k="_local/",j=r.RxLocalDocument=function(e){function t(e,r,n){(0,i.default)(this,t);var o=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,r));return o.id=e,o.parent=n,o}return(0,u.default)(t,e),(0,a.default)(t,[{key:"toPouchJson",value:function(){y.clone(this._data)._id=k+this.id}},{key:"_handleChangeEvent",value:function(e){if(e.data.doc===this.primary)switch(e.data.op){case"UPDATE":var t=y.clone(e.data.v),r=this._dataSync$.getValue(),n=this._data;(0,l.default)(r,n)?(this._data=t,!0!==this._synced$.getValue()&&this._synced$.next(!0)):(!1!==this._synced$.getValue()&&this._synced$.next(!1),this._data._rev=t._rev),this._dataSync$.next(y.clone(t));break;case"REMOVE":w(this.parent).delete(this.primary),this._deleted$.next(!0)}}},{key:"$emit",value:function(e){return this.parent.$emit(e)}},{key:"get",value:function(e){if(this._data){if("string"!=typeof e)throw v.default.newRxTypeError("LD2",{objPath:e});var t=c.default.get(this._data,e);return t=y.clone(t)}}},{key:"get$",value:function(e){if(e.includes(".item."))throw v.default.newRxError("LD3",{path:e});if(e===this.primaryPath)throw v.default.newRxError("LD4");return this._dataSync$.map(function(t){return c.default.get(t,e)}).distinctUntilChanged().asObservable()}},{key:"set",value:function(e,t){if(!t){var r=y.clone(e);return r._rev=this._data._rev,this._data=r,this}if("_id"===e)throw v.default.newRxError("LD5",{objPath:e,value:t});if(!Object.is(this.get(e),t))return c.default.set(this._data,e,t),this}},{key:"save",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t,r,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=y.clone(this._data))._id=k+this.id,e.next=4,this.parentPouch.put(t);case 4:r=e.sent,this._data._rev=r.rev,o=p.default.create("UPDATE",d.default.isInstanceOf(this.parent)?this.parent:this.parent.database,h.default.isInstanceOf(this.parent)?this.parent:null,this,y.clone(this._data),!0),this.$emit(o);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=k+this.id,e.next=3,this.parentPouch.remove(t,this._data._rev);case 3:w(this.parent).delete(this.id),r=p.default.create("REMOVE",d.default.isInstanceOf(this.parent)?this.parent:this.parent.database,h.default.isInstanceOf(this.parent)?this.parent:null,this,y.clone(this._data),!0),this.$emit(r);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isLocal",get:function(){return!0}},{key:"parentPouch",get:function(){return P(this.parent)}},{key:"allAttachments$",get:function(){throw v.default.newRxError("LD1",{document:this})}},{key:"primaryPath",get:function(){return"id"}},{key:"primary",get:function(){return this.id}},{key:"$",get:function(){return this._dataSync$.asObservable()}}]),t}(f.default.RxDocument),O=!1,S=function(){if(!O){O=!0;["populate","update","putAttachment","getAttachment","allAttachments"].forEach(function(e){return j.prototype[e]=(t=e,function(){throw v.default.newRxError("LD6",{functionName:t})});var t})}};j.create=function(e,t,r){S(),function(e){if(!x.has(e)){var t=e.$.pipe((0,_.filter)(function(e){return e.data.isLocal})).subscribe(function(t){var r=w(e).get(t.data.doc);r&&r._handleChangeEvent(t)});e._subs.push(t),x.set(e,t)}x.get(e)}(r);var n=new j(e,t,r);return w(r).set(e,n),n};var E,C,A,P=function(e){return d.default.isInstanceOf(e)?e._adminPouch:e.pouch},R=(E=(0,o.default)(n.default.mark(function e(t,r){var o,i,a,s;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.default.isInstanceOf(this)||!this._isInMemory){e.next=2;break}return e.abrupt("return",this._parentCollection.insertLocal(t,r));case 2:return r=y.clone(r),e.next=5,this.getLocal(t);case 5:if(!e.sent){e.next=8;break}throw v.default.newRxError("LD7",{id:t,data:r});case 8:return o=P(this),(i=y.clone(r))._id=k+t,e.next=13,o.put(i);case 13:return a=e.sent,r._rev=a.rev,s=j.create(t,r,this),e.abrupt("return",s);case 17:case"end":return e.stop()}},e,this)})),function(e,t){return E.apply(this,arguments)}),D=(C=(0,o.default)(n.default.mark(function e(t,r){var o,i;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.default.isInstanceOf(this)||!this._isInMemory){e.next=2;break}return e.abrupt("return",this._parentCollection.upsertLocal(t,r));case 2:return e.next=4,this.getLocal(t);case 4:if(o=e.sent){e.next=10;break}return i=this.insertLocal(t,r),e.abrupt("return",i);case 10:return r._rev=o._data._rev,o._data=r,e.next=14,o.save();case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}},e,this)})),function(e,t){return C.apply(this,arguments)}),M=(A=(0,o.default)(n.default.mark(function e(t){var r,o,i,a,s;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.default.isInstanceOf(this)||!this._isInMemory){e.next=2;break}return e.abrupt("return",this._parentCollection.getLocal(t));case 2:if(r=P(this),o=w(this),i=o.get(t)){e.next=19;break}return e.prev=6,e.next=9,r.get(k+t);case 9:if(a=e.sent){e.next=12;break}return e.abrupt("return",null);case 12:return s=j.create(t,a,this),e.abrupt("return",s);case 16:return e.prev=16,e.t0=e.catch(6),e.abrupt("return",null);case 19:return e.abrupt("return",i);case 20:case"end":return e.stop()}},e,this,[[6,16]])})),function(e){return A.apply(this,arguments)}),I=r.rxdb=!0,T=r.prototypes={RxCollection:function(e){e.insertLocal=R,e.upsertLocal=D,e.getLocal=M},RxDatabase:function(e){e.insertLocal=R,e.upsertLocal=D,e.getLocal=M}},L=r.overwritable={};r.default={rxdb:I,prototypes:T,overwritable:L}},{"../doc-cache":6,"../rx-change-event":30,"../rx-collection":31,"../rx-database":32,"../rx-document":33,"../rx-error":34,"../util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54,"babel-runtime/regenerator":57,"deep-equal":488,"object-path":503,"rxjs/operators/filter":559}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overwritable=r.prototypes=r.rxdb=r.RxReplicationState=void 0;var n=m(e("babel-runtime/regenerator")),o=m(e("babel-runtime/helpers/asyncToGenerator")),i=m(e("babel-runtime/helpers/classCallCheck")),a=m(e("babel-runtime/helpers/createClass"));r.createRxReplicationState=w,r.watchForChanges=x,r.sync=k;var s=m(e("pouchdb-replication")),u=e("rxjs/Subject"),c=e("rxjs/BehaviorSubject"),l=e("rxjs/observable/fromEvent"),f=e("rxjs/operators/filter"),d=e("rxjs/operators/map"),h=e("rxjs/operators/delay"),p=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util")),b=m(e("../core")),v=m(e("../rx-collection")),y=m(e("../rx-change-event")),_=m(e("../rx-error"));function m(e){return e&&e.__esModule?e:{default:e}}b.default.plugin(s.default);var g=r.RxReplicationState=function(){function e(t){var r=this;(0,i.default)(this,e),this._subs=[],this.collection=t,this._pouchEventEmitterObject=null,this._subjects={change:new u.Subject,docs:new u.Subject,active:new c.BehaviorSubject(!1),complete:new c.BehaviorSubject(!1),error:new u.Subject},Object.keys(this._subjects).forEach(function(e){Object.defineProperty(r,e+"$",{get:function(){return this._subjects[e].asObservable()}})})}return(0,a.default)(e,[{key:"setPouchEventEmitter",value:function(e){var t=this;if(this._pouchEventEmitterObject)throw _.default.newRxError("RC1");this._pouchEventEmitterObject=e,this._subs.push((0,l.fromEvent)(e,"change").subscribe(function(e){return t._subjects.change.next(e)})),this._subs.push((0,l.fromEvent)(e,"change").subscribe(function(e){0!==t._subjects.docs.observers.length&&"pull"===e.direction&&e.change.docs.filter(function(e){return"query"!==e.language}).map(function(e){return t.collection._handleFromPouch(e)}).forEach(function(e){return t._subjects.docs.next(e)})})),this._subs.push((0,l.fromEvent)(e,"error").subscribe(function(e){return t._subjects.error.next(e)})),this._subs.push((0,l.fromEvent)(e,"active").subscribe(function(){return t._subjects.active.next(!0)})),this._subs.push((0,l.fromEvent)(e,"paused").subscribe(function(){return t._subjects.active.next(!1)})),this._subs.push((0,l.fromEvent)(e,"complete").subscribe(function(e){return t._subjects.complete.next(e)}))}},{key:"cancel",value:function(){var e=(0,o.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._pouchEventEmitterObject&&this._pouchEventEmitterObject.cancel(),this._subs.forEach(function(e){return e.unsubscribe()});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function w(e){return new g(e)}function x(){var e=this;if(!this.synced){var t={},r=(0,l.fromEvent)(this.pouch.changes({since:"now",live:!0,include_docs:!0}),"change").pipe((0,f.filter)(function(e){return"_"!==e.id.charAt(0)}),(0,d.map)(function(e){return e.doc}),(0,f.filter)(function(t){return!e._changeEventBuffer.buffer.map(function(e){return e.data.v._rev}).includes(t._rev)}),(0,f.filter)(function(e){return t[e._rev]="YES"}),(0,h.delay)(10),(0,d.map)(function(e){var r=null;return"YES"===t[e._rev]&&(r=e),delete t[e._rev],r}),(0,f.filter)(function(e){return null!==e})).subscribe(function(t){e.$emit(y.default.fromPouchChange(t,e))});this._subs.push(r);var n=this.$.pipe((0,d.map)(function(e){return e.data.v}),(0,d.map)(function(e){e&&t[e._rev]&&(t[e._rev]="NO")})).subscribe();this._subs.push(n),this.synced=!0}}function k(e){var t=this,r=e.remote,i=e.waitForLeadership,a=void 0===i||i,s=e.direction,u=void 0===s?{pull:!0,push:!0}:s,c=e.options,l=void 0===c?{live:!0,retry:!0}:c,f=e.query;if(l=p.clone(l),v.default.isInstanceOf(r)&&(r=r.pouch),f&&this!==f.collection)throw _.default.newRxError("RC2",{query:f});var d=p.pouchReplicationFunction(this.pouch,u);f&&(l.selector=f.keyCompress().selector);var h=w(this);return(0,o.default)(n.default.mark(function e(){var o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,t.database.waitForLeadership();case 3:e.next=7;break;case 5:return e.next=7,p.promiseWait(0);case 7:o=d(r,l),t.watchForChanges(),h.setPouchEventEmitter(o),t._repStates.push(h);case 11:case"end":return e.stop()}},e,t)}))(),h}var j=r.rxdb=!0,O=r.prototypes={RxCollection:function(e){e.watchForChanges=x,e.sync=k}},S=r.overwritable={};r.default={rxdb:j,prototypes:O,overwritable:S,watchForChanges:x,sync:k}},{"../core":3,"../rx-change-event":30,"../rx-collection":31,"../rx-error":34,"../util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/regenerator":57,"pouchdb-replication":527,"rxjs/BehaviorSubject":540,"rxjs/Subject":547,"rxjs/observable/fromEvent":555,"rxjs/operators/delay":557,"rxjs/operators/filter":559,"rxjs/operators/map":561}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hooks=r.rxdb=void 0;var n=u(e("babel-runtime/helpers/typeof"));r.checkFieldNameRegex=c,r.validateFieldsDeep=l,r.checkSchema=f;var o=u(e("object-path")),i=u(e("../rx-document")),a=u(e("../rx-error")),s=e("../rx-schema");function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(""!==e){if(["properties","language"].includes(e))throw a.default.newRxError("SC23",{fieldName:e});var t="^[a-zA-Z][[a-zA-Z0-9_]*]?[a-zA-Z0-9]$",r=new RegExp(t);if(!e.match(r))throw a.default.newRxError("SC1",{regex:t,fieldName:e})}}function l(e){function t(e,t,r){if("string"!=typeof e||"object"!==(void 0===t?"undefined":(0,n.default)(t))||Array.isArray(t)||c(e),t.hasOwnProperty("item")&&"array"!==t.type)throw a.default.newRxError("SC2",{fieldName:e});if(t.hasOwnProperty("ref"))switch(t.type){case"string":break;case"array":if(!t.items||!t.items.type||"string"!==t.items.type)throw a.default.newRxError("SC3",{fieldName:e});break;default:throw a.default.newRxError("SC4",{fieldName:e})}if(t.hasOwnProperty("ref")&&t.primary)throw a.default.newRxError("SC5",{fieldName:e});var o=r.split(".").length>=2;if(o){if(t.primary)throw a.default.newRxError("SC6",{path:r,primary:t.primary});if(t.default)throw a.default.newRxError("SC7",{path:r})}if(!o&&"_"===e.charAt(0))throw a.default.newRxError("SC8",{fieldName:e})}return function e(r,o){if("object"===(void 0===r?"undefined":(0,n.default)(r)))for(var i in r){r.properties||t(i,r[i],o);var a=o;"properties"!==i&&(a=a+"."+i),e(r[i],a)}}(e,""),!0}function f(e){if(e.properties._id)throw a.default.newRxError("SC9",{schema:e});if(e.properties._rev)throw a.default.newRxError("SC10",{schema:e});if(!e.hasOwnProperty("version")||"number"!=typeof e.version||e.version<0)throw a.default.newRxError("SC11",{version:e.version});l(e);var t=void 0;if(Object.keys(e.properties).forEach(function(r){var n=e.properties[r];if(n.primary){if(t)throw a.default.newRxError("SC12",{value:n});if(t=r,n.index)throw a.default.newRxError("SC13",{value:n});if(n.unique)throw a.default.newRxError("SC14",{value:n});if(n.encrypted)throw a.default.newRxError("SC15",{value:n});if("string"!==n.type)throw a.default.newRxError("SC16",{value:n})}if(i.default.properties().includes(r))throw a.default.newRxError("SC17",{key:r})}),e.compoundIndexes){if(!Array.isArray(e.compoundIndexes))throw a.default.newRxError("SC18",{compoundIndexes:e.compoundIndexes});e.compoundIndexes.forEach(function(t){if(!Array.isArray(t))throw a.default.newRxError("SC19",{compoundIndexes:e.compoundIndexes});t.forEach(function(t){if("string"!=typeof t)throw a.default.newRxError("SC20",{compoundIndexes:e.compoundIndexes})})})}(0,s.getIndexes)(e).reduce(function(e,t){return e.concat(t)},[]).filter(function(e,t,r){return r.indexOf(e)===t}).map(function(t){var r=o.default.get(e,"properties."+t.replace(".",".properties."));if(!r||"object"!==(void 0===r?"undefined":(0,n.default)(r)))throw a.default.newRxError("SC21",{key:t});return{key:t,schemaObj:r}}).filter(function(e){return"string"!==e.schemaObj.type&&"integer"!==e.schemaObj.type&&"number"!==e.schemaObj.type}).forEach(function(e){throw a.default.newRxError("SC22",{key:e.key,type:e.schemaObj.type})})}var d=r.rxdb=!0,h=r.hooks={preCreateRxSchema:f};r.default={rxdb:d,hooks:h}},{"../rx-document":33,"../rx-error":34,"../rx-schema":36,"babel-runtime/helpers/typeof":56,"object-path":503}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prototypes=r.rxdb=r.RxQueryUpdate=void 0;var n,o=c(e("babel-runtime/regenerator")),i=c(e("babel-runtime/helpers/asyncToGenerator")),a=r.RxQueryUpdate=(n=(0,i.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.exec();case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:if(!Array.isArray(r)){e.next=10;break}return e.next=8,Promise.all(r.map(function(e){return e.update(t)}));case 8:e.next=12;break;case 10:return e.next=12,r.update(t);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)});r.update=l;var s=c(e("modifyjs")),u=c(e("deep-equal"));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=this,r=(0,s.default)(this._data,e);return Object.keys(this._data).forEach(function(e){r[e]?(0,u.default)(t._data[e],r[e])||(t._data[e]=r[e]):delete t._data[e]}),delete r._rev,delete r._id,Object.keys(r).filter(function(e){return!(0,u.default)(t._data[e],r[e])}).forEach(function(e){return t._data[e]=r[e]}),this.save()}var f=r.rxdb=!0,d=r.prototypes={RxDocument:function(e){e.update=l},RxQuery:function(e){e.update=a}};r.default={rxdb:f,prototypes:d}},{"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/regenerator":57,"deep-equal":488,modifyjs:502}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hooks=r.prototypes=r.rxdb=void 0;var n=a(e("is-my-json-valid")),o=a(e("../rx-error")),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("../util"));function a(e){return e&&e.__esModule?e:{default:e}}var s={},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.hash;s[t]||(s[t]={});var r=s[t];if(!r[e]){var i=""===e?this.jsonID:this.getSchemaByObjectPath(e);if(!i)throw o.default.newRxError("VD1",{schemaPath:e});r[e]=(0,n.default)(i)}return r[e]},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this._getValidator(t);if(r(e))return e;throw o.default.newRxError("VD2",{errors:r.errors,schemaPath:t,obj:e,schema:this.jsonID})},l=r.rxdb=!0,f=r.prototypes={RxSchema:function(e){e._getValidator=u,e.validate=c}},d=r.hooks={createRxSchema:function(e){i.requestIdleCallbackIfAvailable(function(){e._getValidator()})}};r.default={rxdb:l,prototypes:f,hooks:d}},{"../rx-error":34,"../util":38,"is-my-json-valid":497}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("pouchdb-core")),o=a(e("pouchdb-find")),i=a(e("./rx-error"));function a(e){return e&&e.__esModule?e:{default:e}}n.default.plugin(o.default),n.default.countAllUndeleted=function(e){return e.allDocs({include_docs:!1,attachments:!1}).then(function(e){return e.rows.filter(function(e){return!e.id.startsWith("_design/")}).length})},n.default.getBatch=function(e,t){if(t<=1)throw i.default.newRxError("P1",{limit:t});return e.allDocs({include_docs:!0,attachments:!1,limit:t}).then(function(e){return e.rows.map(function(e){return e.doc}).filter(function(e){return!e._id.startsWith("_design")})})},r.default=n.default},{"./rx-error":34,"pouchdb-core":514,"pouchdb-find":520}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("babel-runtime/helpers/classCallCheck")),o=i(e("babel-runtime/helpers/createClass"));function i(e){return e&&e.__esModule?e:{default:e}}r.create=s;var a=function(){function e(){(0,n.default)(this,e),this.subs=[],this._map=new Map}return(0,o.default)(e,[{key:"getByQuery",value:function(e){var t=e.toString();return this._map.has(t)||this._map.set(t,e),this._map.get(t)}},{key:"destroy",value:function(){this.subs.forEach(function(e){return e.unsubscribe()}),this._map=new Map}}]),e}();function s(){return new a}r.default={create:s}},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),o=s(e("babel-runtime/helpers/createClass"));r.enableDebugging=f,r.enable=d,r.create=h;var i=e("pouchdb-selector-core"),a=s(e("object-path"));function s(e){return e&&e.__esModule?e:{default:e}}var u=!1,c=!1,l=function(){function e(t){(0,n.default)(this,e),this.query=t,this.primaryKey=this.query.collection.schema.primaryPath}return(0,o.default)(e,[{key:"runChangeDetection",value:function(e){var t=this;if(0===e.length)return!1;if(!c)return!0;var r=this.query._resultsData,n=!1;return!!e.find(function(e){var o=t.handleSingleChange(r,e);return Array.isArray(o)?(n=!0,r=o,!1):!!o||void 0})||!!n&&r}},{key:"_debugMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"optimized";console.dir({name:"QueryChangeDetector",title:r,query:this.query.toString(),key:e,changeEventData:t})}},{key:"handleSingleChange",value:function(e,t){var r=this,n=e.slice(0),o=this.query.toJSON(),i=t.data.v,a=this._isDocInResultData(i,e),s=this.doesDocMatchQuery(i),c=!o.limit||o.limit&&e.length>=o.limit,l=o.limit&&e.length>=o.limit;u&&(console.log("QueryChangeDetector.handleSingleChange()"),this._debugMessage("start",t.data.v,"handleSingleChange()"),console.log("changeEvent.data:"),console.dir(t.data),console.log("wasDocInResults: "+a),console.log("doesMatchNow: "+s),console.log("isFilled: "+c));var f=null,d=null,h=null;if("REMOVE"===t.data.op){if(!s)return u&&this._debugMessage("R1",i),!1;if(o.skip&&s&&(null===d&&(d=r._isSortedBefore(i,n[0])),d)&&!c)return u&&this._debugMessage("R2",i),n.shift(),n;if(s&&a&&!c)return u&&this._debugMessage("R3",i),n=n.filter(function(e){return e[r.primaryKey]!==i[r.primaryKey]});if(s&&a&&!o.limit&&!o.skip)return u&&this._debugMessage("R3.1",i),n=n.filter(function(e){return e[r.primaryKey]!==i[r.primaryKey]});if(s&&o.limit&&(null===f&&(f=r._isSortedBefore(n[n.length-1],i)),f))return u&&this._debugMessage("R4",i),!1}else{if(!(o.skip||o.limit||a||s))return u&&this._debugMessage("U1",i),!1;if(!o.skip&&!o.limit&&a&&s){var p=n.find(function(e){return e[r.primaryKey]===i[r.primaryKey]}),b=n.indexOf(p);return n[b]=i,function(){if(null===h){var t=e.find(function(e){return e[r.primaryKey]===i[r.primaryKey]});h=r._sortFieldChanged(t,i)}return h}()?(u&&this._debugMessage("U2 - resort",i),this._resortDocData(n)):(u&&this._debugMessage("U2 - no-resort",i),n)}if(!o.skip&&!l&&!a&&s)return u&&this._debugMessage("U3",i),n.push(i),this._resortDocData(n)}return!0}},{key:"doesDocMatchQuery",value:function(e){e=this.query.collection.schema.swapPrimaryToId(e);var t=Object.keys(this.query.toJSON().selector);return 1===(0,i.filterInMemoryFields)([{doc:e}],{selector:(0,i.massageSelector)(this.query.toJSON().selector)},t).length}},{key:"_isDocInResultData",value:function(e,t){var r=this.query.collection.schema.primaryPath;return!!t.find(function(t){return t[r]===e[r]})}},{key:"_sortFieldChanged",value:function(e,t){var r=!1;return this.query.toJSON().sort.map(function(e){return Object.keys(e).pop()}).find(function(n){return a.default.get(e,n)!==a.default.get(t,n)&&(r=!0,!0)}),r}},{key:"_isSortedBefore",value:function(e,t){var r=this.query.toJSON(),n=Object.keys(this.query.toJSON().selector),o=this.query.collection.schema.swapPrimaryToId(e),a=[o,this.query.collection.schema.swapPrimaryToId(t)].map(function(e){return{id:e._id,doc:e}});return(0,i.filterInMemoryFields)(a,{selector:(0,i.massageSelector)(this.query.toJSON().selector),sort:r.sort},n)[0].id===o._id}},{key:"_resortDocData",value:function(e){var t=this,r=e.map(function(e){return{doc:t.query.collection.schema.swapPrimaryToId(e)}}),n=this.query.toJSON(),o=Object.keys(this.query.toJSON().selector);return(0,i.filterInMemoryFields)(r,{selector:(0,i.massageSelector)(this.query.toJSON().selector),sort:n.sort},o).map(function(e){return e.doc}).map(function(e){return t.query.collection.schema.swapIdToPrimary(e)})}}]),e}();function f(){console.log("QueryChangeDetector.enableDebugging()"),u=!0}function d(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];console.log("QueryChangeDetector.enableDebugging("+e+")"),c=e}function h(e){return new l(e)}r.default={create:h,enableDebugging:f,enable:d}},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"object-path":503,"pouchdb-selector-core":528}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=c(e("babel-runtime/helpers/typeof")),o=c(e("babel-runtime/helpers/classCallCheck")),i=c(e("babel-runtime/helpers/createClass"));r.canIUse=d,r.create=h;var a=e("rxjs/observable/fromEvent"),s=e("rxjs/operators/map"),u=e("rxjs/operators/filter");function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,r){(0,o.default)(this,e),this.name=r,this.database=t,this.token=t.token}return(0,i.default)(e,[{key:"write",value:function(e,t){return this.bc.postMessage(JSON.stringify({type:e,it:this.token,data:t,t:(new Date).getTime()}))}},{key:"destroy",value:function(){this._bc&&this._bc.close()}},{key:"bc",get:function(){return this._bc||(this._bc=new BroadcastChannel("RxDB:"+this.database.name+":"+this.name)),this._bc}},{key:"$",get:function(){var e=this;return this._$||(this._$=(0,a.fromEvent)(this.bc,"message").pipe((0,s.map)(function(e){return e.data}),(0,s.map)(function(e){return JSON.parse(e)}),(0,u.filter)(function(t){return t.it!==e.token}))),this._$}}]),e}(),f=null;function d(){return null===f&&(f=!("object"!==("undefined"==typeof window?"undefined":(0,n.default)(window))||!window.BroadcastChannel||"function"!=typeof window.BroadcastChannel||"function"!=typeof window.BroadcastChannel.prototype.postMessage||"function"!=typeof window.BroadcastChannel.prototype.close)),f}function h(e,t){return d()?new l(e,t):null}r.default={create:h,canIUse:d}},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/typeof":56,"rxjs/observable/fromEvent":555,"rxjs/operators/filter":559,"rxjs/operators/map":561}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RxChangeEvent=void 0;var n=a(e("babel-runtime/helpers/classCallCheck")),o=a(e("babel-runtime/helpers/createClass"));r.fromJSON=u,r.fromPouchChange=c,r.create=l,r.isInstanceOf=f;var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util"));function a(e){return e&&e.__esModule?e:{default:e}}var s=r.RxChangeEvent=function(){function e(t){(0,n.default)(this,e),this.data=t}return(0,o.default)(e,[{key:"toJSON",value:function(){var e={op:this.data.op,t:this.data.t,db:this.data.db,it:this.data.it,isLocal:this.data.isLocal};return this.data.col&&(e.col=this.data.col),this.data.doc&&(e.doc=this.data.doc),this.data.v&&(e.v=this.data.v),e}},{key:"isIntern",value:function(){return!(!this.data.col||"_"!==this.data.col.charAt(0))}},{key:"isSocket",value:function(){return!(!this.data.col||"_socket"!==this.data.col)}},{key:"hash",get:function(){return this._hash||(this._hash=i.hash(this.data)),this._hash}}]),e}();function u(e){return new s(e)}function c(e,t){var r=e._rev.startsWith("1-")?"INSERT":"UPDATE";e._deleted&&(r="REMOVE"),e=t._handleFromPouch(e);var n={op:r,t:(new Date).getTime(),db:"remote",col:t.name,it:t.database.token,doc:e[t.schema.primaryPath],v:e};return new s(n)}function l(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a={op:e,t:(new Date).getTime(),db:t.name,it:t.token,isLocal:i};return r&&(a.col=r.name),n&&(a.doc=n.primary),o&&(a.v=o),new s(a)}function f(e){return e instanceof s}r.default={fromJSON:u,fromPouchChange:c,create:l,isInstanceOf:f}},{"./util":38,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.create=r.RxCollection=void 0;var n,o=O(e("babel-runtime/helpers/toConsumableArray")),i=O(e("babel-runtime/helpers/typeof")),a=O(e("babel-runtime/regenerator")),s=O(e("babel-runtime/helpers/asyncToGenerator")),u=O(e("babel-runtime/helpers/classCallCheck")),c=O(e("babel-runtime/helpers/createClass")),l=r.create=(n=(0,s.default)(a.default.mark(function e(t){var r,n=t.database,o=t.name,i=t.schema,s=t.pouchSettings,u=void 0===s?{}:s,c=t.migrationStrategies,l=void 0===c?{}:c,f=t.autoMigrate,d=void 0===f||f,p=t.statics,b=void 0===p?{}:p,v=t.methods,_=void 0===v?{}:v,m=t.attachments,g=void 0===m?{}:m,w=t.options,x=void 0===w?{}:w;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.validateCouchDBString(o),A(i,l),D(b),D(_),D(g),Object.keys(_).filter(function(e){return i.topLevelFields.includes(e)}).forEach(function(e){throw y.default.newRxError("COL18",{funName:e})}),r=new C(n,o,i,u,l,_,g,x),e.next=9,r.prepare();case 9:if(Object.entries(b).forEach(function(e){var t=e.pop(),n=e.pop();r.__defineGetter__(n,function(){return t.bind(r)})}),!d){e.next=13;break}return e.next=13,r.migratePromise();case 13:return(0,j.runPluginHooks)("createRxCollection",r),e.abrupt("return",r);case 15:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)});r.properties=R,r.isInstanceOf=M;var f=O(e("custom-idle-queue")),d=e("rxjs/operators/filter"),h=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),p=O(e("./rx-document")),b=O(e("./rx-query")),v=O(e("./rx-change-event")),y=O(e("./rx-error")),_=O(e("./data-migrator")),m=O(e("./crypter")),g=O(e("./doc-cache")),w=O(e("./query-cache")),x=O(e("./change-event-buffer")),k=O(e("./overwritable")),j=e("./hooks");function O(e){return e&&e.__esModule?e:{default:e}}var S=["pre","post"],E=["insert","save","remove","create"],C=r.RxCollection=function(){function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=this,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};(0,u.default)(this,e),this._isInMemory=!1,this.destroyed=!1,this.database=t,this.name=r,this.schema=n,this._migrationStrategies=i,this._pouchSettings=o,this._methods=a,this._attachments=c,this.options=l,this._atomicUpsertQueues={},this._docCache=g.default.create(),this._queryCache=w.default.create(),this.synced=!1,this.hooks={},this._subs=[],this._repStates=[],this.pouch=null,E.forEach(function(e){S.map(function(t){var r=t+h.ucfirst(e);s[r]=function(r,n){return s.addHook(t,e,r,n)}})})}return(0,c.default)(e,[{key:"prepare",value:function(){var e=(0,s.default)(a.default.mark(function e(){var t=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._dataMigrator=_.default.create(this,this._migrationStrategies),this._crypter=m.default.create(this.database.password,this.schema),this.pouch=this.database._spawnPouchDB(this.name,this.schema.version,this._pouchSettings),e.next=5,this.database.lockedRun(function(){return t.pouch.info()});case 5:return this._observable$=this.database.$.pipe((0,d.filter)(function(e){return e.data.col===t.name})),this._changeEventBuffer=x.default.create(this),e.next=9,Promise.all(this.schema.indexes.map(function(e){var r=e.map(function(e){return t.schema.doKeyCompression()?t._keyCompressor._transformKey("","",e.split(".")):e});return t.database.lockedRun(function(){return t.pouch.createIndex({index:{fields:r}})})}));case 9:this._subs.push(this._observable$.pipe((0,d.filter)(function(e){return!e.data.isLocal})).subscribe(function(e){var r=t._docCache.get(e.data.doc);r&&r._handleChangeEvent(e)}));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"migrationNeeded",value:function(){return 0!==this.schema.version&&this._dataMigrator._getOldCollections().then(function(e){return e.length>0})}},{key:"migrate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._dataMigrator.migrate(e)}},{key:"migratePromise",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._dataMigrator.migratePromise(e)}},{key:"_handleToPouch",value:function(e){var t=h.clone(e);return t=this._crypter.encrypt(t),t=this.schema.swapPrimaryToId(t),this.schema.doKeyCompression()&&(t=this._keyCompressor.compress(t)),t}},{key:"_handleFromPouch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=h.clone(e);return r=this.schema.swapIdToPrimary(r),this.schema.doKeyCompression()&&(r=this._keyCompressor.decompress(r)),t?r:r=this._crypter.decrypt(r)}},{key:"_pouchPut",value:function(){var e=(0,s.default)(a.default.mark(function e(t){var r,n,o=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._handleToPouch(t),r=null,e.prev=2,e.next=5,this.database.lockedRun(function(){return o.pouch.put(t)});case 5:r=e.sent,e.next=21;break;case 8:if(e.prev=8,e.t0=e.catch(2),!i||409!==e.t0.status){e.next=20;break}return e.next=13,this.database.lockedRun(function(){return o.pouch.get(t._id)});case 13:return n=e.sent,t._rev=n._rev,e.next=17,this.database.lockedRun(function(){return o.pouch.put(t)});case 17:r=e.sent,e.next=21;break;case 20:throw e.t0;case 21:return e.abrupt("return",r);case 22:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_pouchGet",value:function(e){var t=this;return this.pouch.get(e).then(function(e){return t._handleFromPouch(e)})}},{key:"_pouchFind",value:function(){var e=(0,s.default)(a.default.mark(function e(t,r){var n,o,i,s=this,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.keyCompress(),r&&(n.limit=r),e.next=4,this.database.lockedRun(function(){return s.pouch.find(n)});case 4:return o=e.sent,i=o.docs.map(function(e){return s._handleFromPouch(e,u)}),e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"_assignMethodsToDocument",value:function(e){Object.entries(this._methods).forEach(function(t){var r=t[0],n=t[1];e.__defineGetter__(r,function(){return n.bind(e)})})}},{key:"_createDocument",value:function(){var e=(0,s.default)(a.default.mark(function e(t){var r,n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t[this.schema.primaryPath],!(n=this._docCache.get(r))){e.next=4;break}return e.abrupt("return",n);case 4:return o=p.default.create(this,t),this._assignMethodsToDocument(o),this._docCache.set(r,o),this._runHooksSync("post","create",o),e.next=10,(0,j.runAsyncPluginHooks)("postCreateRxDocument",o);case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_createDocuments",value:function(){var e=(0,s.default)(a.default.mark(function e(t){var r=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(e){return r._createDocument(e)})));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"$emit",value:function(e){return this.database.$emit(e)}},{key:"insert",value:function(){var e=(0,s.default)(a.default.mark(function e(t){var r,n,o,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,!p.default.isInstanceOf(t)){e.next=6;break}if(r=t,t._isTemporary){e.next=5;break}throw y.default.newRxError("COL1",{data:t});case 5:t=t.toJSON();case 6:if(t=h.clone(t),!(t=this.schema.fillObjectWithDefaults(t))._id){e.next=10;break}throw y.default.newRxError("COL2",{data:t});case 10:return"_id"!==this.schema.primaryPath||t._id||(t._id=h.generateId()),e.next=13,this._runHooks("pre","insert",t);case 13:return this.schema.validate(t),e.next=16,this._pouchPut(t);case 16:if(n=e.sent,t[this.schema.primaryPath]=n.id,t._rev=n.rev,o=r,!r){e.next=24;break}r._data=t,e.next=27;break;case 24:return e.next=26,this._createDocument(t);case 26:o=e.sent;case 27:return e.next=29,this._runHooks("post","insert",o);case 29:return i=v.default.create("INSERT",this.database,this,o,t),this.$emit(i),e.abrupt("return",o);case 32:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"upsert",value:function(){var e=(0,s.default)(a.default.mark(function e(t){var r,n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.clone(t),r=t[this.schema.primaryPath]){e.next=4;break}throw y.default.newRxError("COL3",{primaryPath:this.schema.primaryPath,data:t});case 4:return e.next=6,this.findOne(r).exec();case 6:if(!(n=e.sent)){e.next=15;break}return t._rev=n._rev,n._data=t,e.next=12,n.save();case 12:return e.abrupt("return",n);case 15:return e.next=17,this.insert(t);case 17:return o=e.sent,e.abrupt("return",o);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_atomicUpsertEnsureRxDocumentExists",value:function(){var e=(0,s.default)(a.default.mark(function e(t,r){var n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findOne(t).exec();case 2:if(n=e.sent){e.next=10;break}return e.next=6,this.insert(r);case 6:return o=e.sent,e.abrupt("return",{doc:o,inserted:!0});case 10:return e.abrupt("return",{doc:n,inserted:!1});case 11:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"_atomicUpsertUpdate",value:function(){var e=(0,s.default)(a.default.mark(function e(t,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.atomicUpdate(function(e){r._rev=e._rev,e._data=r});case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"atomicUpsert",value:function(){var e=(0,s.default)(a.default.mark(function e(t){var r,n,o,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.clone(t),r=t[this.schema.primaryPath]){e.next=4;break}throw y.default.newRxError("COL4",{data:t});case 4:return this._atomicUpsertQueues[r]||(this._atomicUpsertQueues[r]=new f.default),n=this._atomicUpsertQueues[r],e.next=8,n.requestIdlePromise();case 8:return e.next=10,n.wrapCall((0,s.default)(a.default.mark(function e(){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._atomicUpsertEnsureRxDocumentExists(r,t);case 2:if((n=e.sent).inserted){e.next=11;break}return e.next=6,i._atomicUpsertUpdate(n.doc,t);case 6:return e.next=8,h.nextTick();case 8:case 11:return e.abrupt("return",n.doc);case 12:case"end":return e.stop()}},e,i)})));case 10:return o=e.sent,e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"find",value:function(e){if("string"==typeof e)throw y.default.newRxError("COL5",{queryObj:e});return b.default.create("find",e,this)}},{key:"findOne",value:function(e){var t=void 0;if(t="string"==typeof e?b.default.create("findOne",{_id:e},this):b.default.create("findOne",e,this),"number"==typeof e||Array.isArray(e))throw y.default.newRxTypeError("COL6",{queryObj:e});return t}},{key:"dump",value:function(){throw y.default.pluginMissing("json-dump")}},{key:"importDump",value:function(){var e=(0,s.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw y.default.pluginMissing("json-dump");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"watchForChanges",value:function(){throw y.default.pluginMissing("replication")}},{key:"sync",value:function(){throw y.default.pluginMissing("replication")}},{key:"inMemory",value:function(){throw y.default.pluginMissing("in-memory")}},{key:"addHook",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof r)throw y.default.newRxTypeError("COL7",{key:t,when:e});if(!S.includes(e))throw y.default.newRxTypeError("COL8",{key:t,when:e});if(!E.includes(t))throw y.default.newRxError("COL9",{key:t});if("post"===e&&"create"===t&&!0===n)throw y.default.newRxError("COL10",{when:e,key:t,parallel:n});var o=n?"parallel":"series";this.hooks[t]=this.hooks[t]||{},this.hooks[t][e]=this.hooks[t][e]||{series:[],parallel:[]},this.hooks[t][e][o].push(r)}},{key:"getHooks",value:function(e,t){try{return this.hooks[t][e]}catch(e){return{series:[],parallel:[]}}}},{key:"_runHooks",value:function(){var e=(0,s.default)(a.default.mark(function e(t,r,n){var o,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.getHooks(t,r)){e.next=3;break}return e.abrupt("return");case 3:i=0;case 4:if(!(i<o.series.length)){e.next=10;break}return e.next=7,o.series[i](n);case 7:i++,e.next=4;break;case 10:return e.next=12,Promise.all(o.parallel.map(function(e){return e(n)}));case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_runHooksSync",value:function(e,t,r){var n=this.getHooks(e,t);n&&n.series.forEach(function(e){return e(r)})}},{key:"newDocument",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=this.schema.fillObjectWithDefaults(e);var t=p.default.create(this,e);return t._isTemporary=!0,this._assignMethodsToDocument(t),this._runHooksSync("post","create",t),t}},{key:"destroy",value:function(){var e=(0,s.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach(function(e){return e.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this._queryCache.destroy(),this._repStates.forEach(function(e){return e.cancel()}),delete this.database.collections[this.name],this.destroyed=!0;case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){return this.database.removeCollection(this.name)}},{key:"_keyCompressor",get:function(){return this.__keyCompressor||(this.__keyCompressor=k.default.createKeyCompressor(this.schema)),this.__keyCompressor}},{key:"$",get:function(){return this._observable$}},{key:"onDestroy",get:function(){var e=this;return this._onDestroy||(this._onDestroy=new Promise(function(t){return e._onDestroyCall=t})),this._onDestroy}}]),e}(),A=function(e,t){if("object"!==(void 0===t?"undefined":(0,i.default)(t))||Array.isArray(t))throw y.default.newRxTypeError("COL11",{schema:e});if(e.previousVersions.length!==Object.keys(t).length)throw y.default.newRxError("COL12",{have:Object.keys(t),should:e.previousVersions});return e.previousVersions.map(function(e){return{v:e,s:t[e+1+""]}}).filter(function(e){return"function"!=typeof e.s}).forEach(function(t){throw y.default.newRxTypeError("COL13",{version:t.v,type:void 0===t?"undefined":(0,i.default)(t),schema:e})}),!0},P=null;function R(){if(!P){var e=new C,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));P=[].concat((0,o.default)(t),(0,o.default)(r))}return P}var D=function(e){Object.entries(e).forEach(function(e){if("string"!=typeof e[0])throw y.default.newRxTypeError("COL14",{name:e[0]});if(e[0].startsWith("_"))throw y.default.newRxTypeError("COL15",{name:e[0]});if("function"!=typeof e[1])throw y.default.newRxTypeError("COL16",{name:e[0],type:(0,i.default)(e[1])});if(R().includes(e[0])||p.default.properties().includes(e[0]))throw y.default.newRxError("COL17",{name:e[0]})})};function M(e){return e instanceof C}r.default={create:l,properties:R,isInstanceOf:M,RxCollection:C}},{"./change-event-buffer":2,"./crypter":4,"./data-migrator":5,"./doc-cache":6,"./hooks":7,"./overwritable":11,"./query-cache":27,"./rx-change-event":30,"./rx-document":33,"./rx-error":34,"./rx-query":35,"./util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/toConsumableArray":55,"babel-runtime/helpers/typeof":56,"babel-runtime/regenerator":57,"custom-idle-queue":487,"rxjs/operators/filter":559}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RxSchema=r.checkAdapter=r.removeDatabase=r.create=r.RxDatabase=void 0;var n,o,i,a=E(e("babel-runtime/helpers/toConsumableArray")),s=E(e("babel-runtime/regenerator")),u=E(e("babel-runtime/helpers/asyncToGenerator")),c=E(e("babel-runtime/helpers/classCallCheck")),l=E(e("babel-runtime/helpers/createClass")),f=r.create=(n=(0,u.default)(s.default.mark(function e(t){var r,n=t.name,o=t.adapter,i=t.password,a=t.multiInstance,u=void 0===a||a,c=t.ignoreDuplicate,l=void 0!==c&&c,f=t.options,d=void 0===f?{}:f;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y.validateCouchDBString(n),"string"!=typeof o){e.next=6;break}if(v.default.adapters&&v.default.adapters[o]){e.next=4;break}throw _.default.newRxError("DB9",{adapter:o});case 4:e.next=9;break;case 6:if(y.isLevelDown(o),v.default.adapters&&v.default.adapters.leveldb){e.next=9;break}throw _.default.newRxError("DB10",{adapter:o});case 9:return i&&k.default.validatePassword(i),l||M(n,o),C[n]||(C[n]=[]),C[n].push(o),r=new P(n,o,i,u,d),e.next=16,r.prepare();case 16:return(0,j.runPluginHooks)("createRxDatabase",r),e.abrupt("return",r);case 18:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),d=r.removeDatabase=(o=(0,u.default)(s.default.mark(function e(t,r){var n,o,i,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=L(t,r),o=T(t,r,"_socket",0),i=F(t,r),e.next=5,i.allDocs({include_docs:!0});case 5:return a=e.sent,Promise.all(a.rows.map(function(e){return e.id}).map(function(e){var n=e.split("-"),o=n[0],i=parseInt(n[1],10);return T(t,r,o,i).destroy()})),e.next=9,Promise.all([i.destroy(),n.destroy(),o.destroy()]);case 9:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)}),h=r.checkAdapter=(i=(0,u.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.default.checkAdapter(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)});r.properties=D,r.isInstanceOf=q,r.dbCount=B;var p=E(e("random-token")),b=E(e("custom-idle-queue")),v=E(e("./pouch-db")),y=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),_=E(e("./rx-error")),m=E(e("./rx-collection")),g=E(e("./rx-schema")),w=E(e("./rx-change-event")),x=E(e("./socket")),k=E(e("./overwritable")),j=e("./hooks"),O=e("rxjs/Subject"),S=e("rxjs/operators/filter");function E(e){return e&&e.__esModule?e:{default:e}}var C={},A=0,P=r.RxDatabase=function(){function e(t,r,n,o,i){(0,c.default)(this,e),void 0!==t&&A++,this.name=t,this.adapter=r,this.password=n,this.multiInstance=o,this.options=i,this.idleQueue=new b.default,this.token=(0,p.default)(10),this._subs=[],this.destroyed=!1,this.collections={},this.subject=new O.Subject,this.observable$=this.subject.asObservable().pipe((0,S.filter)(function(e){return w.default.isInstanceOf(e)}))}return(0,l.default)(e,[{key:"prepare",value:function(){var e=(0,u.default)(s.default.mark(function e(){var t,r=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.password){e.next=22;break}return e.next=3,this.lockedRun(function(){return r._adminPouch.info()});case 3:return t=null,e.prev=4,e.next=7,this.lockedRun(function(){return r._adminPouch.get("_local/pwHash")});case 7:t=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:if(t){e.next=20;break}return e.prev=13,e.next=16,this.lockedRun(function(){return r._adminPouch.put({_id:"_local/pwHash",value:y.hash(r.password)})});case 16:e.next=20;break;case 18:e.prev=18,e.t1=e.catch(13);case 20:if(!t||!this.password||y.hash(this.password)===t.value){e.next=22;break}throw _.default.newRxError("DB1",{passwordHash:y.hash(this.password),existingPasswordHash:t.value});case 22:if(!this.multiInstance){e.next=27;break}return e.next=25,x.default.create(this);case 25:this.socket=e.sent,this._subs.push(this.socket.messages$.subscribe(function(e){return r.$emit(e)}));case 27:case"end":return e.stop()}},e,this,[[4,10],[13,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"_spawnPouchDB",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return T(this.name,this.adapter,e,t,r)}},{key:"waitForLeadership",value:function(){var e=(0,u.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.multiInstance){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",this.leaderElector.waitForLeadership());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"writeToSocket",value:function(e){return this.multiInstance&&!e.isIntern()&&this.socket?this.socket.write(e).then(function(){return!0}):Promise.resolve(!1)}},{key:"$emit",value:function(e){e&&(this.subject.next(e),e.data.it===this.token&&this.writeToSocket(e))}},{key:"_collectionNamePrimary",value:function(e,t){return e+"-"+t.version}},{key:"removeCollectionDoc",value:function(e,t){var r=this,n=this._collectionNamePrimary(e,t);return this._collectionsPouch.get(n).then(function(e){return r.lockedRun(function(){return r._collectionsPouch.remove(e)})})}},{key:"_removeAllOfCollection",value:function(){var e=(0,u.default)(s.default.mark(function e(t){var r,n,o=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.lockedRun(function(){return o._collectionsPouch.allDocs({include_docs:!0})});case 2:return r=e.sent,n=r.rows.map(function(e){return e.doc}).filter(function(e){return e._id.split("-")[0]===t}),e.next=6,Promise.all(n.map(function(e){return o.lockedRun(function(){return o._collectionsPouch.remove(e)})}));case 6:return e.abrupt("return",n.map(function(e){return e.version}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"collection",value:function(){var e=(0,u.default)(s.default.mark(function e(t){var r,n,o,i,a,u,c=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=2;break}return e.abrupt("return",this.collections[t]);case 2:if(t.database=this,"_"!==t.name.charAt(0)){e.next=5;break}throw _.default.newRxError("DB2",{name:t.name});case 5:if(!this.collections[t.name]){e.next=7;break}throw _.default.newRxError("DB3",{name:t.name});case 7:if(t.schema){e.next=9;break}throw _.default.newRxError("DB4",{name:t.name,args:t});case 9:if(g.default.isInstanceOf(t.schema)||(t.schema=g.default.create(t.schema)),r=this._collectionNamePrimary(t.name,t.schema),!D().includes(t.name)){e.next=13;break}throw _.default.newRxError("DB5",{name:t.name});case 13:return n=t.schema.hash,o=null,e.prev=15,e.next=18,this.lockedRun(function(){return c._collectionsPouch.get(r)});case 18:o=e.sent,e.next=23;break;case 21:e.prev=21,e.t0=e.catch(15);case 23:if(!o||o.schemaHash===n){e.next=30;break}return i=this._spawnPouchDB(t.name,t.schema.version,t.pouchSettings),e.next=27,i.find({selector:{language:{$ne:"query"}},limit:1});case 27:if(0===e.sent.docs.length){e.next=30;break}throw _.default.newRxError("DB6",{name:t.name,previousSchemaHash:o.schemaHash,schemaHash:n});case 30:return e.next=32,m.default.create(t);case 32:if(a=e.sent,!(Object.keys(a.schema.encryptedPaths).length>0)||this.password){e.next=35;break}throw _.default.newRxError("DB7",{name:t.name});case 35:if(o){e.next=43;break}return e.prev=36,e.next=39,this.lockedRun(function(){return c._collectionsPouch.put({_id:r,schemaHash:n,schema:a.schema.normalized,version:a.schema.version})});case 39:e.next=43;break;case 41:e.prev=41,e.t1=e.catch(36);case 43:return(u=w.default.create("RxDatabase.collection",this)).data.v=a.name,u.data.col="_collections",this.$emit(u),this.collections[t.name]=a,this.__defineGetter__(t.name,function(){return c.collections[t.name]}),e.abrupt("return",a);case 50:case"end":return e.stop()}},e,this,[[15,21],[36,41]])}));return function(t){return e.apply(this,arguments)}}()},{key:"removeCollection",value:function(){var e=(0,u.default)(s.default.mark(function e(t){var r,n,o=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.collections[t]){e.next=3;break}return e.next=3,this.collections[t].destroy();case 3:return e.next=5,this._removeAllOfCollection(t);case 5:return r=e.sent,n=r.map(function(e){return o._spawnPouchDB(t,e)}),e.abrupt("return",Promise.all(n.map(function(e){return o.lockedRun(function(){return e.destroy()})})));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"lockedRun",value:function(e){return this.idleQueue.wrapCall(e)}},{key:"requestIdlePromise",value:function(){return this.idleQueue.requestIdlePromise()}},{key:"dump",value:function(){throw _.default.pluginMissing("json-dump")}},{key:"importDump",value:function(){throw _.default.pluginMissing("json-dump")}},{key:"destroy",value:function(){var e=(0,u.default)(s.default.mark(function e(){var t=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(A--,this.destroyed=!0,e.t0=this.socket,!e.t0){e.next=8;break}return e.next=8,this.socket.destroy();case 8:if(!this._leaderElector){e.next=11;break}return e.next=11,this._leaderElector.destroy();case 11:return this._subs.map(function(e){return e.unsubscribe()}),e.next=14,Promise.all(Object.keys(this.collections).map(function(e){return t.collections[e]}).map(function(e){return e.destroy()}));case 14:I(this.name,this.adapter);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=this;return this.destroy().then(function(){return d(e.name,e.adapter)})}},{key:"_adminPouch",get:function(){return this.__adminPouch||(this.__adminPouch=L(this.name,this.adapter)),this.__adminPouch}},{key:"_collectionsPouch",get:function(){return this.__collectionsPouch||(this.__collectionsPouch=F(this.name,this.adapter)),this.__collectionsPouch}},{key:"leaderElector",get:function(){return this._leaderElector||(this._leaderElector=k.default.createLeaderElector(this)),this._leaderElector}},{key:"isLeader",get:function(){return!this.multiInstance||this.leaderElector.isLeader}},{key:"$",get:function(){return this.observable$}}]),e}(),R=null;function D(){if(!R){var e=new P,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));R=[].concat((0,a.default)(t),(0,a.default)(r))}return R}function M(e,t){if(!C[e])return!1;var r=!1;if(C[e].forEach(function(e){e===t&&(r=!0)}),r)throw _.default.newRxError("DB8",{name:e,adapter:t,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}function I(e,t){if(C[e]){var r=C[e].indexOf(t);C[e].splice(r,1)}}function T(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i={location:e+"-rxdb-"+n+"-"+r,adapter:y.adapterObject(t),settings:o};return(0,j.runPluginHooks)("preCreatePouchDb",i),new v.default(i.location,i.adapter,i.settings)}function L(e,t){return T(e,t,"_admin",0,{auto_compaction:!1,revs_limit:1})}function F(e,t){return T(e,t,"_collections",0,{auto_compaction:!1,revs_limit:1})}function q(e){return e instanceof P}function B(){return A}r.RxSchema=g.default,r.default={create:f,removeDatabase:d,checkAdapter:h,isInstanceOf:q,RxDatabase:P,RxSchema:g.default,dbCount:B}},{"./hooks":7,"./overwritable":11,"./pouch-db":26,"./rx-change-event":30,"./rx-collection":31,"./rx-error":34,"./rx-schema":36,"./socket":37,"./util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/toConsumableArray":55,"babel-runtime/regenerator":57,"custom-idle-queue":487,"random-token":537,"rxjs/Subject":547,"rxjs/operators/filter":559}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RxDocument=void 0;var n=_(e("babel-runtime/helpers/toConsumableArray")),o=_(e("babel-runtime/regenerator")),i=_(e("babel-runtime/helpers/asyncToGenerator")),a=_(e("babel-runtime/helpers/typeof")),s=_(e("babel-runtime/helpers/classCallCheck")),u=_(e("babel-runtime/helpers/createClass"));r.create=g,r.createAr=w,r.properties=k,r.isInstanceOf=j;var c=_(e("object-path")),l=_(e("deep-equal")),f=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),d=_(e("./rx-change-event")),h=_(e("./rx-error")),p=e("./hooks"),b=e("rxjs/BehaviorSubject"),v=e("rxjs/operators/distinctUntilChanged"),y=e("rxjs/operators/map");function _(e){return e&&e.__esModule?e:{default:e}}var m=r.RxDocument=function(){function e(t,r){(0,s.default)(this,e),this.collection=t,this._isTemporary=!1,this._dataSync$=new b.BehaviorSubject(f.clone(r)),this._data=f.clone(r),this._atomicUpdates=[],this._atomicUpdatesResolveFunctions=new WeakMap,this._synced$=new b.BehaviorSubject(!0),this._deleted$=new b.BehaviorSubject(!1)}return(0,u.default)(e,[{key:"prepare",value:function(){this._defineGetterSetter(this,"")}},{key:"resync",value:function(){var e=this._dataSync$.getValue();this._synced$.getValue()&&(0,l.default)(e,this._data)||(this._data=f.clone(this._dataSync$.getValue()),this._synced$.next(!0))}},{key:"_handleChangeEvent",value:function(e){if(e.data.doc===this.primary)switch(e.data.op){case"INSERT":break;case"UPDATE":var t=f.clone(e.data.v),r=this._dataSync$.getValue(),n=this._data;(0,l.default)(r,n)?(this._data=t,!0!==this._synced$.getValue()&&this._synced$.next(!0)):(!1!==this._synced$.getValue()&&this._synced$.next(!1),this._data._rev=t._rev),this._dataSync$.next(f.clone(t));break;case"REMOVE":this.collection._docCache.delete(this.primary),this._deleted$.next(!0)}}},{key:"$emit",value:function(e){return this.collection.$emit(e)}},{key:"get$",value:function(e){if(e.includes(".item."))throw h.default.newRxError("DOC1",{path:e});if(e===this.primaryPath)throw h.default.newRxError("DOC2");if(this.collection.schema.finalFields.includes(e))throw h.default.newRxError("DOC3",{path:e});if(!this.collection.schema.getSchemaByObjectPath(e))throw h.default.newRxError("DOC4",{path:e});return this._dataSync$.pipe((0,y.map)(function(t){return c.default.get(t,e)}),(0,v.distinctUntilChanged)()).asObservable()}},{key:"populate",value:function(e){var t=this.collection.schema.getSchemaByObjectPath(e),r=this.get(e);if(!t)throw h.default.newRxError("DOC5",{path:e});if(!t.ref)throw h.default.newRxError("DOC6",{path:e,schemaObj:t});var n=this.collection.database.collections[t.ref];if(!n)throw h.default.newRxError("DOC7",{ref:t.ref,path:e,schemaObj:t});return"array"===t.type?Promise.all(r.map(function(e){return n.findOne(e).exec()})):n.findOne(r).exec()}},{key:"get",value:function(e){if(this._data){var t=c.default.get(this._data,e);return"object"!==(void 0===(t=f.clone(t))?"undefined":(0,a.default)(t))||Array.isArray(t)?t:(this._defineGetterSetter(t,e),t)}}},{key:"_defineGetterSetter",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(null!==e){var n=this.collection.schema.getSchemaByObjectPath(r);n.properties&&(n=n.properties),Object.keys(n).forEach(function(n){var o=f.trimDots(r+"."+n);e.__defineGetter__(n,function(){return t.get(o)}),Object.defineProperty(e,n+"$",{get:function(){return t.get$(o)},enumerable:!1,configurable:!1}),Object.defineProperty(e,n+"_",{get:function(){return t.populate(o)},enumerable:!1,configurable:!1}),e.__defineSetter__(n,function(e){return t.set(o,e)})})}}},{key:"toJSON",value:function(){return f.clone(this._data)}},{key:"set",value:function(e,t){if("string"!=typeof e)throw h.default.newRxTypeError("DOC15",{objPath:e,value:t});if(!this._isTemporary&&e===this.primaryPath)throw h.default.newRxError("DOC8",{objPath:e,value:t,primaryPath:this.primaryPath});if(!this._isTemporary&&this.collection.schema.finalFields.includes(e))throw h.default.newRxError("DOC9",{path:e,value:t});if(!Object.is(this.get(e),t)){var r=e.split(".");r.pop();var n=r.join(".");if(void 0===c.default.get(this._data,n))throw h.default.newRxError("DOC10",{childpath:e,rootPath:n});return this._isTemporary||this.collection.schema.validate(t,e),c.default.set(this._data,e,t),this}}},{key:"update",value:function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw h.default.pluginMissing("update");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"putAttachment",value:function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw h.default.pluginMissing("attachments");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAttachment",value:function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw h.default.pluginMissing("attachments");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"allAttachments",value:function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw h.default.pluginMissing("attachments");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"atomicUpdate",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var r,n=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._atomicUpdates.push(t),r=new Promise(function(e,r){n._atomicUpdatesResolveFunctions.set(t,{resolve:e,reject:r})}),this._runAtomicUpdates(),e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_runAtomicUpdates",value:function(){var e=(0,i.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.__runAtomicUpdates_running){e.next=4;break}return e.abrupt("return");case 4:this.__runAtomicUpdates_running=!0;case 5:if(0!==this._atomicUpdates.length){e.next=8;break}return this.__runAtomicUpdates_running=!1,e.abrupt("return");case 8:return t=this._atomicUpdates.shift(),e.prev=10,e.next=13,t(this);case 13:return e.next=15,this.save();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),this._atomicUpdatesResolveFunctions.get(t).reject(e.t0);case 20:this._atomicUpdatesResolveFunctions.get(t).resolve(this),this.__runAtomicUpdates_running=!1,this._runAtomicUpdates();case 23:case"end":return e.stop()}},e,this,[[10,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=(0,i.default)(o.default.mark(function e(){var t,r,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isTemporary){e.next=2;break}return e.abrupt("return",this._saveTemporary());case 2:if(!this._deleted$.getValue()){e.next=4;break}throw h.default.newRxError("DOC11",{id:this.primary,document:this});case 4:if(!(0,l.default)(this._data,this._dataSync$.getValue())){e.next=7;break}return this._synced$.next(!0),e.abrupt("return",!1);case 7:return e.next=9,this.collection._runHooks("pre","save",this);case 9:return this.collection.schema.validate(this._data),e.next=12,this.collection._pouchPut(f.clone(this._data));case 12:if((t=e.sent).ok){e.next=15;break}throw h.default.newRxError("DOC12",{data:t});case 15:return(r=f.clone(this._data))._rev=t.rev,this._data=r,e.next=20,this.collection._runHooks("post","save",this);case 20:return this._synced$.next(!0),this._dataSync$.next(f.clone(r)),n=d.default.create("UPDATE",this.collection.database,this.collection,this,r),this.$emit(n),e.abrupt("return",!0);case 25:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_saveTemporary",value:function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collection.insert(this);case 2:return this._isTemporary=!1,this.collection._docCache.set(this.primary,this),this._synced$.next(!0),this._dataSync$.next(f.clone(this._data)),e.abrupt("return",!0);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=(0,i.default)(o.default.mark(function e(){var t=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.deleted){e.next=2;break}throw h.default.newRxError("DOC13",{document:this,id:this.primary});case 2:return e.next=4,f.promiseWait(0);case 4:return e.next=6,this.collection._runHooks("pre","remove",this);case 6:return e.next=8,this.collection.database.lockedRun(function(){return t.collection.pouch.remove(t.primary,t._data._rev)});case 8:return this.$emit(d.default.create("REMOVE",this.collection.database,this.collection,this,this._data)),e.next=11,this.collection._runHooks("post","remove",this);case 11:return e.next=13,f.promiseWait(0);case 13:return e.abrupt("return");case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){throw h.default.newRxError("DOC14")}},{key:"primaryPath",get:function(){return this.collection.schema.primaryPath}},{key:"primary",get:function(){return this._data[this.primaryPath]}},{key:"revision",get:function(){return this._data._rev}},{key:"deleted$",get:function(){return this._deleted$.asObservable()}},{key:"deleted",get:function(){return this._deleted$.getValue()}},{key:"synced$",get:function(){return this._synced$.pipe((0,v.distinctUntilChanged)()).asObservable()}},{key:"synced",get:function(){return this._synced$.getValue()}},{key:"$",get:function(){return this._dataSync$.asObservable()}},{key:"allAttachments$",get:function(){throw h.default.pluginMissing("attachments")}}]),e}();function g(e,t){if(t[e.schema.primaryPath]&&t[e.schema.primaryPath].startsWith("_design"))return null;var r=new m(e,t);return r.prepare(),(0,p.runPluginHooks)("createRxDocument",r),r}function w(e,t){return t.map(function(t){return g(e,t)}).filter(function(e){return null!==e})}var x=void 0;function k(){if(!x){var e=new m,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));x=[].concat((0,n.default)(t),(0,n.default)(r),["deleted","synced"])}return x}function j(e){return e instanceof m}r.default={create:g,createAr:w,properties:k,RxDocument:m,isInstanceOf:j}},{"./hooks":7,"./rx-change-event":30,"./rx-error":34,"./util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/toConsumableArray":55,"babel-runtime/helpers/typeof":56,"babel-runtime/regenerator":57,"deep-equal":488,"object-path":503,"rxjs/BehaviorSubject":540,"rxjs/operators/distinctUntilChanged":558,"rxjs/operators/map":561}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.newRxTypeError=r.newRxError=r.RxTypeError=r.RxError=void 0;var n=c(e("babel-runtime/helpers/classCallCheck")),o=c(e("babel-runtime/helpers/createClass")),i=c(e("babel-runtime/helpers/possibleConstructorReturn")),a=c(e("babel-runtime/helpers/inherits"));r.pluginMissing=h;var s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),u=c(e("./overwritable"));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){return"RxError:\n"+e+"\n"+(r=t,n="",0===Object.keys(r).length?n:(n+="Given parameters: {\n",n+=Object.keys(r).map(function(e){var t="[object Object]";try{t=JSON.stringify(r[e],function(e,t){return void 0===t?null:t},2)}catch(e){}return e+":"+t}).join("\n"),n+="}"));var r,n},f=r.RxError=function(e){function t(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,n.default)(this,t);var a=l(r,o),s=(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return s.code=e,s.message=a,s.parameters=o,s.rxdb=!0,s}return(0,a.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return this.message}},{key:"name",get:function(){return"RxError"}},{key:"typeError",get:function(){return!1}}]),t}(Error),d=r.RxTypeError=function(e){function t(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,n.default)(this,t);var a=l(r,o),s=(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return s.code=e,s.message=a,s.parameters=o,s.rxdb=!0,s}return(0,a.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return this.message}},{key:"name",get:function(){return"RxError"}},{key:"typeError",get:function(){return!0}}]),t}(TypeError);function h(e){return new f("PU","You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n          - es5-require:\n            RxDB.plugin(require('rxdb/plugins/"+e+"'))\n          - es6-import:\n            import "+s.ucfirst(e)+"Plugin from 'rxdb/plugins/"+e+"';\n            RxDB.plugin("+s.ucfirst(e)+"Plugin);\n        ",{pluginKey:e})}var p=r.newRxError=function(e,t){return new f(e,u.default.tunnelErrorMessage(e),t)},b=r.newRxTypeError=function(e,t){return new d(e,u.default.tunnelErrorMessage(e),t)};r.default={newRxError:p,newRxTypeError:b,pluginMissing:h}},{"./overwritable":11,"./util":38,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RxQuery=void 0;var n=g(e("babel-runtime/helpers/typeof")),o=g(e("babel-runtime/regenerator")),i=g(e("babel-runtime/helpers/asyncToGenerator")),a=g(e("babel-runtime/helpers/defineProperty")),s=g(e("babel-runtime/helpers/classCallCheck")),u=g(e("babel-runtime/helpers/createClass"));r.create=S,r.isInstanceOf=E;var c=g(e("deep-equal")),l=g(e("custom-idle-queue")),f=g(e("./mquery/mquery")),d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),h=g(e("./query-change-detector")),p=g(e("./rx-error")),b=e("./hooks"),v=e("rxjs/observable/merge"),y=e("rxjs/BehaviorSubject"),_=e("rxjs/operators/mergeMap"),m=e("rxjs/operators/filter");function g(e){return e&&e.__esModule?e:{default:e}}var w=0,x=function(){return++w},k=r.RxQuery=function(){function e(t,r,n){(0,s.default)(this,e),this.op=t,this.collection=n,this.id=x(),r||(r=this._defaultQuery()),this.mquery=new f.default(r),this._queryChangeDetector=h.default.create(this),this._resultsData=null,this._results$=new y.BehaviorSubject(null),this._latestChangeEvent=-1,this._execOverDatabaseCount=0}return(0,u.default)(e,[{key:"_defaultQuery",value:function(){return(0,a.default)({},this.collection.schema.primaryPath,{})}},{key:"_clone",value:function(){var t=new e(this.op,this._defaultQuery(),this.collection);return t.mquery=this.mquery.clone(),t}},{key:"_tunnelQueryCache",value:function(){return this.collection._queryCache.getByQuery(this)}},{key:"toString",value:function(){if(!this.stringRep){var e=d.sortObject({op:this.op,options:this.mquery.options,_conditions:this.mquery._conditions,_path:this.mquery._path,_fields:this.mquery._fields},!0);this.stringRep=JSON.stringify(e,d.stringifyFilter)}return this.stringRep}},{key:"_isResultsInSync",value:function(){return this._latestChangeEvent>=this.collection._changeEventBuffer.counter}},{key:"_ensureEqual",value:function(){var e=(0,i.default)(o.default.mark(function e(){var t,r=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureEqualQueue.requestIdlePromise();case 2:return e.next=4,this._ensureEqualQueue.wrapCall(function(){return r.__ensureEqual()});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"__ensureEqual",value:function(){var e=(0,i.default)(o.default.mark(function e(){var t,r,n,i,a,s,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!this._isResultsInSync()){e.next=3;break}return e.abrupt("return",!1);case 3:if(r=!1,-1===this._latestChangeEvent&&(r=!0),r){e.next=19;break}if(null!==(n=this.collection._changeEventBuffer.getFrom(this._latestChangeEvent+1))){e.next=11;break}r=!0,e.next=19;break;case 11:if(this._latestChangeEvent=this.collection._changeEventBuffer.counter,i=this.collection._changeEventBuffer.reduceByLastOfDoc(n),a=this._queryChangeDetector.runChangeDetection(i),!Array.isArray(a)&&a&&(r=!0),!Array.isArray(a)||(0,c.default)(a,this._resultsData)){e.next=19;break}return t=!0,e.next=19,this._setResultData(a);case 19:if(!r){e.next=29;break}return s=this.collection._changeEventBuffer.counter,e.next=23,this._execOverDatabase();case 23:if(u=e.sent,this._latestChangeEvent=s,(0,c.default)(u,this._resultsData)){e.next=29;break}return t=!0,e.next=29,this._setResultData(u);case 29:return e.abrupt("return",t);case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_setResultData",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var r,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._resultsData=t,e.next=3,this.collection._createDocuments(this._resultsData);case 3:r=e.sent,n=r,"findOne"===this.op&&(n=0===r.length?null:r[0]),this._results$.next(n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_execOverDatabase",value:function(){this._execOverDatabaseCount=this._execOverDatabaseCount+1;var e=void 0;switch(this.op){case"find":e=this.collection._pouchFind(this);break;case"findOne":e=this.collection._pouchFind(this,1);break;default:throw p.default.newRxError("QU1",{op:this.op})}return e}},{key:"toJSON",value:function(){if(this._toJSON)return this._toJSON;var e=this.collection.schema.primaryPath,t={selector:this.mquery._conditions},r=this.mquery._optionsForExec();if(r.sort){var o=[];Object.keys(r.sort).map(function(t){var n="asc";-1===r.sort[t]&&(n="desc");var i={};t===e&&(t="_id"),i[t]=n,o.push(i)}),t.sort=o}else t.sort=[{_id:"asc"}];if(r.limit){if("number"!=typeof r.limit)throw p.default.newRxTypeError("QU2",{limit:r.limit});t.limit=r.limit}if(r.skip){if("number"!=typeof r.skip)throw p.default.newRxTypeError("QU3",{skip:r.skip});t.skip=r.skip}return t.selector.language||(t.selector.language={}),t.selector.language.$ne="query",Object.entries(t.selector).filter(function(e){return"object"===(0,n.default)(e[1])}).filter(function(e){return null!==e[1]}).filter(function(e){return!Array.isArray(e[1])}).filter(function(e){return 0===Object.keys(e[1]).length}).forEach(function(e){return delete t.selector[e[0]]}),"_id"!==e&&t.selector[e]&&(t.selector._id=t.selector[e],delete t.selector[e]),this._toJSON=t,this._toJSON}},{key:"keyCompress",value:function(){return this.collection.schema.doKeyCompression()?(this._keyCompress||(this._keyCompress=this.collection._keyCompressor.compressQuery(this.toJSON())),this._keyCompress):this.toJSON()}},{key:"remove",value:function(){var e=void 0;return this.exec().then(function(t){return e=t,Array.isArray(t)?Promise.all(t.map(function(e){return e.remove()})):t.remove()}).then(function(){return e})}},{key:"update",value:function(){throw p.default.pluginMissing("update")}},{key:"exec",value:function(){var e=(0,i.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0;case 1:if(!t){e.next=7;break}return e.next=4,this._ensureEqual();case 4:t=e.sent,e.next=1;break;case 7:return e.abrupt("return",this._results$.getValue());case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"regex",value:function(e){var t=this._clone();if(this.mquery._path===this.collection.schema.primaryPath)throw p.default.newRxError("QU4",{path:this.mquery._path});return t.mquery.regex(e),t._tunnelQueryCache()}},{key:"sort",value:function(e){var t=function(e){throw p.default.newRxError("QU5",{key:e})},r=this._clone();if("object"!==(void 0===e?"undefined":(0,n.default)(e))){var o="-"===e.charAt(0)?e.substring(1):e;if(!r.mquery._conditions[o]){var i=r.collection.schema.getSchemaByObjectPath(o);i||t(o),"integer"===i.type?r.mquery.where(o).gt(-1e28):r.mquery.where(o).gt(null)}}else Object.keys(e).filter(function(e){return!r.mquery._conditions[e]||!r.mquery._conditions[e].$gt}).forEach(function(e){var n=r.collection.schema.getSchemaByObjectPath(e);n||t(e),"integer"===n.type?r.mquery.where(e).gt(-1e28):r.mquery.where(e).gt(null)});return r.mquery.sort(e),r._tunnelQueryCache()}},{key:"limit",value:function(e){if("findOne"===this.op)throw p.default.newRxError("QU6");var t=this._clone();return t.mquery.limit(e),t._tunnelQueryCache()}},{key:"_ensureEqualQueue",get:function(){return this.__ensureEqualQueue||(this.__ensureEqualQueue=new l.default),this.__ensureEqualQueue}},{key:"$",get:function(){var e,t=this;if(!this._$){var r=this._results$.pipe((0,_.mergeMap)((e=(0,i.default)(o.default.mark(function e(r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._ensureEqual();case 2:if(!e.sent){e.next=7;break}return e.abrupt("return","WAITFORNEXTEMIT");case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)})),(0,m.filter)(function(e){return"WAITFORNEXTEMIT"!==e})).asObservable(),n=this.collection.$.pipe((0,m.filter)(function(e){return["INSERT","UPDATE","REMOVE"].includes(e.data.op)}),(0,m.filter)(function(){return t._ensureEqual(),!1}));this._$=(0,v.merge)(r,n)}return this._$}}]),e}(),j=function(e,t){t.filter(function(e){return!e.startsWith("_")}).filter(function(t){return!e[t]}).forEach(function(t){e[t]=function(e){var r=this._clone();return r.mquery[t](e),r._tunnelQueryCache()}})},O=!1;function S(e,t,r){if(t&&"object"!==(void 0===t?"undefined":(0,n.default)(t)))throw p.default.newRxTypeError("QU7",{queryObj:t});if(Array.isArray(t))throw p.default.newRxTypeError("QU8",{queryObj:t});var o=new k(e,t,r);return o=o._tunnelQueryCache(),O||(O=!0,j(Object.getPrototypeOf(o),Object.getOwnPropertyNames(o.mquery.__proto__))),(0,b.runPluginHooks)("createRxQuery",o),o}function E(e){return e instanceof k}r.default={create:S,RxQuery:k,isInstanceOf:E}},{"./hooks":7,"./mquery/mquery":9,"./query-change-detector":28,"./rx-error":34,"./util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/defineProperty":52,"babel-runtime/helpers/typeof":56,"babel-runtime/regenerator":57,"custom-idle-queue":487,"deep-equal":488,"rxjs/BehaviorSubject":540,"rxjs/observable/merge":556,"rxjs/operators/filter":559,"rxjs/operators/mergeMap":563}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RxSchema=void 0;var n=l(e("babel-runtime/helpers/typeof")),o=l(e("babel-runtime/helpers/classCallCheck")),i=l(e("babel-runtime/helpers/createClass"));r.getEncryptedPaths=d,r.hasCrypt=h,r.getIndexes=p,r.getPrimary=b,r.getFinalFields=v,r.normalize=y,r.create=m,r.isInstanceOf=g;var a=l(e("object-path")),s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),u=l(e("./rx-error")),c=e("./hooks");function l(e){return e&&e.__esModule?e:{default:e}}var f=r.RxSchema=function(){function e(t){var r=this;(0,o.default)(this,e),this.jsonID=t,this.compoundIndexes=this.jsonID.compoundIndexes,this.indexes=p(this.jsonID),this.indexes.forEach(function(e){e.filter(function(e){return!r.jsonID.required.includes(e)}).filter(function(e){return!e.includes(".")}).forEach(function(e){return r.jsonID.required.push(e)})}),this.primaryPath=b(this.jsonID),this.primaryPath&&this.jsonID.required.push(this.primaryPath),this.finalFields=v(this.jsonID),this.jsonID.required=this.jsonID.required.concat(this.finalFields).filter(function(e,t,r){return r.indexOf(e)===t}),this.jsonID.properties[this.primaryPath]||(this.jsonID.properties[this.primaryPath]={type:"string",minLength:1})}return(0,i.default)(e,[{key:"getSchemaByObjectPath",value:function(e){return e="properties."+(e=e.replace(/\./g,".properties.")),e=s.trimDots(e),a.default.get(this.jsonID,e)}},{key:"validate",value:function(){throw u.default.pluginMissing("validate")}},{key:"fillObjectWithDefaults",value:function(e){return e=s.clone(e),Object.entries(this.defaultValues).filter(function(t){return!e.hasOwnProperty(t[0])}).forEach(function(t){e[t[0]]=t[1]}),e}},{key:"swapIdToPrimary",value:function(e){return"_id"===this.primaryPath||e[this.primaryPath]?e:(e[this.primaryPath]=e._id,delete e._id,e)}},{key:"swapPrimaryToId",value:function(e){var t=this;if("_id"===this.primaryPath)return e;var r={};return Object.entries(e).forEach(function(e){var n=e[0]===t.primaryPath?"_id":e[0];r[n]=e[1]}),r}},{key:"doKeyCompression",value:function(){return!this.jsonID.disableKeyCompression}},{key:"version",get:function(){return this.jsonID.version}},{key:"previousVersions",get:function(){var e=0;return new Array(this.version).fill(0).map(function(){return e++})}},{key:"crypt",get:function(){return this._crypt||(this._crypt=h(this.jsonID)),this._crypt}},{key:"normalized",get:function(){return this._normalized||(this._normalized=y(this.jsonID)),this._normalized}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var e=this;return this._defaultValues||(this._defaultValues={},Object.entries(this.normalized.properties).filter(function(e){return e[1].default}).forEach(function(t){return e._defaultValues[t[0]]=t[1].default})),this._defaultValues}},{key:"encryptedPaths",get:function(){return this._encryptedPaths||(this._encryptedPaths=d(this.jsonID)),this._encryptedPaths}},{key:"hash",get:function(){return this._hash||(this._hash=s.hash(this.normalized)),this._hash}}]),e}();function d(e){var t={};return function e(r,o){if("object"===(void 0===r?"undefined":(0,n.default)(r)))if(r.encrypted)t[o.substring(1)]=r;else for(var i in r){var a=o;"properties"!==i&&(a=a+"."+i),e(r[i],a)}}(e.properties,""),t}function h(e){var t=d(e);return Object.keys(t).length>0}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=[];if(Object.entries(e).forEach(function(e){var o=e[0],i=e[1],a="properties"===o?t:s.trimDots(t+"."+o);if(i.index&&r.push([a]),"object"===(void 0===i?"undefined":(0,n.default)(i))&&!Array.isArray(i)){var u=p(i,a);r=r.concat(u)}}),""===t){var o=e.compoundIndexes||[];r=r.concat(o)}return r=r.filter(function(e,t,r){return r.indexOf(e)===t})}function b(e){var t=Object.keys(e.properties).filter(function(t){return e.properties[t].primary}).shift();return t||"_id"}function v(e){return Object.keys(e.properties).filter(function(t){return e.properties[t].final})}function y(e){return s.sortObject(s.clone(e))}var _=function(e){return(e=s.clone(e)).additionalProperties=!1,e.hasOwnProperty("disableKeyCompression")||(e.disableKeyCompression=!1),e.compoundIndexes=e.compoundIndexes||[],e.required=e.required||[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.version=e.version||0,e};function m(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(0,c.runPluginHooks)("preCreateRxSchema",e);var t=new f(_(e));return(0,c.runPluginHooks)("createRxSchema",t),t}function g(e){return e instanceof f}r.default={RxSchema:f,getEncryptedPaths:d,hasCrypt:h,getIndexes:p,getPrimary:b,getFinalFields:v,normalize:y,create:m,isInstanceOf:g}},{"./hooks":7,"./rx-error":34,"./util":38,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/typeof":56,"object-path":503}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PULL_TIME=r.EVENT_TTL=void 0;var n=d(e("babel-runtime/regenerator")),o=d(e("babel-runtime/helpers/asyncToGenerator")),i=d(e("babel-runtime/helpers/classCallCheck")),a=d(e("babel-runtime/helpers/createClass"));r.create=v;var s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./util")),u=d(e("./rx-change-event")),c=d(e("./rx-broadcast-channel")),l=e("rxjs/Subject"),f=e("rxjs/operators/filter");function d(e){return e&&e.__esModule?e:{default:e}}var h="_local/last-change",p=c.default.canIUse()?2500:200,b=function(){function e(t){(0,i.default)(this,e),this._destroyed=!1,this.database=t,this.token=t.token,this.subs=[],this.pullCount=0,this.pull_running=!1,this.lastPull=(new Date).getTime(),this.lastTimestamp=0,this.receivedEvents={},this.bc=c.default.create(this.database,"socket"),this.messages$=new l.Subject}return(0,a.default)(e,[{key:"prepare",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pouch=this.database._spawnPouchDB("_socket",0,{auto_compaction:!1,revs_limit:1}),this.bc&&this.subs.push(this.bc.$.pipe((0,f.filter)(function(e){return"pull"===e.type})).subscribe(function(){return t.pull()})),(0,o.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._destroyed){e.next=8;break}return e.next=3,s.promiseWait(p);case 3:if(!(t.messages$.observers.length>0)||t._destroyed){e.next=6;break}return e.next=6,t.pull();case 6:e.next=0;break;case 8:case"end":return e.stop()}},e,t)}))(),e.abrupt("return",this);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"write",value:function(){var e=(0,o.default)(n.default.mark(function e(t){var r,o=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete(r=t.toJSON()).db,r._id=""+s.fastUnsecureHash(r)+r.t,e.next=5,this.database.lockedRun(function(){return o.pouch.put(r)});case 5:return e.next=7,this._updateLastTimestamp();case 7:if(e.t0=this.bc,!e.t0){e.next=11;break}return e.next=11,this.bc.write("pull");case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_getLastTimeDoc",value:function(){return this.pouch.get(h).catch(function(){return null})}},{key:"_updateLastTimestampRun",value:function(){var e=this,t=(new Date).getTime();return this._getLastTimeDoc().then(function(r){return r?(r.time=t,e.pouch.put(r)):e.pouch.put({_id:h,time:t})})}},{key:"_updateLastTimestamp",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!1;case 1:if(t){e.next=12;break}return e.prev=2,e.next=5,this._updateLastTimestampRun();case 5:t=!0,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:e.next=1;break;case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDocs",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t,r,o,i=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLastTimeDoc();case 2:if(t=e.sent,r=t?t.time:0,!(this.lastTimestamp>=r)){e.next=8;break}return e.abrupt("return",[]);case 8:return this.lastTimestamp=r,e.next=11,this.database.lockedRun(function(){return i.pouch.allDocs({include_docs:!0})});case 11:return o=e.sent,e.abrupt("return",o.rows.map(function(e){return e.doc}));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"deleteDoc",value:function(){var e=(0,o.default)(n.default.mark(function e(t){var r,o=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,e.prev=1,e.next=4,this.database.lockedRun(function(){return o.pouch.remove(t)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),r=!1;case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_cleanupDocs",value:function(e){var t=this;e.forEach(function(e){t.database.requestIdlePromise().then(function(){t._destroyed||t.deleteDoc(e)})}),e.length>0&&this.database.requestIdlePromise().then(function(){t._destroyed||t.database.lockedRun(function(){return t.pouch.compact()})})}},{key:"pull",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t,r,o,i,a=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPulling){e.next=3;break}return this._repullAfter=!0,e.abrupt("return",!1);case 3:return this.isPulling=!0,this.pullCount++,e.next=7,s.requestIdlePromise(2500);case 7:if(!this._destroyed){e.next=9;break}return e.abrupt("return");case 9:return t=this.lastPull-100,this.lastPull=(new Date).getTime(),e.next=13,this.fetchDocs();case 13:if(r=e.sent,!this._destroyed){e.next=16;break}return e.abrupt("return");case 16:if(r.filter(function(e){return e.it!==a.token}).filter(function(e){return e.t>t}).sort(function(e,t){return e.t>t.t?1:-1}).map(function(e){return u.default.fromJSON(e)}).filter(function(e){return!a.receivedEvents[e.hash]&&(a.receivedEvents[e.hash]=(new Date).getTime())}).filter(function(e){return setTimeout(function(){return delete a.receivedEvents[e.hash]},15e3)}).forEach(function(e){return a.messages$.next(e)}),!this._destroyed){e.next=19;break}return e.abrupt("return");case 19:return o=(new Date).getTime()-5e3,i=r.filter(function(e){return e.t<o}),this._cleanupDocs(i),this.isPulling=!1,this._repull&&(this._repull=!1,this.pull()),e.abrupt("return",!0);case 25:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=(0,o.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._destroyed=!0,this.subs.map(function(e){return e.unsubscribe()}),this.bc&&this.bc.destroy();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"$",get:function(){return this._$||(this._$=this.messages$.asObservable()),this._$}}]),e}();function v(e){return new b(e).prepare()}r.EVENT_TTL=5e3,r.PULL_TIME=p,r.default={create:v,EVENT_TTL:5e3,PULL_TIME:p}},{"./rx-broadcast-channel":29,"./rx-change-event":30,"./util":38,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/regenerator":57,"rxjs/Subject":547,"rxjs/operators/filter":559}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.clone=r.requestIdlePromise=r.promiseWait=void 0;var n,o,i=d(e("babel-runtime/helpers/typeof")),a=d(e("babel-runtime/regenerator")),s=d(e("babel-runtime/helpers/asyncToGenerator"));r.promiseWait=(n=(0,s.default)(a.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return setTimeout(e,t)}));case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)}),r.requestIdlePromise=(o=(0,s.default)(a.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("object"!==("undefined"==typeof window?"undefined":(0,i.default)(window))||!window.requestIdleCallback){e.next=4;break}return e.abrupt("return",new Promise(function(e){return window.requestIdleCallback(e,{timeout:t})}));case 4:return e.abrupt("return",new Promise(function(e){return setTimeout(e,0)}));case 5:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)});r.isLevelDown=function(e){if(!e||"function"!=typeof e.super_||"function"!=typeof e.destroy)throw c.default.newRxError("UT4",{adapter:e})},r.fastUnsecureHash=function(e){"string"!=typeof e&&(e=JSON.stringify(e));var t=0,r=void 0,n=void 0,o=void 0;if(0===e.length)return t;for(r=0,o=e.length;r<o;r++)n=e.charCodeAt(r),t=(t<<5)-t+n,t|=0;t<0&&(t*=-1);return t},r.hash=function(e){var t=e;"string"!=typeof e&&(t=JSON.stringify(e));return f.default.hash(t)},r.generateId=function(){return(0,u.default)(10)+":"+(new Date).getTime()},r.nextTick=function(){return new Promise(function(e){return setTimeout(e,0)})},r.requestIdleCallbackIfAvailable=function(e){"object"===("undefined"==typeof window?"undefined":(0,i.default)(window))&&window.requestIdleCallback&&window.requestIdleCallback(e)},r.ucfirst=function(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)},r.numberToLetter=function(e){var t=[];do{var r=e%p;t.push(r),e=Math.floor(e/p)}while(e-- >0);return t.reverse().map(function(e){return h[e]}).join("")},r.trimDots=function(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e},r.validateCouchDBString=function(e){if("string"!=typeof e||0===e.length)throw c.default.newRxTypeError("UT1",{name:e});if(e.includes("/")||e.includes("\\"))return!0;var t="^[a-z][a-z0-9]*$",r=new RegExp(t);if(!e.match(r))throw new c.default.newRxError("UT2",{regex:t,givenName:e});return!0},r.sortObject=function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return t;if(!r&&Array.isArray(t))return t.sort(function(e,t){return"string"==typeof e&&"string"==typeof t?e.localeCompare(t):"object"===(void 0===e?"undefined":(0,i.default)(e))?1:-1}).map(function(t){return e(t)});if("object"===(void 0===t?"undefined":(0,i.default)(t))){if(t instanceof RegExp)return t;var n={};return Object.keys(t).sort(function(e,t){return e.localeCompare(t)}).forEach(function(r){n[r]=e(t[r])}),n}return t},r.stringifyFilter=function(e,t){return t instanceof RegExp?t.toString():t},r.pouchReplicationFunction=function(e,t){var r=t.pull,n=void 0===r||r,o=t.push,i=void 0===o||o;if(n&&i)return e.sync.bind(e);if(!n&&i)return e.replicate.to.bind(e);if(n&&!i)return e.replicate.from.bind(e);if(!n&&!i)throw c.default.newRxError("UT3",{pull:n,push:i})},r.randomCouchString=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",r="abcdefghijklmnopqrstuvwxyz",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t},r.shuffleArray=function(e){return e.sort(function(){return Math.random()-.5})},r.adapterObject=function(e){var t={db:e};"string"==typeof e&&(t={adapter:e});return t};var u=d(e("random-token")),c=d(e("./rx-error")),l=d(e("clone")),f=d(e("spark-md5"));function d(e){return e&&e.__esModule?e:{default:e}}var h="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789",p=h.length;r.clone=function(e){return e?(0,l.default)(e,!1):e}},{"./rx-error":34,"babel-runtime/helpers/asyncToGenerator":49,"babel-runtime/helpers/typeof":56,"babel-runtime/regenerator":57,clone:60,"random-token":537,"spark-md5":589}],39:[function(e,t,r){"use strict";t.exports=function(e){return function(){var t=arguments.length;if(t){for(var r=[],n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}return e.call(this,[])}}},{}],40:[function(e,t,r){(function(t){"use strict";if(e("core-js/shim"),e("regenerator-runtime/runtime"),e("core-js/fn/regexp/escape"),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";function n(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&n(Array,e,Function.call.bind([][e]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/fn/regexp/escape":61,"core-js/shim":477,"regenerator-runtime/runtime":41}],41:[function(e,t,r){(function(e){!function(e){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=g;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",b={},v={};v[a]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(R([])));_&&_!==n&&o.call(_,a)&&(v=_);var m=j.prototype=x.prototype=Object.create(v);k.prototype=m.constructor=j,j.constructor=k,j[u]=k.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(m),e},l.awrap=function(e){return{__await:e}},O(S.prototype),S.prototype[s]=function(){return this},l.AsyncIterator=S,l.async=function(e,t,r,n){var o=new S(g(e,t,r,n));return l.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},O(m),m[u]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=R,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),b}}}function g(e,t,r,n){var o,i,a,s,u=t&&t.prototype instanceof x?t:x,c=Object.create(u.prototype),l=new P(n||[]);return c._invoke=(o=e,i=r,a=l,s=f,function(e,t){if(s===h)throw new Error("Generator is already running");if(s===p){if("throw"===e)throw t;return D()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){var n=E(r,a);if(n){if(n===b)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=h;var u=w(o,i,a);if("normal"===u.type){if(s=a.done?p:d,u.arg===b)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=p,a.method="throw",a.arg=u.arg)}}),c}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function x(){}function k(){}function j(){}function O(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(t){function r(e,n,i,a){var s=w(t[e],t,n);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(e){r("next",e,i,a)},function(e){r("throw",e,i,a)}):Promise.resolve(c).then(function(e){u.value=e,i(u)},a)}a(s.arg)}var n;"object"==typeof e.process&&e.process.domain&&(r=e.process.domain.bind(r)),this._invoke=function(e,t){function o(){return new Promise(function(n,o){r(e,t,n,o)})}return n=n?n.then(o,o):o()}}function E(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,E(e,t),"throw"===t.method))return b;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var o=w(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,b;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,b):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:D}}function D(){return{value:r,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(e,t,r){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":62}],43:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":63}],44:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":64}],45:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":65}],46:[function(e,t,r){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":66}],47:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":67}],48:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":68}],49:[function(e,t,r){"use strict";r.__esModule=!0;var n,o=e("../core-js/promise"),i=(n=o)&&n.__esModule?n:{default:n};r.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,r){return function n(o,a){try{var s=t[o](a),u=s.value}catch(e){return void r(e)}if(!s.done)return i.default.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}},{"../core-js/promise":46}],50:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],51:[function(e,t,r){"use strict";r.__esModule=!0;var n,o=e("../core-js/object/define-property"),i=(n=o)&&n.__esModule?n:{default:n};r.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"../core-js/object/define-property":44}],52:[function(e,t,r){"use strict";r.__esModule=!0;var n,o=e("../core-js/object/define-property"),i=(n=o)&&n.__esModule?n:{default:n};r.default=function(e,t,r){return t in e?(0,i.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},{"../core-js/object/define-property":44}],53:[function(e,t,r){"use strict";r.__esModule=!0;var n=a(e("../core-js/object/set-prototype-of")),o=a(e("../core-js/object/create")),i=a(e("../helpers/typeof"));function a(e){return e&&e.__esModule?e:{default:e}}r.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},{"../core-js/object/create":43,"../core-js/object/set-prototype-of":45,"../helpers/typeof":56}],54:[function(e,t,r){"use strict";r.__esModule=!0;var n,o=e("../helpers/typeof"),i=(n=o)&&n.__esModule?n:{default:n};r.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":56}],55:[function(e,t,r){"use strict";r.__esModule=!0;var n,o=e("../core-js/array/from"),i=(n=o)&&n.__esModule?n:{default:n};r.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,i.default)(e)}},{"../core-js/array/from":42}],56:[function(e,t,r){"use strict";r.__esModule=!0;var n=a(e("../core-js/symbol/iterator")),o=a(e("../core-js/symbol")),i="function"==typeof o.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}r.default="function"==typeof o.default&&"symbol"===i(n.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},{"../core-js/symbol":47,"../core-js/symbol/iterator":48}],57:[function(e,t,r){t.exports=e("regenerator-runtime")},{"regenerator-runtime":538}],58:[function(e,t,r){"use strict";r.byteLength=function(e){return 3*e.length/4-c(e)},r.toByteArray=function(e){var t,r,n,a,s,u=e.length;a=c(e),s=new i(3*u/4-a),r=a>0?u-4:u;var l=0;for(t=0;t<r;t+=4)n=o[e.charCodeAt(t)]<<18|o[e.charCodeAt(t+1)]<<12|o[e.charCodeAt(t+2)]<<6|o[e.charCodeAt(t+3)],s[l++]=n>>16&255,s[l++]=n>>8&255,s[l++]=255&n;2===a?(n=o[e.charCodeAt(t)]<<2|o[e.charCodeAt(t+1)]>>4,s[l++]=255&n):1===a&&(n=o[e.charCodeAt(t)]<<10|o[e.charCodeAt(t+1)]<<4|o[e.charCodeAt(t+2)]>>2,s[l++]=n>>8&255,s[l++]=255&n);return s},r.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i="",a=[],s=0,u=r-o;s<u;s+=16383)a.push(l(e,s,s+16383>u?u:s+16383));1===o?(t=e[r-1],i+=n[t>>2],i+=n[t<<4&63],i+="=="):2===o&&(t=(e[r-2]<<8)+e[r-1],i+=n[t>>10],i+=n[t>>4&63],i+=n[t<<2&63],i+="=");return a.push(i),a.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function l(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16)+(e[s+1]<<8)+e[s+2],a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],59:[function(e,t,r){"use strict";var n=e("base64-js"),o=e("ieee754");r.Buffer=s,r.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},r.INSPECT_MAX_BYTES=50;var i=2147483647;function a(e){if(e>i)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(e)}return u(e,t,r)}function u(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return L(e)?function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(r||0))throw new RangeError("'length' is out of bounds");var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=s.prototype,n}(e,t,r):"string"==typeof e?function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!s.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(e,t),n=a(r),o=n.write(e,t);o!==r&&(n=n.slice(0,o));return n}(e,t):function(e){if(s.isBuffer(e)){var t=0|d(e.length),r=a(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(e){if(F(e)||"length"in e)return"number"!=typeof e.length||q(e.length)?a(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e){return c(e),a(e<0?0:0|d(e))}function f(e){for(var t=e.length<0?0:0|d(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(F(e)||L(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return I(e).length;default:if(n)return M(e).length;t=(""+t).toLowerCase(),n=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),q(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,o){var i,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=r;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var f=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){f=!1;break}if(f)return i}return-1}function y(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(q(s))return a;e[r+a]=s}return a}function _(e,t,r,n){return T(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function m(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function g(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,u,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=f}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=w));return r}(n)}r.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,r){return u(e,t,r)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,r){return o=t,i=r,c(n=e),n<=0?a(n):void 0!==o?"string"==typeof i?a(n).fill(o,i):a(n).fill(o):a(n);var n,o,i},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=s.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?g(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return g(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return k(this,t,r);case"base64":return m(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,r,n,o){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var i=o-n,a=r-t,u=Math.min(i,a),c=this.slice(n,o),l=e.slice(t,r),f=0;f<u;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i,a,s,u,c,l,f,d,h,p=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return d=t,h=r,T(M(e,(f=this).length-d),f,d,h);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return u=this,c=t,l=r,T(I(e),u,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a=t,s=r,T(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,(i=this).length-a),i,a,s);default:if(p)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function x(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function k(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function j(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=D(e[i]);return o}function O(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function S(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function E(e,t,r,n,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function A(e,t,r,n,i){return t=+t,r>>>=0,i||C(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function P(e,t,r,n,i){return t=+t,r>>>=0,i||C(e,0,r,8),o.write(e,t,r,n,52,8),r+8}s.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=s.prototype,n},s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},s.prototype.readUInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||S(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||S(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||S(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||S(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||S(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||S(e,8,this.length),o.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||E(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||E(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);E(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);E(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return A(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return A(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=s.isBuffer(e)?e:new s(e,n),u=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%u]}return this};var R=/[^+/0-9A-Za-z-_]/g;function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function M(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function I(e){return n.toByteArray(function(e){if((e=e.trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function T(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function L(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function F(e){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(e)}function q(e){return e!=e}},{"base64-js":58,ieee754:494}],60:[function(e,t,r){(function(e){var r=function(){"use strict";function t(e,t){return null!=t&&e instanceof t}var r,n,o;try{r=Map}catch(e){r=function(){}}try{n=Set}catch(e){n=function(){}}try{o=Promise}catch(e){o=function(){}}function i(a,u,c,l,f){"object"==typeof u&&(c=u.depth,l=u.prototype,f=u.includeNonEnumerable,u=u.circular);var d=[],h=[],p=void 0!==e;return void 0===u&&(u=!0),void 0===c&&(c=1/0),function a(c,b){if(null===c)return null;if(0===b)return c;var v,y;if("object"!=typeof c)return c;if(t(c,r))v=new r;else if(t(c,n))v=new n;else if(t(c,o))v=new o(function(e,t){c.then(function(t){e(a(t,b-1))},function(e){t(a(e,b-1))})});else if(i.__isArray(c))v=[];else if(i.__isRegExp(c))v=new RegExp(c.source,s(c)),c.lastIndex&&(v.lastIndex=c.lastIndex);else if(i.__isDate(c))v=new Date(c.getTime());else{if(p&&e.isBuffer(c))return v=new e(c.length),c.copy(v),v;t(c,Error)?v=Object.create(c):void 0===l?(y=Object.getPrototypeOf(c),v=Object.create(y)):(v=Object.create(l),y=l)}if(u){var _=d.indexOf(c);if(-1!=_)return h[_];d.push(c),h.push(v)}for(var m in t(c,r)&&c.forEach(function(e,t){var r=a(t,b-1),n=a(e,b-1);v.set(r,n)}),t(c,n)&&c.forEach(function(e){var t=a(e,b-1);v.add(t)}),c){var g;y&&(g=Object.getOwnPropertyDescriptor(y,m)),g&&null==g.set||(v[m]=a(c[m],b-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);for(m=0;m<w.length;m++){var x=w[m];(!(j=Object.getOwnPropertyDescriptor(c,x))||j.enumerable||f)&&(v[x]=a(c[x],b-1),j.enumerable||Object.defineProperty(v,x,{enumerable:!1}))}}if(f){var k=Object.getOwnPropertyNames(c);for(m=0;m<k.length;m++){var j,O=k[m];(j=Object.getOwnPropertyDescriptor(c,O))&&j.enumerable||(v[O]=a(c[O],b-1),Object.defineProperty(v,O,{enumerable:!1}))}}return v}(a,c)}function a(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=a,i.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},i.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},i.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},i.__getRegExpFlags=s,i}();"object"==typeof t&&t.exports&&(t.exports=r)}).call(this,e("buffer").Buffer)},{buffer:59}],61:[function(e,t,r){e("../../modules/core.regexp.escape"),t.exports=e("../../modules/_core").RegExp.escape},{"../../modules/_core":176,"../../modules/core.regexp.escape":280}],62:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":76,"../../modules/es6.array.from":142,"../../modules/es6.string.iterator":149}],63:[function(e,t,r){e("../../modules/es6.object.create");var n=e("../../modules/_core").Object;t.exports=function(e,t){return n.create(e,t)}},{"../../modules/_core":76,"../../modules/es6.object.create":144}],64:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":76,"../../modules/es6.object.define-property":145}],65:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":76,"../../modules/es6.object.set-prototype-of":146}],66:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),e("../modules/es7.promise.finally"),e("../modules/es7.promise.try"),t.exports=e("../modules/_core").Promise},{"../modules/_core":76,"../modules/es6.object.to-string":147,"../modules/es6.promise":148,"../modules/es6.string.iterator":149,"../modules/es7.promise.finally":151,"../modules/es7.promise.try":152,"../modules/web.dom.iterable":155}],67:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":76,"../../modules/es6.object.to-string":147,"../../modules/es6.symbol":150,"../../modules/es7.symbol.async-iterator":153,"../../modules/es7.symbol.observable":154}],68:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":139,"../../modules/es6.string.iterator":149,"../../modules/web.dom.iterable":155}],69:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],70:[function(e,t,r){t.exports=function(){}},{}],71:[function(e,t,r){t.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},{}],72:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":96}],73:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-absolute-index");t.exports=function(e){return function(t,r,a){var s,u=n(t),c=o(u.length),l=i(a,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}},{"./_to-absolute-index":131,"./_to-iobject":133,"./_to-length":134}],74:[function(e,t,r){var n=e("./_cof"),o=e("./_wks")("toStringTag"),i="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},{"./_cof":75,"./_wks":140}],75:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],76:[function(e,t,r){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},{}],77:[function(e,t,r){"use strict";var n=e("./_object-dp"),o=e("./_property-desc");t.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},{"./_object-dp":108,"./_property-desc":120}],78:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":69}],79:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],80:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":85}],81:[function(e,t,r){var n=e("./_is-object"),o=e("./_global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":87,"./_is-object":96}],82:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],83:[function(e,t,r){var n=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=n(e),r=o.f;if(r)for(var a,s=r(e),u=i.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},{"./_object-gops":113,"./_object-keys":116,"./_object-pie":117}],84:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_ctx"),a=e("./_hide"),s="prototype",u=function(e,t,r){var c,l,f,d=e&u.F,h=e&u.G,p=e&u.S,b=e&u.P,v=e&u.B,y=e&u.W,_=h?o:o[t]||(o[t]={}),m=_[s],g=h?n:p?n[t]:(n[t]||{})[s];for(c in h&&(r=t),r)(l=!d&&g&&void 0!==g[c])&&c in _||(f=l?g[c]:r[c],_[c]=h&&"function"!=typeof g[c]?r[c]:v&&l?i(f,n):y&&g[c]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[s]=e[s],t}(f):b&&"function"==typeof f?i(Function.call,f):f,b&&((_.virtual||(_.virtual={}))[c]=f,e&u.R&&m&&!m[c]&&a(m,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":76,"./_ctx":78,"./_global":87,"./_hide":89}],85:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],86:[function(e,t,r){var n=e("./_ctx"),o=e("./_iter-call"),i=e("./_is-array-iter"),a=e("./_an-object"),s=e("./_to-length"),u=e("./core.get-iterator-method"),c={},l={};(r=t.exports=function(e,t,r,f,d){var h,p,b,v,y=d?function(){return e}:u(e),_=n(r,f,t?2:1),m=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(h=s(e.length);h>m;m++)if((v=t?_(a(p=e[m])[0],p[1]):_(e[m]))===c||v===l)return v}else for(b=y.call(e);!(p=b.next()).done;)if((v=o(b,_,p.value,t))===c||v===l)return v}).BREAK=c,r.RETURN=l},{"./_an-object":72,"./_ctx":78,"./_is-array-iter":94,"./_iter-call":97,"./_to-length":134,"./core.get-iterator-method":141}],87:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],88:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],89:[function(e,t,r){var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":80,"./_object-dp":108,"./_property-desc":120}],90:[function(e,t,r){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":87}],91:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":80,"./_dom-create":81,"./_fails":85}],92:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],93:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":75}],94:[function(e,t,r){var n=e("./_iterators"),o=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},{"./_iterators":102,"./_wks":140}],95:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":75}],96:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],97:[function(e,t,r){var n=e("./_an-object");t.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},{"./_an-object":72}],98:[function(e,t,r){"use strict";var n=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},{"./_hide":89,"./_object-create":107,"./_property-desc":120,"./_set-to-string-tag":125,"./_wks":140}],99:[function(e,t,r){"use strict";var n=e("./_library"),o=e("./_export"),i=e("./_redefine"),a=e("./_hide"),s=e("./_has"),u=e("./_iterators"),c=e("./_iter-create"),l=e("./_set-to-string-tag"),f=e("./_object-gpo"),d=e("./_wks")("iterator"),h=!([].keys&&"next"in[].keys()),p="values",b=function(){return this};t.exports=function(e,t,r,v,y,_,m){c(r,t,v);var g,w,x,k=function(e){if(!h&&e in E)return E[e];switch(e){case"keys":case p:return function(){return new r(this,e)}}return function(){return new r(this,e)}},j=t+" Iterator",O=y==p,S=!1,E=e.prototype,C=E[d]||E["@@iterator"]||y&&E[y],A=C||k(y),P=y?O?k("entries"):A:void 0,R="Array"==t&&E.entries||C;if(R&&(x=f(R.call(new e)))!==Object.prototype&&x.next&&(l(x,j,!0),n||s(x,d)||a(x,d,b)),O&&C&&C.name!==p&&(S=!0,A=function(){return C.call(this)}),n&&!m||!h&&!S&&E[d]||a(E,d,A),u[t]=A,u[j]=b,y)if(g={values:O?A:k(p),keys:_?A:k("keys"),entries:P},m)for(w in g)w in E||i(E,w,g[w]);else o(o.P+o.F*(h||S),t,g);return g}},{"./_export":84,"./_has":88,"./_hide":89,"./_iter-create":98,"./_iterators":102,"./_library":103,"./_object-gpo":114,"./_redefine":122,"./_set-to-string-tag":125,"./_wks":140}],100:[function(e,t,r){var n=e("./_wks")("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:r=!0}},i[n]=function(){return a},e(i)}catch(e){}return r}},{"./_wks":140}],101:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],102:[function(e,t,r){t.exports={}},{}],103:[function(e,t,r){t.exports=!0},{}],104:[function(e,t,r){var n=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),a=e("./_object-dp").f,s=0,u=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[n].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!i(e,n)&&l(e),e}}},{"./_fails":85,"./_has":88,"./_is-object":96,"./_object-dp":108,"./_uid":137}],105:[function(e,t,r){var n=e("./_global"),o=e("./_task").set,i=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,u="process"==e("./_cof")(a);t.exports=function(){var e,t,r,c=function(){var n,o;for(u&&(n=a.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){a.nextTick(c)};else if(i){var l=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),r=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();r=function(){d.then(c)}}else r=function(){o.call(n,c)};return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},{"./_cof":75,"./_global":87,"./_task":130}],106:[function(e,t,r){"use strict";var n=e("./_a-function");t.exports.f=function(e){return new function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}(e)}},{"./_a-function":69}],107:[function(e,t,r){var n=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,r=e("./_dom-create")("iframe"),n=i.length;for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",(t=r.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c[u][i[n]];return c()};t.exports=Object.create||function(e,t){var r;return null!==e?(s[u]=n(e),r=new s,s[u]=null,r[a]=e):r=c(),void 0===t?r:o(r,t)}},{"./_an-object":72,"./_dom-create":81,"./_enum-bug-keys":82,"./_html":90,"./_object-dps":109,"./_shared-key":126}],108:[function(e,t,r){var n=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),a=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":72,"./_descriptors":80,"./_ie8-dom-define":91,"./_to-primitive":136}],109:[function(e,t,r){var n=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),s=a.length,u=0;s>u;)n.f(e,r=a[u++],t[r]);return e}},{"./_an-object":72,"./_descriptors":80,"./_object-dp":108,"./_object-keys":116}],110:[function(e,t,r){var n=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),u=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?c:function(e,t){if(e=i(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},{"./_descriptors":80,"./_has":88,"./_ie8-dom-define":91,"./_object-pie":117,"./_property-desc":120,"./_to-iobject":133,"./_to-primitive":136}],111:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},{"./_object-gopn":112,"./_to-iobject":133}],112:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},{"./_enum-bug-keys":82,"./_object-keys-internal":115}],113:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],114:[function(e,t,r){var n=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":88,"./_shared-key":126,"./_to-object":135}],115:[function(e,t,r){var n=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,s=o(e),u=0,c=[];for(r in s)r!=a&&n(s,r)&&c.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~i(c,r)||c.push(r));return c}},{"./_array-includes":73,"./_has":88,"./_shared-key":126,"./_to-iobject":133}],116:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,o)}},{"./_enum-bug-keys":82,"./_object-keys-internal":115}],117:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],118:[function(e,t,r){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],119:[function(e,t,r){var n=e("./_an-object"),o=e("./_is-object"),i=e("./_new-promise-capability");t.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},{"./_an-object":72,"./_is-object":96,"./_new-promise-capability":106}],120:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],121:[function(e,t,r){var n=e("./_hide");t.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},{"./_hide":89}],122:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":89}],123:[function(e,t,r){var n=e("./_is-object"),o=e("./_an-object"),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,n){try{(n=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),r=!(t instanceof Array)}catch(e){r=!0}return function(e,t){return i(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:i}},{"./_an-object":72,"./_ctx":78,"./_is-object":96,"./_object-gopd":110}],124:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_core"),i=e("./_object-dp"),a=e("./_descriptors"),s=e("./_wks")("species");t.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},{"./_core":76,"./_descriptors":80,"./_global":87,"./_object-dp":108,"./_wks":140}],125:[function(e,t,r){var n=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./_has":88,"./_object-dp":108,"./_wks":140}],126:[function(e,t,r){var n=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return n[e]||(n[e]=o(e))}},{"./_shared":127,"./_uid":137}],127:[function(e,t,r){var n=e("./_global"),o="__core-js_shared__",i=n[o]||(n[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./_global":87}],128:[function(e,t,r){var n=e("./_an-object"),o=e("./_a-function"),i=e("./_wks")("species");t.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[i])?t:o(r)}},{"./_a-function":69,"./_an-object":72,"./_wks":140}],129:[function(e,t,r){var n=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,r){var i,a,s=String(o(t)),u=n(r),c=s.length;return u<0||u>=c?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},{"./_defined":79,"./_to-integer":132}],130:[function(e,t,r){var n,o,i,a=e("./_ctx"),s=e("./_invoke"),u=e("./_html"),c=e("./_dom-create"),l=e("./_global"),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,b=l.Dispatch,v=0,y={},_="onreadystatechange",m=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},g=function(e){m.call(e.data)};d&&h||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++v]=function(){s("function"==typeof e?e:Function(e),t)},n(v),v},h=function(e){delete y[e]},"process"==e("./_cof")(f)?n=function(e){f.nextTick(a(m,e,1))}:b&&b.now?n=function(e){b.now(a(m,e,1))}:p?(i=(o=new p).port2,o.port1.onmessage=g,n=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",g,!1)):n=_ in c("script")?function(e){u.appendChild(c("script"))[_]=function(){u.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),t.exports={set:d,clear:h}},{"./_cof":75,"./_ctx":78,"./_dom-create":81,"./_global":87,"./_html":90,"./_invoke":92}],131:[function(e,t,r){var n=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},{"./_to-integer":132}],132:[function(e,t,r){var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],133:[function(e,t,r){var n=e("./_iobject"),o=e("./_defined");t.exports=function(e){return n(o(e))}},{"./_defined":79,"./_iobject":93}],134:[function(e,t,r){var n=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./_to-integer":132}],135:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":79}],136:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":96}],137:[function(e,t,r){var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],138:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_library"),a=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{"./_core":76,"./_global":87,"./_library":103,"./_object-dp":108,"./_wks-ext":139}],139:[function(e,t,r){r.f=e("./_wks")},{"./_wks":140}],140:[function(e,t,r){var n=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,a="function"==typeof i;(t.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},{"./_global":87,"./_shared":127,"./_uid":137}],141:[function(e,t,r){var n=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},{"./_classof":74,"./_core":76,"./_iterators":102,"./_wks":140}],142:[function(e,t,r){"use strict";var n=e("./_ctx"),o=e("./_export"),i=e("./_to-object"),a=e("./_iter-call"),s=e("./_is-array-iter"),u=e("./_to-length"),c=e("./_create-property"),l=e("./core.get-iterator-method");o(o.S+o.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,f,d=i(e),h="function"==typeof this?this:Array,p=arguments.length,b=p>1?arguments[1]:void 0,v=void 0!==b,y=0,_=l(d);if(v&&(b=n(b,p>2?arguments[2]:void 0,2)),void 0==_||h==Array&&s(_))for(r=new h(t=u(d.length));t>y;y++)c(r,y,v?b(d[y],y):d[y]);else for(f=_.call(d),r=new h;!(o=f.next()).done;y++)c(r,y,v?a(f,b,[o.value,y],!0):o.value);return r.length=y,r}})},{"./_create-property":77,"./_ctx":78,"./_export":84,"./_is-array-iter":94,"./_iter-call":97,"./_iter-detect":100,"./_to-length":134,"./_to-object":135,"./core.get-iterator-method":141}],143:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":70,"./_iter-define":99,"./_iter-step":101,"./_iterators":102,"./_to-iobject":133}],144:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":84,"./_object-create":107}],145:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":80,"./_export":84,"./_object-dp":108}],146:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":84,"./_set-proto":123}],147:[function(e,t,r){},{}],148:[function(e,t,r){"use strict";var n,o,i,a,s=e("./_library"),u=e("./_global"),c=e("./_ctx"),l=e("./_classof"),f=e("./_export"),d=e("./_is-object"),h=e("./_a-function"),p=e("./_an-instance"),b=e("./_for-of"),v=e("./_species-constructor"),y=e("./_task").set,_=e("./_microtask")(),m=e("./_new-promise-capability"),g=e("./_perform"),w=e("./_promise-resolve"),x="Promise",k=u.TypeError,j=u.process,O=u[x],S="process"==l(j),E=function(){},C=o=m.f,A=!!function(){try{var t=O.resolve(1),r=(t.constructor={})[e("./_wks")("species")]=function(e){e(E,E)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof r}catch(e){}}(),P=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var r=e._c;_(function(){for(var n=e._v,o=1==e._s,i=0,a=function(t){var r,i,a=o?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(o||(2==e._h&&I(e),e._h=1),!0===a?r=n:(c&&c.enter(),r=a(n),c&&c.exit()),r===t.promise?u(k("Promise-chain cycle")):(i=P(r))?i.call(r,s,u):s(r)):u(n)}catch(e){u(e)}};r.length>i;)a(r[i++]);e._c=[],e._n=!1,t&&!e._h&&D(e)})}},D=function(e){y.call(u,function(){var t,r,n,o=e._v,i=M(e);if(i&&(t=g(function(){S?j.emit("unhandledRejection",o,e):(r=u.onunhandledrejection)?r({promise:e,reason:o}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=S||M(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},M=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,n=0;r.length>n;)if((t=r[n++]).fail||!M(t.promise))return!1;return!0},I=function(e){y.call(u,function(){var t;S?j.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},T=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},L=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw k("Promise can't be resolved itself");(t=P(e))?_(function(){var n={_w:r,_d:!1};try{t.call(e,c(L,n,1),c(T,n,1))}catch(e){T.call(n,e)}}):(r._v=e,r._s=1,R(r,!1))}catch(e){T.call({_w:r,_d:!1},e)}}};A||(O=function(e){p(this,O,x,"_h"),h(e),n.call(this);try{e(c(L,this,1),c(T,this,1))}catch(e){T.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e("./_redefine-all")(O.prototype,{then:function(e,t){var r=C(v(this,O));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=S?j.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=c(L,e,1),this.reject=c(T,e,1)},m.f=C=function(e){return e===O||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!A,{Promise:O}),e("./_set-to-string-tag")(O,x),e("./_set-species")(x),a=e("./_core")[x],f(f.S+f.F*!A,x,{reject:function(e){var t=C(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!A),x,{resolve:function(e){return w(s&&this===a?O:this,e)}}),f(f.S+f.F*!(A&&e("./_iter-detect")(function(e){O.all(e).catch(E)})),x,{all:function(e){var t=this,r=C(t),n=r.resolve,o=r.reject,i=g(function(){var r=[],i=0,a=1;b(e,!1,function(e){var s=i++,u=!1;r.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,r[s]=e,--a||n(r))},o)}),--a||n(r)});return i.e&&o(i.v),r.promise},race:function(e){var t=this,r=C(t),n=r.reject,o=g(function(){b(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},{"./_a-function":69,"./_an-instance":71,"./_classof":74,"./_core":76,"./_ctx":78,"./_export":84,"./_for-of":86,"./_global":87,"./_is-object":96,"./_iter-detect":100,"./_library":103,"./_microtask":105,"./_new-promise-capability":106,"./_perform":118,"./_promise-resolve":119,"./_redefine-all":121,"./_set-species":124,"./_set-to-string-tag":125,"./_species-constructor":128,"./_task":130,"./_wks":140}],149:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":99,"./_string-at":129}],150:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_has"),i=e("./_descriptors"),a=e("./_export"),s=e("./_redefine"),u=e("./_meta").KEY,c=e("./_fails"),l=e("./_shared"),f=e("./_set-to-string-tag"),d=e("./_uid"),h=e("./_wks"),p=e("./_wks-ext"),b=e("./_wks-define"),v=e("./_enum-keys"),y=e("./_is-array"),_=e("./_an-object"),m=e("./_to-iobject"),g=e("./_to-primitive"),w=e("./_property-desc"),x=e("./_object-create"),k=e("./_object-gopn-ext"),j=e("./_object-gopd"),O=e("./_object-dp"),S=e("./_object-keys"),E=j.f,C=O.f,A=k.f,P=n.Symbol,R=n.JSON,D=R&&R.stringify,M="prototype",I=h("_hidden"),T=h("toPrimitive"),L={}.propertyIsEnumerable,F=l("symbol-registry"),q=l("symbols"),B=l("op-symbols"),N=Object[M],$="function"==typeof P,U=n.QObject,z=!U||!U[M]||!U[M].findChild,V=i&&c(function(){return 7!=x(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=E(N,t);n&&delete N[t],C(e,t,r),n&&e!==N&&C(N,t,n)}:C,G=function(e){var t=q[e]=x(P[M]);return t._k=e,t},J=$&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},K=function(e,t,r){return e===N&&K(B,t,r),_(e),t=g(t,!0),_(r),o(q,t)?(r.enumerable?(o(e,I)&&e[I][t]&&(e[I][t]=!1),r=x(r,{enumerable:w(0,!1)})):(o(e,I)||C(e,I,w(1,{})),e[I][t]=!0),V(e,t,r)):C(e,t,r)},Q=function(e,t){_(e);for(var r,n=v(t=m(t)),o=0,i=n.length;i>o;)K(e,r=n[o++],t[r]);return e},H=function(e){var t=L.call(this,e=g(e,!0));return!(this===N&&o(q,e)&&!o(B,e))&&(!(t||!o(this,e)||!o(q,e)||o(this,I)&&this[I][e])||t)},W=function(e,t){if(e=m(e),t=g(t,!0),e!==N||!o(q,t)||o(B,t)){var r=E(e,t);return!r||!o(q,t)||o(e,I)&&e[I][t]||(r.enumerable=!0),r}},Y=function(e){for(var t,r=A(m(e)),n=[],i=0;r.length>i;)o(q,t=r[i++])||t==I||t==u||n.push(t);return n},Z=function(e){for(var t,r=e===N,n=A(r?B:m(e)),i=[],a=0;n.length>a;)!o(q,t=n[a++])||r&&!o(N,t)||i.push(q[t]);return i};$||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===N&&t.call(B,r),o(this,I)&&o(this[I],e)&&(this[I][e]=!1),V(this,e,w(1,r))};return i&&z&&V(N,e,{configurable:!0,set:t}),G(e)})[M],"toString",function(){return this._k}),j.f=W,O.f=K,e("./_object-gopn").f=k.f=Y,e("./_object-pie").f=H,e("./_object-gops").f=Z,i&&!e("./_library")&&s(N,"propertyIsEnumerable",H,!0),p.f=function(e){return G(h(e))}),a(a.G+a.W+a.F*!$,{Symbol:P});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;X.length>ee;)h(X[ee++]);for(var te=S(h.store),re=0;te.length>re;)b(te[re++]);a(a.S+a.F*!$,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=P(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!$,"Object",{create:function(e,t){return void 0===t?x(e):Q(x(e),t)},defineProperty:K,defineProperties:Q,getOwnPropertyDescriptor:W,getOwnPropertyNames:Y,getOwnPropertySymbols:Z}),R&&a(a.S+a.F*(!$||c(function(){var e=P();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!J(e)){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);return"function"==typeof(t=n[1])&&(r=t),!r&&y(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!J(t))return t}),n[1]=t,D.apply(R,n)}}}),P[M][T]||e("./_hide")(P[M],T,P[M].valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},{"./_an-object":72,"./_descriptors":80,"./_enum-keys":83,"./_export":84,"./_fails":85,"./_global":87,"./_has":88,"./_hide":89,"./_is-array":95,"./_library":103,"./_meta":104,"./_object-create":107,"./_object-dp":108,"./_object-gopd":110,"./_object-gopn":112,"./_object-gopn-ext":111,"./_object-gops":113,"./_object-keys":116,"./_object-pie":117,"./_property-desc":120,"./_redefine":122,"./_set-to-string-tag":125,"./_shared":127,"./_to-iobject":133,"./_to-primitive":136,"./_uid":137,"./_wks":140,"./_wks-define":138,"./_wks-ext":139}],151:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_core"),i=e("./_global"),a=e("./_species-constructor"),s=e("./_promise-resolve");n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},{"./_core":76,"./_export":84,"./_global":87,"./_promise-resolve":119,"./_species-constructor":128}],152:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_new-promise-capability"),i=e("./_perform");n(n.S,"Promise",{try:function(e){var t=o.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},{"./_export":84,"./_new-promise-capability":106,"./_perform":118}],153:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":138}],154:[function(e,t,r){e("./_wks-define")("observable")},{"./_wks-define":138}],155:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),o=e("./_hide"),i=e("./_iterators"),a=e("./_wks")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=n[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},{"./_global":87,"./_hide":89,"./_iterators":102,"./_wks":140,"./es6.array.iterator":143}],156:[function(e,t,r){arguments[4][69][0].apply(r,arguments)},{dup:69}],157:[function(e,t,r){var n=e("./_cof");t.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},{"./_cof":171}],158:[function(e,t,r){var n=e("./_wks")("unscopables"),o=Array.prototype;void 0==o[n]&&e("./_hide")(o,n,{}),t.exports=function(e){o[n][e]=!0}},{"./_hide":195,"./_wks":278}],159:[function(e,t,r){arguments[4][71][0].apply(r,arguments)},{dup:71}],160:[function(e,t,r){arguments[4][72][0].apply(r,arguments)},{"./_is-object":204,dup:72}],161:[function(e,t,r){"use strict";var n=e("./_to-object"),o=e("./_to-absolute-index"),i=e("./_to-length");t.exports=[].copyWithin||function(e,t){var r=n(this),a=i(r.length),s=o(e,a),u=o(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:o(c,a))-u,a-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in r?r[s]=r[u]:delete r[s],s+=f,u+=f;return r}},{"./_to-absolute-index":264,"./_to-length":268,"./_to-object":269}],162:[function(e,t,r){"use strict";var n=e("./_to-object"),o=e("./_to-absolute-index"),i=e("./_to-length");t.exports=function(e){for(var t=n(this),r=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,c=void 0===u?r:o(u,r);c>s;)t[s++]=e;return t}},{"./_to-absolute-index":264,"./_to-length":268,"./_to-object":269}],163:[function(e,t,r){var n=e("./_for-of");t.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},{"./_for-of":192}],164:[function(e,t,r){arguments[4][73][0].apply(r,arguments)},{"./_to-absolute-index":264,"./_to-iobject":267,"./_to-length":268,dup:73}],165:[function(e,t,r){var n=e("./_ctx"),o=e("./_iobject"),i=e("./_to-object"),a=e("./_to-length"),s=e("./_array-species-create");t.exports=function(e,t){var r=1==e,u=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,h=t||s;return function(t,s,p){for(var b,v,y=i(t),_=o(y),m=n(s,p,3),g=a(_.length),w=0,x=r?h(t,g):u?h(t,0):void 0;g>w;w++)if((d||w in _)&&(v=m(b=_[w],w,y),e))if(r)x[w]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return w;case 2:x.push(b)}else if(l)return!1;return f?-1:c||l?l:x}}},{"./_array-species-create":168,"./_ctx":178,"./_iobject":200,"./_to-length":268,"./_to-object":269}],166:[function(e,t,r){var n=e("./_a-function"),o=e("./_to-object"),i=e("./_iobject"),a=e("./_to-length");t.exports=function(e,t,r,s,u){n(t);var c=o(e),l=i(c),f=a(c.length),d=u?f-1:0,h=u?-1:1;if(r<2)for(;;){if(d in l){s=l[d],d+=h;break}if(d+=h,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=h)d in l&&(s=t(s,l[d],d,c));return s}},{"./_a-function":156,"./_iobject":200,"./_to-length":268,"./_to-object":269}],167:[function(e,t,r){var n=e("./_is-object"),o=e("./_is-array"),i=e("./_wks")("species");t.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":202,"./_is-object":204,"./_wks":278}],168:[function(e,t,r){var n=e("./_array-species-constructor");t.exports=function(e,t){return new(n(e))(t)}},{"./_array-species-constructor":167}],169:[function(e,t,r){"use strict";var n=e("./_a-function"),o=e("./_is-object"),i=e("./_invoke"),a=[].slice,s={};t.exports=Function.bind||function(e){var t=n(this),r=a.call(arguments,1),u=function(){var n=r.concat(a.call(arguments));return this instanceof u?function(e,t,r){if(!(t in s)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)}(t,n.length,n):i(t,n,e)};return o(t.prototype)&&(u.prototype=t.prototype),u}},{"./_a-function":156,"./_invoke":199,"./_is-object":204}],170:[function(e,t,r){arguments[4][74][0].apply(r,arguments)},{"./_cof":171,"./_wks":278,dup:74}],171:[function(e,t,r){arguments[4][75][0].apply(r,arguments)},{dup:75}],172:[function(e,t,r){"use strict";var n=e("./_object-dp").f,o=e("./_object-create"),i=e("./_redefine-all"),a=e("./_ctx"),s=e("./_an-instance"),u=e("./_for-of"),c=e("./_iter-define"),l=e("./_iter-step"),f=e("./_set-species"),d=e("./_descriptors"),h=e("./_meta").fastKey,p=e("./_validate-collection"),b=d?"_s":"size",v=function(e,t){var r,n=h(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};t.exports={getConstructor:function(e,t,r,c){var l=e(function(e,n){s(e,l,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[b]=0,void 0!=n&&u(n,r,e[c],e)});return i(l.prototype,{clear:function(){for(var e=p(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[b]=0},delete:function(e){var r=p(this,t),n=v(r,e);if(n){var o=n.n,i=n.p;delete r._i[n.i],n.r=!0,i&&(i.n=o),o&&(o.p=i),r._f==n&&(r._f=o),r._l==n&&(r._l=i),r[b]--}return!!n},forEach:function(e){p(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!v(p(this,t),e)}}),d&&n(l.prototype,"size",{get:function(){return p(this,t)[b]}}),l},def:function(e,t,r){var n,o,i=v(e,t);return i?i.v=r:(e._l=i={i:o=h(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[b]++,"F"!==o&&(e._i[o]=i)),e},getEntry:v,setStrong:function(e,t,r){c(e,t,function(e,r){this._t=p(e,t),this._k=r,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},r?"entries":"values",!r,!0),f(t)}}},{"./_an-instance":159,"./_ctx":178,"./_descriptors":182,"./_for-of":192,"./_iter-define":208,"./_iter-step":210,"./_meta":218,"./_object-create":223,"./_object-dp":224,"./_redefine-all":243,"./_set-species":250,"./_validate-collection":275}],173:[function(e,t,r){var n=e("./_classof"),o=e("./_array-from-iterable");t.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},{"./_array-from-iterable":163,"./_classof":170}],174:[function(e,t,r){"use strict";var n=e("./_redefine-all"),o=e("./_meta").getWeak,i=e("./_an-object"),a=e("./_is-object"),s=e("./_an-instance"),u=e("./_for-of"),c=e("./_array-methods"),l=e("./_has"),f=e("./_validate-collection"),d=c(5),h=c(6),p=0,b=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},y=function(e,t){return d(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var r=y(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,r,i){var c=e(function(e,n){s(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=n&&u(n,r,e[i],e)});return n(c.prototype,{delete:function(e){if(!a(e))return!1;var r=o(e);return!0===r?b(f(this,t)).delete(e):r&&l(r,this._i)&&delete r[this._i]},has:function(e){if(!a(e))return!1;var r=o(e);return!0===r?b(f(this,t)).has(e):r&&l(r,this._i)}}),c},def:function(e,t,r){var n=o(i(t),!0);return!0===n?b(e).set(t,r):n[e._i]=r,e},ufstore:b}},{"./_an-instance":159,"./_an-object":160,"./_array-methods":165,"./_for-of":192,"./_has":194,"./_is-object":204,"./_meta":218,"./_redefine-all":243,"./_validate-collection":275}],175:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_export"),i=e("./_redefine"),a=e("./_redefine-all"),s=e("./_meta"),u=e("./_for-of"),c=e("./_an-instance"),l=e("./_is-object"),f=e("./_fails"),d=e("./_iter-detect"),h=e("./_set-to-string-tag"),p=e("./_inherit-if-required");t.exports=function(e,t,r,b,v,y){var _=n[e],m=_,g=v?"set":"add",w=m&&m.prototype,x={},k=function(e){var t=w[e];i(w,e,"delete"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof m&&(y||w.forEach&&!f(function(){(new m).entries().next()}))){var j=new m,O=j[g](y?{}:-0,1)!=j,S=f(function(){j.has(1)}),E=d(function(e){new m(e)}),C=!y&&f(function(){for(var e=new m,t=5;t--;)e[g](t,t);return!e.has(-0)});E||((m=t(function(t,r){c(t,m,e);var n=p(new _,t,m);return void 0!=r&&u(r,v,n[g],n),n})).prototype=w,w.constructor=m),(S||C)&&(k("delete"),k("has"),v&&k("get")),(C||O)&&k(g),y&&w.clear&&delete w.clear}else m=b.getConstructor(t,e,v,g),a(m.prototype,r),s.NEED=!0;return h(m,e),x[e]=m,o(o.G+o.W+o.F*(m!=_),x),y||b.setStrong(m,e,v),m}},{"./_an-instance":159,"./_export":186,"./_fails":188,"./_for-of":192,"./_global":193,"./_inherit-if-required":198,"./_is-object":204,"./_iter-detect":209,"./_meta":218,"./_redefine":244,"./_redefine-all":243,"./_set-to-string-tag":251}],176:[function(e,t,r){arguments[4][76][0].apply(r,arguments)},{dup:76}],177:[function(e,t,r){arguments[4][77][0].apply(r,arguments)},{"./_object-dp":224,"./_property-desc":242,dup:77}],178:[function(e,t,r){arguments[4][78][0].apply(r,arguments)},{"./_a-function":156,dup:78}],179:[function(e,t,r){"use strict";var n=e("./_fails"),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!n(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(t>99?t:"0"+a(t))+"Z"}:i},{"./_fails":188}],180:[function(e,t,r){"use strict";var n=e("./_an-object"),o=e("./_to-primitive");t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(n(this),"number"!=e)}},{"./_an-object":160,"./_to-primitive":270}],181:[function(e,t,r){arguments[4][79][0].apply(r,arguments)},{dup:79}],182:[function(e,t,r){arguments[4][80][0].apply(r,arguments)},{"./_fails":188,dup:80}],183:[function(e,t,r){arguments[4][81][0].apply(r,arguments)},{"./_global":193,"./_is-object":204,dup:81}],184:[function(e,t,r){arguments[4][82][0].apply(r,arguments)},{dup:82}],185:[function(e,t,r){arguments[4][83][0].apply(r,arguments)},{"./_object-gops":230,"./_object-keys":233,"./_object-pie":234,dup:83}],186:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_hide"),a=e("./_redefine"),s=e("./_ctx"),u="prototype",c=function(e,t,r){var l,f,d,h,p=e&c.F,b=e&c.G,v=e&c.S,y=e&c.P,_=e&c.B,m=b?n:v?n[t]||(n[t]={}):(n[t]||{})[u],g=b?o:o[t]||(o[t]={}),w=g[u]||(g[u]={});for(l in b&&(r=t),r)d=((f=!p&&m&&void 0!==m[l])?m:r)[l],h=_&&f?s(d,n):y&&"function"==typeof d?s(Function.call,d):d,m&&a(m,l,d,e&c.U),g[l]!=d&&i(g,l,h),y&&w[l]!=d&&(w[l]=d)};n.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},{"./_core":176,"./_ctx":178,"./_global":193,"./_hide":195,"./_redefine":244}],187:[function(e,t,r){var n=e("./_wks")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},{"./_wks":278}],188:[function(e,t,r){arguments[4][85][0].apply(r,arguments)},{dup:85}],189:[function(e,t,r){"use strict";var n=e("./_hide"),o=e("./_redefine"),i=e("./_fails"),a=e("./_defined"),s=e("./_wks");t.exports=function(e,t,r){var u=s(e),c=r(a,u,""[e]),l=c[0],f=c[1];i(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,l),n(RegExp.prototype,u,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},{"./_defined":181,"./_fails":188,"./_hide":195,"./_redefine":244,"./_wks":278}],190:[function(e,t,r){"use strict";var n=e("./_an-object");t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./_an-object":160}],191:[function(e,t,r){"use strict";var n=e("./_is-array"),o=e("./_is-object"),i=e("./_to-length"),a=e("./_ctx"),s=e("./_wks")("isConcatSpreadable");t.exports=function e(t,r,u,c,l,f,d,h){for(var p,b,v=l,y=0,_=!!d&&a(d,h,3);y<c;){if(y in u){if(p=_?_(u[y],y,r):u[y],b=!1,o(p)&&(b=void 0!==(b=p[s])?!!b:n(p)),b&&f>0)v=e(t,r,p,i(p.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=p}v++}y++}return v}},{"./_ctx":178,"./_is-array":202,"./_is-object":204,"./_to-length":268,"./_wks":278}],192:[function(e,t,r){arguments[4][86][0].apply(r,arguments)},{"./_an-object":160,"./_ctx":178,"./_is-array-iter":201,"./_iter-call":206,"./_to-length":268,"./core.get-iterator-method":279,dup:86}],193:[function(e,t,r){arguments[4][87][0].apply(r,arguments)},{dup:87}],194:[function(e,t,r){arguments[4][88][0].apply(r,arguments)},{dup:88}],195:[function(e,t,r){arguments[4][89][0].apply(r,arguments)},{"./_descriptors":182,"./_object-dp":224,"./_property-desc":242,dup:89}],196:[function(e,t,r){arguments[4][90][0].apply(r,arguments)},{"./_global":193,dup:90}],197:[function(e,t,r){arguments[4][91][0].apply(r,arguments)},{"./_descriptors":182,"./_dom-create":183,"./_fails":188,dup:91}],198:[function(e,t,r){var n=e("./_is-object"),o=e("./_set-proto").set;t.exports=function(e,t,r){var i,a=t.constructor;return a!==r&&"function"==typeof a&&(i=a.prototype)!==r.prototype&&n(i)&&o&&o(e,i),e}},{"./_is-object":204,"./_set-proto":249}],199:[function(e,t,r){arguments[4][92][0].apply(r,arguments)},{dup:92}],200:[function(e,t,r){arguments[4][93][0].apply(r,arguments)},{"./_cof":171,dup:93}],201:[function(e,t,r){arguments[4][94][0].apply(r,arguments)},{"./_iterators":211,"./_wks":278,dup:94}],202:[function(e,t,r){arguments[4][95][0].apply(r,arguments)},{"./_cof":171,dup:95}],203:[function(e,t,r){var n=e("./_is-object"),o=Math.floor;t.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},{"./_is-object":204}],204:[function(e,t,r){arguments[4][96][0].apply(r,arguments)},{dup:96}],205:[function(e,t,r){var n=e("./_is-object"),o=e("./_cof"),i=e("./_wks")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},{"./_cof":171,"./_is-object":204,"./_wks":278}],206:[function(e,t,r){arguments[4][97][0].apply(r,arguments)},{"./_an-object":160,dup:97}],207:[function(e,t,r){arguments[4][98][0].apply(r,arguments)},{"./_hide":195,"./_object-create":223,"./_property-desc":242,"./_set-to-string-tag":251,"./_wks":278,dup:98}],208:[function(e,t,r){arguments[4][99][0].apply(r,arguments)},{"./_export":186,"./_has":194,"./_hide":195,"./_iter-create":207,"./_iterators":211,"./_library":212,"./_object-gpo":231,"./_redefine":244,"./_set-to-string-tag":251,"./_wks":278,dup:99}],209:[function(e,t,r){arguments[4][100][0].apply(r,arguments)},{"./_wks":278,dup:100}],210:[function(e,t,r){arguments[4][101][0].apply(r,arguments)},{dup:101}],211:[function(e,t,r){arguments[4][102][0].apply(r,arguments)},{dup:102}],212:[function(e,t,r){t.exports=!1},{}],213:[function(e,t,r){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},{}],214:[function(e,t,r){var n=e("./_math-sign"),o=Math.pow,i=o(2,-52),a=o(2,-23),s=o(2,127)*(2-a),u=o(2,-126);t.exports=Math.fround||function(e){var t,r,o=Math.abs(e),c=n(e);return o<u?c*(o/u/a+1/i-1/i)*u*a:(r=(t=(1+a/i)*o)-(t-o))>s||r!=r?c*(1/0):c*r}},{"./_math-sign":217}],215:[function(e,t,r){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],216:[function(e,t,r){t.exports=Math.scale||function(e,t,r,n,o){return 0===arguments.length||e!=e||t!=t||r!=r||n!=n||o!=o?NaN:e===1/0||e===-1/0?e:(e-t)*(o-n)/(r-t)+n}},{}],217:[function(e,t,r){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],218:[function(e,t,r){arguments[4][104][0].apply(r,arguments)},{"./_fails":188,"./_has":194,"./_is-object":204,"./_object-dp":224,"./_uid":274,dup:104}],219:[function(e,t,r){var n=e("./es6.map"),o=e("./_export"),i=e("./_shared")("metadata"),a=i.store||(i.store=new(e("./es6.weak-map"))),s=function(e,t,r){var o=a.get(e);if(!o){if(!r)return;a.set(e,o=new n)}var i=o.get(t);if(!i){if(!r)return;o.set(t,i=new n)}return i};t.exports={store:a,map:s,has:function(e,t,r){var n=s(t,r,!1);return void 0!==n&&n.has(e)},get:function(e,t,r){var n=s(t,r,!1);return void 0===n?void 0:n.get(e)},set:function(e,t,r,n){s(r,n,!0).set(e,t)},keys:function(e,t){var r=s(e,t,!1),n=[];return r&&r.forEach(function(e,t){n.push(t)}),n},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){o(o.S,"Reflect",e)}}},{"./_export":186,"./_shared":253,"./es6.map":310,"./es6.weak-map":416}],220:[function(e,t,r){arguments[4][105][0].apply(r,arguments)},{"./_cof":171,"./_global":193,"./_task":263,dup:105}],221:[function(e,t,r){arguments[4][106][0].apply(r,arguments)},{"./_a-function":156,dup:106}],222:[function(e,t,r){"use strict";var n=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie"),a=e("./_to-object"),s=e("./_iobject"),u=Object.assign;t.exports=!u||e("./_fails")(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var r=a(e),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var d,h=s(arguments[c++]),p=l?n(h).concat(l(h)):n(h),b=p.length,v=0;b>v;)f.call(h,d=p[v++])&&(r[d]=h[d]);return r}:u},{"./_fails":188,"./_iobject":200,"./_object-gops":230,"./_object-keys":233,"./_object-pie":234,"./_to-object":269}],223:[function(e,t,r){arguments[4][107][0].apply(r,arguments)},{"./_an-object":160,"./_dom-create":183,"./_enum-bug-keys":184,"./_html":196,"./_object-dps":225,"./_shared-key":252,dup:107}],224:[function(e,t,r){arguments[4][108][0].apply(r,arguments)},{"./_an-object":160,"./_descriptors":182,"./_ie8-dom-define":197,"./_to-primitive":270,dup:108}],225:[function(e,t,r){arguments[4][109][0].apply(r,arguments)},{"./_an-object":160,"./_descriptors":182,"./_object-dp":224,"./_object-keys":233,dup:109}],226:[function(e,t,r){"use strict";t.exports=e("./_library")||!e("./_fails")(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete e("./_global")[t]})},{"./_fails":188,"./_global":193,"./_library":212}],227:[function(e,t,r){arguments[4][110][0].apply(r,arguments)},{"./_descriptors":182,"./_has":194,"./_ie8-dom-define":197,"./_object-pie":234,"./_property-desc":242,"./_to-iobject":267,"./_to-primitive":270,dup:110}],228:[function(e,t,r){arguments[4][111][0].apply(r,arguments)},{"./_object-gopn":229,"./_to-iobject":267,dup:111}],229:[function(e,t,r){arguments[4][112][0].apply(r,arguments)},{"./_enum-bug-keys":184,"./_object-keys-internal":232,dup:112}],230:[function(e,t,r){arguments[4][113][0].apply(r,arguments)},{dup:113}],231:[function(e,t,r){arguments[4][114][0].apply(r,arguments)},{"./_has":194,"./_shared-key":252,"./_to-object":269,dup:114}],232:[function(e,t,r){arguments[4][115][0].apply(r,arguments)},{"./_array-includes":164,"./_has":194,"./_shared-key":252,"./_to-iobject":267,dup:115}],233:[function(e,t,r){arguments[4][116][0].apply(r,arguments)},{"./_enum-bug-keys":184,"./_object-keys-internal":232,dup:116}],234:[function(e,t,r){arguments[4][117][0].apply(r,arguments)},{dup:117}],235:[function(e,t,r){var n=e("./_export"),o=e("./_core"),i=e("./_fails");t.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",a)}},{"./_core":176,"./_export":186,"./_fails":188}],236:[function(e,t,r){var n=e("./_object-keys"),o=e("./_to-iobject"),i=e("./_object-pie").f;t.exports=function(e){return function(t){for(var r,a=o(t),s=n(a),u=s.length,c=0,l=[];u>c;)i.call(a,r=s[c++])&&l.push(e?[r,a[r]]:a[r]);return l}}},{"./_object-keys":233,"./_object-pie":234,"./_to-iobject":267}],237:[function(e,t,r){var n=e("./_object-gopn"),o=e("./_object-gops"),i=e("./_an-object"),a=e("./_global").Reflect;t.exports=a&&a.ownKeys||function(e){var t=n.f(i(e)),r=o.f;return r?t.concat(r(e)):t}},{"./_an-object":160,"./_global":193,"./_object-gopn":229,"./_object-gops":230}],238:[function(e,t,r){var n=e("./_global").parseFloat,o=e("./_string-trim").trim;t.exports=1/n(e("./_string-ws")+"-0")!=-1/0?function(e){var t=o(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},{"./_global":193,"./_string-trim":261,"./_string-ws":262}],239:[function(e,t,r){var n=e("./_global").parseInt,o=e("./_string-trim").trim,i=e("./_string-ws"),a=/^[-+]?0[xX]/;t.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){var r=o(String(e),3);return n(r,t>>>0||(a.test(r)?16:10))}:n},{"./_global":193,"./_string-trim":261,"./_string-ws":262}],240:[function(e,t,r){arguments[4][118][0].apply(r,arguments)},{dup:118}],241:[function(e,t,r){arguments[4][119][0].apply(r,arguments)},{"./_an-object":160,"./_is-object":204,"./_new-promise-capability":221,dup:119}],242:[function(e,t,r){arguments[4][120][0].apply(r,arguments)},{dup:120}],243:[function(e,t,r){var n=e("./_redefine");t.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},{"./_redefine":244}],244:[function(e,t,r){var n=e("./_global"),o=e("./_hide"),i=e("./_has"),a=e("./_uid")("src"),s="toString",u=Function[s],c=(""+u).split(s);e("./_core").inspectSource=function(e){return u.call(e)},(t.exports=function(e,t,r,s){var u="function"==typeof r;u&&(i(r,"name")||o(r,"name",t)),e[t]!==r&&(u&&(i(r,a)||o(r,a,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:o(e,t,r):(delete e[t],o(e,t,r)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},{"./_core":176,"./_global":193,"./_has":194,"./_hide":195,"./_uid":274}],245:[function(e,t,r){t.exports=function(e,t){var r=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,r)}}},{}],246:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],247:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_a-function"),i=e("./_ctx"),a=e("./_for-of");t.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,s,u=arguments[1];return o(this),(t=void 0!==u)&&o(u),void 0==e?new this:(r=[],t?(n=0,s=i(u,arguments[2],2),a(e,!1,function(e){r.push(s(e,n++))})):a(e,!1,r.push,r),new this(r))}})}},{"./_a-function":156,"./_ctx":178,"./_export":186,"./_for-of":192}],248:[function(e,t,r){"use strict";var n=e("./_export");t.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},{"./_export":186}],249:[function(e,t,r){arguments[4][123][0].apply(r,arguments)},{"./_an-object":160,"./_ctx":178,"./_is-object":204,"./_object-gopd":227,dup:123}],250:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_object-dp"),i=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t=n[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_descriptors":182,"./_global":193,"./_object-dp":224,"./_wks":278}],251:[function(e,t,r){arguments[4][125][0].apply(r,arguments)},{"./_has":194,"./_object-dp":224,"./_wks":278,dup:125}],252:[function(e,t,r){arguments[4][126][0].apply(r,arguments)},{"./_shared":253,"./_uid":274,dup:126}],253:[function(e,t,r){arguments[4][127][0].apply(r,arguments)},{"./_global":193,dup:127}],254:[function(e,t,r){arguments[4][128][0].apply(r,arguments)},{"./_a-function":156,"./_an-object":160,"./_wks":278,dup:128}],255:[function(e,t,r){"use strict";var n=e("./_fails");t.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},{"./_fails":188}],256:[function(e,t,r){arguments[4][129][0].apply(r,arguments)},{"./_defined":181,"./_to-integer":266,dup:129}],257:[function(e,t,r){var n=e("./_is-regexp"),o=e("./_defined");t.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(e))}},{"./_defined":181,"./_is-regexp":205}],258:[function(e,t,r){var n=e("./_export"),o=e("./_fails"),i=e("./_defined"),a=/"/g,s=function(e,t,r,n){var o=String(i(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+o+"</"+t+">"};t.exports=function(e,t){var r={};r[e]=t(s),n(n.P+n.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",r)}},{"./_defined":181,"./_export":186,"./_fails":188}],259:[function(e,t,r){var n=e("./_to-length"),o=e("./_string-repeat"),i=e("./_defined");t.exports=function(e,t,r,a){var s=String(i(e)),u=s.length,c=void 0===r?" ":String(r),l=n(t);if(l<=u||""==c)return s;var f=l-u,d=o.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},{"./_defined":181,"./_string-repeat":260,"./_to-length":268}],260:[function(e,t,r){"use strict";var n=e("./_to-integer"),o=e("./_defined");t.exports=function(e){var t=String(o(this)),r="",i=n(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}},{"./_defined":181,"./_to-integer":266}],261:[function(e,t,r){var n=e("./_export"),o=e("./_defined"),i=e("./_fails"),a=e("./_string-ws"),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(e,t,r){var o={},s=i(function(){return!!a[e]()||"​"!="​"[e]()}),u=o[e]=s?t(f):a[e];r&&(o[r]=u),n(n.P+n.F*s,"String",o)},f=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};t.exports=l},{"./_defined":181,"./_export":186,"./_fails":188,"./_string-ws":262}],262:[function(e,t,r){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],263:[function(e,t,r){arguments[4][130][0].apply(r,arguments)},{"./_cof":171,"./_ctx":178,"./_dom-create":183,"./_global":193,"./_html":196,"./_invoke":199,dup:130}],264:[function(e,t,r){arguments[4][131][0].apply(r,arguments)},{"./_to-integer":266,dup:131}],265:[function(e,t,r){var n=e("./_to-integer"),o=e("./_to-length");t.exports=function(e){if(void 0===e)return 0;var t=n(e),r=o(t);if(t!==r)throw RangeError("Wrong length!");return r}},{"./_to-integer":266,"./_to-length":268}],266:[function(e,t,r){arguments[4][132][0].apply(r,arguments)},{dup:132}],267:[function(e,t,r){arguments[4][133][0].apply(r,arguments)},{"./_defined":181,"./_iobject":200,dup:133}],268:[function(e,t,r){arguments[4][134][0].apply(r,arguments)},{"./_to-integer":266,dup:134}],269:[function(e,t,r){arguments[4][135][0].apply(r,arguments)},{"./_defined":181,dup:135}],270:[function(e,t,r){arguments[4][136][0].apply(r,arguments)},{"./_is-object":204,dup:136}],271:[function(e,t,r){"use strict";if(e("./_descriptors")){var n=e("./_library"),o=e("./_global"),i=e("./_fails"),a=e("./_export"),s=e("./_typed"),u=e("./_typed-buffer"),c=e("./_ctx"),l=e("./_an-instance"),f=e("./_property-desc"),d=e("./_hide"),h=e("./_redefine-all"),p=e("./_to-integer"),b=e("./_to-length"),v=e("./_to-index"),y=e("./_to-absolute-index"),_=e("./_to-primitive"),m=e("./_has"),g=e("./_classof"),w=e("./_is-object"),x=e("./_to-object"),k=e("./_is-array-iter"),j=e("./_object-create"),O=e("./_object-gpo"),S=e("./_object-gopn").f,E=e("./core.get-iterator-method"),C=e("./_uid"),A=e("./_wks"),P=e("./_array-methods"),R=e("./_array-includes"),D=e("./_species-constructor"),M=e("./es6.array.iterator"),I=e("./_iterators"),T=e("./_iter-detect"),L=e("./_set-species"),F=e("./_array-fill"),q=e("./_array-copy-within"),B=e("./_object-dp"),N=e("./_object-gopd"),$=B.f,U=N.f,z=o.RangeError,V=o.TypeError,G=o.Uint8Array,J="ArrayBuffer",K="Shared"+J,Q="BYTES_PER_ELEMENT",H="prototype",W=Array[H],Y=u.ArrayBuffer,Z=u.DataView,X=P(0),ee=P(2),te=P(3),re=P(4),ne=P(5),oe=P(6),ie=R(!0),ae=R(!1),se=M.values,ue=M.keys,ce=M.entries,le=W.lastIndexOf,fe=W.reduce,de=W.reduceRight,he=W.join,pe=W.sort,be=W.slice,ve=W.toString,ye=W.toLocaleString,_e=A("iterator"),me=A("toStringTag"),ge=C("typed_constructor"),we=C("def_constructor"),xe=s.CONSTR,ke=s.TYPED,je=s.VIEW,Oe="Wrong length!",Se=P(1,function(e,t){return Re(D(e,e[we]),t)}),Ee=i(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),Ce=!!G&&!!G[H].set&&i(function(){new G(1).set({})}),Ae=function(e,t){var r=p(e);if(r<0||r%t)throw z("Wrong offset!");return r},Pe=function(e){if(w(e)&&ke in e)return e;throw V(e+" is not a typed array!")},Re=function(e,t){if(!(w(e)&&ge in e))throw V("It is not a typed array constructor!");return new e(t)},De=function(e,t){return Me(D(e,e[we]),t)},Me=function(e,t){for(var r=0,n=t.length,o=Re(e,n);n>r;)o[r]=t[r++];return o},Ie=function(e,t,r){$(e,t,{get:function(){return this._d[r]}})},Te=function(e){var t,r,n,o,i,a,s=x(e),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=E(s);if(void 0!=d&&!k(d)){for(a=d.call(s),n=[],t=0;!(i=a.next()).done;t++)n.push(i.value);s=n}for(f&&u>2&&(l=c(l,arguments[2],2)),t=0,r=b(s.length),o=Re(this,r);r>t;t++)o[t]=f?l(s[t],t):s[t];return o},Le=function(){for(var e=0,t=arguments.length,r=Re(this,t);t>e;)r[e]=arguments[e++];return r},Fe=!!G&&i(function(){ye.call(new G(1))}),qe=function(){return ye.apply(Fe?be.call(Pe(this)):Pe(this),arguments)},Be={copyWithin:function(e,t){return q.call(Pe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return re(Pe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return F.apply(Pe(this),arguments)},filter:function(e){return De(this,ee(Pe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ne(Pe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return oe(Pe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(Pe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ae(Pe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return ie(Pe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return he.apply(Pe(this),arguments)},lastIndexOf:function(e){return le.apply(Pe(this),arguments)},map:function(e){return Se(Pe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return fe.apply(Pe(this),arguments)},reduceRight:function(e){return de.apply(Pe(this),arguments)},reverse:function(){for(var e,t=Pe(this).length,r=Math.floor(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return te(Pe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return pe.call(Pe(this),e)},subarray:function(e,t){var r=Pe(this),n=r.length,o=y(e,n);return new(D(r,r[we]))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,b((void 0===t?n:y(t,n))-o))}},Ne=function(e,t){return De(this,be.call(Pe(this),e,t))},$e=function(e){Pe(this);var t=Ae(arguments[1],1),r=this.length,n=x(e),o=b(n.length),i=0;if(o+t>r)throw z(Oe);for(;i<o;)this[t+i]=n[i++]},Ue={entries:function(){return ce.call(Pe(this))},keys:function(){return ue.call(Pe(this))},values:function(){return se.call(Pe(this))}},ze=function(e,t){return w(e)&&e[ke]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ve=function(e,t){return ze(e,t=_(t,!0))?f(2,e[t]):U(e,t)},Ge=function(e,t,r){return!(ze(e,t=_(t,!0))&&w(r)&&m(r,"value"))||m(r,"get")||m(r,"set")||r.configurable||m(r,"writable")&&!r.writable||m(r,"enumerable")&&!r.enumerable?$(e,t,r):(e[t]=r.value,e)};xe||(N.f=Ve,B.f=Ge),a(a.S+a.F*!xe,"Object",{getOwnPropertyDescriptor:Ve,defineProperty:Ge}),i(function(){ve.call({})})&&(ve=ye=function(){return he.call(this)});var Je=h({},Be);h(Je,Ue),d(Je,_e,Ue.values),h(Je,{slice:Ne,set:$e,constructor:function(){},toString:ve,toLocaleString:qe}),Ie(Je,"buffer","b"),Ie(Je,"byteOffset","o"),Ie(Je,"byteLength","l"),Ie(Je,"length","e"),$(Je,me,{get:function(){return this[ke]}}),t.exports=function(e,t,r,u){var c=e+((u=!!u)?"Clamped":"")+"Array",f="get"+e,h="set"+e,p=o[c],y=p||{},_=p&&O(p),m=!p||!s.ABV,x={},k=p&&p[H],E=function(e,r){$(e,r,{get:function(){return e=r,(n=this._d).v[f](e*t+n.o,Ee);var e,n},set:function(e){return n=r,o=e,i=this._d,u&&(o=(o=Math.round(o))<0?0:o>255?255:255&o),void i.v[h](n*t+i.o,o,Ee);var n,o,i},enumerable:!0})};m?(p=r(function(e,r,n,o){l(e,p,c,"_d");var i,a,s,u,f=0,h=0;if(w(r)){if(!(r instanceof Y||(u=g(r))==J||u==K))return ke in r?Me(p,r):Te.call(p,r);i=r,h=Ae(n,t);var y=r.byteLength;if(void 0===o){if(y%t)throw z(Oe);if((a=y-h)<0)throw z(Oe)}else if((a=b(o)*t)+h>y)throw z(Oe);s=a/t}else s=v(r),i=new Y(a=s*t);for(d(e,"_d",{b:i,o:h,l:a,e:s,v:new Z(i)});f<s;)E(e,f++)}),k=p[H]=j(Je),d(k,"constructor",p)):i(function(){p(1)})&&i(function(){new p(-1)})&&T(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=r(function(e,r,n,o){var i;return l(e,p,c),w(r)?r instanceof Y||(i=g(r))==J||i==K?void 0!==o?new y(r,Ae(n,t),o):void 0!==n?new y(r,Ae(n,t)):new y(r):ke in r?Me(p,r):Te.call(p,r):new y(v(r))}),X(_!==Function.prototype?S(y).concat(S(_)):S(y),function(e){e in p||d(p,e,y[e])}),p[H]=k,n||(k.constructor=p));var C=k[_e],A=!!C&&("values"==C.name||void 0==C.name),P=Ue.values;d(p,ge,!0),d(k,ke,c),d(k,je,!0),d(k,we,p),(u?new p(1)[me]==c:me in k)||$(k,me,{get:function(){return c}}),x[c]=p,a(a.G+a.W+a.F*(p!=y),x),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i(function(){y.of.call(p,1)}),c,{from:Te,of:Le}),Q in k||d(k,Q,t),a(a.P,c,Be),L(c),a(a.P+a.F*Ce,c,{set:$e}),a(a.P+a.F*!A,c,Ue),n||k.toString==ve||(k.toString=ve),a(a.P+a.F*i(function(){new p(1).slice()}),c,{slice:Ne}),a(a.P+a.F*(i(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!i(function(){k.toLocaleString.call([1,2])})),c,{toLocaleString:qe}),I[c]=A?C:P,n||A||d(k,_e,P)}}else t.exports=function(){}},{"./_an-instance":159,"./_array-copy-within":161,"./_array-fill":162,"./_array-includes":164,"./_array-methods":165,"./_classof":170,"./_ctx":178,"./_descriptors":182,"./_export":186,"./_fails":188,"./_global":193,"./_has":194,"./_hide":195,"./_is-array-iter":201,"./_is-object":204,"./_iter-detect":209,"./_iterators":211,"./_library":212,"./_object-create":223,"./_object-dp":224,"./_object-gopd":227,"./_object-gopn":229,"./_object-gpo":231,"./_property-desc":242,"./_redefine-all":243,"./_set-species":250,"./_species-constructor":254,"./_to-absolute-index":264,"./_to-index":265,"./_to-integer":266,"./_to-length":268,"./_to-object":269,"./_to-primitive":270,"./_typed":273,"./_typed-buffer":272,"./_uid":274,"./_wks":278,"./core.get-iterator-method":279,"./es6.array.iterator":291}],272:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_descriptors"),i=e("./_library"),a=e("./_typed"),s=e("./_hide"),u=e("./_redefine-all"),c=e("./_fails"),l=e("./_an-instance"),f=e("./_to-integer"),d=e("./_to-length"),h=e("./_to-index"),p=e("./_object-gopn").f,b=e("./_object-dp").f,v=e("./_array-fill"),y=e("./_set-to-string-tag"),_="ArrayBuffer",m="DataView",g="prototype",w="Wrong index!",x=n[_],k=n[m],j=n.Math,O=n.RangeError,S=n.Infinity,E=x,C=j.abs,A=j.pow,P=j.floor,R=j.log,D=j.LN2,M="byteLength",I="byteOffset",T=o?"_b":"buffer",L=o?"_l":M,F=o?"_o":I;function q(e,t,r){var n,o,i,a=Array(r),s=8*r-t-1,u=(1<<s)-1,c=u>>1,l=23===t?A(2,-24)-A(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=C(e))!=e||e===S?(o=e!=e?1:0,n=u):(n=P(R(e)/D),e*(i=A(2,-n))<1&&(n--,i*=2),(e+=n+c>=1?l/i:l*A(2,1-c))*i>=2&&(n++,i/=2),n+c>=u?(o=0,n=u):n+c>=1?(o=(e*i-1)*A(2,t),n+=c):(o=e*A(2,c-1)*A(2,t),n=0));t>=8;a[f++]=255&o,o/=256,t-=8);for(n=n<<t|o,s+=t;s>0;a[f++]=255&n,n/=256,s-=8);return a[--f]|=128*d,a}function B(e,t,r){var n,o=8*r-t-1,i=(1<<o)-1,a=i>>1,s=o-7,u=r-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=t;s>0;n=256*n+e[u],u--,s-=8);if(0===l)l=1-a;else{if(l===i)return n?NaN:c?-S:S;n+=A(2,t),l-=a}return(c?-1:1)*n*A(2,l-t)}function N(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function $(e){return[255&e]}function U(e){return[255&e,e>>8&255]}function z(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function V(e){return q(e,52,8)}function G(e){return q(e,23,4)}function J(e,t,r){b(e[g],t,{get:function(){return this[r]}})}function K(e,t,r,n){var o=h(+r);if(o+t>e[L])throw O(w);var i=e[T]._b,a=o+e[F],s=i.slice(a,a+t);return n?s:s.reverse()}function Q(e,t,r,n,o,i){var a=h(+r);if(a+t>e[L])throw O(w);for(var s=e[T]._b,u=a+e[F],c=n(+o),l=0;l<t;l++)s[u+l]=c[i?l:t-l-1]}if(a.ABV){if(!c(function(){x(1)})||!c(function(){new x(-1)})||c(function(){return new x,new x(1.5),new x(NaN),x.name!=_})){for(var H,W=(x=function(e){return l(this,x),new E(h(e))})[g]=E[g],Y=p(E),Z=0;Y.length>Z;)(H=Y[Z++])in x||s(x,H,E[H]);i||(W.constructor=x)}var X=new k(new x(2)),ee=k[g].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||u(k[g],{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else x=function(e){l(this,x,_);var t=h(e);this._b=v.call(Array(t),0),this[L]=t},k=function(e,t,r){l(this,k,m),l(e,x,m);var n=e[L],o=f(t);if(o<0||o>n)throw O("Wrong offset!");if(o+(r=void 0===r?n-o:d(r))>n)throw O("Wrong length!");this[T]=e,this[F]=o,this[L]=r},o&&(J(x,M,"_l"),J(k,"buffer","_b"),J(k,M,"_l"),J(k,I,"_o")),u(k[g],{getInt8:function(e){return K(this,1,e)[0]<<24>>24},getUint8:function(e){return K(this,1,e)[0]},getInt16:function(e){var t=K(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=K(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return N(K(this,4,e,arguments[1]))},getUint32:function(e){return N(K(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return B(K(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return B(K(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){Q(this,1,e,$,t)},setUint8:function(e,t){Q(this,1,e,$,t)},setInt16:function(e,t){Q(this,2,e,U,t,arguments[2])},setUint16:function(e,t){Q(this,2,e,U,t,arguments[2])},setInt32:function(e,t){Q(this,4,e,z,t,arguments[2])},setUint32:function(e,t){Q(this,4,e,z,t,arguments[2])},setFloat32:function(e,t){Q(this,4,e,G,t,arguments[2])},setFloat64:function(e,t){Q(this,8,e,V,t,arguments[2])}});y(x,_),y(k,m),s(k[g],a.VIEW,!0),r[_]=x,r[m]=k},{"./_an-instance":159,"./_array-fill":162,"./_descriptors":182,"./_fails":188,"./_global":193,"./_hide":195,"./_library":212,"./_object-dp":224,"./_object-gopn":229,"./_redefine-all":243,"./_set-to-string-tag":251,"./_to-index":265,"./_to-integer":266,"./_to-length":268,"./_typed":273}],273:[function(e,t,r){for(var n,o=e("./_global"),i=e("./_hide"),a=e("./_uid"),s=a("typed_array"),u=a("view"),c=!(!o.ArrayBuffer||!o.DataView),l=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(n=o[d[f++]])?(i(n.prototype,s,!0),i(n.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},{"./_global":193,"./_hide":195,"./_uid":274}],274:[function(e,t,r){arguments[4][137][0].apply(r,arguments)},{dup:137}],275:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{"./_is-object":204}],276:[function(e,t,r){arguments[4][138][0].apply(r,arguments)},{"./_core":176,"./_global":193,"./_library":212,"./_object-dp":224,"./_wks-ext":277,dup:138}],277:[function(e,t,r){arguments[4][139][0].apply(r,arguments)},{"./_wks":278,dup:139}],278:[function(e,t,r){arguments[4][140][0].apply(r,arguments)},{"./_global":193,"./_shared":253,"./_uid":274,dup:140}],279:[function(e,t,r){arguments[4][141][0].apply(r,arguments)},{"./_classof":170,"./_core":176,"./_iterators":211,"./_wks":278,dup:141}],280:[function(e,t,r){var n=e("./_export"),o=e("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(e){return o(e)}})},{"./_export":186,"./_replacer":245}],281:[function(e,t,r){var n=e("./_export");n(n.P,"Array",{copyWithin:e("./_array-copy-within")}),e("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":158,"./_array-copy-within":161,"./_export":186}],282:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(4);n(n.P+n.F*!e("./_strict-method")([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":165,"./_export":186,"./_strict-method":255}],283:[function(e,t,r){var n=e("./_export");n(n.P,"Array",{fill:e("./_array-fill")}),e("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":158,"./_array-fill":162,"./_export":186}],284:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(2);n(n.P+n.F*!e("./_strict-method")([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":165,"./_export":186,"./_strict-method":255}],285:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(i)},{"./_add-to-unscopables":158,"./_array-methods":165,"./_export":186}],286:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n(n.P+n.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("find")},{"./_add-to-unscopables":158,"./_array-methods":165,"./_export":186}],287:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(0),i=e("./_strict-method")([].forEach,!0);n(n.P+n.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":165,"./_export":186,"./_strict-method":255}],288:[function(e,t,r){arguments[4][142][0].apply(r,arguments)},{"./_create-property":177,"./_ctx":178,"./_export":186,"./_is-array-iter":201,"./_iter-call":206,"./_iter-detect":209,"./_to-length":268,"./_to-object":269,"./core.get-iterator-method":279,dup:142}],289:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-includes")(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!e("./_strict-method")(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},{"./_array-includes":164,"./_export":186,"./_strict-method":255}],290:[function(e,t,r){var n=e("./_export");n(n.S,"Array",{isArray:e("./_is-array")})},{"./_export":186,"./_is-array":202}],291:[function(e,t,r){arguments[4][143][0].apply(r,arguments)},{"./_add-to-unscopables":158,"./_iter-define":208,"./_iter-step":210,"./_iterators":211,"./_to-iobject":267,dup:143}],292:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-iobject"),i=[].join;n(n.P+n.F*(e("./_iobject")!=Object||!e("./_strict-method")(i)),"Array",{join:function(e){return i.call(o(this),void 0===e?",":e)}})},{"./_export":186,"./_iobject":200,"./_strict-method":255,"./_to-iobject":267}],293:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-iobject"),i=e("./_to-integer"),a=e("./_to-length"),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!e("./_strict-method")(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=o(this),r=a(t.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,i(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},{"./_export":186,"./_strict-method":255,"./_to-integer":266,"./_to-iobject":267,"./_to-length":268}],294:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(1);n(n.P+n.F*!e("./_strict-method")([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":165,"./_export":186,"./_strict-method":255}],295:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_create-property");n(n.S+n.F*e("./_fails")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)o(r,e,arguments[e++]);return r.length=t,r}})},{"./_create-property":177,"./_export":186,"./_fails":188}],296:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-reduce");n(n.P+n.F*!e("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},{"./_array-reduce":166,"./_export":186,"./_strict-method":255}],297:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-reduce");n(n.P+n.F*!e("./_strict-method")([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},{"./_array-reduce":166,"./_export":186,"./_strict-method":255}],298:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_html"),i=e("./_cof"),a=e("./_to-absolute-index"),s=e("./_to-length"),u=[].slice;n(n.P+n.F*e("./_fails")(function(){o&&u.call(o)}),"Array",{slice:function(e,t){var r=s(this.length),n=i(this);if(t=void 0===t?r:t,"Array"==n)return u.call(this,e,t);for(var o=a(e,r),c=a(t,r),l=s(c-o),f=Array(l),d=0;d<l;d++)f[d]="String"==n?this.charAt(o+d):this[o+d];return f}})},{"./_cof":171,"./_export":186,"./_fails":188,"./_html":196,"./_to-absolute-index":264,"./_to-length":268}],299:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(3);n(n.P+n.F*!e("./_strict-method")([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":165,"./_export":186,"./_strict-method":255}],300:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_a-function"),i=e("./_to-object"),a=e("./_fails"),s=[].sort,u=[1,2,3];n(n.P+n.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!e("./_strict-method")(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),o(e))}})},{"./_a-function":156,"./_export":186,"./_fails":188,"./_strict-method":255,"./_to-object":269}],301:[function(e,t,r){e("./_set-species")("Array")},{"./_set-species":250}],302:[function(e,t,r){var n=e("./_export");n(n.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":186}],303:[function(e,t,r){var n=e("./_export"),o=e("./_date-to-iso-string");n(n.P+n.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},{"./_date-to-iso-string":179,"./_export":186}],304:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_to-primitive");n(n.P+n.F*e("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),r=i(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},{"./_export":186,"./_fails":188,"./_to-object":269,"./_to-primitive":270}],305:[function(e,t,r){var n=e("./_wks")("toPrimitive"),o=Date.prototype;n in o||e("./_hide")(o,n,e("./_date-to-primitive"))},{"./_date-to-primitive":180,"./_hide":195,"./_wks":278}],306:[function(e,t,r){var n=Date.prototype,o="Invalid Date",i=n.toString,a=n.getTime;new Date(NaN)+""!=o&&e("./_redefine")(n,"toString",function(){var e=a.call(this);return e==e?i.call(this):o})},{"./_redefine":244}],307:[function(e,t,r){var n=e("./_export");n(n.P,"Function",{bind:e("./_bind")})},{"./_bind":169,"./_export":186}],308:[function(e,t,r){"use strict";var n=e("./_is-object"),o=e("./_object-gpo"),i=e("./_wks")("hasInstance"),a=Function.prototype;i in a||e("./_object-dp").f(a,i,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},{"./_is-object":204,"./_object-dp":224,"./_object-gpo":231,"./_wks":278}],309:[function(e,t,r){var n=e("./_object-dp").f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||e("./_descriptors")&&n(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},{"./_descriptors":182,"./_object-dp":224}],310:[function(e,t,r){"use strict";var n=e("./_collection-strong"),o=e("./_validate-collection");t.exports=e("./_collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(o(this,"Map"),0===e?0:e,t)}},n,!0)},{"./_collection":175,"./_collection-strong":172,"./_validate-collection":275}],311:[function(e,t,r){var n=e("./_export"),o=e("./_math-log1p"),i=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},{"./_export":186,"./_math-log1p":215}],312:[function(e,t,r){var n=e("./_export"),o=Math.asinh;n(n.S+n.F*!(o&&1/o(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{"./_export":186}],313:[function(e,t,r){var n=e("./_export"),o=Math.atanh;n(n.S+n.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{"./_export":186}],314:[function(e,t,r){var n=e("./_export"),o=e("./_math-sign");n(n.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},{"./_export":186,"./_math-sign":217}],315:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{"./_export":186}],316:[function(e,t,r){var n=e("./_export"),o=Math.exp;n(n.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},{"./_export":186}],317:[function(e,t,r){var n=e("./_export"),o=e("./_math-expm1");n(n.S+n.F*(o!=Math.expm1),"Math",{expm1:o})},{"./_export":186,"./_math-expm1":213}],318:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{fround:e("./_math-fround")})},{"./_export":186,"./_math-fround":214}],319:[function(e,t,r){var n=e("./_export"),o=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var r,n,i=0,a=0,s=arguments.length,u=0;a<s;)u<(r=o(arguments[a++]))?(i=i*(n=u/r)*n+1,u=r):i+=r>0?(n=r/u)*n:r;return u===1/0?1/0:u*Math.sqrt(i)}})},{"./_export":186}],320:[function(e,t,r){var n=e("./_export"),o=Math.imul;n(n.S+n.F*e("./_fails")(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var r=+e,n=+t,o=65535&r,i=65535&n;return 0|o*i+((65535&r>>>16)*i+o*(65535&n>>>16)<<16>>>0)}})},{"./_export":186,"./_fails":188}],321:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{"./_export":186}],322:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{log1p:e("./_math-log1p")})},{"./_export":186,"./_math-log1p":215}],323:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{"./_export":186}],324:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{sign:e("./_math-sign")})},{"./_export":186,"./_math-sign":217}],325:[function(e,t,r){var n=e("./_export"),o=e("./_math-expm1"),i=Math.exp;n(n.S+n.F*e("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},{"./_export":186,"./_fails":188,"./_math-expm1":213}],326:[function(e,t,r){var n=e("./_export"),o=e("./_math-expm1"),i=Math.exp;n(n.S,"Math",{tanh:function(e){var t=o(e=+e),r=o(-e);return t==1/0?1:r==1/0?-1:(t-r)/(i(e)+i(-e))}})},{"./_export":186,"./_math-expm1":213}],327:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{"./_export":186}],328:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_has"),i=e("./_cof"),a=e("./_inherit-if-required"),s=e("./_to-primitive"),u=e("./_fails"),c=e("./_object-gopn").f,l=e("./_object-gopd").f,f=e("./_object-dp").f,d=e("./_string-trim").trim,h="Number",p=n[h],b=p,v=p.prototype,y=i(e("./_object-create")(v))==h,_="trim"in String.prototype,m=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var r,n,o,i=(t=_?t.trim():d(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+t}for(var a,u=t.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>o)return NaN;return parseInt(u,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof p&&(y?u(function(){v.valueOf.call(r)}):i(r)!=h)?a(new b(m(t)),r,p):m(t)};for(var g,w=e("./_descriptors")?c(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)o(b,g=w[x])&&!o(p,g)&&f(p,g,l(b,g));p.prototype=v,v.constructor=p,e("./_redefine")(n,h,p)}},{"./_cof":171,"./_descriptors":182,"./_fails":188,"./_global":193,"./_has":194,"./_inherit-if-required":198,"./_object-create":223,"./_object-dp":224,"./_object-gopd":227,"./_object-gopn":229,"./_redefine":244,"./_string-trim":261,"./_to-primitive":270}],329:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":186}],330:[function(e,t,r){var n=e("./_export"),o=e("./_global").isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},{"./_export":186,"./_global":193}],331:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":186,"./_is-integer":203}],332:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{isNaN:function(e){return e!=e}})},{"./_export":186}],333:[function(e,t,r){var n=e("./_export"),o=e("./_is-integer"),i=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},{"./_export":186,"./_is-integer":203}],334:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":186}],335:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":186}],336:[function(e,t,r){var n=e("./_export"),o=e("./_parse-float");n(n.S+n.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},{"./_export":186,"./_parse-float":238}],337:[function(e,t,r){var n=e("./_export"),o=e("./_parse-int");n(n.S+n.F*(Number.parseInt!=o),"Number",{parseInt:o})},{"./_export":186,"./_parse-int":239}],338:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-integer"),i=e("./_a-number-value"),a=e("./_string-repeat"),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(e,t){for(var r=-1,n=t;++r<6;)n+=e*c[r],c[r]=n%1e7,n=u(n/1e7)},d=function(e){for(var t=6,r=0;--t>=0;)r+=c[t],c[t]=u(r/e),r=r%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var r=String(c[e]);t=""===t?r:t+a.call("0",7-r.length)+r}return t},p=function(e,t,r){return 0===t?r:t%2==1?p(e,t-1,r*e):p(e*e,t/2,r)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e("./_fails")(function(){s.call({})})),"Number",{toFixed:function(e){var t,r,n,s,u=i(this,l),c=o(e),b="",v="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(b="-",u=-u),u>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(u*p(2,69,1))-69)<0?u*p(2,-t,1):u/p(2,t,1),r*=4503599627370496,(t=52-t)>0){for(f(0,r),n=c;n>=7;)f(1e7,0),n-=7;for(f(p(10,n,1),0),n=t-1;n>=23;)d(1<<23),n-=23;d(1<<n),f(1,1),d(2),v=h()}else f(0,r),f(1<<-t,0),v=h()+a.call("0",c);return v=c>0?b+((s=v.length)<=c?"0."+a.call("0",c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c)):b+v}})},{"./_a-number-value":157,"./_export":186,"./_fails":188,"./_string-repeat":260,"./_to-integer":266}],339:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_fails"),i=e("./_a-number-value"),a=1..toPrecision;n(n.P+n.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},{"./_a-number-value":157,"./_export":186,"./_fails":188}],340:[function(e,t,r){var n=e("./_export");n(n.S+n.F,"Object",{assign:e("./_object-assign")})},{"./_export":186,"./_object-assign":222}],341:[function(e,t,r){arguments[4][144][0].apply(r,arguments)},{"./_export":186,"./_object-create":223,dup:144}],342:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperties:e("./_object-dps")})},{"./_descriptors":182,"./_export":186,"./_object-dps":225}],343:[function(e,t,r){arguments[4][145][0].apply(r,arguments)},{"./_descriptors":182,"./_export":186,"./_object-dp":224,dup:145}],344:[function(e,t,r){var n=e("./_is-object"),o=e("./_meta").onFreeze;e("./_object-sap")("freeze",function(e){return function(t){return e&&n(t)?e(o(t)):t}})},{"./_is-object":204,"./_meta":218,"./_object-sap":235}],345:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(e,t){return o(n(e),t)}})},{"./_object-gopd":227,"./_object-sap":235,"./_to-iobject":267}],346:[function(e,t,r){e("./_object-sap")("getOwnPropertyNames",function(){return e("./_object-gopn-ext").f})},{"./_object-gopn-ext":228,"./_object-sap":235}],347:[function(e,t,r){var n=e("./_to-object"),o=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return o(n(e))}})},{"./_object-gpo":231,"./_object-sap":235,"./_to-object":269}],348:[function(e,t,r){var n=e("./_is-object");e("./_object-sap")("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},{"./_is-object":204,"./_object-sap":235}],349:[function(e,t,r){var n=e("./_is-object");e("./_object-sap")("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},{"./_is-object":204,"./_object-sap":235}],350:[function(e,t,r){var n=e("./_is-object");e("./_object-sap")("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},{"./_is-object":204,"./_object-sap":235}],351:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{is:e("./_same-value")})},{"./_export":186,"./_same-value":246}],352:[function(e,t,r){var n=e("./_to-object"),o=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return o(n(e))}})},{"./_object-keys":233,"./_object-sap":235,"./_to-object":269}],353:[function(e,t,r){var n=e("./_is-object"),o=e("./_meta").onFreeze;e("./_object-sap")("preventExtensions",function(e){return function(t){return e&&n(t)?e(o(t)):t}})},{"./_is-object":204,"./_meta":218,"./_object-sap":235}],354:[function(e,t,r){var n=e("./_is-object"),o=e("./_meta").onFreeze;e("./_object-sap")("seal",function(e){return function(t){return e&&n(t)?e(o(t)):t}})},{"./_is-object":204,"./_meta":218,"./_object-sap":235}],355:[function(e,t,r){arguments[4][146][0].apply(r,arguments)},{"./_export":186,"./_set-proto":249,dup:146}],356:[function(e,t,r){"use strict";var n=e("./_classof"),o={};o[e("./_wks")("toStringTag")]="z",o+""!="[object z]"&&e("./_redefine")(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},{"./_classof":170,"./_redefine":244,"./_wks":278}],357:[function(e,t,r){var n=e("./_export"),o=e("./_parse-float");n(n.G+n.F*(parseFloat!=o),{parseFloat:o})},{"./_export":186,"./_parse-float":238}],358:[function(e,t,r){var n=e("./_export"),o=e("./_parse-int");n(n.G+n.F*(parseInt!=o),{parseInt:o})},{"./_export":186,"./_parse-int":239}],359:[function(e,t,r){arguments[4][148][0].apply(r,arguments)},{"./_a-function":156,"./_an-instance":159,"./_classof":170,"./_core":176,"./_ctx":178,"./_export":186,"./_for-of":192,"./_global":193,"./_is-object":204,"./_iter-detect":209,"./_library":212,"./_microtask":220,"./_new-promise-capability":221,"./_perform":240,"./_promise-resolve":241,"./_redefine-all":243,"./_set-species":250,"./_set-to-string-tag":251,"./_species-constructor":254,"./_task":263,"./_wks":278,dup:148}],360:[function(e,t,r){var n=e("./_export"),o=e("./_a-function"),i=e("./_an-object"),a=(e("./_global").Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!e("./_fails")(function(){a(function(){})}),"Reflect",{apply:function(e,t,r){var n=o(e),u=i(r);return a?a(n,t,u):s.call(n,t,u)}})},{"./_a-function":156,"./_an-object":160,"./_export":186,"./_fails":188,"./_global":193}],361:[function(e,t,r){var n=e("./_export"),o=e("./_object-create"),i=e("./_a-function"),a=e("./_an-object"),s=e("./_is-object"),u=e("./_fails"),c=e("./_bind"),l=(e("./_global").Reflect||{}).construct,f=u(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),d=!u(function(){l(function(){})});n(n.S+n.F*(f||d),"Reflect",{construct:function(e,t){i(e),a(t);var r=arguments.length<3?e:i(arguments[2]);if(d&&!f)return l(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(c.apply(e,n))}var u=r.prototype,h=o(s(u)?u:Object.prototype),p=Function.apply.call(e,h,t);return s(p)?p:h}})},{"./_a-function":156,"./_an-object":160,"./_bind":169,"./_export":186,"./_fails":188,"./_global":193,"./_is-object":204,"./_object-create":223}],362:[function(e,t,r){var n=e("./_object-dp"),o=e("./_export"),i=e("./_an-object"),a=e("./_to-primitive");o(o.S+o.F*e("./_fails")(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,r){i(e),t=a(t,!0),i(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},{"./_an-object":160,"./_export":186,"./_fails":188,"./_object-dp":224,"./_to-primitive":270}],363:[function(e,t,r){var n=e("./_export"),o=e("./_object-gopd").f,i=e("./_an-object");n(n.S,"Reflect",{deleteProperty:function(e,t){var r=o(i(e),t);return!(r&&!r.configurable)&&delete e[t]}})},{"./_an-object":160,"./_export":186,"./_object-gopd":227}],364:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_an-object"),i=function(e){this._t=o(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)};e("./_iter-create")(i,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new i(e)}})},{"./_an-object":160,"./_export":186,"./_iter-create":207}],365:[function(e,t,r){var n=e("./_object-gopd"),o=e("./_export"),i=e("./_an-object");o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(i(e),t)}})},{"./_an-object":160,"./_export":186,"./_object-gopd":227}],366:[function(e,t,r){var n=e("./_export"),o=e("./_object-gpo"),i=e("./_an-object");n(n.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},{"./_an-object":160,"./_export":186,"./_object-gpo":231}],367:[function(e,t,r){var n=e("./_object-gopd"),o=e("./_object-gpo"),i=e("./_has"),a=e("./_export"),s=e("./_is-object"),u=e("./_an-object");a(a.S,"Reflect",{get:function e(t,r){var a,c,l=arguments.length<3?t:arguments[2];return u(t)===l?t[r]:(a=n.f(t,r))?i(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=o(t))?e(c,r,l):void 0}})},{"./_an-object":160,"./_export":186,"./_has":194,"./_is-object":204,"./_object-gopd":227,"./_object-gpo":231}],368:[function(e,t,r){var n=e("./_export");n(n.S,"Reflect",{has:function(e,t){return t in e}})},{"./_export":186}],369:[function(e,t,r){var n=e("./_export"),o=e("./_an-object"),i=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},{"./_an-object":160,"./_export":186}],370:[function(e,t,r){var n=e("./_export");n(n.S,"Reflect",{ownKeys:e("./_own-keys")})},{"./_export":186,"./_own-keys":237}],371:[function(e,t,r){var n=e("./_export"),o=e("./_an-object"),i=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},{"./_an-object":160,"./_export":186}],372:[function(e,t,r){var n=e("./_export"),o=e("./_set-proto");o&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},{"./_export":186,"./_set-proto":249}],373:[function(e,t,r){var n=e("./_object-dp"),o=e("./_object-gopd"),i=e("./_object-gpo"),a=e("./_has"),s=e("./_export"),u=e("./_property-desc"),c=e("./_an-object"),l=e("./_is-object");s(s.S,"Reflect",{set:function e(t,r,s){var f,d,h=arguments.length<4?t:arguments[3],p=o.f(c(t),r);if(!p){if(l(d=i(t)))return e(d,r,s,h);p=u(0)}return a(p,"value")?!(!1===p.writable||!l(h)||((f=o.f(h,r)||u(0)).value=s,n.f(h,r,f),0)):void 0!==p.set&&(p.set.call(h,s),!0)}})},{"./_an-object":160,"./_export":186,"./_has":194,"./_is-object":204,"./_object-dp":224,"./_object-gopd":227,"./_object-gpo":231,"./_property-desc":242}],374:[function(e,t,r){var n=e("./_global"),o=e("./_inherit-if-required"),i=e("./_object-dp").f,a=e("./_object-gopn").f,s=e("./_is-regexp"),u=e("./_flags"),c=n.RegExp,l=c,f=c.prototype,d=/a/g,h=/a/g,p=new c(d)!==d;if(e("./_descriptors")&&(!p||e("./_fails")(function(){return h[e("./_wks")("match")]=!1,c(d)!=d||c(h)==h||"/a/i"!=c(d,"i")}))){c=function(e,t){var r=this instanceof c,n=s(e),i=void 0===t;return!r&&n&&e.constructor===c&&i?e:o(p?new l(n&&!i?e.source:e,t):l((n=e instanceof c)?e.source:e,n&&i?u.call(e):t),r?this:f,c)};for(var b=function(e){e in c||i(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},v=a(l),y=0;v.length>y;)b(v[y++]);f.constructor=c,c.prototype=f,e("./_redefine")(n,"RegExp",c)}e("./_set-species")("RegExp")},{"./_descriptors":182,"./_fails":188,"./_flags":190,"./_global":193,"./_inherit-if-required":198,"./_is-regexp":205,"./_object-dp":224,"./_object-gopn":229,"./_redefine":244,"./_set-species":250,"./_wks":278}],375:[function(e,t,r){e("./_descriptors")&&"g"!=/./g.flags&&e("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:e("./_flags")})},{"./_descriptors":182,"./_flags":190,"./_object-dp":224}],376:[function(e,t,r){e("./_fix-re-wks")("match",1,function(e,t,r){return[function(r){"use strict";var n=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,n):new RegExp(r)[t](String(n))},r]})},{"./_fix-re-wks":189}],377:[function(e,t,r){e("./_fix-re-wks")("replace",2,function(e,t,r){return[function(n,o){"use strict";var i=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,i,o):r.call(String(i),n,o)},r]})},{"./_fix-re-wks":189}],378:[function(e,t,r){e("./_fix-re-wks")("search",1,function(e,t,r){return[function(r){"use strict";var n=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,n):new RegExp(r)[t](String(n))},r]})},{"./_fix-re-wks":189}],379:[function(e,t,r){e("./_fix-re-wks")("split",2,function(t,r,n){"use strict";var o=e("./_is-regexp"),i=n,a=[].push,s="split",u="length";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[u]||2!="ab"[s](/(?:ab)*/)[u]||4!="."[s](/(.?)(.?)/)[u]||"."[s](/()()/)[u]>1||""[s](/.?/)[u]){var c=void 0===/()??/.exec("")[1];n=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!o(e))return i.call(r,e,t);var n,s,l,f,d,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),b=0,v=void 0===t?4294967295:t>>>0,y=new RegExp(e.source,p+"g");for(c||(n=new RegExp("^"+y.source+"$(?!\\s)",p));(s=y.exec(r))&&!((l=s.index+s[0][u])>b&&(h.push(r.slice(b,s.index)),!c&&s[u]>1&&s[0].replace(n,function(){for(d=1;d<arguments[u]-2;d++)void 0===arguments[d]&&(s[d]=void 0)}),s[u]>1&&s.index<r[u]&&a.apply(h,s.slice(1)),f=s[0][u],b=l,h[u]>=v));)y.lastIndex===s.index&&y.lastIndex++;return b===r[u]?!f&&y.test("")||h.push(""):h.push(r.slice(b)),h[u]>v?h.slice(0,v):h}}else"0"[s](void 0,0)[u]&&(n=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function(e,o){var i=t(this),a=void 0==e?void 0:e[r];return void 0!==a?a.call(e,i,o):n.call(String(i),e,o)},n]})},{"./_fix-re-wks":189,"./_is-regexp":205}],380:[function(e,t,r){"use strict";e("./es6.regexp.flags");var n=e("./_an-object"),o=e("./_flags"),i=e("./_descriptors"),a="toString",s=/./[a],u=function(t){e("./_redefine")(RegExp.prototype,a,t,!0)};e("./_fails")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):s.name!=a&&u(function(){return s.call(this)})},{"./_an-object":160,"./_descriptors":182,"./_fails":188,"./_flags":190,"./_redefine":244,"./es6.regexp.flags":375}],381:[function(e,t,r){"use strict";var n=e("./_collection-strong"),o=e("./_validate-collection");t.exports=e("./_collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(o(this,"Set"),e=0===e?0:e,e)}},n)},{"./_collection":175,"./_collection-strong":172,"./_validate-collection":275}],382:[function(e,t,r){"use strict";e("./_string-html")("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{"./_string-html":258}],383:[function(e,t,r){"use strict";e("./_string-html")("big",function(e){return function(){return e(this,"big","","")}})},{"./_string-html":258}],384:[function(e,t,r){"use strict";e("./_string-html")("blink",function(e){return function(){return e(this,"blink","","")}})},{"./_string-html":258}],385:[function(e,t,r){"use strict";e("./_string-html")("bold",function(e){return function(){return e(this,"b","","")}})},{"./_string-html":258}],386:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-at")(!1);n(n.P,"String",{codePointAt:function(e){return o(this,e)}})},{"./_export":186,"./_string-at":256}],387:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-length"),i=e("./_string-context"),a="endsWith",s=""[a];n(n.P+n.F*e("./_fails-is-regexp")(a),"String",{endsWith:function(e){var t=i(this,e,a),r=arguments.length>1?arguments[1]:void 0,n=o(t.length),u=void 0===r?n:Math.min(o(r),n),c=String(e);return s?s.call(t,c,u):t.slice(u-c.length,u)===c}})},{"./_export":186,"./_fails-is-regexp":187,"./_string-context":257,"./_to-length":268}],388:[function(e,t,r){"use strict";e("./_string-html")("fixed",function(e){return function(){return e(this,"tt","","")}})},{"./_string-html":258}],389:[function(e,t,r){"use strict";e("./_string-html")("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},{"./_string-html":258}],390:[function(e,t,r){"use strict";e("./_string-html")("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},{"./_string-html":258}],391:[function(e,t,r){var n=e("./_export"),o=e("./_to-absolute-index"),i=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},{"./_export":186,"./_to-absolute-index":264}],392:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-context");n(n.P+n.F*e("./_fails-is-regexp")("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{"./_export":186,"./_fails-is-regexp":187,"./_string-context":257}],393:[function(e,t,r){"use strict";e("./_string-html")("italics",function(e){return function(){return e(this,"i","","")}})},{"./_string-html":258}],394:[function(e,t,r){arguments[4][149][0].apply(r,arguments)},{"./_iter-define":208,"./_string-at":256,dup:149}],395:[function(e,t,r){"use strict";e("./_string-html")("link",function(e){return function(t){return e(this,"a","href",t)}})},{"./_string-html":258}],396:[function(e,t,r){var n=e("./_export"),o=e("./_to-iobject"),i=e("./_to-length");n(n.S,"String",{raw:function(e){for(var t=o(e.raw),r=i(t.length),n=arguments.length,a=[],s=0;r>s;)a.push(String(t[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},{"./_export":186,"./_to-iobject":267,"./_to-length":268}],397:[function(e,t,r){var n=e("./_export");n(n.P,"String",{repeat:e("./_string-repeat")})},{"./_export":186,"./_string-repeat":260}],398:[function(e,t,r){"use strict";e("./_string-html")("small",function(e){return function(){return e(this,"small","","")}})},{"./_string-html":258}],399:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-length"),i=e("./_string-context"),a="startsWith",s=""[a];n(n.P+n.F*e("./_fails-is-regexp")(a),"String",{startsWith:function(e){var t=i(this,e,a),r=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return s?s.call(t,n,r):t.slice(r,r+n.length)===n}})},{"./_export":186,"./_fails-is-regexp":187,"./_string-context":257,"./_to-length":268}],400:[function(e,t,r){"use strict";e("./_string-html")("strike",function(e){return function(){return e(this,"strike","","")}})},{"./_string-html":258}],401:[function(e,t,r){"use strict";e("./_string-html")("sub",function(e){return function(){return e(this,"sub","","")}})},{"./_string-html":258}],402:[function(e,t,r){"use strict";e("./_string-html")("sup",function(e){return function(){return e(this,"sup","","")}})},{"./_string-html":258}],403:[function(e,t,r){"use strict";e("./_string-trim")("trim",function(e){return function(){return e(this,3)}})},{"./_string-trim":261}],404:[function(e,t,r){arguments[4][150][0].apply(r,arguments)},{"./_an-object":160,"./_descriptors":182,"./_enum-keys":185,"./_export":186,"./_fails":188,"./_global":193,"./_has":194,"./_hide":195,"./_is-array":202,"./_library":212,"./_meta":218,"./_object-create":223,"./_object-dp":224,"./_object-gopd":227,"./_object-gopn":229,"./_object-gopn-ext":228,"./_object-gops":230,"./_object-keys":233,"./_object-pie":234,"./_property-desc":242,"./_redefine":244,"./_set-to-string-tag":251,"./_shared":253,"./_to-iobject":267,"./_to-primitive":270,"./_uid":274,"./_wks":278,"./_wks-define":276,"./_wks-ext":277,dup:150}],405:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_typed"),i=e("./_typed-buffer"),a=e("./_an-object"),s=e("./_to-absolute-index"),u=e("./_to-length"),c=e("./_is-object"),l=e("./_global").ArrayBuffer,f=e("./_species-constructor"),d=i.ArrayBuffer,h=i.DataView,p=o.ABV&&l.isView,b=d.prototype.slice,v=o.VIEW,y="ArrayBuffer";n(n.G+n.W+n.F*(l!==d),{ArrayBuffer:d}),n(n.S+n.F*!o.CONSTR,y,{isView:function(e){return p&&p(e)||c(e)&&v in e}}),n(n.P+n.U+n.F*e("./_fails")(function(){return!new d(2).slice(1,void 0).byteLength}),y,{slice:function(e,t){if(void 0!==b&&void 0===t)return b.call(a(this),e);for(var r=a(this).byteLength,n=s(e,r),o=s(void 0===t?r:t,r),i=new(f(this,d))(u(o-n)),c=new h(this),l=new h(i),p=0;n<o;)l.setUint8(p++,c.getUint8(n++));return i}}),e("./_set-species")(y)},{"./_an-object":160,"./_export":186,"./_fails":188,"./_global":193,"./_is-object":204,"./_set-species":250,"./_species-constructor":254,"./_to-absolute-index":264,"./_to-length":268,"./_typed":273,"./_typed-buffer":272}],406:[function(e,t,r){var n=e("./_export");n(n.G+n.W+n.F*!e("./_typed").ABV,{DataView:e("./_typed-buffer").DataView})},{"./_export":186,"./_typed":273,"./_typed-buffer":272}],407:[function(e,t,r){e("./_typed-array")("Float32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":271}],408:[function(e,t,r){e("./_typed-array")("Float64",8,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":271}],409:[function(e,t,r){e("./_typed-array")("Int16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":271}],410:[function(e,t,r){e("./_typed-array")("Int32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":271}],411:[function(e,t,r){e("./_typed-array")("Int8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":271}],412:[function(e,t,r){e("./_typed-array")("Uint16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":271}],413:[function(e,t,r){e("./_typed-array")("Uint32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":271}],414:[function(e,t,r){e("./_typed-array")("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":271}],415:[function(e,t,r){e("./_typed-array")("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}},!0)},{"./_typed-array":271}],416:[function(e,t,r){"use strict";var n,o=e("./_array-methods")(0),i=e("./_redefine"),a=e("./_meta"),s=e("./_object-assign"),u=e("./_collection-weak"),c=e("./_is-object"),l=e("./_fails"),f=e("./_validate-collection"),d="WeakMap",h=a.getWeak,p=Object.isExtensible,b=u.ufstore,v={},y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(e){if(c(e)){var t=h(e);return!0===t?b(f(this,d)).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,d),e,t)}},m=t.exports=e("./_collection")(d,y,_,u,!0,!0);l(function(){return 7!=(new m).set((Object.freeze||Object)(v),7).get(v)})&&(s((n=u.getConstructor(y,d)).prototype,_),a.NEED=!0,o(["delete","has","get","set"],function(e){var t=m.prototype,r=t[e];i(t,e,function(t,o){if(c(t)&&!p(t)){this._f||(this._f=new n);var i=this._f[e](t,o);return"set"==e?this:i}return r.call(this,t,o)})}))},{"./_array-methods":165,"./_collection":175,"./_collection-weak":174,"./_fails":188,"./_is-object":204,"./_meta":218,"./_object-assign":222,"./_redefine":244,"./_validate-collection":275}],417:[function(e,t,r){"use strict";var n=e("./_collection-weak"),o=e("./_validate-collection");e("./_collection")("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(o(this,"WeakSet"),e,!0)}},n,!1,!0)},{"./_collection":175,"./_collection-weak":174,"./_validate-collection":275}],418:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_flatten-into-array"),i=e("./_to-object"),a=e("./_to-length"),s=e("./_a-function"),u=e("./_array-species-create");n(n.P,"Array",{flatMap:function(e){var t,r,n=i(this);return s(e),t=a(n.length),r=u(n,0),o(r,n,n,t,0,1,e,arguments[1]),r}}),e("./_add-to-unscopables")("flatMap")},{"./_a-function":156,"./_add-to-unscopables":158,"./_array-species-create":168,"./_export":186,"./_flatten-into-array":191,"./_to-length":268,"./_to-object":269}],419:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_flatten-into-array"),i=e("./_to-object"),a=e("./_to-length"),s=e("./_to-integer"),u=e("./_array-species-create");n(n.P,"Array",{flatten:function(){var e=arguments[0],t=i(this),r=a(t.length),n=u(t,0);return o(n,t,t,r,0,void 0===e?1:s(e)),n}}),e("./_add-to-unscopables")("flatten")},{"./_add-to-unscopables":158,"./_array-species-create":168,"./_export":186,"./_flatten-into-array":191,"./_to-integer":266,"./_to-length":268,"./_to-object":269}],420:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-includes")(!0);n(n.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":158,"./_array-includes":164,"./_export":186}],421:[function(e,t,r){var n=e("./_export"),o=e("./_microtask")(),i=e("./_global").process,a="process"==e("./_cof")(i);n(n.G,{asap:function(e){var t=a&&i.domain;o(t?t.bind(e):e)}})},{"./_cof":171,"./_export":186,"./_global":193,"./_microtask":220}],422:[function(e,t,r){var n=e("./_export"),o=e("./_cof");n(n.S,"Error",{isError:function(e){return"Error"===o(e)}})},{"./_cof":171,"./_export":186}],423:[function(e,t,r){var n=e("./_export");n(n.G,{global:e("./_global")})},{"./_export":186,"./_global":193}],424:[function(e,t,r){e("./_set-collection-from")("Map")},{"./_set-collection-from":247}],425:[function(e,t,r){e("./_set-collection-of")("Map")},{"./_set-collection-of":248}],426:[function(e,t,r){var n=e("./_export");n(n.P+n.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":173,"./_export":186}],427:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{clamp:function(e,t,r){return Math.min(r,Math.max(t,e))}})},{"./_export":186}],428:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},{"./_export":186}],429:[function(e,t,r){var n=e("./_export"),o=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*o}})},{"./_export":186}],430:[function(e,t,r){var n=e("./_export"),o=e("./_math-scale"),i=e("./_math-fround");n(n.S,"Math",{fscale:function(e,t,r,n,a){return i(o(e,t,r,n,a))}})},{"./_export":186,"./_math-fround":214,"./_math-scale":216}],431:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{iaddh:function(e,t,r,n){var o=e>>>0,i=r>>>0;return(t>>>0)+(n>>>0)+((o&i|(o|i)&~(o+i>>>0))>>>31)|0}})},{"./_export":186}],432:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{imulh:function(e,t){var r=+e,n=+t,o=65535&r,i=65535&n,a=r>>16,s=n>>16,u=(a*i>>>0)+(o*i>>>16);return a*s+(u>>16)+((o*s>>>0)+(65535&u)>>16)}})},{"./_export":186}],433:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{isubh:function(e,t,r,n){var o=e>>>0,i=r>>>0;return(t>>>0)-(n>>>0)-((~o&i|~(o^i)&o-i>>>0)>>>31)|0}})},{"./_export":186}],434:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},{"./_export":186}],435:[function(e,t,r){var n=e("./_export"),o=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*o}})},{"./_export":186}],436:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{scale:e("./_math-scale")})},{"./_export":186,"./_math-scale":216}],437:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},{"./_export":186}],438:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{umulh:function(e,t){var r=+e,n=+t,o=65535&r,i=65535&n,a=r>>>16,s=n>>>16,u=(a*i>>>0)+(o*i>>>16);return a*s+(u>>>16)+((o*s>>>0)+(65535&u)>>>16)}})},{"./_export":186}],439:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_a-function"),a=e("./_object-dp");e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__defineGetter__:function(e,t){a.f(o(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},{"./_a-function":156,"./_descriptors":182,"./_export":186,"./_object-dp":224,"./_object-forced-pam":226,"./_to-object":269}],440:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_a-function"),a=e("./_object-dp");e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__defineSetter__:function(e,t){a.f(o(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},{"./_a-function":156,"./_descriptors":182,"./_export":186,"./_object-dp":224,"./_object-forced-pam":226,"./_to-object":269}],441:[function(e,t,r){var n=e("./_export"),o=e("./_object-to-array")(!0);n(n.S,"Object",{entries:function(e){return o(e)}})},{"./_export":186,"./_object-to-array":236}],442:[function(e,t,r){var n=e("./_export"),o=e("./_own-keys"),i=e("./_to-iobject"),a=e("./_object-gopd"),s=e("./_create-property");n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=i(e),u=a.f,c=o(n),l={},f=0;c.length>f;)void 0!==(r=u(n,t=c[f++]))&&s(l,t,r);return l}})},{"./_create-property":177,"./_export":186,"./_object-gopd":227,"./_own-keys":237,"./_to-iobject":267}],443:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_to-primitive"),a=e("./_object-gpo"),s=e("./_object-gopd").f;e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__lookupGetter__:function(e){var t,r=o(this),n=i(e,!0);do{if(t=s(r,n))return t.get}while(r=a(r))}})},{"./_descriptors":182,"./_export":186,"./_object-forced-pam":226,"./_object-gopd":227,"./_object-gpo":231,"./_to-object":269,"./_to-primitive":270}],444:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_to-primitive"),a=e("./_object-gpo"),s=e("./_object-gopd").f;e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__lookupSetter__:function(e){var t,r=o(this),n=i(e,!0);do{if(t=s(r,n))return t.set}while(r=a(r))}})},{"./_descriptors":182,"./_export":186,"./_object-forced-pam":226,"./_object-gopd":227,"./_object-gpo":231,"./_to-object":269,"./_to-primitive":270}],445:[function(e,t,r){var n=e("./_export"),o=e("./_object-to-array")(!1);n(n.S,"Object",{values:function(e){return o(e)}})},{"./_export":186,"./_object-to-array":236}],446:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_global"),i=e("./_core"),a=e("./_microtask")(),s=e("./_wks")("observable"),u=e("./_a-function"),c=e("./_an-object"),l=e("./_an-instance"),f=e("./_redefine-all"),d=e("./_hide"),h=e("./_for-of"),p=h.RETURN,b=function(e){return null==e?void 0:u(e)},v=function(e){var t=e._c;t&&(e._c=void 0,t())},y=function(e){return void 0===e._o},_=function(e){y(e)||(e._o=void 0,v(e))},m=function(e,t){c(e),this._c=void 0,this._o=e,e=new g(this);try{var r=t(e),n=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){n.unsubscribe()}:u(r),this._c=r)}catch(t){return void e.error(t)}y(this)&&v(this)};m.prototype=f({},{unsubscribe:function(){_(this)}});var g=function(e){this._s=e};g.prototype=f({},{next:function(e){var t=this._s;if(!y(t)){var r=t._o;try{var n=b(r.next);if(n)return n.call(r,e)}catch(e){try{_(t)}finally{throw e}}}},error:function(e){var t=this._s;if(y(t))throw e;var r=t._o;t._o=void 0;try{var n=b(r.error);if(!n)throw e;e=n.call(r,e)}catch(e){try{v(t)}finally{throw e}}return v(t),e},complete:function(e){var t=this._s;if(!y(t)){var r=t._o;t._o=void 0;try{var n=b(r.complete);e=n?n.call(r,e):void 0}catch(e){try{v(t)}finally{throw e}}return v(t),e}}});var w=function(e){l(this,w,"Observable","_f")._f=u(e)};f(w.prototype,{subscribe:function(e){return new m(e,this._f)},forEach:function(e){var t=this;return new(i.Promise||o.Promise)(function(r,n){u(e);var o=t.subscribe({next:function(t){try{return e(t)}catch(e){n(e),o.unsubscribe()}},error:n,complete:r})})}}),f(w,{from:function(e){var t="function"==typeof this?this:w,r=b(c(e)[s]);if(r){var n=c(r.call(e));return n.constructor===t?n:new t(function(e){return n.subscribe(e)})}return new t(function(t){var r=!1;return a(function(){if(!r){try{if(h(e,!1,function(e){if(t.next(e),r)return p})===p)return}catch(e){if(r)throw e;return void t.error(e)}t.complete()}}),function(){r=!0}})},of:function(){for(var e=0,t=arguments.length,r=Array(t);e<t;)r[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return a(function(){if(!t){for(var n=0;n<r.length;++n)if(e.next(r[n]),t)return;e.complete()}}),function(){t=!0}})}}),d(w.prototype,s,function(){return this}),n(n.G,{Observable:w}),e("./_set-species")("Observable")},{"./_a-function":156,"./_an-instance":159,"./_an-object":160,"./_core":176,"./_export":186,"./_for-of":192,"./_global":193,"./_hide":195,"./_microtask":220,"./_redefine-all":243,"./_set-species":250,"./_wks":278}],447:[function(e,t,r){arguments[4][151][0].apply(r,arguments)},{"./_core":176,"./_export":186,"./_global":193,"./_promise-resolve":241,"./_species-constructor":254,dup:151}],448:[function(e,t,r){arguments[4][152][0].apply(r,arguments)},{"./_export":186,"./_new-promise-capability":221,"./_perform":240,dup:152}],449:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.key,a=n.set;n.exp({defineMetadata:function(e,t,r,n){a(e,t,o(r),i(n))}})},{"./_an-object":160,"./_metadata":219}],450:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.key,a=n.map,s=n.store;n.exp({deleteMetadata:function(e,t){var r=arguments.length<3?void 0:i(arguments[2]),n=a(o(t),r,!1);if(void 0===n||!n.delete(e))return!1;if(n.size)return!0;var u=s.get(t);return u.delete(r),!!u.size||s.delete(t)}})},{"./_an-object":160,"./_metadata":219}],451:[function(e,t,r){var n=e("./es6.set"),o=e("./_array-from-iterable"),i=e("./_metadata"),a=e("./_an-object"),s=e("./_object-gpo"),u=i.keys,c=i.key,l=function(e,t){var r=u(e,t),i=s(e);if(null===i)return r;var a=l(i,t);return a.length?r.length?o(new n(r.concat(a))):a:r};i.exp({getMetadataKeys:function(e){return l(a(e),arguments.length<2?void 0:c(arguments[1]))}})},{"./_an-object":160,"./_array-from-iterable":163,"./_metadata":219,"./_object-gpo":231,"./es6.set":381}],452:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=e("./_object-gpo"),a=n.has,s=n.get,u=n.key,c=function(e,t,r){if(a(e,t,r))return s(e,t,r);var n=i(t);return null!==n?c(e,n,r):void 0};n.exp({getMetadata:function(e,t){return c(e,o(t),arguments.length<3?void 0:u(arguments[2]))}})},{"./_an-object":160,"./_metadata":219,"./_object-gpo":231}],453:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.keys,a=n.key;n.exp({getOwnMetadataKeys:function(e){return i(o(e),arguments.length<2?void 0:a(arguments[1]))}})},{"./_an-object":160,"./_metadata":219}],454:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.get,a=n.key;n.exp({getOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},{"./_an-object":160,"./_metadata":219}],455:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=e("./_object-gpo"),a=n.has,s=n.key,u=function(e,t,r){if(a(e,t,r))return!0;var n=i(t);return null!==n&&u(e,n,r)};n.exp({hasMetadata:function(e,t){return u(e,o(t),arguments.length<3?void 0:s(arguments[2]))}})},{"./_an-object":160,"./_metadata":219,"./_object-gpo":231}],456:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.has,a=n.key;n.exp({hasOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},{"./_an-object":160,"./_metadata":219}],457:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=e("./_a-function"),a=n.key,s=n.set;n.exp({metadata:function(e,t){return function(r,n){s(e,t,(void 0!==n?o:i)(r),a(n))}}})},{"./_a-function":156,"./_an-object":160,"./_metadata":219}],458:[function(e,t,r){e("./_set-collection-from")("Set")},{"./_set-collection-from":247}],459:[function(e,t,r){e("./_set-collection-of")("Set")},{"./_set-collection-of":248}],460:[function(e,t,r){var n=e("./_export");n(n.P+n.R,"Set",{toJSON:e("./_collection-to-json")("Set")})},{"./_collection-to-json":173,"./_export":186}],461:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-at")(!0);n(n.P,"String",{at:function(e){return o(this,e)}})},{"./_export":186,"./_string-at":256}],462:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_defined"),i=e("./_to-length"),a=e("./_is-regexp"),s=e("./_flags"),u=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};e("./_iter-create")(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),n(n.P,"String",{matchAll:function(e){if(o(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),r="flags"in u?String(e.flags):s.call(e),n=new RegExp(e.source,~r.indexOf("g")?r:"g"+r);return n.lastIndex=i(e.lastIndex),new c(n,t)}})},{"./_defined":181,"./_export":186,"./_flags":190,"./_is-regexp":205,"./_iter-create":207,"./_to-length":268}],463:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-pad");n(n.P,"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{"./_export":186,"./_string-pad":259}],464:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-pad");n(n.P,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{"./_export":186,"./_string-pad":259}],465:[function(e,t,r){"use strict";e("./_string-trim")("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},{"./_string-trim":261}],466:[function(e,t,r){"use strict";e("./_string-trim")("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},{"./_string-trim":261}],467:[function(e,t,r){arguments[4][153][0].apply(r,arguments)},{"./_wks-define":276,dup:153}],468:[function(e,t,r){arguments[4][154][0].apply(r,arguments)},{"./_wks-define":276,dup:154}],469:[function(e,t,r){var n=e("./_export");n(n.S,"System",{global:e("./_global")})},{"./_export":186,"./_global":193}],470:[function(e,t,r){e("./_set-collection-from")("WeakMap")},{"./_set-collection-from":247}],471:[function(e,t,r){e("./_set-collection-of")("WeakMap")},{"./_set-collection-of":248}],472:[function(e,t,r){e("./_set-collection-from")("WeakSet")},{"./_set-collection-from":247}],473:[function(e,t,r){e("./_set-collection-of")("WeakSet")},{"./_set-collection-of":248}],474:[function(e,t,r){for(var n=e("./es6.array.iterator"),o=e("./_object-keys"),i=e("./_redefine"),a=e("./_global"),s=e("./_hide"),u=e("./_iterators"),c=e("./_wks"),l=c("iterator"),f=c("toStringTag"),d=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(h),b=0;b<p.length;b++){var v,y=p[b],_=h[y],m=a[y],g=m&&m.prototype;if(g&&(g[l]||s(g,l,d),g[f]||s(g,f,y),u[y]=d,_))for(v in n)g[v]||i(g,v,n[v],!0)}},{"./_global":193,"./_hide":195,"./_iterators":211,"./_object-keys":233,"./_redefine":244,"./_wks":278,"./es6.array.iterator":291}],475:[function(e,t,r){var n=e("./_export"),o=e("./_task");n(n.G+n.B,{setImmediate:o.set,clearImmediate:o.clear})},{"./_export":186,"./_task":263}],476:[function(e,t,r){var n=e("./_global"),o=e("./_export"),i=n.navigator,a=[].slice,s=!!i&&/MSIE .\./.test(i.userAgent),u=function(e){return function(t,r){var n=arguments.length>2,o=!!n&&a.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,r)}};o(o.G+o.B+o.F*s,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},{"./_export":186,"./_global":193}],477:[function(e,t,r){e("./modules/es6.symbol"),e("./modules/es6.object.create"),e("./modules/es6.object.define-property"),e("./modules/es6.object.define-properties"),e("./modules/es6.object.get-own-property-descriptor"),e("./modules/es6.object.get-prototype-of"),e("./modules/es6.object.keys"),e("./modules/es6.object.get-own-property-names"),e("./modules/es6.object.freeze"),e("./modules/es6.object.seal"),e("./modules/es6.object.prevent-extensions"),e("./modules/es6.object.is-frozen"),e("./modules/es6.object.is-sealed"),e("./modules/es6.object.is-extensible"),e("./modules/es6.object.assign"),e("./modules/es6.object.is"),e("./modules/es6.object.set-prototype-of"),e("./modules/es6.object.to-string"),e("./modules/es6.function.bind"),e("./modules/es6.function.name"),e("./modules/es6.function.has-instance"),e("./modules/es6.parse-int"),e("./modules/es6.parse-float"),e("./modules/es6.number.constructor"),e("./modules/es6.number.to-fixed"),e("./modules/es6.number.to-precision"),e("./modules/es6.number.epsilon"),e("./modules/es6.number.is-finite"),e("./modules/es6.number.is-integer"),e("./modules/es6.number.is-nan"),e("./modules/es6.number.is-safe-integer"),e("./modules/es6.number.max-safe-integer"),e("./modules/es6.number.min-safe-integer"),e("./modules/es6.number.parse-float"),e("./modules/es6.number.parse-int"),e("./modules/es6.math.acosh"),e("./modules/es6.math.asinh"),e("./modules/es6.math.atanh"),e("./modules/es6.math.cbrt"),e("./modules/es6.math.clz32"),e("./modules/es6.math.cosh"),e("./modules/es6.math.expm1"),e("./modules/es6.math.fround"),e("./modules/es6.math.hypot"),e("./modules/es6.math.imul"),e("./modules/es6.math.log10"),e("./modules/es6.math.log1p"),e("./modules/es6.math.log2"),e("./modules/es6.math.sign"),e("./modules/es6.math.sinh"),e("./modules/es6.math.tanh"),e("./modules/es6.math.trunc"),e("./modules/es6.string.from-code-point"),e("./modules/es6.string.raw"),e("./modules/es6.string.trim"),e("./modules/es6.string.iterator"),e("./modules/es6.string.code-point-at"),e("./modules/es6.string.ends-with"),e("./modules/es6.string.includes"),e("./modules/es6.string.repeat"),e("./modules/es6.string.starts-with"),e("./modules/es6.string.anchor"),e("./modules/es6.string.big"),e("./modules/es6.string.blink"),e("./modules/es6.string.bold"),e("./modules/es6.string.fixed"),e("./modules/es6.string.fontcolor"),e("./modules/es6.string.fontsize"),e("./modules/es6.string.italics"),e("./modules/es6.string.link"),e("./modules/es6.string.small"),e("./modules/es6.string.strike"),e("./modules/es6.string.sub"),e("./modules/es6.string.sup"),e("./modules/es6.date.now"),e("./modules/es6.date.to-json"),e("./modules/es6.date.to-iso-string"),e("./modules/es6.date.to-string"),e("./modules/es6.date.to-primitive"),e("./modules/es6.array.is-array"),e("./modules/es6.array.from"),e("./modules/es6.array.of"),e("./modules/es6.array.join"),e("./modules/es6.array.slice"),e("./modules/es6.array.sort"),e("./modules/es6.array.for-each"),e("./modules/es6.array.map"),e("./modules/es6.array.filter"),e("./modules/es6.array.some"),e("./modules/es6.array.every"),e("./modules/es6.array.reduce"),e("./modules/es6.array.reduce-right"),e("./modules/es6.array.index-of"),e("./modules/es6.array.last-index-of"),e("./modules/es6.array.copy-within"),e("./modules/es6.array.fill"),e("./modules/es6.array.find"),e("./modules/es6.array.find-index"),e("./modules/es6.array.species"),e("./modules/es6.array.iterator"),e("./modules/es6.regexp.constructor"),e("./modules/es6.regexp.to-string"),e("./modules/es6.regexp.flags"),e("./modules/es6.regexp.match"),e("./modules/es6.regexp.replace"),e("./modules/es6.regexp.search"),e("./modules/es6.regexp.split"),e("./modules/es6.promise"),e("./modules/es6.map"),e("./modules/es6.set"),e("./modules/es6.weak-map"),e("./modules/es6.weak-set"),e("./modules/es6.typed.array-buffer"),e("./modules/es6.typed.data-view"),e("./modules/es6.typed.int8-array"),e("./modules/es6.typed.uint8-array"),e("./modules/es6.typed.uint8-clamped-array"),e("./modules/es6.typed.int16-array"),e("./modules/es6.typed.uint16-array"),e("./modules/es6.typed.int32-array"),e("./modules/es6.typed.uint32-array"),e("./modules/es6.typed.float32-array"),e("./modules/es6.typed.float64-array"),e("./modules/es6.reflect.apply"),e("./modules/es6.reflect.construct"),e("./modules/es6.reflect.define-property"),e("./modules/es6.reflect.delete-property"),e("./modules/es6.reflect.enumerate"),e("./modules/es6.reflect.get"),e("./modules/es6.reflect.get-own-property-descriptor"),e("./modules/es6.reflect.get-prototype-of"),e("./modules/es6.reflect.has"),e("./modules/es6.reflect.is-extensible"),e("./modules/es6.reflect.own-keys"),e("./modules/es6.reflect.prevent-extensions"),e("./modules/es6.reflect.set"),e("./modules/es6.reflect.set-prototype-of"),e("./modules/es7.array.includes"),e("./modules/es7.array.flat-map"),e("./modules/es7.array.flatten"),e("./modules/es7.string.at"),e("./modules/es7.string.pad-start"),e("./modules/es7.string.pad-end"),e("./modules/es7.string.trim-left"),e("./modules/es7.string.trim-right"),e("./modules/es7.string.match-all"),e("./modules/es7.symbol.async-iterator"),e("./modules/es7.symbol.observable"),e("./modules/es7.object.get-own-property-descriptors"),e("./modules/es7.object.values"),e("./modules/es7.object.entries"),e("./modules/es7.object.define-getter"),e("./modules/es7.object.define-setter"),e("./modules/es7.object.lookup-getter"),e("./modules/es7.object.lookup-setter"),e("./modules/es7.map.to-json"),e("./modules/es7.set.to-json"),e("./modules/es7.map.of"),e("./modules/es7.set.of"),e("./modules/es7.weak-map.of"),e("./modules/es7.weak-set.of"),e("./modules/es7.map.from"),e("./modules/es7.set.from"),e("./modules/es7.weak-map.from"),e("./modules/es7.weak-set.from"),e("./modules/es7.global"),e("./modules/es7.system.global"),e("./modules/es7.error.is-error"),e("./modules/es7.math.clamp"),e("./modules/es7.math.deg-per-rad"),e("./modules/es7.math.degrees"),e("./modules/es7.math.fscale"),e("./modules/es7.math.iaddh"),e("./modules/es7.math.isubh"),e("./modules/es7.math.imulh"),e("./modules/es7.math.rad-per-deg"),e("./modules/es7.math.radians"),e("./modules/es7.math.scale"),e("./modules/es7.math.umulh"),e("./modules/es7.math.signbit"),e("./modules/es7.promise.finally"),e("./modules/es7.promise.try"),e("./modules/es7.reflect.define-metadata"),e("./modules/es7.reflect.delete-metadata"),e("./modules/es7.reflect.get-metadata"),e("./modules/es7.reflect.get-metadata-keys"),e("./modules/es7.reflect.get-own-metadata"),e("./modules/es7.reflect.get-own-metadata-keys"),e("./modules/es7.reflect.has-metadata"),e("./modules/es7.reflect.has-own-metadata"),e("./modules/es7.reflect.metadata"),e("./modules/es7.asap"),e("./modules/es7.observable"),e("./modules/web.timers"),e("./modules/web.immediate"),e("./modules/web.dom.iterable"),t.exports=e("./modules/_core")},{"./modules/_core":176,"./modules/es6.array.copy-within":281,"./modules/es6.array.every":282,"./modules/es6.array.fill":283,"./modules/es6.array.filter":284,"./modules/es6.array.find":286,"./modules/es6.array.find-index":285,"./modules/es6.array.for-each":287,"./modules/es6.array.from":288,"./modules/es6.array.index-of":289,"./modules/es6.array.is-array":290,"./modules/es6.array.iterator":291,"./modules/es6.array.join":292,"./modules/es6.array.last-index-of":293,"./modules/es6.array.map":294,"./modules/es6.array.of":295,"./modules/es6.array.reduce":297,"./modules/es6.array.reduce-right":296,"./modules/es6.array.slice":298,"./modules/es6.array.some":299,"./modules/es6.array.sort":300,"./modules/es6.array.species":301,"./modules/es6.date.now":302,"./modules/es6.date.to-iso-string":303,"./modules/es6.date.to-json":304,"./modules/es6.date.to-primitive":305,"./modules/es6.date.to-string":306,"./modules/es6.function.bind":307,"./modules/es6.function.has-instance":308,"./modules/es6.function.name":309,"./modules/es6.map":310,"./modules/es6.math.acosh":311,"./modules/es6.math.asinh":312,"./modules/es6.math.atanh":313,"./modules/es6.math.cbrt":314,"./modules/es6.math.clz32":315,"./modules/es6.math.cosh":316,"./modules/es6.math.expm1":317,"./modules/es6.math.fround":318,"./modules/es6.math.hypot":319,"./modules/es6.math.imul":320,"./modules/es6.math.log10":321,"./modules/es6.math.log1p":322,"./modules/es6.math.log2":323,"./modules/es6.math.sign":324,"./modules/es6.math.sinh":325,"./modules/es6.math.tanh":326,"./modules/es6.math.trunc":327,"./modules/es6.number.constructor":328,"./modules/es6.number.epsilon":329,"./modules/es6.number.is-finite":330,"./modules/es6.number.is-integer":331,"./modules/es6.number.is-nan":332,"./modules/es6.number.is-safe-integer":333,"./modules/es6.number.max-safe-integer":334,"./modules/es6.number.min-safe-integer":335,"./modules/es6.number.parse-float":336,"./modules/es6.number.parse-int":337,"./modules/es6.number.to-fixed":338,"./modules/es6.number.to-precision":339,"./modules/es6.object.assign":340,"./modules/es6.object.create":341,"./modules/es6.object.define-properties":342,"./modules/es6.object.define-property":343,"./modules/es6.object.freeze":344,"./modules/es6.object.get-own-property-descriptor":345,"./modules/es6.object.get-own-property-names":346,"./modules/es6.object.get-prototype-of":347,"./modules/es6.object.is":351,"./modules/es6.object.is-extensible":348,"./modules/es6.object.is-frozen":349,"./modules/es6.object.is-sealed":350,"./modules/es6.object.keys":352,"./modules/es6.object.prevent-extensions":353,"./modules/es6.object.seal":354,"./modules/es6.object.set-prototype-of":355,"./modules/es6.object.to-string":356,"./modules/es6.parse-float":357,"./modules/es6.parse-int":358,"./modules/es6.promise":359,"./modules/es6.reflect.apply":360,"./modules/es6.reflect.construct":361,"./modules/es6.reflect.define-property":362,"./modules/es6.reflect.delete-property":363,"./modules/es6.reflect.enumerate":364,"./modules/es6.reflect.get":367,"./modules/es6.reflect.get-own-property-descriptor":365,"./modules/es6.reflect.get-prototype-of":366,"./modules/es6.reflect.has":368,"./modules/es6.reflect.is-extensible":369,"./modules/es6.reflect.own-keys":370,"./modules/es6.reflect.prevent-extensions":371,"./modules/es6.reflect.set":373,"./modules/es6.reflect.set-prototype-of":372,"./modules/es6.regexp.constructor":374,"./modules/es6.regexp.flags":375,"./modules/es6.regexp.match":376,"./modules/es6.regexp.replace":377,"./modules/es6.regexp.search":378,"./modules/es6.regexp.split":379,"./modules/es6.regexp.to-string":380,"./modules/es6.set":381,"./modules/es6.string.anchor":382,"./modules/es6.string.big":383,"./modules/es6.string.blink":384,"./modules/es6.string.bold":385,"./modules/es6.string.code-point-at":386,"./modules/es6.string.ends-with":387,"./modules/es6.string.fixed":388,"./modules/es6.string.fontcolor":389,"./modules/es6.string.fontsize":390,"./modules/es6.string.from-code-point":391,"./modules/es6.string.includes":392,"./modules/es6.string.italics":393,"./modules/es6.string.iterator":394,"./modules/es6.string.link":395,"./modules/es6.string.raw":396,"./modules/es6.string.repeat":397,"./modules/es6.string.small":398,"./modules/es6.string.starts-with":399,"./modules/es6.string.strike":400,"./modules/es6.string.sub":401,"./modules/es6.string.sup":402,"./modules/es6.string.trim":403,"./modules/es6.symbol":404,"./modules/es6.typed.array-buffer":405,"./modules/es6.typed.data-view":406,"./modules/es6.typed.float32-array":407,"./modules/es6.typed.float64-array":408,"./modules/es6.typed.int16-array":409,"./modules/es6.typed.int32-array":410,"./modules/es6.typed.int8-array":411,"./modules/es6.typed.uint16-array":412,"./modules/es6.typed.uint32-array":413,"./modules/es6.typed.uint8-array":414,"./modules/es6.typed.uint8-clamped-array":415,"./modules/es6.weak-map":416,"./modules/es6.weak-set":417,"./modules/es7.array.flat-map":418,"./modules/es7.array.flatten":419,"./modules/es7.array.includes":420,"./modules/es7.asap":421,"./modules/es7.error.is-error":422,"./modules/es7.global":423,"./modules/es7.map.from":424,"./modules/es7.map.of":425,"./modules/es7.map.to-json":426,"./modules/es7.math.clamp":427,"./modules/es7.math.deg-per-rad":428,"./modules/es7.math.degrees":429,"./modules/es7.math.fscale":430,"./modules/es7.math.iaddh":431,"./modules/es7.math.imulh":432,"./modules/es7.math.isubh":433,"./modules/es7.math.rad-per-deg":434,"./modules/es7.math.radians":435,"./modules/es7.math.scale":436,"./modules/es7.math.signbit":437,"./modules/es7.math.umulh":438,"./modules/es7.object.define-getter":439,"./modules/es7.object.define-setter":440,"./modules/es7.object.entries":441,"./modules/es7.object.get-own-property-descriptors":442,"./modules/es7.object.lookup-getter":443,"./modules/es7.object.lookup-setter":444,"./modules/es7.object.values":445,"./modules/es7.observable":446,"./modules/es7.promise.finally":447,"./modules/es7.promise.try":448,"./modules/es7.reflect.define-metadata":449,"./modules/es7.reflect.delete-metadata":450,"./modules/es7.reflect.get-metadata":452,"./modules/es7.reflect.get-metadata-keys":451,"./modules/es7.reflect.get-own-metadata":454,"./modules/es7.reflect.get-own-metadata-keys":453,"./modules/es7.reflect.has-metadata":455,"./modules/es7.reflect.has-own-metadata":456,"./modules/es7.reflect.metadata":457,"./modules/es7.set.from":458,"./modules/es7.set.of":459,"./modules/es7.set.to-json":460,"./modules/es7.string.at":461,"./modules/es7.string.match-all":462,"./modules/es7.string.pad-end":463,"./modules/es7.string.pad-start":464,"./modules/es7.string.trim-left":465,"./modules/es7.string.trim-right":466,"./modules/es7.symbol.async-iterator":467,"./modules/es7.symbol.observable":468,"./modules/es7.system.global":469,"./modules/es7.weak-map.from":470,"./modules/es7.weak-map.of":471,"./modules/es7.weak-set.from":472,"./modules/es7.weak-set.of":473,"./modules/web.dom.iterable":474,"./modules/web.immediate":475,"./modules/web.timers":476}],478:[function(e,t,r){var n,o;n=this,o=function(e){return function(){var t=e,r=t.lib.BlockCipher,n=t.algo,o=[],i=[],a=[],s=[],u=[],c=[],l=[],f=[],d=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,o[r]=p,i[p]=r;var b=e[r],v=e[b],y=e[v],_=257*e[p]^16843008*p;a[r]=_<<24|_>>>8,s[r]=_<<16|_>>>16,u[r]=_<<8|_>>>24,c[r]=_;_=16843009*y^65537*v^257*b^16843008*r;l[p]=_<<24|_>>>8,f[p]=_<<16|_>>>16,d[p]=_<<8|_>>>24,h[p]=_,r?(r=b^e[e[e[y^b]]],n^=e[e[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],b=n.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],a=0;a<n;a++)if(a<r)i[a]=t[a];else{var s=i[a-1];a%r?r>6&&a%r==4&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=o[(s=s<<8|s>>>24)>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=p[a/r|0]<<24),i[a]=i[a-r]^s}for(var u=this._invKeySchedule=[],c=0;c<n;c++){a=n-c;if(c%4)s=i[a];else s=i[a-4];u[c]=c<4||a<=4?s:l[o[s>>>24]]^f[o[s>>>16&255]]^d[o[s>>>8&255]]^h[o[255&s]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,u,c,o)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,f,d,h,i);r=e[t+1];e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,o,i,a,s){for(var u=this._nRounds,c=e[t]^r[0],l=e[t+1]^r[1],f=e[t+2]^r[2],d=e[t+3]^r[3],h=4,p=1;p<u;p++){var b=n[c>>>24]^o[l>>>16&255]^i[f>>>8&255]^a[255&d]^r[h++],v=n[l>>>24]^o[f>>>16&255]^i[d>>>8&255]^a[255&c]^r[h++],y=n[f>>>24]^o[d>>>16&255]^i[c>>>8&255]^a[255&l]^r[h++],_=n[d>>>24]^o[c>>>16&255]^i[l>>>8&255]^a[255&f]^r[h++];c=b,l=v,f=y,d=_}b=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^r[h++],v=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^r[h++],y=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^r[h++],_=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^r[h++];e[t]=b,e[t+1]=v,e[t+2]=y,e[t+3]=_},keySize:8});t.AES=r._createHelper(b)}(),e.AES},"object"==typeof r?t.exports=r=o(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(n.CryptoJS)},{"./cipher-core":479,"./core":480,"./enc-base64":481,"./evpkdf":483,"./md5":485}],479:[function(e,t,r){var n,o;n=this,o=function(e){var t,r,n,o,i,a,s,u,c,l,f,d,h,p,b,v,y,_,m;e.lib.Cipher||(n=(r=e).lib,o=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,(s=r.enc).Utf8,u=s.Base64,c=r.algo.EvpKDF,l=n.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?m:y}return function(t){return{encrypt:function(r,n,o){return e(n).encrypt(t,r,n,o)},decrypt:function(r,n,o){return e(n).decrypt(t,r,n,o)}}}}()}),n.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=r.mode={},d=n.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=f.CBC=function(){var e=d.extend();function r(e,r,n){var o=this._iv;if(o){var i=o;this._iv=t}else i=this._prevBlock;for(var a=0;a<n;a++)e[r+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize;r.call(this,e,t,o),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),e.Decryptor=e.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize,i=e.slice(t,t+o);n.decryptBlock(e,t),r.call(this,e,t,o),this._prevBlock=i}}),e}(),p=(r.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,o=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(o);var u=i.create(a,n);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.BlockCipher=l.extend({cfg:l.cfg.extend({mode:h,padding:p}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{n=r.createDecryptor;this._minBufferSize=1}this._mode=n.call(r,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{t=this._process(!0);e.unpad(t)}return t},blockSize:4}),b=n.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=i.create([1398893684,1701076831]).concat(r).concat(t);else n=t;return n.toString(u)},parse:function(e){var t=u.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=i.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return b.create({ciphertext:t,salt:n})}},y=n.SerializableCipher=o.extend({cfg:o.extend({format:v}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var o=e.createEncryptor(r,n),i=o.finalize(t),a=o.cfg;return b.create({ciphertext:i,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(r.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=i.random(8));var o=c.create({keySize:t+r}).compute(e,n),a=i.create(o.words.slice(t),4*r);return o.sigBytes=4*t,b.create({key:o,iv:a,salt:n})}},m=n.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:_}),encrypt:function(e,t,r,n){var o=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=o.iv;var i=y.encrypt.call(this,e,t,o.key,n);return i.mixIn(o),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var o=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=o.iv,y.decrypt.call(this,e,t,o.key,n)}}))},"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)},{"./core":480}],480:[function(e,t,r){var n,o;n=this,o=function(){var e,t,r,n,o,i,a,s,u,c,l,f,d=d||(e=Math,t=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n=(r={}).lib={},o=n.Base={extend:function(e){var r=t(this);return e&&r.mixIn(e),r.hasOwnProperty("init")&&this.init!==r.init||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},i=n.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=a<<24-(n+i)%4*8}else for(i=0;i<o;i+=4)t[n+i>>>2]=r[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],o=function(t){t=t;var r=987654321,n=4294967295;return function(){var o=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},a=0;a<t;a+=4){var s=o(4294967296*(r||e.random()));r=987654071*s(),n.push(4294967296*s()|0)}return new i.init(n,t)}}),a=r.enc={},s=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new i.init(r,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new i.init(r,t)}},c=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},l=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,c=e.min(4*u,o);if(u){for(var l=0;l<u;l+=a)this._doProcessBlock(n,l);var f=n.splice(0,u);r.sigBytes-=c}return new i.init(f,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),n.Hasher=l.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new f.HMAC.init(e,r).finalize(t)}}}),f=r.algo={},r);return d},"object"==typeof r?t.exports=r=o():"function"==typeof define&&define.amd?define([],o):n.CryptoJS=o()},{}],481:[function(e,t,r){var n,o;n=this,o=function(e){return function(){var t=e,r=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var o=[],i=0;i<r;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)o.push(n.charAt(a>>>6*(3-s)&63));var u=n.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=e.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var o=[],i=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,u=n[e.charCodeAt(a)]>>>6-a%4*2;o[i>>>2]|=(s|u)<<24-i%4*8,i++}return r.create(o,i)}(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64},"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)},{"./core":480}],482:[function(e,t,r){var n,o;n=this,o=function(e){return e.enc.Utf8},"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)},{"./core":480}],483:[function(e,t,r){var n,o;n=this,o=function(e){var t,r,n,o,i,a,s;return r=(t=e).lib,n=r.Base,o=r.WordArray,i=t.algo,a=i.MD5,s=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),i=o.create(),a=i.words,s=r.keySize,u=r.iterations;a.length<s;){c&&n.update(c);var c=n.update(e).finalize(t);n.reset();for(var l=1;l<u;l++)c=n.finalize(c),n.reset();i.concat(c)}return i.sigBytes=4*s,i}}),t.EvpKDF=function(e,t,r){return s.create(r).compute(e,t)},e.EvpKDF},"object"==typeof r?t.exports=r=o(e("./core"),e("./sha1"),e("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],o):o(n.CryptoJS)},{"./core":480,"./hmac":484,"./sha1":486}],484:[function(e,t,r){var n,o;n=this,o=function(e){var t,r,n;r=(t=e).lib.Base,n=t.enc.Utf8,t.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,o=4*r;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),a=this._iKey=t.clone(),s=i.words,u=a.words,c=0;c<r;c++)s[c]^=1549556828,u[c]^=909522486;i.sigBytes=a.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})},"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)},{"./core":480}],485:[function(e,t,r){var n,o;n=this,o=function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,o=e[n];e[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],u=e[t+1],h=e[t+2],p=e[t+3],b=e[t+4],v=e[t+5],y=e[t+6],_=e[t+7],m=e[t+8],g=e[t+9],w=e[t+10],x=e[t+11],k=e[t+12],j=e[t+13],O=e[t+14],S=e[t+15],E=i[0],C=i[1],A=i[2],P=i[3];C=d(C=d(C=d(C=d(C=f(C=f(C=f(C=f(C=l(C=l(C=l(C=l(C=c(C=c(C=c(C=c(C,A=c(A,P=c(P,E=c(E,C,A,P,a,7,s[0]),C,A,u,12,s[1]),E,C,h,17,s[2]),P,E,p,22,s[3]),A=c(A,P=c(P,E=c(E,C,A,P,b,7,s[4]),C,A,v,12,s[5]),E,C,y,17,s[6]),P,E,_,22,s[7]),A=c(A,P=c(P,E=c(E,C,A,P,m,7,s[8]),C,A,g,12,s[9]),E,C,w,17,s[10]),P,E,x,22,s[11]),A=c(A,P=c(P,E=c(E,C,A,P,k,7,s[12]),C,A,j,12,s[13]),E,C,O,17,s[14]),P,E,S,22,s[15]),A=l(A,P=l(P,E=l(E,C,A,P,u,5,s[16]),C,A,y,9,s[17]),E,C,x,14,s[18]),P,E,a,20,s[19]),A=l(A,P=l(P,E=l(E,C,A,P,v,5,s[20]),C,A,w,9,s[21]),E,C,S,14,s[22]),P,E,b,20,s[23]),A=l(A,P=l(P,E=l(E,C,A,P,g,5,s[24]),C,A,O,9,s[25]),E,C,p,14,s[26]),P,E,m,20,s[27]),A=l(A,P=l(P,E=l(E,C,A,P,j,5,s[28]),C,A,h,9,s[29]),E,C,_,14,s[30]),P,E,k,20,s[31]),A=f(A,P=f(P,E=f(E,C,A,P,v,4,s[32]),C,A,m,11,s[33]),E,C,x,16,s[34]),P,E,O,23,s[35]),A=f(A,P=f(P,E=f(E,C,A,P,u,4,s[36]),C,A,b,11,s[37]),E,C,_,16,s[38]),P,E,w,23,s[39]),A=f(A,P=f(P,E=f(E,C,A,P,j,4,s[40]),C,A,a,11,s[41]),E,C,p,16,s[42]),P,E,y,23,s[43]),A=f(A,P=f(P,E=f(E,C,A,P,g,4,s[44]),C,A,k,11,s[45]),E,C,S,16,s[46]),P,E,h,23,s[47]),A=d(A,P=d(P,E=d(E,C,A,P,a,6,s[48]),C,A,_,10,s[49]),E,C,O,15,s[50]),P,E,v,21,s[51]),A=d(A,P=d(P,E=d(E,C,A,P,k,6,s[52]),C,A,p,10,s[53]),E,C,w,15,s[54]),P,E,u,21,s[55]),A=d(A,P=d(P,E=d(E,C,A,P,m,6,s[56]),C,A,S,10,s[57]),E,C,y,15,s[58]),P,E,j,21,s[59]),A=d(A,P=d(P,E=d(E,C,A,P,b,6,s[60]),C,A,x,10,s[61]),E,C,h,15,s[62]),P,E,g,21,s[63]),i[0]=i[0]+E|0,i[1]=i[1]+C|0,i[2]=i[2]+A|0,i[3]=i[3]+P|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;r[o>>>5]|=128<<24-o%32;var i=t.floor(n/4294967296),a=n;r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,r,n,o,i,a){var s=e+(t&r|~t&n)+o+a;return(s<<i|s>>>32-i)+t}function l(e,t,r,n,o,i,a){var s=e+(t&n|r&~n)+o+a;return(s<<i|s>>>32-i)+t}function f(e,t,r,n,o,i,a){var s=e+(t^r^n)+o+a;return(s<<i|s>>>32-i)+t}function d(e,t,r,n,o,i,a){var s=e+(r^(t|~n))+o+a;return(s<<i|s>>>32-i)+t}r.MD5=i._createHelper(u),r.HmacMD5=i._createHmacHelper(u)}(Math),e.MD5},"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)},{"./core":480}],486:[function(e,t,r){var n,o;n=this,o=function(e){var t,r,n,o,i,a;return r=(t=e).lib,n=r.WordArray,o=r.Hasher,i=[],a=t.algo.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=0;c<80;c++){if(c<16)i[c]=0|e[t+c];else{var l=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=l<<1|l>>>31}var f=(n<<5|n>>>27)+u+i[c];f+=c<20?1518500249+(o&a|~o&s):c<40?1859775393+(o^a^s):c<60?(o&a|o&s|a&s)-1894007588:(o^a^s)-899497514,u=s,s=a,a=o<<30|o>>>2,o=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=o._createHelper(a),t.HmacSHA1=o._createHmacHelper(a),e.SHA1},"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)},{"./core":480}],487:[function(e,t,r){"use strict";var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=e||1,this._queueCounter=0,this._idleCalls=new Set,this._lastHandleNumber=0,this._handlePromiseMap=new Map,this._promiseHandleMap=new Map};n.prototype={isIdle:function(){return this._queueCounter<this._parallels},_newHandleNumber:function(){return this._lastHandleNumber++,this._lastHandleNumber},lock:function(){this._queueCounter++},unlock:function(){this._queueCounter--,this._tryIdleCall()},wrapCall:function(e){var t=this;this.lock();var r=void 0;try{r=e()}catch(e){throw this.unlock(),e}return r.then&&"function"==typeof r.then?r.then(function(e){return t.unlock(),e}).catch(function(e){throw t.unlock(),e}):(this.unlock(),r)},requestIdlePromise:function(e){var t=this;e=e||{};var r=void 0,n=new Promise(function(e){return r=e});if(n._resolveFromOutside=function(){t._removeIdlePromise(n),r()},e.timeout){var o=setTimeout(function(){n._resolveFromOutside()},e.timeout);n._timeoutObj=o}return this._idleCalls.add(n),this._tryIdleCall(),n},cancelIdlePromise:function(e){this._removeIdlePromise(e)},_removeIdlePromise:function(e){if(e){if(e._timeoutObj&&clearTimeout(e._timeoutObj),this._promiseHandleMap.has(e)){var t=this._promiseHandleMap.get(e);this._handlePromiseMap.delete(t),this._promiseHandleMap.delete(e)}this._idleCalls.delete(e)}},requestIdleCallback:function(e,t){var r=this._newHandleNumber(),n=this.requestIdlePromise(t);return this._handlePromiseMap.set(r,n),this._promiseHandleMap.set(n,r),n.then(function(){return e()}),r},cancelIdleCallback:function(e){var t=this._handlePromiseMap.get(e);this.cancelIdlePromise(t)},_tryIdleCall:function(){var e=this;this._tryIdleCallRunning||0===this._idleCalls.size||(this._tryIdleCallRunning=!0,setTimeout(function(){e.isIdle()?setTimeout(function(){e.isIdle()?(e._resolveOneIdleCall(),e._tryIdleCallRunning=!1):e._tryIdleCallRunning=!1},0):e._tryIdleCallRunning=!1},0))},_resolveOneIdleCall:function(){var e=this;0!==this._idleCalls.size&&(this._idleCalls.values().next().value._resolveFromOutside(),setTimeout(function(){return e._tryIdleCall()},0))},clear:function(){var e=this;this._idleCalls.forEach(function(t){return e._removeIdlePromise(t)}),this._queueCounter=0,this._idleCalls.clear(),this._handlePromiseMap=new Map,this._promiseHandleMap=new Map}},t.exports=n},{}],488:[function(e,t,r){var n=Array.prototype.slice,o=e("./lib/keys.js"),i=e("./lib/is_arguments.js"),a=t.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var c,l;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=n.call(e),t=n.call(t),a(e,t,r));if(u(e)){if(!u(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var f=o(e),d=o(t)}catch(e){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),c=f.length-1;c>=0;c--)if(f[c]!=d[c])return!1;for(c=f.length-1;c>=0;c--)if(l=f[c],!a(e[l],t[l],r))return!1;return typeof e==typeof t}(e,t,r))};function s(e){return null===e||void 0===e}function u(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},{"./lib/is_arguments.js":489,"./lib/keys.js":490}],489:[function(e,t,r){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function o(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(r=t.exports=n?o:i).supported=o,r.unsupported=i},{}],490:[function(e,t,r){function n(e){var t=[];for(var r in e)t.push(r);return t}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},{}],491:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(a(r=this._events[e]))return!1;if(o(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),n=(c=r.slice()).length,u=0;u<n;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var r;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!o(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var r,n,a,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(r=this._events[e]).length,n=-1,r===t||o(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],492:[function(e,t,r){var n=e("util"),o=/[\{\[]/,i=/[\}\]]/;t.exports=function(){var e=[],t=0,r=function(r){for(var n="";n.length<2*t;)n+="  ";e.push(n+r)},a=function(e){return e?i.test(e.trim()[0])&&o.test(e[e.length-1])?(t--,r(n.format.apply(n,arguments)),t++,a):o.test(e[e.length-1])?(r(n.format.apply(n,arguments)),t++,a):i.test(e.trim()[0])?(t--,r(n.format.apply(n,arguments)),a):(r(n.format.apply(n,arguments)),a):a};return a.toString=function(){return e.join("\n")},a.toFunction=function(e){var t="return ("+a.toString()+")",r=Object.keys(e||{}).map(function(e){return e}),n=r.map(function(t){return e[t]});return Function.apply(null,r.concat(t)).apply(null,n)},arguments.length&&a.apply(null,arguments),a}},{util:595}],493:[function(e,t,r){var n=e("is-property"),o=function(e,t){return n(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};o.valid=n,o.property=function(e){return n(e)?e:JSON.stringify(e)},t.exports=o},{"is-property":498}],494:[function(e,t,r){r.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?o-1:0,d=r?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),i-=c}return(h?-1:1)*a*Math.pow(2,i-n)},r.write=function(e,t,r,n,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[r+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[r+h]=255&a,h+=p,a/=256,c-=8);e[r+h-p]|=128*b}},{}],495:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],496:[function(e,t,r){r["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(\.\d+)?([zZ]|[+-]\d{2}:\d{2})$/,r.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,r.time=/^\d{2}:\d{2}:\d{2}$/,r.email=/^\S+@\S+$/,r["ip-address"]=r.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,r.ipv6=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,r.uri=/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,r.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,r.hostname=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$/,r.alpha=/^[a-zA-Z]+$/,r.alphanumeric=/^[a-zA-Z0-9]+$/,r.style=/\s*(.+?):\s*([^;]+);?/g,r.phone=/^\+(?:[0-9] ?){6,14}[0-9]$/,r["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},{}],497:[function(e,t,r){var n=e("generate-object-property"),o=e("generate-function"),i=e("jsonpointer"),a=e("xtend"),s=e("./formats"),u=function(e){e=JSON.stringify(e);for(var t=/\[([^\[\]"]+)\]/;t.test(e);)e=e.replace(t,'."+$1+"');return e},c={any:function(){return"true"},null:function(e){return e+" === null"},boolean:function(e){return"typeof "+e+' === "boolean"'},array:function(e){return"Array.isArray("+e+")"},object:function(e){return"typeof "+e+' === "object" && '+e+" && !Array.isArray("+e+")"},number:function(e){return"typeof "+e+' === "number" && isFinite('+e+")"},integer:function(e){return"typeof "+e+' === "number" && (Math.floor('+e+") === "+e+" || "+e+" > 9007199254740992 || "+e+" < -9007199254740992)"},string:function(e){return"typeof "+e+' === "string"'}},l=function(e){for(var t=[],r=0;r<e.length;r++)t.push("object"==typeof e[r]?JSON.stringify(e[r]):e[r]);for(r=1;r<t.length;r++)if(t.indexOf(t[r])!==r)return!1;return!0},f=function(e,t){var r,n=(0|t)!==t?Math.pow(10,t.toString().split(".").pop().length):1;n>1?r=((0|e)!==e?Math.pow(10,e.toString().split(".").pop().length):1)>n||Math.round(n*e)%(n*t):r=e%t;return!r},d=function(e,t,r,h,p){var b=p?a(s,p.formats):s,v={unique:l,formats:b,isMultipleOf:f},y=!!p&&!!p.verbose,_=!(!p||void 0===p.greedy)&&p.greedy,m={},g=function(e){return e+(m[e]=(m[e]||0)+1)},w={},x=function(e){if(w[e])return w[e];var t=g("pattern");return v[t]=new RegExp(e),w[e]=t,t},k=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],j=function(){var e=k.shift();return k.push(e+e[0]),e},O=function(e,o,a,l,f){var h=o.properties,m=o.type,w=!1;Array.isArray(o.items)&&(h={},o.items.forEach(function(e,t){h[t]=e}),m="array",w=!0);var k=0,E=function(t,r,n){S("errors++"),!0===a&&(S("if (validate.errors === null) validate.errors = []"),y?S("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",u(r||e),JSON.stringify(t),n||e,JSON.stringify(m),JSON.stringify(f)):S("validate.errors.push({field:%s,message:%s})",u(r||e),JSON.stringify(t)))};!0===o.required?(k++,S("if (%s === undefined) {",e),E("is required"),S("} else {")):(k++,S("if (%s !== undefined) {",e));var C=[].concat(m).map(function(t){if(t&&!c.hasOwnProperty(t))throw new Error("Unknown type: "+t);return c[t||"any"](e)}).join(" || ")||"true";if("true"!==C&&(k++,S("if (!(%s)) {",C),E("is the wrong type"),S("} else {")),w)if(!1===o.additionalItems)S("if (%s.length > %d) {",e,o.items.length),E("has additional items"),S("}");else if(o.additionalItems){var A=j();S("for (var %s = %d; %s < %s.length; %s++) {",A,o.items.length,A,e,A),O(e+"["+A+"]",o.additionalItems,a,l,f.concat("additionalItems")),S("}")}if(o.format&&b[o.format]){"string"!==m&&s[o.format]&&S("if (%s) {",c.string(e));var P=g("format");v[P]=b[o.format],"function"==typeof v[P]?S("if (!%s(%s)) {",P,e):S("if (!%s.test(%s)) {",P,e),E("must be "+o.format+" format"),S("}"),"string"!==m&&s[o.format]&&S("}")}if(Array.isArray(o.required)){S("if ((%s)) {","object"!==m?c.object(e):"true"),S("var missing = 0"),o.required.map(function(t){var r=n(e,t);S("if (%s === undefined) {",r),E("is required",r),S("missing++"),S("}")}),S("}"),_||(S("if (missing === 0) {"),k++)}if(o.uniqueItems&&("array"!==m&&S("if (%s) {",c.array(e)),S("if (!(unique(%s))) {",e),E("must be unique"),S("}"),"array"!==m&&S("}")),o.enum){var R=o.enum.some(function(e){return"object"==typeof e})?function(t){return"JSON.stringify("+e+") !== JSON.stringify("+JSON.stringify(t)+")"}:function(t){return e+" !== "+JSON.stringify(t)};S("if (%s) {",o.enum.map(R).join(" && ")||"false"),E("must be an enum value"),S("}")}if(o.dependencies&&("object"!==m&&S("if (%s) {",c.object(e)),Object.keys(o.dependencies).forEach(function(t){var r=o.dependencies[t];"string"==typeof r&&(r=[r]);Array.isArray(r)&&(S("if (%s !== undefined && !(%s)) {",n(e,t),r.map(function(t){return n(e,t)+" !== undefined"}).join(" && ")||"true"),E("dependencies not set"),S("}")),"object"==typeof r&&(S("if (%s !== undefined) {",n(e,t)),O(e,r,a,l,f.concat(["dependencies",t])),S("}"))}),"object"!==m&&S("}")),o.additionalProperties||!1===o.additionalProperties){"object"!==m&&S("if (%s) {",c.object(e));A=j();var D=g("keys"),M=Object.keys(h||{}).map(function(e){return D+"["+A+"] !== "+JSON.stringify(e)}).concat(Object.keys(o.patternProperties||{}).map(function(e){return"!"+x(e)+".test("+D+"["+A+"])"})).join(" && ")||"true";S("var %s = Object.keys(%s)",D,e)("for (var %s = 0; %s < %s.length; %s++) {",A,A,D,A)("if (%s) {",M),!1===o.additionalProperties?(l&&S("delete %s",e+"["+D+"["+A+"]]"),E("has additional properties",null,JSON.stringify(e+".")+" + "+D+"["+A+"]")):O(e+"["+D+"["+A+"]]",o.additionalProperties,a,l,f.concat(["additionalProperties"])),S("}")("}"),"object"!==m&&S("}")}if(o.$ref){var I=function(e,t,r){var n=function(e){return e&&e.id===r?e:"object"==typeof e&&e?Object.keys(e).reduce(function(t,r){return t||n(e[r])},null):null},o=n(e);if(o)return o;r=(r=r.replace(/^#/,"")).replace(/\/$/,"");try{return i.get(e,decodeURI(r))}catch(e){var a,s=r.indexOf("#");if(0!==s)if(-1===s)a=t[r];else{var u=r.slice(0,s);a=t[u];var c=r.slice(s).replace(/^#/,"");try{return i.get(a,c)}catch(e){}}else a=t[r];return a||null}}(r,p&&p.schemas||{},o.$ref);if(I){var T=t[o.$ref];T||(t[o.$ref]=function(e){return T(e)},T=d(I,t,r,!1,p));P=g("ref");v[P]=T,S("if (!(%s(%s))) {",P,e),E("referenced schema does not match"),S("}")}}if(o.not){var L=g("prev");S("var %s = errors",L),O(e,o.not,!1,l,f.concat("not")),S("if (%s === errors) {",L),E("negative schema matches"),S("} else {")("errors = %s",L)("}")}if(o.items&&!w){"array"!==m&&S("if (%s) {",c.array(e));A=j();S("for (var %s = 0; %s < %s.length; %s++) {",A,A,e,A),O(e+"["+A+"]",o.items,a,l,f.concat("items")),S("}"),"array"!==m&&S("}")}if(o.patternProperties){"object"!==m&&S("if (%s) {",c.object(e));D=g("keys"),A=j();S("var %s = Object.keys(%s)",D,e)("for (var %s = 0; %s < %s.length; %s++) {",A,A,D,A),Object.keys(o.patternProperties).forEach(function(t){var r=x(t);S("if (%s.test(%s)) {",r,D+"["+A+"]"),O(e+"["+D+"["+A+"]]",o.patternProperties[t],a,l,f.concat(["patternProperties",t])),S("}")}),S("}"),"object"!==m&&S("}")}if(o.pattern){var F=x(o.pattern);"string"!==m&&S("if (%s) {",c.string(e)),S("if (!(%s.test(%s))) {",F,e),E("pattern mismatch"),S("}"),"string"!==m&&S("}")}if(o.allOf&&o.allOf.forEach(function(t,r){O(e,t,a,l,f.concat(["allOf",r]))}),o.anyOf&&o.anyOf.length){L=g("prev");o.anyOf.forEach(function(t,r){0===r?S("var %s = errors",L):S("if (errors !== %s) {",L)("errors = %s",L),O(e,t,!1,!1,f)}),o.anyOf.forEach(function(e,t){t&&S("}")}),S("if (%s !== errors) {",L),E("no schemas match"),S("}")}if(o.oneOf&&o.oneOf.length){L=g("prev");var q=g("passes");S("var %s = errors",L)("var %s = 0",q),o.oneOf.forEach(function(t,r){O(e,t,!1,!1,f),S("if (%s === errors) {",L)("%s++",q)("} else {")("errors = %s",L)("}")}),S("if (%s !== 1) {",q),E("no (or more than one) schemas match"),S("}")}for(void 0!==o.multipleOf&&("number"!==m&&"integer"!==m&&S("if (%s) {",c.number(e)),S("if (!isMultipleOf(%s, %d)) {",e,o.multipleOf),E("has a remainder"),S("}"),"number"!==m&&"integer"!==m&&S("}")),void 0!==o.maxProperties&&("object"!==m&&S("if (%s) {",c.object(e)),S("if (Object.keys(%s).length > %d) {",e,o.maxProperties),E("has more properties than allowed"),S("}"),"object"!==m&&S("}")),void 0!==o.minProperties&&("object"!==m&&S("if (%s) {",c.object(e)),S("if (Object.keys(%s).length < %d) {",e,o.minProperties),E("has less properties than allowed"),S("}"),"object"!==m&&S("}")),void 0!==o.maxItems&&("array"!==m&&S("if (%s) {",c.array(e)),S("if (%s.length > %d) {",e,o.maxItems),E("has more items than allowed"),S("}"),"array"!==m&&S("}")),void 0!==o.minItems&&("array"!==m&&S("if (%s) {",c.array(e)),S("if (%s.length < %d) {",e,o.minItems),E("has less items than allowed"),S("}"),"array"!==m&&S("}")),void 0!==o.maxLength&&("string"!==m&&S("if (%s) {",c.string(e)),S("if (%s.length > %d) {",e,o.maxLength),E("has longer length than allowed"),S("}"),"string"!==m&&S("}")),void 0!==o.minLength&&("string"!==m&&S("if (%s) {",c.string(e)),S("if (%s.length < %d) {",e,o.minLength),E("has less length than allowed"),S("}"),"string"!==m&&S("}")),void 0!==o.minimum&&("number"!==m&&"integer"!==m&&S("if (%s) {",c.number(e)),S("if (%s %s %d) {",e,o.exclusiveMinimum?"<=":"<",o.minimum),E("is less than minimum"),S("}"),"number"!==m&&"integer"!==m&&S("}")),void 0!==o.maximum&&("number"!==m&&"integer"!==m&&S("if (%s) {",c.number(e)),S("if (%s %s %d) {",e,o.exclusiveMaximum?">=":">",o.maximum),E("is more than maximum"),S("}"),"number"!==m&&"integer"!==m&&S("}")),h&&Object.keys(h).forEach(function(t){Array.isArray(m)&&-1!==m.indexOf("null")&&S("if (%s !== null) {",e),O(n(e,t),h[t],a,l,f.concat(w?t:["properties",t])),Array.isArray(m)&&-1!==m.indexOf("null")&&S("}")});k--;)S("}")},S=o("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return O("data",e,h,p&&p.filter,[]),S("return errors === 0")("}"),(S=S.toFunction(v)).errors=null,Object.defineProperty&&Object.defineProperty(S,"error",{get:function(){return S.errors?S.errors.map(function(e){return e.field+" "+e.message}).join("\n"):""}}),S.toJSON=function(){return e},S};t.exports=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),d(e,{},e,!0,t)},t.exports.filter=function(e,r){var n=t.exports(e,a(r,{filter:!0}));return function(e){return n(e),e}}},{"./formats":496,"generate-function":492,"generate-object-property":493,jsonpointer:499,xtend:597}],498:[function(e,t,r){"use strict";t.exports=function(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}},{}],499:[function(e,t,r){var n=/~/,o=/~[01]/g;function i(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function a(e){return n.test(e)?e.replace(o,i):e}function s(e){if("string"==typeof e){if(""===(e=e.split("/"))[0])return e;throw new Error("Invalid JSON pointer.")}if(Array.isArray(e))return e;throw new Error("Invalid JSON pointer.")}function u(e,t){if("object"!=typeof e)throw new Error("Invalid input object.");var r=(t=s(t)).length;if(1===r)return e;for(var n=1;n<r;){if(e=e[a(t[n++])],r===n)return e;if("object"!=typeof e)return}}function c(e,t,r){if("object"!=typeof e)throw new Error("Invalid input object.");if(0===(t=s(t)).length)throw new Error("Invalid JSON pointer for set.");return function(e,t,r){for(var n,o,i=1,s=t.length;i<s&&(n=a(t[i++]),o=s>i,void 0===e[n]&&(Array.isArray(e)&&"-"===n&&(n=e.length),o&&(""!==t[i]&&t[i]<1/0||"-"===t[i]?e[n]=[]:e[n]={})),o);)e=e[n];var u=e[n];return void 0===r?delete e[n]:e[n]=r,u}(e,t,r)}r.get=u,r.set=c,r.compile=function(e){var t=s(e);return{get:function(e){return u(e,t)},set:function(e,r){return c(e,t,r)}}}},{}],500:[function(e,t,r){"use strict";var n=e("immediate");function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==o&&h(this,e)}function l(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(e,t,r){n(function(){var n;try{n=t(r)}catch(t){return i.reject(e,t)}n===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,n)})}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var r=!1;function n(t){r||(r=!0,i.reject(e,t))}function o(t){r||(r=!0,i.resolve(e,t))}var a=p(function(){t(o,n)});"error"===a.status&&n(a.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(o);this.state!==u?f(r,this.state===s?e:t,this.outcome):this.queue.push(new l(r,e,t));return r},l.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){i.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},i.resolve=function(e,t){var r=p(d,t);if("error"===r.status)return i.reject(e,r.value);var n=r.value;if(n)h(e,n);else{e.state=s,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},c.resolve=function(e){if(e instanceof this)return e;return i.resolve(new this(o),e)},c.reject=function(e){var t=new this(o);return i.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);var a=new Array(r),s=0,u=-1,c=new this(o);for(;++u<r;)l(e[u],u);return c;function l(e,o){t.resolve(e).then(function(e){a[o]=e,++s!==r||n||(n=!0,i.resolve(c,a))},function(e){n||(n=!0,i.reject(c,e))})}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);var a=-1,s=new this(o);for(;++a<r;)u=e[a],t.resolve(u).then(function(e){n||(n=!0,i.resolve(s,e))},function(e){n||(n=!0,i.reject(s,e))});var u;return s}},{immediate:501}],501:[function(e,t,r){(function(e){"use strict";var r,n,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,r=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;n=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}n=!1}t.exports=function(e){1!==c.push(e)||n||r()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],502:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n(e("clone")),i=n(e("deep-equal")),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(e,t){Object.keys(e).forEach(function(r){t(e[r],r)})},c=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},l=function(e){return Array.isArray(e)},f=u,d=function(e){return l(e)&&!c(e)},h=function(e){return!!e&&("number"!=typeof e&&("string"!=typeof e&&("boolean"!=typeof e&&(!d(e)&&(null!==e&&(!(e instanceof RegExp)&&("function"!=typeof e&&(!(e instanceof Date)&&!c(e)))))))))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&t.field&&(e+=" for field '"+t.field+"'");var r=new Error(e);return r.name="ModifyJsError",r},b=function(e,t){return e.every(function(e){return t&&t(e)||e})},v=u,y=function(e){return Object.keys(e)},_=function(e){return"object"===(void 0===e?"undefined":a(e))&&null!==e},m=function(e,t,r){if(r=r||{},!h(t))throw p("Modifier must be an object");var n;if(function(e,t){if(!h(e))return!1;var r=void 0;return f(e,function(n,o){var i="$"===o.substr(0,1);if(void 0===r)r=i;else if(r!==i){if(!t)throw new Error("Inconsistent operator: "+JSON.stringify(e));r=!1}}),!!r}(t=o(t))?(n=o(e),v(t,function(e,t){var o=x[t];if(!o)throw p("Invalid modifier specified "+t);v(e,function(e,i){if(""===i)throw p("An empty update path is not valid.");var a=i.split(".");if(!b(a))throw p("The update path '"+i+"' contains an empty field name, which is not allowed.");var s=g(n,a,{noCreate:w[t],forbidArray:"$rename"===t,arrayIndices:r.arrayIndices}),u=a.pop();o(s,u,e,i,n)})})):n=t,r.returnInsteadOfReplacing)return n;v(y(e),function(t){"_id"!==t&&delete e[t]}),v(n,function(t,r){e[r]=t})},g=function(e,t,r){r=r||{};for(var n,o=!1,i=0;i<t.length;i++){var s=i===t.length-1,u=t[i];if(!(d(n=e)||h(n))){if(r.noCreate)return;var c=p("cannot use the part '"+u+"' to traverse "+e);throw c.setPropertyError=!0,c}if(e instanceof Array){if(r.forbidArray)return null;if("$"===u){if(o)throw p("Too many positional (i.e. '$') elements");if(!r.arrayIndices||!r.arrayIndices.length)throw p("The positional operator did not find the match needed from the query");u=r.arrayIndices[0],o=!0}else{if(!/^[0-9]+$/.test(u)){if(r.noCreate)return;throw p("can't append to array using string field name ["+u+"]")}u=parseInt(u)}if(s&&(t[i]=u),r.noCreate&&u>=e.length)return;for(;e.length<u;)e.push(null);if(!s)if(e.length===u)e.push({});else if("object"!==a(e[u]))throw p("can't modify field '"+t[i+1]+"' of list value "+JSON.stringify(e[u]))}else if(!(u in e)){if(r.noCreate)return;s||(e[u]={})}if(s)return e;e=e[u]}},w={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},x={$currentDate:function(e,t,r){if("object"===(void 0===r?"undefined":a(r))&&r.hasOwnProperty("$type")){if("date"!==r.$type)throw p("Minimongo does currently only support the date type in $currentDate modifiers",{field:t})}else if(!0!==r)throw p("Invalid $currentDate modifier",{field:t});e[t]=new Date},$min:function(e,t,r){if("number"!=typeof r)throw p("Modifier $min allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw p("Cannot apply $min modifier to non-number",{field:t});e[t]>r&&(e[t]=r)}else e[t]=r},$max:function(e,t,r){if("number"!=typeof r)throw p("Modifier $max allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw p("Cannot apply $max modifier to non-number",{field:t});e[t]<r&&(e[t]=r)}else e[t]=r},$inc:function(e,t,r){if("number"!=typeof r)throw p("Modifier $inc allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw p("Cannot apply $inc modifier to non-number",{field:t});e[t]+=r}else e[t]=r},$set:function(e,t,r){var n;if(!_(e))throw(n=p("Cannot set property on non-object field",{field:t})).setPropertyError=!0,n;if(null===e)throw(n=p("Cannot set property on null",{field:t})).setPropertyError=!0,n;e[t]=r},$setOnInsert:function(e,t,r){},$unset:function(e,t,r){void 0!==e&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(e,t,r){if(void 0===e[t]&&(e[t]=[]),!(e[t]instanceof Array))throw p("Cannot apply $push modifier to non-array",{field:t});if(r&&r.$each){var n=r.$each;if(!(n instanceof Array))throw p("$each must be an array",{field:t});var o=void 0;if("$position"in r){if("number"!=typeof r.$position)throw p("$position must be a numeric value",{field:t});if(r.$position<0)throw p("$position in $push must be zero or positive",{field:t});o=r.$position}var i=void 0;if("$slice"in r){if("number"!=typeof r.$slice)throw p("$slice must be a numeric value",{field:t});if(r.$slice>0)throw p("$slice in $push must be zero or negative",{field:t});i=r.$slice}if(r.$sort)throw p("$sort in $push not implemented yet");if(void 0===o)for(var a=0;a<n.length;a++)e[t].push(n[a]);else{var s=[o,0];for(a=0;a<n.length;a++)s.push(n[a]);Array.prototype.splice.apply(e[t],s)}void 0,void 0!==i&&(e[t]=0===i?[]:e[t].slice(i))}else e[t].push(r)},$pushAll:function(e,t,r){if(!("object"===(void 0===r?"undefined":a(r))&&r instanceof Array))throw p("Modifier $pushAll/pullAll allowed for arrays only");var n=e[t];if(void 0===n)e[t]=r;else{if(!(n instanceof Array))throw p("Cannot apply $pushAll modifier to non-array",{field:t});for(var o=0;o<r.length;o++)n.push(r[o])}},$addToSet:function(e,t,r){var n=!1;"object"===(void 0===r?"undefined":a(r))&&("$each"===Object.keys(r)[0]&&(n=!0));var o=n?r.$each:[r],s=e[t];if(void 0===s)e[t]=o;else{if(!(s instanceof Array))throw p("Cannot apply $addToSet modifier to non-array",{field:t});v(o,function(e){for(var t=0;t<s.length;t++)if(i(e,s[t]))return;s.push(e)})}},$pop:function(e,t,r){if(void 0!==e){var n=e[t];if(void 0!==n){if(!(n instanceof Array))throw p("Cannot apply $pop modifier to non-array",{field:t});"number"==typeof r&&r<0?n.splice(0,1):n.pop()}}},$pull:function(e,t,r){if(void 0!==e){var n=e[t];if(void 0!==n)throw n instanceof Array?p("$pull not implemented yet"):p("Cannot apply $pull/pullAll modifier to non-array",{field:t})}},$pullAll:function(e,t,r){if(!("object"===(void 0===r?"undefined":a(r))&&r instanceof Array))throw p("Modifier $pushAll/pullAll allowed for arrays only",{field:t});if(void 0!==e){var n=e[t];if(void 0!==n){if(!(n instanceof Array))throw p("Cannot apply $pull/pullAll modifier to non-array",{field:t});for(var o=[],s=0;s<n.length;s++){for(var u=!1,c=0;c<r.length;c++)if(i(n[s],r[c])){u=!0;break}u||o.push(n[s])}e[t]=o}}},$rename:function(e,t,r,n,o){if(n===r)throw p("$rename source must differ from target",{field:t});if(null===e)throw p("$rename source field invalid",{field:t});if("string"!=typeof r)throw p("$rename target must be a string",{field:t});if(r.indexOf("\0")>-1)throw p("The 'to' field for $rename cannot contain an embedded null byte",{field:t});if(void 0!==e){var i=e[t];delete e[t];var a=r.split("."),s=g(o,a,{forbidArray:!0});if(null===s)throw p("$rename target field invalid",{field:t});s[a.pop()]=i}},$bit:function(e,t,r){throw p("$bit is not supported",{field:t})}};t.exports=function(e,t,r){if(!r||!r.each)return m(e,t,s({},r,{returnInsteadOfReplacing:!0}))}},{clone:60,"deep-equal":488}],503:[function(e,t,r){!function(e,r){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=r():"function"==typeof define&&define.amd?define([],r):e.objectPath=r()}(this,function(){"use strict";var e=Object.prototype.toString;function t(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function r(e){if(!e)return!0;if(o(e)&&0===e.length)return!0;if("string"!=typeof e){for(var r in e)if(t(e,r))return!1;return!0}return!1}function n(t){return e.call(t)}var o=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(e){var t=parseInt(e);return t.toString()===e?t:e}function a(e){e=e||{};var a=function(e){return Object.keys(a).reduce(function(t,r){return"create"===r?t:("function"==typeof a[r]&&(t[r]=a[r].bind(a,e)),t)},{})};function s(r,n){return e.includeInheritedProps||"number"==typeof n&&Array.isArray(r)||t(r,n)}function u(e,t){if(s(e,t))return e[t]}function c(e,t,r,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return c(e,t.split(".").map(i),r,n);var o=t[0],a=u(e,o);return 1===t.length?(void 0!==a&&n||(e[o]=r),a):(void 0===a&&("number"==typeof t[1]?e[o]=[]:e[o]={}),c(e[o],t.slice(1),r,n))}return a.has=function(r,n){if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!!r;for(var a=0;a<n.length;a++){var s=i(n[a]);if(!("number"==typeof s&&o(r)&&s<r.length||(e.includeInheritedProps?s in Object(r):t(r,s))))return!1;r=r[s]}return!0},a.ensureExists=function(e,t,r){return c(e,t,r,!0)},a.set=function(e,t,r,n){return c(e,t,r,n)},a.insert=function(e,t,r,n){var i=a.get(e,t);n=~~n,o(i)||(i=[],a.set(e,t,i)),i.splice(n,0,r)},a.empty=function(e,t){var i,u;if(!r(t)&&(null!=e&&(i=a.get(e,t)))){if("string"==typeof i)return a.set(e,t,"");if("boolean"==typeof(l=i)||"[object Boolean]"===n(l))return a.set(e,t,!1);if("number"==typeof i)return a.set(e,t,0);if(o(i))i.length=0;else{if("object"!=typeof(c=i)||"[object Object]"!==n(c))return a.set(e,t,null);for(u in i)s(i,u)&&delete i[u]}var c,l}},a.push=function(e,t){var r=a.get(e,t);o(r)||(r=[],a.set(e,t,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},a.coalesce=function(e,t,r){for(var n,o=0,i=t.length;o<i;o++)if(void 0!==(n=a.get(e,t[o])))return n;return r},a.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return a.get(e,t.split("."),r);var n=i(t[0]),o=u(e,n);return void 0===o?r:1===t.length?o:a.get(e[n],t.slice(1),r)},a.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(r(t))return e;if("string"==typeof t)return a.del(e,t.split("."));var n=i(t[0]);return s(e,n)?1!==t.length?a.del(e[n],t.slice(1)):(o(e)?e.splice(n,1):delete e[n],e):e},a}var s=a();return s.create=a,s.withInheritedProps=a({includeInheritedProps:!0}),s})},{}],504:[function(e,t,r){"use strict";var n,o=(n=e("pouchdb-promise"))&&"object"==typeof n&&"default"in n?n.default:n,i=e("pouchdb-utils"),a=e("pouchdb-md5"),s=e("pouchdb-collections"),u=e("pouchdb-binary-utils"),c=e("pouchdb-collate"),l=e("pouchdb-mapreduce-utils");function f(){this.promise=new o(function(e){e()})}function d(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function h(e,t,r,n,o,s){var u,c,l=(u=n,d(r)+d(u)+"undefined");if(!o&&(c=e._cachedViews=e._cachedViews||{})[l])return c[l];var f=e.info().then(function(u){var f=u.db_name+"-mrview-"+(o?"temp":a.stringMd5(l));return i.upsert(e,"_local/"+s,function(e){e.views=e.views||{};var r=t;-1===r.indexOf("/")&&(r=t+"/"+t);var n=e.views[r]=e.views[r]||{};if(!n[f])return n[f]=!0,e}).then(function(){return e.registerDependentDatabase(f).then(function(t){var o=t.db;o.auto_compaction=!0;var i={name:f,db:o,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:n};return i.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return i.seq=e?e.seq:0,c&&i.db.once("destroyed",function(){delete c[l]}),i})})})});return c&&(c[l]=f),f}f.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},f.prototype.finish=function(){return this.promise};var p={},b=new f,v=50;function y(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function _(e,t){try{e.emit("error",t)}catch(e){i.guardedConsole("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),i.guardedConsole("error",t)}}t.exports=function(e,t,r,n){function a(e,t,r){try{t(r)}catch(t){_(e,t)}}function d(e,t,r,n,o){try{return{output:t(r,n,o)}}catch(t){return _(e,t),{error:t}}}function m(e,t){var r=c.collate(e.key,t.key);return 0!==r?r:c.collate(e.value,t.value)}function g(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function w(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&t.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var r=t[e];t[e].data=u.base64StringToBlobOrBuffer(r.data,r.content_type)})}),t}}function x(e,t,r,n){var o=t[e];void 0!==o&&(n&&(o=encodeURIComponent(JSON.stringify(o))),r.push(e+"="+o))}function k(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function j(e,t){var r=e.descending?"endkey":"startkey",n=e.descending?"startkey":"endkey";if(void 0!==e[r]&&void 0!==e[n]&&c.collate(e[r],e[n])>0)throw new l.QueryParseError("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new l.QueryParseError("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new l.QueryParseError("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var r=function(e){if(e){if("number"!=typeof e)return new l.QueryParseError('Invalid value for integer: "'+e+'"');if(e<0)return new l.QueryParseError('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(r)throw r})}function O(e){return function(t){if(404===t.status)return e;throw t}}function S(e,t,r){var n,i="_local/doc_"+e,a={_id:i,keys:[]},u=r.get(e),c=u[0],f=u[1];return(1===(n=f).length&&/^1-/.test(n[0].rev)?o.resolve(a):t.db.get(i).catch(O(a))).then(function(e){return(r=e,r.keys.length?t.db.allDocs({keys:r.keys,include_docs:!0}):o.resolve({rows:[]})).then(function(t){return function(e,t){for(var r=[],n=new s.Set,o=0,i=t.rows.length;o<i;o++){var a=t.rows[o].doc;if(a&&(r.push(a),n.add(a._id),a._deleted=!c.has(a._id),!a._deleted)){var u=c.get(a._id);"value"in u&&(a.value=u.value)}}var f=l.mapToKeysArray(c);return f.forEach(function(e){if(!n.has(e)){var t={_id:e},o=c.get(e);"value"in o&&(t.value=o.value),r.push(t)}}),e.keys=l.uniq(f.concat(e.keys)),r.push(e),r}(e,t)});var r})}function E(e){var t="string"==typeof e?e:e.name,r=p[t];return r||(r=p[t]=new f),r}function C(e){return l.sequentialize(E(e),function(){return function(e){var r,n,u=t(e.mapFun,function(e,t){var o={id:n._id,key:c.normalizeKey(e)};void 0!==t&&null!==t&&(o.value=c.normalizeKey(t)),r.push(o)}),d=e.seq||0;function h(t,r){return function(){return a=t,s=r,u="_local/lastSeq",(n=e).db.get(u).catch(O({_id:u,seq:0})).then(function(e){var t=l.mapToKeysArray(a);return o.all(t.map(function(e){return S(e,n,a)})).then(function(t){var r=i.flatten(t);return e.seq=s,r.push(e),n.db.bulkDocs({docs:r})})});var n,a,s,u}}var p=new f;function b(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:d,limit:v}).then(y)}function y(t){var o=t.results;if(o.length){var i=function(t){for(var o=new s.Map,i=0,c=t.length;i<c;i++){var l=t[i];if("_"!==l.doc._id[0]){r=[],(n=l.doc)._deleted||a(e.sourceDB,u,n),r.sort(m);var f=_(r);o.set(l.doc._id,[f,l.changes])}d=l.seq}return o}(o);if(p.add(h(i,d)),!(o.length<v))return b()}}function _(e){for(var t,r=new s.Map,n=0,o=e.length;n<o;n++){var i=e[n],a=[i.key,i.id];n>0&&0===c.collate(i.key,t)&&a.push(n),r.set(c.toIndexableString(a),i),t=i.key}return r}return b().then(function(){return p.finish()}).then(function(){e.seq=d})}(e)})()}function A(e,t){return l.sequentialize(E(e),function(){return function(e,t){var n,a=e.reduceFun&&!1!==t.reduce,u=t.skip||0;function f(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return n=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||t>r))return e.doc.value}var n=c.parseIndexableString(e.doc._id);return{key:n[0],id:n[1],value:"value"in e.doc?e.doc.value:null}})})}function h(o){var i;if(i=a?function(e,t,n){0===n.group_level&&delete n.group_level;var o,i,a,s=n.group||n.group_level,u=r(e.reduceFun),f=[],h=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach(function(e){var t=f[f.length-1],r=s?e.key:null;if(s&&Array.isArray(r)&&(r=r.slice(0,h)),t&&0===c.collate(t.groupKey,r))return t.keys.push([e.key,e.id]),void t.values.push(e.value);f.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})}),t=[];for(var p=0,b=f.length;p<b;p++){var v=f[p],y=d(e.sourceDB,u,v.keys,v.values,!1);if(y.error&&y.error instanceof l.BuiltInError)throw y.error;t.push({value:y.error?null:y.output,key:v.groupKey})}return{rows:(o=t,i=n.limit,a=n.skip,a=a||0,"number"==typeof i?o.slice(a,i+a):a>0?o.slice(a):o)}}(e,o,t):{total_rows:n,offset:u,rows:o},t.update_seq&&(i.update_seq=e.seq),t.include_docs){var f=l.uniq(o.map(g));return e.sourceDB.allDocs({keys:f,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new s.Map;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),o.forEach(function(e){var r=g(e),n=t.get(r);n&&(e.doc=n)}),i})}return i}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var p=t.keys,b=p.map(function(e){var r={startkey:c.toIndexableString([e]),endkey:c.toIndexableString([e,{}])};return t.update_seq&&(r.update_seq=!0),f(r)});return o.all(b).then(i.flatten).then(h)}var v,y,_={descending:t.descending};if(t.update_seq&&(_.update_seq=!0),"start_key"in t&&(v=t.start_key),"startkey"in t&&(v=t.startkey),"end_key"in t&&(y=t.end_key),"endkey"in t&&(y=t.endkey),void 0!==v&&(_.startkey=t.descending?c.toIndexableString([v,{}]):c.toIndexableString([v])),void 0!==y){var m=!1!==t.inclusive_end;t.descending&&(m=!m),_.endkey=c.toIndexableString(m?[y,{}]:[y])}if(void 0!==t.key){var w=c.toIndexableString([t.key]),x=c.toIndexableString([t.key,{}]);_.descending?(_.endkey=w,_.startkey=x):(_.startkey=w,_.endkey=x)}return a||("number"==typeof t.limit&&(_.limit=t.limit),_.skip=u),f(_).then(h)}(e,t)})()}function P(t,r,a){if("function"==typeof t._query)return s=t,u=r,c=a,new o(function(e,t){s._query(u,c,function(r,n){if(r)return t(r);e(n)})});var s,u,c;if(i.isRemote(t))return function(e,t,r){var n,o=[],i="GET";if(x("reduce",r,o),x("include_docs",r,o),x("attachments",r,o),x("limit",r,o),x("descending",r,o),x("group",r,o),x("group_level",r,o),x("skip",r,o),x("stale",r,o),x("conflicts",r,o),x("startkey",r,o,!0),x("start_key",r,o,!0),x("endkey",r,o,!0),x("end_key",r,o,!0),x("inclusive_end",r,o),x("key",r,o,!0),x("update_seq",r,o),o=""===(o=o.join("&"))?"":"?"+o,void 0!==r.keys){var a="keys="+encodeURIComponent(JSON.stringify(r.keys));a.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+a:(i="POST","string"==typeof t?n={keys:r.keys}:t.keys=r.keys)}if("string"==typeof t){var s=y(t);return e.request({method:i,url:"_design/"+s[0]+"/_view/"+s[1]+o,body:n}).then(function(e){return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(w(r))}return n=n||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?n[e]=t[e]:n[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:n}).then(w(r))}(t,r,a);if("string"!=typeof r)return j(a,r),b.add(function(){return h(t,"temp_view/temp_view",r.map,r.reduce,!0,e).then(function(e){return l.fin(C(e).then(function(){return A(e,a)}),function(){return e.db.destroy()})})}),b.finish();var f=r,d=y(f),p=d[0],v=d[1];return t.get("_design/"+p).then(function(r){var o=r.views&&r.views[v];if(!o)throw new l.NotFoundError("ddoc "+r._id+" has no view named "+v);return n(r,v),j(a,o),h(t,f,o.map,o.reduce,!1,e).then(function(e){return"ok"===a.stale||"update_after"===a.stale?("update_after"===a.stale&&i.nextTick(function(){C(e)}),A(e,a)):C(e).then(function(){return A(e,a)})})})}return{query:function(e,t,r){var n,i=this;"function"==typeof t&&(r=t,t={}),t=t?((n=t).group_level=k(n.group_level),n.limit=k(n.limit),n.skip=k(n.skip),n):{},"function"==typeof e&&(e={map:e});var a=o.resolve().then(function(){return P(i,e,t)});return l.promisedCallback(a,r),a},viewCleanup:l.callbackify(function(){var t,r;return"function"==typeof this._viewCleanup?(t=this,new o(function(e,r){t._viewCleanup(function(t,n){if(t)return r(t);e(n)})})):i.isRemote(this)?this.request({method:"POST",url:"_view_cleanup"}):(r=this).get("_local/"+e).then(function(e){var t=new s.Map;Object.keys(e.views).forEach(function(e){var r=y(e),n="_design/"+r[0],o=r[1],i=t.get(n);i||(i=new s.Set,t.set(n,i)),i.add(o)});var n={keys:l.mapToKeysArray(t),include_docs:!0};return r.allDocs(n).then(function(n){var i={};n.rows.forEach(function(r){var n=r.key.substring(8);t.get(r.key).forEach(function(t){var o=n+"/"+t;e.views[o]||(o=t);var a=Object.keys(e.views[o]),s=r.doc&&r.doc.views&&r.doc.views[t];a.forEach(function(e){i[e]=i[e]||s})})});var a=Object.keys(i).filter(function(e){return!i[e]}).map(function(e){return l.sequentialize(E(e),function(){return new r.constructor(e,r.__opts).destroy()})()});return o.all(a).then(function(){return{ok:!0}})})},O({ok:!0}))})}}},{"pouchdb-binary-utils":509,"pouchdb-collate":512,"pouchdb-collections":513,"pouchdb-mapreduce-utils":523,"pouchdb-md5":524,"pouchdb-promise":526,"pouchdb-utils":529}],505:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n(e("pouchdb-promise")),i=e("pouchdb-utils"),a=n(e("pouchdb-ajax")),s=n(e("argsarray")),u=e("pouchdb-binary-utils"),c=e("pouchdb-errors");var l=25,f=50,d=5e3,h=1e4,p={};function b(e){var t=(e.doc||e.ok)._attachments;t&&Object.keys(t).forEach(function(e){var r=t[e];r.data=u.base64StringToBlobOrBuffer(r.data,r.content_type)})}function v(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function y(e){return e._attachments&&Object.keys(e._attachments)?o.all(Object.keys(e._attachments).map(function(t){var r=e._attachments[t];if(r.data&&"string"!=typeof r.data)return new o(function(e){u.blobOrBufferToBase64(r.data,e)}).then(function(e){r.data=e})})):o.resolve()}function _(e,t){if(function(e){if(!e.prefix)return!1;var t=i.parseUri(e.prefix).protocol;return"http"===t||"https"===t}(t)){var r=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(r)}var n=i.parseUri(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var o=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=o.pop(),-1===n.db.indexOf("%")&&(n.db=encodeURIComponent(n.db)),n.path=o.join("/"),n}function m(e,t){return g(e,e.db+"/"+t)}function g(e,t){var r=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+r+t}function w(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function x(e,t){var r,n=this,x=_(e.name,e),k=m(x,""),j=(e=i.clone(e)).ajax||{};if(e.auth||x.auth){var O=e.auth||x.auth,S=O.username+":"+O.password,E=u.btoa(unescape(encodeURIComponent(S)));j.headers=j.headers||{},j.headers.Authorization="Basic "+E}function C(e,t,r){var o=(e||{}).ajax||{},a=i.assign(i.clone(j),o,t),s=i.clone(j.headers||{});return a.headers=i.assign(s,o.headers,t.headers||{}),n.constructor.listeners("debug").length&&n.constructor.emit("debug",["http",a.method,a.url]),n._ajax(a,r)}function A(e,t){return new o(function(r,n){C(e,t,function(e,t){if(e)return n(e);r(t)})})}function P(e,t){return i.adapterFun(e,s(function(e){R().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})}))}function R(){return e.skipSetup||e.skip_setup?o.resolve():r||((r=A({},{method:"GET",url:k}).catch(function(e){return e&&e.status&&404===e.status?(i.explainError(404,"PouchDB is just detecting if the remote exists."),A({},{method:"PUT",url:k})):o.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||o.reject(e)})).catch(function(){r=null}),r)}function D(e){return e.split("/").map(encodeURIComponent).join("/")}n._ajax=a,i.nextTick(function(){t(null,n)}),n._remote=!0,n.type=function(){return"http"},n.id=P("id",function(e){C({},{method:"GET",url:g(x,"")},function(t,r){var n=r&&r.uuid?r.uuid+x.db:m(x,"");e(null,n)})}),n.request=P("request",function(e,t){e.url=m(x,e.url),C({},e,t)}),n.compact=P("compact",function(e,t){"function"==typeof e&&(t=e,e={}),C(e=i.clone(e),{url:m(x,"_compact"),method:"POST"},function(){!function r(){n.info(function(n,o){o&&!o.compact_running?t(null,{ok:!0}):setTimeout(r,e.interval||200)})}()})}),n.bulkGet=i.adapterFun("bulkGet",function(e,t){var r=this;function n(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),C(e,{url:m(x,"_bulk_get"+w(r)),method:"POST",body:{docs:e.docs}},function(r,n){!r&&e.attachments&&e.binary&&n.results.forEach(function(e){e.docs.forEach(b)}),t(r,n)})}function o(){var n=f,o=Math.ceil(e.docs.length/n),a=0,s=new Array(o);function u(e){return function(r,n){s[e]=n.results,++a===o&&t(null,{results:i.flatten(s)})}}for(var c=0;c<o;c++){var l=i.pick(e,["revs","attachments","binary","latest"]);l.ajax=j,l.docs=e.docs.slice(c*n,Math.min(e.docs.length,(c+1)*n)),i.bulkGetShim(r,l,u(c))}}var a=g(x,""),s=p[a];"boolean"!=typeof s?n(function(e,r){e?(p[a]=!1,i.explainError(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(p[a]=!0,t(null,r))}):s?n(t):o()}),n._info=function(e){R().then(function(){C({},{method:"GET",url:m(x,"")},function(t,r){if(t)return e(t);r.host=m(x,""),e(null,r)})}).catch(e)},n.get=P("get",function(e,t,r){"function"==typeof t&&(r=t,t={});var n={};(t=i.clone(t)).revs&&(n.revs=!0),t.revs_info&&(n.revs_info=!0),t.latest&&(n.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),n.open_revs=t.open_revs),t.rev&&(n.rev=t.rev),t.conflicts&&(n.conflicts=t.conflicts),t.update_seq&&(n.update_seq=t.update_seq),e=v(e);var a={method:"GET",url:m(x,e+w(n))};function s(e){var r=e._attachments,n=r&&Object.keys(r);if(r&&n.length){var i,a,s=n.map(function(n){return function(){return a=r[i=n],s=v(e._id)+"/"+D(i)+"?rev="+e._rev,A(t,{method:"GET",url:m(x,s),binary:!0}).then(function(e){return t.binary?e:new o(function(t){u.blobOrBufferToBase64(e,t)})}).then(function(e){delete a.stub,delete a.length,a.data=e});var i,a,s}});return i=s,a=5,new o(function(e,t){var r,n=0,o=0,s=0,u=i.length;function c(){++s===u?r?t(r):e():d()}function l(){n--,c()}function f(e){n--,r=r||e,c()}function d(){for(;n<a&&o<u;)n++,i[o++]().then(l,f)}d()})}}A(t,a).then(function(e){return o.resolve().then(function(){if(t.attachments)return r=e,Array.isArray(r)?o.all(r.map(function(e){if(e.ok)return s(e.ok)})):s(r);var r}).then(function(){r(null,e)})}).catch(function(t){t.docId=e,r(t)})}),n.remove=P("remove",function(e,t,r,n){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(o=e,"function"==typeof t?(n=t,r={}):(n=r,r=t));var i=o._rev||r.rev;C(r,{method:"DELETE",url:m(x,v(o._id))+"?rev="+i},n)}),n.getAttachment=P("getAttachment",function(e,t,r,n){"function"==typeof r&&(n=r,r={});var o=r.rev?"?rev="+r.rev:"";C(r,{method:"GET",url:m(x,v(e))+"/"+D(t)+o,binary:!0},n)}),n.removeAttachment=P("removeAttachment",function(e,t,r,n){C({},{method:"DELETE",url:m(x,v(e)+"/"+D(t))+"?rev="+r},n)}),n.putAttachment=P("putAttachment",function(e,t,r,n,o,i){"function"==typeof o&&(i=o,o=n,n=r,r=null);var a=v(e)+"/"+D(t),s=m(x,a);if(r&&(s+="?rev="+r),"string"==typeof n){var l;try{l=u.atob(n)}catch(e){return i(c.createError(c.BAD_ARG,"Attachment is not a valid base64 string"))}n=l?u.binaryStringToBlobOrBuffer(l,o):""}C({},{headers:{"Content-Type":o},method:"PUT",url:s,processData:!1,body:n,timeout:j.timeout||6e4},i)}),n._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,R().then(function(){return o.all(e.docs.map(y))}).then(function(){C(t,{method:"POST",url:m(x,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){if(e)return r(e);t.forEach(function(e){e.ok=!0}),r(null,t)})}).catch(r)},n._put=function(e,t,r){R().then(function(){return y(e)}).then(function(){C(t,{method:"PUT",url:m(x,v(e._id)),body:e},function(t,n){if(t)return t.docId=e&&e._id,r(t);r(null,n)})}).catch(r)},n.allDocs=P("allDocs",function(e,t){"function"==typeof e&&(t=e,e={});var r,n={},o="GET";(e=i.clone(e)).conflicts&&(n.conflicts=!0),e.update_seq&&(n.update_seq=!0),e.descending&&(n.descending=!0),e.include_docs&&(n.include_docs=!0),e.attachments&&(n.attachments=!0),e.key&&(n.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(n.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(n.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(n.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(n.limit=e.limit),void 0!==e.skip&&(n.skip=e.skip);var a=w(n);void 0!==e.keys&&(o="POST",r={keys:e.keys}),A(e,{method:o,url:m(x,"_all_docs"+a),body:r}).then(function(r){e.include_docs&&e.attachments&&e.binary&&r.rows.forEach(b),t(null,r)}).catch(t)}),n._changes=function(e){var t="batch_size"in e?e.batch_size:l;!(e=i.clone(e)).continuous||"heartbeat"in e||(e.heartbeat=h);var r="timeout"in e?e.timeout:"timeout"in j?j.timeout:3e4;"timeout"in e&&e.timeout&&r-e.timeout<d&&(r=e.timeout+d),"heartbeat"in e&&e.heartbeat&&r-e.heartbeat<d&&(r=e.heartbeat+d);var n={};"timeout"in e&&e.timeout&&(n.timeout=e.timeout);var o,a=void 0!==e.limit&&e.limit;o="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var s=a;if(e.style&&(n.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(n.include_docs=!0),e.attachments&&(n.attachments=!0),e.continuous&&(n.feed="longpoll"),e.seq_interval&&(n.seq_interval=e.seq_interval),e.conflicts&&(n.conflicts=!0),e.descending&&(n.descending=!0),e.update_seq&&(n.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(n.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(n.filter=e.filter),e.view&&"string"==typeof e.view&&(n.filter="_view",n.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var u in e.query_params)e.query_params.hasOwnProperty(u)&&(n[u]=e.query_params[u]);var c,f,p,v="GET";e.doc_ids?(n.filter="_doc_ids",v="POST",c={doc_ids:e.doc_ids}):e.selector&&(n.filter="_selector",v="POST",c={selector:e.selector});var y=function(o,i){if(!e.aborted){n.since=o,"object"==typeof n.since&&(n.since=JSON.stringify(n.since)),e.descending?a&&(n.limit=s):n.limit=!a||s>t?t:s;var u={method:v,url:m(x,"_changes"+w(n)),timeout:r,body:c};p=o,e.aborted||R().then(function(){f=C(e,u,i)}).catch(i)}},_={results:[]},g=function(r,n){if(!e.aborted){var u=0;if(n&&n.results){u=n.results.length,_.last_seq=n.last_seq;var c=null,l=null;"number"==typeof n.pending&&(c=n.pending),"string"!=typeof _.last_seq&&"number"!=typeof _.last_seq||(l=_.last_seq);e.query_params,n.results=n.results.filter(function(t){s--;var r=i.filterChange(e)(t);return r&&(e.include_docs&&e.attachments&&e.binary&&b(t),o&&_.results.push(t),e.onChange(t,c,l)),r})}else if(r)return e.aborted=!0,void e.complete(r);n&&n.last_seq&&(p=n.last_seq);var f=a&&s<=0||n&&u<t||e.descending;(!e.continuous||a&&s<=0)&&f?e.complete(null,_):i.nextTick(function(){y(p,g)})}};return y(e.since||0,g),{cancel:function(){e.aborted=!0,f&&f.abort()}}},n.revsDiff=P("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),C(t,{method:"POST",url:m(x,"_revs_diff"),body:e},r)}),n._close=function(e){e()},n._destroy=function(e,t){C(e,{url:m(x,""),method:"DELETE"},function(e,r){if(e&&e.status&&404!==e.status)return t(e);t(null,r)})}}x.valid=function(){return!0},t.exports=function(e){e.adapter("http",x,!1),e.adapter("https",x,!1)}},{argsarray:39,"pouchdb-ajax":508,"pouchdb-binary-utils":509,"pouchdb-errors":519,"pouchdb-promise":526,"pouchdb-utils":529}],506:[function(e,t,r){"use strict";var n,o=e("pouchdb-utils"),i=(n=e("pouchdb-promise"))&&"object"==typeof n&&"default"in n?n.default:n,a=e("pouchdb-errors"),s=e("pouchdb-json"),u=e("pouchdb-binary-utils"),c=e("pouchdb-collections"),l=e("pouchdb-adapter-utils"),f=e("pouchdb-merge"),d=5,h="document-store",p="by-sequence",b="attach-store",v="attach-seq-store",y="meta-store",_="local-store",m="detect-blob-support";function g(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(a.createError(a.IDB_ERROR,r,t.type))}}function w(e,t,r){return{data:s.safeJsonStringify(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function x(e){if(!e)return null;var t=s.safeJsonParse(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function k(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function j(e,t,r,n){r?n(e?"string"!=typeof e?e:u.base64StringToBlobOrBuffer(e,t):u.blob([""],{type:t})):e?"string"!=typeof e?u.readAsBinaryString(e,function(e){n(u.btoa(e))}):n(e):n("")}function O(e,t,r,n){var o=Object.keys(e._attachments||{});if(!o.length)return n&&n();var i=0;function a(){++i===o.length&&n&&n()}o.forEach(function(n){var o,i,s;t.attachments&&t.include_docs?(o=n,i=e._attachments[o],s=i.digest,r.objectStore(b).get(s).onsuccess=function(e){i.body=e.target.result.body,a()}):(e._attachments[n].stub=!0,a())})}function S(e,t){return i.all(e.map(function(e){if(e.doc&&e.doc._attachments){var r=Object.keys(e.doc._attachments);return i.all(r.map(function(r){var n=e.doc._attachments[r];if("body"in n){var a=n.body,s=n.content_type;return new i(function(i){j(a,s,t,function(t){e.doc._attachments[r]=o.assign(o.pick(n,["digest","content_type"]),{data:t}),i()})})}}))}}))}function E(e,t,r){var n=[],o=r.objectStore(p),i=r.objectStore(b),a=r.objectStore(v),s=e.length;function u(){--s||function(){if(!n.length)return;n.forEach(function(e){var t=a.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1));t.onsuccess=function(t){var r=t.target.result;r||i.delete(e)}})}()}e.forEach(function(e){var r=o.index("_doc_id_rev"),i=t+"::"+e;r.getKey(i).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return u();o.delete(t),a.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var r=t.value.digestSeq.split("::")[0];n.push(r),a.delete(t.primaryKey),t.continue()}else u()}}})}function C(e,t,r){try{return{txn:e.transaction(t,r)}}catch(e){return{error:e}}}var A=new o.changesHandler;function P(e,t,r,n,o,i){for(var s,u,d,m,k,j,O,S,P=t.docs,R=0,D=P.length;R<D;R++){var M=P[R];M._id&&l.isLocalId(M._id)||(M=P[R]=l.parseDoc(M,r.new_edits)).error&&!O&&(O=M)}if(O)return i(O);var I=!1,T=0,L=new Array(P.length),F=new c.Map,q=!1,B=n._meta.blobSupport?"blob":"base64";function N(){I=!0,$()}function $(){S&&I&&(S.docCount+=T,j.put(S))}function U(){q||(A.notify(n._meta.name),i(null,L))}function z(e,t,r,n,o,i,a,s){e.metadata.winningRev=t,e.metadata.deleted=r;var u=e.data;if(u._id=e.metadata.id,u._rev=e.metadata.rev,n&&(u._deleted=!0),u._attachments&&Object.keys(u._attachments).length)return function(e,t,r,n,o,i){var a=e.data,s=0,u=Object.keys(a._attachments);function c(){s===u.length&&V(e,t,r,n,o,i)}function l(){s++,c()}u.forEach(function(r){var n,o,i,a=e.data._attachments[r];if(a.stub)s++,c();else{var u=a.data;delete a.data,a.revpos=parseInt(t,10);var f=a.digest;n=f,o=u,i=l,m.count(n).onsuccess=function(e){var t=e.target.result;if(t)return i();var r={digest:n,body:o},a=m.put(r);a.onsuccess=i}}})}(e,t,r,o,a,s);T+=i,$(),V(e,t,r,o,a,s)}function V(e,t,r,o,i,a){var c=e.data,l=e.metadata;function h(i){var a=e.stemmedRevs||[];o&&n.auto_compaction&&(a=a.concat(f.compactTree(e.metadata))),a&&a.length&&E(a,e.metadata.id,s),l.seq=i.target.result;var c=w(l,t,r);u.put(c).onsuccess=p}function p(){L[i]={ok:!0,id:l.id,rev:l.rev},F.set(e.metadata.id,e.metadata),function(e,t,r){var n=0,o=Object.keys(e.data._attachments||{});if(!o.length)return r();function i(){++n===o.length&&r()}function a(r){var n=e.data._attachments[r].digest,o=k.put({seq:t,digestSeq:n+"::"+t});o.onsuccess=i,o.onerror=function(e){e.preventDefault(),e.stopPropagation(),i()}}for(var s=0;s<o.length;s++)a(o[s])}(e,l.seq,a)}c._doc_id_rev=l.id+"::"+l.rev,delete c._id,delete c._rev;var b=d.put(c);b.onsuccess=h,b.onerror=function(e){e.preventDefault(),e.stopPropagation(),d.index("_doc_id_rev").getKey(c._doc_id_rev).onsuccess=function(e){d.put(c,e.target.result).onsuccess=h}}}l.preprocessAttachments(P,B,function(t){if(t)return i(t);!function(){var t=C(o,[h,p,b,_,v,y],"readwrite");if(t.error)return i(t.error);(s=t.txn).onabort=g(i),s.ontimeout=g(i),s.oncomplete=U,u=s.objectStore(h),d=s.objectStore(p),m=s.objectStore(b),k=s.objectStore(v),(j=s.objectStore(y)).get(y).onsuccess=function(e){S=e.target.result,$()},function(e){var t=[];if(P.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(r){var n=e.data._attachments[r];n.stub&&t.push(n.digest)})}),!t.length)return e();var r,n=0;t.forEach(function(o){var i,s;i=o,s=function(o){o&&!r&&(r=o),++n===t.length&&e(r)},m.get(i).onsuccess=function(e){if(e.target.result)s();else{var t=a.createError(a.MISSING_STUB,"unknown stub attachment with digest "+i);t.status=412,s(t)}}})}(function(t){if(t)return q=!0,i(t);!function(){if(!P.length)return;var t=0;function o(){++t===P.length&&l.processDocs(e.revs_limit,P,n,F,s,L,z,r,N)}function i(e){var t=x(e.target.result);t&&F.set(t.id,t),o()}for(var a=0,c=P.length;a<c;a++){var f=P[a];if(f._id&&l.isLocalId(f._id))o();else{var d=u.get(f.metadata.id);d.onsuccess=i}}}()})}()})}function R(e,t,r,n,o){var i,a,s;function u(e){a=e.target.result,i&&o(i,a,s)}function c(e){i=e.target.result,a&&o(i,a,s)}function l(e){var t=e.target.result;if(!t)return o();o([t.key],[t.value],t)}"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&n>1&&!r?(s={continue:function(){if(!i.length)return o();var r,s=i[i.length-1];if(t&&t.upper)try{r=IDBKeyRange.bound(s,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return o()}else r=IDBKeyRange.lowerBound(s,!0);t=r,i=null,a=null,e.getAll(t,n).onsuccess=u,e.getAllKeys(t,n).onsuccess=c}},e.getAll(t,n).onsuccess=u,e.getAllKeys(t,n).onsuccess=c):r?e.openCursor(t,"prev").onsuccess=l:e.openCursor(t).onsuccess=l}function D(e,t,r){var n,o,i="startkey"in e&&e.startkey,s="endkey"in e&&e.endkey,u="key"in e&&e.key,c="keys"in e&&e.keys,l=e.skip||0,d="number"==typeof e.limit?e.limit:-1,v=!1!==e.inclusive_end;if(!c&&(o=(n=function(e,t,r,n,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(n)return IDBKeyRange.only(n)}catch(e){return{error:e}}return null}(i,s,v,u,e.descending))&&n.error)&&("DataError"!==o.name||0!==o.code))return r(a.createError(a.IDB_ERROR,o.name,o.message));var _=[h,p,y];e.attachments&&_.push(b);var m=C(t,_,"readonly");if(m.error)return r(m.error);var w=m.txn;w.oncomplete=function(){e.attachments?S(B,e.binary).then(z):z()},w.onabort=g(r);var j,E,A,P,D,M,I,T=w.objectStore(h),L=w.objectStore(p),F=w.objectStore(y),q=L.index("_doc_id_rev"),B=[];function N(t,r){var n,o,i,a,s={id:r.id,key:r.id,value:{rev:t}};r.deleted?c&&(B.push(s),s.value.deleted=!0,s.doc=null):l--<=0&&(B.push(s),e.include_docs&&(o=s,i=t,a=(n=r).id+"::"+i,q.get(a).onsuccess=function(t){if(o.doc=k(t.target.result),e.conflicts){var r=f.collectConflicts(n);r.length&&(o.doc._conflicts=r)}O(o.doc,e,w)}))}function $(e){for(var t=0,r=e.length;t<r&&B.length!==d;t++){var n=e[t];if(n.error&&c)B.push(n);else{var o=x(n);N(o.winningRev,o)}}}function U(e,t,r){r&&($(t),B.length<d&&r.continue())}function z(){var t={total_rows:j,offset:e.skip,rows:B};e.update_seq&&void 0!==E&&(t.update_seq=E),r(null,t)}return F.get(y).onsuccess=function(e){j=e.target.result.docCount},e.update_seq&&function(e,t){e.openCursor(null,"prev").onsuccess=function(e){var r=e.target.result,n=void 0;r&&r.key&&(n=r.key);return t({target:{result:[n]}})}}(L,function(e){e.target.result&&e.target.result.length>0&&(E=e.target.result[0])}),o||0===d?void 0:c?(A=e.keys,P=T,D=U,M=[],I=0,void A.forEach(function(e,t){P.get(e).onsuccess=function(r){r.target.result?M[t]=r.target.result:M[t]={key:e,error:"not_found"},++I===A.length&&D(A,M,{})}})):-1===d?function(e,t,r){if("function"!=typeof e.getAll){var n=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(n.push(t.value),t.continue()):r({target:{result:n}})}}else e.getAll(t).onsuccess=r}(T,n,function(t){var r=t.target.result;e.descending&&(r=r.reverse()),$(r)}):void R(T,n,e.descending,d+l,U)}var M=!1,I=[];function T(){!M&&I.length&&(M=!0,I.shift()())}function L(e,t,r,n){if((e=o.clone(e)).continuous){var i=r+":"+o.uuid();return A.addListener(r,i,t,e),A.notify(r),{cancel:function(){A.removeListener(r,i)}}}var a=e.doc_ids&&new c.Set(e.doc_ids);e.since=e.since||0;var s,u=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1),s="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var f,d,v,y,_=[],m=0,w=o.filterChange(e),j=new c.Map;function E(e,t,r,n){if(r.seq!==t)return n();if(r.winningRev===e._rev)return n(r,e);var o=e._id+"::"+r.winningRev;y.get(o).onsuccess=function(e){n(r,k(e.target.result))}}function P(){e.complete(null,{results:_,last_seq:u})}var D=[h,p];e.attachments&&D.push(b);var M=C(n,D,"readonly");if(M.error)return e.complete(M.error);(f=M.txn).onabort=g(e.complete),f.oncomplete=function(){!e.continuous&&e.attachments?S(_).then(P):P()},d=f.objectStore(p),v=f.objectStore(h),y=d.index("_doc_id_rev"),R(d,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,l,function(t,r,n){if(n&&t.length){var o=new Array(t.length),i=new Array(t.length),c=0;r.forEach(function(e,r){!function(e,t,r){if(a&&!a.has(e._id))return r();var n=j.get(e._id);if(n)return E(e,t,n,r);v.get(e._id).onsuccess=function(o){n=x(o.target.result),j.set(e._id,n),E(e,t,n,r)}}(k(e),t[r],function(e,a){i[r]=e,o[r]=a,++c===t.length&&function(){for(var e=0,t=o.length;e<t&&m!==l;e++){var r=o[e];r&&d(i[e],r)}m!==l&&n.continue()}()})})}function d(t,r){var n=e.processChange(r,t,e);u=n.seq=t.seq;var o=w(n);if("object"==typeof o)return e.complete(o);o&&(m++,s&&_.push(n),e.attachments&&e.include_docs?O(r,e,f,function(){S([n],e.binary).then(function(){e.onChange(n)})}):e.onChange(n))}})}var F,q=new c.Map,B=new c.Map;function N(e,t){var r,n,s,c=this;r=function(t){!function(e,t,r){var n=t.name,s=null;function c(e,t){var r=e.objectStore(h);r.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),r.openCursor().onsuccess=function(e){var n=e.target.result;if(n){var o=n.value,i=f.isDeleted(o);o.deletedOrLocal=i?"1":"0",r.put(o),n.continue()}else t()}}function l(e,t){var r=e.objectStore(_),n=e.objectStore(h),o=e.objectStore(p),i=n.openCursor();i.onsuccess=function(e){var i=e.target.result;if(i){var a=i.value,s=a.id,u=f.isLocalId(s),c=f.winningRev(a);if(u){var l=s+"::"+c,d=s+"::",h=s+"::~",p=o.index("_doc_id_rev"),b=IDBKeyRange.bound(d,h,!1,!1),v=p.openCursor(b);v.onsuccess=function(e){if(v=e.target.result){var t=v.value;t._doc_id_rev===l&&r.put(t),o.delete(v.primaryKey),v.continue()}else n.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function O(e,t){var r=e.objectStore(p),n=e.objectStore(b),o=e.objectStore(v),i=n.count();i.onsuccess=function(e){var n=e.target.result;if(!n)return t();r.openCursor().onsuccess=function(e){var r=e.target.result;if(!r)return t();for(var n=r.value,i=r.primaryKey,a=Object.keys(n._attachments||{}),s={},u=0;u<a.length;u++){var c=n._attachments[a[u]];s[c.digest]=!0}var l=Object.keys(s);for(u=0;u<l.length;u++){var f=l[u];o.put({seq:i,digestSeq:f+"::"+i})}r.continue()}}}function S(e){var t=e.objectStore(p),r=e.objectStore(h),n=r.openCursor();n.onsuccess=function(e){var n=e.target.result;if(n){var o,i,a,s=function(e){if(!e.data)return e.deleted="1"===e.deletedOrLocal,e;return x(e)}(n.value);if(s.winningRev=s.winningRev||f.winningRev(s),s.seq)return u();o=s.id+"::",i=s.id+"::￿",a=0,t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(o,i)).onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=a,u();var r=t.primaryKey;r>a&&(a=r),t.continue()}}function u(){var e=w(s,s.winningRev,s.deleted),t=r.put(e);t.onsuccess=function(){n.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=o.toPromise(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(r,n,o){P(t,r,n,e,s,o)},e._get=function(e,t,r){var n,o,i,u=t.ctx;if(!u){var c=C(s,[h,p,b],"readonly");if(c.error)return r(c.error);u=c.txn}function l(){r(i,{doc:n,metadata:o,ctx:u})}u.objectStore(h).get(e).onsuccess=function(e){if(!(o=x(e.target.result)))return i=a.createError(a.MISSING_DOC,"missing"),l();var r;if(t.rev)r=t.latest?f.latest(t.rev,o):t.rev;else{r=o.winningRev;var s=f.isDeleted(o);if(s)return i=a.createError(a.MISSING_DOC,"deleted"),l()}var c=u.objectStore(p),d=o.id+"::"+r;c.index("_doc_id_rev").get(d).onsuccess=function(e){if((n=e.target.result)&&(n=k(n)),!n)return i=a.createError(a.MISSING_DOC,"missing"),l();l()}}},e._getAttachment=function(e,t,r,n,o){var i;if(n.ctx)i=n.ctx;else{var a=C(s,[h,p,b],"readonly");if(a.error)return o(a.error);i=a.txn}var u=r.digest,c=r.content_type;i.objectStore(b).get(u).onsuccess=function(e){var t=e.target.result.body;j(t,c,n.binary,function(e){o(null,e)})}},e._info=function(t){var r,n,o=C(s,[y,p],"readonly");if(o.error)return t(o.error);var i=o.txn;i.objectStore(y).get(y).onsuccess=function(e){n=e.target.result.docCount},i.objectStore(p).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;r=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:n,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){D(e,s,t)},e._changes=function(t){return L(t,e,n,s)},e._close=function(e){s.close(),q.delete(n),e()},e._getRevisionTree=function(e,t){var r=C(s,[h],"readonly");if(r.error)return t(r.error);var n=r.txn,o=n.objectStore(h).get(e);o.onsuccess=function(e){var r=x(e.target.result);r?t(null,r.rev_tree):t(a.createError(a.MISSING_DOC))}},e._doCompaction=function(e,t,r){var n=[h,p,b,v],o=C(s,n,"readwrite");if(o.error)return r(o.error);var i=o.txn,a=i.objectStore(h);a.get(e).onsuccess=function(r){var n=x(r.target.result);f.traverseRevTree(n.rev_tree,function(e,r,n,o,i){var a=r+"-"+n;-1!==t.indexOf(a)&&(i.status="missing")}),E(t,e,i);var o=n.winningRev,a=n.deleted;i.objectStore(h).put(w(n,o,a))},i.onabort=g(r),i.oncomplete=function(){r()}},e._getLocal=function(e,t){var r=C(s,[_],"readonly");if(r.error)return t(r.error);var n=r.txn,o=n.objectStore(_).get(e);o.onerror=g(t),o.onsuccess=function(e){var r=e.target.result;r?(delete r._doc_id_rev,t(null,r)):t(a.createError(a.MISSING_DOC))}},e._putLocal=function(e,t,r){"function"==typeof t&&(r=t,t={}),delete e._revisions;var n=e._rev,o=e._id;e._rev=n?"0-"+(parseInt(n.split("-")[1],10)+1):"0-1";var i,u=t.ctx;if(!u){var c=C(s,[_],"readwrite");if(c.error)return r(c.error);(u=c.txn).onerror=g(r),u.oncomplete=function(){i&&r(null,i)}}var l,f=u.objectStore(_);n?(l=f.get(o)).onsuccess=function(o){var s=o.target.result;if(s&&s._rev===n){var u=f.put(e);u.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,i)}}else r(a.createError(a.REV_CONFLICT))}:((l=f.add(e)).onerror=function(e){r(a.createError(a.REV_CONFLICT)),e.preventDefault(),e.stopPropagation()},l.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,i)})},e._removeLocal=function(e,t,r){"function"==typeof t&&(r=t,t={});var n,o=t.ctx;if(!o){var i=C(s,[_],"readwrite");if(i.error)return r(i.error);(o=i.txn).oncomplete=function(){n&&r(null,n)}}var u=e._id,c=o.objectStore(_),l=c.get(u);l.onerror=g(r),l.onsuccess=function(o){var i=o.target.result;i&&i._rev===e._rev?(c.delete(u),n={ok:!0,id:u,rev:"0-0"},t.ctx&&r(null,n)):r(a.createError(a.MISSING_DOC))}},e._destroy=function(e,t){A.removeAllListeners(n);var r=B.get(n);r&&r.result&&(r.result.close(),q.delete(n));var i=indexedDB.deleteDatabase(n);i.onsuccess=function(){B.delete(n),o.hasLocalStorage()&&n in localStorage&&delete localStorage[n],t(null,{ok:!0})},i.onerror=g(t)};var R,M=q.get(n);if(M)return s=M.idb,e._meta=M.global,o.nextTick(function(){r(null,e)});R=t.storage?function(e,t){try{return indexedDB.open(e,{version:d,storage:t})}catch(t){return indexedDB.open(e,d)}}(n,t.storage):indexedDB.open(n,d);B.set(n,R),R.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(h,{keyPath:"id"});e.createObjectStore(p,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(b,{keyPath:"digest"}),e.createObjectStore(y,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(m),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(_,{keyPath:"_id"});var r=e.createObjectStore(v,{autoIncrement:!0});r.createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var r,n=e.currentTarget.transaction;e.oldVersion<3&&t.createObjectStore(_,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.oldVersion<4&&((r=t.createObjectStore(v,{autoIncrement:!0})).createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0}));var o=[c,l,O,S],i=e.oldVersion;!function e(){var t=o[i-1];i++;t&&t(n,e)}()},R.onsuccess=function(t){(s=t.target.result).onversionchange=function(){s.close(),q.delete(n)},s.onabort=function(e){o.guardedConsole("error","Database has a global failure",e.target.error),s.close(),q.delete(n)};var a,c,l,f,d,p,b=s.transaction([y,m,h],"readwrite"),v=!1;function _(){void 0!==l&&v&&(e._meta={name:n,instanceId:f,blobSupport:l},q.set(n,{idb:s,global:e._meta}),r(null,e))}function w(){if(void 0!==c&&void 0!==a){var e=n+"_id";e in a?f=a[e]:a[e]=f=o.uuid(),a.docCount=c,b.objectStore(y).put(a)}}b.objectStore(y).get(y).onsuccess=function(e){a=e.target.result||{id:y},w()},d=function(e){c=e,w()},b.objectStore(h).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){d(e.target.result)},F||(p=b,F=new i(function(e){var t=u.blob([""]);p.objectStore(m).put(t,"key").onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)},p.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}}).catch(function(){return!1})),F.then(function(e){l=e,_()}),b.oncomplete=function(){v=!0,_()},b.onabort=g(r)},R.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";o.guardedConsole("error",e),r(a.createError(a.IDB_ERROR,e))}}(c,e,t)},n=t,s=c.constructor,I.push(function(){r(function(e,t){!function(e,t,r,n){try{e(t,r)}catch(t){n.emit("error",t)}}(n,e,t,s),M=!1,o.nextTick(function(){T()})})}),T()}N.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");try{return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}},t.exports=function(e){e.adapter("idb",N,!0)}},{"pouchdb-adapter-utils":507,"pouchdb-binary-utils":509,"pouchdb-collections":513,"pouchdb-errors":519,"pouchdb-json":522,"pouchdb-merge":525,"pouchdb-promise":526,"pouchdb-utils":529}],507:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o=(n=e("pouchdb-promise"))&&"object"==typeof n&&"default"in n?n.default:n,i=e("pouchdb-utils"),a=e("pouchdb-errors"),s=e("pouchdb-binary-utils"),u=e("pouchdb-md5"),c=e("pouchdb-merge"),l=e("pouchdb-collections");function f(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}var d=f(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),h=f(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function p(e){if(!/^\d+-./.test(e))return a.createError(a.INVALID_REV);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function b(e,t){var r,n,o,s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=i.uuid()),n=i.rev(),e._rev){if((o=p(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[n,s,[]]]]}],r=o.prefix+1}else e._rev_tree=[{pos:1,ids:[n,s,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,o=[n[0],t,[]],i=1,a=n.length;i<a;i++)o=[n[i],{status:"missing"},[o]];return[{pos:r,ids:o}]}(e._revisions,s),r=e._revisions.start,n=e._revisions.ids[0]),!e._rev_tree){if((o=p(e._rev)).error)return o;r=o.prefix,n=o.id,e._rev_tree=[{pos:r,ids:[n,s,[]]}]}i.invalidIdError(e._id),e._rev=r+"-"+n;var u={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!d[c]){var f=a.createError(a.DOC_VALIDATION,c);throw f.message=a.DOC_VALIDATION.message+": "+c,f}l&&!h[c]?u.metadata[c.slice(1)]=e[c]:u.data[c]=e[c]}return u}function v(e,t,r){var n=function(e){try{return s.atob(e)}catch(e){return{error:a.createError(a.BAD_ARG,"Attachment is not a valid base64 string")}}}(e.data);if(n.error)return r(n.error);e.length=n.length,e.data="blob"===t?s.binaryStringToBlobOrBuffer(n,e.content_type):"base64"===t?s.btoa(n):n,u.binaryMd5(n,function(t){e.digest="md5-"+t,r()})}function y(e,t,r){if(e.stub)return r();var n,o,i;"string"==typeof e.data?v(e,t,r):(n=e,o=t,i=r,u.binaryMd5(n.data,function(e){n.digest="md5-"+e,n.length=n.data.size||n.data.length||0,"binary"===o?s.blobOrBufferToBinaryString(n.data,function(e){n.data=e,i()}):"base64"===o?s.blobOrBufferToBase64(n.data,function(e){n.data=e,i()}):i()}))}function _(e,t,r,n,o,i,s,u){if(c.revExists(t.rev_tree,r.metadata.rev))return n[o]=r,i();var l=t.winningRev||c.winningRev(t),f="deleted"in t?t.deleted:c.isDeleted(t,l),d="deleted"in r.metadata?r.metadata.deleted:c.isDeleted(r.metadata),h=/^1-/.test(r.metadata.rev);if(f&&!d&&u&&h){var p=r.data;p._rev=l,p._id=r.metadata.id,r=b(p,u)}var v=c.merge(t.rev_tree,r.metadata.rev_tree[0],e);if(u&&(f&&d&&"new_leaf"!==v.conflicts||!f&&"new_leaf"!==v.conflicts||f&&!d&&"new_branch"===v.conflicts)){var y=a.createError(a.REV_CONFLICT);return n[o]=y,i()}var _=r.metadata.rev;r.metadata.rev_tree=v.tree,r.stemmedRevs=v.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var m=c.winningRev(r.metadata),g=c.isDeleted(r.metadata,m),w=f===g?0:f<g?-1:1;s(r,m,g,_===m?g:c.isDeleted(r.metadata,_),!0,w,o,i)}r.allDocsKeysQuery=function(e,t){var r=t.keys,n={offset:t.skip};return o.all(r.map(function(r){var a=i.assign({key:r,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete a[e]}),new o(function(o,i){e._allDocs(a,function(e,a){if(e)return i(e);t.update_seq&&void 0!==a.update_seq&&(n.update_seq=a.update_seq),n.total_rows=a.total_rows,o(a.rows[0]||{key:r,error:"not_found"})})})})).then(function(e){return n.rows=e,n})},r.invalidIdError=i.invalidIdError,r.isDeleted=c.isDeleted,r.isLocalId=c.isLocalId,r.normalizeDdocFunctionName=i.normalizeDdocFunctionName,r.parseDdocFunctionName=i.parseDdocFunctionName,r.parseDoc=b,r.preprocessAttachments=function(e,t,r){if(!e.length)return r();var n,o=0;function i(){o++,e.length===o&&(n?r(n):r())}e.forEach(function(e){var r=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],o=0;if(!r.length)return i();function a(e){n=e,++o===r.length&&i()}for(var s in e.data._attachments)e.data._attachments.hasOwnProperty(s)&&y(e.data._attachments[s],t,a)})},r.processDocs=function(e,t,r,n,o,i,s,u,f){e=e||1e3;var d=u.new_edits,h=new l.Map,p=0,b=t.length;function v(){++p===b&&f&&f()}t.forEach(function(e,t){if(e._id&&c.isLocalId(e._id)){var n=e._deleted?"_removeLocal":"_putLocal";r[n](e,{ctx:o},function(e,r){i[t]=e||r,v()})}else{var a=e.metadata.id;h.has(a)?(b--,h.get(a).push([e,t])):h.set(a,[[e,t]])}}),h.forEach(function(t,r){var o=0;function l(){++o<t.length?f():v()}function f(){var f=t[o],h=f[0],p=f[1];if(n.has(r))_(e,n.get(r),h,i,p,l,s,d);else{var b=c.merge([],h.metadata.rev_tree[0],e);h.metadata.rev_tree=b.tree,h.stemmedRevs=b.stemmedRevs||[],function(e,t,r){var n=c.winningRev(e.metadata),o=c.isDeleted(e.metadata,n);if("was_delete"in u&&o)return i[t]=a.createError(a.MISSING_DOC,"deleted"),r();if(d&&"missing"===e.metadata.rev_tree[0].ids[1].status){var l=a.createError(a.REV_CONFLICT);return i[t]=l,r()}s(e,n,o,o,!1,o?0:1,t,r)}(h,p,l)}}f()})},r.updateDoc=_},{"pouchdb-binary-utils":509,"pouchdb-collections":513,"pouchdb-errors":519,"pouchdb-md5":524,"pouchdb-merge":525,"pouchdb-promise":526,"pouchdb-utils":529}],508:[function(e,t,r){"use strict";var n,o=(n=e("pouchdb-promise"))&&"object"==typeof n&&"default"in n?n.default:n,i=e("pouchdb-binary-utils"),a=e("pouchdb-utils"),s=e("pouchdb-errors");function u(e,t){var r,n,i,a=new Headers,s={method:e.method,credentials:"include",headers:a};return e.json&&(a.set("Accept","application/json"),a.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?s.body=JSON.stringify(e.body):s.body="body"in e?e.body:null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&a.set(t,e.headers[t])}),r=function(){for(var e={},t=new o(function(t,r){e.resolve=t,e.reject=r}),r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.promise=t,o.resolve().then(function(){return fetch.apply(null,r)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}(e.url,s),e.timeout>0&&(n=setTimeout(function(){r.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),r.promise.then(function(t){return i={statusCode:t.status},e.timeout>0&&clearTimeout(n),i.statusCode>=200&&i.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){i.statusCode>=200&&i.statusCode<300?t(null,i,e):(e.status=i.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:r.reject}}var c=function(){try{return new XMLHttpRequest,!0}catch(e){return!1}}();function l(e,t){return c||e.xhr?function(e,t){var r,n,o=!1,a=function(){o=!0,r.abort(),u()},s={abort:function(){r.abort(),u()}},u=function(){clearTimeout(n),s.abort=function(){},r&&(r.onprogress=void 0,r.upload&&(r.upload.onprogress=void 0),r.onreadystatechange=void 0,r=void 0)};r=e.xhr?new e.xhr:new XMLHttpRequest;try{r.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}for(var c in r.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(r.responseType="arraybuffer"),"body"in e||(e.body=null),e.headers)e.headers.hasOwnProperty(c)&&r.setRequestHeader(c,e.headers[c]);return e.timeout>0&&(n=setTimeout(a,e.timeout),r.onprogress=function(){clearTimeout(n),4!==r.readyState&&(n=setTimeout(a,e.timeout))},void 0!==r.upload&&(r.upload.onprogress=r.onprogress)),r.onreadystatechange=function(){if(4===r.readyState){var n={statusCode:r.status};if(r.status>=200&&r.status<300){var a;a=e.binary?i.blob([r.response||""],{type:r.getResponseHeader("Content-Type")}):r.responseText,t(null,n,a)}else{var s={};if(o)(s=new Error("ETIMEDOUT")).code="ETIMEDOUT";else if("string"==typeof r.response&&""!==r.response)try{s=JSON.parse(r.response)}catch(e){}s.status=r.status,t(s)}u()}},e.body&&e.body instanceof Blob?i.readAsArrayBuffer(e.body,function(e){r.send(e)}):r.send(e.body),s}(e,t):u(e,t)}function f(e,t){e=a.clone(e);return(e=a.assign({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},e)).json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),l(e,function(r,n,o){if(r)return t(s.generateErrorFromResponse(r));var i,a=n.headers&&n.headers["content-type"],u=o||"";if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof u&&(/json/.test(a)||/^[\s]*\{/.test(u)&&/\}[\s]*$/.test(u)))try{u=JSON.parse(u.toString())}catch(e){}n.statusCode>=200&&n.statusCode<300?function(t,r,n){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return n(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?s.generateErrorFromResponse(e):e})),e.binary,n(null,t,r)}(u,n,t):((i=s.generateErrorFromResponse(u)).status=n.statusCode,t(i))})}t.exports=function(e,t){var r=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==r.indexOf("safari")&&-1===r.indexOf("chrome"),o=-1!==r.indexOf("msie"),i=-1!==r.indexOf("trident"),a=-1!==r.indexOf("edge"),s=n||(o||i||a)&&"GET"===e.method,u=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(s||!u)){var c=-1!==e.url.indexOf("?");e.url+=(c?"&":"?")+"_nonce="+Date.now()}return f(e,t)}},{"pouchdb-binary-utils":509,"pouchdb-errors":519,"pouchdb-promise":526,"pouchdb-utils":529}],509:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){return atob(e)},o=function(e){return btoa(e)};function i(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}function a(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;o<t;o++)n[o]=e.charCodeAt(o);return r}function s(e,t){return i([a(e)],{type:t})}function u(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,o=0;o<n;o++)t+=String.fromCharCode(r[o]);return t}function c(e,t){if("undefined"==typeof FileReader)return t(u((new FileReaderSync).readAsArrayBuffer(e)));var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(e){var r=e.target.result||"";if(n)return t(r);t(u(r))},n?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function l(e,t){c(e,function(e){t(e)})}r.atob=n,r.btoa=o,r.base64StringToBlobOrBuffer=function(e,t){return s(n(e),t)},r.binaryStringToArrayBuffer=a,r.binaryStringToBlobOrBuffer=s,r.blob=i,r.blobOrBufferToBase64=function(e,t){l(e,function(e){t(o(e))})},r.blobOrBufferToBinaryString=l,r.readAsArrayBuffer=function(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var r=new FileReader;r.onloadend=function(e){var r=e.target.result||new ArrayBuffer(0);t(r)},r.readAsArrayBuffer(e)},r.readAsBinaryString=c,r.typedBuffer=function(){}},{}],510:[function(e,t,r){"use strict";var n=e("pouchdb-utils"),o=e("pouchdb-errors"),i=e("pouchdb-selector-core");function a(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var r="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+r+'"'))}t()}function s(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=n.normalizeDdocFunctionName(e.view):e.filter=n.normalizeDdocFunctionName(e.filter))}function u(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!n.isRemote(e.db)}function c(e,t){var r=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var a=o.createError(o.BAD_REQUEST,"`view` filter parameter not found or invalid.");return r(a)}var s=n.parseDdocFunctionName(t.view);e.db.get("_design/"+s[0],function(i,a){if(e.isCancelled)return r(null,{status:"cancelled"});if(i)return r(o.generateErrorFromResponse(i));var u,c=a&&a.views&&a.views[s[1]]&&a.views[s[1]].map;if(!c)return r(o.createError(o.MISSING_DOC,a.views?"missing json key: "+s[1]:"missing json key: views"));t.filter=(u=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+c+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),n.scopeEval(u,{})),e.doChanges(t)})}else if(t.selector)t.filter=function(e){return i.matchesSelector(e,t.selector)},e.doChanges(t);else{var u=n.parseDdocFunctionName(t.filter);e.db.get("_design/"+u[0],function(i,a){if(e.isCancelled)return r(null,{status:"cancelled"});if(i)return r(o.generateErrorFromResponse(i));var s,c=a&&a.filters&&a.filters[u[1]];if(!c)return r(o.createError(o.MISSING_DOC,a&&a.filters?"missing json key: "+u[1]:"missing json key: filters"));t.filter=(s=c,n.scopeEval('"use strict";\nreturn '+s+";",{})),e.doChanges(t)})}}t.exports=function(e){e._changesFilterPlugin={validate:a,normalize:s,shouldFilter:u,filter:c}}},{"pouchdb-errors":519,"pouchdb-selector-core":528,"pouchdb-utils":529}],511:[function(e,t,r){"use strict";var n,o=(n=e("pouchdb-promise"))&&"object"==typeof n&&"default"in n?n.default:n,i=e("pouchdb-utils"),a=e("pouchdb-collate"),s=1,u="pouchdb",c=5,l=0;function f(e,t,r,n,o){return e.get(t).catch(function(r){if(404===r.status)return"http"!==e.adapter&&"https"!==e.adapter||i.explainError(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:t,history:[],replicator:u,version:s};throw r}).then(function(i){if(!o.cancelled&&i.last_seq!==r)return i.history=(i.history||[]).filter(function(e){return e.session_id!==n}),i.history.unshift({last_seq:r,session_id:n}),i.history=i.history.slice(0,c),i.version=s,i.replicator=u,i.session_id=n,i.last_seq=r,e.put(i).catch(function(i){if(409===i.status)return f(e,t,r,n,o);throw i})})}function d(e,t,r,n,o){this.src=e,this.target=t,this.id=r,this.returnValue=n,this.opts=o||{}}d.prototype.writeCheckpoint=function(e,t){var r=this;return this.updateTarget(e,t).then(function(){return r.updateSource(e,t)})},d.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?f(this.target,this.id,e,t,this.returnValue):o.resolve(!0)},d.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var r=this;return f(this.src,this.id,e,t,this.returnValue).catch(function(e){if(b(e))return r.opts.writeSourceCheckpoint=!1,!0;throw e})}return o.resolve(!0)};var h={undefined:function(e,t){return 0===a.collate(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,r){var n=t[0];var o=t.slice(1);var i=r[0];var a=r.slice(1);if(!n||0===r.length)return{last_seq:l,history:[]};var s=n.session_id;if(p(s,r))return{last_seq:n.last_seq,history:t};var u=i.session_id;if(p(u,o))return{last_seq:i.last_seq,history:a};return e(o,a)}(e.history,t.history)}(t,e).last_seq}};function p(e,t){var r=t[0],n=t.slice(1);return!(!e||0===t.length)&&(e===r.session_id||p(e,n))}function b(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}d.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then(function(e){return e.last_seq||l}).catch(function(e){if(404!==e.status)throw e;return l}):e.target.get(e.id).then(function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||l:e.src.get(e.id).then(function(e){return t.version!==e.version?l:(r=t.version?t.version.toString():"undefined")in h?h[r](t,e):l;var r},function(r){if(404===r.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:l}).then(function(){return l},function(r){return b(r)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):l});throw r})}).catch(function(e){if(404!==e.status)throw e;return l})},t.exports=d},{"pouchdb-collate":512,"pouchdb-promise":526,"pouchdb-utils":529}],512:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=-324,o=3,i="";function a(e,t){if(e===t)return 0;e=s(e),t=s(t);var r,n,o=d(e),i=d(t);if(o-i!=0)return o-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return(r=e)===(n=t)?0:r>n?1:-1}return Array.isArray(e)?function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var o=a(e[n],t[n]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var r=Object.keys(e),n=Object.keys(t),o=Math.min(r.length,n.length),i=0;i<o;i++){var s=a(r[i],n[i]);if(0!==s)return s;if(0!==(s=a(e[r[i]],t[n[i]])))return s}return r.length===n.length?0:r.length>n.length?1:-1}(e,t)}function s(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=s(t[n])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var o in e={},t)if(t.hasOwnProperty(o)){var i=t[o];void 0!==i&&(e[o]=s(i))}}}return e}function u(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),a=e<0,s=a?"0":"2",u=(c=((a?-r:r)-n).toString(),l="0",f=o,function(e,t,r){for(var n="",o=r-e.length;n.length<o;)n+=t;return n}(c,l,f)+c);var c,l,f;s+=i+u;var d=Math.abs(parseFloat(t[0]));a&&(d=10-d);var h=d.toFixed(20);return h=h.replace(/\.?0+$/,""),s+=i+h}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),a=-1,s=r.length,u="";if(t)for(;++a<s;)u+=c(r[a]);else for(;++a<s;){var l=r[a];u+=c(l)+c(e[l])}return u}return""}function c(e){return d(e=s(e))+i+u(e)+"\0"}function l(e,t){var r,i=t;if("1"===e[t])r=0,t++;else{var a="0"===e[t];t++;var s="",u=e.substring(t,t+o),c=parseInt(u,10)+n;for(a&&(c=-c),t+=o;;){var l=e[t];if("\0"===l)break;s+=l,t++}r=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),a&&(r-=10),0!==c&&(r=parseFloat(r+"e"+c))}return{num:r,length:t-i}}function f(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var o=n.element,i=n.index;if(Array.isArray(o))o.push(r);else if(i===e.length-2){o[e.pop()]=r}else e.push(r)}}function d(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}r.collate=a,r.normalizeKey=s,r.toIndexableString=c,r.parseIndexableString=function(e){for(var t=[],r=[],n=0;;){var o=e[n++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var i=l(e,n);t.push(i.num),n+=i.length;break;case"4":for(var a="";;){var s=e[n];if("\0"===s)break;a+=s,n++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var u={element:[],index:t.length};t.push(u.element),r.push(u);break;case"6":var c={element:{},index:t.length};t.push(c.element),r.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();f(t,r)}}}},{}],513:[function(e,t,r){"use strict";function n(e){return"$"+e}function o(){this._store={}}function i(e){if(this._store=new o,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}Object.defineProperty(r,"__esModule",{value:!0}),o.prototype.get=function(e){var t=n(e);return this._store[t]},o.prototype.set=function(e,t){var r=n(e);return this._store[r]=t,!0},o.prototype.has=function(e){return n(e)in this._store},o.prototype.delete=function(e){var t=n(e),r=t in this._store;return delete this._store[t],r},o.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,n=t.length;r<n;r++){var o=t[r];e(this._store[o],o=o.substring(1))}},Object.defineProperty(o.prototype,"size",{get:function(){return Object.keys(this._store).length}}),i.prototype.add=function(e){return this._store.set(e,!0)},i.prototype.has=function(e){return this._store.has(e)},i.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(i.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(r.Set=i,r.Map=o):(r.Set=Set,r.Map=Map)},{}],514:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n(e("pouchdb-promise")),i=n(e("argsarray")),a=e("pouchdb-utils"),s=e("pouchdb-merge"),u=n(e("inherits")),c=e("events"),l=e("pouchdb-collections"),f=e("pouchdb-errors"),d=n(e("pouchdb-debug")),h=n(e("pouchdb-changes-filter"));function p(e,t,r){c.EventEmitter.call(this);var n=this;this.db=e;var i=(t=t?a.clone(t):{}).complete=a.once(function(t,r){t?a.listenerCount(n,"error")>0&&n.emit("error",t):n.emit("complete",r),n.removeAllListeners(),e.removeListener("destroyed",s)});function s(){n.cancel()}r&&(n.on("complete",function(e){r(null,e)}),n.on("error",r)),e.once("destroyed",s),t.onChange=function(e,t,r){n.isCancelled||function(e,t,r,n){try{e.emit("change",t,r,n)}catch(e){a.guardedConsole("error",'Error in .on("change", function):',e)}}(n,e,t,r)};var u=new o(function(e,r){t.complete=function(t,n){t?r(t):e(n)}});n.once("cancel",function(){e.removeListener("destroyed",s),t.complete(null,{status:"cancelled"})}),this.then=u.then.bind(u),this.catch=u.catch.bind(u),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?n.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):n.isCancelled?n.emit("cancel"):n.validateChanges(t)})}function b(e,t,r){var n=[{rev:e._rev}];"all_docs"===r.style&&(n=s.collectLeaves(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:n,doc:e};return s.isDeleted(t,e._rev)&&(o.deleted=!0),r.conflicts&&(o.doc._conflicts=s.collectConflicts(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function v(e,t){return e<t?-1:e>t?1:0}function y(e,t){return function(r,n){r||n[0]&&n[0].error?((r=r||n[0]).docId=t,e(r)):e(null,n.length?n[0]:n)}}function _(e,t){var r=v(e._id,t._id);return 0!==r?r:v(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function m(){c.EventEmitter.call(this)}function g(){this.isReady=!1,this.failed=!1,this.queue=[]}function w(e,t){if(!(this instanceof w))return new w(e,t);var r=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),this.__opts=t=a.clone(t),r.auto_compaction=t.auto_compaction,r.prefix=w.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var n=function(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=w.adapters,o=w.preferredAdapters,i=w.prefix,s=t.adapter;if(!s)for(var u=0;u<o.length&&"idb"===(s=o[u])&&"websql"in n&&a.hasLocalStorage()&&localStorage["_pouch__websqldb_"+i+e];++u)a.guardedConsole("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=n[s];return{name:c&&"use_prefix"in c&&!c.use_prefix?e:i+e,adapter:s}}((t.prefix||"")+e,t);if(t.name=n.name,t.adapter=t.adapter||n.adapter,r.name=e,r._adapter=t.adapter,w.emit("debug",["adapter","Picked adapter: ",t.adapter]),!w.adapters[t.adapter]||!w.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);m.call(r),r.taskqueue=new g,r.adapter=t.adapter,w.adapters[t.adapter].call(r,t,function(e){if(e)return r.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",r),t||e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",r),e.constructor.emit("ref",e)}(r),r.emit("created",r),w.emit("created",r.name),r.taskqueue.ready(r)})}u(p,c.EventEmitter),p.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},p.prototype.validateChanges=function(e){var t=e.complete,r=this;w._changesFilterPlugin?w._changesFilterPlugin.validate(e,function(n){if(n)return t(n);r.doChanges(e)}):r.doChanges(e)},p.prototype.doChanges=function(e){var t=this,r=e.complete;if("live"in(e=a.clone(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=b,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(w._changesFilterPlugin){if(w._changesFilterPlugin.normalize(e),w._changesFilterPlugin.shouldFilter(this,e))return w._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&a.guardedConsole("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=r;var n=this.db._changes(e);if(n&&"function"==typeof n.cancel){var o=t.cancel;t.cancel=i(function(e){n.cancel(),o.apply(this,e)})}}else this.db.info().then(function(n){t.isCancelled?r(null,{status:"cancelled"}):(e.since=n.update_seq,t.doChanges(e))},r)},u(m,c.EventEmitter),m.prototype.post=a.adapterFun("post",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(f.createError(f.NOT_AN_OBJECT));this.bulkDocs({docs:[e]},t,y(r,e._id))}),m.prototype.put=a.adapterFun("put",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(f.createError(f.NOT_AN_OBJECT));if(a.invalidIdError(e._id),s.isLocalId(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,r):this._putLocal(e,r);var n,o,i,u,c=this;function l(r){"function"==typeof c._put&&!1!==t.new_edits?c._put(e,t,r):c.bulkDocs({docs:[e]},t,y(r,e._id))}t.force&&e._rev?(n=e._rev.split("-"),o=n[1],i=parseInt(n[0],10)+1,u=a.rev(),e._revisions={start:i,ids:[u,o]},e._rev=i+"-"+u,t.new_edits=!1,l(function(t){var n=t?null:{ok:!0,id:e._id,rev:e._rev};r(t,n)})):l(r)}),m.prototype.putAttachment=a.adapterFun("putAttachment",function(e,t,r,n,o){var i=this;function s(e){var r="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:n,revpos:++r},i.put(e)}return"function"==typeof o&&(o=n,n=r,r=null),void 0===o&&(o=n,n=r,r=null),o||a.guardedConsole("warn","Attachment",t,"on document",e,"is missing content_type"),i.get(e).then(function(e){if(e._rev!==r)throw f.createError(f.REV_CONFLICT);return s(e)},function(t){if(t.reason===f.MISSING_DOC.message)return s({_id:e});throw t})}),m.prototype.removeAttachment=a.adapterFun("removeAttachment",function(e,t,r,n){var o=this;o.get(e,function(e,i){if(e)n(e);else if(i._rev===r){if(!i._attachments)return n();delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,o.put(i,n)}else n(f.createError(f.REV_CONFLICT))})}),m.prototype.remove=a.adapterFun("remove",function(e,t,r,n){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(o=e,"function"==typeof t?(n=t,r={}):(n=r,r=t)),(r=r||{}).was_delete=!0;var i={_id:o._id,_rev:o._rev||r.rev,_deleted:!0};if(s.isLocalId(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,n);this.bulkDocs({docs:[i]},r,y(n,i._id))}),m.prototype.revsDiff=a.adapterFun("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={});var n=Object.keys(e);if(!n.length)return r(null,{});var o=0,i=new l.Map;function a(e,t){i.has(e)||i.set(e,{missing:[]}),i.get(e).missing.push(t)}n.map(function(t){this._getRevisionTree(t,function(u,c){if(u&&404===u.status&&"missing"===u.message)i.set(t,{missing:e[t]});else{if(u)return r(u);f=c,d=e[l=t].slice(0),s.traverseRevTree(f,function(e,t,r,n,o){var i=t+"-"+r,s=d.indexOf(i);-1!==s&&(d.splice(s,1),"available"!==o.status&&a(l,i))}),d.forEach(function(e){a(l,e)})}var l,f,d;if(++o===n.length){var h={};return i.forEach(function(e,t){h[t]=e}),r(null,h)}})},this)}),m.prototype.bulkGet=a.adapterFun("bulkGet",function(e,t){a.bulkGetShim(this,e,t)}),m.prototype.compactDocument=a.adapterFun("compactDocument",function(e,t,r){var n=this;this._getRevisionTree(e,function(o,i){if(o)return r(o);var a,u,c,l=(a=i,u={},c=[],s.traverseRevTree(a,function(e,t,r,n){var o=t+"-"+r;return e&&(u[o]=0),void 0!==n&&c.push({from:n,to:o}),o}),c.reverse(),c.forEach(function(e){void 0===u[e.from]?u[e.from]=1+u[e.to]:u[e.from]=Math.min(u[e.from],1+u[e.to])}),u),f=[],d=[];Object.keys(l).forEach(function(e){l[e]>t&&f.push(e)}),s.traverseRevTree(i,function(e,t,r,n,o){var i=t+"-"+r;"available"===o.status&&-1!==f.indexOf(i)&&d.push(i)}),n._doCompaction(e,d,r)})}),m.prototype.compact=a.adapterFun("compact",function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var r=t._compactionQueue[0],n=r.opts,o=r.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(r){r&&r.last_seq&&(n.last_seq=r.last_seq),t._compact(n,function(r,n){r?o(r):o(null,n),a.nextTick(function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)})})})}(this)}),m.prototype._compact=function(e,t){var r=this,n={return_docs:!1,last_seq:e.last_seq||0},i=[];r.changes(n).on("change",function(e){i.push(r.compactDocument(e.id,0))}).on("complete",function(e){var n=e.last_seq;o.all(i).then(function(){return a.upsert(r,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},m.prototype.get=a.adapterFun("get",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"string"!=typeof e)return r(f.createError(f.INVALID_ID));if(s.isLocalId(e)&&"function"==typeof this._getLocal)return this._getLocal(e,r);var n=[],o=this;function i(){var i=[],a=n.length;if(!a)return r(null,i);n.forEach(function(n){o.get(e,{rev:n,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(e,t){if(e)i.push({missing:n});else{for(var o,s=0,u=i.length;s<u;s++)if(i[s].ok&&i[s].ok._rev===t._rev){o=!0;break}o||i.push({ok:t})}--a||r(null,i)})})}if(!t.open_revs)return this._get(e,t,function(n,i){if(n)return n.docId=e,r(n);var a=i.doc,u=i.metadata,c=i.ctx;if(t.conflicts){var l=s.collectConflicts(u);l.length&&(a._conflicts=l)}if(s.isDeleted(u,a._rev)&&(a._deleted=!0),t.revs||t.revs_info){for(var f=a._rev.split("-"),d=parseInt(f[0],10),h=f[1],p=s.rootToLeaf(u.rev_tree),b=null,v=0;v<p.length;v++){var y=p[v],_=y.ids.map(function(e){return e.id}).indexOf(h);(_===d-1||!b&&-1!==_)&&(b=y)}var m=b.ids.map(function(e){return e.id}).indexOf(a._rev.split("-")[1])+1,g=b.ids.length-m;if(b.ids.splice(m,g),b.ids.reverse(),t.revs&&(a._revisions={start:b.pos+b.ids.length-1,ids:b.ids.map(function(e){return e.id})}),t.revs_info){var w=b.pos+b.ids.length;a._revs_info=b.ids.map(function(e){return{rev:--w+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&a._attachments){var x=a._attachments,k=Object.keys(x).length;if(0===k)return r(null,a);Object.keys(x).forEach(function(e){this._getAttachment(a._id,e,x[e],{rev:a._rev,binary:t.binary,ctx:c},function(t,n){var o=a._attachments[e];o.data=n,delete o.stub,delete o.length,--k||r(null,a)})},o)}else{if(a._attachments)for(var j in a._attachments)a._attachments.hasOwnProperty(j)&&(a._attachments[j].stub=!0);r(null,a)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return r(e);n=s.collectLeaves(t).map(function(e){return e.rev}),i()});else{if(!Array.isArray(t.open_revs))return r(f.createError(f.UNKNOWN_ERROR,"function_clause"));n=t.open_revs;for(var a=0;a<n.length;a++){var u=n[a];if("string"!=typeof u||!/^\d+-/.test(u))return r(f.createError(f.INVALID_REV))}i()}}),m.prototype.getAttachment=a.adapterFun("getAttachment",function(e,t,r,n){var o=this;r instanceof Function&&(n=r,r={}),this._get(e,r,function(i,a){return i?n(i):a.doc._attachments&&a.doc._attachments[t]?(r.ctx=a.ctx,r.binary=!0,void o._getAttachment(e,t,a.doc._attachments[t],r,n)):n(f.createError(f.MISSING_DOC))})}),m.prototype.allDocs=a.adapterFun("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(r)return void t(f.createError(f.QUERY_PARSE_ERROR,"Query parameter `"+r+"` is not compatible with multi-get"));if(!a.isRemote(this)&&(o="limit"in(n=e)?n.keys.slice(n.skip,n.limit+n.skip):n.skip>0?n.keys.slice(n.skip):n.keys,n.keys=o,n.skip=0,delete n.limit,n.descending&&(o.reverse(),n.descending=!1),0===e.keys.length))return this._allDocs({limit:0},t)}var n,o;return this._allDocs(e,t)}),m.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new p(this,e,t)},m.prototype.close=a.adapterFun("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),m.prototype.info=a.adapterFun("info",function(e){var t=this;this._info(function(r,n){if(r)return e(r);n.db_name=n.db_name||t.name,n.auto_compaction=!(!t.auto_compaction||a.isRemote(t)),n.adapter=t.adapter,e(null,n)})}),m.prototype.id=a.adapterFun("id",function(e){return this._id(e)}),m.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},m.prototype.bulkDocs=a.adapterFun("bulkDocs",function(e,t,r){if("function"==typeof t&&(r=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return r(f.createError(f.MISSING_BULK_DOCS));for(var n=0;n<e.docs.length;++n)if("object"!=typeof e.docs[n]||Array.isArray(e.docs[n]))return r(f.createError(f.NOT_AN_OBJECT));var o;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){var r;o=o||"_"===(r=t).charAt(0)&&r+" is not a valid attachment name, attachment names cannot start with '_'",e._attachments[t].content_type||a.guardedConsole("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),o)return r(f.createError(f.BAD_REQUEST,o));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var i=this;t.new_edits||a.isRemote(i)||e.docs.sort(_),function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),o=0;o<n.length;o++){var i=n[o];r._attachments[i]=a.pick(r._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var s=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,n){if(e)return r(e);if(t.new_edits||(n=n.filter(function(e){return e.error})),!a.isRemote(i))for(var o=0,u=n.length;o<u;o++)n[o].id=n[o].id||s[o];r(null,n)})}),m.prototype.registerDependentDatabase=a.adapterFun("registerDependentDatabase",function(e,t){var r=new this.constructor(e,this.__opts);a.upsert(this,"_local/_pouch_dependentDbs",function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}).then(function(){t(null,{db:r})}).catch(t)}),m.prototype.destroy=a.adapterFun("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var r=this,n=!("use_prefix"in r)||r.use_prefix;function i(){r._destroy(e,function(e,n){if(e)return t(e);r._destroyed=!0,r.emit("destroyed"),t(null,n||{ok:!0})})}if(a.isRemote(r))return i();r.get("_local/_pouch_dependentDbs",function(e,a){if(e)return 404!==e.status?t(e):i();var s=a.dependentDbs,u=r.constructor,c=Object.keys(s).map(function(e){var t=n?e.replace(new RegExp("^"+u.prefix),""):e;return new u(t,r.__opts).destroy()});o.all(c).then(i,t)})}),g.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},g.prototype.fail=function(e){this.failed=e,this.execute()},g.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},g.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},u(w,m),w.adapters={},w.preferredAdapters=[],w.prefix="_pouch_";var x=new c.EventEmitter;!function(e){Object.keys(c.EventEmitter.prototype).forEach(function(t){"function"==typeof c.EventEmitter.prototype[t]&&(e[t]=x[t].bind(x))});var t=e._destructionListeners=new l.Map;e.on("ref",function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}),e.on("unref",function(e){if(t.has(e.name)){var r=t.get(e.name),n=r.indexOf(e);n<0||(r.splice(n,1),r.length>1?t.set(e.name,r):t.delete(e.name))}}),e.on("destroyed",function(e){if(t.has(e)){var r=t.get(e);t.delete(e),r.forEach(function(e){e.emit("destroyed",!0)})}})}(w),w.adapter=function(e,t,r){t.valid()&&(w.adapters[e]=t,r&&w.preferredAdapters.push(e))},w.plugin=function(e){if("function"==typeof e)e(w);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){w.prototype[t]=e[t]})}return this.__defaults&&(w.__defaults=a.assign({},this.__defaults)),w},w.defaults=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);r=r||{},e&&"object"==typeof e&&(e=(r=e).name,delete r.name),r=a.assign({},t.__defaults,r),w.call(this,e,r)}return u(t,w),t.preferredAdapters=w.preferredAdapters.slice(),Object.keys(w).forEach(function(e){e in t||(t[e]=w[e])}),t.__defaults=a.assign({},this.__defaults,e),t};w.plugin(d),w.plugin(h),w.version="6.4.3",t.exports=w},{argsarray:39,events:491,inherits:495,"pouchdb-changes-filter":510,"pouchdb-collections":513,"pouchdb-debug":515,"pouchdb-errors":519,"pouchdb-merge":525,"pouchdb-promise":526,"pouchdb-utils":529}],515:[function(e,t,r){"use strict";var n,o=(n=e("debug"))&&"object"==typeof n&&"default"in n?n.default:n;t.exports=function(e){e.debug=o;var t={};e.on("debug",function(e){var r=e[0],n=e.slice(1);t[r]||(t[r]=o("pouchdb:"+r)),t[r].apply(null,n)})}},{debug:516}],516:[function(e,t,r){(function(n){function o(){var e;try{e=r.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(r=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),!t)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(i=++o)}),e.splice(i,0,n)},r.save=function(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(e){}},r.load=o,r.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},r.enable(o())}).call(this,e("_process"))},{"./debug":517,_process:536}],517:[function(e,t,r){function n(e){var t;function n(){if(n.enabled){var e=n,o=+new Date,i=o-(t||o);e.diff=i,e.prev=t,e.curr=o,t=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=r.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;u++;var o=r.formatters[n];if("function"==typeof o){var i=a[u];t=o.call(e,i),a.splice(u,1),u--}return t}),r.formatArgs.call(e,a),(n.log||r.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=r.enabled(e),n.useColors=r.useColors(),n.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}(e),n.destroy=o,"function"==typeof r.init&&r.init(n),r.instances.push(n),n}function o(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}(r=t.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var i=r.instances[t];i.enabled=r.enabled(i.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=e("ms"),r.instances=[],r.names=[],r.skips=[],r.formatters={}},{ms:518}],518:[function(e,t,r){var n=1e3,o=60*n,i=60*o,a=24*i,s=365.25*a;function u(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}t.exports=function(e,t){t=t||{};var r,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*s;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*i;case"minutes":case"minute":case"mins":case"min":case"m":return r*o;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?u(r=e,a,"day")||u(r,i,"hour")||u(r,o,"minute")||u(r,n,"second")||r+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=o)return Math.round(e/o)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],519:[function(e,t,r){"use strict";var n;function o(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}Object.defineProperty(r,"__esModule",{value:!0}),((n=e("inherits"))&&"object"==typeof n&&"default"in n?n.default:n)(o,Error),o.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var i=new o(401,"unauthorized","Name or password is incorrect."),a=new o(400,"bad_request","Missing JSON list of 'docs'"),s=new o(404,"not_found","missing"),u=new o(409,"conflict","Document update conflict"),c=new o(400,"bad_request","_id field must contain a string"),l=new o(412,"missing_id","_id is required for puts"),f=new o(400,"bad_request","Only reserved document ids may start with underscore."),d=new o(412,"precondition_failed","Database not open"),h=new o(500,"unknown_error","Database encountered an unknown error"),p=new o(500,"badarg","Some query argument is invalid"),b=new o(400,"invalid_request","Request was invalid"),v=new o(400,"query_parse_error","Some query parameter is invalid"),y=new o(500,"doc_validation","Bad special document member"),_=new o(400,"bad_request","Something wrong with the request"),m=new o(400,"bad_request","Document must be a JSON object"),g=new o(404,"not_found","Database not found"),w=new o(500,"indexed_db_went_bad","unknown"),x=new o(500,"web_sql_went_bad","unknown"),k=new o(500,"levelDB_went_went_bad","unknown"),j=new o(403,"forbidden","Forbidden by design doc validate_doc_update function"),O=new o(400,"bad_request","Invalid rev format"),S=new o(412,"file_exists","The database could not be created, the file already exists."),E=new o(412,"missing_stub","A pre-existing attachment stub wasn't found"),C=new o(413,"invalid_url","Provided URL is invalid");r.UNAUTHORIZED=i,r.MISSING_BULK_DOCS=a,r.MISSING_DOC=s,r.REV_CONFLICT=u,r.INVALID_ID=c,r.MISSING_ID=l,r.RESERVED_ID=f,r.NOT_OPEN=d,r.UNKNOWN_ERROR=h,r.BAD_ARG=p,r.INVALID_REQUEST=b,r.QUERY_PARSE_ERROR=v,r.DOC_VALIDATION=y,r.BAD_REQUEST=_,r.NOT_AN_OBJECT=m,r.DB_MISSING=g,r.WSQ_ERROR=x,r.LDB_ERROR=k,r.FORBIDDEN=j,r.INVALID_REV=O,r.FILE_EXISTS=S,r.MISSING_STUB=E,r.IDB_ERROR=w,r.INVALID_URL=C,r.createError=function(e,t){function r(t){for(var r in e)"function"!=typeof e[r]&&(this[r]=e[r]);void 0!==t&&(this.reason=t)}return r.prototype=o.prototype,new r(t)},r.generateErrorFromResponse=function(e){if("object"!=typeof e){var t=e;(e=h).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}},{inherits:495}],520:[function(e,t,r){(function(r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=e("pouchdb-utils"),i=n(e("pouchdb-promise")),a=e("pouchdb-selector-core"),s=n(e("pouchdb-abstract-mapreduce")),u=e("pouchdb-collate"),c=e("pouchdb-md5");function l(e){return(e=o.clone(e)).index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function f(e,t,r){t=l(t),e.request({method:"POST",url:"_index",body:t},r)}function d(e,t,r){e.request({method:"POST",url:"_find",body:t},r)}function h(e,t,r){e.request({method:"POST",url:"_explain",body:t},r)}function p(e,t){e.request({method:"GET",url:"_index"},t)}function b(e,t,r){var n=t.ddoc,o=t.type||"json",i=t.name;if(!n)return r(new Error("you must provide an index's ddoc"));if(!i)return r(new Error("you must provide an index's name"));var a="_index/"+[n,o,i].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:a},r)}function v(e){return function(){for(var t=arguments.length,r=new Array(t),n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}}function y(e){return v(function(t){var n,o=t.pop(),i=e.apply(this,t);return n=o,i.then(function(e){r.nextTick(function(){n(null,e)})},function(e){r.nextTick(function(){n(e)})}),i})}var _=v(function(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];Array.isArray(o)?t=t.concat(_.apply(null,o)):t.push(o)}return t});function m(e){for(var t={},r=0,n=e.length;r<n;r++)t=o.assign(t,e[r]);return t}function g(e,t){for(var r=0,n=Math.min(e.length,t.length);r<n;r++)if(e[r]!==t[r])return!1;return!0}function w(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function x(e,t){var r,n,o,i,s,u,c,l,f,d=function(e){for(var t=0,r=e.length;t<r;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),h=1===e.length;return d?h?(l=e[0],f=t,function(e){f(e[l])}):(u=e,c=t,function(e){for(var t=[],r=0,n=u.length;r<n;r++)t.push(e[u[r]]);c(t)}):h?(o=e[0],i=t,s=a.parseField(o),function(e){for(var t=e,r=0,n=s.length;r<n;r++)if(void 0===(t=t[s[r]]))return;i(t)}):(r=e,n=t,function(e){for(var t=[],o=0,i=r.length;o<i;o++){for(var s=a.parseField(r[o]),u=e,c=0,l=s.length;c<l;c++)if(void 0===(u=u[s[c]]))return;t.push(u)}n(t)})}var k=s("indexes",function(e,t){return x(Object.keys(e.fields),t)},function(){throw new Error("reduce not supported")},function(e,t){var r=e.views[t];if(!r.map||!r.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function j(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function O(e,t){for(var r=[],n=0;n<t.def.fields.length;n++){var o=a.getKey(t.def.fields[n]);r.push(e[o])}return r}function S(e){return e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=_(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){var r=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:j(r.options.def)}})})),t.indexes.sort(function(e,t){return a.compare(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var E=null,C={"￿":{}};function A(e,t){for(var r=e.def.fields.map(a.getKey),n=0,o=r.length;n<o;n++){if(t===r[n])return!0}return!1}function P(e,t){var r=t.def.fields.map(a.getKey);return e.slice().sort(function(e,t){var n=r.indexOf(e),o=r.indexOf(t);return-1===n&&(n=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),a.compare(n,o)})}function R(e,t,r,n){var o,i;return P(function(e){for(var t={},r=0;r<e.length;r++)t["$"+e[r]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})}(_(e,function(e,t,r){for(var n,o=!1,i=0,s=(r=P(r,e)).length;i<s;i++){var u=r[i];if(o||!A(e,u))return r.slice(i);i<s-1&&(n=t[u],"$eq"!==a.getKey(n))&&(o=!0)}return[]}(t,r,n),(o=r,i=[],Object.keys(o).forEach(function(e){var t=o[e];Object.keys(t).forEach(function(t){"$ne"===t&&i.push(e)})}),i))),t)}function D(e,t,r){if(t){var n=(a=e,!((i=t).length>a.length)&&g(i,a)),o=g(r,e);return n&&o}var i,a;return function(e,t){e=e.slice();for(var r=0,n=t.length;r<n;r++){var o=t[r];if(!e.length)break;var i=e.indexOf(o);if(-1===i)return!1;e.splice(i,1)}return!0}(r,e)}var M=["$eq","$gt","$gte","$lt","$lte"];function I(e){return-1===M.indexOf(e)}function T(e,t,r,n){var o,i=e.def.fields.map(a.getKey);return!!D(i,t,r)&&(void 0===(o=n[i[0]])||!!Object.keys(o).some(function(e){return!I(e)})&&!(1===Object.keys(o).length&&"$ne"===a.getKey(o)))}function L(e,t,r,n,o){var i,s,u,c=(i=e,s=t,u=r,n.reduce(function(e,t){return T(t,u,s,i)&&e.push(t),e},[]));if(0===c.length){if(o)throw{error:"no_usable_index",message:"There is no index available for this selector."};var l=n[0];return l.defaultUsed=!0,l}if(1===c.length&&!o)return c[0];var f=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e[r]]=!0;return t}(t);if(o){var d="_design/"+o[0],h=2===o.length&&o[1],p=c.find(function(e){return!(!h||e.ddoc!==d||h!==e.name)||e.ddoc===d});if(!p)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return p}return function(e,t){for(var r=null,n=-1,o=0,i=e.length;o<i;o++){var a=e[o],s=t(a);s>n&&(n=s,r=a)}return r}(c,function(e){for(var t=e.def.fields.map(a.getKey),r=0,n=0,o=t.length;n<o;n++){var i=t[n];f[i]&&r++}return r})}function F(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function q(e,t){return t.defaultUsed?(r=e,{queryOpts:{startkey:null},inMemoryFields:[Object.keys(r)]}):1===t.def.fields.length?(n=e,o=t,s=a.getKey(o.def.fields[0]),u=n[s]||{},c=[],Object.keys(u).forEach(function(e){if(I(e))c.push(s);else{var t=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}(e,u[e]);i=i?m([i,t]):t}}),{queryOpts:i,inMemoryFields:c}):function(e,t){var r,n,o=t.def.fields.map(a.getKey),i=[],s=[],u=[];function c(e){!1!==r&&s.push(E),!1!==n&&u.push(C),i=o.slice(e)}for(var l=0,f=o.length;l<f;l++){var d=e[o[l]];if(!d||!Object.keys(d).length){c(l);break}if(l>0){if(Object.keys(d).some(I)){c(l);break}var h="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,p=Object.keys(e[o[l-1]]),b=w(p,["$eq"]),v=w(p,Object.keys(d));if(h&&!b&&!v){c(l);break}}for(var y=Object.keys(d),_=null,g=0;g<y.length;g++){var x=y[g],k=F(x,d[x]);_=_?m([_,k]):k}s.push("startkey"in _?_.startkey:E),u.push("endkey"in _?_.endkey:C),"inclusive_start"in _&&(r=_.inclusive_start),"inclusive_end"in _&&(n=_.inclusive_end)}var j={startkey:s,endkey:u};return void 0!==r&&(j.inclusive_start=r),void 0!==n&&(j.inclusive_end=n),{queryOpts:j,inMemoryFields:i}}(e,t);var r,n,o,i,s,u,c}function B(e,t){var r,n,o,i,s,u=e.selector,c=e.sort,l=(r=u,n=c,i=Object.keys(r),s=n?n.map(a.getKey):[],o=i.length>=s.length?i:s,0===s.length?{fields:o}:{fields:o=o.sort(function(e,t){var r=s.indexOf(e);-1===r&&(r=Number.MAX_VALUE);var n=s.indexOf(t);return-1===n&&(n=Number.MAX_VALUE),r<n?-1:r>n?1:0}),sortOrder:n.map(a.getKey)}),f=l.fields,d=L(u,f,l.sortOrder,t,e.use_index),h=q(u,d);return{queryOpts:h.queryOpts,index:d,inMemoryFields:R(h.inMemoryFields,d,u,f)}}function N(e,t,r){var n,s;return t.selector&&(t.selector=a.massageSelector(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}(t.sort)),t.use_index&&(t.use_index=(n=t.use_index,s=[],"string"==typeof n?s.push(n):s=n,s.map(function(e){return e.replace("_design/","")}))),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),S(e).then(function(n){e.constructor.emit("debug",["find","planning query",t]);var s=B(t,n.indexes);e.constructor.emit("debug",["find","query plan",s]);var c=s.index;!function(e,t){if(t.defaultUsed&&e.sort){var r=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(r.length>0)throw new Error('Cannot sort on field(s) "'+r.join(",")+'" when using the default index')}t.defaultUsed}(t,c);var l,f,d=o.assign({include_docs:!0,reduce:!1},s.queryOpts);return"startkey"in d&&"endkey"in d&&u.collate(d.startkey,d.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===a.getValue(t.sort[0])&&(d.descending=!0,l=d,delete(f=o.clone(l)).startkey,delete f.endkey,delete f.inclusive_start,delete f.inclusive_end,"endkey"in l&&(f.startkey=l.endkey),"startkey"in l&&(f.endkey=l.startkey),"inclusive_start"in l&&(f.inclusive_end=l.inclusive_start),"inclusive_end"in l&&(f.inclusive_start=l.inclusive_end),d=f),s.inMemoryFields.length||("limit"in t&&(d.limit=t.limit),"skip"in t&&(d.skip=t.skip)),r?i.resolve(s,d):i.resolve().then(function(){if("_all_docs"===c.name)return r=e,n=d,(i=o.clone(n)).descending?("endkey"in i&&"string"!=typeof i.endkey&&(i.endkey=""),"startkey"in i&&"string"!=typeof i.startkey&&(i.limit=0)):("startkey"in i&&"string"!=typeof i.startkey&&(i.startkey=""),"endkey"in i&&"string"!=typeof i.endkey&&(i.limit=0)),"key"in i&&"string"!=typeof i.key&&(i.limit=0),r.allDocs(i).then(function(e){return e.rows=e.rows.filter(function(e){return!/^_design\//.test(e.id)}),e});var t,r,n,i,a=(t=c).ddoc.substring(8)+"/"+t.name;return k.query.call(e,a,d)}).then(function(e){!1===d.inclusive_start&&(e.rows=function(e,t,r){for(var n=r.def.fields,o=0,i=e.length;o<i;o++){var a=O(e[o].doc,r);if(1===n.length)a=a[0];else for(;a.length>t.length;)a.pop();if(Math.abs(u.collate(a,t))>0)break}return o>0?e.slice(o):e}(e.rows,d.startkey,c)),s.inMemoryFields.length&&(e.rows=a.filterInMemoryFields(e.rows,t,s.inMemoryFields));var r={docs:e.rows.map(function(e){var r=e.doc;return t.fields?function(e,t){for(var r={},n=0,o=t.length;n<o;n++){var i=a.parseField(t[n]),s=a.getFieldFromDoc(e,i);void 0!==s&&a.setFieldInDoc(r,i,s)}return r}(r,t.fields):r})};return c.defaultUsed&&(r.warning="no matching index found, create an index to optimize query time"),r}))})}var $=y(function(e,t){t=l(t);var r,n=o.clone(t.index);function i(){return r||(r=c.stringMd5(JSON.stringify(t)))}t.index=j(t.index),function(e){var t=e.fields.filter(function(e){return"asc"===a.getValue(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var s=t.name||"idx-"+i(),u=t.ddoc||"idx-"+i(),f="_design/"+u,d=!1,h=!1;return e.constructor.emit("debug",["find","creating index",f]),o.upsert(e,f,function(e){return e._rev&&"query"!==e.language&&(d=!0),e.language="query",e.views=e.views||{},!(h=!!e.views[s])&&(e.views[s]={map:{fields:m(t.index.fields)},reduce:"_count",options:{def:n}},e)}).then(function(){if(d)throw new Error('invalid language for ddoc with id "'+f+'" (should be "query")')}).then(function(){var t=u+"/"+s;return k.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:f,name:s,result:h?"exists":"created"}})})}),U=y(N),z=y(function(e,t){return N(e,t,!0).then(function(r){return{dbname:e.name,index:r.index,selector:t.selector,range:{start_key:r.queryOpts.startkey,end_key:r.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}),V=y(S),G=y(function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,n=t.name;return o.upsert(e,r,function(e){return 1===Object.keys(e.views).length&&e.views[n]?{_id:r,_deleted:!0}:(delete e.views[n],e)}).then(function(){return k.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),J={};J.createIndex=o.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(o.isRemote(this)?f:$)(this,e,t)}),J.find=o.toPromise(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(o.isRemote(this)?d:U)(this,e,t)}),J.explain=o.toPromise(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(o.isRemote(this)?h:z)(this,e,t)}),J.getIndexes=o.toPromise(function(e){(o.isRemote(this)?p:V)(this,e)}),J.deleteIndex=o.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(o.isRemote(this)?b:G)(this,e,t)}),t.exports=J}).call(this,e("_process"))},{_process:536,"pouchdb-abstract-mapreduce":504,"pouchdb-collate":512,"pouchdb-md5":524,"pouchdb-promise":526,"pouchdb-selector-core":528,"pouchdb-utils":529}],521:[function(e,t,r){"use strict";var n,o=(n=e("pouchdb-promise"))&&"object"==typeof n&&"default"in n?n.default:n,i=e("pouchdb-md5"),a=e("pouchdb-collate");t.exports=function(e,t,r){var n,s=r.doc_ids?r.doc_ids.sort(a.collate):"",u=r.filter?r.filter.toString():"",c="",l="",f="";return r.selector&&(f=JSON.stringify(r.selector)),r.filter&&r.query_params&&(c=JSON.stringify((n=r.query_params,Object.keys(n).sort(a.collate).reduce(function(e,t){return e[t]=n[t],e},{})))),r.filter&&"_view"===r.filter&&(l=r.view.toString()),o.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+u+l+c+s+f;return new o(function(e){i.binaryMd5(t,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}},{"pouchdb-collate":512,"pouchdb-md5":524,"pouchdb-promise":526}],522:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o=(n=e("vuvuzela"))&&"object"==typeof n&&"default"in n?n.default:n;r.safeJsonParse=function(e){try{return JSON.parse(e)}catch(t){return o.parse(e)}},r.safeJsonStringify=function(e){try{return JSON.stringify(e)}catch(t){return o.stringify(e)}}},{vuvuzela:596}],523:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(r,"__esModule",{value:!0});var o=n(e("inherits")),i=e("pouchdb-collections"),a=n(e("argsarray")),s=e("pouchdb-utils");function u(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,u)}catch(e){}}function c(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,c)}catch(e){}}function l(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,l)}catch(e){}}function f(e,t){return t&&e.then(function(e){s.nextTick(function(){t(null,e)})},function(e){s.nextTick(function(){t(e)})}),e}o(u,Error),o(c,Error),o(l,Error),r.uniq=function(e){var t=new i.Set(e),r=new Array(t.size),n=-1;return t.forEach(function(e){r[++n]=e}),r},r.sequentialize=function(e,t){return function(){var r=arguments,n=this;return e.add(function(){return t.apply(n,r)})}},r.fin=function(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})},r.callbackify=function(e){return a(function(t){var r=t.pop(),n=e.apply(this,t);return"function"==typeof r&&f(n,r),n})},r.promisedCallback=f,r.mapToKeysArray=function(e){var t=new Array(e.size),r=-1;return e.forEach(function(e,n){t[++r]=n}),t},r.QueryParseError=u,r.NotFoundError=c,r.BuiltInError=l},{argsarray:39,inherits:495,"pouchdb-collections":513,"pouchdb-utils":529}],524:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o=e("pouchdb-binary-utils"),i=(n=e("spark-md5"))&&"object"==typeof n&&"default"in n?n.default:n,a=t.setImmediate||t.setTimeout,s=32768;function u(e,t,r,n,i){var a,s,u;(r>0||n<t.size)&&(s=r,u=n,t=(a=t).webkitSlice?a.webkitSlice(s,u):a.slice(s,u)),o.readAsArrayBuffer(t,function(t){e.append(t),i()})}function c(e,t,r,n,o){(r>0||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),o()}r.binaryMd5=function(e,t){var r="string"==typeof e,n=r?e.length:e.size,l=Math.min(s,n),f=Math.ceil(n/l),d=0,h=r?new i:new i.ArrayBuffer,p=r?c:u;function b(){a(y)}function v(){var e,r=h.end(!0),n=(e=r,o.btoa(e));t(n),h.destroy()}function y(){var t=d*l,r=t+l;p(h,e,t,r,++d<f?b:v)}y()},r.stringMd5=function(e){return i.hash(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"pouchdb-binary-utils":509,"spark-md5":589}],525:[function(e,t,r){"use strict";function n(e){for(var t,r,n,o,i=e.rev_tree.slice();o=i.pop();){var a=o.ids,s=a[2],u=o.pos;if(s.length)for(var c=0,l=s.length;c<l;c++)i.push({pos:u+1,ids:s[c]});else{var f=!!a[1].deleted,d=a[0];t&&!(n!==f?n:r!==u?r<u:t<d)||(t=d,r=u,n=f)}}return r+"-"+t}function o(e,t){for(var r,n=e.slice();r=n.pop();)for(var o=r.pos,i=r.ids,a=i[2],s=t(0===a.length,o,i[0],r.ctx,i[1]),u=0,c=a.length;u<c;u++)n.push({pos:o+1,ids:a[u],ctx:s})}function i(e,t){return e.pos-t.pos}function a(e){var t=[];o(e,function(e,r,n,o,i){e&&t.push({rev:r+"-"+n,pos:r,opts:i})}),t.sort(i).reverse();for(var r=0,n=t.length;r<n;r++)delete t[r].pos;return t}function s(e){for(var t,r=[],n=e.slice();t=n.pop();){var o=t.pos,i=t.ids,a=i[0],s=i[1],u=i[2],c=0===u.length,l=t.history?t.history.slice():[];l.push({id:a,opts:s}),c&&r.push({pos:o+1-l.length,ids:l});for(var f=0,d=u.length;f<d;f++)n.push({pos:o+1,ids:u[f],history:l})}return r.reverse()}function u(e,t){return e.pos-t.pos}function c(e,t){for(var r,n,o=t,i=e.length;o<i;o++){var a=e[o],s=[a.id,a.opts,[]];n?(n[2].push(s),n=s):r=n=s}return r}function l(e,t){return e[0]<t[0]?-1:1}function f(e,t){for(var r,n,o,i=[{tree1:e,tree2:t}],a=!1;i.length>0;){var s=i.pop(),u=s.tree1,c=s.tree2;(u[1].status||c[1].status)&&(u[1].status="available"===u[1].status||"available"===c[1].status?"available":"missing");for(var f=0;f<c[2].length;f++)if(u[2][0]){for(var d=!1,h=0;h<u[2].length;h++)u[2][h][0]===c[2][f][0]&&(i.push({tree1:u[2][h],tree2:c[2][f]}),d=!0);d||(a="new_branch",r=u[2],n=c[2][f],void 0,o=function(e,t,r){for(var n,o=0,i=e.length;o<i;)r(e[n=o+i>>>1],t)<0?o=n+1:i=n;return o}(r,n,l),r.splice(o,0,n))}else a="new_leaf",u[2][0]=c[2][f]}return{conflicts:a,tree:e}}function d(e,t,r){var n,o=[],i=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var s=0,c=e.length;s<c;s++){var l=e[s];if(l.pos===t.pos&&l.ids[0]===t.ids[0])n=f(l.ids,t.ids),o.push({pos:l.pos,ids:n.tree}),i=i||n.conflicts,a=!0;else if(!0!==r){var d=l.pos<t.pos?l:t,h=l.pos<t.pos?t:l,p=h.pos-d.pos,b=[],v=[];for(v.push({ids:d.ids,diff:p,parent:null,parentIdx:null});v.length>0;){var y=v.pop();if(0!==y.diff)for(var _=y.ids[2],m=0,g=_.length;m<g;m++)v.push({ids:_[m],diff:y.diff-1,parent:y.ids,parentIdx:m});else y.ids[0]===h.ids[0]&&b.push(y)}var w=b[0];w?(n=f(w.ids,h.ids),w.parent[2][w.parentIdx]=n.tree,o.push({pos:d.pos,ids:d.ids}),i=i||n.conflicts,a=!0):o.push(l)}else o.push(l)}return a||o.push(t),o.sort(u),{tree:o,conflicts:i||"internal_node"}}function h(e){return e.ids}Object.defineProperty(r,"__esModule",{value:!0}),r.collectConflicts=function(e){for(var t=n(e),r=a(e.rev_tree),o=[],i=0,s=r.length;i<s;i++){var u=r[i];u.rev===t||u.opts.deleted||o.push(u.rev)}return o},r.collectLeaves=a,r.compactTree=function(e){var t=[];return o(e.rev_tree,function(e,r,n,o,i){"available"!==i.status||e||(t.push(r+"-"+n),i.status="missing")}),t},r.isDeleted=function(e,t){t||(t=n(e));for(var r,o=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(h);r=i.pop();){if(r[0]===o)return!!r[1].deleted;i=i.concat(r[2])}},r.isLocalId=function(e){return/^_local/.test(e)},r.merge=function(e,t,r){var n=d(e,t),i=function(e,t){for(var r,n,i=s(e),a=0,u=i.length;a<u;a++){var l,f=i[a],h=f.ids;if(h.length>t){r||(r={});var p=h.length-t;l={pos:f.pos+p,ids:c(h,p)};for(var b=0;b<p;b++){var v=f.pos+b+"-"+h[b].id;r[v]=!0}}else l={pos:f.pos,ids:c(h,0)};n=n?d(n,l,!0).tree:[l]}return r&&o(n,function(e,t,n){delete r[t+"-"+n]}),{tree:n,revs:r?Object.keys(r):[]}}(n.tree,r);return{tree:i.tree,stemmedRevs:i.revs,conflicts:n.conflicts}},r.revExists=function(e,t){for(var r,n=e.slice(),o=t.split("-"),i=parseInt(o[0],10),a=o[1];r=n.pop();){if(r.pos===i&&r.ids[0]===a)return!0;for(var s=r.ids[2],u=0,c=s.length;u<c;u++)n.push({pos:r.pos+1,ids:s[u]})}return!1},r.rootToLeaf=s,r.traverseRevTree=o,r.winningRev=n,r.latest=function(e,t){for(var r,n=t.rev_tree.slice();r=n.pop();){var o=r.pos,i=r.ids,a=i[0],s=i[1],u=i[2],c=0===u.length,l=r.history?r.history.slice():[];if(l.push({id:a,pos:o,opts:s}),c)for(var f=0,d=l.length;f<d;f++){var h=l[f];if(h.pos+"-"+h.id===e)return o+"-"+a}for(var p=0,b=u.length;p<b;p++)n.push({pos:o+1,ids:u[p],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}},{}],526:[function(e,t,r){"use strict";var n,o=(n=e("lie"))&&"object"==typeof n&&"default"in n?n.default:n,i="function"==typeof Promise?Promise:o;t.exports=i},{lie:500}],527:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n(e("pouchdb-promise")),i=e("pouchdb-utils"),a=n(e("pouchdb-checkpointer")),s=n(e("pouchdb-generate-replication-id")),u=e("pouchdb-errors"),c=e("events"),l=n(e("inherits"));function f(e){return/^1-/.test(e)}function d(e,t){var r=Object.keys(t._attachments);return o.all(r.map(function(r){return e.getAttachment(t._id,r,{rev:t._rev})}))}function h(e,t,r,n){r=i.clone(r);var a=[],s=!0;function u(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(n.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){var t,n;e.deleted||!e.doc||!f(e.value.rev)||(n=e.doc,n._attachments&&Object.keys(n._attachments).length>0)||(t=e.doc,t._conflicts&&t._conflicts.length>0)||(e.doc._conflicts&&delete e.doc._conflicts,a.push(e.doc),delete r[e.id])})})}return o.resolve().then(function(){var e=Object.keys(r).filter(function(e){var t=r[e].missing;return 1===t.length&&f(t[0])});if(e.length>0)return u(e)}).then(function(){var u,c,l=(u=r,c=[],Object.keys(u).forEach(function(e){u[e].missing.forEach(function(t){c.push({id:e,rev:t})})}),{docs:c,revs:!0,latest:!0});if(l.docs.length)return e.bulkGet(l).then(function(r){if(n.cancelled)throw new Error("cancelled");return o.all(r.results.map(function(r){return o.all(r.docs.map(function(r){var n,a,u,c,l,f=r.ok;return r.error&&(s=!1),f&&f._attachments?(n=t,a=e,u=f,c=i.isRemote(a)&&!i.isRemote(n),l=Object.keys(u._attachments),c?n.get(u._id).then(function(e){return o.all(l.map(function(t){return o=u,i=t,(r=e)._attachments&&r._attachments[i]&&r._attachments[i].digest===o._attachments[i].digest?n.getAttachment(e._id,t):a.getAttachment(u._id,t);var r,o,i}))}).catch(function(e){if(404!==e.status)throw e;return d(a,u)}):d(a,u)).then(function(e){var t=Object.keys(f._attachments);return e.forEach(function(e,r){var n=f._attachments[t[r]];delete n.stub,delete n.length,n.data=e}),f}):f}))})).then(function(e){a=a.concat(i.flatten(e).filter(Boolean))})})}).then(function(){return{ok:s,docs:a}})}var p=0;function b(e,t,r,n,c){var l,f,d,v=[],y={seq:0,changes:[],docs:[]},_=!1,m=!1,g=!1,w=0,x=r.continuous||r.live||!1,k=r.batch_size||100,j=r.batches_limit||10,O=!1,S=r.doc_ids,E=r.selector,C=[],A=i.uuid(),P=r.seq_interval;c=c||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var R={};function D(){return d?o.resolve():s(e,t,r).then(function(o){f=o;var i={};i=!1===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===r.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},d=new a(e,t,f,n,i)})}function M(){if(C=[],0!==l.docs.length){var e=l.docs,o={timeout:r.timeout};return t.bulkDocs({docs:e,new_edits:!1},o).then(function(t){if(n.cancelled)throw B(),new Error("cancelled");var r=Object.create(null);t.forEach(function(e){e.error&&(r[e.id]=e)});var o=Object.keys(r).length;c.doc_write_failures+=o,c.docs_written+=e.length-o,e.forEach(function(e){var t=r[e._id];if(t){c.errors.push(t);var o=(t.name||"").toLowerCase();if("unauthorized"!==o&&"forbidden"!==o)throw t;n.emit("denied",i.clone(t))}else C.push(e)})},function(t){throw c.doc_write_failures+=e.length,t})}}function I(){if(l.error)throw new Error("There was a problem getting docs.");c.last_seq=w=l.seq;var e=i.clone(c);return C.length&&(e.docs=C,"number"==typeof l.pending&&(e.pending=l.pending,delete l.pending),n.emit("change",e)),_=!0,d.writeCheckpoint(l.seq,A).then(function(){if(_=!1,n.cancelled)throw B(),new Error("cancelled");l=void 0,z()}).catch(function(e){throw G(e),e})}function T(){return h(e,t,l.diffs,n).then(function(e){l.error=!e.ok,e.docs.forEach(function(e){delete l.diffs[e._id],c.docs_read++,l.docs.push(e)})})}function L(){var e;n.cancelled||l||(0!==v.length?(l=v.shift(),(e={},l.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(n.cancelled)throw B(),new Error("cancelled");l.diffs=e})).then(T).then(M).then(I).then(L).catch(function(e){q("batch processing terminated with error",e)})):F(!0))}function F(e){0!==y.changes.length?(e||m||y.changes.length>=k)&&(v.push(y),y={seq:0,changes:[],docs:[]},"pending"!==n.state&&"stopped"!==n.state||(n.state="active",n.emit("active")),L()):0!==v.length||l||((x&&R.live||m)&&(n.state="pending",n.emit("paused")),m&&B())}function q(e,t){g||(t.message||(t.message=e),c.ok=!1,c.status="aborting",v=[],y={seq:0,changes:[],docs:[]},B(t))}function B(o){if(!(g||n.cancelled&&(c.status="cancelled",_)))if(c.status=c.status||"complete",c.end_time=new Date,c.last_seq=w,g=!0,o){(o=u.createError(o)).result=c;var a=(o.name||"").toLowerCase();"unauthorized"===a||"forbidden"===a?(n.emit("error",o),n.removeAllListeners()):function(e,t,r,n){if(!1===e.retry)return t.emit("error",r),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=i.defaultBackOff),t.emit("requestError",r),"active"===t.state||"pending"===t.state){t.emit("paused",r),t.state="stopped";var o=function(){e.current_back_off=p};t.once("paused",function(){t.removeListener("active",o)}),t.once("active",o)}e.current_back_off=e.current_back_off||p,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(n,e.current_back_off)}(r,n,o,function(){b(e,t,r,n)})}else n.emit("complete",c),n.removeAllListeners()}function N(e,t,o){if(n.cancelled)return B();"number"==typeof t&&(y.pending=t),i.filterChange(r)(e)&&(y.seq=e.seq||o,y.changes.push(e),F(0===v.length&&R.live))}function $(e){if(O=!1,n.cancelled)return B();if(e.results.length>0)R.since=e.last_seq,z(),F(!0);else{var t=function(){x?(R.live=!0,z()):m=!0,F(!0)};l||0!==e.results.length?t():(_=!0,d.writeCheckpoint(e.last_seq,A).then(function(){_=!1,c.last_seq=w=e.last_seq,t()}).catch(G))}}function U(e){if(O=!1,n.cancelled)return B();q("changes rejected",e)}function z(){if(!O&&!m&&v.length<j){O=!0,n._changes&&(n.removeListener("cancel",n._abortChanges),n._changes.cancel()),n.once("cancel",o);var t=e.changes(R).on("change",N);t.then(i,i),t.then($).catch(U),r.retry&&(n._changes=t,n._abortChanges=o)}function o(){t.cancel()}function i(){n.removeListener("cancel",o)}}function V(){D().then(function(){if(!n.cancelled)return d.getCheckpoint().then(function(e){R={since:w=e,limit:k,batch_size:k,style:"all_docs",doc_ids:S,selector:E,return_docs:!0},!1!==P&&(R.seq_interval=P||k),r.filter&&("string"!=typeof r.filter?R.include_docs=!0:R.filter=r.filter),"heartbeat"in r&&(R.heartbeat=r.heartbeat),"timeout"in r&&(R.timeout=r.timeout),r.query_params&&(R.query_params=r.query_params),r.view&&(R.view=r.view),z()});B()}).catch(function(e){q("getCheckpoint rejected with ",e)})}function G(e){_=!1,q("writeCheckpoint completed with error",e)}n.ready(e,t),n.cancelled?B():(n._addedListeners||(n.once("cancel",B),"function"==typeof r.complete&&(n.once("error",r.complete),n.once("complete",function(e){r.complete(null,e)})),n._addedListeners=!0),void 0===r.since?V():D().then(function(){return _=!0,d.writeCheckpoint(r.since,A)}).then(function(){_=!1,n.cancelled?B():(w=r.since,V())}).catch(G))}function v(){c.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new o(function(t,r){e.once("complete",t),e.once("error",r)});e.then=function(e,r){return t.then(e,r)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function y(e,t){var r=t.PouchConstructor;return"string"==typeof e?new r(e,t):e}function _(e,t,r,n){if("function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw u.createError(u.BAD_REQUEST,"`doc_ids` filter parameter is not a list.");r.complete=n,(r=i.clone(r)).continuous=r.continuous||r.live,r.retry="retry"in r&&r.retry,r.PouchConstructor=r.PouchConstructor||this;var o=new v(r);return b(y(e,r),y(t,r),r,o),o}function m(e,t,r,n){return"function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),(r=i.clone(r)).PouchConstructor=r.PouchConstructor||this,new g(e=y(e,r),t=y(t,r),r,n)}function g(e,t,r,n){var a=this;this.canceled=!1;var s=r.push?i.assign({},r,r.push):r,u=r.pull?i.assign({},r,r.pull):r;function c(e){a.emit("change",{direction:"pull",change:e})}function l(e){a.emit("change",{direction:"push",change:e})}function f(e){a.emit("denied",{direction:"push",doc:e})}function d(e){a.emit("denied",{direction:"pull",doc:e})}function h(){a.pushPaused=!0,a.pullPaused&&a.emit("paused")}function p(){a.pullPaused=!0,a.pushPaused&&a.emit("paused")}function b(){a.pushPaused=!1,a.pullPaused&&a.emit("active",{direction:"push"})}function v(){a.pullPaused=!1,a.pushPaused&&a.emit("active",{direction:"pull"})}this.push=_(e,t,s),this.pull=_(t,e,u),this.pushPaused=!0,this.pullPaused=!0;var y={};function m(e){return function(t,r){("change"===t&&(r===c||r===l)||"denied"===t&&(r===d||r===f)||"paused"===t&&(r===p||r===h)||"active"===t&&(r===v||r===b))&&(t in y||(y[t]={}),y[t][e]=!0,2===Object.keys(y[t]).length&&a.removeAllListeners(t))}}function g(e,t,r){-1==e.listeners(t).indexOf(r)&&e.on(t,r)}r.live&&(this.push.on("complete",a.pull.cancel.bind(a.pull)),this.pull.on("complete",a.push.cancel.bind(a.push))),this.on("newListener",function(e){"change"===e?(g(a.pull,"change",c),g(a.push,"change",l)):"denied"===e?(g(a.pull,"denied",d),g(a.push,"denied",f)):"active"===e?(g(a.pull,"active",v),g(a.push,"active",b)):"paused"===e&&(g(a.pull,"paused",p),g(a.push,"paused",h))}),this.on("removeListener",function(e){"change"===e?(a.pull.removeListener("change",c),a.push.removeListener("change",l)):"denied"===e?(a.pull.removeListener("denied",d),a.push.removeListener("denied",f)):"active"===e?(a.pull.removeListener("active",v),a.push.removeListener("active",b)):"paused"===e&&(a.pull.removeListener("paused",p),a.push.removeListener("paused",h))}),this.pull.on("removeListener",m("pull")),this.push.on("removeListener",m("push"));var w=o.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return a.emit("complete",t),n&&n(null,t),a.removeAllListeners(),t},function(e){if(a.cancel(),n?n(e):a.emit("error",e),a.removeAllListeners(),n)throw e});this.then=function(e,t){return w.then(e,t)},this.catch=function(e){return w.catch(e)}}l(v,c.EventEmitter),v.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},v.prototype.ready=function(e,t){var r=this;function n(){r.cancel()}r._readyCalled||(r._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),r.once("complete",function(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}))},l(g,c.EventEmitter),g.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},t.exports=function(e){e.replicate=_,e.sync=m,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,r,n){return e.constructor.replicate(t,e,r,n)},to:function(t,r,n){return e.constructor.replicate(e,t,r,n)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,r){return this.constructor.sync(this,e,t,r)}}},{events:491,inherits:495,"pouchdb-checkpointer":511,"pouchdb-errors":519,"pouchdb-generate-replication-id":521,"pouchdb-promise":526,"pouchdb-utils":529}],528:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("pouchdb-utils"),o=e("pouchdb-collate");function i(e,t){for(var r=e,n=0,o=t.length;n<o;n++){if(!(r=r[t[n]]))break}return r}function a(e,t){return e<t?-1:e>t?1:0}function s(e){for(var t=[],r="",n=0,o=e.length;n<o;n++){var i=e[n];"."===i?n>0&&"\\"===e[n-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=i}return t.push(r),t}var u=["$or","$nor","$not"];function c(e){return u.indexOf(e)>-1}function l(e){return Object.keys(e)[0]}function f(e){return e[l(e)]}function d(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(r){var n=e[r];if("object"!=typeof n&&(n={$eq:n}),c(r))n instanceof Array?t[r]=n.map(function(e){return d([e])}):t[r]=d([n]);else{var o=t[r]=t[r]||{};Object.keys(n).forEach(function(e){var t,r,i,a,s=n[e];return"$gt"===e||"$gte"===e?function(e,t,r){if(void 0!==r.$eq)return;void 0!==r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):void 0!==r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t}(e,s,o):"$lt"===e||"$lte"===e?function(e,t,r){if(void 0!==r.$eq)return;void 0!==r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):void 0!==r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t}(e,s,o):"$ne"===e?(i=s,void("$ne"in(a=o)?a.$ne.push(i):a.$ne=[i])):"$eq"===e?(t=s,delete(r=o).$gt,delete r.$gte,delete r.$lt,delete r.$lte,delete r.$ne,void(r.$eq=t)):void(o[e]=s)})}})}),t}function h(e){var t=n.clone(e),r=!1;"$and"in t&&(t=d(t.$and),r=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r],o=e[n];"object"==typeof o&&null!==o||(e[n]={$eq:o})}})}),"$not"in t&&(t.$not=d([t.$not]));for(var o=Object.keys(t),i=0;i<o.length;i++){var a=o[i],s=t[a];"object"!=typeof s||null===s?s={$eq:s}:"$ne"in s&&!r&&(s.$ne=[s.$ne]),t[a]=s}return t}function p(e){function t(t){return e.map(function(e){var r=s(l(e));return i(t,r)})}return function(e,r){var n=t(e.doc),i=t(r.doc),s=o.collate(n,i);return 0!==s?s:a(e.doc._id,r.doc._id)}}function b(e,t,r){if(e=e.filter(function(e){return v(e.doc,t.selector,r)}),t.sort){var n=p(t.sort);e=e.sort(n),"string"!=typeof t.sort[0]&&"desc"===f(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,i=("limit"in t?t.limit:e.length)+o;e=e.slice(o,i)}return e}function v(e,t,r){return r.every(function(r){var n=t[r],o=s(r),a=i(e,o);return c(r)?function(e,t,r){if("$or"===e)return t.some(function(e){return v(r,e,Object.keys(e))});if("$not"===e)return!v(r,t,Object.keys(t));return!t.find(function(e){return v(r,e,Object.keys(e))})}(r,n,e):y(n,e,o,a)})}function y(e,t,r,n){return!e||Object.keys(e).every(function(o){var i=e[o];return function(e,t,r,n,o){if(!w[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return w[e](t,r,n,o)}(o,t,i,r,n)})}function _(e){return void 0!==e&&null!==e}function m(e){return void 0!==e}function g(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}var w={$elemMatch:function(e,t,r,n){return!!Array.isArray(n)&&(0!==n.length&&("object"==typeof n[0]?n.some(function(e){return v(e,t,Object.keys(t))}):n.some(function(n){return y(t,e,r,n)})))},$allMatch:function(e,t,r,n){return!!Array.isArray(n)&&(0!==n.length&&("object"==typeof n[0]?n.every(function(e){return v(e,t,Object.keys(t))}):n.every(function(n){return y(t,e,r,n)})))},$eq:function(e,t,r,n){return m(n)&&0===o.collate(n,t)},$gte:function(e,t,r,n){return m(n)&&o.collate(n,t)>=0},$gt:function(e,t,r,n){return m(n)&&o.collate(n,t)>0},$lte:function(e,t,r,n){return m(n)&&o.collate(n,t)<=0},$lt:function(e,t,r,n){return m(n)&&o.collate(n,t)<0},$exists:function(e,t,r,n){return t?m(n):!m(n)},$mod:function(e,t,r,n){return _(n)&&function(e,t){var r=t[0],n=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===n}(n,t)},$ne:function(e,t,r,n){return t.every(function(e){return 0!==o.collate(n,e)})},$in:function(e,t,r,n){return _(n)&&g(n,t)},$nin:function(e,t,r,n){return _(n)&&!g(n,t)},$size:function(e,t,r,n){return _(n)&&(o=t,n.length===o);var o},$all:function(e,t,r,n){return Array.isArray(n)&&(o=n,t.every(function(e){return o.indexOf(e)>-1}));var o},$regex:function(e,t,r,n){return _(n)&&(o=n,new RegExp(t).test(o));var o},$type:function(e,t,r,n){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(n,t)}};r.massageSelector=h,r.matchesSelector=function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var r=b([{doc:e}],{selector:t=h(t)},Object.keys(t));return r&&1===r.length},r.filterInMemoryFields=b,r.createFieldSorter=p,r.rowFilter=v,r.isCombinationalField=c,r.getKey=l,r.getValue=f,r.getFieldFromDoc=i,r.setFieldInDoc=function(e,t,r){for(var n=0,o=t.length;n<o-1;n++)e=e[t[n]]={};e[t[o-1]]=r},r.compare=a,r.parseField=s},{"pouchdb-collate":512,"pouchdb-utils":529}],529:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(r,"__esModule",{value:!0});var o=n(e("argsarray")),i=n(e("pouchdb-promise")),a=e("pouchdb-collections"),s=n(e("immediate")),u=e("events"),c=n(e("inherits")),l=e("pouchdb-errors"),f=n(e("uuid"));function d(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}var h=Function.prototype.toString,p=h.call(Object);function b(e){var t,r,n,o;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=b(e[r]);return t}if(e instanceof Date)return e.toISOString();if(o=e,"undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer||"undefined"!=typeof Blob&&o instanceof Blob)return d(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&h.call(r)==p}(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=b(e[r]);void 0!==i&&(t[r]=i)}return t}function v(e){var t=!1;return o(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}function y(e){return o(function(t){var r=this,n="function"==typeof(t=b(t))[t.length-1]&&t.pop(),o=new i(function(n,o){var i;try{var a=v(function(e,t){e?o(e):n(t)});t.push(a),(i=e.apply(r,t))&&"function"==typeof i.then&&n(i)}catch(e){o(e)}});return n&&o.then(function(e){n(null,e)},n),o})}function _(e,t){for(var r={},n=0,o=t.length;n<o;n++){var i=t[n];i in e&&(r[i]=e[i])}return r}var m,g=6;function w(e){return e}function x(e){return[{ok:e}]}function k(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}if(k())m=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),m=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){m=!1}function j(){return m}function O(){var e;u.EventEmitter.call(this),this._listeners={},e=this,k()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):j()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function S(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}c(O,u.EventEmitter),O.prototype.addListener=function(e,t,r,n){if(!this._listeners[t]){var o=this,i=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(o._listeners[t])if(i)i="waiting";else{i=!0;var e=_(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);r.changes(e).on("change",function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,n.onChange(e))}).on("complete",function(){"waiting"===i&&s(a),i=!1}).on("error",function(){i=!1})}}},O.prototype.removeListener=function(e,t){t in this._listeners&&(u.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},O.prototype.notifyLocalWindows=function(e){k()?chrome.storage.local.set({dbName:e}):j()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},O.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var E="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};var C=function(){}.name?function(e){return e.name}:function(e){return e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};function A(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}var P=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],R="queryKey",D=/(?:^|&)([^&=]*)=?([^&]*)/g,M=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function I(e,t,r){return new i(function(n,o){e.get(t,function(i,a){if(i){if(404!==i.status)return o(i);a={}}var s,u,c,l=a._rev,f=r(a);if(!f)return n({updated:!1,rev:l});f._id=t,f._rev=l,n((u=f,c=r,(s=e).put(u).then(function(e){return{updated:!0,rev:e.rev}},function(e){if(409!==e.status)throw e;return I(s,u._id,c)})))})})}var T=f.v4;r.adapterFun=function(e,t){return y(o(function(r){if(this._closed)return i.reject(new Error("database is closed"));if(this._destroyed)return i.reject(new Error("database is destroyed"));var n=this;return function(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],o=0;o<r.length-1;o++)n.push(r[o]);e.constructor.emit("debug",n);var i=r[r.length-1];r[r.length-1]=function(r,n){var o=["api",e.name,t];o=o.concat(r?["error",r]:["success",n]),e.constructor.emit("debug",o),i(r,n)}}}(n,e,r),this.taskqueue.isReady?t.apply(this,r):new i(function(t,o){n.taskqueue.addTask(function(i){i?o(i):t(n[e].apply(n,r))})})}))},r.assign=E,r.bulkGetShim=function(e,t,r){var n=t.docs,o=new a.Map;n.forEach(function(e){o.has(e.id)?o.get(e.id).push(e):o.set(e.id,[e])});var i=o.size,s=0,u=new Array(i);function c(){var e;++s===i&&(e=[],u.forEach(function(t){t.docs.forEach(function(r){e.push({id:t.id,docs:[r]})})}),r(null,{results:e}))}var l=[];o.forEach(function(e,t){l.push(t)});var f=0;function d(){if(!(f>=l.length)){var r,n=Math.min(f+g,l.length),i=l.slice(f,n);r=f,i.forEach(function(n,i){var a=r+i,s=o.get(n),l=_(s[0],["atts_since","attachments"]);l.open_revs=s.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(w);var f=w;0===l.open_revs.length&&(delete l.open_revs,f=x),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r,o,i;r=e?[{error:e}]:f(t),o=n,i=r,u[a]={id:o,docs:i},c(),d()})}),f+=i.length}}d()},r.changesHandler=O,r.clone=b,r.defaultBackOff=function(e){var t,r,n=0;return e||(n=2e3),t=e,r=n,t=parseInt(t,10)||0,(r=parseInt(r,10))!=r||r<=t?r=(t||1)<<1:r+=1,r>6e5&&(t=3e5,r=6e5),~~((r-t)*Math.random()+t)},r.explainError=function(e,t){S("info","The above "+e+" is totally normal. "+t)},r.filterChange=function(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(n){n.doc||(n.doc={});var o=r&&function(e,t,r){try{return!e(t,r)}catch(e){var n="Filter function threw: "+e.toString();return l.createError(l.BAD_REQUEST,n)}}(e.filter,n.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in n.doc._attachments)n.doc._attachments.hasOwnProperty(i)&&(n.doc._attachments[i].stub=!0)}else delete n.doc;return!0}},r.flatten=function(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t},r.functionName=C,r.guardedConsole=S,r.hasLocalStorage=j,r.invalidIdError=function(e){var t;if(e?"string"!=typeof e?t=l.createError(l.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=l.createError(l.RESERVED_ID)):t=l.createError(l.MISSING_ID),t)throw t},r.isChromeApp=k,r.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},r.isRemote=function(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(S("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())},r.listenerCount=function(e,t){return"listenerCount"in e?e.listenerCount(t):u.EventEmitter.listenerCount(e,t)},r.nextTick=s,r.normalizeDdocFunctionName=function(e){var t=A(e);return t?t.join("/"):null},r.once=v,r.parseDdocFunctionName=A,r.parseUri=function(e){for(var t=M.exec(e),r={},n=14;n--;){var o=P[n],i=t[n]||"",a=-1!==["user","password"].indexOf(o);r[o]=a?decodeURIComponent(i):i}return r[R]={},r[P[12]].replace(D,function(e,t,n){t&&(r[R][t]=n)}),r},r.pick=_,r.rev=function(){return f.v4().replace(/-/g,"").toLowerCase()},r.scopeEval=function(e,t){var r=[],n=[];for(var o in t)t.hasOwnProperty(o)&&(r.push(o),n.push(t[o]));return r.push(e),Function.apply(null,r).apply(null,n)},r.toPromise=y,r.upsert=I,r.uuid=T},{argsarray:39,events:491,immediate:530,inherits:495,"pouchdb-collections":513,"pouchdb-errors":519,"pouchdb-promise":526,uuid:531}],530:[function(e,t,r){arguments[4][501][0].apply(r,arguments)},{dup:501}],531:[function(e,t,r){var n=e("./v1"),o=e("./v4"),i=o;i.v1=n,i.v4=o,t.exports=i},{"./v1":534,"./v4":535}],532:[function(e,t,r){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);t.exports=function(e,t){var r=t||0,o=n;return o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]}},{}],533:[function(e,t,r){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);t.exports=function(){return n(o),o}}else{var i=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},{}],534:[function(e,t,r){var n,o,i=e("./lib/rng"),a=e("./lib/bytesToUuid"),s=0,u=0;t.exports=function(e,t,r){var c=t&&r||0,l=t||[],f=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var h=i();null==f&&(f=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=o=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),b=void 0!==e.nsecs?e.nsecs:u+1,v=p-s+(b-u)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||p>s)&&void 0===e.nsecs&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=b,o=d;var y=(1e4*(268435455&(p+=122192928e5))+b)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var _=p/4294967296*1e4&268435455;l[c++]=_>>>8&255,l[c++]=255&_,l[c++]=_>>>24&15|16,l[c++]=_>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var m=0;m<6;++m)l[c+m]=f[m];return t||a(l)}},{"./lib/bytesToUuid":532,"./lib/rng":533}],535:[function(e,t,r){var n=e("./lib/rng"),o=e("./lib/bytesToUuid");t.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},{"./lib/bytesToUuid":532,"./lib/rng":533}],536:[function(e,t,r){var n,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,l=[],f=!1,d=-1;function h(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!f){var e=u(h);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new b(e,t)),1!==l.length||f||u(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],537:[function(e,t,r){!function(e){var r=function(e,t){return isNaN(t)?void 0:t<1?void 0:function(e,t){for(var r,n="",o=e.length;t--;)n+=e[(r=o,Math.floor(Math.random()*r))];return n}(e,t)};function n(e){e="string"==typeof e&&e.length>0?e:"abcdefghijklmnopqrstuvwxzy0123456789";var t=r.bind(r,e);return t.salt=function(){return e},t.create=n,t.gen=n,t}r.gen=n,t.exports=n()}()},{}],538:[function(e,t,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=e("./runtime"),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},{"./runtime":539}],539:[function(e,t,r){!function(e){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=g;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",b={},v={};v[a]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(R([])));_&&_!==n&&o.call(_,a)&&(v=_);var m=j.prototype=x.prototype=Object.create(v);k.prototype=m.constructor=j,j.constructor=k,j[u]=k.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(m),e},l.awrap=function(e){return{__await:e}},O(S.prototype),S.prototype[s]=function(){return this},l.AsyncIterator=S,l.async=function(e,t,r,n){var o=new S(g(e,t,r,n));return l.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},O(m),m[u]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=R,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),b}}}function g(e,t,r,n){var o,i,a,s,u=t&&t.prototype instanceof x?t:x,c=Object.create(u.prototype),l=new P(n||[]);return c._invoke=(o=e,i=r,a=l,s=f,function(e,t){if(s===h)throw new Error("Generator is already running");if(s===p){if("throw"===e)throw t;return D()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){var n=E(r,a);if(n){if(n===b)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=h;var u=w(o,i,a);if("normal"===u.type){if(s=a.done?p:d,u.arg===b)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=p,a.method="throw",a.arg=u.arg)}}),c}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function x(){}function k(){}function j(){}function O(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e){var t;this._invoke=function(r,n){function i(){return new Promise(function(t,i){!function t(r,n,i,a){var s=w(e[r],e,n);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){u.value=e,i(u)},a)}a(s.arg)}(r,n,t,i)})}return t=t?t.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,E(e,t),"throw"===t.method))return b;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var o=w(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,b;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,b):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:D}}function D(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},{}],540:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("./Subject"),i=e("./util/ObjectUnsubscribedError"),a=function(e){function t(t){e.call(this),this._value=t}return n(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.Subject);r.BehaviorSubject=a},{"./Subject":547,"./util/ObjectUnsubscribedError":572}],541:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r,n){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=n,this.index=0}return n(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(e("./Subscriber").Subscriber);r.InnerSubscriber=o},{"./Subscriber":549}],542:[function(e,t,r){"use strict";var n=e("./Observable"),o=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();r.Notification=o},{"./Observable":543}],543:[function(e,t,r){"use strict";var n=e("./util/root"),o=e("./util/toSubscriber"),i=e("./symbol/observable"),a=e("./util/pipe"),s=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=o.toSubscriber(e,t,r);if(n?n.call(i,this.source):i.add(this.source||!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var r=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var o;o=r.subscribe(function(t){if(o)try{e(t)}catch(e){n(e),o.unsubscribe()}else e(t)},n,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();r.Observable=s},{"./symbol/observable":569,"./util/pipe":584,"./util/root":585,"./util/toSubscriber":587}],544:[function(e,t,r){"use strict";r.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},{}],545:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(e("./Subscriber").Subscriber);r.OuterSubscriber=o},{"./Subscriber":549}],546:[function(e,t,r){"use strict";var n=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();r.Scheduler=n},{}],547:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("./Observable"),i=e("./Subscriber"),a=e("./Subscription"),s=e("./util/ObjectUnsubscribedError"),u=e("./SubjectSubscription"),c=e("./symbol/rxSubscriber"),l=function(e){function t(t){e.call(this,t),this.destination=t}return n(t,e),t}(i.Subscriber);r.SubjectSubscriber=l;var f=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(t,e),t.prototype[c.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(o.Observable);r.Subject=f;var d=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r}return n(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},t}(f);r.AnonymousSubject=d},{"./Observable":543,"./SubjectSubscription":548,"./Subscriber":549,"./Subscription":550,"./symbol/rxSubscriber":570,"./util/ObjectUnsubscribedError":572}],548:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r){e.call(this),this.subject=t,this.subscriber=r,this.closed=!1}return n(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(e("./Subscription").Subscription);r.SubjectSubscription=o},{"./Subscription":550}],549:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("./util/isFunction"),i=e("./Subscription"),a=e("./Observer"),s=e("./symbol/rxSubscriber"),u=function(e){function t(r,n,o){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!r){this.destination=a.empty;break}if("object"==typeof r){r instanceof t?(this.syncErrorThrowable=r.syncErrorThrowable,this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,r,n,o)}}return n(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,r,n){var o=new t(e,r,n);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(i.Subscription);r.Subscriber=u;var c=function(e){function t(t,r,n,i){var s;e.call(this),this._parentSubscriber=t;var u=this;o.isFunction(r)?s=r:r&&(s=r.next,n=r.error,i=r.complete,r!==a.empty&&(u=Object.create(r),o.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=i}return n(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},{"./Observer":544,"./Subscription":550,"./symbol/rxSubscriber":570,"./util/isFunction":579}],550:[function(e,t,r){"use strict";var n=e("./util/isArray"),o=e("./util/isObject"),i=e("./util/isFunction"),a=e("./util/tryCatch"),s=e("./util/errorObject"),u=e("./util/UnsubscriptionError"),c=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this._parent,c=this._parents,f=this._unsubscribe,d=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,p=c?c.length:0;r;)r.remove(this),r=++h<p&&c[h]||null;if(i.isFunction(f))a.tryCatch(f).call(this)===s.errorObject&&(t=!0,e=e||(s.errorObject.e instanceof u.UnsubscriptionError?l(s.errorObject.e.errors):[s.errorObject.e]));if(n.isArray(d))for(h=-1,p=d.length;++h<p;){var b=d[h];if(o.isObject(b))if(a.tryCatch(b.unsubscribe).call(b)===s.errorObject){t=!0,e=e||[];var v=s.errorObject.e;v instanceof u.UnsubscriptionError?e=e.concat(l(v.errors)):e.push(v)}}if(t)throw new u.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.prototype._addParent=function(e){var t=this._parent,r=this._parents;t&&t!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce(function(e,t){return e.concat(t instanceof u.UnsubscriptionError?t.errors:t)},[])}r.Subscription=c},{"./util/UnsubscriptionError":573,"./util/errorObject":574,"./util/isArray":576,"./util/isFunction":579,"./util/isObject":580,"./util/tryCatch":588}],551:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../Observable"),i=e("./ScalarObservable"),a=e("./EmptyObservable"),s=e("../util/isScheduler"),u=function(e){function t(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){return new t(e,r)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=e[e.length-1];s.isScheduler(n)?e.pop():n=null;var o=e.length;return o>1?new t(e,n):1===o?new i.ScalarObservable(e[0],n):new a.EmptyObservable(n)},t.dispatch=function(e){var t=e.array,r=e.index,n=e.count,o=e.subscriber;r>=n?o.complete():(o.next(t[r]),o.closed||(e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.array,n=r.length,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{array:r,index:0,count:n,subscriber:e});for(var i=0;i<n&&!e.closed;i++)e.next(r[i]);e.complete()},t}(o.Observable);r.ArrayObservable=u},{"../Observable":543,"../util/isScheduler":582,"./EmptyObservable":552,"./ScalarObservable":554}],552:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t){e.call(this),this.scheduler=t}return n(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(e("../Observable").Observable);r.EmptyObservable=o},{"../Observable":543}],553:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../Observable"),i=e("../util/tryCatch"),a=e("../util/isFunction"),s=e("../util/errorObject"),u=e("../Subscription"),c=Object.prototype.toString;var l=function(e){function t(t,r,n,o){e.call(this),this.sourceObj=t,this.eventName=r,this.selector=n,this.options=o}return n(t,e),t.create=function(e,r,n,o){return a.isFunction(n)&&(o=n,n=void 0),new t(e,r,o,n)},t.setupSubscription=function(e,r,n,o,i){var a,s,l,f,d,h;if((h=e)&&"[object NodeList]"===c.call(h)||(d=e)&&"[object HTMLCollection]"===c.call(d))for(var p=0,b=e.length;p<b;p++)t.setupSubscription(e[p],r,n,o,i);else if((f=e)&&"function"==typeof f.addEventListener&&"function"==typeof f.removeEventListener){var v=e;e.addEventListener(r,n,i),a=function(){return v.removeEventListener(r,n)}}else if((l=e)&&"function"==typeof l.on&&"function"==typeof l.off){var y=e;e.on(r,n),a=function(){return y.off(r,n)}}else{if(!(s=e)||"function"!=typeof s.addListener||"function"!=typeof s.removeListener)throw new TypeError("Invalid event target");var _=e;e.addListener(r,n),a=function(){return _.removeListener(r,n)}}o.add(new u.Subscription(a))},t.prototype._subscribe=function(e){var r=this.sourceObj,n=this.eventName,o=this.options,a=this.selector,u=a?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=i.tryCatch(a).apply(void 0,t);n===s.errorObject?e.error(s.errorObject.e):e.next(n)}:function(t){return e.next(t)};t.setupSubscription(r,n,u,e,o)},t}(o.Observable);r.FromEventObservable=l},{"../Observable":543,"../Subscription":550,"../util/errorObject":574,"../util/isFunction":579,"../util/tryCatch":588}],554:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,n=e.subscriber;t?n.complete():(n.next(r),n.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.value,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e});e.next(r),e.closed||e.complete()},t}(e("../Observable").Observable);r.ScalarObservable=o},{"../Observable":543}],555:[function(e,t,r){"use strict";var n=e("./FromEventObservable");r.fromEvent=n.FromEventObservable.create},{"./FromEventObservable":553}],556:[function(e,t,r){"use strict";var n=e("../Observable"),o=e("./ArrayObservable"),i=e("../util/isScheduler"),a=e("../operators/mergeAll");r.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,s=null,u=e[e.length-1];return i.isScheduler(u)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof u&&(r=e.pop()),null===s&&1===e.length&&e[0]instanceof n.Observable?e[0]:a.mergeAll(r)(new o.ArrayObservable(e,s))}},{"../Observable":543,"../operators/mergeAll":562,"../util/isScheduler":582,"./ArrayObservable":551}],557:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../scheduler/async"),i=e("../util/isDate"),a=e("../Subscriber"),s=e("../Notification");r.delay=function(e,t){void 0===t&&(t=o.async);var r=i.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new u(r,t))}};var u=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.delay,this.scheduler))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return n(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,o=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(o);if(r.length>0){var i=Math.max(0,r[0].time-n.now());this.schedule(e,i)}else t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new l(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(s.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(s.Notification.createComplete())},t}(a.Subscriber),l=function(){return function(e,t){this.time=e,this.notification=t}}()},{"../Notification":542,"../Subscriber":549,"../scheduler/async":567,"../util/isDate":578}],558:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../Subscriber"),i=e("../util/tryCatch"),a=e("../util/errorObject");r.distinctUntilChanged=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.compare,this.keySelector))},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return n(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=i.tryCatch(this.keySelector)(e))===a.errorObject)return this.destination.error(a.errorObject.e);var r=!1;if(this.hasKey){if((r=i.tryCatch(this.compare)(this.key,t))===a.errorObject)return this.destination.error(a.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=t,this.destination.next(e))},t}(o.Subscriber)},{"../Subscriber":549,"../util/errorObject":574,"../util/tryCatch":588}],559:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../Subscriber");r.filter=function(e,t){return function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.thisArg=n,this.count=0}return n(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(o.Subscriber)},{"../Subscriber":549}],560:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../Subscriber"),i=e("../util/EmptyError");r.first=function(e,t,r){return function(n){return n.lift(new a(e,t,r,n))}};var a=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),s=function(e){function t(t,r,n,o,i){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=o,this.source=i,this.index=0,this.hasCompleted=!1,this._emitted=!1}return n(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}r&&this._emit(e,t)},t.prototype._emit=function(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(r)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||e.error(new i.EmptyError):(e.next(this.defaultValue),e.complete())},t}(o.Subscriber)},{"../Subscriber":549,"../util/EmptyError":571}],561:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../Subscriber");r.map=function(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}();r.MapOperator=i;var a=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.count=0,this.thisArg=n||this}return n(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.Subscriber)},{"../Subscriber":549}],562:[function(e,t,r){"use strict";var n=e("./mergeMap"),o=e("../util/identity");r.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeMap(o.identity,null,e)}},{"../util/identity":575,"./mergeMap":563}],563:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../util/subscribeToResult"),i=e("../OuterSubscriber");r.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return"number"==typeof t&&(r=t,t=null),n.lift(new a(e,t,r))}};var a=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.resultSelector,this.concurrent))},e}();r.MergeMapOperator=a;var s=function(e){function t(t,r,n,o){void 0===o&&(o=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=n,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){this.add(o.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,o){this.resultSelector?this._notifyResultSelector(e,t,r,n):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,r,n){var o;try{o=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(o)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber);r.MergeMapSubscriber=s},{"../OuterSubscriber":545,"../util/subscribeToResult":586}],564:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r){e.call(this)}return n(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(e("../Subscription").Subscription);r.Action=o},{"../Subscription":550}],565:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../util/root"),i=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r,this.pending=!1}return n(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),o.root.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;o.root.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(e("./Action").Action);r.AsyncAction=i},{"../util/root":585,"./Action":564}],566:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(e("../Scheduler").Scheduler);r.AsyncScheduler=o},{"../Scheduler":546}],567:[function(e,t,r){"use strict";var n=e("./AsyncAction"),o=e("./AsyncScheduler");r.async=new o.AsyncScheduler(n.AsyncAction)},{"./AsyncAction":565,"./AsyncScheduler":566}],568:[function(e,t,r){"use strict";var n=e("../util/root");function o(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var r=e.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=e.Map;if(n)for(var o=Object.getOwnPropertyNames(n.prototype),i=0;i<o.length;++i){var a=o[i];if("entries"!==a&&"size"!==a&&n.prototype[a]===n.prototype.entries)return a}return"@@iterator"}r.symbolIteratorPonyfill=o,r.iterator=o(n.root),r.$$iterator=r.iterator},{"../util/root":585}],569:[function(e,t,r){"use strict";var n=e("../util/root");function o(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.getSymbolObservable=o,r.observable=o(n.root),r.$$observable=r.observable},{"../util/root":585}],570:[function(e,t,r){"use strict";var n=e("../util/root").root.Symbol;r.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",r.$$rxSubscriber=r.rxSubscriber},{"../util/root":585}],571:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return n(t,e),t}(Error);r.EmptyError=o},{}],572:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return n(t,e),t}(Error);r.ObjectUnsubscribedError=o},{}],573:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t){e.call(this),this.errors=t;var r=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return n(t,e),t}(Error);r.UnsubscriptionError=o},{}],574:[function(e,t,r){"use strict";r.errorObject={e:{}}},{}],575:[function(e,t,r){"use strict";r.identity=function(e){return e}},{}],576:[function(e,t,r){"use strict";r.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},{}],577:[function(e,t,r){"use strict";r.isArrayLike=function(e){return e&&"number"==typeof e.length}},{}],578:[function(e,t,r){"use strict";r.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},{}],579:[function(e,t,r){"use strict";r.isFunction=function(e){return"function"==typeof e}},{}],580:[function(e,t,r){"use strict";r.isObject=function(e){return null!=e&&"object"==typeof e}},{}],581:[function(e,t,r){"use strict";r.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},{}],582:[function(e,t,r){"use strict";r.isScheduler=function(e){return e&&"function"==typeof e.schedule}},{}],583:[function(e,t,r){"use strict";r.noop=function(){}},{}],584:[function(e,t,r){"use strict";var n=e("./noop");function o(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:n.noop}r.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o(e)},r.pipeFromArray=o},{"./noop":583}],585:[function(e,t,r){(function(e){"use strict";var t="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=t||void 0!==e&&e||n;r.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],586:[function(e,t,r){"use strict";var n=e("./root"),o=e("./isArrayLike"),i=e("./isPromise"),a=e("./isObject"),s=e("../Observable"),u=e("../symbol/iterator"),c=e("../InnerSubscriber"),l=e("../symbol/observable");r.subscribeToResult=function(e,t,r,f){var d=new c.InnerSubscriber(e,r,f);if(d.closed)return null;if(t instanceof s.Observable)return t._isScalar?(d.next(t.value),d.complete(),null):(d.syncErrorThrowable=!0,t.subscribe(d));if(o.isArrayLike(t)){for(var h=0,p=t.length;h<p&&!d.closed;h++)d.next(t[h]);d.closed||d.complete()}else{if(i.isPromise(t))return t.then(function(e){d.closed||(d.next(e),d.complete())},function(e){return d.error(e)}).then(null,function(e){n.root.setTimeout(function(){throw e})}),d;if(t&&"function"==typeof t[u.iterator])for(var b=t[u.iterator]();;){var v=b.next();if(v.done){d.complete();break}if(d.next(v.value),d.closed)break}else if(t&&"function"==typeof t[l.observable]){var y=t[l.observable]();if("function"==typeof y.subscribe)return y.subscribe(new c.InnerSubscriber(e,r,f));d.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var _="You provided "+(a.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";d.error(new TypeError(_))}}return null}},{"../InnerSubscriber":541,"../Observable":543,"../symbol/iterator":568,"../symbol/observable":569,"./isArrayLike":577,"./isObject":580,"./isPromise":581,"./root":585}],587:[function(e,t,r){"use strict";var n=e("../Subscriber"),o=e("../symbol/rxSubscriber"),i=e("../Observer");r.toSubscriber=function(e,t,r){if(e){if(e instanceof n.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||r?new n.Subscriber(e,t,r):new n.Subscriber(i.empty)}},{"../Observer":544,"../Subscriber":549,"../symbol/rxSubscriber":570}],588:[function(e,t,r){"use strict";var n,o=e("./errorObject");function i(){try{return n.apply(this,arguments)}catch(e){return o.errorObject.e=e,o.errorObject}}r.tryCatch=function(e){return n=e,i}},{"./errorObject":574}],589:[function(e,t,r){!function(e){if("object"==typeof r)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var n;try{n=window}catch(e){n=self}n.SparkMD5=e()}}(function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t){var r=e[0],n=e[1],o=e[2],i=e[3];n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&o)+t[1]-389564586|0)<<12|i>>>20)+r|0)&r|~i&n)+t[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&r)+t[3]-1044525330|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&o)+t[5]+1200080426|0)<<12|i>>>20)+r|0)&r|~i&n)+t[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&r)+t[7]-45705983|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&o)+t[9]-1958414417|0)<<12|i>>>20)+r|0)&r|~i&n)+t[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&r)+t[11]-1990404162|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&o)+t[13]-40341101|0)<<12|i>>>20)+r|0)&r|~i&n)+t[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&r)+t[15]+1236535329|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[1]-165796510|0)<<5|r>>>27)+n|0)&o|n&~o)+t[6]-1069501632|0)<<9|i>>>23)+r|0)&n|r&~n)+t[11]+643717713|0)<<14|o>>>18)+i|0)&r|i&~r)+t[0]-373897302|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[5]-701558691|0)<<5|r>>>27)+n|0)&o|n&~o)+t[10]+38016083|0)<<9|i>>>23)+r|0)&n|r&~n)+t[15]-660478335|0)<<14|o>>>18)+i|0)&r|i&~r)+t[4]-405537848|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[9]+568446438|0)<<5|r>>>27)+n|0)&o|n&~o)+t[14]-1019803690|0)<<9|i>>>23)+r|0)&n|r&~n)+t[3]-187363961|0)<<14|o>>>18)+i|0)&r|i&~r)+t[8]+1163531501|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[13]-1444681467|0)<<5|r>>>27)+n|0)&o|n&~o)+t[2]-51403784|0)<<9|i>>>23)+r|0)&n|r&~n)+t[7]+1735328473|0)<<14|o>>>18)+i|0)&r|i&~r)+t[12]-1926607734|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[5]-378558|0)<<4|r>>>28)+n|0)^n^o)+t[8]-2022574463|0)<<11|i>>>21)+r|0)^r^n)+t[11]+1839030562|0)<<16|o>>>16)+i|0)^i^r)+t[14]-35309556|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[1]-1530992060|0)<<4|r>>>28)+n|0)^n^o)+t[4]+1272893353|0)<<11|i>>>21)+r|0)^r^n)+t[7]-155497632|0)<<16|o>>>16)+i|0)^i^r)+t[10]-1094730640|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[13]+681279174|0)<<4|r>>>28)+n|0)^n^o)+t[0]-358537222|0)<<11|i>>>21)+r|0)^r^n)+t[3]-722521979|0)<<16|o>>>16)+i|0)^i^r)+t[6]+76029189|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[9]-640364487|0)<<4|r>>>28)+n|0)^n^o)+t[12]-421815835|0)<<11|i>>>21)+r|0)^r^n)+t[15]+530742520|0)<<16|o>>>16)+i|0)^i^r)+t[2]-995338651|0)<<23|n>>>9)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[0]-198630844|0)<<6|r>>>26)+n|0)|~o))+t[7]+1126891415|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[14]-1416354905|0)<<15|o>>>17)+i|0)|~r))+t[5]-57434055|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[12]+1700485571|0)<<6|r>>>26)+n|0)|~o))+t[3]-1894986606|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[10]-1051523|0)<<15|o>>>17)+i|0)|~r))+t[1]-2054922799|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[8]+1873313359|0)<<6|r>>>26)+n|0)|~o))+t[15]-30611744|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[6]-1560198380|0)<<15|o>>>17)+i|0)|~r))+t[13]+1309151649|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[4]-145523070|0)<<6|r>>>26)+n|0)|~o))+t[11]-1120210379|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[2]+718787259|0)<<15|o>>>17)+i|0)|~r))+t[9]-343485551|0)<<21|n>>>11)+o|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function o(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function i(e){var t,o,i,a,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(l,n(e.substring(t-64,t)));for(o=(e=e.substring(t-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<o;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(r(l,i),t=0;t<16;t+=1)i[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,i[14]=s,i[15]=u,r(l,i),l}function a(e){var r,n="";for(r=0;r<4;r+=1)n+=t[e>>8*r+4&15]+t[e>>8*r&15];return n}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function l(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==s(i("hello"))&&function(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,n){var o,i,a,s,u=this.byteLength,c=t(r,u),l=u;return n!==e&&(l=t(n,u)),c>l?new ArrayBuffer(0):(o=l-c,i=new ArrayBuffer(o),a=new Uint8Array(i),s=new Uint8Array(this,c,o),a.set(s),i)}}(),l.prototype.append=function(e){return this.appendBinary(u(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,o=this._buff.length;for(t=64;t<=o;t+=64)r(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),r=s(this._hash),e&&(r=c(r)),this.reset(),r},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var n,o,i,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(r(this._hash,e),a=0;a<16;a+=1)e[a]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=o,e[15]=i,r(this._hash,e)},l.hash=function(e,t){return l.hashBinary(u(e),t)},l.hashBinary=function(e,t){var r=s(i(e));return t?c(r):r},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(e){var t,n,i,a,s,u=(n=this._buff.buffer,i=e,a=!0,(s=new Uint8Array(n.byteLength+i.byteLength)).set(new Uint8Array(n)),s.set(new Uint8Array(i),n.byteLength),a?s:s.buffer),c=u.length;for(this._length+=e.byteLength,t=64;t<=c;t+=64)r(this._hash,o(u.subarray(t-64,t)));return this._buff=t-64<c?new Uint8Array(u.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=n[t]<<(t%4<<3);return this._finish(i,o),r=s(this._hash),e&&(r=c(r)),this.reset(),r},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e,t=l.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var r,n=e.length,o=new ArrayBuffer(n),i=new Uint8Array(o);for(r=0;r<n;r+=1)i[r]=e.charCodeAt(r);return t?i:o}(e.buff,!0),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var n=s(function(e){var t,n,i,a,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(l,o(e.subarray(t-64,t)));for(n=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(r(l,i),t=0;t<16;t+=1)i[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,i[14]=s,i[15]=u,r(l,i),l}(new Uint8Array(e)));return t?c(n):n},l})},{}],590:[function(e,t,r){t.exports={add:function(e){var t={};return"object"==typeof window&&window.addEventListener&&"function"==typeof window.addEventListener&&(window.addEventListener("beforeunload",e,!1),t.beforeunload=e),t},remove:function(e,t){Object.keys(t).forEach(function(e){var r=t[e];switch(e){case"beforeunload":window.removeEventListener("beforeunload",r,!1)}})}}},{}],591:[function(e,t,r){var n,o,i,a,s,u;t.exports=(n={node:e("./node.js"),browser:e("./browser.js")},i=!1,a=!1,s=0,u={},(o={}).debug=function(){a=!0},o.add=function(e){s++;var t=function(t,r,n){if(!i)return i=!0,e(t,r,n)},r={};Object.keys(n).forEach(function(e){r[e]=n[e].add(t)});var o=function(){Object.keys(r).forEach(function(e){n[e].remove(t,r[e])}),a&&console.log("unload.stopListening()"),a&&console.dir(u[s])};return o.run=function(){t()},u[s]={fn:e,remove:o,listeners:r},a&&console.log("unload.add()"),a&&console.dir(u[s]),o},o.runAll=function(){i||(i=!0,Object.keys(u).forEach(function(e){u[e].fn()}))},o.removeAll=function(){Object.keys(u).forEach(function(e){u[e].remove()})},o)},{"./browser.js":590,"./node.js":592}],592:[function(e,t,r){(function(e){t.exports={add:function(t){var r={};return"object"==typeof e&&e.on&&"function"==typeof e.on&&(r.beforeExit=function(r){var n=t(r);Promise.resolve(n).then(function(){e.exit()})},e.on("beforeExit",r.beforeExit),r.exit=function(e){var r=t(e);Promise.resolve(r)},e.on("exit",r.exit),r.SIGINT=function(r){var n=t(r);Promise.resolve(n).then(function(){e.exit()})},e.on("SIGINT",r.SIGINT),r.uncaughtException=function(r){var n=t(r);Promise.resolve(n).then(function(){e.exit()})},e.on("uncaughtException",r.uncaughtException)),r},remove:function(t,r){Object.keys(r).forEach(function(t){var n=r[t];switch(t){case"beforeExit":case"SIGINT":case"uncaughtException":case"exit":e.removeListener(t,n)}})}}}).call(this,e("_process"))},{_process:536}],593:[function(e,t,r){arguments[4][495][0].apply(r,arguments)},{dup:495}],594:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],595:[function(e,t,r){(function(t,n){var o=/%[sdj%]/g;r.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(o,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),u=n[r];r<i;u=n[++r])b(u)||!g(u)?a+=" "+u:a+=" "+s(u);return a},r.deprecate=function(e,o){if(_(n.process))return function(){return r.deprecate(e,o).apply(this,arguments)};if(!0===t.noDeprecation)return e;var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),i=!0}return e.apply(this,arguments)}};var i,a={};function s(e,t){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(t)?n.showHidden=t:t&&r._extend(n,t),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function c(e,t){return e}function l(e,t,n){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return y(o)||(o=l(e,o,n)),o}var i=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(v(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}(e,t);if(i)return i;var a,s=Object.keys(t),u=(a={},s.forEach(function(e,t){a[e]=!0}),a);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),x(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(t);if(0===s.length){if(k(t)){var c=t.name?": "+t.name:"";return e.stylize("[Function"+c+"]","special")}if(m(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(x(t))return f(t)}var g,j="",O=!1,S=["{","}"];(h(t)&&(O=!0,S=["[","]"]),k(t))&&(j=" [Function"+(t.name?": "+t.name:"")+"]");return m(t)&&(j=" "+RegExp.prototype.toString.call(t)),w(t)&&(j=" "+Date.prototype.toUTCString.call(t)),x(t)&&(j=" "+f(t)),0!==s.length||O&&0!=t.length?n<0?m(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),g=O?function(e,t,r,n,o){for(var i=[],a=0,s=t.length;a<s;++a)E(t,String(a))?i.push(d(e,t,r,n,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(d(e,t,r,n,o,!0))}),i}(e,t,n,u,s):s.map(function(r){return d(e,t,n,u,r,O)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(g,j,S)):S[0]+j+S[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),E(n,o)||(a="["+o+"]"),s||(e.seen.indexOf(u.value)<0?(s=b(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),_(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function b(e){return null===e}function v(e){return"number"==typeof e}function y(e){return"string"==typeof e}function _(e){return void 0===e}function m(e){return g(e)&&"[object RegExp]"===j(e)}function g(e){return"object"==typeof e&&null!==e}function w(e){return g(e)&&"[object Date]"===j(e)}function x(e){return g(e)&&("[object Error]"===j(e)||e instanceof Error)}function k(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(_(i)&&(i=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=t.pid;a[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else a[e]=function(){};return a[e]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=h,r.isBoolean=p,r.isNull=b,r.isNullOrUndefined=function(e){return null==e},r.isNumber=v,r.isString=y,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=_,r.isRegExp=m,r.isObject=g,r.isDate=w,r.isError=x,r.isFunction=k,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("./support/isBuffer");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":"),[e.getDate(),S[e.getMonth()],t].join(" ")),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!g(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":594,_process:536,inherits:593}],596:[function(e,t,r){"use strict";function n(e,t,r){var n=r[r.length-1];e===n.element&&(r.pop(),n=r[r.length-1]);var o=n.element,i=n.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){o[t.pop()]=e}else t.push(e)}r.stringify=function(e){var t=[];t.push({obj:e});for(var r,n,o,i,a,s,u,c,l,f,d="";r=t.pop();)if(n=r.obj,d+=r.prefix||"",o=r.val||"")d+=o;else if("object"!=typeof n)d+=void 0===n?null:JSON.stringify(n);else if(null===n)d+="null";else if(Array.isArray(n)){for(t.push({val:"]"}),i=n.length-1;i>=0;i--)a=0===i?"":",",t.push({obj:n[i],prefix:a});t.push({val:"["})}else{for(u in s=[],n)n.hasOwnProperty(u)&&s.push(u);for(t.push({val:"}"}),i=s.length-1;i>=0;i--)l=n[c=s[i]],f=i>0?",":"",f+=JSON.stringify(c)+":",t.push({obj:l,prefix:f});t.push({val:"{"})}return d},r.parse=function(e){for(var t,r,o,i,a,s,u,c,l,f=[],d=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,n(null,f,d);break;case"t":h+=3,n(!0,f,d);break;case"f":h+=4,n(!1,f,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",h--;;){if(o=e[h++],!/[\d\.\-e\+]/.test(o)){h--;break}r+=o}n(parseFloat(r),f,d);break;case'"':for(i="",a=void 0,s=0;'"'!==(u=e[h++])||"\\"===a&&s%2==1;)i+=u,"\\"===(a=u)?s++:s=0;n(JSON.parse('"'+i+'"'),f,d);break;case"[":c={element:[],index:f.length},f.push(c.element),d.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),d.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();n(f.pop(),f,d)}}},{}],597:[function(e,t,r){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var o in r)n.call(r,o)&&(e[o]=r[o])}return e};var n=Object.prototype.hasOwnProperty},{}]},{},[1]);