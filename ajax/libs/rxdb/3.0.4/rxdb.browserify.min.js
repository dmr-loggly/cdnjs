!function e(t,r,n){function o(s,u){if(!r[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var r=t[s][1][e];return o(r?r:e)},f,f.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return new v(e,t)}Object.defineProperty(r,"__esModule",{value:!0});var s=e("babel-runtime/helpers/classCallCheck"),u=o(s),a=e("babel-runtime/helpers/createClass"),c=o(a);r.create=i;var f=e("object-path"),l=o(f),d=e("clone"),p=o(d),h=e("./util"),b=n(h),v=function(){function e(t,r){(0,u.default)(this,e),this._password=t,this._schema=r}return(0,c.default)(e,[{key:"_encryptValue",value:function(e){return b.encrypt(JSON.stringify(e),this._password)}},{key:"_decryptValue",value:function(e){var t=b.decrypt(e,this._password);return JSON.parse(t)}},{key:"encrypt",value:function(e){var t=this;return e=(0,p.default)(e),this._password?(Object.keys(this._schema.encryptedPaths).map(function(r){var n=l.default.get(e,r),o=t._encryptValue(n);l.default.set(e,r,o)}),e):e}},{key:"decrypt",value:function(e){var t=this;return e=(0,p.default)(e),this._password?(Object.keys(this._schema.encryptedPaths).map(function(r){var n=l.default.get(e,r),o=t._decryptValue(n);l.default.set(e,r,o)}),e):e}}]),e}()},{"./util":19,"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29,clone:36,"object-path":443}],2:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return new S(e,t)}Object.defineProperty(r,"__esModule",{value:!0});var s=e("babel-runtime/regenerator"),u=o(s),a=e("babel-runtime/helpers/asyncToGenerator"),c=o(a),f=e("babel-runtime/helpers/classCallCheck"),l=o(f),d=e("babel-runtime/helpers/createClass"),p=o(d);r.create=i;var h=e("./PouchDB"),b=o(h),v=e("clone"),y=o(v),_=e("./util"),m=n(_),g=e("./RxSchema"),w=n(g),x=e("./KeyCompressor"),j=n(x),k=e("./Crypter"),O=n(k),S=function(){function e(t,r){(0,l.default)(this,e),this.newestCollection=t,this.migrationStrategies=r,this.currentSchema=t.schema,this.database=t.database,this.name=t.name}return(0,p.default)(e,[{key:"_getOldCollections",value:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(u.default.mark(function e(){var t,r=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.currentSchema.previousVersions.map(function(e){return r.database._collectionsPouch.get(r.name+"-"+e)}).map(function(e){return e.catch(function(e){return null})}));case 2:return t=e.sent,e.abrupt("return",t.filter(function(e){return null!=e}).map(function(e){return new E(e.schema.version,e.schema,r)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"migrate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrated)throw new Error("Migration has already run");this._migrated=!0;var r={done:!1,total:null,handled:0,success:0,deleted:0,percent:0},n=new m.Rx.Observable(function(){var n=(0,c.default)(u.default.mark(function n(o){var i,s,a,c,f,l;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e._getOldCollections();case 2:return i=n.sent,n.next=5,Promise.all(i.map(function(e){return e.countAllUndeleted()}));case 5:s=n.sent,a=s.reduce(function(e,t){return t=e+t},0),r.total=a,o.next((0,y.default)(r)),c=null,f=null,l=u.default.mark(function n(){var i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.migrate(t),e.next=3,new Promise(function(e){var t=i.subscribe(function(e){r.handled++,r[e.type]=r[e.type]+1,r.percent=Math.round(r.handled/r.total*100),o.next((0,y.default)(r))},function(e){f=e,t.unsubscribe(),o.error(e)},function(){t.unsubscribe(),e()})});case 3:case"end":return e.stop()}},n,e)});case 12:if(!(c=i.shift())){n.next=16;break}return n.delegateYield(l(),"t0",14);case 14:n.next=12;break;case 16:r.done=!0,r.percent=100,o.next((0,y.default)(r)),o.complete();case 20:case"end":return n.stop()}},n,e)}));return function(e){return n.apply(this,arguments)}}());return n}},{key:"migratePromise",value:function(e){var t=this;return this._migratePromise||(this._migratePromise=new Promise(function(r,n){var o=t.migrate(e);o.subscribe(null,n,r)})),this._migratePromise}}]),e}(),E=function(){function e(t,r,n){(0,l.default)(this,e),this.version=t,this.dataMigrator=n,this.schemaObj=r,this.newestCollection=n.newestCollection,this.database=n.newestCollection.database}return(0,p.default)(e,[{key:"countAllUndeleted",value:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.default.countAllUndeleted(this.pouchdb));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"getBatch",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(u.default.mark(function e(t){var r,n=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.default.getBatch(this.pouchdb,t);case 2:return r=e.sent,e.abrupt("return",r.map(function(e){return n._handleFromPouch(e)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"_handleFromPouch",value:function(e){var t=this.schema.swapIdToPrimary(e),r=this.keyCompressor.decompress(t),n=this.crypter.decrypt(r);return n}},{key:"migrateDocumentData",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(u.default.mark(function e(t){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,y.default)(t),r=this.version+1,n=null;case 3:if(!(r<=this.newestCollection.schema.version)||n){e.next=12;break}return e.next=6,this.dataMigrator.migrationStrategies[r+""](t);case 6:if(t=e.sent,r++,null!=t||n){e.next=10;break}return e.abrupt("return",null);case 10:e.next=3;break;case 12:e.prev=12,this.newestCollection.schema.validate(t),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(12),new Error("\n              migration of document from v"+this.version+" to v"+this.newestCollection.schema.version+" failed\n              - final document does not match final schema\n              - final doc: "+JSON.stringify(t)+"\n            ");case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}},e,this,[[12,16]])}));return e}()},{key:"_migrateDocument",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(u.default.mark(function e(t){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.migrateDocumentData(t);case 2:if(r=e.sent,n={doc:t,migrated:r},!r){e.next=11;break}return delete r._rev,e.next=8,this.newestCollection._pouchPut(r,!0);case 8:n.type="success",e.next=12;break;case 11:n.type="deleted";case 12:return e.prev=12,e.next=15,this.pouchdb.remove(t);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(12);case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}},e,this,[[12,17]])}));return e}()},{key:"delete",value:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pouchdb.destroy();case 2:return e.next=4,this.database.removeCollectionDoc(this.dataMigrator.name,this.schema);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"migrate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrate)throw new Error("migration already running");this._migrate=!0;var r=new m.Rx.Observable(function(){var r=(0,c.default)(u.default.mark(function r(n){var o,i;return u.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getBatch(t);case 2:o=r.sent,i=void 0;case 4:return r.next=6,Promise.all(o.map(function(t){return e._migrateDocument(t).then(function(e){return n.next(e)})})).catch(function(e){return i=e});case 6:if(!i){r.next=9;break}return n.error(i),r.abrupt("return");case 9:return r.next=11,e.getBatch(t);case 11:o=r.sent;case 12:if(!i&&o.length>0){r.next=4;break}case 13:return r.next=15,e.delete();case 15:n.complete();case 16:case"end":return r.stop()}},r,e)}));return function(e){return r.apply(this,arguments)}}());return r}},{key:"migratePromise",value:function(e){var t=this;return this._migratePromise||(this._migratePromise=new Promise(function(r,n){var o=t.migrate(e);o.subscribe(null,n,r)})),this._migratePromise}},{key:"schema",get:function(){return this._schema||(this._schema=w.create(this.schemaObj,!1)),this._schema}},{key:"keyCompressor",get:function(){return this._keyCompressor||(this._keyCompressor=j.create(this.schema)),this._keyCompressor}},{key:"crypter",get:function(){return this._crypter||(this._crypter=O.create(this.database.password,this.schema)),this._crypter}},{key:"pouchdb",get:function(){return this._pouchdb||(this._pouchdb=this.database._spawnPouchDB(this.newestCollection.name,this.version,this.newestCollection.pouchSettings)),this._pouchdb}}]),e}()},{"./Crypter":1,"./KeyCompressor":4,"./PouchDB":6,"./RxSchema":13,"./util":19,"babel-runtime/helpers/asyncToGenerator":27,"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29,"babel-runtime/regenerator":32,clone:36}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return new c}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),s=n(i),u=e("babel-runtime/helpers/createClass"),a=n(u);r.create=o;var c=function(){function e(){(0,s.default)(this,e),this._map=new WeakMap,this._keys={}}return(0,a.default)(e,[{key:"_getKeyById",value:function(e){return this._keys[e]||(this._keys[e]={}),this._keys[e]}},{key:"_removeKey",value:function(e){delete this._keys[e]}},{key:"get",value:function(e){return this._map.get(this._getKeyById(e))}},{key:"set",value:function(e,t){return this._map.set(this._getKeyById(e),t)}},{key:"delete",value:function(e){this._map.delete(this._getKeyById(e)),this._removeKey(e)}}]),e}()},{"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29}],4:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return new y(e)}Object.defineProperty(r,"__esModule",{value:!0});var s=e("babel-runtime/helpers/typeof"),u=o(s),a=e("babel-runtime/helpers/classCallCheck"),c=o(a),f=e("babel-runtime/helpers/createClass"),l=o(f);r.create=i;var d=e("object-path"),p=(o(d),e("clone")),h=o(p),b=e("./util"),v=n(b),y=function(){function e(t){(0,c.default)(this,e),this.schema=t,this._table,this._reverseTable,this._fullTable}return(0,l.default)(e,[{key:"_compressObj",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={};return"object"!==("undefined"==typeof e?"undefined":(0,u.default)(e))?e:Array.isArray(e)?e.map(function(e){return t._compressObj(e,v.trimDots(r+".item"))}):(Object.keys(e).forEach(function(o){var i=e[o],s=v.trimDots(r+"."+o),u=t.table[s]?t.table[s]:o,a=i;a=t._compressObj(i,s),n[u]=a}),n)}},{key:"compress",value:function(e){return this.schema.doKeyCompression()?this._compressObj(e):(0,h.default)(e)}},{key:"_decompressObj",value:function(e){var t=this,r=this.reverseTable;if("object"!==("undefined"==typeof e?"undefined":(0,u.default)(e)))return e;if(Array.isArray(e))return e.map(function(e){return t._decompressObj(e)});var n={};return Object.keys(e).forEach(function(o){var i=o;(o.startsWith("|")||o.startsWith("_"))&&r[o]&&(i=r[o]),n[i]=t._decompressObj(e[o])}),n}},{key:"decompress",value:function(e){if(!this.schema.doKeyCompression())return(0,h.default)(e);var t=this._decompressObj(e);return t}},{key:"_transformKey",value:function(e,t,r){var n=this.table;e=v.trimDots(e),t=v.trimDots(t);var o=r.shift(),i=v.trimDots(e+"."+o);return t+=n[i]?"."+n[i]:"."+o,r.length>0?this._transformKey(i,t,r):v.trimDots(t)}},{key:"compressQuery",value:function(e){var t=this;if(e=(0,h.default)(e),!this.schema.doKeyCompression())return e;var r=(this.table,{});return Object.keys(e.selector).forEach(function(n){var o=e.selector[n],i=t._transformKey("","",n.split("."));r[i]=o}),e.selector=r,e.sort&&(e.sort=e.sort.map(function(e){var r=Object.keys(e)[0],n=e[r],o={};return o[t._transformKey("","",r.split("."))]=n,o})),e}},{key:"table",get:function(){var e=this;if(!this._table){var t=0,r=function(){return t++,v.numberToLetter(t-1)};this._table={};var n=this.schema.normalized,o=function t(n,o){Object.keys(o).map(function(i){var s=o[i],a="properties"==i?n:v.trimDots(n+"."+i);"object"===("undefined"==typeof s?"undefined":(0,u.default)(s))&&!Array.isArray(s)&&!e._table[a]&&""!=a&&i.length>3&&!a.startsWith("_")&&(e._table[a]="|"+r()),1==s.primary&&(e._table[a]="_id"),"object"!=("undefined"==typeof s?"undefined":(0,u.default)(s))||Array.isArray(s)||t(a,s)})};o("",n)}return this._table}},{key:"reverseTable",get:function(){var e=this;if(!this._reverseTable){var t=this.table;this._reverseTable={},Object.keys(t).forEach(function(r){var n=t[r],o=r.split(".").pop();e._reverseTable[n]=o})}return this._reverseTable}}]),e}()},{"./util":19,"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29,"babel-runtime/helpers/typeof":31,clone:36,"object-path":443}],5:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.SIGNAL_TIME=r.documentID=r.create=void 0;var i=e("babel-runtime/regenerator"),s=o(i),u=e("babel-runtime/helpers/asyncToGenerator"),a=o(u),c=e("babel-runtime/helpers/classCallCheck"),f=o(c),l=e("babel-runtime/helpers/createClass"),d=o(l),p=(r.create=function(){var e=(0,a.default)(s.default.mark(function e(t){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new x(t),e.next=3,r.prepare();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),e("unload")),h=n(p),b=e("./util"),v=n(b),y=e("./RxChangeEvent"),_=(n(y),e("./RxBroadcastChannel")),m=n(_),g="_local/leader",w=500,x=function(){function e(t){(0,f.default)(this,e),this.subs=[],this.unloads=[],this.database=t,this.token=this.database.token,this.isLeader=!1,this.becomeLeader$=new v.Rx.BehaviorSubject({isLeader:!1}),this.isDead=!1,this.isApplying=!1,this.isWaiting=!1,this.bc=m.create(this.database,"leader"),this.electionChannel=this.bc?"broadcast":"socket"}return(0,d.default)(e,[{key:"prepare",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()},{key:"createLeaderObject",value:function(){return{_id:g,is:"",apply:"",t:0}}},{key:"getLeaderObject",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){var t,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,this.database._adminPouch.get(g);case 4:t=e.sent,e.next=14;break;case 7:return e.prev=7,e.t0=e.catch(1),t=this.createLeaderObject(),e.next=12,this.database._adminPouch.put(t);case 12:r=e.sent,t._rev=r.rev;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}},e,this,[[1,7]])}));return e}()},{key:"setLeaderObject",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.database._adminPouch.put(t);case 2:return e.abrupt("return");case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"applyOnce",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLeader){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isDead){e.next=4;break}return e.abrupt("return",!1);case 4:if(!this.isApplying){e.next=6;break}return e.abrupt("return",!1);case 6:return this.isApplying=!0,e.next=9,this["apply_"+this.electionChannel]();case 9:if(t=e.sent,!t){e.next=13;break}return e.next=13,this.beLeader();case 13:return this.isApplying=!1,e.abrupt("return",!0);case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"apply_socket",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){var t,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getLeaderObject();case 3:if(t=e.sent,r=(new Date).getTime()-2*w,!(t.t>=r)){e.next=7;break}throw new Error("someone else is applying/leader");case 7:return t.apply=this.token,t.t=(new Date).getTime(),e.next=11,this.setLeaderObject(t);case 11:return e.next=13,v.promiseWait(.5*w);case 13:return e.next=15,this.getLeaderObject();case 15:if(t=e.sent,t.apply==this.token){e.next=18;break}throw new Error("someone else overwrote apply");case 18:return e.abrupt("return",!0);case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",!1);case 24:case"end":return e.stop()}},e,this,[[0,21]])}));return e}()},{key:"apply_broadcast",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){var t,r,n,o,i,u=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).getTime(),r=[],n=[],o=function(){var e=(0,a.default)(s.default.mark(function e(){var o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.push(u.bc.$.filter(function(e){return!!u.isApplying}).filter(function(e){return e.t>=t}).filter(function(e){return"apply"==e.type}).filter(function(e){return e.data<t||e.data==t&&e.it>u.token}).filter(function(e){return n.length<1}).subscribe(function(e){return n.push("other is applying:"+e.it)})),r.push(u.bc.$.filter(function(e){return!!u.isApplying}).filter(function(e){return e.t>=t}).filter(function(e){return"tell"==e.type}).filter(function(e){return n.length<1}).subscribe(function(e){return n.push("other is leader"+e.it)})),r.push(u.bc.$.filter(function(e){return!!u.isApplying}).filter(function(e){return"apply"==e.type}).filter(function(e){return e.data>t||e.data==t&&e.it>u.token}).subscribe(function(e){return u.bc.write("apply",t)})),o=3;case 4:if(!(o>0)){e.next=14;break}return o--,e.next=8,u.bc.write("apply",t);case 8:return e.next=10,v.promiseWait(300);case 10:if(!(n.length>0)){e.next=12;break}return e.abrupt("return",!1);case 12:e.next=4;break;case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}},e,u)}));return function(){return e.apply(this,arguments)}}(),e.next=6,o();case 6:return i=e.sent,r.map(function(e){return e.unsubscribe()}),e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"leaderSignal",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){var t,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.leaderSignal_run){e.next=2;break}return e.abrupt("return");case 2:this.leaderSignal_run=!0,e.t0=this.electionChannel,e.next="broadcast"===e.t0?6:"socket"===e.t0?9:29;break;case 6:return e.next=8,this.bc.write("tell");case 8:return e.abrupt("break",29);case 9:t=!1;case 10:if(t){e.next=28;break}return e.prev=11,e.next=14,this.getLeaderObject();case 14:return r=e.sent,r.is=this.token,r.apply=this.token,r.t=(new Date).getTime(),e.next=20,this.setLeaderObject(r);case 20:t=!0,e.next=26;break;case 23:e.prev=23,e.t1=e.catch(11),console.dir(e.t1);case 26:e.next=10;break;case 28:return e.abrupt("break",29);case 29:return this.leaderSignal_run=!1,e.abrupt("return");case 31:case"end":return e.stop()}},e,this,[[11,23]])}));return e}()},{key:"beLeader",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){var t=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDead){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isLeader){e.next=4;break}return e.abrupt("return",!1);case 4:return this.isLeader=!0,this.becomeLeader$.next({isLeader:!0}),this.applyInterval&&this.applyInterval.unsubscribe(),e.next=9,this.leaderSignal();case 9:e.t0=this.electionChannel,e.next="broadcast"===e.t0?12:"socket"===e.t0?15:18;break;case 12:return this.signalLeadership=this.bc.$.filter(function(e){return!!t.isLeader}).filter(function(e){return"tell"!=e.type}).subscribe(function(e){return t.leaderSignal()}),this.subs.push(this.signalLeadership),e.abrupt("break",18);case 15:return this.signalLeadership=v.Rx.Observable.interval(w).filter(function(e){return!!t.isLeader}).subscribe(function(){return t.leaderSignal()}),this.subs.push(this.signalLeadership),e.abrupt("break",18);case 18:return this.unloads.push(h.add(function(){t.bc.write("death"),t.die()})),e.abrupt("return",!0);case 20:case"end":return e.stop()}},e,this)}));return e}()},{key:"die",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){var t,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLeader){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isDead){e.next=4;break}return e.abrupt("return",!1);case 4:this.isDead=!0,this.isLeader=!1,this.signalLeadership&&this.signalLeadership.unsubscribe(),e.t0=this.electionChannel,e.next="broadcast"===e.t0?10:"socket"===e.t0?13:30;break;case 10:return e.next=12,this.bc.write("death");case 12:return e.abrupt("break",30);case 13:t=!1;case 14:if(t){e.next=29;break}return e.prev=15,e.next=18,this.getLeaderObject();case 18:return r=e.sent,r.t=0,e.next=22,this.setLeaderObject(r);case 22:t=!0,e.next=27;break;case 25:e.prev=25,e.t1=e.catch(15);case 27:e.next=14;break;case 29:return e.abrupt("break",30);case 30:return e.abrupt("return",!0);case 31:case"end":return e.stop()}},e,this,[[15,25]])}));return e}()},{key:"waitForLeadership",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){var t,r=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLeader){e.next=2;break}return e.abrupt("return",Promise.resolve(!0));case 2:if(t=[],this.isWaiting){e.next=14;break}this.isWaiting=!0,this.applyOnce(),e.t0=this.electionChannel,e.next="broadcast"===e.t0?9:"socket"===e.t0?11:14;break;case 9:return this.subs.push(this.bc.$.filter(function(e){return"death"==e.type}).subscribe(function(e){return r.applyOnce()})),e.abrupt("break",14);case 11:return this.applyInterval=v.Rx.Observable.interval(2*w).subscribe(function(e){return r.applyOnce()}),this.subs.push(this.applyInterval),e.abrupt("break",14);case 14:return e.abrupt("return",new Promise(function(e){var t=r.becomeLeader$.asObservable().filter(function(e){return 1==e.isLeader}).first().subscribe(function(r){t.unsubscribe(),e()})}));case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"destroy",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.subs.map(function(e){return e.unsubscribe()}),this.unloads.map(function(e){return e()}),e.next=4,this.die();case 4:this.bc&&this.bc.destroy();case 5:case"end":return e.stop()}},e,this)}));return e}()}]),e}();r.documentID=g,r.SIGNAL_TIME=w},{"./RxBroadcastChannel":7,"./RxChangeEvent":8,"./util":19,"babel-runtime/helpers/asyncToGenerator":27,"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29,"babel-runtime/regenerator":32,unload:591}],6:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/regenerator"),s=o(i),u=e("babel-runtime/helpers/asyncToGenerator"),a=o(u),c=e("pouchdb-core"),f=o(c),l=e("pouchdb-find"),d=n(l);f.default.plugin(d),f.default.countAllUndeleted=function(){var e=(0,a.default)(s.default.mark(function e(t){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.allDocs({include_docs:!1,attachments:!1});case 2:return r=e.sent,e.abrupt("return",r.rows.filter(function(e){return!e.id.startsWith("_design/")}).length);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),f.default.getBatch=function(){var e=(0,a.default)(s.default.mark(function e(t,r){var n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<=1)){e.next=2;break}throw new Error("PouchDB.getBatch: limit must be > 2");case 2:return e.next=4,t.allDocs({include_docs:!0,attachments:!1,limit:r});case 4:return n=e.sent,e.abrupt("return",n.rows.map(function(e){return e.doc}).filter(function(e){return!e._id.startsWith("_design")}));case 6:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),r.default=f.default},{"babel-runtime/helpers/asyncToGenerator":27,"babel-runtime/regenerator":32,"pouchdb-core":456,"pouchdb-find":476}],7:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(){return!("object"!==("undefined"==typeof window?"undefined":(0,a.default)(window))||!window.BroadcastChannel||"function"!=typeof window.BroadcastChannel||"function"!=typeof window.BroadcastChannel.prototype.postMessage||"function"!=typeof window.BroadcastChannel.prototype.close)}function s(e,t){return i()?new m(e,t):null}Object.defineProperty(r,"__esModule",{value:!0});var u=e("babel-runtime/helpers/typeof"),a=o(u),c=e("babel-runtime/regenerator"),f=o(c),l=e("babel-runtime/helpers/asyncToGenerator"),d=o(l),p=e("babel-runtime/helpers/classCallCheck"),h=o(p),b=e("babel-runtime/helpers/createClass"),v=o(b);r.canIUse=i,r.create=s;var y=e("./util"),_=n(y),m=function(){function e(t,r){var n=this;(0,h.default)(this,e),this.name=r,this.database=t,this.token=t.token,this.bc=new BroadcastChannel("RxDB:"+this.database.name+":"+this.name),this.$=_.Rx.Observable.fromEvent(this.bc,"message").map(function(e){return e.data}).map(function(e){return JSON.parse(e)}).filter(function(e){return e.it!=n.token})}return(0,v.default)(e,[{key:"write",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,d.default)(f.default.mark(function e(t,r){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.postMessage(JSON.stringify({type:t,it:this.token,data:r,t:(new Date).getTime()}));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"destroy",value:function(){this.bc.close()}}]),e}()},{"./util":19,"babel-runtime/helpers/asyncToGenerator":27,"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29,"babel-runtime/helpers/typeof":31,"babel-runtime/regenerator":32}],8:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return new h(e)}function s(e,t){var r=e._rev.startsWith("1-")?"INSERT":"UPDATE";e._deleted&&(r="REMOVE"),e=t._handleFromPouch(e);var n={op:r,t:(new Date).getTime(),db:"remote",col:t.name,it:t.database.token,doc:e[t.schema.primaryPath],v:e};return new h(n)}function u(e,t,r,n,o){var i={op:e,t:(new Date).getTime(),db:t.prefix,it:t.token};return r&&(i.col=r.name),n&&(i.doc=n.getPrimary()),o&&(i.v=o),new h(i)}Object.defineProperty(r,"__esModule",{value:!0});var a=e("babel-runtime/helpers/classCallCheck"),c=o(a),f=e("babel-runtime/helpers/createClass"),l=o(f);r.fromJSON=i,r.fromPouchChange=s,r.create=u;var d=e("./util"),p=n(d),h=function(){function e(t){(0,c.default)(this,e),this.data=t}return(0,l.default)(e,[{key:"toJSON",value:function(){var e={op:this.data.op,t:this.data.t,db:this.data.db,it:this.data.it};return this.data.col&&(e.col=this.data.col),this.data.doc&&(e.doc=this.data.doc),this.data.v&&(e.v=this.data.v),e}},{key:"isIntern",value:function(){return!(!this.data.col||"_"!=this.data.col.charAt(0))}},{key:"isSocket",value:function(){return!(!this.data.col||"_socket"!=this.data.col)}},{key:"hash",get:function(){return this._hash||(this._hash=p.hash(this.data)),this._hash}}]),e}()},{"./util":19,"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29}],9:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(){if(!$){var e=new F,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));$=[].concat((0,u.default)(t),(0,u.default)(r))}return $}Object.defineProperty(r,"__esModule",{value:!0}),r.create=void 0;var s=e("babel-runtime/helpers/toConsumableArray"),u=o(s),a=e("babel-runtime/helpers/typeof"),c=o(a),f=e("babel-runtime/regenerator"),l=o(f),d=e("babel-runtime/helpers/asyncToGenerator"),p=o(d),h=e("babel-runtime/helpers/classCallCheck"),b=o(h),v=e("babel-runtime/helpers/createClass"),y=o(v);r.create=function(){var e=(0,p.default)(l.default.mark(function e(t){var r,n=t.database,o=t.name,i=t.schema,s=t.pouchSettings,u=void 0===s?{}:s,a=t.migrationStrategies,c=void 0===a?{}:a,f=t.autoMigrate,d=void 0===f||f,p=t.statics,h=void 0===p?{}:p,b=t.methods,v=void 0===b?{}:b;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("RxSchema"===i.constructor.name){e.next=2;break}throw new TypeError("given schema is no Schema-object");case 2:if("RxDatabase"===n.constructor.name){e.next=4;break}throw new TypeError("given database is no Database-object");case 4:if("boolean"==typeof d){e.next=6;break}throw new TypeError("autoMigrate must be boolean");case 6:return j.validateCouchDBString(o),L(i,c),q(h),q(v),Object.keys(v).filter(function(e){return i.topLevelFields.includes(e)}).forEach(function(e){throw new Error("collection-method not allowed because its in the schema "+e)}),r=new F(n,o,i,u,c,v),e.next=14,r.prepare();case 14:if(Object.entries(h).forEach(function(e){var t=e.pop(),n=e.pop();r.__defineGetter__(n,function(){return t.bind(r)})}),!d){e.next=18;break}return e.next=18,r.migratePromise();case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();r.properties=i;var _=e("./PouchDB"),m=(o(_),e("object-path")),g=(o(m),e("clone")),w=o(g),x=e("./util"),j=n(x),k=e("./RxDocument"),O=n(k),S=e("./RxQuery"),E=n(S),A=e("./RxChangeEvent"),P=n(A),C=e("./KeyCompressor"),I=n(C),T=e("./DataMigrator"),D=n(T),M=e("./Crypter"),R=n(M),B=e("./DocCache"),N=n(B),F=function(){function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};
(0,b.default)(this,e),this.$emit=function(e){return i.database.$emit(e)},this.database=t,this.name=r,this.schema=n,this._migrationStrategies=s,this._pouchSettings=o,this._methods=u,this._docCache=N.create(),this.synced=!1,this.hooks={},this._subs=[],this.pouchSyncs=[],this.pouch=null,e.HOOKS_KEYS.forEach(function(t){e.HOOKS_WHEN.map(function(e){var r=e+j.ucfirst(t);i[r]=function(r,n){return i.addHook(e,t,r,n)}})})}return(0,y.default)(e,[{key:"prepare",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(){var t=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._dataMigrator=D.create(this,this._migrationStrategies),this._crypter=R.create(this.database.password,this.schema),this._keyCompressor=I.create(this.schema),this.pouch=this.database._spawnPouchDB(this.name,this.schema.version,this._pouchSettings),this._observable$=this.database.$.filter(function(e){return e.data.col==t.name}),e.next=7,Promise.all(this.schema.indexes.map(function(e){var r=e.map(function(e){if(!t.schema.doKeyCompression())return e;var r=t._keyCompressor._transformKey("","",e.split("."));return r});return t.pouch.createIndex({index:{fields:r}})}));case 7:this._subs.push(this._observable$.subscribe(function(e){var r=t._docCache.get(e.data.doc);r&&r._handleChangeEvent(e)}));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"migrationNeeded",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=this.schema.version){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this._dataMigrator._getOldCollections();case 4:return t=e.sent,e.abrupt("return",t.length>0);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"migrate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._dataMigrator.migrate(e)}},{key:"migratePromise",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._dataMigrator.migratePromise(e)}},{key:"_handleToPouch",value:function(e){var t=this._crypter.encrypt(e),r=this.schema.swapPrimaryToId(t),n=this._keyCompressor.compress(r);return n}},{key:"_handleFromPouch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.schema.swapIdToPrimary(e),n=this._keyCompressor.decompress(r);if(t)return n;var o=this._crypter.decrypt(n);return o}},{key:"_pouchPut",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(t){var r,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._handleToPouch(t),r=null,e.prev=2,e.next=5,this.pouch.put(t);case 5:r=e.sent,e.next=21;break;case 8:if(e.prev=8,e.t0=e.catch(2),!o||409!=e.t0.status){e.next=20;break}return e.next=13,this.pouch.get(t._id);case 13:return n=e.sent,t._rev=n._rev,e.next=17,this.pouch.put(t);case 17:r=e.sent,e.next=21;break;case 20:throw e.t0;case 21:return e.abrupt("return",r);case 22:case"end":return e.stop()}},e,this,[[2,8]])}));return e}()},{key:"_pouchGet",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(t){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pouch.get(t);case 2:return r=e.sent,r=this._handleFromPouch(r),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"_pouchFind",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(t,r){var n,o,i,s=this,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.keyCompress(),r&&(n.limit=r),e.next=4,this.pouch.find(n);case 4:return o=e.sent,i=o.docs.map(function(e){return s._handleFromPouch(e,u)}),e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"_assignMethodsToDocument",value:function(e){Object.entries(this._methods).forEach(function(t){var r=t[0],n=t[1];e.__defineGetter__(r,function(){return n.bind(e)})})}},{key:"_createDocument",value:function(e){var t=e[this.schema.primaryPath],r=this._docCache.get(t);if(r)return r;var n=O.create(this,e);return this._assignMethodsToDocument(n),this._docCache.set(t,n),n}},{key:"_createDocuments",value:function(e){var t=this;return e.map(function(e){return t._createDocument(e)})}},{key:"insert",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(t){var r,n,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,w.default)(t),!t._id){e.next=3;break}throw new Error("do not provide ._id, it will be generated");case 3:return"_id"!=this.schema.primaryPath||t._id||(t._id=j.generate_id()),e.next=6,this._runHooks("pre","insert",t);case 6:return this.schema.validate(t),e.next=9,this._pouchPut(t);case 9:return r=e.sent,t[this.schema.primaryPath]=r.id,t._rev=r.rev,n=this._createDocument(t),e.next=15,this._runHooks("post","insert",n);case 15:return o=P.create("INSERT",this.database,this,n,t),this.$emit(o),e.abrupt("return",n);case 18:case"end":return e.stop()}},e,this)}));return e}()},{key:"upsert",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(t){var r,n,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,w.default)(t),r=t[this.schema.primaryPath]){e.next=4;break}throw new Error("RxCollection.upsert() does not work without primary");case 4:return e.next=6,this.findOne(r).exec();case 6:if(n=e.sent,!n){e.next=15;break}return t._rev=n._rev,n._data=t,e.next=12,n.save();case 12:return e.abrupt("return",n);case 15:return e.next=17,this.insert(t);case 17:return o=e.sent,e.abrupt("return",o);case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"find",value:function(e){var t=this;if("string"==typeof e)throw new Error("if you want to search by _id, use .findOne(_id)");var r=E.create(e,this);return r.exec=(0,p.default)(l.default.mark(function e(){var n,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._pouchFind(r);case 2:return n=e.sent,o=t._createDocuments(n),e.abrupt("return",o);case 5:case"end":return e.stop()}},e,t)})),r}},{key:"findOne",value:function(e){var t=this,r=void 0;if(r="string"==typeof e?E.create({_id:e},this):E.create(e,this),"number"==typeof e||Array.isArray(e))throw new TypeError(".findOne() needs a queryObject or string");return r.exec=(0,p.default)(l.default.mark(function e(){var n,o,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._pouchFind(r,1);case 2:if(n=e.sent,0!==n.length){e.next=5;break}return e.abrupt("return",null);case 5:return o=n.shift(),i=t._createDocument(o),e.abrupt("return",i);case 8:case"end":return e.stop()}},e,t)})),r.limit=function(){throw new Error(".limit() cannot be called on .findOne()")},r}},{key:"query",value:function e(t){if("string"==typeof t)throw new Error("if you want to search by _id, use .findOne(_id)");var e=E.create(t,this);return e}},{key:"dump",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(){var t,r,n,o,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!i,r={name:this.name,schemaHash:this.schema.hash,encrypted:!1,passwordHash:null,docs:[]},this.database.password&&t&&(r.passwordHash=j.hash(this.database.password),r.encrypted=!0),n=E.create({},this),e.next=6,this._pouchFind(n,null,t);case 6:return o=e.sent,r.docs=o.map(function(e){return delete e._rev,e}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"importDump",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(t){var r,n=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.schemaHash==this.schema.hash){e.next=2;break}throw new Error("the imported json relies on a different schema");case 2:if(!t.encrypted||t.passwordHash==j.hash(this.database.password)){e.next=4;break}throw new Error("json.passwordHash does not match the own");case 4:return r=t.docs.map(function(e){return n._crypter.decrypt(e)}).map(function(e){return n.schema.validate(e)}).map(function(e){return n._pouchPut(e)}),e.abrupt("return",Promise.all(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"sync",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(t){var r,n,o,i,s=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof this.pouch.sync){e.next=2;break}throw new Error("RxCollection.sync needs 'pouchdb-replication'. Code:\n                 RxDB.plugin(require('pouchdb-replication')); ");case 2:if(u){e.next=5;break}return e.next=5,this.database.waitForLeadership();case 5:return this.synced||(r={},n=j.Rx.Observable.fromEvent(this.pouch.changes({since:"now",live:!0,include_docs:!0}),"change").filter(function(e){return"_"!=e.id.charAt(0)}).map(function(e){return e.doc}).map(function(e){return e._ext=!0,e}).filter(function(e){return r[e._rev]="YES"}).delay(10).map(function(e){var t=null;return"YES"==r[e._rev]&&(t=e),delete r[e._rev],t}).filter(function(e){return null!=e}).subscribe(function(e){s.$emit(P.fromPouchChange(e,s))}),this._subs.push(n),o=this.$.map(function(e){return e.data.v}).map(function(e){e&&r[e._rev]&&(r[e._rev]="NO")}).subscribe(),this._subs.push(o)),this.synced=!0,i=this.pouch.sync(t,{live:!0,retry:!0}).on("error",function(e){throw new Error(e)}),this.pouchSyncs.push(i),e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"addHook",value:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof n)throw new TypeError(r+"-hook must be a function");if(!e.HOOKS_WHEN.includes(t))throw new TypeError("hooks-when not known");if(!e.HOOKS_KEYS.includes(r))throw new Error("hook-name "+r+"not known");var i=o?"parallel":"series";this.hooks[r]=this.hooks[r]||{},this.hooks[r][t]=this.hooks[r][t]||{series:[],parallel:[]},this.hooks[r][t][i].push(n)}},{key:"getHooks",value:function(e,t){try{return this.hooks[t][e]}catch(e){return{series:[],parallel:[]}}}},{key:"_runHooks",value:function(){function e(e,r,n){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(t,r,n){var o,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.getHooks(t,r)){e.next=3;break}return e.abrupt("return");case 3:i=0;case 4:if(!(i<o.series.length)){e.next=10;break}return e.next=7,o.series[i](n);case 7:i++,e.next=4;break;case 10:return e.next=12,Promise.all(o.parallel.map(function(e){return e(n)}));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"_mustMigrate",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()},{key:"destroy",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._subs.forEach(function(e){return e.unsubscribe()}),this.pouchSyncs.forEach(function(e){return e.cancel()}),delete this.database.collections[this.name];case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"$",get:function(){return this._observable$}}]),e}();F.HOOKS_WHEN=["pre","post"],F.HOOKS_KEYS=["insert","save","remove"];var L=function(e,t){if("object"!==("undefined"==typeof t?"undefined":(0,c.default)(t))||Array.isArray(t))throw new TypeError("migrationStrategies must be an object");if(e.previousVersions.length!=Object.keys(t).length)throw new Error("\n      a migrationStrategy is missing or too much\n      - have: "+JSON.stringify(Object.keys(t).map(function(e){return parseInt(e)}))+"\n      - should: "+JSON.stringify(e.previousVersions)+"\n      ");return e.previousVersions.map(function(e){return{v:e,s:t[e+1+""]}}).filter(function(e){return"function"!=typeof e.s}).forEach(function(e){throw new TypeError("migrationStrategy(v"+e.v+") must be a function; is : "+("undefined"==typeof e?"undefined":(0,c.default)(e)))}),!0},$=null,q=function(e){Object.entries(e).forEach(function(e){if("string"!=typeof e[0])throw new TypeError("given static method-name ("+e[0]+") is not a string");if(e[0].startsWith("_"))throw new TypeError("static method-names cannot start with underscore _ ("+e[0]+")");if("function"!=typeof e[1])throw new TypeError("given static method ("+e[0]+") is not a function");if(i().includes(e[0])||O.properties().includes(e[0]))throw new Error("statics-name not allowed: "+e[0])})}},{"./Crypter":1,"./DataMigrator":2,"./DocCache":3,"./KeyCompressor":4,"./PouchDB":6,"./RxChangeEvent":8,"./RxDocument":11,"./RxQuery":12,"./util":19,"babel-runtime/helpers/asyncToGenerator":27,"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29,"babel-runtime/helpers/toConsumableArray":30,"babel-runtime/helpers/typeof":31,"babel-runtime/regenerator":32,clone:36,"object-path":443}],10:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(){if(!D){var e=new T,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));D=[].concat((0,u.default)(t),(0,u.default)(r))}return D}Object.defineProperty(r,"__esModule",{value:!0}),r.RxSchema=r.create=void 0;var s=e("babel-runtime/helpers/toConsumableArray"),u=o(s),a=e("babel-runtime/regenerator"),c=o(a),f=e("babel-runtime/helpers/asyncToGenerator"),l=o(f),d=e("babel-runtime/helpers/classCallCheck"),p=o(d),h=e("babel-runtime/helpers/createClass"),b=o(h);r.create=function(){var e=(0,l.default)(c.default.mark(function e(t){var r,n=t.name,o=t.adapter,i=t.password,s=t.multiInstance,u=void 0===s||s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m.validateCouchDBString(n),"string"!=typeof o){e.next=6;break}if(I.default.adapters&&I.default.adapters[o]){e.next=4;break}throw new Error("Adapter "+o+" not added.\n                 Use RxDB.plugin(require('pouchdb-adapter-"+o+"');");case 4:e.next=9;break;case 6:if(m.isLevelDown(o),I.default.adapters&&I.default.adapters.leveldb){e.next=9;break}throw new Error("To use leveldown-adapters, you have to add the leveldb-plugin.\n                 Use RxDB.plugin(require('pouchdb-adapter-leveldb'));");case 9:if(!i||"string"==typeof i){e.next=11;break}throw new TypeError("password is no string");case 11:if(!(i&&i.length<T.settings.minPassLength)){e.next=13;break}throw new Error("password must have at least "+T.settings.minPassLength+" chars");case 13:return r=new T(n,o,i,u),e.next=16,r.prepare();case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();r.properties=i;var v=e("random-token"),y=o(v),_=e("./util"),m=n(_),g=e("./RxCollection"),w=n(g),x=e("./RxSchema"),j=n(x),k=e("./RxChangeEvent"),O=n(k),S=e("./Socket"),E=n(S),A=e("./LeaderElector"),P=n(A),C=e("./PouchDB"),I=o(C),T=function(){function e(t,r,n,o){(0,p.default)(this,e),this.name=t,this.adapter=r,this.password=n,this.multiInstance=o,this.token=(0,y.default)(10),this.subs=[],this.destroyed=!1,this.collections={},this.subject=null,this.observable$=null}return(0,b.default)(e,[{key:"prepare",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(c.default.mark(function e(){var t,r=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.subject=new m.Rx.Subject,this.observable$=this.subject.asObservable().filter(function(e){return"RxChangeEvent"==e.constructor.name}),this._adminPouch=this._spawnPouchDB("_admin",0,{auto_compaction:!1,revs_limit:1}),this._collectionsPouch=this._spawnPouchDB("_collections",0,{auto_compaction:!1,revs_limit:1}),!this.password){e.next=24;break}return t=null,e.prev=6,e.next=9,this._adminPouch.get("_local/pwHash");case 9:t=e.sent,e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:if(t){e.next=22;break}return e.prev=15,e.next=18,this._adminPouch.put({_id:"_local/pwHash",value:m.hash(this.password)});case 18:e.next=22;break;case 20:e.prev=20,e.t1=e.catch(15);case 22:if(!t||!this.password||m.hash(this.password)==t.value){e.next=24;break}throw new Error("another instance on this adapter has a different password");case 24:if(!this.multiInstance){e.next=29;break}return e.next=27,E.create(this);case 27:this.socket=e.sent,this.socket.messages$.subscribe(function(e){return r.$emit(e)});case 29:return e.next=31,P.create(this);case 31:this.leaderElector=e.sent;case 32:case"end":return e.stop()}},e,this,[[6,12],[15,20]])}));return e}()},{key:"_spawnPouchDB",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.name+"-rxdb-"+t+"-"+e;return new I.default(n,this._adapterObj,r)}},{key:"waitForLeadership",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.multiInstance){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",this.leaderElector.waitForLeadership());case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"writeToSocket",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.multiInstance||t.isIntern()||!this.socket){e.next=4;break}return e.next=3,this.socket.write(t);case 3:return e.abrupt("return",!0);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"$emit",value:function(e){e&&(this.subject.next(e),e.data.it==this.token&&this.writeToSocket(e))}},{key:"_collectionNamePrimary",value:function(e,t){return e+"-"+t.version}},{key:"removeCollectionDoc",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,l.default)(c.default.mark(function e(t,r){var n,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._collectionNamePrimary(t,r),e.next=3,this._collectionsPouch.get(n);case 3:return o=e.sent,e.abrupt("return",this._collectionsPouch.remove(o));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"collection",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(c.default.mark(function e(t){var r,n,o,s,u,a=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.database=this,"_"!=t.name.charAt(0)){e.next=3;break}throw new Error("collection("+t.name+"): collection-names cannot start with underscore _");case 3:if(!this.collections[t.name]){e.next=5;break}throw new Error("collection("+t.name+") already exists. use myDatabase."+t.name+" to get it");case 5:if(t.schema){e.next=7;break}throw new Error("collection("+t.name+"): schema is missing");case 7:if("RxSchema"!=t.schema.constructor.name&&(t.schema=j.create(t.schema)),r=this._collectionNamePrimary(t.name,t.schema),!i().includes(t.name)){e.next=11;break}throw new Error("Collection-name "+t.name+" not allowed");case 11:return n=t.schema.hash,o=null,e.prev=13,e.next=16,this._collectionsPouch.get(r);case 16:o=e.sent,e.next=21;break;case 19:e.prev=19,e.t0=e.catch(13);case 21:if(!o||o.schemaHash==n){e.next=23;break}throw new Error("collection("+t.name+"): another instance created this collection with a different schema");case 23:return e.next=25,w.create(t);case 25:if(s=e.sent,!(Object.keys(s.schema.encryptedPaths).length>0)||this.password){e.next=28;break}throw new Error("collection("+t.name+"): schema encrypted but no password given");case 28:if(o){e.next=36;break}return e.prev=29,e.next=32,this._collectionsPouch.put({_id:r,schemaHash:n,schema:s.schema.normalized,version:s.schema.version});case 32:e.next=36;break;case 34:e.prev=34,e.t1=e.catch(29);case 36:return u=O.create("RxDatabase.collection",this),u.data.v=s.name,u.data.col="_collections",this.$emit(u),this.collections[t.name]=s,this.__defineGetter__(t.name,function(){return a.collections[t.name]}),e.abrupt("return",s);case 43:case"end":return e.stop()}},e,this,[[13,19],[29,34]])}));return e}()},{key:"dump",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(c.default.mark(function e(){var t,r,n=this,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:this.name,instanceToken:this.token,encrypted:!1,passwordHash:null,collections:[]},this.password&&(t.passwordHash=m.hash(this.password),o?t.encrypted=!1:t.encrypted=!0),r=Object.keys(this.collections).filter(function(e){return!i||i.includes(e)}).filter(function(e){return"_"!=e.charAt(0)}).map(function(e){return n.collections[e]}),e.next=5,Promise.all(r.map(function(e){return e.dump(o)}));case 5:return t.collections=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"importDump",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(c.default.mark(function e(t){var r=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.collections.filter(function(e){return r.collections[e.name]}).map(function(e){return r.collections[e.name].importDump(e)})));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"destroy",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(c.default.mark(function e(){var t=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:return this.destroyed=!0,this.socket&&this.socket.destroy(),e.next=6,this.leaderElector.destroy();case 6:this.subs.map(function(e){return e.unsubscribe()}),Object.keys(this.collections).map(function(e){return t.collections[e]}).map(function(e){return e.destroy()});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"_adapterObj",get:function(){var e={db:this.adapter};return"string"==typeof this.adapter&&(e={adapter:this.adapter}),e}},{key:"isLeader",get:function(){return!this.multiInstance||this.leaderElector.isLeader}},{key:"$",get:function(){return this.observable$}}]),e}();T.settings={minPassLength:8};var D=null;r.RxSchema=j},{"./LeaderElector":5,"./PouchDB":6,"./RxChangeEvent":8,"./RxCollection":9,"./RxSchema":13,"./Socket":14,"./util":19,"babel-runtime/helpers/asyncToGenerator":27,"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29,"babel-runtime/helpers/toConsumableArray":30,"babel-runtime/regenerator":32,"random-token":496}],11:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(t[e.schema.primaryPath].startsWith("_design"))return null;var r=new C(e,t);return r.prepare(),r}function s(e,t){return t.map(function(t){return i(e,t)}).filter(function(e){return null!=e})}function u(){if(!I){var e=["deleted","synced"],t=new C,r=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(Object.getPrototypeOf(t));I=[].concat((0,c.default)(r),(0,c.default)(n),e)}return I}Object.defineProperty(r,"__esModule",{value:!0});var a=e("babel-runtime/helpers/toConsumableArray"),c=o(a),f=e("babel-runtime/helpers/typeof"),l=o(f),d=e("babel-runtime/regenerator"),p=o(d),h=e("babel-runtime/helpers/asyncToGenerator"),b=o(h),v=e("babel-runtime/helpers/classCallCheck"),y=o(v),_=e("babel-runtime/helpers/createClass"),m=o(_);r.create=i,r.createAr=s,r.properties=u;var g=e("clone"),w=o(g),x=e("object-path"),j=o(x),k=e("deep-equal"),O=o(k),S=e("./util"),E=n(S),A=e("./RxChangeEvent"),P=n(A),C=function(){function e(t,r){var n=this;(0,y.default)(this,e),this.$emit=function(e){return n.collection.$emit(e)},this.collection=t,this._dataSync$=new E.Rx.BehaviorSubject((0,w.default)(r)),this._data=(0,w.default)(r),this._synced$=new E.Rx.BehaviorSubject(!0),this._deleted$=new E.Rx.BehaviorSubject(!1)}return(0,m.default)(e,[{key:"prepare",value:function(){this._defineGetterSetter(this,"")}},{key:"getPrimaryPath",value:function(){return this.collection.schema.primaryPath}},{key:"getPrimary",value:function(){return this._data[this.getPrimaryPath()]}},{key:"getRevision",value:function(){return this._data._rev}},{key:"resync",value:function(){this._synced$.getValue()||(this._data=(0,w.default)(this._dataSync$.getValue()),this._synced$.next(!0))}},{key:"_handleChangeEvent",value:function(e){if(e.data.doc==this.getPrimary())switch(e.data.op){case"INSERT":break;case"UPDATE":var t=(0,w.default)(e.data.v);delete t._ext;var r=this._dataSync$.getValue(),n=this._data;(0,O.default)(r,n)?(this._data=t,1!=this._synced$.getValue()&&this._synced$.next(!0)):(0!=this._synced$.getValue()&&this._synced$.next(!1),this._data._rev=t._rev),this._dataSync$.next((0,w.default)(t));break;case"REMOVE":this.collection._docCache.delete(this.getPrimary()),this._deleted$.next(!0)}}},{key:"get$",value:function(e){if(e.includes(".item."))throw new Error("cannot get observable of in-array fields because order cannot be guessed: "+e);var t=this.collection.schema.getSchemaByObjectPath(e);if(!t)throw new Error("cannot observe a non-existed field ("+e+")");return this._dataSync$.map(function(t){return j.default.get(t,e)}).distinctUntilChanged().asObservable()}},{key:"populate",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,b.default)(p.default.mark(function e(t,r){var n,o,i,s;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.collection.schema.getSchemaByObjectPath(t),o=this.get(t),n){e.next=4;break}throw new Error("cannot populate a non-existed field ("+t+")");case 4:if(n.ref){e.next=6;break}throw new Error("cannot populate because path has no ref ("+t+")");case 6:if(i=this.collection.database.collections[n.ref]){e.next=9;break}throw new Error("ref-collection ("+n.ref+") not in database");case 9:return e.next=11,i.findOne(o).exec();case 11:return s=e.sent,e.abrupt("return",s);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"get",value:function(e){if(this._data){if("string"!=typeof e)throw new TypeError("RxDocument.get(): objPath must be a string");var t=j.default.get(this._data,e);return t=(0,w.default)(t),"object"!=("undefined"==typeof t?"undefined":(0,l.default)(t))||Array.isArray(t)?t:(this._defineGetterSetter(t,e),t)}}},{key:"_defineGetterSetter",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.collection.schema.getSchemaByObjectPath(r);n.properties&&(n=n.properties),Object.keys(n).forEach(function(n){e.__defineGetter__(n,function(){return t.get(E.trimDots(r+"."+n))}),Object.defineProperty(e,n+"$",{get:function(){return t.get$(E.trimDots(r+"."+n))},enumerable:!1,configurable:!1}),Object.defineProperty(e,n+"_",{get:function(){return t.populate(E.trimDots(r+"."+n))},enumerable:!1,configurable:!1}),e.__defineSetter__(n,function(e){return t.set(E.trimDots(r+"."+n),e)})})}},{key:"toJSON",value:function(){return(0,w.default)(this._data)}},{key:"set",value:function(e,t){if("string"!=typeof e)throw new TypeError("RxDocument.set(): objPath must be a string");if(e==this.getPrimaryPath())throw new Error("RxDocument.set(): primary-key ("+this.getPrimaryPath()+")\n                cannot be modified");if(!Object.is(this.get(e),t)){var r=e.split(".");r.pop();var n=r.join(".");if("undefined"==typeof j.default.get(this._data,n))throw new Error("cannot set childpath "+e+"\n                 when rootPath "+n+" not selected");return this.collection.schema.validate(t,e),j.default.set(this._data,e,t),this}}},{key:"save",value:function(){function e(){return t.apply(this,arguments)}var t=(0,b.default)(p.default.mark(function e(){var t,r,n;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted$.getValue()){e.next=2;break}throw new Error("RxDocument.save(): cant save deleted document");case 2:if(!(0,O.default)(this._data,this._dataSync$.getValue())){e.next=5;break}return this._synced$.next(!0),e.abrupt("return",!1);case 5:return e.next=7,this.collection._runHooks("pre","save",this);case 7:return this.collection.schema.validate(this._data),e.next=10,this.collection._pouchPut((0,w.default)(this._data));case 10:if(t=e.sent,t.ok){e.next=13;break}throw new Error("RxDocument.save(): error "+JSON.stringify(t));case 13:return r=(0,w.default)(this._data),r._rev=t.rev,this._data=r,e.next=18,this.collection._runHooks("post","save",this);case 18:return this._synced$.next(!0),this._dataSync$.next((0,w.default)(r)),n=P.create("UPDATE",this.collection.database,this.collection,this,r),this.$emit(n),e.abrupt("return",!0);case 23:case"end":return e.stop()}},e,this)}));return e}()},{key:"remove",value:function(){function e(){return t.apply(this,arguments)}var t=(0,b.default)(p.default.mark(function e(){return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.deleted){e.next=2;break}throw new Error("RxDocument.remove(): Document is already deleted");case 2:return e.next=4,this.collection._runHooks("pre","remove",this);case 4:return e.next=6,this.collection.pouch.remove(this.getPrimary(),this._data._rev);case 6:return this.$emit(P.create("REMOVE",this.collection.database,this.collection,this,null)),e.next=9,this.collection._runHooks("post","remove",this);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"destroy",value:function(){}},{key:"deleted$",get:function(){return this._deleted$.asObservable()}},{key:"deleted",get:function(){return this._deleted$.getValue()}},{key:"synced$",get:function(){return this._synced$.asObservable().distinctUntilChanged()}},{key:"synced",get:function(){return this._synced$.getValue()}},{key:"$",get:function(){return this._dataSync$.asObservable()}}]),e}(),I=void 0},{"./RxChangeEvent":8,"./util":19,"babel-runtime/helpers/asyncToGenerator":27,"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29,"babel-runtime/helpers/toConsumableArray":30,"babel-runtime/helpers/typeof":31,"babel-runtime/regenerator":32,clone:36,"deep-equal":427,"object-path":443}],12:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments[1];if("object"!==("undefined"==typeof e?"undefined":(0,l.default)(e)))throw new TypeError("query must be an object");if(Array.isArray(e))throw new TypeError("query cannot be an array");return new x(e,t)}Object.defineProperty(r,"__esModule",{value:!0});var s=e("babel-runtime/regenerator"),u=o(s),a=e("babel-runtime/helpers/asyncToGenerator"),c=o(a),f=e("babel-runtime/helpers/typeof"),l=o(f),d=e("babel-runtime/helpers/classCallCheck"),p=o(d),h=e("babel-runtime/helpers/createClass"),b=o(h);r.create=i;var v=e("./mquery/mquery"),y=o(v),_=e("./util"),m=n(_),g=e("./RxDocument"),w=(n(g),{_id:{}}),x=function(){function e(t,r){var n=this;(0,p.default)(this,e),this.collection=r,this.defaultQuery=!1,t&&(0!==Object.keys(t).length||Array.isArray(t))||(t=w,this.defaultQuery=!0),
this.mquery=(0,y.default)(t);var o=Object.getPrototypeOf(this.mquery);Object.keys(o).forEach(function(e){["select","remove","update"].includes(e)||(n[e]=function(t){return n.mquery[e](t),n})}),this.sort=function(e){return"object"!==("undefined"==typeof e?"undefined":(0,l.default)(e))?n.mquery.where(e).gt(null):Object.keys(e).forEach(function(e){if(!n.mquery._conditions[e]||!n.mquery._conditions[e].$gt){var t=n.collection.schema.getSchemaByObjectPath(e);"integer"==t.type?n.mquery.where(e).gt(-(1/0)):n.mquery.where(e).gt(null)}}),n.mquery.sort(e),n},this.regex=function(e){if(n.mquery._path==n.collection.schema.primaryPath)throw new Error("You cannot use .regex() on the primary field '"+n.mquery._path+"'");return n.mquery.regex(e),n}}return(0,b.default)(e,[{key:"toJSON",value:function(){var e=this,t={selector:this.mquery._conditions},r=this.mquery._optionsForExec();if(r.sort){var n=[];Object.keys(r.sort).map(function(t){var o=r.sort[t],i="asc";o==-1&&(i="desc");var s={};t==e.collection.schema.primaryPath&&(t="_id"),s[t]=i,n.push(s)}),t.sort=n}if(r.limit){if("number"!=typeof r.limit)throw new TypeError("limit() must get a number");t.limit=r.limit}if(r.skip){if("number"!=typeof r.skip)throw new TypeError("skip() must get a number");t.skip=r.skip}if(t.selector.language||(t.selector.language={}),t.selector.language.$ne="query",this.collection.schema.primaryPath&&t.selector[this.collection.schema.primaryPath]){var o=this.collection.schema.primaryPath;t.selector._id=t.selector[o],delete t.selector[o]}return t}},{key:"keyCompress",value:function(){return this.collection._keyCompressor.compressQuery(this.toJSON())}},{key:"remove",value:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.exec();case 2:if(t=e.sent,!Array.isArray(t)){e.next=8;break}return e.next=6,Promise.all(t.map(function(e){return e.remove()}));case 6:e.next=10;break;case 8:return e.next=10,t.remove();case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"$",get:function(){var e=this;if(!this._subject){this._subject=new m.Rx.BehaviorSubject(null),this._obsRunning=!1;var t=this.collection.$.filter(function(e){return["INSERT","UPDATE","REMOVE"].includes(e.data.op)}).startWith(1).filter(function(t){return!e._obsRunning}).do(function(t){return e._obsRunning=!0}).mergeMap(function(){var t=(0,c.default)(u.default.mark(function t(r){var n;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collection._pouchFind(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).do(function(t){return e._obsRunning=!1}).distinctUntilChanged(function(e,t){return m.fastUnsecureHash(e)==m.fastUnsecureHash(t)}).map(function(t){return e.collection._createDocuments(t)}).do(function(t){return e._subject.next(t)}).map(function(e){return""});this._observable$=m.Rx.Observable.merge(this._subject,t).filter(function(e){return"string"!=typeof e||""!=e})}return this._observable$}}]),e}()},{"./RxDocument":11,"./mquery/mquery":17,"./util":19,"babel-runtime/helpers/asyncToGenerator":27,"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29,"babel-runtime/helpers/typeof":31,"babel-runtime/regenerator":32}],13:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,n){if("object"===("undefined"==typeof e?"undefined":(0,b.default)(e))){if(e.encrypted)return void(r[n.substring(1)]=e);for(var o in e){var i=n;"properties"!=o&&(i=i+"."+o),t(e[o],i)}}}var r={};return t(e,""),r}function s(e){var t=i(e);return Object.keys(t).length>0}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=[];if(Object.entries(e).forEach(function(e){var n=e[0],o=e[1],i="properties"==n?t:O.trimDots(t+"."+n);if(o.index&&r.push([i]),"object"===("undefined"==typeof o?"undefined":(0,b.default)(o))&&!Array.isArray(o)){var s=u(o,i);r=r.concat(s)}}),""==t){var n=e.compoundIndexes||[];r=r.concat(n)}return r=r.filter(function(e,t,r){return r.indexOf(e)==t})}function a(e){var t=Object.keys(e.properties).filter(function(t){return e.properties[t].primary}).shift();return t?t:"_id"}function c(e){if(""!=e){if(["properties","language"].includes(e))throw new Error("fieldname is not allowed: "+e);var t="^[a-zA-Z][[a-zA-Z0-9_]*]?[a-zA-Z0-9]$",r=new RegExp(t);if(!e.match(r))throw new Error("\n        fieldnames must match the regex:\n        - regex: "+t+"\n        - fieldName: "+e+"\n        ")}}function f(e){function t(e,t,r){if("string"!=typeof e||"object"!=("undefined"==typeof t?"undefined":(0,b.default)(t))||Array.isArray(t)||c(e),t.hasOwnProperty("item")&&"array"!=t.type)throw new Error("name 'item' reserved for array-fields: "+e);if(t.hasOwnProperty("ref")&&"string"!=t.type)throw new Error("fieldname "+e+" has a ref but is not type:string");if(t.hasOwnProperty("ref")&&t.primary)throw new Error("fieldname "+e+" cannot be primary and ref at same time");var n=r.split(".").length>=2;if(n&&t.primary)throw new Error("primary can only be defined at top-level");if(!n&&"_"==e.charAt(0))throw new Error("first level-fields cannot start with underscore _ "+e)}function r(e,n){if("object"===("undefined"==typeof e?"undefined":(0,b.default)(e)))for(var o in e){e.properties||t(o,e[o],n);var i=n;"properties"!=o&&(i=i+"."+o),r(e[o],i)}}return r(e,""),!0}function l(e){if(e.properties._id)throw new Error("schema defines ._id, this will be done automatically");if(e.properties._rev)throw new Error("schema defines ._rev, this will be done automatically");if(!e.hasOwnProperty("version")||"number"!=typeof e.version||e.version<0)throw new Error("schema need an number>=0 as version; given: "+e.version);f(e);var t=void 0;if(Object.keys(e.properties).forEach(function(r){var n=e.properties[r];if(n.primary){if(t)throw new Error("primary can only be defined once");if(t=r,n.index)throw new Error("primary is always index, do not declare it as index");if(n.unique)throw new Error("primary is always unique, do not declare it as unique");if(n.encrypted)throw new Error("primary cannot be encrypted");if("string"!==n.type)throw new Error("primary must have type: string")}if(E.properties().includes(r))throw new Error("top-level fieldname is not allowed: "+r)}),t&&e&&e.required&&e.required.includes(t))throw new Error("primary is always required, do not declare it as required");if(e.compoundIndexes){if(!Array.isArray(e.compoundIndexes))throw new Error("compoundIndexes must be an array");e.compoundIndexes.forEach(function(e){if(!Array.isArray(e))throw new Error("compoundIndexes must contain arrays");e.forEach(function(e){if("string"!=typeof e)throw new Error("compoundIndexes.array must contains strings")})})}u(e).reduce(function(e,t){return e.concat(t)},[]).filter(function(e,t,r){return r.indexOf(e)==t}).map(function(t){var r=w.default.get(e,"properties."+t.replace(".",".properties."));if(!r||"object"!==("undefined"==typeof r?"undefined":(0,b.default)(r)))throw new Error("given index("+t+") is not defined in schema");return{key:t,schemaObj:r}}).filter(function(e){return"string"!=e.schemaObj.type&&"integer"!=e.schemaObj.type}).forEach(function(e){throw new Error("given indexKey ("+e.key+") is not type:string but\n                "+e.schemaObj.type)})}function d(e){return O.sortObject((0,j.default)(e))}function p(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t&&l(e),new P(C(e))}Object.defineProperty(r,"__esModule",{value:!0});var h=e("babel-runtime/helpers/typeof"),b=o(h),v=e("babel-runtime/helpers/classCallCheck"),y=o(v),_=e("babel-runtime/helpers/createClass"),m=o(_);r.getEncryptedPaths=i,r.hasCrypt=s,r.getIndexes=u,r.getPrimary=a,r.checkFieldNameRegex=c,r.validateFieldsDeep=f,r.checkSchema=l,r.normalize=d,r.create=p;var g=e("object-path"),w=o(g),x=e("clone"),j=o(x),k=e("./util"),O=n(k),S=e("./RxDocument"),E=n(S),A=e("is-my-json-valid"),P=function(){function e(t){var r=this;(0,y.default)(this,e),this.jsonID=t,this.compoundIndexes=this.jsonID.compoundIndexes,this.indexes=u(this.jsonID),this.indexes.forEach(function(e){e.filter(function(e){return!r.jsonID.required.includes(e)}).filter(function(e){return!e.includes(".")}).forEach(function(e){return r.jsonID.required.push(e)})}),this.primaryPath=a(this.jsonID),this.primaryPath&&this.jsonID.required.push(this.primaryPath),this.jsonID.properties[this.primaryPath]||(this.jsonID.properties[this.primaryPath]={type:"string",minLength:1})}return(0,m.default)(e,[{key:"getSchemaByObjectPath",value:function(e){e=e.replace(/\./g,".properties."),e="properties."+e,e=O.trimDots(e);var t=w.default.get(this.jsonID,e);return t}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this._validators||(this._validators={}),!this._validators[t]){var r=""==t?this.jsonID:this.getSchemaByObjectPath(t);if(!r)throw new Error(JSON.stringify({name:"sub-schema not found",error:"does the field "+t+" exist in your schema?"}));this._validators[t]=A(r)}var n=this._validators[t],o=n(e);if(o)return e;throw new Error(JSON.stringify({name:"object does not match schema",errors:n.errors,schemaPath:t,obj:e,schema:this.jsonID}))}},{key:"swapIdToPrimary",value:function(e){return"_id"==this.primaryPath||e[this.primaryPath]?e:(e[this.primaryPath]=e._id,delete e._id,e)}},{key:"swapPrimaryToId",value:function(e){return"_id"==this.primaryPath?e:(e._id=e[this.primaryPath],delete e[this.primaryPath],e)}},{key:"doKeyCompression",value:function(){return!this.jsonID.disableKeyCompression}},{key:"version",get:function(){return this.jsonID.version}},{key:"previousVersions",get:function(){var e=0;return new Array(this.version).fill(0).map(function(){return e++})}},{key:"crypt",get:function(){return this._crypt||(this._crypt=s(this.jsonID)),this._crypt}},{key:"normalized",get:function(){return this._normalized||(this._normalized=d(this.jsonID)),this._normalized}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"encryptedPaths",get:function(){return this._encryptedPaths||(this._encryptedPaths=i(this.jsonID)),this._encryptedPaths}},{key:"hash",get:function(){return this._hash||(this._hash=O.hash(this.normalized)),this._hash}}]),e}(),C=function(e){return e=(0,j.default)(e),e.additionalProperties=!1,e.hasOwnProperty("disableKeyCompression")||(e.disableKeyCompression=!1),e.compoundIndexes=e.compoundIndexes||[],e.required=e.required||[],e.properties._rev={type:"string",minLength:1},e.version=e.version||0,e}},{"./RxDocument":11,"./util":19,"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29,"babel-runtime/helpers/typeof":31,clone:36,"is-my-json-valid":438,"object-path":443}],14:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.PULL_TIME=r.EVENT_TTL=r.create=void 0;var i=e("babel-runtime/regenerator"),s=o(i),u=e("babel-runtime/helpers/asyncToGenerator"),a=o(u),c=e("babel-runtime/helpers/classCallCheck"),f=o(c),l=e("babel-runtime/helpers/createClass"),d=o(l),p=(r.create=function(){var e=(0,a.default)(s.default.mark(function e(t){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new x(t),e.next=3,r.prepare();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),e("./RxCollection")),h=(n(p),e("./RxChangeEvent")),b=n(h),v=e("./RxBroadcastChannel"),y=n(v),_=e("./util"),m=n(_),g=5e3,w=y.canIUse()?g/2:200,x=function(){function e(t){(0,f.default)(this,e),this.database=t,this.token=t.token,this.subs=[],this.pullCount=0,this.pull_running=!1,this.lastPull=(new Date).getTime(),this.recievedEvents={},this.bc=y.create(this.database,"socket"),this.messages$=new m.Rx.Subject}return(0,d.default)(e,[{key:"prepare",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){var t,r=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pouch=this.database._spawnPouchDB("_socket",0,{auto_compaction:!1,revs_limit:1}),this.bc&&this.subs.push(this.bc.$.filter(function(e){return"pull"==e.type}).subscribe(function(e){return r.pull()})),t=m.Rx.Observable.interval(w).filter(function(e){return r.messages$.observers.length>0}).subscribe(function(e){return r.pull()}),this.subs.push(t),e.abrupt("return");case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"write",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(t){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.toJSON(),delete r.db,r._id=""+m.fastUnsecureHash(r)+r.t,e.next=5,this.pouch.put(r);case 5:if(e.t0=this.bc,!e.t0){e.next=9;break}return e.next=9,this.bc.write("pull");case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDocs",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pouch.allDocs({include_docs:!0});case 2:return t=e.sent,e.abrupt("return",t.rows.map(function(e){return e.doc}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"deleteDoc",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.pouch.remove(t);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,this,[[0,5]])}));return e}()},{key:"pull",value:function(){function e(){return t.apply(this,arguments)}var t=(0,a.default)(s.default.mark(function e(){var t,r,n,o,i=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPulling){e.next=3;break}return this._repullAfter=!0,e.abrupt("return",!1);case 3:return this.isPulling=!0,this.pullCount++,t=this.lastPull-100,e.next=8,this.fetchDocs();case 8:if(r=e.sent,r.filter(function(e){return e.it!=i.token}).filter(function(e){return e.t>t}).sort(function(e,t){return e.t>t.t?1:-1}).map(function(e){return b.fromJSON(e)}).filter(function(e){return!i.recievedEvents[e.hash]&&(i.recievedEvents[e.hash]=(new Date).getTime())}).filter(function(e){return setTimeout(function(){return delete i.recievedEvents[e.hash]},3*g)}).forEach(function(e){return i.messages$.next(e)}),n=(new Date).getTime()-g,o=r.filter(function(e){return e.t<n}).map(function(e){return i.deleteDoc(e)}),!(o.length>0)){e.next=15;break}return e.next=15,this.pouch.compact();case 15:return this.lastPull=(new Date).getTime(),this.isPulling=!1,this._repull&&(this._repull=!1,this.pull()),e.abrupt("return",!0);case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"destroy",value:function(){this.subs.map(function(e){return e.unsubscribe()}),this.bc&&this.bc.destroy()}},{key:"$",get:function(){return this.messages$.asObservable()}}]),e}();r.EVENT_TTL=g,r.PULL_TIME=w},{"./RxBroadcastChannel":7,"./RxChangeEvent":8,"./RxCollection":9,"./util":19,"babel-runtime/helpers/asyncToGenerator":27,"babel-runtime/helpers/classCallCheck":28,"babel-runtime/helpers/createClass":29,"babel-runtime/regenerator":32}],15:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}e("babel-polyfill");var o=e("./index.js"),i=n(o);i.plugin(e("pouchdb-adapter-idb")),i.plugin(e("pouchdb-adapter-http")),i.plugin(e("pouchdb-replication")),window.RxDB=i},{"./index.js":16,"babel-polyfill":21,"pouchdb-adapter-http":444,"pouchdb-adapter-idb":447,"pouchdb-replication":488}],16:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e){"object"===("undefined"==typeof e?"undefined":(0,u.default)(e))&&e.default&&(e=e.default),y.default.plugin(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.PouchDB=r.RxSchema=r.create=void 0;var s=e("babel-runtime/helpers/typeof"),u=o(s),a=e("babel-runtime/regenerator"),c=o(a),f=e("babel-runtime/helpers/asyncToGenerator"),l=o(f);r.create=function(){var e=(0,l.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.create(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();r.plugin=i;var d=e("./RxDatabase"),p=n(d),h=e("./RxSchema"),b=n(h),v=e("./PouchDB"),y=o(v);r.RxSchema=b,r.PouchDB=y.default},{"./PouchDB":6,"./RxDatabase":10,"./RxSchema":13,"babel-runtime/helpers/asyncToGenerator":27,"babel-runtime/helpers/typeof":31,"babel-runtime/regenerator":32}],17:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(this instanceof o))return new o(e,t);var r=this.constructor.prototype;this.op=r.op||void 0,this.options={},this.setOptions(r.options),this._conditions=r._conditions?f.clone(r._conditions,{retainKeyOrder:this.options.retainKeyOrder}):{},this._fields=r._fields?f.clone(r._fields,{retainKeyOrder:this.options.retainKeyOrder}):void 0,this._update=r._update?f.clone(r._update,{retainKeyOrder:this.options.retainKeyOrder}):void 0,this._path=r._path||void 0,this._distinct=r._distinct||void 0,this._traceFunction=r._traceFunction||void 0,t&&this.setOptions(t),e&&(e.find&&e.remove&&e.update?this.collection(e):this.find(e))}function i(e,t,r){if(Array.isArray(e.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");if(r&&r.$meta){var n=e.sort||(e.sort={});return void(n[t]={$meta:r.$meta})}var o=String(r||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(o))throw f.isArray(r)&&(r="["+r+"]"),new TypeError("Invalid sort value: {"+t+": "+r+" }");var n=e.sort||(e.sort={}),i=r.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");n[t]=parseInt(i,10)}function s(e,t,r){if(e.sort=e.sort||[],!Array.isArray(e.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");r.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");e.sort.push([t,r])}Object.defineProperty(r,"__esModule",{value:!0});var u=e("babel-runtime/helpers/typeof"),a=n(u),c=e("sliced"),f=e("./mquery_utils"),l="$geoWithin";Object.defineProperty(o,"use$geoWithin",{get:function(){return"$geoWithin"==l},set:function(e){l=!0===e?"$geoWithin":"$within"}}),o.prototype.toConstructor=function(){function e(t,r){return this instanceof e?void o.call(this,t,r):new e(t,r)}f.inherits(e,o);var t=e.prototype;return t.options={},t.setOptions(this.options),t.op=this.op,t._conditions=f.clone(this._conditions,{retainKeyOrder:this.options.retainKeyOrder}),t._fields=f.clone(this._fields,{retainKeyOrder:this.options.retainKeyOrder}),t._update=f.clone(this._update,{retainKeyOrder:this.options.retainKeyOrder}),t._path=this._path,t._distinct=this._distinct,t._traceFunction=this._traceFunction,e},o.prototype.setOptions=function(e){if(!e||!f.isObject(e))return this;for(var t,r=f.keys(e),n=0;n<r.length;++n)if(t=r[n],"function"==typeof this[t]){var o=f.isArray(e[t])?e[t]:[e[t]];this[t].apply(this,o)}else this.options[t]=e[t];return this},o.prototype.$where=function(e){return this._conditions.$where=e,this},o.prototype.where=function(){if(!arguments.length)return this;this.op||(this.op="find");var e=(0,a.default)(arguments[0]);if("string"==e)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"==e&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError("path must be a string or object")},o.prototype.equals=function(e){this._ensurePath("equals");var t=this._path;return this._conditions[t]=e,this},o.prototype.eq=function(e){this._ensurePath("eq");var t=this._path;return this._conditions[t]=e,this},o.prototype.or=function e(t){var e=this._conditions.$or||(this._conditions.$or=[]);return f.isArray(t)||(t=[t]),e.push.apply(e,t),this},o.prototype.nor=function e(t){var e=this._conditions.$nor||(this._conditions.$nor=[]);return f.isArray(t)||(t=[t]),e.push.apply(e,t),this},o.prototype.and=function e(t){var e=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},"gt gte lt lte ne in nin all regex size maxDistance minDistance".split(" ").forEach(function(e){o.prototype[e]=function(){var t,r;1===arguments.length?(this._ensurePath(e),r=arguments[0],t=this._path):(r=arguments[1],t=arguments[0]);var n=null===this._conditions[t]||"object"===(0,a.default)(this._conditions[t])?this._conditions[t]:this._conditions[t]={};return n["$"+e]=r,this}}),o.prototype.mod=function(){var e,t;1===arguments.length?(this._ensurePath("mod"),e=arguments[0],t=this._path):2!==arguments.length||f.isArray(arguments[1])?3===arguments.length?(e=c(arguments,1),t=arguments[0]):(e=arguments[1],t=arguments[0]):(this._ensurePath("mod"),e=c(arguments),t=this._path);var r=this._conditions[t]||(this._conditions[t]={});return r.$mod=e,this},o.prototype.exists=function(){var e,t;0===arguments.length?(this._ensurePath("exists"),e=this._path,t=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),e=this._path,t=arguments[0]):(e=arguments[0],t=!0):2===arguments.length&&(e=arguments[0],t=arguments[1]);var r=this._conditions[e]||(this._conditions[e]={});return r.$exists=t,this},o.prototype.elemMatch=function(){if(null==arguments[0])throw new TypeError("Invalid argument");var e,t,r;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),t=this._path,e=arguments[0];else if(f.isObject(arguments[0]))this._ensurePath("elemMatch"),t=this._path,r=arguments[0];else if("function"==typeof arguments[1])t=arguments[0],e=arguments[1];else{if(!arguments[1]||!f.isObject(arguments[1]))throw new TypeError("Invalid argument");t=arguments[0],r=arguments[1]}e&&(r=new o,e(r),r=r._conditions);var n=this._conditions[t]||(this._conditions[t]={});return n.$elemMatch=r,this},o.prototype.within=function(){if(this._ensurePath("within"),this._geoComparison=l,0===arguments.length)return this;if(2===arguments.length)return this.box.apply(this,arguments);if(2<arguments.length)return this.polygon.apply(this,arguments);var e=arguments[0];if(!e)throw new TypeError("Invalid argument");if(e.center)return this.circle(e);if(e.box)return this.box.apply(this,e.box);if(e.polygon)return this.polygon.apply(this,e.polygon);if(e.type&&e.coordinates)return this.geometry(e);throw new TypeError("Invalid argument")},o.prototype.box=function(){var e,t;if(3===arguments.length)e=arguments[0],t=[arguments[1],arguments[2]];else{if(2!==arguments.length)throw new TypeError("Invalid argument");this._ensurePath("box"),e=this._path,t=[arguments[0],arguments[1]]}var r=this._conditions[e]||(this._conditions[e]={});return r[this._geoComparison||l]={$box:t},this},o.prototype.polygon=function(){var e,t;"string"==typeof arguments[0]?(t=arguments[0],e=c(arguments,1)):(this._ensurePath("polygon"),t=this._path,e=c(arguments));var r=this._conditions[t]||(this._conditions[t]={});return r[this._geoComparison||l]={$polygon:e},this},o.prototype.circle=function(){var e,t;if(1===arguments.length)this._ensurePath("circle"),e=this._path,t=arguments[0];else{if(2!==arguments.length)throw new TypeError("Invalid argument");e=arguments[0],t=arguments[1]}if(!("radius"in t&&t.center))throw new Error("center and radius are required");var r=this._conditions[e]||(this._conditions[e]={}),n=t.spherical?"$centerSphere":"$center",o=this._geoComparison||l;return r[o]={},r[o][n]=[t.center,t.radius],"unique"in t&&(r[o].$uniqueDocs=!!t.unique),this},o.prototype.near=function(){var e,t;if(this._geoComparison="$near",0===arguments.length)return this;if(1===arguments.length)this._ensurePath("near"),e=this._path,t=arguments[0];else{if(2!==arguments.length)throw new TypeError("Invalid argument");e=arguments[0],t=arguments[1]}if(!t.center)throw new Error("center is required");var r=this._conditions[e]||(this._conditions[e]={}),n=t.spherical?"$nearSphere":"$near";if(Array.isArray(t.center)){r[n]=t.center;var o="maxDistance"in t?t.maxDistance:null;null!=o&&(r.$maxDistance=o),null!=t.minDistance&&(r.$minDistance=t.minDistance)}else{if("Point"!=t.center.type||!Array.isArray(t.center.coordinates))throw new Error("Invalid GeoJSON specified for "+n);r[n]={$geometry:t.center},"maxDistance"in t&&(r[n].$maxDistance=t.maxDistance),"minDistance"in t&&(r[n].$minDistance=t.minDistance)}return this},o.prototype.intersects=function(){if(this._ensurePath("intersects"),this._geoComparison="$geoIntersects",0===arguments.length)return this;var e=arguments[0];if(null!=e&&e.type&&e.coordinates)return this.geometry(e);throw new TypeError("Invalid argument")},o.prototype.geometry=function(){if("$within"!=this._geoComparison&&"$geoWithin"!=this._geoComparison&&"$near"!=this._geoComparison&&"$geoIntersects"!=this._geoComparison)throw new Error("geometry() must come after `within()`, `intersects()`, or `near()");var e,t;if(1!==arguments.length)throw new TypeError("Invalid argument");if(this._ensurePath("geometry"),t=this._path,e=arguments[0],!e.type||!Array.isArray(e.coordinates))throw new TypeError("Invalid argument");var r=this._conditions[t]||(this._conditions[t]={});return r[this._geoComparison]={$geometry:e},this},o.prototype.select=function(){var e=arguments[0];if(!e)return this;if(1!==arguments.length)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");var t=this._fields||(this._fields={}),r="undefined"==typeof e?"undefined":(0,a.default)(e);if(("string"==r||f.isArgumentsObject(e))&&"number"==typeof e.length){"string"==r&&(e=e.split(/\s+/));for(var n=0,o=e.length;n<o;++n){var i=e[n];if(i){var s="-"==i[0]?0:1;0===s&&(i=i.substring(1)),t[i]=s}}return this}if(f.isObject(e)&&!Array.isArray(e)){for(var u=f.keys(e),n=0;n<u.length;++n)t[u[n]]=e[u[n]];return this}throw new TypeError("Invalid select() argument. Must be string or object.")},o.prototype.slice=function(){if(0===arguments.length)return this;this._validate("slice");var e,t;if(1===arguments.length){var r=arguments[0];if("object"===("undefined"==typeof r?"undefined":(0,a.default)(r))&&!Array.isArray(r)){for(var n=Object.keys(r),o=n.length,i=0;i<o;++i)this.slice(n[i],r[n[i]]);return this}this._ensurePath("slice"),e=this._path,t=arguments[0]}else 2===arguments.length?"number"==typeof arguments[0]?(this._ensurePath("slice"),e=this._path,t=c(arguments)):(e=arguments[0],t=arguments[1]):3===arguments.length&&(e=arguments[0],t=c(arguments,1));var s=this._fields||(this._fields={});return s[e]={$slice:t},this},o.prototype.sort=function(e){if(!e)return this;var t;this._validate("sort");var r="undefined"==typeof e?"undefined":(0,a.default)(e);if(Array.isArray(e)){t=e.length;for(var n=0;n<e.length;++n)s(this.options,e[n][0],e[n][1]);return this}if(1===arguments.length&&"string"==r){e=e.split(/\s+/),t=e.length;for(var n=0;n<t;++n){var o=e[n];if(o){var u="-"==o[0]?-1:1;u===-1&&(o=o.substring(1)),i(this.options,o,u)}}return this}if(f.isObject(e)){for(var c=f.keys(e),n=0;n<c.length;++n){var o=c[n];i(this.options,o,e[o])}return this}throw new TypeError("Invalid sort() argument. Must be a string, object, or array.")},["limit","skip","maxScan","batchSize","comment"].forEach(function(e){o.prototype[e]=function(t){return this._validate(e),this.options[e]=t,this}}),o.prototype.maxTime=function(e){return this._validate("maxTime"),this.options.maxTimeMS=e,this},o.prototype.snapshot=function(){return this._validate("snapshot"),this.options.snapshot=!arguments.length||!!arguments[0],this},o.prototype.hint=function(){if(0===arguments.length)return this;this._validate("hint");var e=arguments[0];if(f.isObject(e)){var t=this.options.hint||(this.options.hint={});for(var r in e)t[r]=e[r];return this}throw new TypeError("Invalid hint. "+e)},o.prototype.slaveOk=function(e){return this.options.slaveOk=!arguments.length||!!e,this},o.prototype.read=function(e){return arguments.length>1&&!o.prototype.read.deprecationWarningIssued&&(console.error("Deprecation warning: 'tags' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead."),o.prototype.read.deprecationWarningIssued=!0),this.options.readPreference=f.readPref(e),this},o.prototype.tailable=function(){return this._validate("tailable"),this.options.tailable=!arguments.length||!!arguments[0],this},o.prototype.merge=function(e){if(!e)return this;if(!o.canMerge(e))throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");return e instanceof o?(e._conditions&&f.merge(this._conditions,e._conditions),e._fields&&(this._fields||(this._fields={}),f.merge(this._fields,e._fields)),e.options&&(this.options||(this.options={}),f.merge(this.options,e.options)),e._update&&(this._update||(this._update={}),f.mergeClone(this._update,e._update)),e._distinct&&(this._distinct=e._distinct),this):(f.merge(this._conditions,e),this)},o.prototype.find=function(e,t){if(this.op="find","function"==typeof e?(t=e,e=void 0):o.canMerge(e)&&this.merge(e),!t)return this;var r=this._conditions,n=this._optionsForExec();return n.fields=this._fieldsForExec(),t=this._wrapCallback("find",t,{conditions:r,options:n}),this},o.prototype.distinct=function(e,t,r){if(this.op="distinct",this._validate(),!r){switch("undefined"==typeof t?"undefined":(0,a.default)(t)){case"function":r=t,"string"==typeof e&&(t=e,e=void 0);break;case"undefined":case"string":break;default:throw new TypeError("Invalid `field` argument. Must be string or function")}switch("undefined"==typeof e?"undefined":(0,a.default)(e)){case"function":r=e,e=t=void 0;break;case"string":t=e,e=void 0}}if("string"==typeof t&&(this._distinct=t),o.canMerge(e)&&this.merge(e),!r)return this;if(!this._distinct)throw new Error("No value for `distinct` has been declared");var n=this._conditions,i=this._optionsForExec();return r=this._wrapCallback("distinct",r,{conditions:n,options:i}),this._collection.distinct(this._distinct,n,i,f.tick(r)),this},o.prototype.update=function(e,t,r,n){this.op="update";var i;switch(arguments.length){case 3:"function"==typeof r&&(n=r,r=void 0);break;case 2:"function"==typeof t&&(n=t,t=e,e=void 0);break;case 1:switch("undefined"==typeof e?"undefined":(0,a.default)(e)){case"function":n=e,e=r=t=void 0;break;case"boolean":i=e,e=void 0;break;default:t=e,e=r=void 0}}if(o.canMerge(e)&&this.merge(e),t&&this._mergeUpdate(t),f.isObject(r)&&this.setOptions(r),!i&&!n)return this;if(!this._update||!this.options.overwrite&&0===f.keys(this._update).length)return n&&f.soon(n.bind(null,null,0)),this;r=this._optionsForExec(),n||(r.safe=!1);var e=this._conditions;return t=this._updateForExec(),n=this._wrapCallback("update",n,{conditions:e,doc:t,options:r}),this._collection.update(e,t,r,f.tick(n)),this},o.prototype.remove=function(e,t){this.op="remove";var r;if("function"==typeof e?(t=e,e=void 0):o.canMerge(e)?this.merge(e):!0===e&&(r=e,e=void 0),!r&&!t)return this;var n=this._optionsForExec();t||(n.safe=!1);var i=this._conditions;return t=this._wrapCallback("remove",t,{conditions:i,options:n}),this._collection.remove(i,n,f.tick(t)),
this},o.prototype._wrapCallback=function(e,t,r){var n=this._traceFunction||o.traceFunction;if(n){r.collectionName=this._collection.collectionName;var i=n&&n.call(null,e,r,this),s=(new Date).getTime();return function(e,r){if(i){var n=(new Date).getTime()-s;i.call(null,e,r,n)}t&&t.apply(null,arguments)}}return t},o.prototype.selected=function(){return!!(this._fields&&Object.keys(this._fields).length>0)},o.prototype.selectedInclusively=function(){if(!this._fields)return!1;var e=Object.keys(this._fields);if(0===e.length)return!1;for(var t=0;t<e.length;++t){var r=e[t];if(0===this._fields[r])return!1;if(this._fields[r]&&"object"===(0,a.default)(this._fields[r])&&this._fields[r].$meta)return!1}return!0},o.prototype.selectedExclusively=function(){if(!this._fields)return!1;var e=Object.keys(this._fields);if(0===e.length)return!1;for(var t=0;t<e.length;++t){var r=e[t];if(0===this._fields[r])return!0}return!1},o.prototype._mergeUpdate=function(e){this._update||(this._update={}),e instanceof o?e._update&&f.mergeClone(this._update,e._update):f.mergeClone(this._update,e)},o.prototype._optionsForExec=function(){var e=f.clone(this.options,{retainKeyOrder:!0});return e},o.prototype._fieldsForExec=function(){return f.clone(this._fields,{retainKeyOrder:!0})},o.prototype._updateForExec=function(){for(var e=f.clone(this._update,{retainKeyOrder:!0}),t=f.keys(e),r=t.length,n={};r--;){var o=t[r];this.options.overwrite?n[o]=e[o]:"$"!==o[0]?(n.$set||(e.$set?n.$set=e.$set:n.$set={}),n.$set[o]=e[o],t.splice(r,1),~t.indexOf("$set")||t.push("$set")):"$set"===o?n.$set||(n[o]=e[o]):n[o]=e[o]}return this._compiledUpdate=n,n},o.prototype._ensurePath=function(e){if(!this._path){var t=e+"() must be used after where() when called with these arguments";throw new Error(t)}},o._isPermitted=function(e,t){return!1},o.prototype._validate=function(e){},o.canMerge=function(e){return e instanceof o||f.isObject(e)},o.setGlobalTraceFunction=function(e){o.traceFunction=e},o.utils=f,r.default=o},{"./mquery_utils":18,"babel-runtime/helpers/typeof":31,sliced:588}],18:[function(e,t,r){(function(t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=e("babel-runtime/helpers/typeof"),s=o(i),u=e("regexp-clone"),a=r.clone=function e(t,n){if(void 0===t||null===t)return t;if(Array.isArray(t))return r.cloneArray(t,n);if(t.constructor){if(/ObjectI[dD]$/.test(t.constructor.name))return"function"==typeof t.clone?t.clone():new t.constructor(t.id);if("ReadPreference"===t._type&&t.isValid&&t.toObject)return"function"==typeof t.clone?t.clone():new t.constructor(t.mode,e(t.tags,n));if("Binary"==t._bsontype&&t.buffer&&t.value)return"function"==typeof t.clone?t.clone():new t.constructor(t.value(!0),t.sub_type);if("Date"===t.constructor.name||"Function"===t.constructor.name)return new t.constructor(+t);if("RegExp"===t.constructor.name)return u(t);if("Buffer"===t.constructor.name)return r.cloneBuffer(t)}return f(t)?r.cloneObject(t,n):t.valueOf?t.valueOf():void 0};r.cloneObject=function(e,t){var r,n,o,i,s,u=t&&t.retainKeyOrder,c=t&&t.minimize,f={};if(u)for(i in e)o=a(e[i],t),c&&"undefined"==typeof o||(r||(r=!0),f[i]=o);else for(n=Object.keys(e),s=n.length;s--;)i=n[s],o=a(e[i],t),c&&"undefined"==typeof o||(r||(r=!0),f[i]=o);return c?r&&f:f},r.cloneArray=function(e,t){for(var r=[],n=0,o=e.length;n<o;n++)r.push(a(e[n],t));return r},r.tick=function(e){if("function"==typeof e)return function(){var t=arguments;l(function(){e.apply(this,t)})}},r.merge=function e(t,n){for(var o,i=Object.keys(n),s=i.length;s--;)o=i[s],"undefined"==typeof t[o]?t[o]=n[o]:r.isObject(n[o])?e(t[o],n[o]):t[o]=n[o]},r.mergeClone=function e(t,n){for(var o,i=Object.keys(n),s=i.length;s--;)o=i[s],"undefined"==typeof t[o]?t[o]=a(n[o],{retainKeyOrder:1}):r.isObject(n[o])?e(t[o],n[o]):t[o]=a(n[o],{retainKeyOrder:1})};r.readPref=function(e){switch(e){case"p":e="primary";break;case"pp":e="primaryPreferred";break;case"s":e="secondary";break;case"sp":e="secondaryPreferred";break;case"n":e="nearest"}return e};var c=Object.prototype.toString,f=(r.toString=function(e){return c.call(e)},r.isObject=function(e){return"[object Object]"==r.toString(e)});r.isArray=function(e){return Array.isArray(e)||"object"==("undefined"==typeof e?"undefined":(0,s.default)(e))&&"[object Array]"==r.toString(e)};r.keys=Object.keys||function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t},r.create=Object.create,r.inherits=function(e,t){e.prototype=r.create(t.prototype),e.prototype.constructor=e};var l=r.soon="function"==typeof setImmediate?setImmediate:t.nextTick;r.cloneBuffer=function(e){var t=new n(e.length);return e.copy(t,0,0,e.length),t},r.isArgumentsObject=function(e){return"[object Arguments]"===Object.prototype.toString.call(e)}}).call(this,e("_process"),e("buffer").Buffer)},{_process:495,"babel-runtime/helpers/typeof":31,buffer:35,"regexp-clone":499}],19:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r=T.encrypt(e,t);return r.toString()}function s(e,t){var r=T.decrypt(e,t);return r.toString(M)}function u(e){if(!e||"function"!=typeof e.super_||"function"!=typeof e.destroy)throw new Error("given leveldown is no valid adapter")}function a(e){"string"!=typeof e&&(e=JSON.stringify(e));var t=0,r=void 0,n=void 0,o=void 0;if(0===e.length)return t;for(r=0,o=e.length;r<o;r++)n=e.charCodeAt(r),t=(t<<5)-t+n,t|=0;return t<0&&(t*=-1),t}function c(e){var t=e;return"string"!=typeof e&&(t=JSON.stringify(e)),R.hash(t)}function f(){return(0,E.default)(10)+":"+(new Date).getTime()}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t={};return t.promise=new Promise(function(r){t.resolve=function(){return r()},setTimeout(r,e)}),t}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Array(e).fill(0)}function p(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)}function h(e){var t=[];do{var r=e%N;t.push(r),e=Math.floor(e/N)}while(e-- >0);return t.reverse().map(function(e){return B[e]}).join("")}function b(e){for(;"."==e.charAt(0);)e=e.substr(1);for(;"."==e.slice(-1);)e=e.slice(0,-1);return e}function v(e){if("string"!=typeof e||0==e.length)throw new TypeError("given name is no string or empty");if(e.includes("/"))return!0;var t="^[a-z][a-z0-9]*$",r=new RegExp(t);if(!e.match(r))throw new Error("\n            collection- and database-names must match the regex:\n            - regex: "+t+"\n            - given: "+e+"\n    ");return!0}function y(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",r="abcdefghijklmnopqrstuvwxyz",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function _(e){if(Array.isArray(e))return e.sort(function(e,t){return"string"==typeof e&&"string"==typeof t?e.localeCompare(t):"object"===("undefined"==typeof e?"undefined":(0,g.default)(e))?1:-1}).map(function(e){return _(e)});if("object"===("undefined"==typeof e?"undefined":(0,g.default)(e))){var t={};return Object.keys(e).sort(function(e,t){return e.localeCompare(t)}).forEach(function(r){t[r]=_(e[r])}),t}return e}Object.defineProperty(r,"__esModule",{value:!0}),r.waitUntil=r.promiseWait=r.assertThrowsAsync=r.Rx=void 0;var m=e("babel-runtime/helpers/typeof"),g=o(m),w=e("babel-runtime/regenerator"),x=o(w),j=e("babel-runtime/helpers/asyncToGenerator"),k=o(j),O=(r.assertThrowsAsync=function(){var e=(0,k.default)(x.default.mark(function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Error,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return x.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"==typeof n?n:n.name,e.prev=1,e.next=4,t();case 4:e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(1),e.t0.constructor.name==r){e.next=10;break}throw new Error("\n            util.assertThrowsAsync(): Wrong Error-type\n            - is    : "+e.t0.constructor.name+"\n            - should: "+r+"\n            - error: "+e.t0.toString()+"\n            ");case 10:if(""==o||e.t0.toString().includes(o)){e.next=12;break}throw new Error("\n              util.assertThrowsAsync(): Error does not contain\n              - should contain: "+o+"\n              - is string: "+e.t0.toString()+"\n            ");case 12:return e.abrupt("return","util.assertThrowsAsync(): everything is fine");case 13:throw new Error("util.assertThrowsAsync(): Missing rejection"+(n?" with "+n.name:""));case 14:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),r.promiseWait=function(){var e=(0,k.default)(x.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return x.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return setTimeout(e,t)}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}());r.waitUntil=function(){var e=(0,k.default)(x.default.mark(function e(t){var r;return x.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=!1;case 1:if(r){e.next=7;break}return e.next=4,O(10);case 4:r=t(),e.next=1;break;case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();r.encrypt=i,r.decrypt=s,r.isLevelDown=u,r.fastUnsecureHash=a,r.hash=c,r.generate_id=f,r.promiseWaitResolveable=l,r.filledArray=d,r.ucfirst=p,r.numberToLetter=h,r.trimDots=b,r.validateCouchDBString=v,r.randomCouchString=y,r.sortObject=_;var S=e("random-token"),E=o(S),A=e("rxjs/Observable"),P=e("rxjs/Subject"),C=e("rxjs/BehaviorSubject");e("rxjs/add/observable/merge"),e("rxjs/add/observable/interval"),e("rxjs/add/observable/from"),e("rxjs/add/observable/fromEvent"),e("rxjs/add/operator/publishReplay"),e("rxjs/add/operator/timeout"),e("rxjs/add/operator/delay"),e("rxjs/add/operator/do"),e("rxjs/add/operator/map"),e("rxjs/add/operator/mergeMap"),e("rxjs/add/operator/filter"),e("rxjs/add/operator/first"),e("rxjs/add/operator/startWith"),e("rxjs/add/operator/toPromise"),e("rxjs/add/operator/distinctUntilChanged"),e("rxjs/add/operator/distinct");var I=e("crypto-js/aes"),T=n(I),D=e("crypto-js/enc-utf8"),M=n(D),R=(r.Rx={Observable:A.Observable,Subject:P.Subject,BehaviorSubject:C.BehaviorSubject},e("spark-md5")),B="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789",N=B.length},{"babel-runtime/helpers/asyncToGenerator":27,"babel-runtime/helpers/typeof":31,"babel-runtime/regenerator":32,"crypto-js/aes":416,"crypto-js/enc-utf8":420,"random-token":496,"rxjs/BehaviorSubject":500,"rxjs/Observable":503,"rxjs/Subject":508,"rxjs/add/observable/from":512,"rxjs/add/observable/fromEvent":513,"rxjs/add/observable/interval":514,"rxjs/add/observable/merge":515,"rxjs/add/operator/delay":516,"rxjs/add/operator/distinct":517,"rxjs/add/operator/distinctUntilChanged":518,"rxjs/add/operator/do":519,"rxjs/add/operator/filter":520,"rxjs/add/operator/first":521,"rxjs/add/operator/map":522,"rxjs/add/operator/mergeMap":523,"rxjs/add/operator/publishReplay":524,"rxjs/add/operator/startWith":525,"rxjs/add/operator/timeout":526,"rxjs/add/operator/toPromise":527,"spark-md5":589}],20:[function(e,t,r){"use strict";function n(e){return function(){var t=arguments.length;if(t){for(var r=[],n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}return e.call(this,[])}}t.exports=n},{}],21:[function(e,t,r){(function(t){"use strict";function r(e,t,r){e[t]||Object[n](e,t,{writable:!0,configurable:!0,value:r})}if(e("core-js/shim"),e("regenerator-runtime/runtime"),e("core-js/fn/regexp/escape"),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var n="defineProperty";r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&r(Array,e,Function.call.bind([][e]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/fn/regexp/escape":37,"core-js/shim":415,"regenerator-runtime/runtime":498}],22:[function(e,t,r){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":38}],23:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":39}],24:[function(e,t,r){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":40}],25:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":41}],26:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":42}],27:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var o=e("../core-js/promise"),i=n(o);r.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,r){function n(o,s){try{var u=t[o](s),a=u.value}catch(e){return void r(e)}return u.done?void e(a):i.default.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}},{"../core-js/promise":24}],28:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],29:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var o=e("../core-js/object/define-property"),i=n(o);r.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"../core-js/object/define-property":23}],30:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var o=e("../core-js/array/from"),i=n(o);r.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,i.default)(e)}},{"../core-js/array/from":22}],31:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var o=e("../core-js/symbol/iterator"),i=n(o),s=e("../core-js/symbol"),u=n(s),a="function"==typeof u.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":typeof e};r.default="function"==typeof u.default&&"symbol"===a(i.default)?function(e){return"undefined"==typeof e?"undefined":a(e)}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":"undefined"==typeof e?"undefined":a(e)}},{"../core-js/symbol":25,"../core-js/symbol/iterator":26}],32:[function(e,t,r){t.exports=e("regenerator-runtime")},{"regenerator-runtime":497}],33:[function(e,t,r){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function o(e){return 3*e.length/4-n(e)}function i(e){var t,r,o,i,s,u,a=e.length;s=n(e),u=new l(3*a/4-s),o=s>0?a-4:a;var c=0;for(t=0,r=0;t<o;t+=4,r+=3)i=f[e.charCodeAt(t)]<<18|f[e.charCodeAt(t+1)]<<12|f[e.charCodeAt(t+2)]<<6|f[e.charCodeAt(t+3)],u[c++]=i>>16&255,u[c++]=i>>8&255,u[c++]=255&i;return 2===s?(i=f[e.charCodeAt(t)]<<2|f[e.charCodeAt(t+1)]>>4,u[c++]=255&i):1===s&&(i=f[e.charCodeAt(t)]<<10|f[e.charCodeAt(t+1)]<<4|f[e.charCodeAt(t+2)]>>2,u[c++]=i>>8&255,u[c++]=255&i),u}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function u(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16)+(e[i+1]<<8)+e[i+2],o.push(s(n));return o.join("")}function a(e){for(var t,r=e.length,n=r%3,o="",i=[],s=16383,a=0,f=r-n;a<f;a+=s)i.push(u(e,a,a+s>f?f:a+s));return 1===n?(t=e[r-1],o+=c[t>>2],o+=c[t<<4&63],o+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],o+=c[t>>10],o+=c[t>>4&63],o+=c[t<<2&63],o+="="),i.push(o),i.join("")}r.byteLength=o,r.toByteArray=i,r.fromByteArray=a;for(var c=[],f=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=d.length;p<h;++p)c[p]=d[p],f[d.charCodeAt(p)]=p;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},{}],34:[function(e,t,r){},{}],35:[function(e,t,r){"use strict";function n(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function o(e){if(e>Y)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=i.prototype,t}function i(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(e)}return s(e,t,r)}function s(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return e instanceof ArrayBuffer?d(e,t,r):"string"==typeof e?f(e,t):p(e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t,r){return u(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}function c(e){return u(e),o(e<0?0:0|h(e))}function f(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!i.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(e,t),n=o(r),s=n.write(e,t);return s!==r&&(n=n.slice(0,s)),n}function l(e){for(var t=e.length<0?0:0|h(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(r||0))throw new RangeError("'length' is out of bounds");var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),n.__proto__=i.prototype,n}function p(e){if(i.isBuffer(e)){var t=0|h(e.length),r=o(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(e){if(ArrayBuffer.isView(e)||"length"in e)return"number"!=typeof e.length||J(e.length)?o(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Y.toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),i.alloc(+e)}function v(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(n)return U(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function _(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=i.from(t,n)),i.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,o){function i(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,u=e.length,a=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,u/=2,a/=2,r/=2}var c;if(o){var f=-1;for(c=r;c<u;c++)if(i(e,c)===i(t,f===-1?0:c-f)){if(f===-1&&(f=c),c-f+1===a)return f*s}else f!==-1&&(c-=c-f),f=-1}else for(r+a>u&&(r=u-a),c=r;c>=0;c--){for(var l=!0,d=0;d<a;d++)if(i(e,c+d)!==i(t,d)){l=!1;break}if(l)return c}return-1}function w(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var u=parseInt(t.substr(2*s,2),16);if(isNaN(u))return s;e[r+s]=u}return s}function x(e,t,r,n){return G(U(t,e.length-r),e,r,n)}function j(e,t,r,n){return G(z(t),e,r,n)}function k(e,t,r,n){return j(e,t,r,n)}function O(e,t,r,n){return G(K(t),e,r,n)}function S(e,t,r,n){return G(V(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?W.fromByteArray(e):W.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i=e[o],s=null,u=i>239?4:i>223?3:i>191?2:1;if(o+u<=r){var a,c,f,l;switch(u){case 1:i<128&&(s=i);break;case 2:a=e[o+1],128===(192&a)&&(l=(31&i)<<6|63&a,l>127&&(s=l));break;case 3:a=e[o+1],c=e[o+2],128===(192&a)&&128===(192&c)&&(l=(15&i)<<12|(63&a)<<6|63&c,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:a=e[o+1],c=e[o+2],f=e[o+3],128===(192&a)&&128===(192&c)&&128===(192&f)&&(l=(15&i)<<18|(63&a)<<12|(63&c)<<6|63&f,l>65535&&l<1114112&&(s=l))}}null===s?(s=65533,u=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),o+=u}return P(n)}function P(e){var t=e.length;if(t<=Q)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Q));return r}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function T(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=q(e[i]);return o}function D(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function M(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,o,s){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function B(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,o){return t=+t,r>>>=0,o||B(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),H.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,o){return t=+t,r>>>=0,o||B(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),H.write(e,t,r,n,52,8),r+8}function L(e){if(e=$(e).replace(Z,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function $(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function z(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function V(e,t){for(var r,n,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function K(e){return W.toByteArray(L(e))}function G(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function J(e){return e!==e}var W=e("base64-js"),H=e("ieee754");r.Buffer=i,r.SlowBuffer=b,r.INSPECT_MAX_BYTES=50;var Y=2147483647;r.kMaxLength=Y,i.TYPED_ARRAY_SUPPORT=n(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(e,t,r){return s(e,t,r)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(e,t,r){return a(e,t,r)},i.allocUnsafe=function(e){return c(e)},i.allocUnsafeSlow=function(e){return c(e)},i.isBuffer=function(e){return null!=e&&e._isBuffer===!0},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,s=Math.min(r,n);o<s;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=i.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!i.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},i.byteLength=v,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,r,n,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var s=o-n,u=r-t,a=Math.min(s,u),c=this.slice(n,o),f=e.slice(t,r),l=0;l<a;++l)if(c[l]!==f[l]){s=c[l],u=f[l];break}return s<u?-1:u<s?1:0},i.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},i.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},i.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},i.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return x(this,e,t,r);case"ascii":return j(this,e,t,r);case"latin1":case"binary":return k(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;i.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=i.prototype,n},i.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},i.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},i.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),H.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),H.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),H.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),H.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;R(this,e,t,r,o,0)}var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},i.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;R(this,e,t,r,o,0)}var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},i.prototype.writeUInt8=function(e,t,r){return e=+e,
t>>>=0,r||R(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);R(this,e,t,r,o-1,-o)}var i=0,s=1,u=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/s>>0)-u&255;return t+r},i.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);R(this,e,t,r,o-1,-o)}var i=r-1,s=1,u=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/s>>0)-u&255;return t+r},i.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},i.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},i.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},i.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},i.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},i.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var u=i.isBuffer(e)?e:new i(e,n),a=u.length;for(s=0;s<r-t;++s)this[s+t]=u[s%a]}return this};var Z=/[^+\/0-9A-Za-z-_]/g},{"base64-js":33,ieee754:433}],36:[function(e,t,r){(function(e){var r=function(){"use strict";function t(r,n,o,i,f){function l(r,o){if(null===r)return null;if(0===o)return r;var b,v;if("object"!=typeof r)return r;if(r instanceof u)b=new u;else if(r instanceof a)b=new a;else if(r instanceof c)b=new c(function(e,t){r.then(function(t){e(l(t,o-1))},function(e){t(l(e,o-1))})});else if(t.__isArray(r))b=[];else if(t.__isRegExp(r))b=new RegExp(r.source,s(r)),r.lastIndex&&(b.lastIndex=r.lastIndex);else if(t.__isDate(r))b=new Date(r.getTime());else{if(h&&e.isBuffer(r))return b=new e(r.length),r.copy(b),b;r instanceof Error?b=Object.create(r):"undefined"==typeof i?(v=Object.getPrototypeOf(r),b=Object.create(v)):(b=Object.create(i),v=i)}if(n){var y=d.indexOf(r);if(y!=-1)return p[y];d.push(r),p.push(b)}if(r instanceof u)for(var _=r.keys();;){var m=_.next();if(m.done)break;var g=l(m.value,o-1),w=l(r.get(m.value),o-1);b.set(g,w)}if(r instanceof a)for(var x=r.keys();;){var m=x.next();if(m.done)break;var j=l(m.value,o-1);b.add(j)}for(var k in r){var O;v&&(O=Object.getOwnPropertyDescriptor(v,k)),O&&null==O.set||(b[k]=l(r[k],o-1))}if(Object.getOwnPropertySymbols)for(var S=Object.getOwnPropertySymbols(r),k=0;k<S.length;k++){var E=S[k],A=Object.getOwnPropertyDescriptor(r,E);(!A||A.enumerable||f)&&(b[E]=l(r[E],o-1),A.enumerable||Object.defineProperty(b,E,{enumerable:!1}))}if(f)for(var P=Object.getOwnPropertyNames(r),k=0;k<P.length;k++){var C=P[k],A=Object.getOwnPropertyDescriptor(r,C);A&&A.enumerable||(b[C]=l(r[C],o-1),Object.defineProperty(b,C,{enumerable:!1}))}return b}"object"==typeof n&&(o=n.depth,i=n.prototype,f=n.includeNonEnumerable,n=n.circular);var d=[],p=[],h="undefined"!=typeof e;return"undefined"==typeof n&&(n=!0),"undefined"==typeof o&&(o=1/0),l(r,o)}function r(e){return Object.prototype.toString.call(e)}function n(e){return"object"==typeof e&&"[object Date]"===r(e)}function o(e){return"object"==typeof e&&"[object Array]"===r(e)}function i(e){return"object"==typeof e&&"[object RegExp]"===r(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}var u;try{u=Map}catch(e){u=function(){}}var a;try{a=Set}catch(e){a=function(){}}var c;try{c=Promise}catch(e){c=function(){}}return t.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},t.__objToStr=r,t.__isDate=n,t.__isArray=o,t.__isRegExp=i,t.__getRegExpFlags=s,t}();"object"==typeof t&&t.exports&&(t.exports=r)}).call(this,e("buffer").Buffer)},{buffer:35}],37:[function(e,t,r){e("../../modules/core.regexp.escape"),t.exports=e("../../modules/_core").RegExp.escape},{"../../modules/_core":143,"../../modules/core.regexp.escape":239}],38:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":50,"../../modules/es6.array.from":113,"../../modules/es6.string.iterator":118}],39:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":50,"../../modules/es6.object.define-property":115}],40:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/_core").Promise},{"../modules/_core":50,"../modules/es6.object.to-string":116,"../modules/es6.promise":117,"../modules/es6.string.iterator":118,"../modules/web.dom.iterable":122}],41:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":50,"../../modules/es6.object.to-string":116,"../../modules/es6.symbol":119,"../../modules/es7.symbol.async-iterator":120,"../../modules/es7.symbol.observable":121}],42:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":110,"../../modules/es6.string.iterator":118,"../../modules/web.dom.iterable":122}],43:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],44:[function(e,t,r){t.exports=function(){}},{}],45:[function(e,t,r){t.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},{}],46:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":70}],47:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-index");t.exports=function(e){return function(t,r,s){var u,a=n(t),c=o(a.length),f=i(s,c);if(e&&r!=r){for(;c>f;)if(u=a[f++],u!=u)return!0}else for(;c>f;f++)if((e||f in a)&&a[f]===r)return e||f||0;return!e&&-1}}},{"./_to-index":102,"./_to-iobject":104,"./_to-length":105}],48:[function(e,t,r){var n=e("./_cof"),o=e("./_wks")("toStringTag"),i="Arguments"==n(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};t.exports=function(e){var t,r,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=s(t=Object(e),o))?r:i?n(t):"Object"==(u=n(t))&&"function"==typeof t.callee?"Arguments":u}},{"./_cof":49,"./_wks":111}],49:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],50:[function(e,t,r){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},{}],51:[function(e,t,r){"use strict";var n=e("./_object-dp"),o=e("./_property-desc");t.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},{"./_object-dp":82,"./_property-desc":92}],52:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":43}],53:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],54:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":59}],55:[function(e,t,r){var n=e("./_is-object"),o=e("./_global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":61,"./_is-object":70}],56:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],57:[function(e,t,r){var n=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=n(e),r=o.f;if(r)for(var s,u=r(e),a=i.f,c=0;u.length>c;)a.call(e,s=u[c++])&&t.push(s);return t}},{"./_object-gops":87,"./_object-keys":90,"./_object-pie":91}],58:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_ctx"),s=e("./_hide"),u="prototype",a=function(e,t,r){var c,f,l,d=e&a.F,p=e&a.G,h=e&a.S,b=e&a.P,v=e&a.B,y=e&a.W,_=p?o:o[t]||(o[t]={}),m=_[u],g=p?n:h?n[t]:(n[t]||{})[u];p&&(r=t);for(c in r)f=!d&&g&&void 0!==g[c],f&&c in _||(l=f?g[c]:r[c],_[c]=p&&"function"!=typeof g[c]?r[c]:v&&f?i(l,n):y&&g[c]==l?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[u]=e[u],t}(l):b&&"function"==typeof l?i(Function.call,l):l,b&&((_.virtual||(_.virtual={}))[c]=l,e&a.R&&m&&!m[c]&&s(m,c,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},{"./_core":50,"./_ctx":52,"./_global":61,"./_hide":63}],59:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],60:[function(e,t,r){var n=e("./_ctx"),o=e("./_iter-call"),i=e("./_is-array-iter"),s=e("./_an-object"),u=e("./_to-length"),a=e("./core.get-iterator-method"),c={},f={},r=t.exports=function(e,t,r,l,d){var p,h,b,v,y=d?function(){return e}:a(e),_=n(r,l,t?2:1),m=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(p=u(e.length);p>m;m++)if(v=t?_(s(h=e[m])[0],h[1]):_(e[m]),v===c||v===f)return v}else for(b=y.call(e);!(h=b.next()).done;)if(v=o(b,_,h.value,t),v===c||v===f)return v};r.BREAK=c,r.RETURN=f},{"./_an-object":46,"./_ctx":52,"./_is-array-iter":68,"./_iter-call":71,"./_to-length":105,"./core.get-iterator-method":112}],61:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],62:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],63:[function(e,t,r){var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":54,"./_object-dp":82,"./_property-desc":92}],64:[function(e,t,r){t.exports=e("./_global").document&&document.documentElement},{"./_global":61}],65:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":54,"./_dom-create":55,"./_fails":59}],66:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],67:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":49}],68:[function(e,t,r){var n=e("./_iterators"),o=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},{"./_iterators":76,"./_wks":111}],69:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":49}],70:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],71:[function(e,t,r){var n=e("./_an-object");t.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},{"./_an-object":46}],72:[function(e,t,r){"use strict";var n=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),s={};e("./_hide")(s,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(s,{next:o(1,r)}),i(e,t+" Iterator")}},{"./_hide":63,"./_object-create":81,"./_property-desc":92,"./_set-to-string-tag":96,"./_wks":111}],73:[function(e,t,r){"use strict";var n=e("./_library"),o=e("./_export"),i=e("./_redefine"),s=e("./_hide"),u=e("./_has"),a=e("./_iterators"),c=e("./_iter-create"),f=e("./_set-to-string-tag"),l=e("./_object-gpo"),d=e("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",b="keys",v="values",y=function(){return this};t.exports=function(e,t,r,_,m,g,w){c(r,t,_);var x,j,k,O=function(e){if(!p&&e in P)return P[e];switch(e){case b:return function(){return new r(this,e)};case v:return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",E=m==v,A=!1,P=e.prototype,C=P[d]||P[h]||m&&P[m],I=C||O(m),T=m?E?O("entries"):I:void 0,D="Array"==t?P.entries||C:C;if(D&&(k=l(D.call(new e)),k!==Object.prototype&&(f(k,S,!0),n||u(k,d)||s(k,d,y))),E&&C&&C.name!==v&&(A=!0,I=function(){return C.call(this)}),n&&!w||!p&&!A&&P[d]||s(P,d,I),a[t]=I,a[S]=y,m)if(x={values:E?I:O(v),keys:g?I:O(b),entries:T},w)for(j in x)j in P||i(P,j,x[j]);else o(o.P+o.F*(p||A),t,x);return x}},{"./_export":58,"./_has":62,"./_hide":63,"./_iter-create":72,"./_iterators":76,"./_library":78,"./_object-gpo":88,"./_redefine":94,"./_set-to-string-tag":96,"./_wks":111}],74:[function(e,t,r){var n=e("./_wks")("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],s=i[n]();s.next=function(){return{done:r=!0}},i[n]=function(){return s},e(i)}catch(e){}return r}},{"./_wks":111}],75:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],76:[function(e,t,r){t.exports={}},{}],77:[function(e,t,r){var n=e("./_object-keys"),o=e("./_to-iobject");t.exports=function(e,t){for(var r,i=o(e),s=n(i),u=s.length,a=0;u>a;)if(i[r=s[a++]]===t)return r}},{"./_object-keys":90,"./_to-iobject":104}],78:[function(e,t,r){t.exports=!0},{}],79:[function(e,t,r){var n=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),s=e("./_object-dp").f,u=0,a=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return a(Object.preventExtensions({}))}),f=function(e){s(e,n,{value:{i:"O"+ ++u,w:{}}})},l=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!a(e))return"F";if(!t)return"E";f(e)}return e[n].i},d=function(e,t){if(!i(e,n)){if(!a(e))return!0;if(!t)return!1;f(e)}return e[n].w},p=function(e){return c&&h.NEED&&a(e)&&!i(e,n)&&f(e),e},h=t.exports={KEY:n,NEED:!1,fastKey:l,getWeak:d,onFreeze:p}},{"./_fails":59,"./_has":62,"./_is-object":70,"./_object-dp":82,"./_uid":108}],80:[function(e,t,r){var n=e("./_global"),o=e("./_task").set,i=n.MutationObserver||n.WebKitMutationObserver,s=n.process,u=n.Promise,a="process"==e("./_cof")(s);t.exports=function(){var e,t,r,c=function(){var n,o;for(a&&(n=s.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(a)r=function(){s.nextTick(c)};else if(i){var f=!0,l=document.createTextNode("");new i(c).observe(l,{characterData:!0}),r=function(){l.data=f=!f}}else if(u&&u.resolve){var d=u.resolve();r=function(){d.then(c)}}else r=function(){o.call(n,c)};return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},{"./_cof":49,"./_global":61,"./_task":101}],81:[function(e,t,r){var n=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),s=e("./_shared-key")("IE_PROTO"),u=function(){},a="prototype",c=function(){var t,r=e("./_dom-create")("iframe"),n=i.length,o="<",s=">";for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",t=r.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),c=t.F;n--;)delete c[a][i[n]];return c()};t.exports=Object.create||function(e,t){var r;return null!==e?(u[a]=n(e),r=new u,u[a]=null,r[s]=e):r=c(),void 0===t?r:o(r,t)}},{"./_an-object":46,"./_dom-create":55,"./_enum-bug-keys":56,"./_html":64,"./_object-dps":83,"./_shared-key":97}],82:[function(e,t,r){var n=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),s=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":46,"./_descriptors":54,"./_ie8-dom-define":65,"./_to-primitive":107}],83:[function(e,t,r){var n=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var r,s=i(t),u=s.length,a=0;u>a;)n.f(e,r=s[a++],t[r]);return e}},{"./_an-object":46,"./_descriptors":54,"./_object-dp":82,"./_object-keys":90}],84:[function(e,t,r){var n=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),s=e("./_to-primitive"),u=e("./_has"),a=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?c:function(e,t){if(e=i(e),t=s(t,!0),a)try{return c(e,t)}catch(e){}if(u(e,t))return o(!n.f.call(e,t),e[t])}},{"./_descriptors":54,"./_has":62,"./_ie8-dom-define":65,"./_object-pie":91,"./_property-desc":92,"./_to-iobject":104,"./_to-primitive":107}],85:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(e){return s.slice()}};t.exports.f=function(e){return s&&"[object Window]"==i.call(e)?u(e):o(n(e))}},{"./_object-gopn":86,"./_to-iobject":104}],86:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},{"./_enum-bug-keys":56,"./_object-keys-internal":89}],87:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],88:[function(e,t,r){var n=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{"./_has":62,"./_shared-key":97,"./_to-object":106}],89:[function(e,t,r){var n=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),s=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,u=o(e),a=0,c=[];for(r in u)r!=s&&n(u,r)&&c.push(r);for(;t.length>a;)n(u,r=t[a++])&&(~i(c,r)||c.push(r));return c}},{"./_array-includes":47,"./_has":62,"./_shared-key":97,"./_to-iobject":104}],90:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,o)}},{"./_enum-bug-keys":56,"./_object-keys-internal":89}],91:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],92:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],93:[function(e,t,r){var n=e("./_hide");t.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},{"./_hide":63}],94:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":63}],95:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_core"),i=e("./_object-dp"),s=e("./_descriptors"),u=e("./_wks")("species");t.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];s&&t&&!t[u]&&i.f(t,u,{configurable:!0,get:function(){return this}})}},{"./_core":50,"./_descriptors":54,"./_global":61,"./_object-dp":82,"./_wks":111}],96:[function(e,t,r){var n=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./_has":62,"./_object-dp":82,"./_wks":111}],97:[function(e,t,r){var n=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return n[e]||(n[e]=o(e))}},{"./_shared":98,"./_uid":108}],98:[function(e,t,r){var n=e("./_global"),o="__core-js_shared__",i=n[o]||(n[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./_global":61}],99:[function(e,t,r){var n=e("./_an-object"),o=e("./_a-function"),i=e("./_wks")("species");t.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||void 0==(r=n(s)[i])?t:o(r)}},{"./_a-function":43,"./_an-object":46,"./_wks":111}],100:[function(e,t,r){var n=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,r){var i,s,u=String(o(t)),a=n(r),c=u.length;return a<0||a>=c?e?"":void 0:(i=u.charCodeAt(a),i<55296||i>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?e?u.charAt(a):i:e?u.slice(a,a+2):(i-55296<<10)+(s-56320)+65536)}}},{"./_defined":53,"./_to-integer":103}],101:[function(e,t,r){var n,o,i,s=e("./_ctx"),u=e("./_invoke"),a=e("./_html"),c=e("./_dom-create"),f=e("./_global"),l=f.process,d=f.setImmediate,p=f.clearImmediate,h=f.MessageChannel,b=0,v={},y="onreadystatechange",_=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},m=function(e){_.call(e.data)};d&&p||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++b]=function(){u("function"==typeof e?e:Function(e),t)},n(b),b},p=function(e){delete v[e]},"process"==e("./_cof")(l)?n=function(e){l.nextTick(s(_,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=m,n=s(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(e){f.postMessage(e+"","*")},f.addEventListener("message",m,!1)):n=y in c("script")?function(e){a.appendChild(c("script"))[y]=function(){a.removeChild(this),_.call(e)}}:function(e){setTimeout(s(_,e,1),0)}),t.exports={set:d,clear:p}},{"./_cof":49,"./_ctx":52,"./_dom-create":55,"./_global":61,"./_html":64,"./_invoke":66}],102:[function(e,t,r){var n=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},{"./_to-integer":103}],103:[function(e,t,r){var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],104:[function(e,t,r){var n=e("./_iobject"),o=e("./_defined");t.exports=function(e){return n(o(e))}},{"./_defined":53,"./_iobject":67}],105:[function(e,t,r){var n=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./_to-integer":103}],106:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":53}],107:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":70}],108:[function(e,t,r){var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],109:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_library"),s=e("./_wks-ext"),u=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:s.f(e)})}},{"./_core":50,"./_global":61,"./_library":78,"./_object-dp":82,"./_wks-ext":110}],110:[function(e,t,r){r.f=e("./_wks")},{"./_wks":111}],111:[function(e,t,r){var n=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,s="function"==typeof i,u=t.exports=function(e){return n[e]||(n[e]=s&&i[e]||(s?i:o)("Symbol."+e))};u.store=n},{"./_global":61,"./_shared":98,"./_uid":108}],112:[function(e,t,r){var n=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},{"./_classof":48,"./_core":50,"./_iterators":76,"./_wks":111}],113:[function(e,t,r){"use strict";var n=e("./_ctx"),o=e("./_export"),i=e("./_to-object"),s=e("./_iter-call"),u=e("./_is-array-iter"),a=e("./_to-length"),c=e("./_create-property"),f=e("./core.get-iterator-method");o(o.S+o.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,l,d=i(e),p="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,v=void 0!==b,y=0,_=f(d);if(v&&(b=n(b,h>2?arguments[2]:void 0,2)),void 0==_||p==Array&&u(_))for(t=a(d.length),r=new p(t);t>y;y++)c(r,y,v?b(d[y],y):d[y]);else for(l=_.call(d),r=new p;!(o=l.next()).done;y++)c(r,y,v?s(l,b,[o.value,y],!0):o.value);return r.length=y,r}})},{"./_create-property":51,"./_ctx":52,"./_export":58,"./_is-array-iter":68,"./_iter-call":71,"./_iter-detect":74,"./_to-length":105,"./_to-object":106,"./core.get-iterator-method":112}],114:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),s=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":44,"./_iter-define":73,"./_iter-step":75,"./_iterators":76,"./_to-iobject":104}],115:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":54,"./_export":58,"./_object-dp":82}],116:[function(e,t,r){arguments[4][34][0].apply(r,arguments)},{dup:34}],117:[function(e,t,r){"use strict";var n,o,i,s=e("./_library"),u=e("./_global"),a=e("./_ctx"),c=e("./_classof"),f=e("./_export"),l=e("./_is-object"),d=e("./_a-function"),p=e("./_an-instance"),h=e("./_for-of"),b=e("./_species-constructor"),v=e("./_task").set,y=e("./_microtask")(),_="Promise",m=u.TypeError,g=u.process,w=u[_],g=u.process,x="process"==c(g),j=function(){},k=!!function(){try{var t=w.resolve(1),r=(t.constructor={})[e("./_wks")("species")]=function(e){e(j,j)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(j)instanceof r}catch(e){}}(),O=function(e,t){return e===t||e===w&&t===i},S=function(e){var t;return!(!l(e)||"function"!=typeof(t=e.then))&&t},E=function(e){return O(w,e)?new A(e):new o(e)},A=o=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw m("Bad Promise constructor");t=e,r=n}),this.resolve=d(t),this.reject=d(r)},P=function(e){try{e()}catch(e){return{error:e}}},C=function(e,t){if(!e._n){e._n=!0;var r=e._c;y(function(){for(var n=e._v,o=1==e._s,i=0,s=function(t){var r,i,s=o?t.ok:t.fail,u=t.resolve,a=t.reject,c=t.domain;try{s?(o||(2==e._h&&D(e),e._h=1),s===!0?r=n:(c&&c.enter(),r=s(n),c&&c.exit()),r===t.promise?a(m("Promise-chain cycle")):(i=S(r))?i.call(r,u,a):u(r)):a(n)}catch(e){a(e)}};r.length>i;)s(r[i++]);e._c=[],e._n=!1,t&&!e._h&&I(e)})}},I=function(e){v.call(u,function(){var t,r,n,o=e._v;if(T(e)&&(t=P(function(){x?g.emit("unhandledRejection",o,e):(r=u.onunhandledrejection)?r({promise:e,reason:o}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=x||T(e)?2:1),e._a=void 0,t)throw t.error})},T=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,n=0;r.length>n;)if(t=r[n++],t.fail||!T(t.promise))return!1;return!0},D=function(e){v.call(u,function(){var t;x?g.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),C(t,!0))},R=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw m("Promise can't be resolved itself");(t=S(e))?y(function(){var n={_w:r,_d:!1};try{t.call(e,a(R,n,1),a(M,n,1))}catch(e){M.call(n,e)}}):(r._v=e,r._s=1,C(r,!1))}catch(e){M.call({_w:r,_d:!1},e)}}};k||(w=function(e){p(this,w,_,"_h"),d(e),n.call(this);try{e(a(R,this,1),a(M,this,1))}catch(e){M.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=e("./_redefine-all")(w.prototype,{then:function(e,t){var r=E(b(this,w));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=x?g.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&C(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),A=function(){var e=new n;this.promise=e,this.resolve=a(R,e,1),this.reject=a(M,e,1)}),f(f.G+f.W+f.F*!k,{Promise:w}),e("./_set-to-string-tag")(w,_),e("./_set-species")(_),i=e("./_core")[_],f(f.S+f.F*!k,_,{reject:function(e){var t=E(this),r=t.reject;return r(e),t.promise}}),f(f.S+f.F*(s||!k),_,{resolve:function(e){if(e instanceof w&&O(e.constructor,this))return e;var t=E(this),r=t.resolve;return r(e),t.promise}}),f(f.S+f.F*!(k&&e("./_iter-detect")(function(e){w.all(e).catch(j)})),_,{all:function(e){var t=this,r=E(t),n=r.resolve,o=r.reject,i=P(function(){var r=[],i=0,s=1;h(e,!1,function(e){var u=i++,a=!1;r.push(void 0),s++,t.resolve(e).then(function(e){a||(a=!0,r[u]=e,--s||n(r))},o)}),--s||n(r)});return i&&o(i.error),r.promise},race:function(e){var t=this,r=E(t),n=r.reject,o=P(function(){h(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o&&n(o.error),r.promise}})},{"./_a-function":43,"./_an-instance":45,"./_classof":48,"./_core":50,"./_ctx":52,"./_export":58,"./_for-of":60,"./_global":61,"./_is-object":70,"./_iter-detect":74,"./_library":78,"./_microtask":80,"./_redefine-all":93,"./_set-species":95,"./_set-to-string-tag":96,"./_species-constructor":99,"./_task":101,"./_wks":111}],118:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":73,"./_string-at":100}],119:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_has"),i=e("./_descriptors"),s=e("./_export"),u=e("./_redefine"),a=e("./_meta").KEY,c=e("./_fails"),f=e("./_shared"),l=e("./_set-to-string-tag"),d=e("./_uid"),p=e("./_wks"),h=e("./_wks-ext"),b=e("./_wks-define"),v=e("./_keyof"),y=e("./_enum-keys"),_=e("./_is-array"),m=e("./_an-object"),g=e("./_to-iobject"),w=e("./_to-primitive"),x=e("./_property-desc"),j=e("./_object-create"),k=e("./_object-gopn-ext"),O=e("./_object-gopd"),S=e("./_object-dp"),E=e("./_object-keys"),A=O.f,P=S.f,C=k.f,I=n.Symbol,T=n.JSON,D=T&&T.stringify,M="prototype",R=p("_hidden"),B=p("toPrimitive"),N={}.propertyIsEnumerable,F=f("symbol-registry"),L=f("symbols"),$=f("op-symbols"),q=Object[M],U="function"==typeof I,z=n.QObject,V=!z||!z[M]||!z[M].findChild,K=i&&c(function(){
return 7!=j(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=A(q,t);n&&delete q[t],P(e,t,r),n&&e!==q&&P(q,t,n)}:P,G=function(e){var t=L[e]=j(I[M]);return t._k=e,t},J=U&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},W=function(e,t,r){return e===q&&W($,t,r),m(e),t=w(t,!0),m(r),o(L,t)?(r.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),r=j(r,{enumerable:x(0,!1)})):(o(e,R)||P(e,R,x(1,{})),e[R][t]=!0),K(e,t,r)):P(e,t,r)},H=function(e,t){m(e);for(var r,n=y(t=g(t)),o=0,i=n.length;i>o;)W(e,r=n[o++],t[r]);return e},Y=function(e,t){return void 0===t?j(e):H(j(e),t)},Q=function(e){var t=N.call(this,e=w(e,!0));return!(this===q&&o(L,e)&&!o($,e))&&(!(t||!o(this,e)||!o(L,e)||o(this,R)&&this[R][e])||t)},Z=function(e,t){if(e=g(e),t=w(t,!0),e!==q||!o(L,t)||o($,t)){var r=A(e,t);return!r||!o(L,t)||o(e,R)&&e[R][t]||(r.enumerable=!0),r}},X=function(e){for(var t,r=C(g(e)),n=[],i=0;r.length>i;)o(L,t=r[i++])||t==R||t==a||n.push(t);return n},ee=function(e){for(var t,r=e===q,n=C(r?$:g(e)),i=[],s=0;n.length>s;)!o(L,t=n[s++])||r&&!o(q,t)||i.push(L[t]);return i};U||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===q&&t.call($,r),o(this,R)&&o(this[R],e)&&(this[R][e]=!1),K(this,e,x(1,r))};return i&&V&&K(q,e,{configurable:!0,set:t}),G(e)},u(I[M],"toString",function(){return this._k}),O.f=Z,S.f=W,e("./_object-gopn").f=k.f=X,e("./_object-pie").f=Q,e("./_object-gops").f=ee,i&&!e("./_library")&&u(q,"propertyIsEnumerable",Q,!0),h.f=function(e){return G(p(e))}),s(s.G+s.W+s.F*!U,{Symbol:I});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)p(te[re++]);for(var te=E(p.store),re=0;te.length>re;)b(te[re++]);s(s.S+s.F*!U,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=I(e)},keyFor:function(e){if(J(e))return v(F,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!U,"Object",{create:Y,defineProperty:W,defineProperties:H,getOwnPropertyDescriptor:Z,getOwnPropertyNames:X,getOwnPropertySymbols:ee}),T&&s(s.S+s.F*(!U||c(function(){var e=I();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!J(e)){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);return t=n[1],"function"==typeof t&&(r=t),!r&&_(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!J(t))return t}),n[1]=t,D.apply(T,n)}}}),I[M][B]||e("./_hide")(I[M],B,I[M].valueOf),l(I,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},{"./_an-object":46,"./_descriptors":54,"./_enum-keys":57,"./_export":58,"./_fails":59,"./_global":61,"./_has":62,"./_hide":63,"./_is-array":69,"./_keyof":77,"./_library":78,"./_meta":79,"./_object-create":81,"./_object-dp":82,"./_object-gopd":84,"./_object-gopn":86,"./_object-gopn-ext":85,"./_object-gops":87,"./_object-keys":90,"./_object-pie":91,"./_property-desc":92,"./_redefine":94,"./_set-to-string-tag":96,"./_shared":98,"./_to-iobject":104,"./_to-primitive":107,"./_uid":108,"./_wks":111,"./_wks-define":109,"./_wks-ext":110}],120:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":109}],121:[function(e,t,r){e("./_wks-define")("observable")},{"./_wks-define":109}],122:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),o=e("./_hide"),i=e("./_iterators"),s=e("./_wks")("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],a=0;a<5;a++){var c=u[a],f=n[c],l=f&&f.prototype;l&&!l[s]&&o(l,s,c),i[c]=i.Array}},{"./_global":61,"./_hide":63,"./_iterators":76,"./_wks":111,"./es6.array.iterator":114}],123:[function(e,t,r){arguments[4][43][0].apply(r,arguments)},{dup:43}],124:[function(e,t,r){var n=e("./_cof");t.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},{"./_cof":138}],125:[function(e,t,r){var n=e("./_wks")("unscopables"),o=Array.prototype;void 0==o[n]&&e("./_hide")(o,n,{}),t.exports=function(e){o[n][e]=!0}},{"./_hide":160,"./_wks":237}],126:[function(e,t,r){arguments[4][45][0].apply(r,arguments)},{dup:45}],127:[function(e,t,r){arguments[4][46][0].apply(r,arguments)},{"./_is-object":169,dup:46}],128:[function(e,t,r){"use strict";var n=e("./_to-object"),o=e("./_to-index"),i=e("./_to-length");t.exports=[].copyWithin||function(e,t){var r=n(this),s=i(r.length),u=o(e,s),a=o(t,s),c=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===c?s:o(c,s))-a,s-u),l=1;for(a<u&&u<a+f&&(l=-1,a+=f-1,u+=f-1);f-- >0;)a in r?r[u]=r[a]:delete r[u],u+=l,a+=l;return r}},{"./_to-index":225,"./_to-length":228,"./_to-object":229}],129:[function(e,t,r){"use strict";var n=e("./_to-object"),o=e("./_to-index"),i=e("./_to-length");t.exports=function(e){for(var t=n(this),r=i(t.length),s=arguments.length,u=o(s>1?arguments[1]:void 0,r),a=s>2?arguments[2]:void 0,c=void 0===a?r:o(a,r);c>u;)t[u++]=e;return t}},{"./_to-index":225,"./_to-length":228,"./_to-object":229}],130:[function(e,t,r){var n=e("./_for-of");t.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},{"./_for-of":157}],131:[function(e,t,r){arguments[4][47][0].apply(r,arguments)},{"./_to-index":225,"./_to-iobject":227,"./_to-length":228,dup:47}],132:[function(e,t,r){var n=e("./_ctx"),o=e("./_iobject"),i=e("./_to-object"),s=e("./_to-length"),u=e("./_array-species-create");t.exports=function(e,t){var r=1==e,a=2==e,c=3==e,f=4==e,l=6==e,d=5==e||l,p=t||u;return function(t,u,h){for(var b,v,y=i(t),_=o(y),m=n(u,h,3),g=s(_.length),w=0,x=r?p(t,g):a?p(t,0):void 0;g>w;w++)if((d||w in _)&&(b=_[w],v=m(b,w,y),e))if(r)x[w]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return w;case 2:x.push(b)}else if(f)return!1;return l?-1:c||f?f:x}}},{"./_array-species-create":135,"./_ctx":145,"./_iobject":165,"./_to-length":228,"./_to-object":229}],133:[function(e,t,r){var n=e("./_a-function"),o=e("./_to-object"),i=e("./_iobject"),s=e("./_to-length");t.exports=function(e,t,r,u,a){n(t);var c=o(e),f=i(c),l=s(c.length),d=a?l-1:0,p=a?-1:1;if(r<2)for(;;){if(d in f){u=f[d],d+=p;break}if(d+=p,a?d<0:l<=d)throw TypeError("Reduce of empty array with no initial value")}for(;a?d>=0:l>d;d+=p)d in f&&(u=t(u,f[d],d,c));return u}},{"./_a-function":123,"./_iobject":165,"./_to-length":228,"./_to-object":229}],134:[function(e,t,r){var n=e("./_is-object"),o=e("./_is-array"),i=e("./_wks")("species");t.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}},{"./_is-array":167,"./_is-object":169,"./_wks":237}],135:[function(e,t,r){var n=e("./_array-species-constructor");t.exports=function(e,t){return new(n(e))(t)}},{"./_array-species-constructor":134}],136:[function(e,t,r){"use strict";var n=e("./_a-function"),o=e("./_is-object"),i=e("./_invoke"),s=[].slice,u={},a=function(e,t,r){if(!(t in u)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";u[t]=Function("F,a","return new F("+n.join(",")+")")}return u[t](e,r)};t.exports=Function.bind||function(e){var t=n(this),r=s.call(arguments,1),u=function(){var n=r.concat(s.call(arguments));return this instanceof u?a(t,n.length,n):i(t,n,e)};return o(t.prototype)&&(u.prototype=t.prototype),u}},{"./_a-function":123,"./_invoke":164,"./_is-object":169}],137:[function(e,t,r){arguments[4][48][0].apply(r,arguments)},{"./_cof":138,"./_wks":237,dup:48}],138:[function(e,t,r){arguments[4][49][0].apply(r,arguments)},{dup:49}],139:[function(e,t,r){"use strict";var n=e("./_object-dp").f,o=e("./_object-create"),i=e("./_redefine-all"),s=e("./_ctx"),u=e("./_an-instance"),a=e("./_defined"),c=e("./_for-of"),f=e("./_iter-define"),l=e("./_iter-step"),d=e("./_set-species"),p=e("./_descriptors"),h=e("./_meta").fastKey,b=p?"_s":"size",v=function(e,t){var r,n=h(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};t.exports={getConstructor:function(e,t,r,f){var l=e(function(e,n){u(e,l,t,"_i"),e._i=o(null),e._f=void 0,e._l=void 0,e[b]=0,void 0!=n&&c(n,r,e[f],e)});return i(l.prototype,{clear:function(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[b]=0},delete:function(e){var t=this,r=v(t,e);if(r){var n=r.n,o=r.p;delete t._i[r.i],r.r=!0,o&&(o.n=n),n&&(n.p=o),t._f==r&&(t._f=n),t._l==r&&(t._l=o),t[b]--}return!!r},forEach:function(e){u(this,l,"forEach");for(var t,r=s(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!v(this,e)}}),p&&n(l.prototype,"size",{get:function(){return a(this[b])}}),l},def:function(e,t,r){var n,o,i=v(e,t);return i?i.v=r:(e._l=i={i:o=h(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[b]++,"F"!==o&&(e._i[o]=i)),e},getEntry:v,setStrong:function(e,t,r){f(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?l(0,r.k):"values"==t?l(0,r.v):l(0,[r.k,r.v]):(e._t=void 0,l(1))},r?"entries":"values",!r,!0),d(t)}}},{"./_an-instance":126,"./_ctx":145,"./_defined":147,"./_descriptors":148,"./_for-of":157,"./_iter-define":173,"./_iter-step":175,"./_meta":182,"./_object-create":186,"./_object-dp":187,"./_redefine-all":206,"./_set-species":211}],140:[function(e,t,r){var n=e("./_classof"),o=e("./_array-from-iterable");t.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},{"./_array-from-iterable":130,"./_classof":137}],141:[function(e,t,r){"use strict";var n=e("./_redefine-all"),o=e("./_meta").getWeak,i=e("./_an-object"),s=e("./_is-object"),u=e("./_an-instance"),a=e("./_for-of"),c=e("./_array-methods"),f=e("./_has"),l=c(5),d=c(6),p=0,h=function(e){return e._l||(e._l=new b)},b=function(){this.a=[]},v=function(e,t){return l(e.a,function(e){return e[0]===t})};b.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var r=v(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=d(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,r,i){var c=e(function(e,n){u(e,c,t,"_i"),e._i=p++,e._l=void 0,void 0!=n&&a(n,r,e[i],e)});return n(c.prototype,{delete:function(e){if(!s(e))return!1;var t=o(e);return t===!0?h(this).delete(e):t&&f(t,this._i)&&delete t[this._i]},has:function(e){if(!s(e))return!1;var t=o(e);return t===!0?h(this).has(e):t&&f(t,this._i)}}),c},def:function(e,t,r){var n=o(i(t),!0);return n===!0?h(e).set(t,r):n[e._i]=r,e},ufstore:h}},{"./_an-instance":126,"./_an-object":127,"./_array-methods":132,"./_for-of":157,"./_has":159,"./_is-object":169,"./_meta":182,"./_redefine-all":206}],142:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_export"),i=e("./_redefine"),s=e("./_redefine-all"),u=e("./_meta"),a=e("./_for-of"),c=e("./_an-instance"),f=e("./_is-object"),l=e("./_fails"),d=e("./_iter-detect"),p=e("./_set-to-string-tag"),h=e("./_inherit-if-required");t.exports=function(e,t,r,b,v,y){var _=n[e],m=_,g=v?"set":"add",w=m&&m.prototype,x={},j=function(e){var t=w[e];i(w,e,"delete"==e?function(e){return!(y&&!f(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!f(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!f(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof m&&(y||w.forEach&&!l(function(){(new m).entries().next()}))){var k=new m,O=k[g](y?{}:-0,1)!=k,S=l(function(){k.has(1)}),E=d(function(e){new m(e)}),A=!y&&l(function(){for(var e=new m,t=5;t--;)e[g](t,t);return!e.has(-0)});E||(m=t(function(t,r){c(t,m,e);var n=h(new _,t,m);return void 0!=r&&a(r,v,n[g],n),n}),m.prototype=w,w.constructor=m),(S||A)&&(j("delete"),j("has"),v&&j("get")),(A||O)&&j(g),y&&w.clear&&delete w.clear}else m=b.getConstructor(t,e,v,g),s(m.prototype,r),u.NEED=!0;return p(m,e),x[e]=m,o(o.G+o.W+o.F*(m!=_),x),y||b.setStrong(m,e,v),m}},{"./_an-instance":126,"./_export":152,"./_fails":154,"./_for-of":157,"./_global":158,"./_inherit-if-required":163,"./_is-object":169,"./_iter-detect":174,"./_meta":182,"./_redefine":207,"./_redefine-all":206,"./_set-to-string-tag":212}],143:[function(e,t,r){arguments[4][50][0].apply(r,arguments)},{dup:50}],144:[function(e,t,r){arguments[4][51][0].apply(r,arguments)},{"./_object-dp":187,"./_property-desc":205,dup:51}],145:[function(e,t,r){arguments[4][52][0].apply(r,arguments)},{"./_a-function":123,dup:52}],146:[function(e,t,r){"use strict";var n=e("./_an-object"),o=e("./_to-primitive"),i="number";t.exports=function(e){if("string"!==e&&e!==i&&"default"!==e)throw TypeError("Incorrect hint");return o(n(this),e!=i)}},{"./_an-object":127,"./_to-primitive":230}],147:[function(e,t,r){arguments[4][53][0].apply(r,arguments)},{dup:53}],148:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{"./_fails":154,dup:54}],149:[function(e,t,r){arguments[4][55][0].apply(r,arguments)},{"./_global":158,"./_is-object":169,dup:55}],150:[function(e,t,r){arguments[4][56][0].apply(r,arguments)},{dup:56}],151:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{"./_object-gops":193,"./_object-keys":196,"./_object-pie":197,dup:57}],152:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_hide"),s=e("./_redefine"),u=e("./_ctx"),a="prototype",c=function(e,t,r){var f,l,d,p,h=e&c.F,b=e&c.G,v=e&c.S,y=e&c.P,_=e&c.B,m=b?n:v?n[t]||(n[t]={}):(n[t]||{})[a],g=b?o:o[t]||(o[t]={}),w=g[a]||(g[a]={});b&&(r=t);for(f in r)l=!h&&m&&void 0!==m[f],d=(l?m:r)[f],p=_&&l?u(d,n):y&&"function"==typeof d?u(Function.call,d):d,m&&s(m,f,d,e&c.U),g[f]!=d&&i(g,f,p),y&&w[f]!=d&&(w[f]=d)};n.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},{"./_core":143,"./_ctx":145,"./_global":158,"./_hide":160,"./_redefine":207}],153:[function(e,t,r){var n=e("./_wks")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},{"./_wks":237}],154:[function(e,t,r){arguments[4][59][0].apply(r,arguments)},{dup:59}],155:[function(e,t,r){"use strict";var n=e("./_hide"),o=e("./_redefine"),i=e("./_fails"),s=e("./_defined"),u=e("./_wks");t.exports=function(e,t,r){var a=u(e),c=r(s,a,""[e]),f=c[0],l=c[1];i(function(){var t={};return t[a]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,f),n(RegExp.prototype,a,2==t?function(e,t){return l.call(e,this,t)}:function(e){return l.call(e,this)}))}},{"./_defined":147,"./_fails":154,"./_hide":160,"./_redefine":207,"./_wks":237}],156:[function(e,t,r){"use strict";var n=e("./_an-object");t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./_an-object":127}],157:[function(e,t,r){arguments[4][60][0].apply(r,arguments)},{"./_an-object":127,"./_ctx":145,"./_is-array-iter":166,"./_iter-call":171,"./_to-length":228,"./core.get-iterator-method":238,dup:60}],158:[function(e,t,r){arguments[4][61][0].apply(r,arguments)},{dup:61}],159:[function(e,t,r){arguments[4][62][0].apply(r,arguments)},{dup:62}],160:[function(e,t,r){arguments[4][63][0].apply(r,arguments)},{"./_descriptors":148,"./_object-dp":187,"./_property-desc":205,dup:63}],161:[function(e,t,r){arguments[4][64][0].apply(r,arguments)},{"./_global":158,dup:64}],162:[function(e,t,r){arguments[4][65][0].apply(r,arguments)},{"./_descriptors":148,"./_dom-create":149,"./_fails":154,dup:65}],163:[function(e,t,r){var n=e("./_is-object"),o=e("./_set-proto").set;t.exports=function(e,t,r){var i,s=t.constructor;return s!==r&&"function"==typeof s&&(i=s.prototype)!==r.prototype&&n(i)&&o&&o(e,i),e}},{"./_is-object":169,"./_set-proto":210}],164:[function(e,t,r){arguments[4][66][0].apply(r,arguments)},{dup:66}],165:[function(e,t,r){arguments[4][67][0].apply(r,arguments)},{"./_cof":138,dup:67}],166:[function(e,t,r){arguments[4][68][0].apply(r,arguments)},{"./_iterators":176,"./_wks":237,dup:68}],167:[function(e,t,r){arguments[4][69][0].apply(r,arguments)},{"./_cof":138,dup:69}],168:[function(e,t,r){var n=e("./_is-object"),o=Math.floor;t.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},{"./_is-object":169}],169:[function(e,t,r){arguments[4][70][0].apply(r,arguments)},{dup:70}],170:[function(e,t,r){var n=e("./_is-object"),o=e("./_cof"),i=e("./_wks")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},{"./_cof":138,"./_is-object":169,"./_wks":237}],171:[function(e,t,r){arguments[4][71][0].apply(r,arguments)},{"./_an-object":127,dup:71}],172:[function(e,t,r){arguments[4][72][0].apply(r,arguments)},{"./_hide":160,"./_object-create":186,"./_property-desc":205,"./_set-to-string-tag":212,"./_wks":237,dup:72}],173:[function(e,t,r){arguments[4][73][0].apply(r,arguments)},{"./_export":152,"./_has":159,"./_hide":160,"./_iter-create":172,"./_iterators":176,"./_library":178,"./_object-gpo":194,"./_redefine":207,"./_set-to-string-tag":212,"./_wks":237,dup:73}],174:[function(e,t,r){arguments[4][74][0].apply(r,arguments)},{"./_wks":237,dup:74}],175:[function(e,t,r){arguments[4][75][0].apply(r,arguments)},{dup:75}],176:[function(e,t,r){arguments[4][76][0].apply(r,arguments)},{dup:76}],177:[function(e,t,r){arguments[4][77][0].apply(r,arguments)},{"./_object-keys":196,"./_to-iobject":227,dup:77}],178:[function(e,t,r){t.exports=!1},{}],179:[function(e,t,r){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||n(-2e-17)!=-2e-17?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},{}],180:[function(e,t,r){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],181:[function(e,t,r){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],182:[function(e,t,r){arguments[4][79][0].apply(r,arguments)},{"./_fails":154,"./_has":159,"./_is-object":169,"./_object-dp":187,"./_uid":234,dup:79}],183:[function(e,t,r){var n=e("./es6.map"),o=e("./_export"),i=e("./_shared")("metadata"),s=i.store||(i.store=new(e("./es6.weak-map"))),u=function(e,t,r){var o=s.get(e);if(!o){if(!r)return;s.set(e,o=new n)}var i=o.get(t);if(!i){if(!r)return;o.set(t,i=new n)}return i},a=function(e,t,r){var n=u(t,r,!1);return void 0!==n&&n.has(e)},c=function(e,t,r){var n=u(t,r,!1);return void 0===n?void 0:n.get(e)},f=function(e,t,r,n){u(r,n,!0).set(e,t)},l=function(e,t){var r=u(e,t,!1),n=[];return r&&r.forEach(function(e,t){n.push(t)}),n},d=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},p=function(e){o(o.S,"Reflect",e)};t.exports={store:s,map:u,has:a,get:c,set:f,keys:l,key:d,exp:p}},{"./_export":152,"./_shared":214,"./es6.map":269,"./es6.weak-map":375}],184:[function(e,t,r){arguments[4][80][0].apply(r,arguments)},{"./_cof":138,"./_global":158,"./_task":224,dup:80}],185:[function(e,t,r){"use strict";var n=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie"),s=e("./_to-object"),u=e("./_iobject"),a=Object.assign;t.exports=!a||e("./_fails")(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=a({},e)[r]||Object.keys(a({},t)).join("")!=n})?function(e,t){for(var r=s(e),a=arguments.length,c=1,f=o.f,l=i.f;a>c;)for(var d,p=u(arguments[c++]),h=f?n(p).concat(f(p)):n(p),b=h.length,v=0;b>v;)l.call(p,d=h[v++])&&(r[d]=p[d]);return r}:a},{"./_fails":154,"./_iobject":165,"./_object-gops":193,"./_object-keys":196,"./_object-pie":197,"./_to-object":229}],186:[function(e,t,r){arguments[4][81][0].apply(r,arguments)},{"./_an-object":127,"./_dom-create":149,"./_enum-bug-keys":150,"./_html":161,"./_object-dps":188,"./_shared-key":213,dup:81}],187:[function(e,t,r){arguments[4][82][0].apply(r,arguments)},{"./_an-object":127,"./_descriptors":148,"./_ie8-dom-define":162,"./_to-primitive":230,dup:82}],188:[function(e,t,r){arguments[4][83][0].apply(r,arguments)},{"./_an-object":127,"./_descriptors":148,"./_object-dp":187,"./_object-keys":196,dup:83}],189:[function(e,t,r){t.exports=e("./_library")||!e("./_fails")(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete e("./_global")[t]})},{"./_fails":154,"./_global":158,"./_library":178}],190:[function(e,t,r){arguments[4][84][0].apply(r,arguments)},{"./_descriptors":148,"./_has":159,"./_ie8-dom-define":162,"./_object-pie":197,"./_property-desc":205,"./_to-iobject":227,"./_to-primitive":230,dup:84}],191:[function(e,t,r){arguments[4][85][0].apply(r,arguments)},{"./_object-gopn":192,"./_to-iobject":227,dup:85}],192:[function(e,t,r){arguments[4][86][0].apply(r,arguments)},{"./_enum-bug-keys":150,"./_object-keys-internal":195,dup:86}],193:[function(e,t,r){arguments[4][87][0].apply(r,arguments)},{dup:87}],194:[function(e,t,r){arguments[4][88][0].apply(r,arguments)},{"./_has":159,"./_shared-key":213,"./_to-object":229,dup:88}],195:[function(e,t,r){arguments[4][89][0].apply(r,arguments)},{"./_array-includes":131,"./_has":159,"./_shared-key":213,"./_to-iobject":227,dup:89}],196:[function(e,t,r){arguments[4][90][0].apply(r,arguments)},{"./_enum-bug-keys":150,"./_object-keys-internal":195,dup:90}],197:[function(e,t,r){arguments[4][91][0].apply(r,arguments)},{dup:91}],198:[function(e,t,r){var n=e("./_export"),o=e("./_core"),i=e("./_fails");t.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",s)}},{"./_core":143,"./_export":152,"./_fails":154}],199:[function(e,t,r){var n=e("./_object-keys"),o=e("./_to-iobject"),i=e("./_object-pie").f;t.exports=function(e){return function(t){for(var r,s=o(t),u=n(s),a=u.length,c=0,f=[];a>c;)i.call(s,r=u[c++])&&f.push(e?[r,s[r]]:s[r]);return f}}},{"./_object-keys":196,"./_object-pie":197,"./_to-iobject":227}],200:[function(e,t,r){var n=e("./_object-gopn"),o=e("./_object-gops"),i=e("./_an-object"),s=e("./_global").Reflect;t.exports=s&&s.ownKeys||function(e){var t=n.f(i(e)),r=o.f;return r?t.concat(r(e)):t}},{"./_an-object":127,"./_global":158,"./_object-gopn":192,"./_object-gops":193}],201:[function(e,t,r){var n=e("./_global").parseFloat,o=e("./_string-trim").trim;t.exports=1/n(e("./_string-ws")+"-0")!==-(1/0)?function(e){var t=o(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},{"./_global":158,"./_string-trim":222,"./_string-ws":223}],202:[function(e,t,r){var n=e("./_global").parseInt,o=e("./_string-trim").trim,i=e("./_string-ws"),s=/^[\-+]?0[xX]/;t.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){var r=o(String(e),3);return n(r,t>>>0||(s.test(r)?16:10))}:n},{"./_global":158,"./_string-trim":222,"./_string-ws":223}],203:[function(e,t,r){"use strict";var n=e("./_path"),o=e("./_invoke"),i=e("./_a-function");t.exports=function(){for(var e=i(this),t=arguments.length,r=Array(t),s=0,u=n._,a=!1;t>s;)(r[s]=arguments[s++])===u&&(a=!0);return function(){var n,i=this,s=arguments.length,c=0,f=0;if(!a&&!s)return o(e,r,i);if(n=r.slice(),a)for(;t>c;c++)n[c]===u&&(n[c]=arguments[f++]);for(;s>f;)n.push(arguments[f++]);return o(e,n,i)}}},{"./_a-function":123,"./_invoke":164,"./_path":204}],204:[function(e,t,r){t.exports=e("./_global")},{"./_global":158}],205:[function(e,t,r){arguments[4][92][0].apply(r,arguments)},{dup:92}],206:[function(e,t,r){var n=e("./_redefine");t.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},{"./_redefine":207}],207:[function(e,t,r){var n=e("./_global"),o=e("./_hide"),i=e("./_has"),s=e("./_uid")("src"),u="toString",a=Function[u],c=(""+a).split(u);e("./_core").inspectSource=function(e){return a.call(e)},(t.exports=function(e,t,r,u){var a="function"==typeof r;a&&(i(r,"name")||o(r,"name",t)),e[t]!==r&&(a&&(i(r,s)||o(r,s,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=r:u?e[t]?e[t]=r:o(e,t,r):(delete e[t],o(e,t,r)))})(Function.prototype,u,function(){return"function"==typeof this&&this[s]||a.call(this)})},{"./_core":143,"./_global":158,"./_has":159,"./_hide":160,"./_uid":234}],208:[function(e,t,r){t.exports=function(e,t){var r=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,r)}}},{}],209:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],210:[function(e,t,r){var n=e("./_is-object"),o=e("./_an-object"),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,n){try{n=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),n(t,[]),r=!(t instanceof Array)}catch(e){r=!0}return function(e,t){return i(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:i}},{"./_an-object":127,"./_ctx":145,"./_is-object":169,"./_object-gopd":190}],211:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_object-dp"),i=e("./_descriptors"),s=e("./_wks")("species");t.exports=function(e){var t=n[e];i&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},{"./_descriptors":148,"./_global":158,"./_object-dp":187,"./_wks":237}],212:[function(e,t,r){arguments[4][96][0].apply(r,arguments)},{"./_has":159,"./_object-dp":187,"./_wks":237,dup:96}],213:[function(e,t,r){arguments[4][97][0].apply(r,arguments)},{"./_shared":214,"./_uid":234,dup:97}],214:[function(e,t,r){arguments[4][98][0].apply(r,arguments)},{"./_global":158,dup:98}],215:[function(e,t,r){arguments[4][99][0].apply(r,arguments)},{"./_a-function":123,"./_an-object":127,"./_wks":237,dup:99}],216:[function(e,t,r){var n=e("./_fails");t.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},{"./_fails":154}],217:[function(e,t,r){arguments[4][100][0].apply(r,arguments)},{"./_defined":147,"./_to-integer":226,dup:100}],218:[function(e,t,r){var n=e("./_is-regexp"),o=e("./_defined");t.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(e))}},{"./_defined":147,"./_is-regexp":170}],219:[function(e,t,r){var n=e("./_export"),o=e("./_fails"),i=e("./_defined"),s=/"/g,u=function(e,t,r,n){var o=String(i(e)),u="<"+t;return""!==r&&(u+=" "+r+'="'+String(n).replace(s,"&quot;")+'"'),u+">"+o+"</"+t+">"};t.exports=function(e,t){var r={};r[e]=t(u),n(n.P+n.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",r)}},{"./_defined":147,"./_export":152,"./_fails":154}],220:[function(e,t,r){var n=e("./_to-length"),o=e("./_string-repeat"),i=e("./_defined");t.exports=function(e,t,r,s){var u=String(i(e)),a=u.length,c=void 0===r?" ":String(r),f=n(t);if(f<=a||""==c)return u;var l=f-a,d=o.call(c,Math.ceil(l/c.length));return d.length>l&&(d=d.slice(0,l)),s?d+u:u+d}},{"./_defined":147,"./_string-repeat":221,"./_to-length":228}],221:[function(e,t,r){"use strict";var n=e("./_to-integer"),o=e("./_defined");t.exports=function(e){var t=String(o(this)),r="",i=n(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}},{"./_defined":147,"./_to-integer":226}],222:[function(e,t,r){var n=e("./_export"),o=e("./_defined"),i=e("./_fails"),s=e("./_string-ws"),u="["+s+"]",a="​",c=RegExp("^"+u+u+"*"),f=RegExp(u+u+"*$"),l=function(e,t,r){var o={},u=i(function(){return!!s[e]()||a[e]()!=a}),c=o[e]=u?t(d):s[e];r&&(o[r]=c),n(n.P+n.F*u,"String",o)},d=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(f,"")),e};t.exports=l},{"./_defined":147,"./_export":152,"./_fails":154,"./_string-ws":223}],223:[function(e,t,r){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],224:[function(e,t,r){arguments[4][101][0].apply(r,arguments)},{"./_cof":138,"./_ctx":145,"./_dom-create":149,"./_global":158,"./_html":161,"./_invoke":164,dup:101}],225:[function(e,t,r){arguments[4][102][0].apply(r,arguments)},{"./_to-integer":226,dup:102}],226:[function(e,t,r){arguments[4][103][0].apply(r,arguments)},{dup:103}],227:[function(e,t,r){arguments[4][104][0].apply(r,arguments)},{"./_defined":147,"./_iobject":165,dup:104}],228:[function(e,t,r){arguments[4][105][0].apply(r,arguments)},{"./_to-integer":226,dup:105}],229:[function(e,t,r){arguments[4][106][0].apply(r,arguments)},{"./_defined":147,dup:106}],230:[function(e,t,r){arguments[4][107][0].apply(r,arguments)},{"./_is-object":169,dup:107}],231:[function(e,t,r){"use strict";if(e("./_descriptors")){var n=e("./_library"),o=e("./_global"),i=e("./_fails"),s=e("./_export"),u=e("./_typed"),a=e("./_typed-buffer"),c=e("./_ctx"),f=e("./_an-instance"),l=e("./_property-desc"),d=e("./_hide"),p=e("./_redefine-all"),h=e("./_to-integer"),b=e("./_to-length"),v=e("./_to-index"),y=e("./_to-primitive"),_=e("./_has"),m=e("./_same-value"),g=e("./_classof"),w=e("./_is-object"),x=e("./_to-object"),j=e("./_is-array-iter"),k=e("./_object-create"),O=e("./_object-gpo"),S=e("./_object-gopn").f,E=e("./core.get-iterator-method"),A=e("./_uid"),P=e("./_wks"),C=e("./_array-methods"),I=e("./_array-includes"),T=e("./_species-constructor"),D=e("./es6.array.iterator"),M=e("./_iterators"),R=e("./_iter-detect"),B=e("./_set-species"),N=e("./_array-fill"),F=e("./_array-copy-within"),L=e("./_object-dp"),$=e("./_object-gopd"),q=L.f,U=$.f,z=o.RangeError,V=o.TypeError,K=o.Uint8Array,G="ArrayBuffer",J="Shared"+G,W="BYTES_PER_ELEMENT",H="prototype",Y=Array[H],Q=a.ArrayBuffer,Z=a.DataView,X=C(0),ee=C(2),te=C(3),re=C(4),ne=C(5),oe=C(6),ie=I(!0),se=I(!1),ue=D.values,ae=D.keys,ce=D.entries,fe=Y.lastIndexOf,le=Y.reduce,de=Y.reduceRight,pe=Y.join,he=Y.sort,be=Y.slice,ve=Y.toString,ye=Y.toLocaleString,_e=P("iterator"),me=P("toStringTag"),ge=A("typed_constructor"),we=A("def_constructor"),xe=u.CONSTR,je=u.TYPED,ke=u.VIEW,Oe="Wrong length!",Se=C(1,function(e,t){return Te(T(e,e[we]),t)}),Ee=i(function(){return 1===new K(new Uint16Array([1]).buffer)[0]}),Ae=!!K&&!!K[H].set&&i(function(){new K(1).set({})}),Pe=function(e,t){if(void 0===e)throw V(Oe);var r=+e,n=b(e);if(t&&!m(r,n))throw z(Oe);return n},Ce=function(e,t){var r=h(e);if(r<0||r%t)throw z("Wrong offset!");return r},Ie=function(e){if(w(e)&&je in e)return e;throw V(e+" is not a typed array!")},Te=function(e,t){if(!(w(e)&&ge in e))throw V("It is not a typed array constructor!");return new e(t)},De=function(e,t){return Me(T(e,e[we]),t)},Me=function(e,t){for(var r=0,n=t.length,o=Te(e,n);n>r;)o[r]=t[r++];return o},Re=function(e,t,r){q(e,t,{get:function(){return this._d[r]}})},Be=function(e){var t,r,n,o,i,s,u=x(e),a=arguments.length,f=a>1?arguments[1]:void 0,l=void 0!==f,d=E(u);if(void 0!=d&&!j(d)){for(s=d.call(u),n=[],t=0;!(i=s.next()).done;t++)n.push(i.value);u=n}for(l&&a>2&&(f=c(f,arguments[2],2)),t=0,r=b(u.length),o=Te(this,r);r>t;t++)o[t]=l?f(u[t],t):u[t];return o},Ne=function(){for(var e=0,t=arguments.length,r=Te(this,t);t>e;)r[e]=arguments[e++];return r},Fe=!!K&&i(function(){ye.call(new K(1))}),Le=function(){return ye.apply(Fe?be.call(Ie(this)):Ie(this),arguments)},$e={copyWithin:function(e,t){return F.call(Ie(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return re(Ie(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return N.apply(Ie(this),arguments)},filter:function(e){return De(this,ee(Ie(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ne(Ie(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return oe(Ie(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(Ie(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return se(Ie(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return ie(Ie(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return pe.apply(Ie(this),arguments)},lastIndexOf:function(e){return fe.apply(Ie(this),arguments)},map:function(e){return Se(Ie(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return le.apply(Ie(this),arguments)},reduceRight:function(e){return de.apply(Ie(this),arguments)},reverse:function(){for(var e,t=this,r=Ie(t).length,n=Math.floor(r/2),o=0;o<n;)e=t[o],t[o++]=t[--r],t[r]=e;return t},some:function(e){return te(Ie(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return he.call(Ie(this),e);
},subarray:function(e,t){var r=Ie(this),n=r.length,o=v(e,n);return new(T(r,r[we]))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,b((void 0===t?n:v(t,n))-o))}},qe=function(e,t){return De(this,be.call(Ie(this),e,t))},Ue=function(e){Ie(this);var t=Ce(arguments[1],1),r=this.length,n=x(e),o=b(n.length),i=0;if(o+t>r)throw z(Oe);for(;i<o;)this[t+i]=n[i++]},ze={entries:function(){return ce.call(Ie(this))},keys:function(){return ae.call(Ie(this))},values:function(){return ue.call(Ie(this))}},Ve=function(e,t){return w(e)&&e[je]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ke=function(e,t){return Ve(e,t=y(t,!0))?l(2,e[t]):U(e,t)},Ge=function(e,t,r){return!(Ve(e,t=y(t,!0))&&w(r)&&_(r,"value"))||_(r,"get")||_(r,"set")||r.configurable||_(r,"writable")&&!r.writable||_(r,"enumerable")&&!r.enumerable?q(e,t,r):(e[t]=r.value,e)};xe||($.f=Ke,L.f=Ge),s(s.S+s.F*!xe,"Object",{getOwnPropertyDescriptor:Ke,defineProperty:Ge}),i(function(){ve.call({})})&&(ve=ye=function(){return pe.call(this)});var Je=p({},$e);p(Je,ze),d(Je,_e,ze.values),p(Je,{slice:qe,set:Ue,constructor:function(){},toString:ve,toLocaleString:Le}),Re(Je,"buffer","b"),Re(Je,"byteOffset","o"),Re(Je,"byteLength","l"),Re(Je,"length","e"),q(Je,me,{get:function(){return this[je]}}),t.exports=function(e,t,r,a){a=!!a;var c=e+(a?"Clamped":"")+"Array",l="Uint8Array"!=c,p="get"+e,h="set"+e,v=o[c],y=v||{},_=v&&O(v),m=!v||!u.ABV,x={},j=v&&v[H],E=function(e,r){var n=e._d;return n.v[p](r*t+n.o,Ee)},A=function(e,r,n){var o=e._d;a&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),o.v[h](r*t+o.o,n,Ee)},P=function(e,t){q(e,t,{get:function(){return E(this,t)},set:function(e){return A(this,t,e)},enumerable:!0})};m?(v=r(function(e,r,n,o){f(e,v,c,"_d");var i,s,u,a,l=0,p=0;if(w(r)){if(!(r instanceof Q||(a=g(r))==G||a==J))return je in r?Me(v,r):Be.call(v,r);i=r,p=Ce(n,t);var h=r.byteLength;if(void 0===o){if(h%t)throw z(Oe);if(s=h-p,s<0)throw z(Oe)}else if(s=b(o)*t,s+p>h)throw z(Oe);u=s/t}else u=Pe(r,!0),s=u*t,i=new Q(s);for(d(e,"_d",{b:i,o:p,l:s,e:u,v:new Z(i)});l<u;)P(e,l++)}),j=v[H]=k(Je),d(j,"constructor",v)):R(function(e){new v(null),new v(e)},!0)||(v=r(function(e,r,n,o){f(e,v,c);var i;return w(r)?r instanceof Q||(i=g(r))==G||i==J?void 0!==o?new y(r,Ce(n,t),o):void 0!==n?new y(r,Ce(n,t)):new y(r):je in r?Me(v,r):Be.call(v,r):new y(Pe(r,l))}),X(_!==Function.prototype?S(y).concat(S(_)):S(y),function(e){e in v||d(v,e,y[e])}),v[H]=j,n||(j.constructor=v));var C=j[_e],I=!!C&&("values"==C.name||void 0==C.name),T=ze.values;d(v,ge,!0),d(j,je,c),d(j,ke,!0),d(j,we,v),(a?new v(1)[me]==c:me in j)||q(j,me,{get:function(){return c}}),x[c]=v,s(s.G+s.W+s.F*(v!=y),x),s(s.S,c,{BYTES_PER_ELEMENT:t,from:Be,of:Ne}),W in j||d(j,W,t),s(s.P,c,$e),B(c),s(s.P+s.F*Ae,c,{set:Ue}),s(s.P+s.F*!I,c,ze),s(s.P+s.F*(j.toString!=ve),c,{toString:ve}),s(s.P+s.F*i(function(){new v(1).slice()}),c,{slice:qe}),s(s.P+s.F*(i(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()})||!i(function(){j.toLocaleString.call([1,2])})),c,{toLocaleString:Le}),M[c]=I?C:T,n||I||d(j,_e,T)}}else t.exports=function(){}},{"./_an-instance":126,"./_array-copy-within":128,"./_array-fill":129,"./_array-includes":131,"./_array-methods":132,"./_classof":137,"./_ctx":145,"./_descriptors":148,"./_export":152,"./_fails":154,"./_global":158,"./_has":159,"./_hide":160,"./_is-array-iter":166,"./_is-object":169,"./_iter-detect":174,"./_iterators":176,"./_library":178,"./_object-create":186,"./_object-dp":187,"./_object-gopd":190,"./_object-gopn":192,"./_object-gpo":194,"./_property-desc":205,"./_redefine-all":206,"./_same-value":209,"./_set-species":211,"./_species-constructor":215,"./_to-index":225,"./_to-integer":226,"./_to-length":228,"./_to-object":229,"./_to-primitive":230,"./_typed":233,"./_typed-buffer":232,"./_uid":234,"./_wks":237,"./core.get-iterator-method":238,"./es6.array.iterator":250}],232:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_descriptors"),i=e("./_library"),s=e("./_typed"),u=e("./_hide"),a=e("./_redefine-all"),c=e("./_fails"),f=e("./_an-instance"),l=e("./_to-integer"),d=e("./_to-length"),p=e("./_object-gopn").f,h=e("./_object-dp").f,b=e("./_array-fill"),v=e("./_set-to-string-tag"),y="ArrayBuffer",_="DataView",m="prototype",g="Wrong length!",w="Wrong index!",x=n[y],j=n[_],k=n.Math,O=n.RangeError,S=n.Infinity,E=x,A=k.abs,P=k.pow,C=k.floor,I=k.log,T=k.LN2,D="buffer",M="byteLength",R="byteOffset",B=o?"_b":D,N=o?"_l":M,F=o?"_o":R,L=function(e,t,r){var n,o,i,s=Array(r),u=8*r-t-1,a=(1<<u)-1,c=a>>1,f=23===t?P(2,-24)-P(2,-77):0,l=0,d=e<0||0===e&&1/e<0?1:0;for(e=A(e),e!=e||e===S?(o=e!=e?1:0,n=a):(n=C(I(e)/T),e*(i=P(2,-n))<1&&(n--,i*=2),e+=n+c>=1?f/i:f*P(2,1-c),e*i>=2&&(n++,i/=2),n+c>=a?(o=0,n=a):n+c>=1?(o=(e*i-1)*P(2,t),n+=c):(o=e*P(2,c-1)*P(2,t),n=0));t>=8;s[l++]=255&o,o/=256,t-=8);for(n=n<<t|o,u+=t;u>0;s[l++]=255&n,n/=256,u-=8);return s[--l]|=128*d,s},$=function(e,t,r){var n,o=8*r-t-1,i=(1<<o)-1,s=i>>1,u=o-7,a=r-1,c=e[a--],f=127&c;for(c>>=7;u>0;f=256*f+e[a],a--,u-=8);for(n=f&(1<<-u)-1,f>>=-u,u+=t;u>0;n=256*n+e[a],a--,u-=8);if(0===f)f=1-s;else{if(f===i)return n?NaN:c?-S:S;n+=P(2,t),f-=s}return(c?-1:1)*n*P(2,f-t)},q=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},U=function(e){return[255&e]},z=function(e){return[255&e,e>>8&255]},V=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},K=function(e){return L(e,52,8)},G=function(e){return L(e,23,4)},J=function(e,t,r){h(e[m],t,{get:function(){return this[r]}})},W=function(e,t,r,n){var o=+r,i=l(o);if(o!=i||i<0||i+t>e[N])throw O(w);var s=e[B]._b,u=i+e[F],a=s.slice(u,u+t);return n?a:a.reverse()},H=function(e,t,r,n,o,i){var s=+r,u=l(s);if(s!=u||u<0||u+t>e[N])throw O(w);for(var a=e[B]._b,c=u+e[F],f=n(+o),d=0;d<t;d++)a[c+d]=f[i?d:t-d-1]},Y=function(e,t){f(e,x,y);var r=+t,n=d(r);if(r!=n)throw O(g);return n};if(s.ABV){if(!c(function(){new x})||!c(function(){new x(.5)})){x=function(e){return new E(Y(this,e))};for(var Q,Z=x[m]=E[m],X=p(E),ee=0;X.length>ee;)(Q=X[ee++])in x||u(x,Q,E[Q]);i||(Z.constructor=x)}var te=new j(new x(2)),re=j[m].setInt8;te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||a(j[m],{setInt8:function(e,t){re.call(this,e,t<<24>>24)},setUint8:function(e,t){re.call(this,e,t<<24>>24)}},!0)}else x=function(e){var t=Y(this,e);this._b=b.call(Array(t),0),this[N]=t},j=function(e,t,r){f(this,j,_),f(e,x,_);var n=e[N],o=l(t);if(o<0||o>n)throw O("Wrong offset!");if(r=void 0===r?n-o:d(r),o+r>n)throw O(g);this[B]=e,this[F]=o,this[N]=r},o&&(J(x,M,"_l"),J(j,D,"_b"),J(j,M,"_l"),J(j,R,"_o")),a(j[m],{getInt8:function(e){return W(this,1,e)[0]<<24>>24},getUint8:function(e){return W(this,1,e)[0]},getInt16:function(e){var t=W(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=W(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return q(W(this,4,e,arguments[1]))},getUint32:function(e){return q(W(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return $(W(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return $(W(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){H(this,1,e,U,t)},setUint8:function(e,t){H(this,1,e,U,t)},setInt16:function(e,t){H(this,2,e,z,t,arguments[2])},setUint16:function(e,t){H(this,2,e,z,t,arguments[2])},setInt32:function(e,t){H(this,4,e,V,t,arguments[2])},setUint32:function(e,t){H(this,4,e,V,t,arguments[2])},setFloat32:function(e,t){H(this,4,e,G,t,arguments[2])},setFloat64:function(e,t){H(this,8,e,K,t,arguments[2])}});v(x,y),v(j,_),u(j[m],s.VIEW,!0),r[y]=x,r[_]=j},{"./_an-instance":126,"./_array-fill":129,"./_descriptors":148,"./_fails":154,"./_global":158,"./_hide":160,"./_library":178,"./_object-dp":187,"./_object-gopn":192,"./_redefine-all":206,"./_set-to-string-tag":212,"./_to-integer":226,"./_to-length":228,"./_typed":233}],233:[function(e,t,r){for(var n,o=e("./_global"),i=e("./_hide"),s=e("./_uid"),u=s("typed_array"),a=s("view"),c=!(!o.ArrayBuffer||!o.DataView),f=c,l=0,d=9,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<d;)(n=o[p[l++]])?(i(n.prototype,u,!0),i(n.prototype,a,!0)):f=!1;t.exports={ABV:c,CONSTR:f,TYPED:u,VIEW:a}},{"./_global":158,"./_hide":160,"./_uid":234}],234:[function(e,t,r){arguments[4][108][0].apply(r,arguments)},{dup:108}],235:[function(e,t,r){arguments[4][109][0].apply(r,arguments)},{"./_core":143,"./_global":158,"./_library":178,"./_object-dp":187,"./_wks-ext":236,dup:109}],236:[function(e,t,r){arguments[4][110][0].apply(r,arguments)},{"./_wks":237,dup:110}],237:[function(e,t,r){arguments[4][111][0].apply(r,arguments)},{"./_global":158,"./_shared":214,"./_uid":234,dup:111}],238:[function(e,t,r){arguments[4][112][0].apply(r,arguments)},{"./_classof":137,"./_core":143,"./_iterators":176,"./_wks":237,dup:112}],239:[function(e,t,r){var n=e("./_export"),o=e("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(e){return o(e)}})},{"./_export":152,"./_replacer":208}],240:[function(e,t,r){var n=e("./_export");n(n.P,"Array",{copyWithin:e("./_array-copy-within")}),e("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":125,"./_array-copy-within":128,"./_export":152}],241:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(4);n(n.P+n.F*!e("./_strict-method")([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":132,"./_export":152,"./_strict-method":216}],242:[function(e,t,r){var n=e("./_export");n(n.P,"Array",{fill:e("./_array-fill")}),e("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":125,"./_array-fill":129,"./_export":152}],243:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(2);n(n.P+n.F*!e("./_strict-method")([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":132,"./_export":152,"./_strict-method":216}],244:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(6),i="findIndex",s=!0;i in[]&&Array(1)[i](function(){s=!1}),n(n.P+n.F*s,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(i)},{"./_add-to-unscopables":125,"./_array-methods":132,"./_export":152}],245:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(5),i="find",s=!0;i in[]&&Array(1)[i](function(){s=!1}),n(n.P+n.F*s,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(i)},{"./_add-to-unscopables":125,"./_array-methods":132,"./_export":152}],246:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(0),i=e("./_strict-method")([].forEach,!0);n(n.P+n.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":132,"./_export":152,"./_strict-method":216}],247:[function(e,t,r){arguments[4][113][0].apply(r,arguments)},{"./_create-property":144,"./_ctx":145,"./_export":152,"./_is-array-iter":166,"./_iter-call":171,"./_iter-detect":174,"./_to-length":228,"./_to-object":229,"./core.get-iterator-method":238,dup:113}],248:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-includes")(!1),i=[].indexOf,s=!!i&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(s||!e("./_strict-method")(i)),"Array",{indexOf:function(e){return s?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},{"./_array-includes":131,"./_export":152,"./_strict-method":216}],249:[function(e,t,r){var n=e("./_export");n(n.S,"Array",{isArray:e("./_is-array")})},{"./_export":152,"./_is-array":167}],250:[function(e,t,r){arguments[4][114][0].apply(r,arguments)},{"./_add-to-unscopables":125,"./_iter-define":173,"./_iter-step":175,"./_iterators":176,"./_to-iobject":227,dup:114}],251:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-iobject"),i=[].join;n(n.P+n.F*(e("./_iobject")!=Object||!e("./_strict-method")(i)),"Array",{join:function(e){return i.call(o(this),void 0===e?",":e)}})},{"./_export":152,"./_iobject":165,"./_strict-method":216,"./_to-iobject":227}],252:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-iobject"),i=e("./_to-integer"),s=e("./_to-length"),u=[].lastIndexOf,a=!!u&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(a||!e("./_strict-method")(u)),"Array",{lastIndexOf:function(e){if(a)return u.apply(this,arguments)||0;var t=o(this),r=s(t.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,i(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},{"./_export":152,"./_strict-method":216,"./_to-integer":226,"./_to-iobject":227,"./_to-length":228}],253:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(1);n(n.P+n.F*!e("./_strict-method")([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":132,"./_export":152,"./_strict-method":216}],254:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_create-property");n(n.S+n.F*e("./_fails")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)o(r,e,arguments[e++]);return r.length=t,r}})},{"./_create-property":144,"./_export":152,"./_fails":154}],255:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-reduce");n(n.P+n.F*!e("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},{"./_array-reduce":133,"./_export":152,"./_strict-method":216}],256:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-reduce");n(n.P+n.F*!e("./_strict-method")([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},{"./_array-reduce":133,"./_export":152,"./_strict-method":216}],257:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_html"),i=e("./_cof"),s=e("./_to-index"),u=e("./_to-length"),a=[].slice;n(n.P+n.F*e("./_fails")(function(){o&&a.call(o)}),"Array",{slice:function(e,t){var r=u(this.length),n=i(this);if(t=void 0===t?r:t,"Array"==n)return a.call(this,e,t);for(var o=s(e,r),c=s(t,r),f=u(c-o),l=Array(f),d=0;d<f;d++)l[d]="String"==n?this.charAt(o+d):this[o+d];return l}})},{"./_cof":138,"./_export":152,"./_fails":154,"./_html":161,"./_to-index":225,"./_to-length":228}],258:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-methods")(3);n(n.P+n.F*!e("./_strict-method")([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":132,"./_export":152,"./_strict-method":216}],259:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_a-function"),i=e("./_to-object"),s=e("./_fails"),u=[].sort,a=[1,2,3];n(n.P+n.F*(s(function(){a.sort(void 0)})||!s(function(){a.sort(null)})||!e("./_strict-method")(u)),"Array",{sort:function(e){return void 0===e?u.call(i(this)):u.call(i(this),o(e))}})},{"./_a-function":123,"./_export":152,"./_fails":154,"./_strict-method":216,"./_to-object":229}],260:[function(e,t,r){e("./_set-species")("Array")},{"./_set-species":211}],261:[function(e,t,r){var n=e("./_export");n(n.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":152}],262:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_fails"),i=Date.prototype.getTime,s=function(e){return e>9?e:"0"+e};n(n.P+n.F*(o(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!o(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+"."+(r>99?r:"0"+s(r))+"Z"}})},{"./_export":152,"./_fails":154}],263:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_to-primitive");n(n.P+n.F*e("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),r=i(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},{"./_export":152,"./_fails":154,"./_to-object":229,"./_to-primitive":230}],264:[function(e,t,r){var n=e("./_wks")("toPrimitive"),o=Date.prototype;n in o||e("./_hide")(o,n,e("./_date-to-primitive"))},{"./_date-to-primitive":146,"./_hide":160,"./_wks":237}],265:[function(e,t,r){var n=Date.prototype,o="Invalid Date",i="toString",s=n[i],u=n.getTime;new Date(NaN)+""!=o&&e("./_redefine")(n,i,function(){var e=u.call(this);return e===e?s.call(this):o})},{"./_redefine":207}],266:[function(e,t,r){var n=e("./_export");n(n.P,"Function",{bind:e("./_bind")})},{"./_bind":136,"./_export":152}],267:[function(e,t,r){"use strict";var n=e("./_is-object"),o=e("./_object-gpo"),i=e("./_wks")("hasInstance"),s=Function.prototype;i in s||e("./_object-dp").f(s,i,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},{"./_is-object":169,"./_object-dp":187,"./_object-gpo":194,"./_wks":237}],268:[function(e,t,r){var n=e("./_object-dp").f,o=e("./_property-desc"),i=e("./_has"),s=Function.prototype,u=/^\s*function ([^ (]*)/,a="name",c=Object.isExtensible||function(){return!0};a in s||e("./_descriptors")&&n(s,a,{configurable:!0,get:function(){try{var e=this,t=(""+e).match(u)[1];return i(e,a)||!c(e)||n(e,a,o(5,t)),t}catch(e){return""}}})},{"./_descriptors":148,"./_has":159,"./_object-dp":187,"./_property-desc":205}],269:[function(e,t,r){"use strict";var n=e("./_collection-strong");t.exports=e("./_collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(this,e);return t&&t.v},set:function(e,t){return n.def(this,0===e?0:e,t)}},n,!0)},{"./_collection":142,"./_collection-strong":139}],270:[function(e,t,r){var n=e("./_export"),o=e("./_math-log1p"),i=Math.sqrt,s=Math.acosh;n(n.S+n.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},{"./_export":152,"./_math-log1p":180}],271:[function(e,t,r){function n(e){return isFinite(e=+e)&&0!=e?e<0?-n(-e):Math.log(e+Math.sqrt(e*e+1)):e}var o=e("./_export"),i=Math.asinh;o(o.S+o.F*!(i&&1/i(0)>0),"Math",{asinh:n})},{"./_export":152}],272:[function(e,t,r){var n=e("./_export"),o=Math.atanh;n(n.S+n.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{"./_export":152}],273:[function(e,t,r){var n=e("./_export"),o=e("./_math-sign");n(n.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},{"./_export":152,"./_math-sign":181}],274:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{"./_export":152}],275:[function(e,t,r){var n=e("./_export"),o=Math.exp;n(n.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},{"./_export":152}],276:[function(e,t,r){var n=e("./_export"),o=e("./_math-expm1");n(n.S+n.F*(o!=Math.expm1),"Math",{expm1:o})},{"./_export":152,"./_math-expm1":179}],277:[function(e,t,r){var n=e("./_export"),o=e("./_math-sign"),i=Math.pow,s=i(2,-52),u=i(2,-23),a=i(2,127)*(2-u),c=i(2,-126),f=function(e){return e+1/s-1/s};n(n.S,"Math",{fround:function(e){var t,r,n=Math.abs(e),i=o(e);return n<c?i*f(n/c/u)*c*u:(t=(1+u/s)*n,r=t-(t-n),r>a||r!=r?i*(1/0):i*r)}})},{"./_export":152,"./_math-sign":181}],278:[function(e,t,r){var n=e("./_export"),o=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var r,n,i=0,s=0,u=arguments.length,a=0;s<u;)r=o(arguments[s++]),a<r?(n=a/r,i=i*n*n+1,a=r):r>0?(n=r/a,i+=n*n):i+=r;return a===1/0?1/0:a*Math.sqrt(i)}})},{"./_export":152}],279:[function(e,t,r){var n=e("./_export"),o=Math.imul;n(n.S+n.F*e("./_fails")(function(){return o(4294967295,5)!=-5||2!=o.length}),"Math",{imul:function(e,t){var r=65535,n=+e,o=+t,i=r&n,s=r&o;return 0|i*s+((r&n>>>16)*s+i*(r&o>>>16)<<16>>>0)}})},{"./_export":152,"./_fails":154}],280:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},{"./_export":152}],281:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{log1p:e("./_math-log1p")})},{"./_export":152,"./_math-log1p":180}],282:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{"./_export":152}],283:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{sign:e("./_math-sign")})},{"./_export":152,"./_math-sign":181}],284:[function(e,t,r){var n=e("./_export"),o=e("./_math-expm1"),i=Math.exp;n(n.S+n.F*e("./_fails")(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},{"./_export":152,"./_fails":154,"./_math-expm1":179}],285:[function(e,t,r){var n=e("./_export"),o=e("./_math-expm1"),i=Math.exp;n(n.S,"Math",{tanh:function(e){var t=o(e=+e),r=o(-e);return t==1/0?1:r==1/0?-1:(t-r)/(i(e)+i(-e))}})},{"./_export":152,"./_math-expm1":179}],286:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{"./_export":152}],287:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_has"),i=e("./_cof"),s=e("./_inherit-if-required"),u=e("./_to-primitive"),a=e("./_fails"),c=e("./_object-gopn").f,f=e("./_object-gopd").f,l=e("./_object-dp").f,d=e("./_string-trim").trim,p="Number",h=n[p],b=h,v=h.prototype,y=i(e("./_object-create")(v))==p,_="trim"in String.prototype,m=function(e){var t=u(e,!1);if("string"==typeof t&&t.length>2){t=_?t.trim():d(t,3);var r,n,o,i=t.charCodeAt(0);if(43===i||45===i){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+t}for(var s,a=t.slice(2),c=0,f=a.length;c<f;c++)if(s=a.charCodeAt(c),s<48||s>o)return NaN;return parseInt(a,n)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof h&&(y?a(function(){v.valueOf.call(r)}):i(r)!=p)?s(new b(m(t)),r,h):m(t)};for(var g,w=e("./_descriptors")?c(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)o(b,g=w[x])&&!o(h,g)&&l(h,g,f(b,g));h.prototype=v,v.constructor=h,e("./_redefine")(n,p,h)}},{"./_cof":138,"./_descriptors":148,"./_fails":154,"./_global":158,"./_has":159,"./_inherit-if-required":163,"./_object-create":186,"./_object-dp":187,"./_object-gopd":190,"./_object-gopn":192,"./_redefine":207,"./_string-trim":222,"./_to-primitive":230}],288:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":152}],289:[function(e,t,r){var n=e("./_export"),o=e("./_global").isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},{"./_export":152,"./_global":158}],290:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":152,"./_is-integer":168}],291:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{isNaN:function(e){return e!=e}})},{"./_export":152}],292:[function(e,t,r){var n=e("./_export"),o=e("./_is-integer"),i=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},{"./_export":152,"./_is-integer":168}],293:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":152}],294:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":152}],295:[function(e,t,r){var n=e("./_export"),o=e("./_parse-float");n(n.S+n.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},{"./_export":152,"./_parse-float":201}],296:[function(e,t,r){var n=e("./_export"),o=e("./_parse-int");n(n.S+n.F*(Number.parseInt!=o),"Number",{parseInt:o})},{"./_export":152,"./_parse-int":202}],297:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-integer"),i=e("./_a-number-value"),s=e("./_string-repeat"),u=1..toFixed,a=Math.floor,c=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",l="0",d=function(e,t){for(var r=-1,n=t;++r<6;)n+=e*c[r],c[r]=n%1e7,n=a(n/1e7)},p=function(e){for(var t=6,r=0;--t>=0;)r+=c[t],c[t]=a(r/e),r=r%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var r=String(c[e]);t=""===t?r:t+s.call(l,7-r.length)+r}return t},b=function(e,t,r){return 0===t?r:t%2===1?b(e,t-1,r*e):b(e*e,t/2,r)},v=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t};n(n.P+n.F*(!!u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e("./_fails")(function(){u.call({})})),"Number",{toFixed:function(e){var t,r,n,u,a=i(this,f),c=o(e),y="",_=l;if(c<0||c>20)throw RangeError(f);if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(y="-",a=-a),a>1e-21)if(t=v(a*b(2,69,1))-69,r=t<0?a*b(2,-t,1):a/b(2,t,1),r*=4503599627370496,t=52-t,t>0){for(d(0,r),n=c;n>=7;)d(1e7,0),n-=7;for(d(b(10,n,1),0),n=t-1;n>=23;)p(1<<23),n-=23;p(1<<n),d(1,1),p(2),_=h()}else d(0,r),d(1<<-t,0),_=h()+s.call(l,c);return c>0?(u=_.length,_=y+(u<=c?"0."+s.call(l,c-u)+_:_.slice(0,u-c)+"."+_.slice(u-c))):_=y+_,_}})},{"./_a-number-value":124,"./_export":152,"./_fails":154,"./_string-repeat":221,"./_to-integer":226}],298:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_fails"),i=e("./_a-number-value"),s=1..toPrecision;n(n.P+n.F*(o(function(){return"1"!==s.call(1,void 0)})||!o(function(){s.call({})})),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?s.call(t):s.call(t,e)}})},{"./_a-number-value":124,"./_export":152,"./_fails":154}],299:[function(e,t,r){var n=e("./_export");n(n.S+n.F,"Object",{assign:e("./_object-assign")})},{"./_export":152,"./_object-assign":185}],300:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":152,"./_object-create":186}],301:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperties:e("./_object-dps")})},{"./_descriptors":148,"./_export":152,"./_object-dps":188}],302:[function(e,t,r){arguments[4][115][0].apply(r,arguments)},{"./_descriptors":148,"./_export":152,"./_object-dp":187,dup:115}],303:[function(e,t,r){var n=e("./_is-object"),o=e("./_meta").onFreeze;e("./_object-sap")("freeze",function(e){return function(t){return e&&n(t)?e(o(t)):t}})},{"./_is-object":169,"./_meta":182,"./_object-sap":198}],304:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(e,t){return o(n(e),t)}})},{"./_object-gopd":190,"./_object-sap":198,"./_to-iobject":227}],305:[function(e,t,r){e("./_object-sap")("getOwnPropertyNames",function(){return e("./_object-gopn-ext").f})},{"./_object-gopn-ext":191,"./_object-sap":198}],306:[function(e,t,r){var n=e("./_to-object"),o=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return o(n(e))}})},{"./_object-gpo":194,"./_object-sap":198,"./_to-object":229}],307:[function(e,t,r){var n=e("./_is-object");e("./_object-sap")("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},{"./_is-object":169,"./_object-sap":198}],308:[function(e,t,r){var n=e("./_is-object");e("./_object-sap")("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},{"./_is-object":169,"./_object-sap":198}],309:[function(e,t,r){var n=e("./_is-object");e("./_object-sap")("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},{"./_is-object":169,"./_object-sap":198}],310:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{is:e("./_same-value")})},{"./_export":152,"./_same-value":209}],311:[function(e,t,r){var n=e("./_to-object"),o=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return o(n(e))}})},{"./_object-keys":196,"./_object-sap":198,"./_to-object":229}],312:[function(e,t,r){var n=e("./_is-object"),o=e("./_meta").onFreeze;e("./_object-sap")("preventExtensions",function(e){return function(t){return e&&n(t)?e(o(t)):t}})},{"./_is-object":169,"./_meta":182,"./_object-sap":198}],313:[function(e,t,r){var n=e("./_is-object"),o=e("./_meta").onFreeze;e("./_object-sap")("seal",function(e){return function(t){return e&&n(t)?e(o(t)):t}})},{"./_is-object":169,"./_meta":182,"./_object-sap":198}],314:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":152,"./_set-proto":210}],315:[function(e,t,r){"use strict";var n=e("./_classof"),o={};o[e("./_wks")("toStringTag")]="z",o+""!="[object z]"&&e("./_redefine")(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},{"./_classof":137,"./_redefine":207,"./_wks":237}],316:[function(e,t,r){var n=e("./_export"),o=e("./_parse-float");n(n.G+n.F*(parseFloat!=o),{parseFloat:o})},{"./_export":152,"./_parse-float":201}],317:[function(e,t,r){var n=e("./_export"),o=e("./_parse-int");n(n.G+n.F*(parseInt!=o),{parseInt:o})},{"./_export":152,"./_parse-int":202}],318:[function(e,t,r){arguments[4][117][0].apply(r,arguments)},{"./_a-function":123,"./_an-instance":126,"./_classof":137,"./_core":143,"./_ctx":145,"./_export":152,"./_for-of":157,"./_global":158,"./_is-object":169,"./_iter-detect":174,"./_library":178,"./_microtask":184,"./_redefine-all":206,"./_set-species":211,"./_set-to-string-tag":212,"./_species-constructor":215,"./_task":224,"./_wks":237,dup:117}],319:[function(e,t,r){var n=e("./_export"),o=e("./_a-function"),i=e("./_an-object"),s=(e("./_global").Reflect||{}).apply,u=Function.apply;n(n.S+n.F*!e("./_fails")(function(){s(function(){})}),"Reflect",{apply:function(e,t,r){var n=o(e),a=i(r);return s?s(n,t,a):u.call(n,t,a)}})},{"./_a-function":123,"./_an-object":127,"./_export":152,"./_fails":154,"./_global":158}],320:[function(e,t,r){var n=e("./_export"),o=e("./_object-create"),i=e("./_a-function"),s=e("./_an-object"),u=e("./_is-object"),a=e("./_fails"),c=e("./_bind"),f=(e("./_global").Reflect||{}).construct,l=a(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),d=!a(function(){f(function(){})});n(n.S+n.F*(l||d),"Reflect",{construct:function(e,t){i(e),s(t);var r=arguments.length<3?e:i(arguments[2]);if(d&&!l)return f(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(c.apply(e,n))}var a=r.prototype,p=o(u(a)?a:Object.prototype),h=Function.apply.call(e,p,t);return u(h)?h:p}})},{"./_a-function":123,"./_an-object":127,"./_bind":136,"./_export":152,"./_fails":154,"./_global":158,"./_is-object":169,"./_object-create":186}],321:[function(e,t,r){var n=e("./_object-dp"),o=e("./_export"),i=e("./_an-object"),s=e("./_to-primitive");o(o.S+o.F*e("./_fails")(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,r){i(e),t=s(t,!0),i(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},{"./_an-object":127,"./_export":152,"./_fails":154,"./_object-dp":187,"./_to-primitive":230}],322:[function(e,t,r){var n=e("./_export"),o=e("./_object-gopd").f,i=e("./_an-object");n(n.S,"Reflect",{deleteProperty:function(e,t){var r=o(i(e),t);return!(r&&!r.configurable)&&delete e[t]}})},{"./_an-object":127,"./_export":152,"./_object-gopd":190}],323:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_an-object"),i=function(e){this._t=o(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)};e("./_iter-create")(i,"Object",function(){var e,t=this,r=t._k;do if(t._i>=r.length)return{value:void 0,done:!0};while(!((e=r[t._i++])in t._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new i(e)}})},{"./_an-object":127,"./_export":152,"./_iter-create":172}],324:[function(e,t,r){var n=e("./_object-gopd"),o=e("./_export"),i=e("./_an-object");o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){
return n.f(i(e),t)}})},{"./_an-object":127,"./_export":152,"./_object-gopd":190}],325:[function(e,t,r){var n=e("./_export"),o=e("./_object-gpo"),i=e("./_an-object");n(n.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},{"./_an-object":127,"./_export":152,"./_object-gpo":194}],326:[function(e,t,r){function n(e,t){var r,u,f=arguments.length<3?e:arguments[2];return c(e)===f?e[t]:(r=o.f(e,t))?s(r,"value")?r.value:void 0!==r.get?r.get.call(f):void 0:a(u=i(e))?n(u,t,f):void 0}var o=e("./_object-gopd"),i=e("./_object-gpo"),s=e("./_has"),u=e("./_export"),a=e("./_is-object"),c=e("./_an-object");u(u.S,"Reflect",{get:n})},{"./_an-object":127,"./_export":152,"./_has":159,"./_is-object":169,"./_object-gopd":190,"./_object-gpo":194}],327:[function(e,t,r){var n=e("./_export");n(n.S,"Reflect",{has:function(e,t){return t in e}})},{"./_export":152}],328:[function(e,t,r){var n=e("./_export"),o=e("./_an-object"),i=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},{"./_an-object":127,"./_export":152}],329:[function(e,t,r){var n=e("./_export");n(n.S,"Reflect",{ownKeys:e("./_own-keys")})},{"./_export":152,"./_own-keys":200}],330:[function(e,t,r){var n=e("./_export"),o=e("./_an-object"),i=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},{"./_an-object":127,"./_export":152}],331:[function(e,t,r){var n=e("./_export"),o=e("./_set-proto");o&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},{"./_export":152,"./_set-proto":210}],332:[function(e,t,r){function n(e,t,r){var a,d,p=arguments.length<4?e:arguments[3],h=i.f(f(e),t);if(!h){if(l(d=s(e)))return n(d,t,r,p);h=c(0)}return u(h,"value")?!(h.writable===!1||!l(p))&&(a=i.f(p,t)||c(0),a.value=r,o.f(p,t,a),!0):void 0!==h.set&&(h.set.call(p,r),!0)}var o=e("./_object-dp"),i=e("./_object-gopd"),s=e("./_object-gpo"),u=e("./_has"),a=e("./_export"),c=e("./_property-desc"),f=e("./_an-object"),l=e("./_is-object");a(a.S,"Reflect",{set:n})},{"./_an-object":127,"./_export":152,"./_has":159,"./_is-object":169,"./_object-dp":187,"./_object-gopd":190,"./_object-gpo":194,"./_property-desc":205}],333:[function(e,t,r){var n=e("./_global"),o=e("./_inherit-if-required"),i=e("./_object-dp").f,s=e("./_object-gopn").f,u=e("./_is-regexp"),a=e("./_flags"),c=n.RegExp,f=c,l=c.prototype,d=/a/g,p=/a/g,h=new c(d)!==d;if(e("./_descriptors")&&(!h||e("./_fails")(function(){return p[e("./_wks")("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")}))){c=function(e,t){var r=this instanceof c,n=u(e),i=void 0===t;return!r&&n&&e.constructor===c&&i?e:o(h?new f(n&&!i?e.source:e,t):f((n=e instanceof c)?e.source:e,n&&i?a.call(e):t),r?this:l,c)};for(var b=(function(e){e in c||i(c,e,{configurable:!0,get:function(){return f[e]},set:function(t){f[e]=t}})}),v=s(f),y=0;v.length>y;)b(v[y++]);l.constructor=c,c.prototype=l,e("./_redefine")(n,"RegExp",c)}e("./_set-species")("RegExp")},{"./_descriptors":148,"./_fails":154,"./_flags":156,"./_global":158,"./_inherit-if-required":163,"./_is-regexp":170,"./_object-dp":187,"./_object-gopn":192,"./_redefine":207,"./_set-species":211,"./_wks":237}],334:[function(e,t,r){e("./_descriptors")&&"g"!=/./g.flags&&e("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:e("./_flags")})},{"./_descriptors":148,"./_flags":156,"./_object-dp":187}],335:[function(e,t,r){e("./_fix-re-wks")("match",1,function(e,t,r){return[function(r){"use strict";var n=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,n):new RegExp(r)[t](String(n))},r]})},{"./_fix-re-wks":155}],336:[function(e,t,r){e("./_fix-re-wks")("replace",2,function(e,t,r){return[function(n,o){"use strict";var i=e(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,i,o):r.call(String(i),n,o)},r]})},{"./_fix-re-wks":155}],337:[function(e,t,r){e("./_fix-re-wks")("search",1,function(e,t,r){return[function(r){"use strict";var n=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,n):new RegExp(r)[t](String(n))},r]})},{"./_fix-re-wks":155}],338:[function(e,t,r){e("./_fix-re-wks")("split",2,function(t,r,n){"use strict";var o=e("./_is-regexp"),i=n,s=[].push,u="split",a="length",c="lastIndex";if("c"=="abbc"[u](/(b)*/)[1]||4!="test"[u](/(?:)/,-1)[a]||2!="ab"[u](/(?:ab)*/)[a]||4!="."[u](/(.?)(.?)/)[a]||"."[u](/()()/)[a]>1||""[u](/.?/)[a]){var f=void 0===/()??/.exec("")[1];n=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!o(e))return i.call(r,e,t);var n,u,l,d,p,h=[],b=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,y=void 0===t?4294967295:t>>>0,_=new RegExp(e.source,b+"g");for(f||(n=new RegExp("^"+_.source+"$(?!\\s)",b));(u=_.exec(r))&&(l=u.index+u[0][a],!(l>v&&(h.push(r.slice(v,u.index)),!f&&u[a]>1&&u[0].replace(n,function(){for(p=1;p<arguments[a]-2;p++)void 0===arguments[p]&&(u[p]=void 0)}),u[a]>1&&u.index<r[a]&&s.apply(h,u.slice(1)),d=u[0][a],v=l,h[a]>=y)));)_[c]===u.index&&_[c]++;return v===r[a]?!d&&_.test("")||h.push(""):h.push(r.slice(v)),h[a]>y?h.slice(0,y):h}}else"0"[u](void 0,0)[a]&&(n=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function(e,o){var i=t(this),s=void 0==e?void 0:e[r];return void 0!==s?s.call(e,i,o):n.call(String(i),e,o)},n]})},{"./_fix-re-wks":155,"./_is-regexp":170}],339:[function(e,t,r){"use strict";e("./es6.regexp.flags");var n=e("./_an-object"),o=e("./_flags"),i=e("./_descriptors"),s="toString",u=/./[s],a=function(t){e("./_redefine")(RegExp.prototype,s,t,!0)};e("./_fails")(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?a(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):u.name!=s&&a(function(){return u.call(this)})},{"./_an-object":127,"./_descriptors":148,"./_fails":154,"./_flags":156,"./_redefine":207,"./es6.regexp.flags":334}],340:[function(e,t,r){"use strict";var n=e("./_collection-strong");t.exports=e("./_collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(this,e=0===e?0:e,e)}},n)},{"./_collection":142,"./_collection-strong":139}],341:[function(e,t,r){"use strict";e("./_string-html")("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{"./_string-html":219}],342:[function(e,t,r){"use strict";e("./_string-html")("big",function(e){return function(){return e(this,"big","","")}})},{"./_string-html":219}],343:[function(e,t,r){"use strict";e("./_string-html")("blink",function(e){return function(){return e(this,"blink","","")}})},{"./_string-html":219}],344:[function(e,t,r){"use strict";e("./_string-html")("bold",function(e){return function(){return e(this,"b","","")}})},{"./_string-html":219}],345:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-at")(!1);n(n.P,"String",{codePointAt:function(e){return o(this,e)}})},{"./_export":152,"./_string-at":217}],346:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-length"),i=e("./_string-context"),s="endsWith",u=""[s];n(n.P+n.F*e("./_fails-is-regexp")(s),"String",{endsWith:function(e){var t=i(this,e,s),r=arguments.length>1?arguments[1]:void 0,n=o(t.length),a=void 0===r?n:Math.min(o(r),n),c=String(e);return u?u.call(t,c,a):t.slice(a-c.length,a)===c}})},{"./_export":152,"./_fails-is-regexp":153,"./_string-context":218,"./_to-length":228}],347:[function(e,t,r){"use strict";e("./_string-html")("fixed",function(e){return function(){return e(this,"tt","","")}})},{"./_string-html":219}],348:[function(e,t,r){"use strict";e("./_string-html")("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},{"./_string-html":219}],349:[function(e,t,r){"use strict";e("./_string-html")("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},{"./_string-html":219}],350:[function(e,t,r){var n=e("./_export"),o=e("./_to-index"),i=String.fromCharCode,s=String.fromCodePoint;n(n.S+n.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,s=0;n>s;){if(t=+arguments[s++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?i(t):i(((t-=65536)>>10)+55296,t%1024+56320))}return r.join("")}})},{"./_export":152,"./_to-index":225}],351:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-context"),i="includes";n(n.P+n.F*e("./_fails-is-regexp")(i),"String",{includes:function(e){return!!~o(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{"./_export":152,"./_fails-is-regexp":153,"./_string-context":218}],352:[function(e,t,r){"use strict";e("./_string-html")("italics",function(e){return function(){return e(this,"i","","")}})},{"./_string-html":219}],353:[function(e,t,r){arguments[4][118][0].apply(r,arguments)},{"./_iter-define":173,"./_string-at":217,dup:118}],354:[function(e,t,r){"use strict";e("./_string-html")("link",function(e){return function(t){return e(this,"a","href",t)}})},{"./_string-html":219}],355:[function(e,t,r){var n=e("./_export"),o=e("./_to-iobject"),i=e("./_to-length");n(n.S,"String",{raw:function(e){for(var t=o(e.raw),r=i(t.length),n=arguments.length,s=[],u=0;r>u;)s.push(String(t[u++])),u<n&&s.push(String(arguments[u]));return s.join("")}})},{"./_export":152,"./_to-iobject":227,"./_to-length":228}],356:[function(e,t,r){var n=e("./_export");n(n.P,"String",{repeat:e("./_string-repeat")})},{"./_export":152,"./_string-repeat":221}],357:[function(e,t,r){"use strict";e("./_string-html")("small",function(e){return function(){return e(this,"small","","")}})},{"./_string-html":219}],358:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-length"),i=e("./_string-context"),s="startsWith",u=""[s];n(n.P+n.F*e("./_fails-is-regexp")(s),"String",{startsWith:function(e){var t=i(this,e,s),r=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return u?u.call(t,n,r):t.slice(r,r+n.length)===n}})},{"./_export":152,"./_fails-is-regexp":153,"./_string-context":218,"./_to-length":228}],359:[function(e,t,r){"use strict";e("./_string-html")("strike",function(e){return function(){return e(this,"strike","","")}})},{"./_string-html":219}],360:[function(e,t,r){"use strict";e("./_string-html")("sub",function(e){return function(){return e(this,"sub","","")}})},{"./_string-html":219}],361:[function(e,t,r){"use strict";e("./_string-html")("sup",function(e){return function(){return e(this,"sup","","")}})},{"./_string-html":219}],362:[function(e,t,r){"use strict";e("./_string-trim")("trim",function(e){return function(){return e(this,3)}})},{"./_string-trim":222}],363:[function(e,t,r){arguments[4][119][0].apply(r,arguments)},{"./_an-object":127,"./_descriptors":148,"./_enum-keys":151,"./_export":152,"./_fails":154,"./_global":158,"./_has":159,"./_hide":160,"./_is-array":167,"./_keyof":177,"./_library":178,"./_meta":182,"./_object-create":186,"./_object-dp":187,"./_object-gopd":190,"./_object-gopn":192,"./_object-gopn-ext":191,"./_object-gops":193,"./_object-keys":196,"./_object-pie":197,"./_property-desc":205,"./_redefine":207,"./_set-to-string-tag":212,"./_shared":214,"./_to-iobject":227,"./_to-primitive":230,"./_uid":234,"./_wks":237,"./_wks-define":235,"./_wks-ext":236,dup:119}],364:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_typed"),i=e("./_typed-buffer"),s=e("./_an-object"),u=e("./_to-index"),a=e("./_to-length"),c=e("./_is-object"),f=e("./_global").ArrayBuffer,l=e("./_species-constructor"),d=i.ArrayBuffer,p=i.DataView,h=o.ABV&&f.isView,b=d.prototype.slice,v=o.VIEW,y="ArrayBuffer";n(n.G+n.W+n.F*(f!==d),{ArrayBuffer:d}),n(n.S+n.F*!o.CONSTR,y,{isView:function(e){return h&&h(e)||c(e)&&v in e}}),n(n.P+n.U+n.F*e("./_fails")(function(){return!new d(2).slice(1,void 0).byteLength}),y,{slice:function(e,t){if(void 0!==b&&void 0===t)return b.call(s(this),e);for(var r=s(this).byteLength,n=u(e,r),o=u(void 0===t?r:t,r),i=new(l(this,d))(a(o-n)),c=new p(this),f=new p(i),h=0;n<o;)f.setUint8(h++,c.getUint8(n++));return i}}),e("./_set-species")(y)},{"./_an-object":127,"./_export":152,"./_fails":154,"./_global":158,"./_is-object":169,"./_set-species":211,"./_species-constructor":215,"./_to-index":225,"./_to-length":228,"./_typed":233,"./_typed-buffer":232}],365:[function(e,t,r){var n=e("./_export");n(n.G+n.W+n.F*!e("./_typed").ABV,{DataView:e("./_typed-buffer").DataView})},{"./_export":152,"./_typed":233,"./_typed-buffer":232}],366:[function(e,t,r){e("./_typed-array")("Float32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":231}],367:[function(e,t,r){e("./_typed-array")("Float64",8,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":231}],368:[function(e,t,r){e("./_typed-array")("Int16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":231}],369:[function(e,t,r){e("./_typed-array")("Int32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":231}],370:[function(e,t,r){e("./_typed-array")("Int8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":231}],371:[function(e,t,r){e("./_typed-array")("Uint16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":231}],372:[function(e,t,r){e("./_typed-array")("Uint32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":231}],373:[function(e,t,r){e("./_typed-array")("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":231}],374:[function(e,t,r){e("./_typed-array")("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}},!0)},{"./_typed-array":231}],375:[function(e,t,r){"use strict";var n,o=e("./_array-methods")(0),i=e("./_redefine"),s=e("./_meta"),u=e("./_object-assign"),a=e("./_collection-weak"),c=e("./_is-object"),f=s.getWeak,l=Object.isExtensible,d=a.ufstore,p={},h=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(c(e)){var t=f(e);return t===!0?d(this).get(e):t?t[this._i]:void 0}},set:function(e,t){return a.def(this,e,t)}},v=t.exports=e("./_collection")("WeakMap",h,b,a,!0,!0);7!=(new v).set((Object.freeze||Object)(p),7).get(p)&&(n=a.getConstructor(h),u(n.prototype,b),s.NEED=!0,o(["delete","has","get","set"],function(e){var t=v.prototype,r=t[e];i(t,e,function(t,o){if(c(t)&&!l(t)){this._f||(this._f=new n);var i=this._f[e](t,o);return"set"==e?this:i}return r.call(this,t,o)})}))},{"./_array-methods":132,"./_collection":142,"./_collection-weak":141,"./_is-object":169,"./_meta":182,"./_object-assign":185,"./_redefine":207}],376:[function(e,t,r){"use strict";var n=e("./_collection-weak");e("./_collection")("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(this,e,!0)}},n,!1,!0)},{"./_collection":142,"./_collection-weak":141}],377:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_array-includes")(!0);n(n.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":125,"./_array-includes":131,"./_export":152}],378:[function(e,t,r){var n=e("./_export"),o=e("./_microtask")(),i=e("./_global").process,s="process"==e("./_cof")(i);n(n.G,{asap:function(e){var t=s&&i.domain;o(t?t.bind(e):e)}})},{"./_cof":138,"./_export":152,"./_global":158,"./_microtask":184}],379:[function(e,t,r){var n=e("./_export"),o=e("./_cof");n(n.S,"Error",{isError:function(e){return"Error"===o(e)}})},{"./_cof":138,"./_export":152}],380:[function(e,t,r){var n=e("./_export");n(n.P+n.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":140,"./_export":152}],381:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{iaddh:function(e,t,r,n){var o=e>>>0,i=t>>>0,s=r>>>0;return i+(n>>>0)+((o&s|(o|s)&~(o+s>>>0))>>>31)|0}})},{"./_export":152}],382:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{imulh:function(e,t){var r=65535,n=+e,o=+t,i=n&r,s=o&r,u=n>>16,a=o>>16,c=(u*s>>>0)+(i*s>>>16);return u*a+(c>>16)+((i*a>>>0)+(c&r)>>16)}})},{"./_export":152}],383:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{isubh:function(e,t,r,n){var o=e>>>0,i=t>>>0,s=r>>>0;return i-(n>>>0)-((~o&s|~(o^s)&o-s>>>0)>>>31)|0}})},{"./_export":152}],384:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{umulh:function(e,t){var r=65535,n=+e,o=+t,i=n&r,s=o&r,u=n>>>16,a=o>>>16,c=(u*s>>>0)+(i*s>>>16);return u*a+(c>>>16)+((i*a>>>0)+(c&r)>>>16)}})},{"./_export":152}],385:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_a-function"),s=e("./_object-dp");e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__defineGetter__:function(e,t){s.f(o(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},{"./_a-function":123,"./_descriptors":148,"./_export":152,"./_object-dp":187,"./_object-forced-pam":189,"./_to-object":229}],386:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_a-function"),s=e("./_object-dp");e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__defineSetter__:function(e,t){s.f(o(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},{"./_a-function":123,"./_descriptors":148,"./_export":152,"./_object-dp":187,"./_object-forced-pam":189,"./_to-object":229}],387:[function(e,t,r){var n=e("./_export"),o=e("./_object-to-array")(!0);n(n.S,"Object",{entries:function(e){return o(e)}})},{"./_export":152,"./_object-to-array":199}],388:[function(e,t,r){var n=e("./_export"),o=e("./_own-keys"),i=e("./_to-iobject"),s=e("./_object-gopd"),u=e("./_create-property");n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r=i(e),n=s.f,a=o(r),c={},f=0;a.length>f;)u(c,t=a[f++],n(r,t));return c}})},{"./_create-property":144,"./_export":152,"./_object-gopd":190,"./_own-keys":200,"./_to-iobject":227}],389:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_to-primitive"),s=e("./_object-gpo"),u=e("./_object-gopd").f;e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__lookupGetter__:function(e){var t,r=o(this),n=i(e,!0);do if(t=u(r,n))return t.get;while(r=s(r))}})},{"./_descriptors":148,"./_export":152,"./_object-forced-pam":189,"./_object-gopd":190,"./_object-gpo":194,"./_to-object":229,"./_to-primitive":230}],390:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_to-object"),i=e("./_to-primitive"),s=e("./_object-gpo"),u=e("./_object-gopd").f;e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__lookupSetter__:function(e){var t,r=o(this),n=i(e,!0);do if(t=u(r,n))return t.set;while(r=s(r))}})},{"./_descriptors":148,"./_export":152,"./_object-forced-pam":189,"./_object-gopd":190,"./_object-gpo":194,"./_to-object":229,"./_to-primitive":230}],391:[function(e,t,r){var n=e("./_export"),o=e("./_object-to-array")(!1);n(n.S,"Object",{values:function(e){return o(e)}})},{"./_export":152,"./_object-to-array":199}],392:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_global"),i=e("./_core"),s=e("./_microtask")(),u=e("./_wks")("observable"),a=e("./_a-function"),c=e("./_an-object"),f=e("./_an-instance"),l=e("./_redefine-all"),d=e("./_hide"),p=e("./_for-of"),h=p.RETURN,b=function(e){return null==e?void 0:a(e)},v=function(e){var t=e._c;t&&(e._c=void 0,t())},y=function(e){return void 0===e._o},_=function(e){y(e)||(e._o=void 0,v(e))},m=function(e,t){c(e),this._c=void 0,this._o=e,e=new g(this);try{var r=t(e),n=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){n.unsubscribe()}:a(r),this._c=r)}catch(t){return void e.error(t)}y(this)&&v(this)};m.prototype=l({},{unsubscribe:function(){_(this)}});var g=function(e){this._s=e};g.prototype=l({},{next:function(e){var t=this._s;if(!y(t)){var r=t._o;try{var n=b(r.next);if(n)return n.call(r,e)}catch(e){try{_(t)}finally{throw e}}}},error:function(e){var t=this._s;if(y(t))throw e;var r=t._o;t._o=void 0;try{var n=b(r.error);if(!n)throw e;e=n.call(r,e)}catch(e){try{v(t)}finally{throw e}}return v(t),e},complete:function(e){var t=this._s;if(!y(t)){var r=t._o;t._o=void 0;try{var n=b(r.complete);e=n?n.call(r,e):void 0}catch(e){try{v(t)}finally{throw e}}return v(t),e}}});var w=function(e){f(this,w,"Observable","_f")._f=a(e)};l(w.prototype,{subscribe:function(e){return new m(e,this._f)},forEach:function(e){var t=this;return new(i.Promise||o.Promise)(function(r,n){a(e);var o=t.subscribe({next:function(t){try{return e(t)}catch(e){n(e),o.unsubscribe()}},error:n,complete:r})})}}),l(w,{from:function(e){var t="function"==typeof this?this:w,r=b(c(e)[u]);if(r){var n=c(r.call(e));return n.constructor===t?n:new t(function(e){return n.subscribe(e)})}return new t(function(t){var r=!1;return s(function(){if(!r){try{if(p(e,!1,function(e){if(t.next(e),r)return h})===h)return}catch(e){if(r)throw e;return void t.error(e)}t.complete()}}),function(){r=!0}})},of:function(){for(var e=0,t=arguments.length,r=Array(t);e<t;)r[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return s(function(){if(!t){for(var n=0;n<r.length;++n)if(e.next(r[n]),t)return;e.complete()}}),function(){t=!0}})}}),d(w.prototype,u,function(){return this}),n(n.G,{Observable:w}),e("./_set-species")("Observable")},{"./_a-function":123,"./_an-instance":126,"./_an-object":127,"./_core":143,"./_export":152,"./_for-of":157,"./_global":158,"./_hide":160,"./_microtask":184,"./_redefine-all":206,"./_set-species":211,"./_wks":237}],393:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.key,s=n.set;n.exp({defineMetadata:function(e,t,r,n){s(e,t,o(r),i(n))}})},{"./_an-object":127,"./_metadata":183}],394:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.key,s=n.map,u=n.store;n.exp({deleteMetadata:function(e,t){var r=arguments.length<3?void 0:i(arguments[2]),n=s(o(t),r,!1);if(void 0===n||!n.delete(e))return!1;if(n.size)return!0;var a=u.get(t);return a.delete(r),!!a.size||u.delete(t)}})},{"./_an-object":127,"./_metadata":183}],395:[function(e,t,r){var n=e("./es6.set"),o=e("./_array-from-iterable"),i=e("./_metadata"),s=e("./_an-object"),u=e("./_object-gpo"),a=i.keys,c=i.key,f=function(e,t){var r=a(e,t),i=u(e);if(null===i)return r;var s=f(i,t);return s.length?r.length?o(new n(r.concat(s))):s:r};i.exp({getMetadataKeys:function(e){return f(s(e),arguments.length<2?void 0:c(arguments[1]))}})},{"./_an-object":127,"./_array-from-iterable":130,"./_metadata":183,"./_object-gpo":194,"./es6.set":340}],396:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=e("./_object-gpo"),s=n.has,u=n.get,a=n.key,c=function(e,t,r){var n=s(e,t,r);if(n)return u(e,t,r);var o=i(t);return null!==o?c(e,o,r):void 0};n.exp({getMetadata:function(e,t){return c(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},{"./_an-object":127,"./_metadata":183,"./_object-gpo":194}],397:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.keys,s=n.key;n.exp({getOwnMetadataKeys:function(e){return i(o(e),arguments.length<2?void 0:s(arguments[1]))}})},{"./_an-object":127,"./_metadata":183}],398:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.get,s=n.key;n.exp({getOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:s(arguments[2]))}})},{"./_an-object":127,"./_metadata":183}],399:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=e("./_object-gpo"),s=n.has,u=n.key,a=function(e,t,r){var n=s(e,t,r);if(n)return!0;var o=i(t);return null!==o&&a(e,o,r)};n.exp({hasMetadata:function(e,t){return a(e,o(t),arguments.length<3?void 0:u(arguments[2]))}})},{"./_an-object":127,"./_metadata":183,"./_object-gpo":194}],400:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=n.has,s=n.key;n.exp({hasOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:s(arguments[2]))}})},{"./_an-object":127,"./_metadata":183}],401:[function(e,t,r){var n=e("./_metadata"),o=e("./_an-object"),i=e("./_a-function"),s=n.key,u=n.set;n.exp({metadata:function(e,t){return function(r,n){u(e,t,(void 0!==n?o:i)(r),s(n))}}})},{"./_a-function":123,"./_an-object":127,"./_metadata":183}],402:[function(e,t,r){var n=e("./_export");n(n.P+n.R,"Set",{toJSON:e("./_collection-to-json")("Set")})},{"./_collection-to-json":140,"./_export":152}],403:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-at")(!0);n(n.P,"String",{at:function(e){return o(this,e)}})},{"./_export":152,"./_string-at":217}],404:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_defined"),i=e("./_to-length"),s=e("./_is-regexp"),u=e("./_flags"),a=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};e("./_iter-create")(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),n(n.P,"String",{matchAll:function(e){if(o(this),!s(e))throw TypeError(e+" is not a regexp!");var t=String(this),r="flags"in a?String(e.flags):u.call(e),n=new RegExp(e.source,~r.indexOf("g")?r:"g"+r);return n.lastIndex=i(e.lastIndex),new c(n,t)}})},{"./_defined":147,"./_export":152,"./_flags":156,"./_is-regexp":170,"./_iter-create":172,"./_to-length":228}],405:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-pad");n(n.P,"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{"./_export":152,"./_string-pad":220}],406:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_string-pad");n(n.P,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{"./_export":152,"./_string-pad":220}],407:[function(e,t,r){"use strict";e("./_string-trim")("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},{"./_string-trim":222}],408:[function(e,t,r){"use strict";e("./_string-trim")("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},{"./_string-trim":222}],409:[function(e,t,r){arguments[4][120][0].apply(r,arguments)},{"./_wks-define":235,dup:120}],410:[function(e,t,r){arguments[4][121][0].apply(r,arguments)},{"./_wks-define":235,dup:121}],411:[function(e,t,r){var n=e("./_export");n(n.S,"System",{global:e("./_global")})},{"./_export":152,"./_global":158}],412:[function(e,t,r){for(var n=e("./es6.array.iterator"),o=e("./_redefine"),i=e("./_global"),s=e("./_hide"),u=e("./_iterators"),a=e("./_wks"),c=a("iterator"),f=a("toStringTag"),l=u.Array,d=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],p=0;p<5;p++){var h,b=d[p],v=i[b],y=v&&v.prototype;if(y){y[c]||s(y,c,l),y[f]||s(y,f,b),u[b]=l;for(h in n)y[h]||o(y,h,n[h],!0)}}},{"./_global":158,"./_hide":160,"./_iterators":176,"./_redefine":207,"./_wks":237,"./es6.array.iterator":250}],413:[function(e,t,r){var n=e("./_export"),o=e("./_task");n(n.G+n.B,{setImmediate:o.set,clearImmediate:o.clear})},{"./_export":152,"./_task":224}],414:[function(e,t,r){var n=e("./_global"),o=e("./_export"),i=e("./_invoke"),s=e("./_partial"),u=n.navigator,a=!!u&&/MSIE .\./.test(u.userAgent),c=function(e){return a?function(t,r){return e(i(s,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),r)}:e};o(o.G+o.B+o.F*a,{setTimeout:c(n.setTimeout),setInterval:c(n.setInterval)})},{"./_export":152,"./_global":158,"./_invoke":164,"./_partial":203}],415:[function(e,t,r){e("./modules/es6.symbol"),e("./modules/es6.object.create"),e("./modules/es6.object.define-property"),e("./modules/es6.object.define-properties"),e("./modules/es6.object.get-own-property-descriptor"),e("./modules/es6.object.get-prototype-of"),e("./modules/es6.object.keys"),e("./modules/es6.object.get-own-property-names"),e("./modules/es6.object.freeze"),e("./modules/es6.object.seal"),e("./modules/es6.object.prevent-extensions"),e("./modules/es6.object.is-frozen"),e("./modules/es6.object.is-sealed"),e("./modules/es6.object.is-extensible"),e("./modules/es6.object.assign"),e("./modules/es6.object.is"),e("./modules/es6.object.set-prototype-of"),e("./modules/es6.object.to-string"),e("./modules/es6.function.bind"),e("./modules/es6.function.name"),e("./modules/es6.function.has-instance"),e("./modules/es6.parse-int"),e("./modules/es6.parse-float"),e("./modules/es6.number.constructor"),e("./modules/es6.number.to-fixed"),e("./modules/es6.number.to-precision"),e("./modules/es6.number.epsilon"),e("./modules/es6.number.is-finite"),e("./modules/es6.number.is-integer"),e("./modules/es6.number.is-nan"),e("./modules/es6.number.is-safe-integer"),e("./modules/es6.number.max-safe-integer"),e("./modules/es6.number.min-safe-integer"),e("./modules/es6.number.parse-float"),e("./modules/es6.number.parse-int"),e("./modules/es6.math.acosh"),e("./modules/es6.math.asinh"),e("./modules/es6.math.atanh"),e("./modules/es6.math.cbrt"),e("./modules/es6.math.clz32"),e("./modules/es6.math.cosh"),e("./modules/es6.math.expm1"),e("./modules/es6.math.fround"),e("./modules/es6.math.hypot"),e("./modules/es6.math.imul"),e("./modules/es6.math.log10"),e("./modules/es6.math.log1p"),e("./modules/es6.math.log2"),e("./modules/es6.math.sign"),e("./modules/es6.math.sinh"),e("./modules/es6.math.tanh"),e("./modules/es6.math.trunc"),e("./modules/es6.string.from-code-point"),e("./modules/es6.string.raw"),e("./modules/es6.string.trim"),e("./modules/es6.string.iterator"),e("./modules/es6.string.code-point-at"),e("./modules/es6.string.ends-with"),e("./modules/es6.string.includes"),e("./modules/es6.string.repeat"),e("./modules/es6.string.starts-with"),e("./modules/es6.string.anchor"),e("./modules/es6.string.big"),e("./modules/es6.string.blink"),e("./modules/es6.string.bold"),e("./modules/es6.string.fixed"),e("./modules/es6.string.fontcolor"),e("./modules/es6.string.fontsize"),e("./modules/es6.string.italics"),e("./modules/es6.string.link"),e("./modules/es6.string.small"),e("./modules/es6.string.strike"),e("./modules/es6.string.sub"),e("./modules/es6.string.sup"),e("./modules/es6.date.now"),e("./modules/es6.date.to-json"),e("./modules/es6.date.to-iso-string"),e("./modules/es6.date.to-string"),e("./modules/es6.date.to-primitive"),e("./modules/es6.array.is-array"),e("./modules/es6.array.from"),e("./modules/es6.array.of"),e("./modules/es6.array.join"),e("./modules/es6.array.slice"),e("./modules/es6.array.sort"),e("./modules/es6.array.for-each"),e("./modules/es6.array.map"),e("./modules/es6.array.filter"),e("./modules/es6.array.some"),e("./modules/es6.array.every"),e("./modules/es6.array.reduce"),e("./modules/es6.array.reduce-right"),e("./modules/es6.array.index-of"),e("./modules/es6.array.last-index-of"),e("./modules/es6.array.copy-within"),e("./modules/es6.array.fill"),e("./modules/es6.array.find"),e("./modules/es6.array.find-index"),e("./modules/es6.array.species"),e("./modules/es6.array.iterator"),e("./modules/es6.regexp.constructor"),e("./modules/es6.regexp.to-string"),e("./modules/es6.regexp.flags"),e("./modules/es6.regexp.match"),e("./modules/es6.regexp.replace"),e("./modules/es6.regexp.search"),e("./modules/es6.regexp.split"),e("./modules/es6.promise"),e("./modules/es6.map"),e("./modules/es6.set"),e("./modules/es6.weak-map"),e("./modules/es6.weak-set"),e("./modules/es6.typed.array-buffer"),e("./modules/es6.typed.data-view"),e("./modules/es6.typed.int8-array"),e("./modules/es6.typed.uint8-array"),e("./modules/es6.typed.uint8-clamped-array"),e("./modules/es6.typed.int16-array"),e("./modules/es6.typed.uint16-array"),e("./modules/es6.typed.int32-array"),e("./modules/es6.typed.uint32-array"),e("./modules/es6.typed.float32-array"),e("./modules/es6.typed.float64-array"),e("./modules/es6.reflect.apply"),e("./modules/es6.reflect.construct"),e("./modules/es6.reflect.define-property"),e("./modules/es6.reflect.delete-property"),e("./modules/es6.reflect.enumerate"),e("./modules/es6.reflect.get"),e("./modules/es6.reflect.get-own-property-descriptor"),e("./modules/es6.reflect.get-prototype-of"),e("./modules/es6.reflect.has"),e("./modules/es6.reflect.is-extensible"),e("./modules/es6.reflect.own-keys"),e("./modules/es6.reflect.prevent-extensions"),e("./modules/es6.reflect.set"),e("./modules/es6.reflect.set-prototype-of"),e("./modules/es7.array.includes"),e("./modules/es7.string.at"),e("./modules/es7.string.pad-start"),e("./modules/es7.string.pad-end"),e("./modules/es7.string.trim-left"),e("./modules/es7.string.trim-right"),e("./modules/es7.string.match-all"),e("./modules/es7.symbol.async-iterator"),
e("./modules/es7.symbol.observable"),e("./modules/es7.object.get-own-property-descriptors"),e("./modules/es7.object.values"),e("./modules/es7.object.entries"),e("./modules/es7.object.define-getter"),e("./modules/es7.object.define-setter"),e("./modules/es7.object.lookup-getter"),e("./modules/es7.object.lookup-setter"),e("./modules/es7.map.to-json"),e("./modules/es7.set.to-json"),e("./modules/es7.system.global"),e("./modules/es7.error.is-error"),e("./modules/es7.math.iaddh"),e("./modules/es7.math.isubh"),e("./modules/es7.math.imulh"),e("./modules/es7.math.umulh"),e("./modules/es7.reflect.define-metadata"),e("./modules/es7.reflect.delete-metadata"),e("./modules/es7.reflect.get-metadata"),e("./modules/es7.reflect.get-metadata-keys"),e("./modules/es7.reflect.get-own-metadata"),e("./modules/es7.reflect.get-own-metadata-keys"),e("./modules/es7.reflect.has-metadata"),e("./modules/es7.reflect.has-own-metadata"),e("./modules/es7.reflect.metadata"),e("./modules/es7.asap"),e("./modules/es7.observable"),e("./modules/web.timers"),e("./modules/web.immediate"),e("./modules/web.dom.iterable"),t.exports=e("./modules/_core")},{"./modules/_core":143,"./modules/es6.array.copy-within":240,"./modules/es6.array.every":241,"./modules/es6.array.fill":242,"./modules/es6.array.filter":243,"./modules/es6.array.find":245,"./modules/es6.array.find-index":244,"./modules/es6.array.for-each":246,"./modules/es6.array.from":247,"./modules/es6.array.index-of":248,"./modules/es6.array.is-array":249,"./modules/es6.array.iterator":250,"./modules/es6.array.join":251,"./modules/es6.array.last-index-of":252,"./modules/es6.array.map":253,"./modules/es6.array.of":254,"./modules/es6.array.reduce":256,"./modules/es6.array.reduce-right":255,"./modules/es6.array.slice":257,"./modules/es6.array.some":258,"./modules/es6.array.sort":259,"./modules/es6.array.species":260,"./modules/es6.date.now":261,"./modules/es6.date.to-iso-string":262,"./modules/es6.date.to-json":263,"./modules/es6.date.to-primitive":264,"./modules/es6.date.to-string":265,"./modules/es6.function.bind":266,"./modules/es6.function.has-instance":267,"./modules/es6.function.name":268,"./modules/es6.map":269,"./modules/es6.math.acosh":270,"./modules/es6.math.asinh":271,"./modules/es6.math.atanh":272,"./modules/es6.math.cbrt":273,"./modules/es6.math.clz32":274,"./modules/es6.math.cosh":275,"./modules/es6.math.expm1":276,"./modules/es6.math.fround":277,"./modules/es6.math.hypot":278,"./modules/es6.math.imul":279,"./modules/es6.math.log10":280,"./modules/es6.math.log1p":281,"./modules/es6.math.log2":282,"./modules/es6.math.sign":283,"./modules/es6.math.sinh":284,"./modules/es6.math.tanh":285,"./modules/es6.math.trunc":286,"./modules/es6.number.constructor":287,"./modules/es6.number.epsilon":288,"./modules/es6.number.is-finite":289,"./modules/es6.number.is-integer":290,"./modules/es6.number.is-nan":291,"./modules/es6.number.is-safe-integer":292,"./modules/es6.number.max-safe-integer":293,"./modules/es6.number.min-safe-integer":294,"./modules/es6.number.parse-float":295,"./modules/es6.number.parse-int":296,"./modules/es6.number.to-fixed":297,"./modules/es6.number.to-precision":298,"./modules/es6.object.assign":299,"./modules/es6.object.create":300,"./modules/es6.object.define-properties":301,"./modules/es6.object.define-property":302,"./modules/es6.object.freeze":303,"./modules/es6.object.get-own-property-descriptor":304,"./modules/es6.object.get-own-property-names":305,"./modules/es6.object.get-prototype-of":306,"./modules/es6.object.is":310,"./modules/es6.object.is-extensible":307,"./modules/es6.object.is-frozen":308,"./modules/es6.object.is-sealed":309,"./modules/es6.object.keys":311,"./modules/es6.object.prevent-extensions":312,"./modules/es6.object.seal":313,"./modules/es6.object.set-prototype-of":314,"./modules/es6.object.to-string":315,"./modules/es6.parse-float":316,"./modules/es6.parse-int":317,"./modules/es6.promise":318,"./modules/es6.reflect.apply":319,"./modules/es6.reflect.construct":320,"./modules/es6.reflect.define-property":321,"./modules/es6.reflect.delete-property":322,"./modules/es6.reflect.enumerate":323,"./modules/es6.reflect.get":326,"./modules/es6.reflect.get-own-property-descriptor":324,"./modules/es6.reflect.get-prototype-of":325,"./modules/es6.reflect.has":327,"./modules/es6.reflect.is-extensible":328,"./modules/es6.reflect.own-keys":329,"./modules/es6.reflect.prevent-extensions":330,"./modules/es6.reflect.set":332,"./modules/es6.reflect.set-prototype-of":331,"./modules/es6.regexp.constructor":333,"./modules/es6.regexp.flags":334,"./modules/es6.regexp.match":335,"./modules/es6.regexp.replace":336,"./modules/es6.regexp.search":337,"./modules/es6.regexp.split":338,"./modules/es6.regexp.to-string":339,"./modules/es6.set":340,"./modules/es6.string.anchor":341,"./modules/es6.string.big":342,"./modules/es6.string.blink":343,"./modules/es6.string.bold":344,"./modules/es6.string.code-point-at":345,"./modules/es6.string.ends-with":346,"./modules/es6.string.fixed":347,"./modules/es6.string.fontcolor":348,"./modules/es6.string.fontsize":349,"./modules/es6.string.from-code-point":350,"./modules/es6.string.includes":351,"./modules/es6.string.italics":352,"./modules/es6.string.iterator":353,"./modules/es6.string.link":354,"./modules/es6.string.raw":355,"./modules/es6.string.repeat":356,"./modules/es6.string.small":357,"./modules/es6.string.starts-with":358,"./modules/es6.string.strike":359,"./modules/es6.string.sub":360,"./modules/es6.string.sup":361,"./modules/es6.string.trim":362,"./modules/es6.symbol":363,"./modules/es6.typed.array-buffer":364,"./modules/es6.typed.data-view":365,"./modules/es6.typed.float32-array":366,"./modules/es6.typed.float64-array":367,"./modules/es6.typed.int16-array":368,"./modules/es6.typed.int32-array":369,"./modules/es6.typed.int8-array":370,"./modules/es6.typed.uint16-array":371,"./modules/es6.typed.uint32-array":372,"./modules/es6.typed.uint8-array":373,"./modules/es6.typed.uint8-clamped-array":374,"./modules/es6.weak-map":375,"./modules/es6.weak-set":376,"./modules/es7.array.includes":377,"./modules/es7.asap":378,"./modules/es7.error.is-error":379,"./modules/es7.map.to-json":380,"./modules/es7.math.iaddh":381,"./modules/es7.math.imulh":382,"./modules/es7.math.isubh":383,"./modules/es7.math.umulh":384,"./modules/es7.object.define-getter":385,"./modules/es7.object.define-setter":386,"./modules/es7.object.entries":387,"./modules/es7.object.get-own-property-descriptors":388,"./modules/es7.object.lookup-getter":389,"./modules/es7.object.lookup-setter":390,"./modules/es7.object.values":391,"./modules/es7.observable":392,"./modules/es7.reflect.define-metadata":393,"./modules/es7.reflect.delete-metadata":394,"./modules/es7.reflect.get-metadata":396,"./modules/es7.reflect.get-metadata-keys":395,"./modules/es7.reflect.get-own-metadata":398,"./modules/es7.reflect.get-own-metadata-keys":397,"./modules/es7.reflect.has-metadata":399,"./modules/es7.reflect.has-own-metadata":400,"./modules/es7.reflect.metadata":401,"./modules/es7.set.to-json":402,"./modules/es7.string.at":403,"./modules/es7.string.match-all":404,"./modules/es7.string.pad-end":405,"./modules/es7.string.pad-start":406,"./modules/es7.string.trim-left":407,"./modules/es7.string.trim-right":408,"./modules/es7.symbol.async-iterator":409,"./modules/es7.symbol.observable":410,"./modules/es7.system.global":411,"./modules/web.dom.iterable":412,"./modules/web.immediate":413,"./modules/web.timers":414}],416:[function(e,t,r){!function(n,o,i){"object"==typeof r?t.exports=r=o(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(n.CryptoJS)}(this,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,o=t.algo,i=[],s=[],u=[],a=[],c=[],f=[],l=[],d=[],p=[],h=[];!function(){for(var e=[],t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var r=0,n=0,t=0;t<256;t++){var o=n^n<<1^n<<2^n<<3^n<<4;o=o>>>8^255&o^99,i[r]=o,s[o]=r;var b=e[r],v=e[b],y=e[v],_=257*e[o]^16843008*o;u[r]=_<<24|_>>>8,a[r]=_<<16|_>>>16,c[r]=_<<8|_>>>24,f[r]=_;var _=16843009*y^65537*v^257*b^16843008*r;l[o]=_<<24|_>>>8,d[o]=_<<16|_>>>16,p[o]=_<<8|_>>>24,h[o]=_,r?(r=b^e[e[e[y^b]]],n^=e[e[n]]):r=n=1}}();var b=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=this._nRounds=r+6,o=4*(n+1),s=this._keySchedule=[],u=0;u<o;u++)if(u<r)s[u]=t[u];else{var a=s[u-1];u%r?r>6&&u%r==4&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=a<<8|a>>>24,a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=b[u/r|0]<<24),s[u]=s[u-r]^a}for(var c=this._invKeySchedule=[],f=0;f<o;f++){var u=o-f;if(f%4)var a=s[u];else var a=s[u-4];f<4||u<=4?c[f]=a:c[f]=l[i[a>>>24]]^d[i[a>>>16&255]]^p[i[a>>>8&255]]^h[i[255&a]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,u,a,c,f,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,d,p,h,s);var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,o,i,s,u){for(var a=this._nRounds,c=e[t]^r[0],f=e[t+1]^r[1],l=e[t+2]^r[2],d=e[t+3]^r[3],p=4,h=1;h<a;h++){var b=n[c>>>24]^o[f>>>16&255]^i[l>>>8&255]^s[255&d]^r[p++],v=n[f>>>24]^o[l>>>16&255]^i[d>>>8&255]^s[255&c]^r[p++],y=n[l>>>24]^o[d>>>16&255]^i[c>>>8&255]^s[255&f]^r[p++],_=n[d>>>24]^o[c>>>16&255]^i[f>>>8&255]^s[255&l]^r[p++];c=b,f=v,l=y,d=_}var b=(u[c>>>24]<<24|u[f>>>16&255]<<16|u[l>>>8&255]<<8|u[255&d])^r[p++],v=(u[f>>>24]<<24|u[l>>>16&255]<<16|u[d>>>8&255]<<8|u[255&c])^r[p++],y=(u[l>>>24]<<24|u[d>>>16&255]<<16|u[c>>>8&255]<<8|u[255&f])^r[p++],_=(u[d>>>24]<<24|u[c>>>16&255]<<16|u[f>>>8&255]<<8|u[255&l])^r[p++];e[t]=b,e[t+1]=v,e[t+2]=y,e[t+3]=_},keySize:8});t.AES=n._createHelper(v)}(),e.AES})},{"./cipher-core":417,"./core":418,"./enc-base64":419,"./evpkdf":421,"./md5":423}],417:[function(e,t,r){!function(n,o){"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)}(this,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,o=n.Base,i=n.WordArray,s=n.BufferedBlockAlgorithm,u=r.enc,a=(u.Utf8,u.Base64),c=r.algo,f=c.EvpKDF,l=n.Cipher=s.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?j:g}return function(t){return{encrypt:function(r,n,o){return e(n).encrypt(t,r,n,o)},decrypt:function(r,n,o){return e(n).decrypt(t,r,n,o)}}}}()}),d=(n.StreamCipher=l.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),r.mode={}),p=n.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=d.CBC=function(){function e(e,r,n){var o=this._iv;if(o){var i=o;this._iv=t}else var i=this._prevBlock;for(var s=0;s<n;s++)e[r+s]^=i[s]}var r=p.extend();return r.Encryptor=r.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize;e.call(this,t,r,o),n.encryptBlock(t,r),this._prevBlock=t.slice(r,r+o)}}),r.Decryptor=r.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize,i=t.slice(r,r+o);n.decryptBlock(t,r),e.call(this,t,r,o),this._prevBlock=i}}),r}(),b=r.pad={},v=b.Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,o=n<<24|n<<16|n<<8|n,s=[],u=0;u<n;u+=4)s.push(o);var a=i.create(s,n);e.concat(a)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},y=(n.BlockCipher=l.extend({cfg:l.cfg.extend({mode:h,padding:v}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{var n=r.createDecryptor;this._minBufferSize=1}this._mode=n.call(r,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{var t=this._process(!0);e.unpad(t)}return t},blockSize:4}),n.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),_=r.format={},m=_.OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=i.create([1398893684,1701076831]).concat(r).concat(t);else var n=t;return n.toString(a)},parse:function(e){var t=a.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=i.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return y.create({ciphertext:t,salt:n})}},g=n.SerializableCipher=o.extend({cfg:o.extend({format:m}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var o=e.createEncryptor(r,n),i=o.finalize(t),s=o.cfg;return y.create({ciphertext:i,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var o=e.createDecryptor(r,n).finalize(t.ciphertext);return o},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),w=r.kdf={},x=w.OpenSSL={execute:function(e,t,r,n){n||(n=i.random(8));var o=f.create({keySize:t+r}).compute(e,n),s=i.create(o.words.slice(t),4*r);return o.sigBytes=4*t,y.create({key:o,iv:s,salt:n})}},j=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:x}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var o=n.kdf.execute(r,e.keySize,e.ivSize);n.iv=o.iv;var i=g.encrypt.call(this,e,t,o.key,n);return i.mixIn(o),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var o=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);n.iv=o.iv;var i=g.decrypt.call(this,e,t,o.key,n);return i}})}()})},{"./core":418}],418:[function(e,t,r){!function(e,n){"object"==typeof r?t.exports=r=n():"function"==typeof define&&define.amd?define([],n):e.CryptoJS=n()}(this,function(){var e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},o=n.lib={},i=o.Base=function(){return{extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=o.WordArray=i.extend({init:function(e,r){e=this.words=e||[],r!=t?this.sigBytes=r:this.sigBytes=4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var s=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=s<<24-(n+i)%4*8}else for(var i=0;i<o;i+=4)t[n+i>>>2]=r[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],o=function(t){var t=t,r=987654321,n=4294967295;return function(){r=36969*(65535&r)+(r>>16)&n,t=18e3*(65535&t)+(t>>16)&n;var o=(r<<16)+t&n;return o/=4294967296,o+=.5,o*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var u=o(4294967296*(r||e.random()));r=987654071*u(),n.push(4294967296*u()|0)}return new s.init(n,t)}}),u=n.enc={},a=u.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new s.init(r,t/2)}},c=u.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new s.init(r,t)}},f=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,o=r.sigBytes,i=this.blockSize,u=4*i,a=o/u;a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0);var c=a*i,f=e.min(4*c,o);if(c){for(var l=0;l<c;l+=i)this._doProcessBlock(n,l);var d=n.splice(0,c);r.sigBytes-=f}return new s.init(d,f)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(o.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new d.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math);return e})},{}],419:[function(e,t,r){!function(n,o){"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)}(this,function(e){return function(){function t(e,t,r){for(var n=[],i=0,s=0;s<t;s++)if(s%4){var u=r[e.charCodeAt(s-1)]<<s%4*2,a=r[e.charCodeAt(s)]>>>6-s%4*2;n[i>>>2]|=(u|a)<<24-i%4*8,i++}return o.create(n,i)}var r=e,n=r.lib,o=n.WordArray,i=r.enc;i.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var o=[],i=0;i<r;i+=3)for(var s=t[i>>>2]>>>24-i%4*8&255,u=t[i+1>>>2]>>>24-(i+1)%4*8&255,a=t[i+2>>>2]>>>24-(i+2)%4*8&255,c=s<<16|u<<8|a,f=0;f<4&&i+.75*f<r;f++)o.push(n.charAt(c>>>6*(3-f)&63));var l=n.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join("")},parse:function(e){var r=e.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var u=e.indexOf(s);u!==-1&&(r=u)}return t(e,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64})},{"./core":418}],420:[function(e,t,r){!function(n,o){"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)}(this,function(e){return e.enc.Utf8})},{"./core":418}],421:[function(e,t,r){!function(n,o,i){"object"==typeof r?t.exports=r=o(e("./core"),e("./sha1"),e("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],o):o(n.CryptoJS)}(this,function(e){return function(){var t=e,r=t.lib,n=r.Base,o=r.WordArray,i=t.algo,s=i.MD5,u=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),i=o.create(),s=i.words,u=r.keySize,a=r.iterations;s.length<u;){c&&n.update(c);var c=n.update(e).finalize(t);n.reset();for(var f=1;f<a;f++)c=n.finalize(c),n.reset();i.concat(c)}return i.sigBytes=4*u,i}});t.EvpKDF=function(e,t,r){return u.create(r).compute(e,t)}}(),e.EvpKDF})},{"./core":418,"./hmac":422,"./sha1":424}],422:[function(e,t,r){!function(n,o){"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)}(this,function(e){!function(){var t=e,r=t.lib,n=r.Base,o=t.enc,i=o.Utf8,s=t.algo;s.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),u=o.words,a=s.words,c=0;c<r;c++)u[c]^=1549556828,a[c]^=909522486;o.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);t.reset();var n=t.finalize(this._oKey.clone().concat(r));return n}})}()})},{"./core":418}],423:[function(e,t,r){!function(n,o){"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)}(this,function(e){return function(t){function r(e,t,r,n,o,i,s){var u=e+(t&r|~t&n)+o+s;return(u<<i|u>>>32-i)+t}function n(e,t,r,n,o,i,s){var u=e+(t&n|r&~n)+o+s;return(u<<i|u>>>32-i)+t}function o(e,t,r,n,o,i,s){var u=e+(t^r^n)+o+s;return(u<<i|u>>>32-i)+t}function i(e,t,r,n,o,i,s){var u=e+(r^(t|~n))+o+s;return(u<<i|u>>>32-i)+t}var s=e,u=s.lib,a=u.WordArray,c=u.Hasher,f=s.algo,l=[];!function(){for(var e=0;e<64;e++)l[e]=4294967296*t.abs(t.sin(e+1))|0}();var d=f.MD5=c.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var s=0;s<16;s++){var u=t+s,a=e[u];e[u]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var c=this._hash.words,f=e[t+0],d=e[t+1],p=e[t+2],h=e[t+3],b=e[t+4],v=e[t+5],y=e[t+6],_=e[t+7],m=e[t+8],g=e[t+9],w=e[t+10],x=e[t+11],j=e[t+12],k=e[t+13],O=e[t+14],S=e[t+15],E=c[0],A=c[1],P=c[2],C=c[3];E=r(E,A,P,C,f,7,l[0]),C=r(C,E,A,P,d,12,l[1]),P=r(P,C,E,A,p,17,l[2]),A=r(A,P,C,E,h,22,l[3]),E=r(E,A,P,C,b,7,l[4]),C=r(C,E,A,P,v,12,l[5]),P=r(P,C,E,A,y,17,l[6]),A=r(A,P,C,E,_,22,l[7]),E=r(E,A,P,C,m,7,l[8]),C=r(C,E,A,P,g,12,l[9]),P=r(P,C,E,A,w,17,l[10]),A=r(A,P,C,E,x,22,l[11]),E=r(E,A,P,C,j,7,l[12]),C=r(C,E,A,P,k,12,l[13]),P=r(P,C,E,A,O,17,l[14]),A=r(A,P,C,E,S,22,l[15]),E=n(E,A,P,C,d,5,l[16]),C=n(C,E,A,P,y,9,l[17]),P=n(P,C,E,A,x,14,l[18]),A=n(A,P,C,E,f,20,l[19]),E=n(E,A,P,C,v,5,l[20]),C=n(C,E,A,P,w,9,l[21]),P=n(P,C,E,A,S,14,l[22]),A=n(A,P,C,E,b,20,l[23]),E=n(E,A,P,C,g,5,l[24]),C=n(C,E,A,P,O,9,l[25]),P=n(P,C,E,A,h,14,l[26]),A=n(A,P,C,E,m,20,l[27]),E=n(E,A,P,C,k,5,l[28]),C=n(C,E,A,P,p,9,l[29]),P=n(P,C,E,A,_,14,l[30]),A=n(A,P,C,E,j,20,l[31]),E=o(E,A,P,C,v,4,l[32]),C=o(C,E,A,P,m,11,l[33]),P=o(P,C,E,A,x,16,l[34]),A=o(A,P,C,E,O,23,l[35]),E=o(E,A,P,C,d,4,l[36]),C=o(C,E,A,P,b,11,l[37]),P=o(P,C,E,A,_,16,l[38]),A=o(A,P,C,E,w,23,l[39]),E=o(E,A,P,C,k,4,l[40]),C=o(C,E,A,P,f,11,l[41]),P=o(P,C,E,A,h,16,l[42]),A=o(A,P,C,E,y,23,l[43]),E=o(E,A,P,C,g,4,l[44]),C=o(C,E,A,P,j,11,l[45]),P=o(P,C,E,A,S,16,l[46]),A=o(A,P,C,E,p,23,l[47]),E=i(E,A,P,C,f,6,l[48]),C=i(C,E,A,P,_,10,l[49]),P=i(P,C,E,A,O,15,l[50]),A=i(A,P,C,E,v,21,l[51]),E=i(E,A,P,C,j,6,l[52]),C=i(C,E,A,P,h,10,l[53]),P=i(P,C,E,A,w,15,l[54]),A=i(A,P,C,E,d,21,l[55]),E=i(E,A,P,C,m,6,l[56]),C=i(C,E,A,P,S,10,l[57]),P=i(P,C,E,A,y,15,l[58]),A=i(A,P,C,E,k,21,l[59]),E=i(E,A,P,C,b,6,l[60]),C=i(C,E,A,P,x,10,l[61]),P=i(P,C,E,A,p,15,l[62]),A=i(A,P,C,E,g,21,l[63]),c[0]=c[0]+E|0,c[1]=c[1]+A|0,c[2]=c[2]+P|0,c[3]=c[3]+C|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;r[o>>>5]|=128<<24-o%32;var i=t.floor(n/4294967296),s=n;r[(o+64>>>9<<4)+15]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[(o+64>>>9<<4)+14]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var u=this._hash,a=u.words,c=0;c<4;c++){var f=a[c];a[c]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return u},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}});s.MD5=c._createHelper(d),s.HmacMD5=c._createHmacHelper(d)}(Math),e.MD5})},{"./core":418}],424:[function(e,t,r){!function(n,o){"object"==typeof r?t.exports=r=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(n.CryptoJS)}(this,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=r.Hasher,i=t.algo,s=[],u=i.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],u=r[3],a=r[4],c=0;c<80;c++){if(c<16)s[c]=0|e[t+c];else{var f=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=f<<1|f>>>31}var l=(n<<5|n>>>27)+a+s[c];l+=c<20?(o&i|~o&u)+1518500249:c<40?(o^i^u)+1859775393:c<60?(o&i|o&u|i&u)-1894007588:(o^i^u)-899497514,a=u,u=i,i=o<<30|o>>>2,o=n,n=l}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+u|0,r[4]=r[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[(n+64>>>9<<4)+14]=Math.floor(r/4294967296),t[(n+64>>>9<<4)+15]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=o._createHelper(u),t.HmacSHA1=o._createHmacHelper(u)}(),e.SHA1})},{"./core":418}],425:[function(e,t,r){(function(n){function o(){return!("undefined"==typeof window||!window||"undefined"==typeof window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),t){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,n)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(e){}}function a(){try{return r.storage.debug}catch(e){}if("undefined"!=typeof n&&"env"in n)return n.env.DEBUG}function c(){try{return window.localStorage}catch(e){}}r=t.exports=e("./debug"),r.log=s,r.formatArgs=i,r.save=u,r.load=a,r.useColors=o,r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},r.enable(a())}).call(this,e("_process"))},{"./debug":426,_process:495}],426:[function(e,t,r){function n(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}function o(e){function t(){if(t.enabled){var e=t,n=+new Date,o=n-(c||n);e.diff=o,e.prev=c,e.curr=n,c=n;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=r.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;u++;var o=r.formatters[n];if("function"==typeof o){var s=i[u];t=o.call(e,s),i.splice(u,1),u--}return t}),r.formatArgs.call(e,i);var a=t.log||r.log||console.log.bind(console);a.apply(e,i)}}return t.namespace=e,t.enabled=r.enabled(e),t.useColors=r.useColors(),t.color=n(e),"function"==typeof r.init&&r.init(t),t}function i(e){r.save(e),r.names=[],r.skips=[];for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;o<n;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function s(){r.enable("")}function u(e){var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function a(e){return e instanceof Error?e.stack||e.message:e}r=t.exports=o.debug=o.default=o,r.coerce=a,r.disable=s,r.enable=i,r.enabled=u,r.humanize=e("ms"),r.names=[],r.skips=[],r.formatters={};var c},{ms:442}],427:[function(e,t,r){function n(e){return null===e||void 0===e}function o(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function i(e,t,r){var i,f;if(n(e)||n(t))return!1;if(e.prototype!==t.prototype)return!1;if(a(e))return!!a(t)&&(e=s.call(e),t=s.call(t),c(e,t,r));if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}try{var l=u(e),d=u(t)}catch(e){return!1}if(l.length!=d.length)return!1;for(l.sort(),d.sort(),i=l.length-1;i>=0;i--)if(l[i]!=d[i])return!1;for(i=l.length-1;i>=0;i--)if(f=l[i],!c(e[f],t[f],r))return!1;return typeof e==typeof t}var s=Array.prototype.slice,u=e("./lib/keys.js"),a=e("./lib/is_arguments.js"),c=t.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:i(e,t,r))}},{"./lib/is_arguments.js":428,"./lib/keys.js":429}],428:[function(e,t,r){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function o(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();r=t.exports=i?n:o,r.supported=n,r.unsupported=o},{}],429:[function(e,t,r){function n(e){var t=[];for(var r in e)t.push(r);return t}r=t.exports="function"==typeof Object.keys?Object.keys:n,r.shim=n},{}],430:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,i,a,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(r=this._events[e],u(r))return!1;if(o(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(s(r))for(i=Array.prototype.slice.call(arguments,1),c=r.slice(),n=c.length,a=0;a<n;a++)c[a].apply(this,i);return!0},n.prototype.addListener=function(e,t){var r;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(r=u(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,
this.on(e,r),this},n.prototype.removeListener=function(e,t){var r,n,i,u;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||o(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(r)){for(u=i;u-- >0;)if(r[u]===t||r[u].listener&&r[u].listener===t){n=u;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],o(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],431:[function(e,t,r){var n=e("util"),o=/[\{\[]/,i=/[\}\]]/;t.exports=function(){var e=[],t=0,r=function(r){for(var n="";n.length<2*t;)n+="  ";e.push(n+r)},s=function(e){return e?i.test(e.trim()[0])&&o.test(e[e.length-1])?(t--,r(n.format.apply(n,arguments)),t++,s):o.test(e[e.length-1])?(r(n.format.apply(n,arguments)),t++,s):i.test(e.trim()[0])?(t--,r(n.format.apply(n,arguments)),s):(r(n.format.apply(n,arguments)),s):s};return s.toString=function(){return e.join("\n")},s.toFunction=function(e){var t="return ("+s.toString()+")",r=Object.keys(e||{}).map(function(e){return e}),n=r.map(function(t){return e[t]});return Function.apply(null,r.concat(t)).apply(null,n)},arguments.length&&s.apply(null,arguments),s}},{util:595}],432:[function(e,t,r){var n=e("is-property"),o=function(e,t){return n(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};o.valid=n,o.property=function(e){return n(e)?e:JSON.stringify(e)},t.exports=o},{"is-property":439}],433:[function(e,t,r){r.read=function(e,t,r,n,o){var i,s,u=8*o-n-1,a=(1<<u)-1,c=a>>1,f=-7,l=r?o-1:0,d=r?-1:1,p=e[t+l];for(l+=d,i=p&(1<<-f)-1,p>>=-f,f+=u;f>0;i=256*i+e[t+l],l+=d,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=n;f>0;s=256*s+e[t+l],l+=d,f-=8);if(0===i)i=1-c;else{if(i===a)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,n),i-=c}return(p?-1:1)*s*Math.pow(2,i-n)},r.write=function(e,t,r,n,o,i){var s,u,a,c=8*i-o-1,f=(1<<c)-1,l=f>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,h=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-s))<1&&(s--,a*=2),t+=s+l>=1?d/a:d*Math.pow(2,1-l),t*a>=2&&(s++,a/=2),s+l>=f?(u=0,s=f):s+l>=1?(u=(t*a-1)*Math.pow(2,o),s+=l):(u=t*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;e[r+p]=255&u,p+=h,u/=256,o-=8);for(s=s<<o|u,c+=o;c>0;e[r+p]=255&s,p+=h,s/=256,c-=8);e[r+p-h]|=128*b}},{}],434:[function(e,t,r){(function(e){"use strict";function r(){f=!0;for(var e,t,r=l.length;r;){for(t=l,l=[],e=-1;++e<r;)t[e]();r=l.length}f=!1}function n(e){1!==l.push(e)||f||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var s=0,u=new i(r),a=e.document.createTextNode("");u.observe(a,{characterData:!0}),o=function(){a.data=s=++s%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){r(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(r,0)};else{var c=new e.MessageChannel;c.port1.onmessage=r,o=function(){c.port2.postMessage(0)}}var f,l=[];t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],435:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],436:[function(e,t,r){var n=Array.isArray,o=Object.prototype.toString;t.exports=n||function(e){return!!e&&"[object Array]"==o.call(e)}},{}],437:[function(e,t,r){r["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(\.\d+)?([zZ]|[+-]\d{2}:\d{2})$/,r.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,r.time=/^\d{2}:\d{2}:\d{2}$/,r.email=/^\S+@\S+$/,r["ip-address"]=r.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,r.ipv6=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,r.uri=/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,r.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,r.hostname=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$/,r.alpha=/^[a-zA-Z]+$/,r.alphanumeric=/^[a-zA-Z0-9]+$/,r.style=/\s*(.+?):\s*([^;]+);?/g,r.phone=/^\+(?:[0-9] ?){6,14}[0-9]$/,r["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},{}],438:[function(e,t,r){var n=e("generate-object-property"),o=e("generate-function"),i=e("jsonpointer"),s=e("xtend"),u=e("./formats"),a=function(e,t,r){var n=function(e){return e&&e.id===r?e:"object"==typeof e&&e?Object.keys(e).reduce(function(t,r){return t||n(e[r])},null):null},o=n(e);if(o)return o;r=r.replace(/^#/,""),r=r.replace(/\/$/,"");try{return i.get(e,decodeURI(r))}catch(e){var s,u=r.indexOf("#");if(0!==u)if(u===-1)s=t[r];else{var a=r.slice(0,u);s=t[a];var c=r.slice(u).replace(/^#/,"");try{return i.get(s,c)}catch(e){}}else s=t[r];return s||null}},c=function(e){e=JSON.stringify(e);for(var t=/\[([^\[\]"]+)\]/;t.test(e);)e=e.replace(t,'."+$1+"');return e},f={};f.any=function(){return"true"},f.null=function(e){return e+" === null"},f.boolean=function(e){return"typeof "+e+' === "boolean"'},f.array=function(e){return"Array.isArray("+e+")"},f.object=function(e){return"typeof "+e+' === "object" && '+e+" && !Array.isArray("+e+")"},f.number=function(e){return"typeof "+e+' === "number"'},f.integer=function(e){return"typeof "+e+' === "number" && (Math.floor('+e+") === "+e+" || "+e+" > 9007199254740992 || "+e+" < -9007199254740992)"},f.string=function(e){return"typeof "+e+' === "string"'};var l=function(e){for(var t=[],r=0;r<e.length;r++)t.push("object"==typeof e[r]?JSON.stringify(e[r]):e[r]);for(var r=1;r<t.length;r++)if(t.indexOf(t[r])!==r)return!1;return!0},d=function(e,t){var r,n=(0|t)!==t?Math.pow(10,t.toString().split(".").pop().length):1;if(n>1){var o=(0|e)!==e?Math.pow(10,e.toString().split(".").pop().length):1;r=o>n||Math.round(n*e)%(n*t)}else r=e%t;return!r},p=function(e,t,r,i,h){var b=h?s(u,h.formats):u,v={unique:l,formats:b,isMultipleOf:d},y=!!h&&!!h.verbose,_=!(!h||void 0===h.greedy)&&h.greedy,m={},g=function(e){return e+(m[e]=(m[e]||0)+1)},w={},x=function(e){if(w[e])return w[e];var t=g("pattern");return v[t]=new RegExp(e),w[e]=t,t},j=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],k=function(){var e=j.shift();return j.push(e+e[0]),e},O=function(e,o,i,s){var l=o.properties,d=o.type,m=!1;Array.isArray(o.items)&&(l={},o.items.forEach(function(e,t){l[t]=e}),d="array",m=!0);var w=0,j=function(t,r,n){S("errors++"),i===!0&&(S("if (validate.errors === null) validate.errors = []"),y?S("validate.errors.push({field:%s,message:%s,value:%s,type:%s})",c(r||e),JSON.stringify(t),n||e,JSON.stringify(d)):S("validate.errors.push({field:%s,message:%s})",c(r||e),JSON.stringify(t)))};o.required===!0?(w++,S("if (%s === undefined) {",e),j("is required"),S("} else {")):(w++,S("if (%s !== undefined) {",e));var E=[].concat(d).map(function(t){if(t&&!f.hasOwnProperty(t))throw new Error("Unknown type: "+t);return f[t||"any"](e)}).join(" || ")||"true";if("true"!==E&&(w++,S("if (!(%s)) {",E),j("is the wrong type"),S("} else {")),m)if(o.additionalItems===!1)S("if (%s.length > %d) {",e,o.items.length),j("has additional items"),S("}");else if(o.additionalItems){var A=k();S("for (var %s = %d; %s < %s.length; %s++) {",A,o.items.length,A,e,A),O(e+"["+A+"]",o.additionalItems,i,s),S("}")}if(o.format&&b[o.format]){"string"!==d&&u[o.format]&&S("if (%s) {",f.string(e));var P=g("format");v[P]=b[o.format],"function"==typeof v[P]?S("if (!%s(%s)) {",P,e):S("if (!%s.test(%s)) {",P,e),j("must be "+o.format+" format"),S("}"),"string"!==d&&u[o.format]&&S("}")}if(Array.isArray(o.required)){var C=function(t){var r=n(e,t);S("if (%s === undefined) {",r),j("is required",r),S("missing++"),S("}")};S("if ((%s)) {","object"!==d?f.object(e):"true"),S("var missing = 0"),o.required.map(C),S("}"),_||(S("if (missing === 0) {"),w++)}if(o.uniqueItems&&("array"!==d&&S("if (%s) {",f.array(e)),S("if (!(unique(%s))) {",e),j("must be unique"),S("}"),"array"!==d&&S("}")),o.enum){var I=o.enum.some(function(e){return"object"==typeof e}),T=I?function(t){return"JSON.stringify("+e+") !== JSON.stringify("+JSON.stringify(t)+")"}:function(t){return e+" !== "+JSON.stringify(t)};S("if (%s) {",o.enum.map(T).join(" && ")||"false"),j("must be an enum value"),S("}")}if(o.dependencies&&("object"!==d&&S("if (%s) {",f.object(e)),Object.keys(o.dependencies).forEach(function(t){var r=o.dependencies[t];"string"==typeof r&&(r=[r]);var u=function(t){return n(e,t)+" !== undefined"};Array.isArray(r)&&(S("if (%s !== undefined && !(%s)) {",n(e,t),r.map(u).join(" && ")||"true"),j("dependencies not set"),S("}")),"object"==typeof r&&(S("if (%s !== undefined) {",n(e,t)),O(e,r,i,s),S("}"))}),"object"!==d&&S("}")),o.additionalProperties||o.additionalProperties===!1){"object"!==d&&S("if (%s) {",f.object(e));var A=k(),D=g("keys"),M=function(e){return D+"["+A+"] !== "+JSON.stringify(e)},R=function(e){return"!"+x(e)+".test("+D+"["+A+"])"},B=Object.keys(l||{}).map(M).concat(Object.keys(o.patternProperties||{}).map(R)).join(" && ")||"true";S("var %s = Object.keys(%s)",D,e)("for (var %s = 0; %s < %s.length; %s++) {",A,A,D,A)("if (%s) {",B),o.additionalProperties===!1?(s&&S("delete %s",e+"["+D+"["+A+"]]"),j("has additional properties",null,JSON.stringify(e+".")+" + "+D+"["+A+"]")):O(e+"["+D+"["+A+"]]",o.additionalProperties,i,s),S("}")("}"),"object"!==d&&S("}")}if(o.$ref){var N=a(r,h&&h.schemas||{},o.$ref);if(N){var F=t[o.$ref];F||(t[o.$ref]=function(e){return F(e)},F=p(N,t,r,!1,h));var P=g("ref");v[P]=F,S("if (!(%s(%s))) {",P,e),j("referenced schema does not match"),S("}")}}if(o.not){var L=g("prev");S("var %s = errors",L),O(e,o.not,!1,s),S("if (%s === errors) {",L),j("negative schema matches"),S("} else {")("errors = %s",L)("}")}if(o.items&&!m){"array"!==d&&S("if (%s) {",f.array(e));var A=k();S("for (var %s = 0; %s < %s.length; %s++) {",A,A,e,A),O(e+"["+A+"]",o.items,i,s),S("}"),"array"!==d&&S("}")}if(o.patternProperties){"object"!==d&&S("if (%s) {",f.object(e));var D=g("keys"),A=k();S("var %s = Object.keys(%s)",D,e)("for (var %s = 0; %s < %s.length; %s++) {",A,A,D,A),Object.keys(o.patternProperties).forEach(function(t){var r=x(t);S("if (%s.test(%s)) {",r,D+"["+A+"]"),O(e+"["+D+"["+A+"]]",o.patternProperties[t],i,s),S("}")}),S("}"),"object"!==d&&S("}")}if(o.pattern){var $=x(o.pattern);"string"!==d&&S("if (%s) {",f.string(e)),S("if (!(%s.test(%s))) {",$,e),j("pattern mismatch"),S("}"),"string"!==d&&S("}")}if(o.allOf&&o.allOf.forEach(function(t){O(e,t,i,s)}),o.anyOf&&o.anyOf.length){var L=g("prev");o.anyOf.forEach(function(t,r){0===r?S("var %s = errors",L):S("if (errors !== %s) {",L)("errors = %s",L),O(e,t,!1,!1)}),o.anyOf.forEach(function(e,t){t&&S("}")}),S("if (%s !== errors) {",L),j("no schemas match"),S("}")}if(o.oneOf&&o.oneOf.length){var L=g("prev"),q=g("passes");S("var %s = errors",L)("var %s = 0",q),o.oneOf.forEach(function(t,r){O(e,t,!1,!1),S("if (%s === errors) {",L)("%s++",q)("} else {")("errors = %s",L)("}")}),S("if (%s !== 1) {",q),j("no (or more than one) schemas match"),S("}")}for(void 0!==o.multipleOf&&("number"!==d&&"integer"!==d&&S("if (%s) {",f.number(e)),S("if (!isMultipleOf(%s, %d)) {",e,o.multipleOf),j("has a remainder"),S("}"),"number"!==d&&"integer"!==d&&S("}")),void 0!==o.maxProperties&&("object"!==d&&S("if (%s) {",f.object(e)),S("if (Object.keys(%s).length > %d) {",e,o.maxProperties),j("has more properties than allowed"),S("}"),"object"!==d&&S("}")),void 0!==o.minProperties&&("object"!==d&&S("if (%s) {",f.object(e)),S("if (Object.keys(%s).length < %d) {",e,o.minProperties),j("has less properties than allowed"),S("}"),"object"!==d&&S("}")),void 0!==o.maxItems&&("array"!==d&&S("if (%s) {",f.array(e)),S("if (%s.length > %d) {",e,o.maxItems),j("has more items than allowed"),S("}"),"array"!==d&&S("}")),void 0!==o.minItems&&("array"!==d&&S("if (%s) {",f.array(e)),S("if (%s.length < %d) {",e,o.minItems),j("has less items than allowed"),S("}"),"array"!==d&&S("}")),void 0!==o.maxLength&&("string"!==d&&S("if (%s) {",f.string(e)),S("if (%s.length > %d) {",e,o.maxLength),j("has longer length than allowed"),S("}"),"string"!==d&&S("}")),void 0!==o.minLength&&("string"!==d&&S("if (%s) {",f.string(e)),S("if (%s.length < %d) {",e,o.minLength),j("has less length than allowed"),S("}"),"string"!==d&&S("}")),void 0!==o.minimum&&("number"!==d&&"integer"!==d&&S("if (%s) {",f.number(e)),S("if (%s %s %d) {",e,o.exclusiveMinimum?"<=":"<",o.minimum),j("is less than minimum"),S("}"),"number"!==d&&"integer"!==d&&S("}")),void 0!==o.maximum&&("number"!==d&&"integer"!==d&&S("if (%s) {",f.number(e)),S("if (%s %s %d) {",e,o.exclusiveMaximum?">=":">",o.maximum),j("is more than maximum"),S("}"),"number"!==d&&"integer"!==d&&S("}")),l&&Object.keys(l).forEach(function(t){Array.isArray(d)&&d.indexOf("null")!==-1&&S("if (%s !== null) {",e),O(n(e,t),l[t],i,s),Array.isArray(d)&&d.indexOf("null")!==-1&&S("}")});w--;)S("}")},S=o("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return O("data",e,i,h&&h.filter),S("return errors === 0")("}"),S=S.toFunction(v),S.errors=null,Object.defineProperty&&Object.defineProperty(S,"error",{get:function(){return S.errors?S.errors.map(function(e){return e.field+" "+e.message}).join("\n"):""}}),S.toJSON=function(){return e},S};t.exports=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),p(e,{},e,!0,t)},t.exports.filter=function(e,r){var n=t.exports(e,s(r,{filter:!0}));return function(e){return n(e),e}}},{"./formats":437,"generate-function":431,"generate-object-property":432,jsonpointer:440,xtend:597}],439:[function(e,t,r){"use strict";function n(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}t.exports=n},{}],440:[function(e,t,r){function n(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function o(e){return f.test(e)?e.replace(l,n):e}function i(e,t,r){for(var n,i,s=1,u=t.length;s<u&&(n=o(t[s++]),i=u>s,"undefined"==typeof e[n]&&(Array.isArray(e)&&"-"===n&&(n=e.length),i&&(""!==t[s]&&t[s]<1/0||"-"===t[s]?e[n]=[]:e[n]={})),i);)e=e[n];var a=e[n];return void 0===r?delete e[n]:e[n]=r,a}function s(e){if("string"==typeof e){if(e=e.split("/"),""===e[0])return e;throw new Error("Invalid JSON pointer.")}if(Array.isArray(e))return e;throw new Error("Invalid JSON pointer.")}function u(e,t){if("object"!=typeof e)throw new Error("Invalid input object.");t=s(t);var r=t.length;if(1===r)return e;for(var n=1;n<r;){if(e=e[o(t[n++])],r===n)return e;if("object"!=typeof e)return}}function a(e,t,r){if("object"!=typeof e)throw new Error("Invalid input object.");if(t=s(t),0===t.length)throw new Error("Invalid JSON pointer for set.");return i(e,t,r)}function c(e){var t=s(e);return{get:function(e){return u(e,t)},set:function(e,r){return a(e,t,r)}}}var f=/~/,l=/~[01]/g;r.get=u,r.set=a,r.compile=c},{}],441:[function(e,t,r){"use strict";function n(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,e!==n&&a(this,e)}function i(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function s(e,t,r){h(function(){var n;try{n=t(r)}catch(t){return b.reject(e,t)}n===e?b.reject(e,new TypeError("Cannot resolve promise with itself")):b.resolve(e,n)})}function u(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function a(e,t){function r(t){i||(i=!0,b.reject(e,t))}function n(t){i||(i=!0,b.resolve(e,t))}function o(){t(n,r)}var i=!1,s=c(o);"error"===s.status&&r(s.value)}function c(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}function f(e){return e instanceof this?e:b.resolve(new this(n),e)}function l(e){var t=new this(n);return b.reject(t,e)}function d(e){function t(e,t){function n(e){s[t]=e,++u!==o||i||(i=!0,b.resolve(c,s))}r.resolve(e).then(n,function(e){i||(i=!0,b.reject(c,e))})}var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var s=new Array(o),u=0,a=-1,c=new this(n);++a<o;)t(e[a],a);return c}function p(e){function t(e){r.resolve(e).then(function(e){i||(i=!0,b.resolve(u,e))},function(e){i||(i=!0,b.reject(u,e))})}var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var s=-1,u=new this(n);++s<o;)t(e[s]);return u}var h=e("immediate"),b={},v=["REJECTED"],y=["FULFILLED"],_=["PENDING"];t.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===y||"function"!=typeof t&&this.state===v)return this;var r=new this.constructor(n);if(this.state!==_){var o=this.state===y?e:t;s(r,o,this.outcome)}else this.queue.push(new i(r,e,t));return r},i.prototype.callFulfilled=function(e){b.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){b.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},b.resolve=function(e,t){var r=c(u,t);if("error"===r.status)return b.reject(e,r.value);var n=r.value;if(n)a(e,n);else{e.state=y,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},b.reject=function(e,t){e.state=v,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},o.resolve=f,o.reject=l,o.all=d,o.race=p},{immediate:434}],442:[function(e,t,r){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*l;case"days":case"day":case"d":return r*f;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function o(e){return e>=f?Math.round(e/f)+"d":e>=c?Math.round(e/c)+"h":e>=a?Math.round(e/a)+"m":e>=u?Math.round(e/u)+"s":e+"ms"}function i(e){return s(e,f,"day")||s(e,c,"hour")||s(e,a,"minute")||s(e,u,"second")||e+" ms";
}function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var u=1e3,a=60*u,c=60*a,f=24*c,l=365.25*f;t.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return n(e);if("number"===r&&isNaN(e)===!1)return t.long?i(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],443:[function(e,t,r){!function(e,r){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=r():"function"==typeof define&&define.amd?define([],r):e.objectPath=r()}(this,function(){"use strict";function e(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function t(t){if(!t)return!0;if(a(t)&&0===t.length)return!0;if("string"!=typeof t){for(var r in t)if(e(t,r))return!1;return!0}return!1}function r(e){return u.call(e)}function n(e){return"object"==typeof e&&"[object Object]"===r(e)}function o(e){return"boolean"==typeof e||"[object Boolean]"===r(e)}function i(e){var t=parseInt(e);return t.toString()===e?t:e}function s(r){function s(t,n){return r.includeInheritedProps||"number"==typeof n&&Array.isArray(t)||e(t,n)}function u(e,t){if(s(e,t))return e[t]}function c(e,t,r,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return c(e,t.split(".").map(i),r,n);var o=t[0],s=u(e,o);return 1===t.length?(void 0!==s&&n||(e[o]=r),s):(void 0===s&&("number"==typeof t[1]?e[o]=[]:e[o]={}),c(e[o],t.slice(1),r,n))}r=r||{};var f=function(e){return Object.keys(f).reduce(function(t,r){return"create"===r?t:("function"==typeof f[r]&&(t[r]=f[r].bind(f,e)),t)},{})};return f.has=function(t,n){if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!!t;for(var o=0;o<n.length;o++){var s=i(n[o]);if(!("number"==typeof s&&a(t)&&s<t.length||(r.includeInheritedProps?s in Object(t):e(t,s))))return!1;t=t[s]}return!0},f.ensureExists=function(e,t,r){return c(e,t,r,!0)},f.set=function(e,t,r,n){return c(e,t,r,n)},f.insert=function(e,t,r,n){var o=f.get(e,t);n=~~n,a(o)||(o=[],f.set(e,t,o)),o.splice(n,0,r)},f.empty=function(e,r){if(!t(r)&&null!=e){var i,u;if(i=f.get(e,r)){if("string"==typeof i)return f.set(e,r,"");if(o(i))return f.set(e,r,!1);if("number"==typeof i)return f.set(e,r,0);if(a(i))i.length=0;else{if(!n(i))return f.set(e,r,null);for(u in i)s(i,u)&&delete i[u]}}}},f.push=function(e,t){var r=f.get(e,t);a(r)||(r=[],f.set(e,t,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},f.coalesce=function(e,t,r){for(var n,o=0,i=t.length;o<i;o++)if(void 0!==(n=f.get(e,t[o])))return n;return r},f.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return f.get(e,t.split("."),r);var n=i(t[0]),o=u(e,n);return void 0===o?r:1===t.length?o:f.get(e[n],t.slice(1),r)},f.del=function(e,r){if("number"==typeof r&&(r=[r]),null==e)return e;if(t(r))return e;if("string"==typeof r)return f.del(e,r.split("."));var n=i(r[0]);return s(e,n)?1!==r.length?f.del(e[n],r.slice(1)):(a(e)?e.splice(n,1):delete e[n],e):e},f}var u=Object.prototype.toString,a=Array.isArray||function(e){return"[object Array]"===u.call(e)},c=s();return c.create=s,c.withInheritedProps=s({includeInheritedProps:!0}),c})},{}],444:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e,t){return new h(function(r,n){function o(){f++,e[l++]().then(s,u)}function i(){++d===p?c?n(c):r():a()}function s(){f--,i()}function u(e){f--,c=c||e,i()}function a(){for(;f<t&&l<p;)o()}var c,f=0,l=0,d=0,p=e.length;a()})}function i(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var r=t[e];r.data=_.base64StringToBlobOrBuffer(r.data,r.content_type)})}function s(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function u(e){return e._attachments&&Object.keys(e._attachments)?h.all(Object.keys(e._attachments).map(function(t){var r=e._attachments[t];if(r.data&&"string"!=typeof r.data)return new h(function(e){_.blobOrBufferToBase64(r.data,e)}).then(function(e){r.data=e})})):h.resolve()}function a(e){if(!e.prefix)return!1;var t=b.parseUri(e.prefix).protocol;return"http"===t||"https"===t}function c(e,t){if(a(t)){var r=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(r)}var n=b.parseUri(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var o=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=o.pop(),n.db.indexOf("%")===-1&&(n.db=encodeURIComponent(n.db)),n.path=o.join("/"),n}function f(e,t){return l(e,e.db+"/"+t)}function l(e,t){var r=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+r+t}function d(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function p(e,t){function r(e,t,r){var n=e.ajax||{},o=b.assign(b.clone(A),n,t),i=b.clone(A.headers||{});return o.headers=b.assign(i,n.headers,t.headers||{}),k(o.method+" "+o.url),O._ajax(o,r)}function n(e,t){return new h(function(n,o){r(e,t,function(e,t){return e?o(e):void n(t)})})}function a(e,t){return b.adapterFun(e,y(function(e){p().then(function(){return t.apply(this,e)}).catch(function(t){var r=e.pop();r(t)})}))}function p(){if(e.skipSetup||e.skip_setup)return h.resolve();if(T)return T;var t={method:"GET",url:E};return T=n({},t).catch(function(e){return e&&e.status&&404===e.status?(b.explainError(404,"PouchDB is just detecting if the remote exists."),n({},{method:"PUT",url:E})):h.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||h.reject(e)}),T.catch(function(){T=null}),T}function g(e){return e.split("/").map(encodeURIComponent).join("/")}var O=this,S=c(e.name,e),E=f(S,"");e=b.clone(e);var A=e.ajax||{};if(e.auth||S.auth){var P=e.auth||S.auth,C=P.username+":"+P.password,I=_.btoa(unescape(encodeURIComponent(C)));A.headers=A.headers||{},A.headers.Authorization="Basic "+I}O._ajax=v;var T;b.nextTick(function(){t(null,O)}),O.type=function(){return"http"},O.id=a("id",function(e){r({},{method:"GET",url:l(S,"")},function(t,r){var n=r&&r.uuid?r.uuid+S.db:f(S,"");e(null,n)})}),O.request=a("request",function(e,t){e.url=f(S,e.url),r({},e,t)}),O.compact=a("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=b.clone(e),r(e,{url:f(S,"_compact"),method:"POST"},function(){function r(){O.info(function(n,o){o&&!o.compact_running?t(null,{ok:!0}):setTimeout(r,e.interval||200)})}r()})}),O.bulkGet=b.adapterFun("bulkGet",function(e,t){function n(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),r(e,{url:f(S,"_bulk_get"+d(n)),method:"POST",body:{docs:e.docs}},t)}function o(){function r(e){return function(r,n){u[e]=n.results,++s===o&&t(null,{results:b.flatten(u)})}}for(var n=x,o=Math.ceil(e.docs.length/n),s=0,u=new Array(o),a=0;a<o;a++){var c=b.pick(e,["revs","attachments","latest"]);c.ajax=A,c.docs=e.docs.slice(a*n,Math.min(e.docs.length,(a+1)*n)),b.bulkGetShim(i,c,r(a))}}var i=this,s=l(S,""),u=j[s];"boolean"!=typeof u?n(function(e,r){e?(j[s]=!1,b.explainError(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(j[s]=!0,t(null,r))}):u?n(t):o()}),O._info=function(e){p().then(function(){r({},{method:"GET",url:f(S,"")},function(t,r){return t?e(t):(r.host=f(S,""),void e(null,r))})}).catch(e)},O.get=a("get",function(e,t,r){function i(e){function r(r){var o=i[r],u=s(e._id)+"/"+g(r)+"?rev="+e._rev;return n(t,{method:"GET",url:f(S,u),binary:!0}).then(function(e){return t.binary?e:new h(function(t){_.blobOrBufferToBase64(e,t)})}).then(function(e){delete o.stub,delete o.length,o.data=e})}var i=e._attachments,u=i&&Object.keys(i);if(i&&u.length){var a=u.map(function(e){return function(){return r(e)}});return o(a,5)}}function u(e){return Array.isArray(e)?h.all(e.map(function(e){if(e.ok)return i(e.ok)})):i(e)}"function"==typeof t&&(r=t,t={}),t=b.clone(t);var a={};t.revs&&(a.revs=!0),t.revs_info&&(a.revs_info=!0),t.latest&&(a.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),a.open_revs=t.open_revs),t.rev&&(a.rev=t.rev),t.conflicts&&(a.conflicts=t.conflicts),e=s(e);var c={method:"GET",url:f(S,e+d(a))};n(t,c).then(function(e){return h.resolve().then(function(){if(t.attachments)return u(e)}).then(function(){r(null,e)})}).catch(r)}),O.remove=a("remove",function(e,t,n,o){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof n&&(o=n,n={})):(i=e,"function"==typeof t?(o=t,n={}):(o=n,n=t));var u=i._rev||n.rev;r(n,{method:"DELETE",url:f(S,s(i._id))+"?rev="+u},o)}),O.getAttachment=a("getAttachment",function(e,t,n,o){"function"==typeof n&&(o=n,n={});var i=n.rev?"?rev="+n.rev:"",u=f(S,s(e))+"/"+g(t)+i;r(n,{method:"GET",url:u,binary:!0},o)}),O.removeAttachment=a("removeAttachment",function(e,t,n,o){var i=f(S,s(e)+"/"+g(t))+"?rev="+n;r({},{method:"DELETE",url:i},o)}),O.putAttachment=a("putAttachment",function(e,t,n,o,i,u){"function"==typeof i&&(u=i,i=o,o=n,n=null);var a=s(e)+"/"+g(t),c=f(S,a);if(n&&(c+="?rev="+n),"string"==typeof o){var l;try{l=_.atob(o)}catch(e){return u(m.createError(m.BAD_ARG,"Attachment is not a valid base64 string"))}o=l?_.binaryStringToBlobOrBuffer(l,i):""}var d={headers:{"Content-Type":i},method:"PUT",url:c,processData:!1,body:o,timeout:A.timeout||6e4};r({},d,u)}),O._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,p().then(function(){return h.all(e.docs.map(u))}).then(function(){r(t,{method:"POST",url:f(S,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){return e?n(e):(t.forEach(function(e){e.ok=!0}),void n(null,t))})}).catch(n)},O._put=function(e,t,n){p().then(function(){return u(e)}).then(function(){r(t,{method:"PUT",url:f(S,s(e._id)),body:e},function(e,t){return e?n(e):void n(null,t)})}).catch(n)},O.allDocs=a("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=b.clone(e);var r,o={},s="GET";e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),e.include_docs&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.key&&(o.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(o.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(o.endkey=JSON.stringify(e.endkey)),"undefined"!=typeof e.inclusive_end&&(o.inclusive_end=!!e.inclusive_end),"undefined"!=typeof e.limit&&(o.limit=e.limit),"undefined"!=typeof e.skip&&(o.skip=e.skip);var u=d(o);"undefined"!=typeof e.keys&&(s="POST",r={keys:e.keys}),n(e,{method:s,url:f(S,"_all_docs"+u),body:r}).then(function(r){e.include_docs&&e.attachments&&e.binary&&r.rows.forEach(i),t(null,r)}).catch(t)}),O._changes=function(e){var t="batch_size"in e?e.batch_size:w;e=b.clone(e),e.timeout="timeout"in e?e.timeout:"timeout"in A?A.timeout:3e4;var n,o=e.timeout?{timeout:e.timeout-5e3}:{},s="undefined"!=typeof e.limit&&e.limit;n="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var u=s;if(e.style&&(o.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.continuous&&(o.feed="longpoll"),e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),"heartbeat"in e?e.heartbeat&&(o.heartbeat=e.heartbeat):e.continuous&&(o.heartbeat=1e4),e.filter&&"string"==typeof e.filter&&(o.filter=e.filter),e.view&&"string"==typeof e.view&&(o.filter="_view",o.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var a in e.query_params)e.query_params.hasOwnProperty(a)&&(o[a]=e.query_params[a]);var c,l="GET";e.doc_ids&&(o.filter="_doc_ids",l="POST",c={doc_ids:e.doc_ids});var h,v,y=function(n,i){if(!e.aborted){o.since=n,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),e.descending?s&&(o.limit=u):o.limit=!s||u>t?t:u;var a={method:l,url:f(S,"_changes"+d(o)),timeout:e.timeout,body:c};v=n,e.aborted||p().then(function(){h=r(e,a,i)}).catch(i)}},_={results:[]},m=function(r,o){if(!e.aborted){var a=0;if(o&&o.results){a=o.results.length,_.last_seq=o.last_seq;var c={};c.query=e.query_params,o.results=o.results.filter(function(t){u--;var r=b.filterChange(e)(t);return r&&(e.include_docs&&e.attachments&&e.binary&&i(t),n&&_.results.push(t),e.onChange(t)),r})}else if(r)return e.aborted=!0,void e.complete(r);o&&o.last_seq&&(v=o.last_seq);var f=s&&u<=0||o&&a<t||e.descending;(!e.continuous||s&&u<=0)&&f?e.complete(null,_):b.nextTick(function(){y(v,m)})}};return y(e.since||0,m),{cancel:function(){e.aborted=!0,h&&h.abort()}}},O.revsDiff=a("revsDiff",function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,{method:"POST",url:f(S,"_revs_diff"),body:e},n)}),O._close=function(e){e()},O._destroy=function(e,t){r(e,{url:f(S,""),method:"DELETE"},function(e,r){return e&&e.status&&404!==e.status?t(e):void t(null,r)})}}var h=n(e("pouchdb-promise")),b=e("pouchdb-utils"),v=n(e("pouchdb-ajax")),y=n(e("argsarray")),_=e("pouchdb-binary-utils"),m=e("pouchdb-errors"),g=n(e("debug")),w=25,x=50,j={},k=g("pouchdb:http");p.valid=function(){return!0};var O=function(e){e.adapter("http",p,!1),e.adapter("https",p,!1)};t.exports=O},{argsarray:20,debug:445,"pouchdb-ajax":449,"pouchdb-binary-utils":450,"pouchdb-errors":459,"pouchdb-promise":487,"pouchdb-utils":492}],445:[function(e,t,r){arguments[4][425][0].apply(r,arguments)},{"./debug":446,_process:495,dup:425}],446:[function(e,t,r){function n(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}function o(e){function t(){if(t.enabled){var e=t,n=+new Date,o=n-(c||n);e.diff=o,e.prev=c,e.curr=n,c=n;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=r.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;u++;var o=r.formatters[n];if("function"==typeof o){var s=i[u];t=o.call(e,s),i.splice(u,1),u--}return t}),r.formatArgs.call(e,i);var a=t.log||r.log||console.log.bind(console);a.apply(e,i)}}return t.namespace=e,t.enabled=r.enabled(e),t.useColors=r.useColors(),t.color=n(e),"function"==typeof r.init&&r.init(t),t}function i(e){r.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;o<n;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function s(){r.enable("")}function u(e){var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function a(e){return e instanceof Error?e.stack||e.message:e}r=t.exports=o.debug=o.default=o,r.coerce=a,r.disable=s,r.enable=i,r.enabled=u,r.humanize=e("ms"),r.names=[],r.skips=[],r.formatters={};var c},{ms:442}],447:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(I.createError(I.IDB_ERROR,r,t.type))}}function i(e,t,r){return{data:M.safeJsonStringify(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function s(e){if(!e)return null;var t=M.safeJsonParse(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function u(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function a(e,t,r,n){r?n(e?"string"!=typeof e?e:R.base64StringToBlobOrBuffer(e,t):R.blob([""],{type:t})):e?"string"!=typeof e?R.readAsBinaryString(e,function(e){n(R.btoa(e))}):n(e):n("")}function c(e,t,r,n){function o(){++u===s.length&&n&&n()}function i(e,t){var n=e._attachments[t],i=n.digest,s=r.objectStore(L).get(i);s.onsuccess=function(e){n.body=e.target.result.body,o()}}var s=Object.keys(e._attachments||{});if(!s.length)return n&&n();var u=0;s.forEach(function(r){t.attachments&&t.include_docs?i(e,r):(e._attachments[r].stub=!0,o())})}function f(e,t){return D.all(e.map(function(e){if(e.doc&&e.doc._attachments){var r=Object.keys(e.doc._attachments);return D.all(r.map(function(r){var n=e.doc._attachments[r];if("body"in n){var o=n.body,i=n.content_type;return new D(function(s){a(o,i,t,function(t){e.doc._attachments[r]=P.assign(P.pick(n,["digest","content_type"]),{data:t}),s()})})}}))}}))}function l(e,t,r){function n(){c--,c||o()}function o(){i.length&&i.forEach(function(e){var t=a.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1));t.onsuccess=function(t){var r=t.target.result;r||u.delete(e)}})}var i=[],s=r.objectStore(F),u=r.objectStore(L),a=r.objectStore($),c=e.length;e.forEach(function(e){var r=s.index("_doc_id_rev"),o=t+"::"+e;r.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return n();s.delete(t);var r=a.index("seq").openCursor(IDBKeyRange.only(t));r.onsuccess=function(e){var t=e.target.result;if(t){var r=t.value.digestSeq.split("::")[0];i.push(r),a.delete(t.primaryKey),t.continue()}else n()}}})}function d(e,t,r){try{return{txn:e.transaction(t,r)}}catch(e){return{error:e}}}function p(e,t,r,n,u,a){function c(){var e=[N,F,L,U,$,q],t=d(u,e,"readwrite");return t.error?a(t.error):(k=t.txn,k.onabort=o(a),k.ontimeout=o(a),k.oncomplete=v,O=k.objectStore(N),S=k.objectStore(F),E=k.objectStore(L),P=k.objectStore($),D=k.objectStore(q),D.get(q).onsuccess=function(e){R=e.target.result,h()},void _(function(e){return e?(Q=!0,a(e)):void b()}))}function f(){J=!0,h()}function p(){T.processDocs(e.revs_limit,B,n,Y,k,H,m,r,f)}function h(){R&&J&&(R.docCount+=W,D.put(R))}function b(){function e(){++r===B.length&&p()}function t(t){var r=s(t.target.result);r&&Y.set(r.id,r),e()}if(B.length)for(var r=0,n=0,o=B.length;n<o;n++){var i=B[n];if(i._id&&T.isLocalId(i._id))e();else{var u=O.get(i.metadata.id);u.onsuccess=t}}}function v(){Q||(V.notify(n._meta.name),a(null,H))}function y(e,t){var r=E.get(e);r.onsuccess=function(r){if(r.target.result)t();else{var n=I.createError(I.MISSING_STUB,"unknown stub attachment with digest "+e);n.status=412,t(n)}}}function _(e){function t(){++o===r.length&&e(n)}var r=[];if(B.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var n=e.data._attachments[t];n.stub&&r.push(n.digest)})}),!r.length)return e();var n,o=0;r.forEach(function(e){y(e,function(e){e&&!n&&(n=e),t()})})}function m(e,t,r,n,o,i,s,u){e.metadata.winningRev=t,e.metadata.deleted=r;var a=e.data;a._id=e.metadata.id,a._rev=e.metadata.rev,n&&(a._deleted=!0);var c=a._attachments&&Object.keys(a._attachments).length;return c?w(e,t,r,o,s,u):(W+=i,h(),void g(e,t,r,o,s,u))}function g(e,t,r,o,s,u){function a(s){var u=e.stemmedRevs||[];o&&n.auto_compaction&&(u=u.concat(C.compactTree(e.metadata))),u&&u.length&&l(u,e.metadata.id,k),p.seq=s.target.result;var a=i(p,t,r),c=O.put(a);c.onsuccess=f}function c(e){e.preventDefault(),e.stopPropagation();var t=S.index("_doc_id_rev"),r=t.getKey(d._doc_id_rev);r.onsuccess=function(e){var t=S.put(d,e.target.result);t.onsuccess=a}}function f(){H[s]={ok:!0,id:p.id,rev:p.rev},Y.set(e.metadata.id,e.metadata),x(e,p.seq,u)}var d=e.data,p=e.metadata;d._doc_id_rev=p.id+"::"+p.rev,delete d._id,delete d._rev;var h=S.put(d);h.onsuccess=a,h.onerror=c}function w(e,t,r,n,o,i){function s(){c===f.length&&g(e,t,r,n,o,i)}function u(){c++,s()}var a=e.data,c=0,f=Object.keys(a._attachments);f.forEach(function(r){var n=e.data._attachments[r];if(n.stub)c++,s();else{var o=n.data;delete n.data,n.revpos=parseInt(t,10);var i=n.digest;j(i,o,u)}})}function x(e,t,r){function n(){++i===s.length&&r()}function o(r){var o=e.data._attachments[r].digest,i=P.put({seq:t,digestSeq:o+"::"+t});i.onsuccess=n,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),n()}}var i=0,s=Object.keys(e.data._attachments||{});if(!s.length)return r();for(var u=0;u<s.length;u++)o(s[u])}function j(e,t,r){var n=E.count(e);n.onsuccess=function(n){var o=n.target.result;if(o)return r();var i={digest:e,body:t},s=E.put(i);s.onsuccess=r}}for(var k,O,S,E,P,D,M,R,B=t.docs,z=0,K=B.length;z<K;z++){var G=B[z];G._id&&T.isLocalId(G._id)||(G=B[z]=T.parseDoc(G,r.new_edits),G.error&&!M&&(M=G))}if(M)return a(M);var J=!1,W=0,H=new Array(B.length),Y=new A.Map,Q=!1,Z=n._meta.blobSupport?"blob":"base64";T.preprocessAttachments(B,Z,function(e){return e?a(e):void c()})}function h(e,t,r,n,o){function i(e){f=e.target.result,c&&o(c,f,l)}function s(e){c=e.target.result,f&&o(c,f,l)}function u(){if(!c.length)return o();var r,u=c[c.length-1];if(t&&t.upper)try{r=IDBKeyRange.bound(u,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return o()}else r=IDBKeyRange.lowerBound(u,!0);t=r,c=null,f=null,e.getAll(t,n).onsuccess=i,e.getAllKeys(t,n).onsuccess=s}function a(e){var t=e.target.result;return t?void o([t.key],[t.value],t):o()}var c,f,l,d="function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&n>1&&!r;d?(l={continue:u},e.getAll(t,n).onsuccess=i,e.getAllKeys(t,n).onsuccess=s):r?e.openCursor(t,"prev").onsuccess=a:e.openCursor(t).onsuccess=a}function b(e,t,r){function n(e){var t=e.target.result;t?(o.push(t.value),t.continue()):r({target:{result:o}})}if("function"==typeof e.getAll)return void(e.getAll(t).onsuccess=r);var o=[];e.openCursor(t).onsuccess=n}function v(e,t,r,n,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(n)return IDBKeyRange.only(n)}catch(e){return{error:e}}return null}function y(e,t,r){function n(t,r,n){var o=t.id+"::"+n;B.get(o).onsuccess=function(n){if(r.doc=u(n.target.result),e.conflicts){var o=C.collectConflicts(t);o.length&&(r.doc._conflicts=o)}c(r.doc,e,P)}}function i(t,r){var o={id:r.id,key:r.id,value:{rev:t}},i=r.deleted;"ok"===e.deleted?($.push(o),i?(o.value.deleted=!0,o.doc=null):e.include_docs&&n(r,o,t)):!i&&x--<=0&&($.push(o),e.include_docs&&n(r,o,t))}function a(e){for(var t=0,r=e.length;t<r&&$.length!==j;t++){var n=e[t],o=s(n),u=o.winningRev;i(u,o)}}function l(e,t,r){r&&(a(t),$.length<j&&r.continue())}function p(t){var r=t.target.result;e.descending&&(r=r.reverse()),a(r)}function y(){r(null,{total_rows:T,offset:e.skip,rows:$})}function _(){e.attachments?f($,e.binary).then(y):y()}var m="startkey"in e&&e.startkey,g="endkey"in e&&e.endkey,w="key"in e&&e.key,x=e.skip||0,j="number"==typeof e.limit?e.limit:-1,k=e.inclusive_end!==!1,O=v(m,g,k,w,e.descending),S=O&&O.error;if(S&&("DataError"!==S.name||0!==S.code))return r(I.createError(I.IDB_ERROR,S.name,S.message));var E=[N,F,q];e.attachments&&E.push(L);var A=d(t,E,"readonly");if(A.error)return r(A.error);var P=A.txn;P.oncomplete=_,P.onabort=o(r);var T,D=P.objectStore(N),M=P.objectStore(F),R=P.objectStore(q),B=M.index("_doc_id_rev"),$=[];return R.get(q).onsuccess=function(e){T=e.target.result.docCount},S||0===j?void 0:j===-1?b(D,O,p):void h(D,O,e.descending,j+x,l)}function _(e){return new D(function(t){var r=R.blob([""]),n=e.objectStore(z).put(r,"key");n.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)},e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}function m(e,t){var r=e.objectStore(N).index("deletedOrLocal");r.count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}function g(e,t,r,n){try{e(t,r)}catch(e){n.emit("error",e)}}function w(){!K&&G.length&&(K=!0,G.shift()())}function x(e,t,r){G.push(function(){e(function(e,n){g(t,e,n,r),K=!1,P.nextTick(function(){w(r)})})}),w()}function j(e,t,r,n){function i(t,r,n){function o(t,r){var n=e.processChange(r,t,e);_=n.seq=t.seq;var o=E(n);return"object"==typeof o?e.complete(o):void(o&&(S++,g&&O.push(n),e.attachments&&e.include_docs?c(r,e,w,function(){f([n],e.binary).then(function(){e.onChange(n)})}):e.onChange(n)))}function i(){for(var e=0,t=s.length;e<t&&S!==m;e++){var r=s[e];if(r){var i=a[e];o(i,r)}}S!==m&&n.continue()}if(n&&t.length){var s=new Array(t.length),a=new Array(t.length),d=0;r.forEach(function(e,r){var n=u(e),o=t[r];l(n,o,function(e,n){a[r]=e,s[r]=n,++d===t.length&&i()})})}}function a(e,t,r,n){if(r.seq!==t)return n();if(r.winningRev===e._rev)return n(r,e);var o=e._id+"::"+r.winningRev,i=k.get(o);i.onsuccess=function(e){n(r,u(e.target.result))}}function l(e,t,r){if(y&&!y.has(e._id))return r();var n=C.get(e._id);return n?a(e,t,n,r):void(j.get(e._id).onsuccess=function(o){n=s(o.target.result),C.set(e._id,n),a(e,t,n,r)})}function p(){e.complete(null,{results:O,last_seq:_})}function b(){!e.continuous&&e.attachments?f(O).then(p):p()}if(e=P.clone(e),e.continuous){var v=r+":"+P.uuid();return V.addListener(r,v,t,e),V.notify(r),{cancel:function(){V.removeListener(r,v)}}}var y=e.doc_ids&&new A.Set(e.doc_ids);e.since=e.since||0;var _=e.since,m="limit"in e?e.limit:-1;0===m&&(m=1);var g;g="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var w,x,j,k,O=[],S=0,E=P.filterChange(e),C=new A.Map,I=[N,F];e.attachments&&I.push(L);var T=d(n,I,"readonly");if(T.error)return e.complete(T.error);w=T.txn,w.onabort=o(e.complete),w.oncomplete=b,x=w.objectStore(F),j=w.objectStore(N),k=x.index("_doc_id_rev");var D=e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null;h(x,D,e.descending,m,i)}function k(e,t){var r=this;x(function(t){O(r,e,t)},t,r.constructor)}function O(e,t,r){function n(e){var t=e.createObjectStore(N,{keyPath:"id"});e.createObjectStore(F,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(L,{keyPath:"digest"}),e.createObjectStore(q,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(z),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(U,{keyPath:"_id"});var r=e.createObjectStore($,{autoIncrement:!0});r.createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0})}function c(e,t){var r=e.objectStore(N);r.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),r.openCursor().onsuccess=function(e){var n=e.target.result;if(n){var o=n.value,i=C.isDeleted(o);o.deletedOrLocal=i?"1":"0",r.put(o),n.continue()}else t()}}function f(e){e.createObjectStore(U,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function h(e,t){var r=e.objectStore(U),n=e.objectStore(N),o=e.objectStore(F),i=n.openCursor();i.onsuccess=function(e){var i=e.target.result;if(i){var s=i.value,u=s.id,a=C.isLocalId(u),c=C.winningRev(s);if(a){var f=u+"::"+c,l=u+"::",d=u+"::~",p=o.index("_doc_id_rev"),h=IDBKeyRange.bound(l,d,!1,!1),b=p.openCursor(h);b.onsuccess=function(e){if(b=e.target.result){var t=b.value;t._doc_id_rev===f&&r.put(t),o.delete(b.primaryKey),b.continue()}else n.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function b(e){var t=e.createObjectStore($,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function v(e,t){var r=e.objectStore(F),n=e.objectStore(L),o=e.objectStore($),i=n.count();i.onsuccess=function(e){var n=e.target.result;return n?void(r.openCursor().onsuccess=function(e){var r=e.target.result;if(!r)return t();for(var n=r.value,i=r.primaryKey,s=Object.keys(n._attachments||{}),u={},a=0;a<s.length;a++){var c=n._attachments[s[a]];u[c.digest]=!0}var f=Object.keys(u);for(a=0;a<f.length;a++){var l=f[a];o.put({seq:i,digestSeq:l+"::"+i})}r.continue()}):t()}}function g(e){function t(e){return e.data?s(e):(e.deleted="1"===e.deletedOrLocal,e)}var r=e.objectStore(F),n=e.objectStore(N),o=n.openCursor();o.onsuccess=function(e){function o(){var e=a.id+"::",t=a.id+"::￿",n=r.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),o=0;n.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=o,s();var r=t.primaryKey;r>o&&(o=r),t.continue()}}function s(){var e=i(a,a.winningRev,a.deleted),t=n.put(e);t.onsuccess=function(){u.continue()}}var u=e.target.result;if(u){var a=t(u.value);return a.winningRev=a.winningRev||C.winningRev(a),a.seq?s():void o()}}}var w=t.name,x=null;e._meta=null,e.type=function(){return"idb"},e._id=P.toPromise(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(r,n,o){p(t,r,n,e,x,o)},e._get=function(e,t,r){function n(){r(a,{doc:o,metadata:i,ctx:c})}var o,i,a,c=t.ctx;if(!c){var f=d(x,[N,F,L],"readonly");if(f.error)return r(f.error);c=f.txn}c.objectStore(N).get(e).onsuccess=function(e){if(i=s(e.target.result),!i)return a=I.createError(I.MISSING_DOC,"missing"),n();var r;if(t.rev)r=t.latest?C.latest(t.rev,i):t.rev;else{r=i.winningRev;var f=C.isDeleted(i);if(f)return a=I.createError(I.MISSING_DOC,"deleted"),n()}var l=c.objectStore(F),d=i.id+"::"+r;l.index("_doc_id_rev").get(d).onsuccess=function(e){return o=e.target.result,o&&(o=u(o)),o?void n():(a=I.createError(I.MISSING_DOC,"missing"),n())}}},e._getAttachment=function(e,t,r,n,o){var i;if(n.ctx)i=n.ctx;else{var s=d(x,[N,F,L],"readonly");if(s.error)return o(s.error);i=s.txn}var u=r.digest,c=r.content_type;i.objectStore(L).get(u).onsuccess=function(e){var t=e.target.result.body;a(t,c,n.binary,function(e){o(null,e)})}},e._info=function(t){var r,n,o=d(x,[q,F],"readonly");if(o.error)return t(o.error);var i=o.txn;i.objectStore(q).get(q).onsuccess=function(e){n=e.target.result.docCount},i.objectStore(F).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;r=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:n,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){y(e,x,t)},e._changes=function(t){j(t,e,w,x)},e._close=function(e){x.close(),J.delete(w),e()},e._getRevisionTree=function(e,t){var r=d(x,[N],"readonly");if(r.error)return t(r.error);var n=r.txn,o=n.objectStore(N).get(e);o.onsuccess=function(e){var r=s(e.target.result);r?t(null,r.rev_tree):t(I.createError(I.MISSING_DOC))}},e._doCompaction=function(e,t,r){var n=[N,F,L,$],u=d(x,n,"readwrite");if(u.error)return r(u.error);var a=u.txn,c=a.objectStore(N);c.get(e).onsuccess=function(r){var n=s(r.target.result);C.traverseRevTree(n.rev_tree,function(e,r,n,o,i){var s=r+"-"+n;t.indexOf(s)!==-1&&(i.status="missing")}),l(t,e,a);var o=n.winningRev,u=n.deleted;a.objectStore(N).put(i(n,o,u))},a.onabort=o(r),a.oncomplete=function(){r()}},e._getLocal=function(e,t){var r=d(x,[U],"readonly");if(r.error)return t(r.error);var n=r.txn,i=n.objectStore(U).get(e);i.onerror=o(t),i.onsuccess=function(e){var r=e.target.result;r?(delete r._doc_id_rev,t(null,r)):t(I.createError(I.MISSING_DOC))}},e._putLocal=function(e,t,r){"function"==typeof t&&(r=t,t={}),delete e._revisions;var n=e._rev,i=e._id;n?e._rev="0-"+(parseInt(n.split("-")[1],10)+1):e._rev="0-1";var s,u=t.ctx;if(!u){var a=d(x,[U],"readwrite");if(a.error)return r(a.error);u=a.txn,u.onerror=o(r),u.oncomplete=function(){s&&r(null,s)}}var c,f=u.objectStore(U);n?(c=f.get(i),c.onsuccess=function(o){var i=o.target.result;if(i&&i._rev===n){var u=f.put(e);u.onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,s)}}else r(I.createError(I.REV_CONFLICT))}):(c=f.add(e),c.onerror=function(e){r(I.createError(I.REV_CONFLICT)),e.preventDefault(),e.stopPropagation()},c.onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,s)})},e._removeLocal=function(e,t,r){"function"==typeof t&&(r=t,t={});var n=t.ctx;if(!n){var i=d(x,[U],"readwrite");if(i.error)return r(i.error);n=i.txn,n.oncomplete=function(){s&&r(null,s)}}var s,u=e._id,a=n.objectStore(U),c=a.get(u);c.onerror=o(r),c.onsuccess=function(n){var o=n.target.result;o&&o._rev===e._rev?(a.delete(u),s={ok:!0,id:u,rev:"0-0"},t.ctx&&r(null,s)):r(I.createError(I.MISSING_DOC))}},e._destroy=function(e,t){V.removeAllListeners(w);var r=W.get(w);r&&r.result&&(r.result.close(),J.delete(w));var n=indexedDB.deleteDatabase(w);n.onsuccess=function(){W.delete(w),P.hasLocalStorage()&&w in localStorage&&delete localStorage[w],t(null,{ok:!0})},n.onerror=o(t)};var k=J.get(w);if(k)return x=k.idb,e._meta=k.global,P.nextTick(function(){r(null,e)});var O;O=t.storage?S(w,t.storage):indexedDB.open(w,B),W.set(w,O),O.onupgradeneeded=function(e){function t(){var e=i[s-1];s++,e&&e(o,t)}var r=e.target.result;if(e.oldVersion<1)return n(r);var o=e.currentTarget.transaction;e.oldVersion<3&&f(r),e.oldVersion<4&&b(r);var i=[c,h,v,g],s=e.oldVersion;t()},O.onsuccess=function(t){function n(){
"undefined"!=typeof u&&f&&(e._meta={name:w,instanceId:a,blobSupport:u},J.set(w,{idb:x,global:e._meta}),r(null,e))}function o(){if("undefined"!=typeof s&&"undefined"!=typeof i){var e=w+"_id";e in i?a=i[e]:i[e]=a=P.uuid(),i.docCount=s,c.objectStore(q).put(i)}}x=t.target.result,x.onversionchange=function(){x.close(),J.delete(w)},x.onabort=function(e){P.guardedConsole("error","Database has a global failure",e.target.error),x.close(),J.delete(w)};var i,s,u,a,c=x.transaction([q,z,N],"readwrite"),f=!1;c.objectStore(q).get(q).onsuccess=function(e){i=e.target.result||{id:q},o()},m(c,function(e){s=e,o()}),E||(E=_(c)),E.then(function(e){u=e,n()}),c.oncomplete=function(){f=!0,n()}},O.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";P.guardedConsole("error",e),r(I.createError(I.IDB_ERROR,e))}}function S(e,t){try{return indexedDB.open(e,{version:B,storage:t})}catch(t){return indexedDB.open(e,B)}}var E,A=e("pouchdb-collections"),P=e("pouchdb-utils"),C=e("pouchdb-merge"),I=e("pouchdb-errors"),T=e("pouchdb-adapter-utils"),D=n(e("pouchdb-promise")),M=e("pouchdb-json"),R=e("pouchdb-binary-utils"),B=5,N="document-store",F="by-sequence",L="attach-store",$="attach-seq-store",q="meta-store",U="local-store",z="detect-blob-support",V=new P.changesHandler,K=!1,G=[],J=new A.Map,W=new A.Map;k.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);return!e&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var H=function(e){e.adapter("idb",k,!0)};t.exports=H},{"pouchdb-adapter-utils":448,"pouchdb-binary-utils":450,"pouchdb-collections":455,"pouchdb-errors":459,"pouchdb-json":484,"pouchdb-merge":486,"pouchdb-promise":487,"pouchdb-utils":492}],448:[function(e,t,r){"use strict";function n(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function o(e){if(!/^\d+\-./.test(e))return v.createError(v.INVALID_REV);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function i(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,o=[n[0],t,[]],i=1,s=n.length;i<s;i++)o=[n[i],{status:"missing"},[o]];return[{pos:r,ids:o}]}function s(e,t){var r,n,s,u={status:"available"};if(e._deleted&&(u.deleted=!0),t)if(e._id||(e._id=b.uuid()),n=b.uuid(32,16).toLowerCase(),e._rev){if(s=o(e._rev),s.error)return s;e._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[n,u,[]]]]}],r=s.prefix+1}else e._rev_tree=[{pos:1,ids:[n,u,[]]}],r=1;else if(e._revisions&&(e._rev_tree=i(e._revisions,u),r=e._revisions.start,n=e._revisions.ids[0]),!e._rev_tree){if(s=o(e._rev),s.error)return s;r=s.prefix,n=s.id,e._rev_tree=[{pos:r,ids:[n,u,[]]}]}b.invalidIdError(e._id),e._rev=r+"-"+n;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var f="_"===c[0];if(f&&!w[c]){var l=v.createError(v.DOC_VALIDATION,c);throw l.message=v.DOC_VALIDATION.message+": "+c,l}f&&!x[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function u(e){try{return _.atob(e)}catch(e){var t=v.createError(v.BAD_ARG,"Attachment is not a valid base64 string");return{error:t}}}function a(e,t,r){var n=u(e.data);return n.error?r(n.error):(e.length=n.length,"blob"===t?e.data=_.binaryStringToBlobOrBuffer(n,e.content_type):"base64"===t?e.data=_.btoa(n):e.data=n,void m.binaryMd5(n,function(t){e.digest="md5-"+t,r()}))}function c(e,t,r){m.binaryMd5(e.data,function(n){e.digest="md5-"+n,e.length=e.data.size||e.data.length||0,"binary"===t?_.blobOrBufferToBinaryString(e.data,function(t){e.data=t,r()}):"base64"===t?_.blobOrBufferToBase64(e.data,function(t){e.data=t,r()}):r()})}function f(e,t,r){return e.stub?r():void("string"==typeof e.data?a(e,t,r):c(e,t,r))}function l(e,t,r){function n(){i++,e.length===i&&(o?r(o):r())}if(!e.length)return r();var o,i=0;e.forEach(function(e){function r(e){o=e,s++,s===i.length&&n()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],s=0;if(!i.length)return n();for(var u in e.data._attachments)e.data._attachments.hasOwnProperty(u)&&f(e.data._attachments[u],t,r)})}function d(e,t,r,n,o,i,u,a){if(y.revExists(t.rev_tree,r.metadata.rev))return n[o]=r,i();var c=t.winningRev||y.winningRev(t),f="deleted"in t?t.deleted:y.isDeleted(t,c),l="deleted"in r.metadata?r.metadata.deleted:y.isDeleted(r.metadata),d=/^1-/.test(r.metadata.rev);if(f&&!l&&a&&d){var p=r.data;p._rev=c,p._id=r.metadata.id,r=s(p,a)}var h=y.merge(t.rev_tree,r.metadata.rev_tree[0],e),b=a&&(f&&l&&"new_leaf"!==h.conflicts||!f&&"new_leaf"!==h.conflicts||f&&!l&&"new_branch"===h.conflicts);if(b){var _=v.createError(v.REV_CONFLICT);return n[o]=_,i()}var m=r.metadata.rev;r.metadata.rev_tree=h.tree,r.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var g,w=y.winningRev(r.metadata),x=y.isDeleted(r.metadata,w),j=f===x?0:f<x?-1:1;g=m===w?x:y.isDeleted(r.metadata,m),u(r,w,x,g,!0,j,o,i)}function p(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function h(e,t,r,n,o,i,s,u,a){function c(e,t,r){var n=y.winningRev(e.metadata),o=y.isDeleted(e.metadata,n);if("was_delete"in u&&o)return i[t]=v.createError(v.MISSING_DOC,"deleted"),r();var a=l&&p(e);if(a){var c=v.createError(v.REV_CONFLICT);return i[t]=c,r()}var f=o?0:1;s(e,n,o,o,!1,f,t,r)}function f(){++b===_&&a&&a()}e=e||1e3;var l=u.new_edits,h=new g.Map,b=0,_=t.length;t.forEach(function(e,t){if(e._id&&y.isLocalId(e._id)){var n=e._deleted?"_removeLocal":"_putLocal";return void r[n](e,{ctx:o},function(e,r){i[t]=e||r,f()})}var s=e.metadata.id;h.has(s)?(_--,h.get(s).push([e,t])):h.set(s,[[e,t]])}),h.forEach(function(t,r){function o(){++a<t.length?u():f()}function u(){var u=t[a],f=u[0],p=u[1];if(n.has(r))d(e,n.get(r),f,i,p,o,s,l);else{var h=y.merge([],f.metadata.rev_tree[0],e);f.metadata.rev_tree=h.tree,f.stemmedRevs=h.stemmedRevs||[],c(f,p,o)}}var a=0;u()})}Object.defineProperty(r,"__esModule",{value:!0});var b=e("pouchdb-utils"),v=e("pouchdb-errors"),y=e("pouchdb-merge"),_=e("pouchdb-binary-utils"),m=e("pouchdb-md5"),g=e("pouchdb-collections"),w=n(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),x=n(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);r.invalidIdError=b.invalidIdError,r.isDeleted=y.isDeleted,r.isLocalId=y.isLocalId,r.normalizeDdocFunctionName=b.normalizeDdocFunctionName,r.parseDdocFunctionName=b.parseDdocFunctionName,r.parseDoc=s,r.preprocessAttachments=l,r.processDocs=h,r.updateDoc=d},{"pouchdb-binary-utils":450,"pouchdb-collections":455,"pouchdb-errors":459,"pouchdb-md5":485,"pouchdb-merge":486,"pouchdb-utils":492}],449:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(){for(var e={},t=new p(function(t,r){e.resolve=t,e.reject=r}),r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.promise=t,p.resolve().then(function(){return fetch.apply(null,r)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}function i(e,t){var r,n,i,s=new Headers,u={method:e.method,credentials:"include",headers:s};return e.json&&(s.set("Accept","application/json"),s.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?u.body=JSON.stringify(e.body):"body"in e?u.body=e.body:u.body=null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&s.set(t,e.headers[t])}),r=o(e.url,u),e.timeout>0&&(n=setTimeout(function(){r.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),r.promise.then(function(t){return i={statusCode:t.status},e.timeout>0&&clearTimeout(n),i.statusCode>=200&&i.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){i.statusCode>=200&&i.statusCode<300?t(null,i,e):(e.status=i.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:r.reject}}function s(e,t){var r,n,o=!1,i=function(){r.abort(),a()},s=function(){o=!0,r.abort(),a()},u={abort:i},a=function(){clearTimeout(n),u.abort=function(){},r&&(r.onprogress=void 0,r.upload&&(r.upload.onprogress=void 0),r.onreadystatechange=void 0,r=void 0)};r=e.xhr?new e.xhr:new XMLHttpRequest;try{r.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}r.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(r.responseType="arraybuffer"),"body"in e||(e.body=null);for(var c in e.headers)e.headers.hasOwnProperty(c)&&r.setRequestHeader(c,e.headers[c]);return e.timeout>0&&(n=setTimeout(s,e.timeout),r.onprogress=function(){clearTimeout(n),4!==r.readyState&&(n=setTimeout(s,e.timeout))},"undefined"!=typeof r.upload&&(r.upload.onprogress=r.onprogress)),r.onreadystatechange=function(){if(4===r.readyState){var n={statusCode:r.status};if(r.status>=200&&r.status<300){var i;i=e.binary?h.blob([r.response||""],{type:r.getResponseHeader("Content-Type")}):r.responseText,t(null,n,i)}else{var s={};if(o)s=new Error("ETIMEDOUT"),s.code="ETIMEDOUT";else if("string"==typeof r.response)try{s=JSON.parse(r.response)}catch(e){}s.status=r.status,t(s)}a()}},e.body&&e.body instanceof Blob?h.readAsArrayBuffer(e.body,function(e){r.send(e)}):r.send(e.body),u}function u(){try{return new XMLHttpRequest,!0}catch(e){return!1}}function a(e,t){return v||e.xhr?s(e,t):i(e,t)}function c(){return""}function f(e,t){function r(t,r,n){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return n(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?b.generateErrorFromResponse(e):e})),e.binary&&y(t,r),n(null,t,r)}e=d.clone(e);var n={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return e=d.assign(n,e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),a(e,function(n,o,i){if(n)return t(b.generateErrorFromResponse(n));var s,u=o.headers&&o.headers["content-type"],a=i||c();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof a&&(/json/.test(u)||/^[\s]*\{/.test(a)&&/\}[\s]*$/.test(a)))try{a=JSON.parse(a.toString())}catch(e){}o.statusCode>=200&&o.statusCode<300?r(a,o,t):(s=b.generateErrorFromResponse(a),s.status=o.statusCode,t(s))})}function l(e,t){var r=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=r.indexOf("safari")!==-1&&r.indexOf("chrome")===-1,o=r.indexOf("msie")!==-1,i=r.indexOf("edge")!==-1,s=n||(o||i)&&"GET"===e.method,u=!("cache"in e)||e.cache,a=/^blob:/.test(e.url);if(!a&&(s||!u)){var c=e.url.indexOf("?")!==-1;e.url+=(c?"&":"?")+"_nonce="+Date.now()}return f(e,t)}var d=e("pouchdb-utils"),p=n(e("pouchdb-promise")),h=e("pouchdb-binary-utils"),b=e("pouchdb-errors"),v=u(),y=function(){};t.exports=l},{"pouchdb-binary-utils":450,"pouchdb-errors":459,"pouchdb-promise":487,"pouchdb-utils":492}],450:[function(e,t,r){"use strict";function n(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new r,o=0;o<e.length;o+=1)n.append(e[o]);return n.getBlob(t.type)}}function o(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;o<t;o++)n[o]=e.charCodeAt(o);return r}function i(e,t){return n([o(e)],{type:t})}function s(e,t){return i(p(e),t)}function u(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,o=0;o<n;o++)t+=String.fromCharCode(r[o]);return t}function a(e,t){if("undefined"==typeof FileReader)return t(u((new FileReaderSync).readAsArrayBuffer(e)));var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(e){var r=e.target.result||"";return n?t(r):void t(u(r))},n?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function c(e,t){a(e,function(e){t(e)})}function f(e,t){c(e,function(e){t(h(e))})}function l(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var r=new FileReader;r.onloadend=function(e){var r=e.target.result||new ArrayBuffer(0);t(r)},r.readAsArrayBuffer(e)}function d(){}Object.defineProperty(r,"__esModule",{value:!0});var p=function(e){return atob(e)},h=function(e){return btoa(e)};r.atob=p,r.btoa=h,r.base64StringToBlobOrBuffer=s,r.binaryStringToArrayBuffer=o,r.binaryStringToBlobOrBuffer=i,r.blob=n,r.blobOrBufferToBase64=f,r.blobOrBufferToBinaryString=c,r.readAsArrayBuffer=l,r.readAsBinaryString=a,r.typedBuffer=d},{}],451:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e,t,r,n,i){return e.get(t).catch(function(r){if(404===r.status)return"http"===e.type()&&l.explainError(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:t,history:[],replicator:h,version:p};throw r}).then(function(s){if(!i.cancelled&&s.last_seq!==r)return s.history=(s.history||[]).filter(function(e){return e.session_id!==n}),s.history.unshift({last_seq:r,session_id:n}),s.history=s.history.slice(0,b),s.version=p,s.replicator=h,s.session_id=n,s.last_seq=r,e.put(s).catch(function(s){if(409===s.status)return o(e,t,r,n,i);throw s})})}function i(e,t,r,n){this.src=e,this.target=t,this.id=r,this.returnValue=n}function s(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:u(e.history,t.history)}function u(e,t){var r=e[0],n=e.slice(1),o=t[0],i=t.slice(1);if(!r||0===t.length)return{last_seq:v,history:[]};var s=r.session_id;if(a(s,t))return{last_seq:r.last_seq,history:e};var c=o.session_id;return a(c,n)?{last_seq:o.last_seq,history:i}:u(n,i)}function a(e,t){var r=t[0],n=t.slice(1);return!(!e||0===t.length)&&(e===r.session_id||a(e,n))}function c(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}var f=n(e("pouchdb-promise")),l=e("pouchdb-utils"),d=e("pouchdb-collate"),p=1,h="pouchdb",b=5,v=0;i.prototype.writeCheckpoint=function(e,t){var r=this;return this.updateTarget(e,t).then(function(){return r.updateSource(e,t)})},i.prototype.updateTarget=function(e,t){return o(this.target,this.id,e,t,this.returnValue)},i.prototype.updateSource=function(e,t){var r=this;return this.readOnlySource?f.resolve(!0):o(this.src,this.id,e,t,this.returnValue).catch(function(e){if(c(e))return r.readOnlySource=!0,!0;throw e})};var y={undefined:function(e,t){return 0===d.collate(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return s(t,e).last_seq}};i.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?f.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return v;var r;return r=t.version?t.version.toString():"undefined",r in y?y[r](t,e):v},function(r){if(404===r.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:v}).then(function(){return v},function(r){return c(r)?(e.readOnlySource=!0,t.last_seq):v});throw r})}).catch(function(e){if(404!==e.status)throw e;return v})},t.exports=i},{"pouchdb-collate":452,"pouchdb-promise":487,"pouchdb-utils":492}],452:[function(e,t,r){"use strict";function n(e,t,r){for(var n="",o=r-e.length;n.length<o;)n+=t;return n}function o(e,t,r){var o=n(e,t,r);return o+e}function i(e,t){if(e===t)return 0;e=s(e),t=s(t);var r=b(e),n=b(t);if(r-n!==0)return r-n;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return p(e,t)}return Array.isArray(e)?d(e,t):h(e,t)}function s(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-(1/0)||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=s(t[n])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];"undefined"!=typeof i&&(e[o]=s(i))}}}}return e}function u(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return v(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,o=r.length,i="";if(t)for(;++n<o;)i+=a(r[n]);else for(;++n<o;){var s=r[n];i+=a(s)+a(e[s])}return i}return""}function a(e){var t="\0";return e=s(e),b(e)+m+u(e)+t}function c(e,t){var r,n=t,o="1"===e[t];if(o)r=0,t++;else{var i="0"===e[t];t++;var s="",u=e.substring(t,t+_),a=parseInt(u,10)+y;for(i&&(a=-a),t+=_;;){var c=e[t];if("\0"===c)break;s+=c,t++}s=s.split("."),r=1===s.length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),i&&(r-=10),0!==a&&(r=parseFloat(r+"e"+a))}return{num:r,length:t-n}}function f(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var o=n.element,i=n.index;if(Array.isArray(o))o.push(r);else if(i===e.length-2){var s=e.pop();o[s]=r}else e.push(r)}}function l(e){for(var t=[],r=[],n=0;;){var o=e[n++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var i=c(e,n);t.push(i.num),n+=i.length;break;case"4":for(var s="";;){var u=e[n];if("\0"===u)break;s+=u,n++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var a={element:[],index:t.length};t.push(a.element),r.push(a);break;case"6":var l={element:{},index:t.length};t.push(l.element),r.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();f(t,r)}}}function d(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var o=i(e[n],t[n]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function p(e,t){return e===t?0:e>t?1:-1}function h(e,t){for(var r=Object.keys(e),n=Object.keys(t),o=Math.min(r.length,n.length),s=0;s<o;s++){var u=i(r[s],n[s]);if(0!==u)return u;if(u=i(e[r[s]],t[n[s]]),0!==u)return u}return r.length===n.length?0:r.length>n.length?1:-1}function b(e){var t=["boolean","number","string","object"],r=t.indexOf(typeof e);return~r?null===e?1:Array.isArray(e)?5:r<3?r+2:r+3:Array.isArray(e)?5:void 0}function v(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),n=e<0,i=n?"0":"2",s=(n?-r:r)-y,u=o(s.toString(),"0",_);i+=m+u;var a=Math.abs(parseFloat(t[0]));n&&(a=10-a);var c=a.toFixed(20);return c=c.replace(/\.?0+$/,""),i+=m+c}Object.defineProperty(r,"__esModule",{value:!0});var y=-324,_=3,m="";r.collate=i,r.normalizeKey=s,r.toIndexableString=a,r.parseIndexableString=l},{}],453:[function(e,t,r){"use strict";function n(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return f(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),o=-1,i=n.length,s="";if(t)for(;++o<i;)s+=r.toIndexableString(n[o]);else for(;++o<i;){var u=n[o];s+=r.toIndexableString(u)+r.toIndexableString(e[u])}return s}return""}function o(e,t){var r,n=t,o="1"===e[t];if(o)r=0,t++;else{var i="0"===e[t];t++;var s="",u=e.substring(t,t+d),a=parseInt(u,10)+l;for(i&&(a=-a),t+=d;;){var c=e[t];if("\0"===c)break;s+=c,t++}s=s.split("."),r=1===s.length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),i&&(r-=10),0!==a&&(r=parseFloat(r+"e"+a))}return{num:r,length:t-n}}function i(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var o=n.element,i=n.index;if(Array.isArray(o))o.push(r);else if(i===e.length-2){var s=e.pop();o[s]=r}else e.push(r)}}function s(e,t){for(var n=Math.min(e.length,t.length),o=0;o<n;o++){var i=r.collate(e[o],t[o]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}function u(e,t){return e===t?0:e>t?1:-1}function a(e,t){for(var n=Object.keys(e),o=Object.keys(t),i=Math.min(n.length,o.length),s=0;s<i;s++){var u=r.collate(n[s],o[s]);if(0!==u)return u;if(u=r.collate(e[n[s]],t[o[s]]),0!==u)return u}return n.length===o.length?0:n.length>o.length?1:-1}function c(e){var t=["boolean","number","string","object"],r=t.indexOf(typeof e);return~r?null===e?1:Array.isArray(e)?5:r<3?r+2:r+3:Array.isArray(e)?5:void 0}function f(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),n=e<0,o=n?"0":"2",i=(n?-r:r)-l,s=h.padLeft(i.toString(),"0",d);o+=p+s;var u=Math.abs(parseFloat(t[0]));n&&(u=10-u);var a=u.toFixed(20);return a=a.replace(/\.?0+$/,""),o+=p+a}var l=-324,d=3,p="",h=e("./utils");r.collate=function(e,t){if(e===t)return 0;e=r.normalizeKey(e),t=r.normalizeKey(t);var n=c(e),o=c(t);if(n-o!==0)return n-o;if(null===e)return 0;switch(typeof e){case"number":return e-t;case"boolean":return e===t?0:e<t?-1:1;case"string":return u(e,t)}return Array.isArray(e)?s(e,t):a(e,t)},r.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-(1/0)||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var o=0;o<n;o++)e[o]=r.normalizeKey(t[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var i in t)if(t.hasOwnProperty(i)){var s=t[i];"undefined"!=typeof s&&(e[i]=r.normalizeKey(s))}}}}return e},r.toIndexableString=function(e){var t="\0";return e=r.normalizeKey(e),c(e)+p+n(e)+t},r.parseIndexableString=function(e){for(var t=[],r=[],n=0;;){var s=e[n++];if("\0"!==s)switch(s){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var u=o(e,n);t.push(u.num),n+=u.length;break;case"4":for(var a="";;){var c=e[n];if("\0"===c)break;a+=c,n++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var f={element:[],index:t.length};t.push(f.element),r.push(f);break;case"6":var l={element:{},index:t.length};t.push(l.element),r.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+s)}else{if(1===t.length)return t.pop();i(t,r)}}}},{"./utils":454}],454:[function(e,t,r){"use strict";function n(e,t,r){for(var n="",o=r-e.length;n.length<o;)n+=t;return n}r.padLeft=function(e,t,r){var o=n(e,t,r);return o+e},r.padRight=function(e,t,r){var o=n(e,t,r);return e+o},r.stringLexCompare=function(e,t){var r,n=e.length,o=t.length;for(r=0;r<n;r++){if(r===o)return 1;var i=e.charAt(r),s=t.charAt(r);if(i!==s)return i<s?-1:1}return n<o?-1:0},r.intToDecimalForm=function(e){var t=e<0,r="";do{var n=t?-Math.ceil(e%10):Math.floor(e%10);r=n+r,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==r&&(r="-"+r),r}},{}],455:[function(e,t,r){"use strict";function n(e){return"$"+e}function o(e){return e.substring(1)}function i(){this._store={}}function s(e){if(this._store=new i,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}function u(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}Object.defineProperty(r,"__esModule",{value:!0}),i.prototype.get=function(e){var t=n(e);return this._store[t]},i.prototype.set=function(e,t){var r=n(e);return this._store[r]=t,!0},i.prototype.has=function(e){var t=n(e);return t in this._store},i.prototype.delete=function(e){var t=n(e),r=t in this._store;return delete this._store[t],r},i.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,n=t.length;r<n;r++){var i=t[r],s=this._store[i];i=o(i),e(s,i)}},Object.defineProperty(i.prototype,"size",{get:function(){return Object.keys(this._store).length}}),s.prototype.add=function(e){return this._store.set(e,!0)},s.prototype.has=function(e){return this._store.has(e)},s.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(s.prototype,"size",{get:function(){return this._store.size}}),u()?(r.Set=Set,r.Map=Map):(r.Set=s,r.Map=i)},{}],456:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return I('"use strict";\nreturn '+e+";",{})}function i(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return I(t,{})}function s(e,t){try{e.emit("change",t)}catch(e){j.guardedConsole("error",'Error in .on("change", function):',e)}}function u(e,t,r){function n(){o.cancel()}A.EventEmitter.call(this);var o=this;this.db=e,t=t?j.clone(t):{};var i=t.complete=j.once(function(t,r){t?j.listenerCount(o,"error")>0&&o.emit("error",t):o.emit("complete",r),o.removeAllListeners(),e.removeListener("destroyed",n)});r&&(o.on("complete",function(e){r(null,e)}),o.on("error",r)),e.once("destroyed",n),t.onChange=function(e){o.isCancelled||s(o,e)};var u=new E(function(e,r){t.complete=function(t,n){t?r(t):e(n)}});o.once("cancel",function(){e.removeListener("destroyed",n),t.complete(null,{status:"cancelled"})}),this.then=u.then.bind(u),this.catch=u.catch.bind(u),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?o.doChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):o.isCancelled?o.emit("cancel"):o.doChanges(t)})}function a(e,t,r){var n=[{rev:e._rev}];"all_docs"===r.style&&(n=C.collectLeaves(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:n,doc:e};return C.isDeleted(t,e._rev)&&(o.deleted=!0),r.conflicts&&(o.doc._conflicts=C.collectConflicts(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function c(e,t){return e<t?-1:e>t?1:0}function f(e){return function(t,r){t||r[0]&&r[0].error?e(t||r[0]):e(null,r.length?r[0]:r)}}function l(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),o=0;o<n.length;o++){var i=n[o];r._attachments[i]=j.pick(r._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function d(e,t){var r=c(e._id,t._id);if(0!==r)return r;var n=e._revisions?e._revisions.start:0,o=t._revisions?t._revisions.start:0;return c(n,o)}function p(e){var t={},r=[];return C.traverseRevTree(e,function(e,n,o,i){var s=n+"-"+o;return e&&(t[s]=0),void 0!==i&&r.push({from:i,to:s}),s}),r.reverse(),r.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function h(e,t,r){var n="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&n.reverse(),!n.length)return e._allDocs({limit:0},r);var o={offset:t.skip};return E.all(n.map(function(r){var n=j.assign({key:r,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete n[e]}),new E(function(t,i){e._allDocs(n,function(e,n){return e?i(e):(o.total_rows=n.total_rows,void t(n.rows[0]||{key:r,error:"not_found"}))})})})).then(function(e){return o.rows=e,o})}function b(e){var t=e._compactionQueue[0],r=t.opts,n=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(r.last_seq=t.last_seq),e._compact(r,function(t,r){t?n(t):n(null,r),j.nextTick(function(){e._compactionQueue.shift(),e._compactionQueue.length&&b(e)})})})}function v(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}function y(){A.EventEmitter.call(this)}function _(){this.isReady=!1,this.failed=!1,this.queue=[]}function m(e,t){var r=e.match(/([a-z\-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=w.adapters,o=w.preferredAdapters,i=w.prefix,s=t.adapter;if(!s)for(var u=0;u<o.length;++u){s=o[u];{if(!("idb"===s&&"websql"in n&&j.hasLocalStorage()&&localStorage["_pouch__websqldb_"+i+e]))break;j.guardedConsole("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var a=n[s],c=!(a&&"use_prefix"in a)||a.use_prefix;return{name:c?i+e:e,adapter:s}}function g(e){function t(){e.removeListener("closed",n),e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.removeListener("closed",n),e.emit("destroyed")}function n(){e.removeListener("destroyed",t),o.delete(e.name)}var o=e.constructor._destructionListeners;e.once("destroyed",t),e.once("closed",n),o.has(e.name)||o.set(e.name,[]),o.get(e.name).push(r)}function w(e,t){if(!(this instanceof w))return new w(e,t);var r=this;if(t=t||{},e&&"object"==typeof e&&(t=e,e=t.name,delete t.name),this.__opts=t=j.clone(t),r.auto_compaction=t.auto_compaction,r.prefix=w.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var n=(t.prefix||"")+e,o=m(n,t);if(t.name=o.name,t.adapter=t.adapter||o.adapter,r.name=e,r._adapter=t.adapter,O("pouchdb:adapter")("Picked adapter: "+t.adapter),!w.adapters[t.adapter]||!w.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);y.call(r),r.taskqueue=new _,r.adapter=t.adapter,w.adapters[t.adapter].call(r,t,function(e){return e?r.taskqueue.fail(e):(g(r),r.emit("created",r),w.emit("created",r.name),void r.taskqueue.ready(r))})}function x(e){Object.keys(A.EventEmitter.prototype).forEach(function(t){"function"==typeof A.EventEmitter.prototype[t]&&(e[t]=D[t].bind(D))});var t=e._destructionListeners=new k.Map;e.on("destroyed",function(e){t.get(e).forEach(function(e){e()}),t.delete(e)})}var j=e("pouchdb-utils"),k=e("pouchdb-collections"),O=n(e("debug")),S=n(e("inherits")),E=n(e("pouchdb-promise")),A=e("events"),P=n(e("argsarray")),C=e("pouchdb-merge"),I=n(e("scope-eval")),T=e("pouchdb-errors");S(u,A.EventEmitter),u.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},u.prototype.doChanges=function(e){var t=this,r=e.complete;if(e=j.clone(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=a,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(n){return t.isCancelled?void r(null,{status:"cancelled"}):(e.since=n.update_seq,void t.doChanges(e))},r);if(e.view&&!e.filter&&(e.filter="_view"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=j.normalizeDdocFunctionName(e.view):e.filter=j.normalizeDdocFunctionName(e.filter),"http"!==this.db.type()&&!e.doc_ids))return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=r;var n=this.db._changes(e);if(n&&"function"==typeof n.cancel){var o=t.cancel;t.cancel=P(function(e){n.cancel(),o.apply(this,e)})}},u.prototype.filterChanges=function(e){var t=this,r=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var n=T.createError(T.BAD_REQUEST,"`view` filter parameter not found or invalid.");return r(n)}var s=j.parseDdocFunctionName(e.view);this.db.get("_design/"+s[0],function(n,o){if(t.isCancelled)return r(null,{status:"cancelled"});if(n)return r(T.generateErrorFromResponse(n));var u=o&&o.views&&o.views[s[1]]&&o.views[s[1]].map;return u?(e.filter=i(u),void t.doChanges(e)):r(T.createError(T.MISSING_DOC,o.views?"missing json key: "+s[1]:"missing json key: views"))})}else{var u=j.parseDdocFunctionName(e.filter);if(!u)return t.doChanges(e);this.db.get("_design/"+u[0],function(n,i){if(t.isCancelled)return r(null,{status:"cancelled"});if(n)return r(T.generateErrorFromResponse(n));var s=i&&i.filters&&i.filters[u[1]];return s?(e.filter=o(s),void t.doChanges(e)):r(T.createError(T.MISSING_DOC,i&&i.filters?"missing json key: "+u[1]:"missing json key: filters"))})}},S(y,A.EventEmitter),y.prototype.post=j.adapterFun("post",function(e,t,r){return"function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e)?r(T.createError(T.NOT_AN_OBJECT)):void this.bulkDocs({docs:[e]},t,f(r))}),y.prototype.put=j.adapterFun("put",function(e,t,r){return"function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e)?r(T.createError(T.NOT_AN_OBJECT)):(j.invalidIdError(e._id),
C.isLocalId(e._id)&&"function"==typeof this._putLocal?e._deleted?this._removeLocal(e,r):this._putLocal(e,r):void("function"==typeof this._put&&t.new_edits!==!1?this._put(e,t,r):this.bulkDocs({docs:[e]},t,f(r))))}),y.prototype.putAttachment=j.adapterFun("putAttachment",function(e,t,r,n,o){function i(e){var r="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:n,revpos:++r},s.put(e)}var s=this;return"function"==typeof o&&(o=n,n=r,r=null),"undefined"==typeof o&&(o=n,n=r,r=null),o||j.guardedConsole("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then(function(e){if(e._rev!==r)throw T.createError(T.REV_CONFLICT);return i(e)},function(t){if(t.reason===T.MISSING_DOC.message)return i({_id:e});throw t})}),y.prototype.removeAttachment=j.adapterFun("removeAttachment",function(e,t,r,n){var o=this;o.get(e,function(e,i){return e?void n(e):i._rev!==r?void n(T.createError(T.REV_CONFLICT)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,n)):n()})}),y.prototype.remove=j.adapterFun("remove",function(e,t,r,n){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(o=e,"function"==typeof t?(n=t,r={}):(n=r,r=t)),r=r||{},r.was_delete=!0;var i={_id:o._id,_rev:o._rev||r.rev};return i._deleted=!0,C.isLocalId(i._id)&&"function"==typeof this._removeLocal?this._removeLocal(o,n):void this.bulkDocs({docs:[i]},r,f(n))}),y.prototype.revsDiff=j.adapterFun("revsDiff",function(e,t,r){function n(e,t){u.has(e)||u.set(e,{missing:[]}),u.get(e).missing.push(t)}function o(t,r){var o=e[t].slice(0);C.traverseRevTree(r,function(e,r,i,s,u){var a=r+"-"+i,c=o.indexOf(a);c!==-1&&(o.splice(c,1),"available"!==u.status&&n(t,a))}),o.forEach(function(e){n(t,e)})}"function"==typeof t&&(r=t,t={});var i=Object.keys(e);if(!i.length)return r(null,{});var s=0,u=new k.Map;i.map(function(t){this._getRevisionTree(t,function(n,a){if(n&&404===n.status&&"missing"===n.message)u.set(t,{missing:e[t]});else{if(n)return r(n);o(t,a)}if(++s===i.length){var c={};return u.forEach(function(e,t){c[t]=e}),r(null,c)}})},this)}),y.prototype.bulkGet=j.adapterFun("bulkGet",function(e,t){j.bulkGetShim(this,e,t)}),y.prototype.compactDocument=j.adapterFun("compactDocument",function(e,t,r){var n=this;this._getRevisionTree(e,function(o,i){if(o)return r(o);var s=p(i),u=[],a=[];Object.keys(s).forEach(function(e){s[e]>t&&u.push(e)}),C.traverseRevTree(i,function(e,t,r,n,o){var i=t+"-"+r;"available"===o.status&&u.indexOf(i)!==-1&&a.push(i)}),n._doCompaction(e,a,r)})}),y.prototype.compact=j.adapterFun("compact",function(e,t){"function"==typeof e&&(t=e,e={});var r=this;e=e||{},r._compactionQueue=r._compactionQueue||[],r._compactionQueue.push({opts:e,callback:t}),1===r._compactionQueue.length&&b(r)}),y.prototype._compact=function(e,t){function r(e){s.push(o.compactDocument(e.id,0))}function n(e){var r=e.last_seq;E.all(s).then(function(){return j.upsert(o,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<r)&&(e.last_seq=r,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}var o=this,i={return_docs:!1,last_seq:e.last_seq||0},s=[];o.changes(i).on("change",r).on("complete",n).on("error",t)},y.prototype.get=j.adapterFun("get",function(e,t,r){function n(){var n=[],s=o.length;return s?void o.forEach(function(o){i.get(e,{rev:o,revs:t.revs,latest:t.latest,attachments:t.attachments},function(e,t){if(e)n.push({missing:o});else{for(var i,u=0,a=n.length;u<a;u++)if(n[u].ok&&n[u].ok._rev===t._rev){i=!0;break}i||n.push({ok:t})}s--,s||r(null,n)})}):r(null,n)}if("function"==typeof t&&(r=t,t={}),"string"!=typeof e)return r(T.createError(T.INVALID_ID));if(C.isLocalId(e)&&"function"==typeof this._getLocal)return this._getLocal(e,r);var o=[],i=this;if(!t.open_revs)return this._get(e,t,function(e,n){if(e)return r(e);var o=n.doc,s=n.metadata,u=n.ctx;if(t.conflicts){var a=C.collectConflicts(s);a.length&&(o._conflicts=a)}if(C.isDeleted(s,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var c=o._rev.split("-"),f=parseInt(c[0],10),l=c[1],d=C.rootToLeaf(s.rev_tree),p=null,h=0;h<d.length;h++){var b=d[h],v=b.ids.map(function(e){return e.id}).indexOf(l),y=v===f-1;(y||!p&&v!==-1)&&(p=b)}var _=p.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1,m=p.ids.length-_;if(p.ids.splice(_,m),p.ids.reverse(),t.revs&&(o._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(e){return e.id})}),t.revs_info){var g=p.pos+p.ids.length;o._revs_info=p.ids.map(function(e){return g--,{rev:g+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&o._attachments){var w=o._attachments,x=Object.keys(w).length;if(0===x)return r(null,o);Object.keys(w).forEach(function(e){this._getAttachment(o._id,e,w[e],{rev:o._rev,binary:t.binary,ctx:u},function(t,n){var i=o._attachments[e];i.data=n,delete i.stub,delete i.length,--x||r(null,o)})},i)}else{if(o._attachments)for(var j in o._attachments)o._attachments.hasOwnProperty(j)&&(o._attachments[j].stub=!0);r(null,o)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){return e?r(e):(o=C.collectLeaves(t).map(function(e){return e.rev}),void n())});else{if(!Array.isArray(t.open_revs))return r(T.createError(T.UNKNOWN_ERROR,"function_clause"));o=t.open_revs;for(var s=0;s<o.length;s++){var u=o[s];if("string"!=typeof u||!/^\d+-/.test(u))return r(T.createError(T.INVALID_REV))}n()}}),y.prototype.getAttachment=j.adapterFun("getAttachment",function(e,t,r,n){var o=this;r instanceof Function&&(n=r,r={}),this._get(e,r,function(i,s){return i?n(i):s.doc._attachments&&s.doc._attachments[t]?(r.ctx=s.ctx,r.binary=!0,o._getAttachment(e,t,s.doc._attachments[t],r,n),void 0):n(T.createError(T.MISSING_DOC))})}),y.prototype.allDocs=j.adapterFun("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip="undefined"!=typeof e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(r)return void t(T.createError(T.QUERY_PARSE_ERROR,"Query parameter `"+r+"` is not compatible with multi-get"));if("http"!==this.type())return h(this,e,t)}return this._allDocs(e,t)}),y.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new u(this,e,t)},y.prototype.close=j.adapterFun("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),y.prototype.info=j.adapterFun("info",function(e){var t=this;this._info(function(r,n){return r?e(r):(n.db_name=n.db_name||t.name,n.auto_compaction=!(!t.auto_compaction||"http"===t.type()),n.adapter=t.type(),void e(null,n))})}),y.prototype.id=j.adapterFun("id",function(e){return this._id(e)}),y.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},y.prototype.bulkDocs=j.adapterFun("bulkDocs",function(e,t,r){if("function"==typeof t&&(r=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return r(T.createError(T.MISSING_BULK_DOCS));for(var n=0;n<e.docs.length;++n)if("object"!=typeof e.docs[n]||Array.isArray(e.docs[n]))return r(T.createError(T.NOT_AN_OBJECT));var o;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){o=o||v(t),e._attachments[t].content_type||j.guardedConsole("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),o)return r(T.createError(T.BAD_REQUEST,o));"new_edits"in t||("new_edits"in e?t.new_edits=e.new_edits:t.new_edits=!0);var i=this;t.new_edits||"http"===i.type()||e.docs.sort(d),l(e.docs);var s=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,n){if(e)return r(e);if(t.new_edits||(n=n.filter(function(e){return e.error})),"http"!==i.type())for(var o=0,u=n.length;o<u;o++)n[o].id=n[o].id||s[o];r(null,n)})}),y.prototype.registerDependentDatabase=j.adapterFun("registerDependentDatabase",function(e,t){function r(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var n=new this.constructor(e,this.__opts);j.upsert(this,"_local/_pouch_dependentDbs",r).then(function(){t(null,{db:n})}).catch(t)}),y.prototype.destroy=j.adapterFun("destroy",function(e,t){function r(){n._destroy(e,function(e,r){return e?t(e):(n._destroyed=!0,n.emit("destroyed"),void t(null,r||{ok:!0}))})}"function"==typeof e&&(t=e,e={});var n=this,o=!("use_prefix"in n)||n.use_prefix;return"http"===n.type()?r():void n.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):r();var s=i.dependentDbs,u=n.constructor,a=Object.keys(s).map(function(e){var t=o?e.replace(new RegExp("^"+u.prefix),""):e;return new u(t,n.__opts).destroy()});E.all(a).then(r,t)})}),_.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},_.prototype.fail=function(e){this.failed=e,this.execute()},_.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},_.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},S(w,y),w.debug=O,w.adapters={},w.preferredAdapters=[],w.prefix="_pouch_";var D=new A.EventEmitter;x(w),w.adapter=function(e,t,r){t.valid()&&(w.adapters[e]=t,r&&w.preferredAdapters.push(e))},w.plugin=function(e){if("function"==typeof e)e(w);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){w.prototype[t]=e[t]})}return this.__defaults&&(w.__defaults=j.assign({},this.__defaults)),w},w.defaults=function(e){function t(e,r){return this instanceof t?(r=r||{},e&&"object"==typeof e&&(r=e,e=r.name,delete r.name),r=j.assign({},t.__defaults,r),void w.call(this,e,r)):new t(e,r)}return S(t,w),t.preferredAdapters=w.preferredAdapters.slice(),Object.keys(w).forEach(function(e){e in t||(t[e]=w[e])}),t.__defaults=j.assign({},this.__defaults,e),t};var M="6.1.2";w.version=M,t.exports=w},{argsarray:20,debug:457,events:430,inherits:435,"pouchdb-collections":455,"pouchdb-errors":459,"pouchdb-merge":486,"pouchdb-promise":487,"pouchdb-utils":492,"scope-eval":587}],457:[function(e,t,r){arguments[4][425][0].apply(r,arguments)},{"./debug":458,_process:495,dup:425}],458:[function(e,t,r){arguments[4][446][0].apply(r,arguments)},{dup:446,ms:442}],459:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}function i(e,t){function r(t){for(var r in e)"function"!=typeof e[r]&&(this[r]=e[r]);void 0!==t&&(this.reason=t)}return r.prototype=o.prototype,new r(t)}function s(e){if("object"!=typeof e){var t=e;e=v,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}Object.defineProperty(r,"__esModule",{value:!0});var u=n(e("inherits"));u(o,Error),o.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var a=new o(401,"unauthorized","Name or password is incorrect."),c=new o(400,"bad_request","Missing JSON list of 'docs'"),f=new o(404,"not_found","missing"),l=new o(409,"conflict","Document update conflict"),d=new o(400,"bad_request","_id field must contain a string"),p=new o(412,"missing_id","_id is required for puts"),h=new o(400,"bad_request","Only reserved document ids may start with underscore."),b=new o(412,"precondition_failed","Database not open"),v=new o(500,"unknown_error","Database encountered an unknown error"),y=new o(500,"badarg","Some query argument is invalid"),_=new o(400,"invalid_request","Request was invalid"),m=new o(400,"query_parse_error","Some query parameter is invalid"),g=new o(500,"doc_validation","Bad special document member"),w=new o(400,"bad_request","Something wrong with the request"),x=new o(400,"bad_request","Document must be a JSON object"),j=new o(404,"not_found","Database not found"),k=new o(500,"indexed_db_went_bad","unknown"),O=new o(500,"web_sql_went_bad","unknown"),S=new o(500,"levelDB_went_went_bad","unknown"),E=new o(403,"forbidden","Forbidden by design doc validate_doc_update function"),A=new o(400,"bad_request","Invalid rev format"),P=new o(412,"file_exists","The database could not be created, the file already exists."),C=new o(412,"missing_stub","A pre-existing attachment stub wasn't found"),I=new o(413,"invalid_url","Provided URL is invalid");r.UNAUTHORIZED=a,r.MISSING_BULK_DOCS=c,r.MISSING_DOC=f,r.REV_CONFLICT=l,r.INVALID_ID=d,r.MISSING_ID=p,r.RESERVED_ID=h,r.NOT_OPEN=b,r.UNKNOWN_ERROR=v,r.BAD_ARG=y,r.INVALID_REQUEST=_,r.QUERY_PARSE_ERROR=m,r.DOC_VALIDATION=g,r.BAD_REQUEST=w,r.NOT_AN_OBJECT=x,r.DB_MISSING=j,r.WSQ_ERROR=O,r.LDB_ERROR=S,r.FORBIDDEN=E,r.INVALID_REV=A,r.FILE_EXISTS=P,r.MISSING_STUB=C,r.IDB_ERROR=k,r.INVALID_URL=I,r.createError=i,r.generateErrorFromResponse=s},{inherits:435}],460:[function(e,t,r){"use strict";function n(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?c[p.call(e)]||"object":typeof e}function o(e){return null!==e&&e===e.window}function i(e){if(!e||"object"!==n(e)||e.nodeType||o(e))return!1;try{if(e.constructor&&!h.call(e,"constructor")&&!h.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||h.call(e,t)}function s(e){return"function"===n(e)}function u(){for(var e=[],t=-1,r=arguments.length,n=new Array(r);++t<r;)n[t]=arguments[t];var o={};e.push({args:n,result:{container:o,key:"key"}});for(var i;i=e.pop();)a(e,i.args,i.result);return o.key}function a(e,t,r){var n,o,u,a,c,f,l,d=t[0]||{},p=1,h=t.length,v=!1,y=/\d+/;for("boolean"==typeof d&&(v=d,d=t[1]||{},p=2),"object"==typeof d||s(d)||(d={}),h===p&&(d=this,--p);p<h;p++)if(null!=(n=t[p])){l=b(n);for(o in n)if(!(o in Object.prototype)){if(l&&!y.test(o))continue;if(u=d[o],a=n[o],d===a)continue;v&&a&&(i(a)||(c=b(a)))?(c?(c=!1,f=u&&b(u)?u:[]):f=u&&i(u)?u:{},e.push({args:[v,f,a],result:{container:d,key:o}})):void 0!==a&&(b(n)&&s(a)||(d[o]=a))}}r.container[r.key]=d}for(var c={},f=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],l=0;l<f.length;l++){var d=f[l];c["[object "+d+"]"]=d.toLowerCase()}var p=c.toString,h=c.hasOwnProperty,b=Array.isArray||function(e){return"array"===n(e)};t.exports=u},{}],461:[function(e,t,r){"use strict";function n(e){if(!e)return"undefined";switch(typeof e){case"function":return e.toString();case"string":return e.toString();default:return JSON.stringify(e)}}var o=e("./upsert"),i=e("./utils"),s=i.Promise;t.exports=function(e){var t=e.db,r=e.viewName,u=e.map,a=e.reduce,c=e.temporary,f=e.pluginName,l=n(u)+n(a)+"undefined";if(!c&&t._cachedViews){var d=t._cachedViews[l];if(d)return s.resolve(d)}return t.info().then(function(e){function n(e){e.views=e.views||{};var t=r;t.indexOf("/")===-1&&(t=r+"/"+r);var n=e.views[t]=e.views[t]||{};if(!n[s])return n[s]=!0,e}var s=e.db_name+"-mrview-"+(c?"temp":i.MD5(l));return o(t,"_local/"+f,n).then(function(){return t.registerDependentDatabase(s).then(function(e){var r=e.db;r.auto_compaction=!0;var n={name:s,db:r,sourceDB:t,adapter:t.adapter,mapFun:u,reduceFun:a};return n.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return n.seq=e?e.seq:0,c||(t._cachedViews=t._cachedViews||{},t._cachedViews[l]=n,n.db.on("destroyed",function(){delete t._cachedViews[l]})),n})})})})}},{"./upsert":464,"./utils":465}],462:[function(e,t,r){(function(r){"use strict";function n(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,n)}catch(e){}}function o(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,o)}catch(e){}}function i(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function s(e){return 1===e.length&&/^1-/.test(e[0].rev)}function u(e,t){var r=_(e.key,t.key);return 0!==r?r:_(e.value,t.value)}function a(e,t,r){return r=r||0,"number"==typeof t?e.slice(r,t+r):r>0?e.slice(r):e}function c(e){var t=e.value,r=t&&"object"==typeof t&&t._id||e.id;return r}function f(e,t){try{e.emit("error",t)}catch(e){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(t)}}function l(e,t,r){try{return{output:t.apply(null,r)}}catch(t){return f(e,t),{error:t}}}function d(e,t){var r=e.descending?"endkey":"startkey",o=e.descending?"startkey":"endkey";if("undefined"!=typeof e[r]&&"undefined"!=typeof e[o]&&_(e[r],e[o])>0)throw new n("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&e.reduce!==!1){if(e.include_docs)throw new n("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new n("Multi-key fetches for reduce views must use {group: true}")}if(e.group_level){if("number"!=typeof e.group_level)throw new n('Invalid value for integer: "'+e.group_level+'"');if(e.group_level<0)throw new n('Invalid value for positive integer: "'+e.group_level+'"')}}function p(e){return function(t){if(404===t.status)return e;throw t}}function h(e){function t(e,t,r){function n(){return s(l)?j.resolve(a):t.db.get(u).catch(p(a))}function o(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):j.resolve({rows:[]})}function i(e,t){for(var r=[],n={},o=0,i=t.rows.length;o<i;o++){var s=t.rows[o],u=s.doc;if(u&&(r.push(u),n[u._id]=!0,u._deleted=!f[u._id],!u._deleted)){var a=f[u._id];"value"in a&&(u.value=a.value)}}var c=Object.keys(f);return c.forEach(function(e){if(!n[e]){var t={_id:e},o=f[e];"value"in o&&(t.value=o.value),r.push(t)}}),e.keys=x.uniq(c.concat(e.keys)),r.push(e),r}var u="_local/doc_"+e,a={_id:u,keys:[]},c=r[e],f=c.indexableKeysToKeyValues,l=c.changes;return n().then(function(e){return o(e).then(function(t){return i(e,t)})})}function n(e,r,n){var o="_local/lastSeq";return e.db.get(o).catch(p({_id:o,seq:0})).then(function(o){var i=Object.keys(r);return j.all(i.map(function(n){return t(n,e,r)})).then(function(t){var r=x.flatten(t);return o.seq=n,r.push(o),e.db.bulkDocs({docs:r})})})}function f(e){var t="string"==typeof e?e:e.name,r=k[t];return r||(r=k[t]=new y),r}function h(e){return x.sequentialize(f(e),function(){return b(e)})()}function b(e){function t(e,t){var r={id:i._id,key:g(e)};"undefined"!=typeof t&&null!==t&&(r.value=g(t)),o.push(r)}function r(t,r){return function(){return n(e,t,r)}}var o,i,s=D(e.mapFun,t),a=e.seq||0,c=new y;return new j(function(t,n){function f(){c.finish().then(function(){e.seq=a,t()})}function d(){function t(e){n(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:a,limit:S}).on("complete",function(t){var n=t.results;if(!n.length)return f();for(var p={},h=0,b=n.length;h<b;h++){var v=n[h];if("_"!==v.doc._id[0]){o=[],i=v.doc,i._deleted||l(e.sourceDB,s,[i]),o.sort(u);for(var y,g={},w=0,x=o.length;w<x;w++){var j=o[w],k=[j.key,j.id];0===_(j.key,y)&&k.push(w);var O=m(k);g[O]=j,y=j.key}p[v.doc._id]={indexableKeysToKeyValues:g,changes:v.changes}}a=v.seq}return c.add(r(p,a)),n.length<S?f():d()}).on("error",t)}d()})}function E(e,t,r){0===r.group_level&&delete r.group_level;var n=r.group||r.group_level,o=M(e.reduceFun),i=[],s=r.group_level;t.forEach(function(e){var t=i[i.length-1],r=n?e.key:null;return n&&Array.isArray(r)&&"number"==typeof s&&(r=r.length>s?r.slice(0,s):r),t&&0===_(t.key[0][0],r)?(t.key.push([r,e.id]),void t.value.push(e.value)):void i.push({key:[[r,e.id]],value:[e.value]})});for(var u=0,c=i.length;u<c;u++){var f=i[u],d=l(e.sourceDB,o,[f.key,f.value,!1]);if(d.error&&/BuiltInError/.test(d.error.constructor))throw d.error;f.value=d.error?null:d.output,f.key=f.key[0][0]}return{rows:a(i,r.limit,r.skip)}}function A(e,t){return x.sequentialize(f(e),function(){return P(e,t)})()}function P(e,t){function r(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||t>r))return e.doc.value}var n=v.parseIndexableString(e.doc._id);return{key:n[0],id:n[1],value:"value"in e.doc?e.doc.value:null}})})}function n(r){var n;if(n=i?E(e,r,t):{total_rows:o,offset:s,rows:r},t.include_docs){var u=x.uniq(r.map(c));return e.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),r.forEach(function(e){var r=c(e),n=t["$"+r];n&&(e.doc=n)}),n})}return n}var o,i=e.reduceFun&&t.reduce!==!1,s=t.skip||0;"undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys);var u=function(e){return e.reduce(function(e,t){return e.concat(t)})};if("undefined"!=typeof t.keys){var a=t.keys,f=a.map(function(e){var t={startkey:m([e]),endkey:m([e,{}])};return r(t)});return j.all(f).then(u).then(n)}var l={descending:t.descending};if("undefined"!=typeof t.startkey&&(l.startkey=m(t.descending?[t.startkey,{}]:[t.startkey])),"undefined"!=typeof t.endkey){var d=t.inclusive_end!==!1;t.descending&&(d=!d),l.endkey=m(d?[t.endkey,{}]:[t.endkey])}if("undefined"!=typeof t.key){var p=m([t.key]),h=m([t.key,{}]);l.descending?(l.endkey=p,l.startkey=h):(l.startkey=p,l.endkey=h)}return i||("number"==typeof t.limit&&(l.limit=t.limit),l.skip=s),r(l).then(n)}function C(e){return e.get("_local/"+T).then(function(t){var r={};Object.keys(t.views).forEach(function(e){var t=i(e),n="_design/"+t[0],o=t[1];r[n]=r[n]||{},r[n][o]=!0});var n={keys:Object.keys(r),include_docs:!0};return e.allDocs(n).then(function(n){var o={};n.rows.forEach(function(e){var n=e.key.substring(8);Object.keys(r[e.key]).forEach(function(r){var i=n+"/"+r;t.views[i]||(i=r);var s=Object.keys(t.views[i]),u=e.doc&&e.doc.views&&e.doc.views[r];s.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),s=i.map(function(t){return x.sequentialize(f(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return j.all(s).then(function(){return{ok:!0}})})},p({ok:!0}))}function I(e,t,n){if("string"!=typeof t){d(n,t);var s={db:e,viewName:"temp_view/temp_view",map:t.map,reduce:t.reduce,temporary:!0,pluginName:T};return O.add(function(){return w(s).then(function(e){function t(){return e.db.destroy()}return x.fin(h(e).then(function(){return A(e,n)}),t)})}),O.finish()}var u=t,a=i(u),c=a[0],f=a[1];return e.get("_design/"+c).then(function(t){var i=t.views&&t.views[f];if(!i)throw new o("ddoc "+t._id+" has no view named "+f);R(t,f),d(n,i);var s={db:e,viewName:u,map:i.map,reduce:i.reduce,pluginName:T};return w(s).then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&r.nextTick(function(){h(e)}),A(e,n)):h(e).then(function(){return A(e,n)})})})}var T=e.name,D=e.mapper,M=e.reducer,R=e.ddocValidator,B=function(e,t,r){var n=this;"function"==typeof t&&(r=t,t={}),t=x.extend(!0,{},t),"function"==typeof e&&(e={map:e});var o=j.resolve().then(function(){return I(n,e,t)});return x.promisedCallback(o,r),o},N=x.callbackify(function(){var e=this;return C(e)});return{query:B,viewCleanup:N}}var b,v=e("pouchdb-collate"),y=e("./taskqueue"),_=v.collate,m=v.toIndexableString,g=v.normalizeKey,w=e("./create-view");b="undefined"!=typeof console&&"function"==typeof console.log?Function.prototype.bind.call(console.log,console):function(){};var x=e("./utils"),j=x.Promise,k={},O=new y,S=50;x.inherits(n,Error),x.inherits(o,Error),t.exports=h}).call(this,e("_process"))},{"./create-view":461,"./taskqueue":463,"./utils":465,_process:495,"pouchdb-collate":453}],463:[function(e,t,r){"use strict";function n(){this.promise=new o(function(e){e()})}var o=e("./utils").Promise;n.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},n.prototype.finish=function(){return this.promise},t.exports=n},{"./utils":465}],464:[function(e,t,r){"use strict";var n=e("pouchdb-upsert").upsert;t.exports=function(e,t,r){return n.apply(e,[t,r])}},{"pouchdb-upsert":489}],465:[function(e,t,r){(function(t){"use strict";r.Promise=e("pouchdb-promise"),r.inherits=e("inherits"),r.extend=e("pouchdb-extend");var n=e("argsarray");r.promisedCallback=function(e,r){return r&&e.then(function(e){t.nextTick(function(){r(null,e)})},function(e){t.nextTick(function(){r(e)})}),e},r.callbackify=function(e){return n(function(t){var n=t.pop(),o=e.apply(this,t);return"function"==typeof n&&r.promisedCallback(o,n),o})},r.fin=function(e,t){return e.then(function(e){var r=t();return"function"==typeof r.then?r.then(function(){return e}):e},function(e){var r=t();if("function"==typeof r.then)return r.then(function(){throw e});throw e})},r.sequentialize=function(e,t){return function(){var r=arguments,n=this;return e.add(function(){return t.apply(n,r)})}},r.flatten=function(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t},r.uniq=function(e){for(var t={},r=0,n=e.length;r<n;r++)t["$"+e[r]]=!0;var o=Object.keys(t),i=new Array(o.length);for(r=0,n=o.length;r<n;r++)i[r]=o[r].substring(1);return i};var o=e("crypto"),i=e("spark-md5");r.MD5=function(e){return t.browser?i.hash(e):o.createHash("md5").update(e).digest("hex")}}).call(this,e("_process"))},{_process:495,argsarray:20,crypto:34,inherits:435,"pouchdb-extend":460,"pouchdb-promise":480,"spark-md5":481}],466:[function(e,t,r){"use strict";function n(e,t,r){t=u(t),e.request({method:"POST",url:"_index",body:t},r)}function o(e,t,r){e.request({method:"POST",url:"_find",body:t},r)}function i(e,t){e.request({method:"GET",url:"_index"},t)}function s(e,t,r){var n=t.ddoc,o=t.type||"json",i=t.name;if(!n)return r(new Error("you must provide an index's ddoc"));if(!i)return r(new Error("you must provide an index's name"));var s="_index/"+[n,o,i].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:s},r)}var u=e("../../massageCreateIndexRequest");r.createIndex=n,r.find=o,r.getIndexes=i,r.deleteIndex=s},{"../../massageCreateIndexRequest":477}],467:[function(e,t,r){"use strict";function n(e,t){return function(r){for(var n=[],o=0,i=e.length;o<i;o++){for(var s=h(e[o]),u=r,a=0,c=s.length;a<c;a++){var f=s[a];if(u=u[f],!u)break}n.push(u)}t(n)}}function o(e,t){var r=h(e);return function(e){for(var n=e,o=0,i=r.length;o<i;o++){var s=r[o];if(n=n[s],!n)return}t(n)}}function i(e,t){return function(r){t(r[e])}}function s(e,t){return function(r){for(var n=[],o=0,i=e.length;o<i;o++)n.push(r[e[o]]);t(n)}}function u(e){for(var t=0,r=e.length;t<r;t++){var n=e[t];if(n.indexOf(".")!==-1)return!1}return!0}function a(e,t){var r=u(e),a=1===e.length;return r?a?i(e[0],t):s(e,t):a?o(e[0],t):n(e,t)}function c(e,t){var r=Object.keys(e.fields);return a(r,t)}function f(){throw new Error("reduce not supported")}function l(e,t){var r=e.views[t];if(!r.map||!r.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}var d=e("./utils"),p=e("../../abstract-mapreduce"),h=d.parseField,b=p({name:"indexes",mapper:c,reducer:f,ddocValidator:l});t.exports=b},{"../../abstract-mapreduce":462,"./utils":475}],468:[function(e,t,r){"use strict";function n(e,t,r){return u.upsert.call(e,t,r)}function o(e,t){function r(e){return e._rev&&"query"!==e.language&&(b=!0),e.language="query",e.views=e.views||{},!(v=!!e.views[c])&&(e.views[c]={map:{fields:i.mergeObjects(t.index.fields)},reduce:"_count",options:{def:o}},e)}t=d(t);var o=i.clone(t.index);t.index=l(t.index),f(t.index);var u=i.MD5(JSON.stringify(t)),c=t.name||"idx-"+u,p=t.ddoc||"idx-"+u,h="_design/"+p,b=!1,v=!1;return s("creating index",h),n(e,h,r).then(function(){if(b)throw new Error('invalid language for ddoc with id "'+h+'" (should be "query")')}).then(function(){var t=p+"/"+c;return a.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:h,name:c,result:v?"exists":"created"}})})}var i=e("../../../utils"),s=i.log,u=e("pouchdb-upsert"),a=e("../abstract-mapper"),c=e("../utils"),f=c.validateIndex,l=c.massageIndexDef,d=e("../../../massageCreateIndexRequest");t.exports=o},{"../../../massageCreateIndexRequest":477,"../../../utils":478,"../abstract-mapper":467,"../utils":475,"pouchdb-upsert":489}],469:[function(e,t,r){"use strict";function n(e,t){function r(e){return 1===Object.keys(e.views).length&&e.views[s]?{_id:n,_deleted:!0}:(delete e.views[s],e)}if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var n=t.ddoc,s=t.name;return i(e,n,r).then(function(){return o.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}var o=e("../abstract-mapper"),i=e("../../../abstract-mapreduce/upsert");t.exports=n},{"../../../abstract-mapreduce/upsert":464,"../abstract-mapper":467}],470:[function(e,t,r){"use strict";function n(e){function t(t){return e.map(function(e){var r=x(e),n=k(r),o=S(t,n);return o})}return function(e,r){var n=t(e.doc),o=t(r.doc),i=m(n,o);return 0!==i?i:O.compare(e.doc._id,r.doc._id)}}function o(e,t,r){if(e=e.filter(function(e){return i(e.doc,t.selector,r)}),t.sort){var o=n(t.sort);e=e.sort(o),"string"!=typeof t.sort[0]&&"desc"===j(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var s=t.skip||0,u=("limit"in t?t.limit:e.length)+s;e=e.slice(s,u)}return e}function i(e,t,r){return r.every(function(r){if(s(e))return!1;var n=t[r],o=k(r),i=S(e,o);return w(r)?a(r,n,e):u(n,e,o,i)})}function s(e){return/^_design\//.test(e._id)}function u(e,t,r,n){return!e||Object.keys(e).every(function(o){var i=e[o];return c(o,t,i,r,n)})}function a(e,t,r){return"$or"===e?t.some(function(e){return i(r,e,Object.keys(e))}):"$not"===e?!i(r,t,Object.keys(t)):!t.find(function(e){return i(r,e,Object.keys(e))})}function c(e,t,r,n,o){if(!E[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return E[e](t,r,n,o)}function f(e){return"undefined"!=typeof e&&null!==e}function l(e){return"undefined"!=typeof e}function d(e,t){var r=t[0],n=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===n}function p(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function h(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function b(e,t){return e.length===t}function v(e,t){var r=new RegExp(t);return r.test(e)}function y(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var _=e("is-array"),m=e("pouchdb-collate").collate,g=e("../utils"),w=g.isCombinationalField,x=g.getKey,j=g.getValue,k=g.parseField,O=e("../../../utils"),S=O.getFieldFromDoc,E={$elemMatch:function(e,t,r,n){return!!_(n)&&(0!==n.length&&("object"==typeof n[0]?n.some(function(e){return i(e,t,Object.keys(t))}):n.some(function(n){return u(t,e,r,n)})))},$eq:function(e,t,r,n){return l(n)&&0===m(n,t)},$gte:function(e,t,r,n){return l(n)&&m(n,t)>=0},$gt:function(e,t,r,n){return l(n)&&m(n,t)>0},$lte:function(e,t,r,n){return l(n)&&m(n,t)<=0},$lt:function(e,t,r,n){return l(n)&&m(n,t)<0},$exists:function(e,t,r,n){return t?l(n):!l(n)},$mod:function(e,t,r,n){return f(n)&&d(n,t)},$ne:function(e,t,r,n){return t.every(function(e){return 0!==m(n,e)})},$in:function(e,t,r,n){return f(n)&&p(n,t)},$nin:function(e,t,r,n){return f(n)&&!p(n,t)},$size:function(e,t,r,n){return f(n)&&b(n,t)},$all:function(e,t,r,n){return _(n)&&h(n,t);
},$regex:function(e,t,r,n){return f(n)&&v(n,t)},$type:function(e,t,r,n){return y(n,t)}};t.exports=o},{"../../../utils":478,"../utils":475,"is-array":436,"pouchdb-collate":453}],471:[function(e,t,r){"use strict";function n(e){return e.ddoc.substring(8)+"/"+e.name}function o(e,t){var r=u(t);return r.descending?("endkey"in r&&"string"!=typeof r.endkey&&(r.endkey=""),"startkey"in r&&"string"!=typeof r.startkey&&(r.limit=0)):("startkey"in r&&"string"!=typeof r.startkey&&(r.startkey=""),"endkey"in r&&"string"!=typeof r.endkey&&(r.limit=0)),"key"in r&&"string"!=typeof r.key&&(r.limit=0),e.allDocs(r)}function i(e,t){return t.selector&&(t.selector=h(t.selector)),t.sort&&(t.sort=b(t.sort)),y(t),a(e).then(function(r){var i=l(t,r.indexes),u=i.index;_(t,u);var a=s.extend(!0,{include_docs:!0,reduce:!1},i.queryOpts);if("startkey"in a&&"endkey"in a&&c(a.startkey,a.endkey)>0)return{docs:[]};var d=t.sort&&"string"!=typeof t.sort[0]&&"desc"===v(t.sort[0]);return d&&(a.descending=!0,a=m(a)),i.inMemoryFields.length||("limit"in t&&(a.limit=t.limit),"skip"in t&&(a.skip=t.skip)),w.resolve().then(function(){if("_all_docs"===u.name)return o(e,a);var t=n(u);return f.query.call(e,t,a)}).then(function(e){a.inclusive_start===!1&&(e.rows=g(e.rows,a.startkey,u)),i.inMemoryFields.length&&(e.rows=p(e.rows,t,i.inMemoryFields));var r={docs:e.rows.map(function(e){var r=e.doc;return t.fields?s.pick(r,t.fields):r})};return u.defaultUsed&&(r.warning="no matching index found, create an index to optimize query time"),r})})}var s=e("../../../utils"),u=s.clone,a=e("../get-indexes"),c=e("pouchdb-collate").collate,f=e("../abstract-mapper"),l=e("./query-planner"),d=e("../utils"),p=e("./in-memory-filter"),h=d.massageSelector,b=d.massageSort,v=d.getValue,y=d.validateFindRequest,_=d.validateSort,m=d.reverseOptions,g=d.filterInclusiveStart,w=s.Promise;t.exports=i},{"../../../utils":478,"../abstract-mapper":467,"../get-indexes":473,"../utils":475,"./in-memory-filter":470,"./query-planner":472,"pouchdb-collate":453}],472:[function(e,t,r){"use strict";function n(e,t){for(var r=e.def.fields.map(O),n=0,o=r.length;n<o;n++){var i=r[n];if(t===i)return!0}return!1}function o(e,t){var r=e[t],n=O(r);return"$eq"!==n}function i(e,t){var r=t.def.fields.map(O);return e.slice().sort(function(e,t){var n=r.indexOf(e),o=r.indexOf(t);return n===-1&&(n=Number.MAX_VALUE),o===-1&&(o=Number.MAX_VALUE),x.compare(n,o)})}function s(e,t,r){r=i(r,e);for(var s=!1,u=0,a=r.length;u<a;u++){var c=r[u];if(s||!n(e,c))return r.slice(u);u<a-1&&o(t,c)&&(s=!0)}return[]}function u(e){var t=[];return Object.keys(e).forEach(function(r){var n=e[r];Object.keys(n).forEach(function(e){"$ne"===e&&t.push(r)})}),t}function a(e,t,r,n){var o=x.flatten(e,s(t,r,n),u(r));return i(x.uniq(o),t)}function c(e,t,r){if(t){var n=x.oneArrayIsStrictSubArrayOfOther(t,e),o=x.oneArrayIsSubArrayOfOther(r,e);return n&&o}return x.oneSetIsSubArrayOfOther(r,e)}function f(e){return P.indexOf(e)===-1}function l(e,t){var r=e[0],n=t[r];if("undefined"==typeof n)return!0;var o=Object.keys(n).some(function(e){return!f(e)});if(!o)return!1;var i=1===Object.keys(n).length&&"$ne"===O(n);return!i}function d(e,t,r,n){var o=e.def.fields.map(O),i=c(o,t,r);return!!i&&l(o,n)}function p(e,t,r,n){return n.reduce(function(n,o){var i=d(o,r,t,e);return i&&n.push(o),n},[])}function h(e,t,r,n){function o(e){for(var t=e.def.fields.map(O),r=0,n=0,o=t.length;n<o;n++){var i=t[n];u[i]&&r++}return r}var i=p(e,t,r,n);if(0===i.length){var s=n[0];return s.defaultUsed=!0,s}if(1===i.length)return i[0];var u=x.arrayToObject(t);return x.max(i,o)}function b(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function v(e,t){var r,n=O(t.def.fields[0]),o=e[n]||{},i=[],s=Object.keys(o);return s.forEach(function(e){if(f(e))return void i.push(n);var t=o[e],s=b(e,t);r=r?x.mergeObjects([r,s]):s}),{queryOpts:r,inMemoryFields:i}}function y(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function _(e,t){function r(e){n!==!1&&u.push(E),o!==!1&&a.push(A),s=i.slice(e)}for(var n,o,i=t.def.fields.map(O),s=[],u=[],a=[],c=0,l=i.length;c<l;c++){var d=i[c],p=e[d];if(!p){r(c);break}if(c>0){if(Object.keys(p).some(f)){r(c);break}var h="$gt"in p||"$gte"in p||"$lt"in p||"$lte"in p,b=Object.keys(e[i[c-1]]),v=x.arrayEquals(b,["$eq"]),_=x.arrayEquals(b,Object.keys(p)),m=h&&!v&&!_;if(m){r(c);break}}for(var g=Object.keys(p),w=null,j=0;j<g.length;j++){var k=g[j],S=p[k],P=y(k,S);w=w?x.mergeObjects([w,P]):P}u.push("startkey"in w?w.startkey:E),a.push("endkey"in w?w.endkey:A),"inclusive_start"in w&&(n=w.inclusive_start),"inclusive_end"in w&&(o=w.inclusive_end)}var C={startkey:u,endkey:a};return"undefined"!=typeof n&&(C.inclusive_start=n),"undefined"!=typeof o&&(C.inclusive_end=o),{queryOpts:C,inMemoryFields:s}}function m(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}function g(e,t){return t.defaultUsed?m(e,t):1===t.def.fields.length?v(e,t):_(e,t)}function w(e,t){j("planning query",e);var r=e.selector,n=e.sort,o=S(r,n),i=o.fields,s=o.sortOrder,u=h(r,i,s,t),c=g(r,u),f=c.queryOpts,l=c.inMemoryFields,d=a(l,u,r,i),p={queryOpts:f,index:u,inMemoryFields:d};return j("query plan",p),p}var x=e("../../../utils"),j=x.log,k=e("../utils"),O=k.getKey,S=k.getUserFields,E=null,A={"￿":{}},P=["$eq","$gt","$gte","$lt","$lte"];t.exports=w},{"../../../utils":478,"../utils":475}],473:[function(e,t,r){"use strict";function n(e){return e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=o.flatten(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){var t=void 0!==e.doc.views?Object.keys(e.doc.views):[];return t.map(function(t){var r=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:s(r.options.def)}})})),t.indexes.sort(function(e,t){return o.compare(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var o=e("../../../utils"),i=e("../utils"),s=i.massageIndexDef;t.exports=n},{"../../../utils":478,"../utils":475}],474:[function(e,t,r){"use strict";var n=e("../../utils"),o=n.callbackify;r.createIndex=o(e("./create-index")),r.find=o(e("./find")),r.getIndexes=o(e("./get-indexes")),r.deleteIndex=o(e("./delete-index"))},{"../../utils":478,"./create-index":468,"./delete-index":469,"./find":471,"./get-indexes":473}],475:[function(e,t,r){"use strict";function n(e){return Object.keys(e)[0]}function o(e){return e[n(e)]}function i(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}function s(e){return j.indexOf(e)>-1}function u(e,t,r){"undefined"==typeof r.$eq&&("undefined"!=typeof r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):"undefined"!=typeof r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}function a(e,t,r){"undefined"==typeof r.$eq&&("undefined"!=typeof r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):"undefined"!=typeof r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}function c(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function f(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function l(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(r){var n=e[r];if("object"!=typeof n&&(n={$eq:n}),s(r))n instanceof Array?t[r]=n.map(function(e){return l([e])}):t[r]=l([n]);else{var o=t[r]=t[r]||{};Object.keys(n).forEach(function(e){var t=n[e];return"$gt"===e||"$gte"===e?u(e,t,o):"$lt"===e||"$lte"===e?a(e,t,o):"$ne"===e?c(t,o):"$eq"===e?f(t,o):void(o[e]=t)})}})}),t}function d(e){var t=w.clone(e),r=!1;"$and"in t&&(t=l(t.$and),r=!0),"$not"in t&&(t.$not=l([t.$not]));for(var n=Object.keys(t),o=0;o<n.length;o++){var i=n[o],s=t[i];"object"!=typeof s||null===s?s={$eq:s}:"$ne"in s&&!r&&(s.$ne=[s.$ne]),t[i]=s}return t}function p(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function h(e,t){for(var r=[],o=0;o<t.def.fields.length;o++){var i=n(t.def.fields[o]);r.push(e[i])}return r}function b(e,t,r){for(var n=r.def.fields,o=0,i=e.length;o<i;o++){var s=e[o],u=h(s.doc,r);if(1===n.length)u=u[0];else for(;u.length>t.length;)u.pop();if(Math.abs(x.collate(u,t))>0)break}return o>0?e.slice(o):e}function v(e){var t=w.clone(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function y(e){var t=e.fields.filter(function(e){return"asc"===o(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function _(e,t){if(t.defaultUsed&&e.sort){var r=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(r.length>0)throw new Error('Cannot sort on field(s) "'+r.join(",")+'" when using the default index')}t.defaultUsed}function m(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}function g(e,t){var r,o=Object.keys(e),i=t?t.map(n):[];return r=o.length>=i.length?o:i,0===i.length?{fields:r}:(r=r.sort(function(e,t){var r=i.indexOf(e);r===-1&&(r=Number.MAX_VALUE);var n=i.indexOf(t);return n===-1&&(n=Number.MAX_VALUE),r<n?-1:r>n?1:0}),{fields:r,sortOrder:t.map(n)})}var w=e("../../utils"),x=e("pouchdb-collate"),j=["$or","$nor","$not"];t.exports={getKey:n,getValue:o,massageSort:i,massageSelector:d,validateIndex:y,validateFindRequest:m,validateSort:_,reverseOptions:v,filterInclusiveStart:b,massageIndexDef:p,parseField:w.parseField,getUserFields:g,isCombinationalField:s}},{"../../utils":478,"pouchdb-collate":453}],476:[function(e,t,r){"use strict";var n=e("./utils"),o=e("./adapters/http"),i=e("./adapters/local"),s={};s.createIndex=n.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));var r="http"===this.type()?o:i;r.createIndex(this,e,t)}),s.find=n.toPromise(function(e,t){if("undefined"==typeof t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));var r="http"===this.type()?o:i;r.find(this,e,t)}),s.getIndexes=n.toPromise(function(e){var t="http"===this.type()?o:i;t.getIndexes(this,e)}),s.deleteIndex=n.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));var r="http"===this.type()?o:i;r.deleteIndex(this,e,t)}),t.exports=s,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(s)},{"./adapters/http":466,"./adapters/local":474,"./utils":478}],477:[function(e,t,r){"use strict";var n=e("./utils"),o=n.clone;t.exports=function(e){return e=o(e),e.index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}},{"./utils":478}],478:[function(e,t,r){(function(t){"use strict";var n=e("pouchdb-promise");r.once=function(e){var t=!1;return r.getArguments(function(r){if(t)throw console.trace(),new Error("once called  more than once");t=!0,e.apply(this,r)})},r.getArguments=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}},r.toPromise=function(e){return r.getArguments(function(o){var i,s=this,u="function"==typeof o[o.length-1]&&o.pop();u&&(i=function(e,r){t.nextTick(function(){u(e,r)})});var a=new n(function(t,n){try{var i=r.once(function(e,r){e?n(e):t(r)});o.push(i),e.apply(s,o)}catch(e){n(e)}});return i&&a.then(function(e){i(null,e)},i),a.cancel=function(){return this},a})},r.inherits=e("inherits"),r.Promise=n,r.clone=function(e){return r.extend(!0,{},e)},r.extend=e("pouchdb-extend"),r.callbackify=function(e){return r.getArguments(function(t){var n=t.pop(),o=e.apply(this,t);return r.promisedCallback(o,n),o})},r.promisedCallback=function(e,r){return e.then(function(e){t.nextTick(function(){r(null,e)})},function(e){t.nextTick(function(){r(e)})}),e};var o=e("crypto"),i=e("spark-md5");r.MD5=function(e){return t.browser?i.hash(e):o.createHash("md5").update(e).digest("hex")},r.flatten=r.getArguments(function(e){for(var t=[],n=0,o=e.length;n<o;n++){var i=e[n];Array.isArray(i)?t=t.concat(r.flatten.apply(null,i)):t.push(i)}return t}),r.mergeObjects=function(e){for(var t={},n=0,o=e.length;n<o;n++)t=r.extend(!0,t,e[n]);return t},r.getFieldFromDoc=function(e,t){for(var r=e,n=0,o=t.length;n<o;n++){var i=t[n];if(r=r[i],!r)break}return r},r.setFieldInDoc=function(e,t,r){for(var n=0,o=t.length;n<o-1;n++){var i=t[n];e=e[i]={}}e[t[o-1]]=r},r.parseField=function(e){for(var t=[],r="",n=0,o=e.length;n<o;n++){var i=e[n];"."===i?n>0&&"\\"===e[n-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=i}return t.push(r),t},r.pick=function(e,t){for(var n={},o=0,i=t.length;o<i;o++){var s=r.parseField(t[o]),u=r.getFieldFromDoc(e,s);"undefined"!=typeof u&&r.setFieldInDoc(n,s,u)}return n},r.oneArrayIsSubArrayOfOther=function(e,t){for(var r=0,n=Math.min(e.length,t.length);r<n;r++)if(e[r]!==t[r])return!1;return!0},r.oneArrayIsStrictSubArrayOfOther=function(e,t){return!(e.length>t.length)&&r.oneArrayIsSubArrayOfOther(e,t)},r.oneSetIsSubArrayOfOther=function(e,t){e=e.slice();for(var r=0,n=t.length;r<n;r++){var o=t[r];if(!e.length)break;var i=e.indexOf(o);if(i===-1)return!1;e.splice(i,1)}return!0},r.compare=function(e,t){return e<t?-1:e>t?1:0},r.arrayToObject=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e[r]]=!0;return t},r.max=function(e,t){for(var r=null,n=-1,o=0,i=e.length;o<i;o++){var s=e[o],u=t(s);u>n&&(n=u,r=s)}return r},r.arrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0},r.uniq=function(e){for(var t={},r=0;r<e.length;r++)t["$"+e[r]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})},r.log=e("debug")("pouchdb:find")}).call(this,e("_process"))},{_process:495,crypto:34,debug:425,inherits:435,"pouchdb-extend":460,"pouchdb-promise":480,"spark-md5":481}],479:[function(e,t,r){arguments[4][441][0].apply(r,arguments)},{dup:441,immediate:434}],480:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n(e("lie")),i="function"==typeof Promise?Promise:o;t.exports=i},{lie:479}],481:[function(e,t,r){!function(e){if("object"==typeof r)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var n;try{n=window}catch(e){n=self}n.SparkMD5=e()}}(function(e){"use strict";function t(e,t,r,n,o,i){return t=m(m(t,e),m(n,i)),m(t<<o|t>>>32-o,r)}function r(e,r,n,o,i,s,u){return t(r&n|~r&o,e,r,i,s,u)}function n(e,r,n,o,i,s,u){return t(r&o|n&~o,e,r,i,s,u)}function o(e,r,n,o,i,s,u){return t(r^n^o,e,r,i,s,u)}function i(e,r,n,o,i,s,u){return t(n^(r|~o),e,r,i,s,u)}function s(e,t){var s=e[0],u=e[1],a=e[2],c=e[3];s=r(s,u,a,c,t[0],7,-680876936),c=r(c,s,u,a,t[1],12,-389564586),a=r(a,c,s,u,t[2],17,606105819),u=r(u,a,c,s,t[3],22,-1044525330),s=r(s,u,a,c,t[4],7,-176418897),c=r(c,s,u,a,t[5],12,1200080426),a=r(a,c,s,u,t[6],17,-1473231341),u=r(u,a,c,s,t[7],22,-45705983),s=r(s,u,a,c,t[8],7,1770035416),c=r(c,s,u,a,t[9],12,-1958414417),a=r(a,c,s,u,t[10],17,-42063),u=r(u,a,c,s,t[11],22,-1990404162),s=r(s,u,a,c,t[12],7,1804603682),c=r(c,s,u,a,t[13],12,-40341101),a=r(a,c,s,u,t[14],17,-1502002290),u=r(u,a,c,s,t[15],22,1236535329),s=n(s,u,a,c,t[1],5,-165796510),c=n(c,s,u,a,t[6],9,-1069501632),a=n(a,c,s,u,t[11],14,643717713),u=n(u,a,c,s,t[0],20,-373897302),s=n(s,u,a,c,t[5],5,-701558691),c=n(c,s,u,a,t[10],9,38016083),a=n(a,c,s,u,t[15],14,-660478335),u=n(u,a,c,s,t[4],20,-405537848),s=n(s,u,a,c,t[9],5,568446438),c=n(c,s,u,a,t[14],9,-1019803690),a=n(a,c,s,u,t[3],14,-187363961),u=n(u,a,c,s,t[8],20,1163531501),s=n(s,u,a,c,t[13],5,-1444681467),c=n(c,s,u,a,t[2],9,-51403784),a=n(a,c,s,u,t[7],14,1735328473),u=n(u,a,c,s,t[12],20,-1926607734),s=o(s,u,a,c,t[5],4,-378558),c=o(c,s,u,a,t[8],11,-2022574463),a=o(a,c,s,u,t[11],16,1839030562),u=o(u,a,c,s,t[14],23,-35309556),s=o(s,u,a,c,t[1],4,-1530992060),c=o(c,s,u,a,t[4],11,1272893353),a=o(a,c,s,u,t[7],16,-155497632),u=o(u,a,c,s,t[10],23,-1094730640),s=o(s,u,a,c,t[13],4,681279174),c=o(c,s,u,a,t[0],11,-358537222),a=o(a,c,s,u,t[3],16,-722521979),u=o(u,a,c,s,t[6],23,76029189),s=o(s,u,a,c,t[9],4,-640364487),c=o(c,s,u,a,t[12],11,-421815835),a=o(a,c,s,u,t[15],16,530742520),u=o(u,a,c,s,t[2],23,-995338651),s=i(s,u,a,c,t[0],6,-198630844),c=i(c,s,u,a,t[7],10,1126891415),a=i(a,c,s,u,t[14],15,-1416354905),u=i(u,a,c,s,t[5],21,-57434055),s=i(s,u,a,c,t[12],6,1700485571),c=i(c,s,u,a,t[3],10,-1894986606),a=i(a,c,s,u,t[10],15,-1051523),u=i(u,a,c,s,t[1],21,-2054922799),s=i(s,u,a,c,t[8],6,1873313359),c=i(c,s,u,a,t[15],10,-30611744),a=i(a,c,s,u,t[6],15,-1560198380),u=i(u,a,c,s,t[13],21,1309151649),s=i(s,u,a,c,t[4],6,-145523070),c=i(c,s,u,a,t[11],10,-1120210379),a=i(a,c,s,u,t[2],15,718787259),u=i(u,a,c,s,t[9],21,-343485551),e[0]=m(s,e[0]),e[1]=m(u,e[1]),e[2]=m(a,e[2]),e[3]=m(c,e[3])}function u(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function a(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function c(e){var t,r,n,o,i,a,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)s(f,u(e.substring(t-64,t)));for(e=e.substring(t-64),r=e.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(s(f,n),t=0;t<16;t+=1)n[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,n[14]=i,n[15]=a,s(f,n),f}function f(e){var t,r,n,o,i,u,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)s(f,a(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),r=e.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)n[t>>2]|=e[t]<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(s(f,n),t=0;t<16;t+=1)n[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),u=parseInt(o[1],16)||0,n[14]=i,n[15]=u,s(f,n),f}function l(e){var t,r="";for(t=0;t<4;t+=1)r+=g[e>>8*t+4&15]+g[e>>8*t&15];return r}function d(e){var t;for(t=0;t<e.length;t+=1)e[t]=l(e[t]);return e.join("")}function p(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function h(e,t){var r,n=e.length,o=new ArrayBuffer(n),i=new Uint8Array(o);for(r=0;r<n;r+=1)i[r]=e.charCodeAt(r);return t?i:o}function b(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function v(e,t,r){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e)),n.set(new Uint8Array(t),e.byteLength),r?n:n.buffer}function y(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function _(){this.reset()}var m=function(e,t){return e+t&4294967295},g=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==d(c("hello"))&&(m=function(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,n){var o,i,s,u,a=this.byteLength,c=t(r,a),f=a;return n!==e&&(f=t(n,a)),c>f?new ArrayBuffer(0):(o=f-c,i=new ArrayBuffer(o),s=new Uint8Array(i),u=new Uint8Array(this,c,o),s.set(u),i)}}(),_.prototype.append=function(e){return this.appendBinary(p(e)),this},_.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)s(this._hash,u(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},_.prototype.end=function(e){var t,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),r=d(this._hash),e&&(r=y(r)),this.reset(),r},_.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},_.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},_.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},_.prototype._finish=function(e,t){var r,n,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(s(this._hash,e),i=0;i<16;i+=1)e[i]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=n,e[15]=o,s(this._hash,e)},_.hash=function(e,t){return _.hashBinary(p(e),t)},_.hashBinary=function(e,t){var r=c(e),n=d(r);return t?y(n):n},_.ArrayBuffer=function(){this.reset()},_.ArrayBuffer.prototype.append=function(e){var t,r=v(this._buff.buffer,e,!0),n=r.length;for(this._length+=e.byteLength,t=64;t<=n;t+=64)s(this._hash,a(r.subarray(t-64,t)));return this._buff=t-64<n?new Uint8Array(r.buffer.slice(t-64)):new Uint8Array(0),this},_.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=n[t]<<(t%4<<3);return this._finish(i,o),r=d(this._hash),e&&(r=y(r)),this.reset(),r},_.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.ArrayBuffer.prototype.getState=function(){var e=_.prototype.getState.call(this);return e.buff=b(e.buff),e},_.ArrayBuffer.prototype.setState=function(e){return e.buff=h(e.buff,!0),_.prototype.setState.call(this,e)},_.ArrayBuffer.prototype.destroy=_.prototype.destroy,_.ArrayBuffer.prototype._finish=_.prototype._finish,_.ArrayBuffer.hash=function(e,t){var r=f(new Uint8Array(e)),n=d(r);return t?y(n):n},_})},{}],482:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return Object.keys(e).sort(a.collate).reduce(function(t,r){return t[r]=e[r],t},{})}function i(e,t,r){var n=r.doc_ids?r.doc_ids.sort(a.collate):"",i=r.filter?r.filter.toString():"",c="",f="";return r.filter&&r.query_params&&(c=JSON.stringify(o(r.query_params))),r.filter&&"_view"===r.filter&&(f=r.view.toString()),s.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+i+f+c+n;return new s(function(e){u.binaryMd5(t,e)})}).then(function(e){return e=e.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+e})}var s=n(e("pouchdb-promise")),u=e("pouchdb-md5"),a=e("pouchdb-collate");t.exports=i},{"pouchdb-collate":483,"pouchdb-md5":485,"pouchdb-promise":487}],483:[function(e,t,r){arguments[4][452][0].apply(r,arguments)},{dup:452}],484:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){try{return JSON.parse(e)}catch(t){return s.parse(e)}}function i(e){try{return JSON.stringify(e)}catch(t){return s.stringify(e)}}Object.defineProperty(r,"__esModule",{value:!0});var s=n(e("vuvuzela"));r.safeJsonParse=o,r.safeJsonStringify=i},{vuvuzela:596}],485:[function(e,t,r){(function(t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return f.btoa(e)}function i(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.slice(t,r)}function s(e,t,r,n,o){(r>0||n<t.size)&&(t=i(t,r,n)),f.readAsArrayBuffer(t,function(t){e.append(t),o()})}function u(e,t,r,n,o){(r>0||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),o()}function a(e,t){function r(){d(i)}function n(){var e=v.end(!0),r=o(e);t(r),v.destroy()}function i(){var t=b*f,o=t+f;b++,b<h?y(v,e,t,o,r):y(v,e,t,o,n)}var a="string"==typeof e,c=a?e.length:e.size,f=Math.min(p,c),h=Math.ceil(c/f),b=0,v=a?new l:new l.ArrayBuffer,y=a?u:s;i()}function c(e){return l.hash(e)}Object.defineProperty(r,"__esModule",{value:!0});var f=e("pouchdb-binary-utils"),l=n(e("spark-md5")),d=t.setImmediate||t.setTimeout,p=32768;r.binaryMd5=a,r.stringMd5=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"pouchdb-binary-utils":450,"spark-md5":589}],486:[function(e,t,r){"use strict";function n(e){for(var t,r,n,o,i=e.rev_tree.slice();o=i.pop();){var s=o.ids,u=s[2],a=o.pos;if(u.length)for(var c=0,f=u.length;c<f;c++)i.push({pos:a+1,ids:u[c]});else{var l=!!s[1].deleted,d=s[0];t&&!(n!==l?n:r!==a?r<a:t<d)||(t=d,r=a,n=l)}}return r+"-"+t}function o(e,t){for(var r,n=e.slice();r=n.pop();)for(var o=r.pos,i=r.ids,s=i[2],u=t(0===s.length,o,i[0],r.ctx,i[1]),a=0,c=s.length;a<c;a++)n.push({pos:o+1,ids:s[a],ctx:u})}function i(e,t){return e.pos-t.pos}function s(e){var t=[];o(e,function(e,r,n,o,i){e&&t.push({rev:r+"-"+n,pos:r,opts:i})}),t.sort(i).reverse();for(var r=0,n=t.length;r<n;r++)delete t[r].pos;return t}function u(e){for(var t=n(e),r=s(e.rev_tree),o=[],i=0,u=r.length;i<u;i++){var a=r[i];a.rev===t||a.opts.deleted||o.push(a.rev)}return o}function a(e){var t=[];return o(e.rev_tree,function(e,r,n,o,i){"available"!==i.status||e||(t.push(r+"-"+n),i.status="missing")}),t}function c(e){for(var t,r=[],n=e.slice();t=n.pop();){var o=t.pos,i=t.ids,s=i[0],u=i[1],a=i[2],c=0===a.length,f=t.history?t.history.slice():[];f.push({id:s,opts:u}),c&&r.push({pos:o+1-f.length,ids:f});for(var l=0,d=a.length;l<d;l++)n.push({pos:o+1,ids:a[l],history:f})}return r.reverse()}function f(e,t){return e.pos-t.pos}function l(e,t,r){for(var n,o=0,i=e.length;o<i;)n=o+i>>>1,r(e[n],t)<0?o=n+1:i=n;return o}function d(e,t,r){var n=l(e,t,r);e.splice(n,0,t)}function p(e,t){for(var r,n,o=t,i=e.length;o<i;o++){var s=e[o],u=[s.id,s.opts,[]];n?(n[2].push(u),n=u):r=n=u}return r}function h(e,t){return e[0]<t[0]?-1:1}function b(e,t){for(var r=[{tree1:e,tree2:t}],n=!1;r.length>0;){var o=r.pop(),i=o.tree1,s=o.tree2;(i[1].status||s[1].status)&&(i[1].status="available"===i[1].status||"available"===s[1].status?"available":"missing");for(var u=0;u<s[2].length;u++)if(i[2][0]){for(var a=!1,c=0;c<i[2].length;c++)i[2][c][0]===s[2][u][0]&&(r.push({tree1:i[2][c],tree2:s[2][u]}),a=!0);a||(n="new_branch",d(i[2],s[2][u],h))}else n="new_leaf",i[2][0]=s[2][u]}return{conflicts:n,tree:e}}function v(e,t,r){var n,o=[],i=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var u=0,a=e.length;u<a;u++){var c=e[u];if(c.pos===t.pos&&c.ids[0]===t.ids[0])n=b(c.ids,t.ids),o.push({pos:c.pos,ids:n.tree}),i=i||n.conflicts,s=!0;else if(r!==!0){var l=c.pos<t.pos?c:t,d=c.pos<t.pos?t:c,p=d.pos-l.pos,h=[],v=[];for(v.push({ids:l.ids,diff:p,parent:null,parentIdx:null});v.length>0;){var y=v.pop();if(0!==y.diff)for(var _=y.ids[2],m=0,g=_.length;m<g;m++)v.push({ids:_[m],diff:y.diff-1,parent:y.ids,parentIdx:m});else y.ids[0]===d.ids[0]&&h.push(y)}var w=h[0];w?(n=b(w.ids,d.ids),w.parent[2][w.parentIdx]=n.tree,o.push({pos:l.pos,ids:l.ids}),i=i||n.conflicts,s=!0):o.push(c)}else o.push(c)}return s||o.push(t),o.sort(f),{tree:o,conflicts:i||"internal_node"}}function y(e,t){for(var r,n,i=c(e),s=0,u=i.length;s<u;s++){var a,f=i[s],l=f.ids;if(l.length>t){r||(r={});var d=l.length-t;a={pos:f.pos+d,ids:p(l,d)};for(var h=0;h<d;h++){var b=f.pos+h+"-"+l[h].id;r[b]=!0}}else a={pos:f.pos,ids:p(l,0)};n=n?v(n,a,!0).tree:[a]}return r&&o(n,function(e,t,n){delete r[t+"-"+n]}),{tree:n,revs:r?Object.keys(r):[]}}function _(e,t,r){var n=v(e,t),o=y(n.tree,r);return{tree:o.tree,stemmedRevs:o.revs,conflicts:n.conflicts}}function m(e,t){for(var r,n=e.slice(),o=t.split("-"),i=parseInt(o[0],10),s=o[1];r=n.pop();){if(r.pos===i&&r.ids[0]===s)return!0;for(var u=r.ids[2],a=0,c=u.length;a<c;a++)n.push({pos:r.pos+1,ids:u[a]})}return!1}function g(e){return e.ids}function w(e,t){t||(t=n(e));for(var r,o=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(g);r=i.pop();){if(r[0]===o)return!!r[1].deleted;i=i.concat(r[2])}}function x(e){return/^_local/.test(e)}function j(e,t){for(var r,n=t.rev_tree.slice();r=n.pop();){var o=r.pos,i=r.ids,s=i[0],u=i[1],a=i[2],c=0===a.length,f=r.history?r.history.slice():[];if(f.push({id:s,pos:o,opts:u}),c)for(var l=0,d=f.length;l<d;l++){var p=f[l],h=p.pos+"-"+p.id;if(h===e)return o+"-"+s}for(var b=0,v=a.length;b<v;b++)n.push({pos:o+1,ids:a[b],history:f})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}Object.defineProperty(r,"__esModule",{value:!0}),r.collectConflicts=u,r.collectLeaves=s,r.compactTree=a,r.isDeleted=w,r.isLocalId=x,r.merge=_,r.revExists=m,r.rootToLeaf=c,r.traverseRevTree=o,r.winningRev=n,r.latest=j},{}],487:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n(e("lie")),i="function"==typeof Promise?Promise:o;t.exports=i},{lie:441}],488:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return/^1-/.test(e)}function i(e,t,r){return!e._attachments||!e._attachments[r]||e._attachments[r].digest!==t._attachments[r].digest}function s(e,t){var r=Object.keys(t._attachments);return _.all(r.map(function(r){return e.getAttachment(t._id,r,{rev:t._rev})}))}function u(e,t,r){var n="http"===t.type()&&"http"!==e.type(),o=Object.keys(r._attachments);return n?e.get(r._id).then(function(n){return _.all(o.map(function(o){return i(n,r,o)?t.getAttachment(r._id,o):e.getAttachment(n._id,o)}))}).catch(function(e){if(404!==e.status)throw e;return s(t,r)}):s(t,r)}function a(e){var t=[];return Object.keys(e).forEach(function(r){var n=e[r].missing;n.forEach(function(e){t.push({id:r,rev:e})})}),{docs:t,revs:!0,latest:!0}}function c(e,t,r,n){function i(){var o=a(r);if(o.docs.length)return e.bulkGet(o).then(function(r){if(n.cancelled)throw new Error("cancelled");return _.all(r.results.map(function(r){return _.all(r.docs.map(function(r){var n=r.ok;return r.error&&(h=!1),n&&n._attachments?u(t,e,n).then(function(e){var t=Object.keys(n._attachments);return e.forEach(function(e,r){var o=n._attachments[t[r]];delete o.stub,delete o.length,o.data=e}),n}):n}))})).then(function(e){p=p.concat(m.flatten(e).filter(Boolean))})})}function s(e){return e._attachments&&Object.keys(e._attachments).length>0}function c(e){return e._conflicts&&e._conflicts.length>0}function f(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(n.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!o(e.value.rev)||s(e.doc)||c(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,p.push(e.doc),delete r[e.id])})})}function l(){var e=Object.keys(r).filter(function(e){var t=r[e].missing;return 1===t.length&&o(t[0])});if(e.length>0)return f(e)}function d(){return{ok:h,docs:p}}r=m.clone(r);var p=[],h=!0;return _.resolve().then(l).then(i).then(d)}function f(e,t,r,n){if(e.retry===!1)return t.emit("error",r),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=m.defaultBackOff),t.emit("requestError",r),"active"===t.state||"pending"===t.state){t.emit("paused",r),t.state="stopped";var o=function(){e.current_back_off=O},i=function(){t.removeListener("active",o)};t.once("paused",i),t.once("active",o)}e.current_back_off=e.current_back_off||O,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(n,e.current_back_off)}function l(e,t,r,n,o){function i(){return P?_.resolve():w(e,t,r).then(function(r){A=r,P=new g(e,t,A,n)})}function s(){if(q=[],0!==E.docs.length){var e=E.docs,i={timeout:r.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then(function(t){if(n.cancelled)throw v(),new Error("cancelled");var r=Object.create(null);t.forEach(function(e){e.error&&(r[e.id]=e)});var i=Object.keys(r).length;o.doc_write_failures+=i,o.docs_written+=e.length-i,e.forEach(function(e){var t=r[e._id];if(t){if(o.errors.push(t),"unauthorized"!==t.name&&"forbidden"!==t.name)throw t;
n.emit("denied",m.clone(t))}else q.push(e)})},function(t){throw o.doc_write_failures+=e.length,t})}}function u(){if(E.error)throw new Error("There was a problem getting docs.");o.last_seq=R=E.seq;var e=m.clone(o);return q.length&&(e.docs=q,n.emit("change",e)),T=!0,P.writeCheckpoint(E.seq,U).then(function(){if(T=!1,n.cancelled)throw v(),new Error("cancelled");E=void 0,k()}).catch(function(e){throw S(e),e})}function a(){var e={};return E.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(n.cancelled)throw v(),new Error("cancelled");E.diffs=e})}function d(){return c(e,t,E.diffs,n).then(function(e){E.error=!e.ok,e.docs.forEach(function(e){delete E.diffs[e._id],o.docs_read++,E.docs.push(e)})})}function p(){if(!n.cancelled&&!E){if(0===C.length)return void h(!0);E=C.shift(),a().then(d).then(s).then(u).then(p).catch(function(e){b("batch processing terminated with error",e)})}}function h(e){return 0===I.changes.length?void(0!==C.length||E||((B&&z.live||D)&&(n.state="pending",n.emit("paused")),D&&v())):void((e||D||I.changes.length>=N)&&(C.push(I),I={seq:0,changes:[],docs:[]},"pending"!==n.state&&"stopped"!==n.state||(n.state="active",n.emit("active")),p()))}function b(e,t){M||(t.message||(t.message=e),o.ok=!1,o.status="aborting",C=[],I={seq:0,changes:[],docs:[]},v(t))}function v(i){M||n.cancelled&&(o.status="cancelled",T)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=R,M=!0,i?(i.result=o,"unauthorized"===i.name||"forbidden"===i.name?(n.emit("error",i),n.removeAllListeners()):f(r,n,i,function(){l(e,t,r,n)})):(n.emit("complete",o),n.removeAllListeners()))}function y(e){if(n.cancelled)return v();var t=m.filterChange(r)(e);t&&(I.seq=e.seq,I.changes.push(e),h(0===C.length&&z.live))}function x(e){if(L=!1,n.cancelled)return v();if(e.results.length>0)z.since=e.last_seq,k(),h(!0);else{var t=function(){B?(z.live=!0,k()):D=!0,h(!0)};E||0!==e.results.length?t():(T=!0,P.writeCheckpoint(e.last_seq,U).then(function(){T=!1,o.last_seq=R=e.last_seq,t()}).catch(S))}}function j(e){return L=!1,n.cancelled?v():void b("changes rejected",e)}function k(){function t(){i.cancel()}function o(){n.removeListener("cancel",t)}if(!L&&!D&&C.length<F){L=!0,n._changes&&(n.removeListener("cancel",n._abortChanges),n._changes.cancel()),n.once("cancel",t);var i=e.changes(z).on("change",y);i.then(o,o),i.then(x).catch(j),r.retry&&(n._changes=i,n._abortChanges=t)}}function O(){i().then(function(){return n.cancelled?void v():P.getCheckpoint().then(function(e){R=e,z={since:R,limit:N,batch_size:N,style:"all_docs",doc_ids:$,return_docs:!0},r.filter&&("string"!=typeof r.filter?z.include_docs=!0:z.filter=r.filter),"heartbeat"in r&&(z.heartbeat=r.heartbeat),"timeout"in r&&(z.timeout=r.timeout),r.query_params&&(z.query_params=r.query_params),r.view&&(z.view=r.view),k()})}).catch(function(e){b("getCheckpoint rejected with ",e)})}function S(e){T=!1,b("writeCheckpoint completed with error",e)}var E,A,P,C=[],I={seq:0,changes:[],docs:[]},T=!1,D=!1,M=!1,R=0,B=r.continuous||r.live||!1,N=r.batch_size||100,F=r.batches_limit||10,L=!1,$=r.doc_ids,q=[],U=m.uuid();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var z={};return n.ready(e,t),n.cancelled?void v():(n._addedListeners||(n.once("cancel",v),"function"==typeof r.complete&&(n.once("error",r.complete),n.once("complete",function(e){r.complete(null,e)})),n._addedListeners=!0),void("undefined"==typeof r.since?O():i().then(function(){return T=!0,P.writeCheckpoint(r.since,U)}).then(function(){return T=!1,n.cancelled?void v():(R=r.since,void O())}).catch(S)))}function d(){x.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new _(function(t,r){e.once("complete",t),e.once("error",r)});e.then=function(e,r){return t.then(e,r)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function p(e,t){var r=t.PouchConstructor;return"string"==typeof e?new r(e,t):e}function h(e,t,r,n){if("function"==typeof r&&(n=r,r={}),"undefined"==typeof r&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw k.createError(k.BAD_REQUEST,"`doc_ids` filter parameter is not a list.");r.complete=n,r=m.clone(r),r.continuous=r.continuous||r.live,r.retry="retry"in r&&r.retry,r.PouchConstructor=r.PouchConstructor||this;var o=new d(r),i=p(e,r),s=p(t,r);return l(i,s,r,o),o}function b(e,t,r,n){return"function"==typeof r&&(n=r,r={}),"undefined"==typeof r&&(r={}),r=m.clone(r),r.PouchConstructor=r.PouchConstructor||this,e=p(e,r),t=p(t,r),new v(e,t,r,n)}function v(e,t,r,n){function o(e){b.emit("change",{direction:"pull",change:e})}function i(e){b.emit("change",{direction:"push",change:e})}function s(e){b.emit("denied",{direction:"push",doc:e})}function u(e){b.emit("denied",{direction:"pull",doc:e})}function a(){b.pushPaused=!0,b.pullPaused&&b.emit("paused")}function c(){b.pullPaused=!0,b.pushPaused&&b.emit("paused")}function f(){b.pushPaused=!1,b.pullPaused&&b.emit("active",{direction:"push"})}function l(){b.pullPaused=!1,b.pushPaused&&b.emit("active",{direction:"pull"})}function d(e){return function(t,r){var n="change"===t&&(r===o||r===i),d="denied"===t&&(r===u||r===s),p="paused"===t&&(r===c||r===a),h="active"===t&&(r===l||r===f);(n||d||p||h)&&(t in g||(g[t]={}),g[t][e]=!0,2===Object.keys(g[t]).length&&b.removeAllListeners(t))}}function p(e,t,r){e.listeners(t).indexOf(r)==-1&&e.on(t,r)}var b=this;this.canceled=!1;var v=r.push?m.assign({},r,r.push):r,y=r.pull?m.assign({},r,r.pull):r;this.push=h(e,t,v),this.pull=h(t,e,y),this.pushPaused=!0,this.pullPaused=!0;var g={};r.live&&(this.push.on("complete",b.pull.cancel.bind(b.pull)),this.pull.on("complete",b.push.cancel.bind(b.push))),this.on("newListener",function(e){"change"===e?(p(b.pull,"change",o),p(b.push,"change",i)):"denied"===e?(p(b.pull,"denied",u),p(b.push,"denied",s)):"active"===e?(p(b.pull,"active",l),p(b.push,"active",f)):"paused"===e&&(p(b.pull,"paused",c),p(b.push,"paused",a))}),this.on("removeListener",function(e){"change"===e?(b.pull.removeListener("change",o),b.push.removeListener("change",i)):"denied"===e?(b.pull.removeListener("denied",u),b.push.removeListener("denied",s)):"active"===e?(b.pull.removeListener("active",l),b.push.removeListener("active",f)):"paused"===e&&(b.pull.removeListener("paused",c),b.push.removeListener("paused",a))}),this.pull.on("removeListener",d("pull")),this.push.on("removeListener",d("push"));var w=_.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return b.emit("complete",t),n&&n(null,t),b.removeAllListeners(),t},function(e){if(b.cancel(),n?n(e):b.emit("error",e),b.removeAllListeners(),n)throw e});this.then=function(e,t){return w.then(e,t)},this.catch=function(e){return w.catch(e)}}function y(e){e.replicate=h,e.sync=b,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return{from:function(t,r,n){return e.constructor.replicate(t,e,r,n)},to:function(t,r,n){return e.constructor.replicate(e,t,r,n)}}}}),e.prototype.sync=function(e,t,r){return this.constructor.sync(this,e,t,r)}}var _=n(e("pouchdb-promise")),m=e("pouchdb-utils"),g=n(e("pouchdb-checkpointer")),w=n(e("pouchdb-generate-replication-id")),x=e("events"),j=n(e("inherits")),k=e("pouchdb-errors"),O=0;j(d,x.EventEmitter),d.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},d.prototype.ready=function(e,t){function r(){o.cancel()}function n(){e.removeListener("destroyed",r),t.removeListener("destroyed",r)}var o=this;o._readyCalled||(o._readyCalled=!0,e.once("destroyed",r),t.once("destroyed",r),o.once("complete",n))},j(v,x.EventEmitter),v.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},t.exports=y},{events:430,inherits:435,"pouchdb-checkpointer":451,"pouchdb-errors":459,"pouchdb-generate-replication-id":482,"pouchdb-promise":487,"pouchdb-utils":492}],489:[function(e,t,r){"use strict";function n(e,t,r){return"string"!=typeof t?i.reject(new Error("doc id is required")):e.get(t).catch(function(e){if(404!==e.status)throw e;return{}}).then(function(n){var i=n._rev,s=r(n);return s?(s._id=t,s._rev=i,o(e,s,r)):{updated:!1,rev:i}})}function o(e,t,r){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return n(e,t._id,r)})}var i=e("pouchdb-promise");r.upsert=function(e,t,r){var o=this,i=n(o,e,t);return"function"!=typeof r?i:void i.then(function(e){r(null,e)},r)},r.putIfNotExists=function(e,t,r){var o=this;"string"!=typeof e&&(r=t,t=e,e=t._id);var i=function(e){return!e._rev&&t},s=n(o,e,i);return"function"!=typeof r?s:void s.then(function(e){r(null,e)},r)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(r)},{"pouchdb-promise":491}],490:[function(e,t,r){arguments[4][441][0].apply(r,arguments)},{dup:441,immediate:434}],491:[function(e,t,r){arguments[4][480][0].apply(r,arguments)},{dup:480,lie:490}],492:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function i(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}function s(e){if(e instanceof ArrayBuffer)return i(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}function u(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&W.call(r)==H}function a(e){var t,r,n;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=a(e[r]);return t}if(e instanceof Date)return e.toISOString();if(o(e))return s(e);if(!u(e))return e;t={};for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a(e[r]);"undefined"!=typeof i&&(t[r]=i)}return t}function c(e){var t=!1;return $(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}function f(e){return $(function(t){t=a(t);var r=this,n="function"==typeof t[t.length-1]&&t.pop(),o=new L(function(n,o){var i;try{var s=c(function(e,t){e?o(e):n(t)});t.push(s),i=e.apply(r,t),i&&"function"==typeof i.then&&n(i)}catch(e){o(e)}});return n&&o.then(function(e){n(null,e)},n),o})}function l(e,t){function r(e,t,r){if(Y.enabled){for(var n=[e.name,t],o=0;o<r.length-1;o++)n.push(r[o]);Y.apply(null,n);var i=r[r.length-1];r[r.length-1]=function(r,n){var o=[e.name,t];o=o.concat(r?["error",r]:["success",n]),Y.apply(null,o),i(r,n)}}}return f($(function(n){if(this._closed)return L.reject(new Error("database is closed"));if(this._destroyed)return L.reject(new Error("database is destroyed"));var o=this;return r(o,e,n),this.taskqueue.isReady?t.apply(this,n):new L(function(t,r){o.taskqueue.addTask(function(i){i?r(i):t(o[e].apply(o,n))})})}))}function d(e,t){for(var r={},n=0,o=t.length;n<o;n++){var i=t[n];i in e&&(r[i]=e[i])}return r}function p(e){return e}function h(e){return[{ok:e}]}function b(e,t,r){function n(){var e=[];b.forEach(function(t){t.docs.forEach(function(r){e.push({id:t.id,docs:[r]})})}),r(null,{results:e})}function o(){++l===f&&n()}function i(e,t,r){b[e]={id:t,docs:r},o()}function s(){if(!(y>=v.length)){var e=Math.min(y+Q,v.length),t=v.slice(y,e);u(t,y),y+=t.length}}function u(r,n){r.forEach(function(r,o){var u=n+o,a=c.get(r),f=d(a[0],["atts_since","attachments"]);f.open_revs=a.map(function(e){return e.rev}),f.open_revs=f.open_revs.filter(p);var l=p;0===f.open_revs.length&&(delete f.open_revs,l=h),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(f[e]=t[e])}),e.get(r,f,function(e,t){var n;n=e?[{error:e}]:l(t),i(u,r,n),s()})})}var a=t.docs,c=new U.Map;a.forEach(function(e){c.has(e.id)?c.get(e.id).push(e):c.set(e.id,[e])});var f=c.size,l=0,b=new Array(f),v=[];c.forEach(function(e,t){v.push(t)});var y=0;s()}function v(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function y(){return F}function _(e){v()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):y()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function m(){z.EventEmitter.call(this),this._listeners={},_(this)}function g(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function w(e,t){var r=6e5;e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>r&&(e=r>>1,t=r);var n=Math.random(),o=t-e;return~~(o*n+e)}function x(e){var t=0;return e||(t=2e3),w(e,t)}function j(e,t){g("info","The above "+e+" is totally normal. "+t)}function k(e,t,r){try{return!e(t,r)}catch(e){var n="Filter function threw: "+e.toString();return G.createError(G.BAD_REQUEST,n)}}function O(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(n){n.doc||(n.doc={});var o=r&&k(e.filter,n.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in n.doc._attachments)n.doc._attachments.hasOwnProperty(i)&&(n.doc._attachments[i].stub=!0)}else delete n.doc;return!0}}function S(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t}function E(){}function A(e){var t;if(e?"string"!=typeof e?t=G.createError(G.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=G.createError(G.RESERVED_ID)):t=G.createError(G.MISSING_ID),t)throw t}function P(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap}function C(e,t){return"listenerCount"in e?e.listenerCount(t):z.EventEmitter.listenerCount(e,t)}function I(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function T(e){var t=I(e);return t?t.join("/"):null}function D(e){for(var t=se.exec(e),r={},n=14;n--;){var o=ne[n],i=t[n]||"",s=["user","password"].indexOf(o)!==-1;r[o]=s?decodeURIComponent(i):i}return r[oe]={},r[ne[12]].replace(ie,function(e,t,n){t&&(r[oe][t]=n)}),r}function M(e,t,r){return new L(function(n,o){e.get(t,function(i,s){if(i){if(404!==i.status)return o(i);s={}}var u=s._rev,a=r(s);return a?(a._id=t,a._rev=u,void n(R(e,a,r))):n({updated:!1,rev:u})})})}function R(e,t,r){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(n){if(409!==n.status)throw n;return M(e,t._id,r)})}function B(e){return 0|Math.random()*e}function N(e,t){t=t||ue.length;var r="",n=-1;if(e){for(;++n<e;)r+=ue[B(t)];return r}for(;++n<36;)switch(n){case 8:case 13:case 18:case 23:r+="-";break;case 19:r+=ue[3&B(16)|8];break;default:r+=ue[B(16)]}return r}Object.defineProperty(r,"__esModule",{value:!0});var F,L=n(e("pouchdb-promise")),$=n(e("argsarray")),q=n(e("debug")),U=e("pouchdb-collections"),z=e("events"),V=n(e("inherits")),K=e("pouchdb-utils"),G=e("pouchdb-errors"),J=n(e("immediate")),W=Function.prototype.toString,H=W.call(Object),Y=q("pouchdb:api"),Q=6;if(v())F=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),F=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){F=!1}V(m,z.EventEmitter),m.prototype.addListener=function(e,t,r,n){function o(){function e(){s=!1}if(i._listeners[t]){if(s)return void(s="waiting");s=!0;var u=d(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);r.changes(u).on("change",function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,n.onChange(e))}).on("complete",function(){"waiting"===s&&K.nextTick(o),s=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,s=!1;this._listeners[t]=o,this.on(e,o)}},m.prototype.removeListener=function(e,t){t in this._listeners&&(z.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},m.prototype.notifyLocalWindows=function(e){v()?chrome.storage.local.set({dbName:e}):y()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},m.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var Z;Z="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};var X,ee=Z,te=E.name;X=te?function(e){return e.name}:function(e){return e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};var re=X,ne=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],oe="queryKey",ie=/(?:^|&)([^&=]*)=?([^&]*)/g,se=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ue="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");r.adapterFun=l,r.bulkGetShim=b,r.changesHandler=m,r.clone=a,r.defaultBackOff=x,r.explainError=j,r.assign=ee,r.filterChange=O,r.flatten=S,r.functionName=re,r.guardedConsole=g,r.hasLocalStorage=y,r.invalidIdError=A,r.isChromeApp=v,r.isCordova=P,r.listenerCount=C,r.nextTick=J,r.normalizeDdocFunctionName=T,r.once=c,r.parseDdocFunctionName=I,r.parseUri=D,r.pick=d,r.toPromise=f,r.upsert=M,r.uuid=N},{argsarray:20,debug:493,events:430,immediate:434,inherits:435,"pouchdb-collections":455,"pouchdb-errors":459,"pouchdb-promise":487,"pouchdb-utils":492}],493:[function(e,t,r){arguments[4][425][0].apply(r,arguments)},{"./debug":494,_process:495,dup:425}],494:[function(e,t,r){arguments[4][446][0].apply(r,arguments)},{dup:446,ms:442}],495:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function s(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function u(){v&&h&&(v=!1,h.length?b=h.concat(b):y=-1,b.length&&a())}function a(){if(!v){var e=i(u);v=!0;for(var t=b.length;t;){for(h=b,b=[];++y<t;)h&&h[y].run();y=-1,t=b.length}h=null,v=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function f(){}var l,d,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var h,b=[],v=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];b.push(new c(e,t)),1!==b.length||v||i(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=f,p.addListener=f,p.once=f,p.off=f,p.removeListener=f,p.removeAllListeners=f,p.emit=f,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],496:[function(e,t,r){void function(e){function r(e){return Math.floor(Math.random()*e)}function n(e,t){for(var n="",o=e.length;t--;){var i=r(o);n+=e[i]}return n}function o(e){e="string"==typeof e&&e.length>0?e:"abcdefghijklmnopqrstuvwxzy0123456789";var t=i.bind(i,e);return t.salt=function(){return e},t.create=o,t.gen=o,t}var i=function(e,t){return isNaN(t)?void 0:t<1?void 0:n(e,t)};i.gen=o,t.exports=o()}(this)},{}],497:[function(e,t,r){(function(r){var n="object"==typeof r?r:"object"==typeof window?window:"object"==typeof self?self:this,o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=e("./runtime"),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./runtime":498}],498:[function(e,t,r){(function(e,r){!function(r){"use strict";function n(e,t,r,n){var o=t&&t.prototype instanceof i?t:i,s=Object.create(o.prototype),u=new h(n||[]);return s._invoke=f(e,r,u),s}function o(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function i(){}function s(){}function u(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(t){function r(e,n,i,s){var u=o(t[e],t,n);if("throw"!==u.type){var a=u.arg,c=a.value;return c&&"object"==typeof c&&m.call(c,"__await")?Promise.resolve(c.__await).then(function(e){r("next",e,i,s)},function(e){r("throw",e,i,s)}):Promise.resolve(c).then(function(e){a.value=e,i(a)},s)}s(u.arg)}function n(e,t){function n(){return new Promise(function(n,o){r(e,t,n,o)})}return i=i?i.then(n,n):n()}"object"==typeof e&&e.domain&&(r=e.domain.bind(r));var i;this._invoke=n}function f(e,t,r){var n=O;return function(i,s){if(n===E)throw new Error("Generator is already running");if(n===A){if("throw"===i)throw s;return v()}for(r.method=i,r.arg=s;;){var u=r.delegate;if(u){var a=l(u,r);if(a){if(a===P)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===O)throw n=A,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=E;var c=o(e,t,r);if("normal"===c.type){if(n=r.done?A:S,c.arg===P)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=A,r.method="throw",r.arg=c.arg)}}}function l(e,t){var r=e.iterator[t.method];if(r===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,l(e,t),"throw"===t.method))return P;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var n=o(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,P;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,P):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,P)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function b(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(m.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=y,t.done=!0,t};return n.next=n}}return{next:v}}function v(){return{value:y,done:!0}}var y,_=Object.prototype,m=_.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},w=g.iterator||"@@iterator",x=g.toStringTag||"@@toStringTag",j="object"==typeof t,k=r.regeneratorRuntime;if(k)return void(j&&(t.exports=k));k=r.regeneratorRuntime=j?t.exports:{},k.wrap=n;var O="suspendedStart",S="suspendedYield",E="executing",A="completed",P={},C={};C[w]=function(){return this};var I=Object.getPrototypeOf,T=I&&I(I(b([])));T&&T!==_&&m.call(T,w)&&(C=T);var D=u.prototype=i.prototype=Object.create(C);s.prototype=D.constructor=u,u.constructor=s,u[x]=s.displayName="GeneratorFunction",k.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},k.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,x in e||(e[x]="GeneratorFunction")),e.prototype=Object.create(D),e},k.awrap=function(e){return{__await:e}},a(c.prototype),k.AsyncIterator=c,k.async=function(e,t,r,o){var i=new c(n(e,t,r,o));return k.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},a(D),D[x]="Generator",D.toString=function(){return"[object Generator]"},k.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},k.values=b,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=y),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var s=m.call(o,"catchLoc"),u=m.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&m.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,P):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),P},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),p(r),P}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;p(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:b(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=y),P}}}("object"==typeof r?r:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:495}],499:[function(e,t,r){function n(e){return"object"==typeof e&&"[object RegExp]"==o.call(e)}var o=Object.prototype.toString;t.exports=r=function(e){if(!n(e))throw new TypeError("Not a RegExp");var t=[];return e.global&&t.push("g"),e.multiline&&t.push("m"),e.ignoreCase&&t.push("i"),new RegExp(e.source,t.join(""))}},{}],500:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("./Subject"),i=e("./util/ObjectUnsubscribedError"),s=function(e){function t(t){e.call(this),this._value=t}return n(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.Subject);r.BehaviorSubject=s},{"./Subject":508,"./util/ObjectUnsubscribedError":570}],501:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("./Subscriber"),i=function(e){function t(t,r,n){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=n,this.index=0}return n(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(o.Subscriber);r.InnerSubscriber=i},{"./Subscriber":510}],502:[function(e,t,r){"use strict";var n=e("./Observable"),o=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){var n=this.kind;switch(n){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!=typeof t?new e("N",t):this.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return this.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();r.Notification=o},{"./Observable":503}],503:[function(e,t,r){"use strict";var n=e("./util/root"),o=e("./util/toSubscriber"),i=e("./symbol/observable"),s=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=o.toSubscriber(e,t,r);if(n?n.call(i,this.source):i.add(this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var r=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var o=r.subscribe(function(t){if(o)try{e(t)}catch(e){n(e),o.unsubscribe()}else e(t)},n,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[i.$$observable]=function(){return this},e.create=function(t){return new e(t)},e}();r.Observable=s},{"./symbol/observable":567,"./util/root":583,"./util/toSubscriber":585}],504:[function(e,t,r){"use strict";r.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},{}],505:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("./Subscriber"),i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(o.Subscriber);r.OuterSubscriber=i},{"./Subscriber":510}],506:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("./Subject"),i=e("./scheduler/queue"),s=e("./Subscription"),u=e("./operator/observeOn"),a=e("./util/ObjectUnsubscribedError"),c=e("./SubjectSubscription"),f=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),
void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=n,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=r<1?1:r}return n(t,e),t.prototype.next=function(t){var r=this._getNow();this._events.push(new l(r,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._trimBufferThenGetEvents(),n=this.scheduler;if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError?t=s.Subscription.EMPTY:this.isStopped?t=s.Subscription.EMPTY:(this.observers.push(e),t=new c.SubjectSubscription(this,e)),n&&e.add(e=new u.ObserveOnSubscriber(e,n));for(var o=r.length,i=0;i<o&&!e.closed;i++)e.next(r[i].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||i.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,o=n.length,i=0;i<o&&!(e-n[i].time<r);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&n.splice(0,i),n},t}(o.Subject);r.ReplaySubject=f;var l=function(){function e(e,t){this.time=e,this.value=t}return e}()},{"./Subject":508,"./SubjectSubscription":509,"./Subscription":511,"./operator/observeOn":554,"./scheduler/queue":565,"./util/ObjectUnsubscribedError":570}],507:[function(e,t,r){"use strict";var n=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();r.Scheduler=n},{}],508:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("./Observable"),i=e("./Subscriber"),s=e("./Subscription"),u=e("./util/ObjectUnsubscribedError"),a=e("./SubjectSubscription"),c=e("./symbol/rxSubscriber"),f=function(e){function t(t){e.call(this,t),this.destination=t}return n(t,e),t}(i.Subscriber);r.SubjectSubscriber=f;var l=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(t,e),t.prototype[c.$$rxSubscriber]=function(){return new f(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new u.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(e.complete(),s.Subscription.EMPTY):(this.observers.push(e),new a.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(o.Observable);r.Subject=l;var d=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r}return n(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var t=this.source;return t?this.source.subscribe(e):s.Subscription.EMPTY},t}(l);r.AnonymousSubject=d},{"./Observable":503,"./SubjectSubscription":509,"./Subscriber":510,"./Subscription":511,"./symbol/rxSubscriber":568,"./util/ObjectUnsubscribedError":570}],509:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("./Subscription"),i=function(e){function t(t,r){e.call(this),this.subject=t,this.subscriber=r,this.closed=!1}return n(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);r!==-1&&t.splice(r,1)}}},t}(o.Subscription);r.SubjectSubscription=i},{"./Subscription":511}],510:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("./util/isFunction"),i=e("./Subscription"),s=e("./Observer"),u=e("./symbol/rxSubscriber"),a=function(e){function t(r,n,o){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!r){this.destination=s.empty;break}if("object"==typeof r){r instanceof t?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,r,n,o)}}return n(t,e),t.prototype[u.$$rxSubscriber]=function(){return this},t.create=function(e,r,n){var o=new t(e,r,n);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this,t=e._parent,r=e._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=r,this},t}(i.Subscription);r.Subscriber=a;var c=function(e){function t(t,r,n,i){e.call(this),this._parentSubscriber=t;var s,u=this;o.isFunction(r)?s=r:r&&(u=r,s=r.next,n=r.error,i=r.complete,o.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this)),this._context=u,this._next=s,this._error=n,this._complete=i}return n(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){if(!this.isStopped){var e=this._parentSubscriber;this._complete?e.syncErrorThrowable?(this.__tryOrSetError(e,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(a)},{"./Observer":504,"./Subscription":511,"./symbol/rxSubscriber":568,"./util/isFunction":578}],511:[function(e,t,r){"use strict";function n(e){return e.reduce(function(e,t){return e.concat(t instanceof c.UnsubscriptionError?t.errors:t)},[])}var o=e("./util/isArray"),i=e("./util/isObject"),s=e("./util/isFunction"),u=e("./util/tryCatch"),a=e("./util/errorObject"),c=e("./util/UnsubscriptionError"),f=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this,f=r._parent,l=r._parents,d=r._unsubscribe,p=r._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,b=l?l.length:0;f;)f.remove(this),f=++h<b&&l[h]||null;if(s.isFunction(d)){var v=u.tryCatch(d).call(this);v===a.errorObject&&(t=!0,e=e||(a.errorObject.e instanceof c.UnsubscriptionError?n(a.errorObject.e.errors):[a.errorObject.e]))}if(o.isArray(p))for(h=-1,b=p.length;++h<b;){var y=p[h];if(i.isObject(y)){var v=u.tryCatch(y.unsubscribe).call(y);if(v===a.errorObject){t=!0,e=e||[];var _=a.errorObject.e;_ instanceof c.UnsubscriptionError?e=e.concat(n(_.errors)):e.push(_)}}}if(t)throw new c.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;r=new e,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=this._subscriptions||(this._subscriptions=[]);return o.push(r),r._addParent(this),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);r!==-1&&t.splice(r,1)}},e.prototype._addParent=function(e){var t=this,r=t._parent,n=t._parents;r&&r!==e?n?n.indexOf(e)===-1&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();r.Subscription=f},{"./util/UnsubscriptionError":573,"./util/errorObject":574,"./util/isArray":575,"./util/isFunction":578,"./util/isObject":580,"./util/tryCatch":586}],512:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../observable/from");n.Observable.from=o.from},{"../../Observable":503,"../../observable/from":538}],513:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../observable/fromEvent");n.Observable.fromEvent=o.fromEvent},{"../../Observable":503,"../../observable/fromEvent":539}],514:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../observable/interval");n.Observable.interval=o.interval},{"../../Observable":503,"../../observable/interval":540}],515:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../observable/merge");n.Observable.merge=o.merge},{"../../Observable":503,"../../observable/merge":541}],516:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/delay");n.Observable.prototype.delay=o.delay},{"../../Observable":503,"../../operator/delay":543}],517:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/distinct");n.Observable.prototype.distinct=o.distinct},{"../../Observable":503,"../../operator/distinct":544}],518:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/distinctUntilChanged");n.Observable.prototype.distinctUntilChanged=o.distinctUntilChanged},{"../../Observable":503,"../../operator/distinctUntilChanged":545}],519:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/do");n.Observable.prototype.do=o._do,n.Observable.prototype._do=o._do},{"../../Observable":503,"../../operator/do":546}],520:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/filter");n.Observable.prototype.filter=o.filter},{"../../Observable":503,"../../operator/filter":547}],521:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/first");n.Observable.prototype.first=o.first},{"../../Observable":503,"../../operator/first":548}],522:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/map");n.Observable.prototype.map=o.map},{"../../Observable":503,"../../operator/map":549}],523:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/mergeMap");n.Observable.prototype.mergeMap=o.mergeMap,n.Observable.prototype.flatMap=o.mergeMap},{"../../Observable":503,"../../operator/mergeMap":552}],524:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/publishReplay");n.Observable.prototype.publishReplay=o.publishReplay},{"../../Observable":503,"../../operator/publishReplay":555}],525:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/startWith");n.Observable.prototype.startWith=o.startWith},{"../../Observable":503,"../../operator/startWith":556}],526:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/timeout");n.Observable.prototype.timeout=o.timeout},{"../../Observable":503,"../../operator/timeout":557}],527:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/toPromise");n.Observable.prototype.toPromise=o.toPromise},{"../../Observable":503,"../../operator/toPromise":558}],528:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("../Observable"),i=e("./ScalarObservable"),s=e("./EmptyObservable"),u=function(e){function t(t,r){e.call(this),this.arrayLike=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){var n=e.length;return 0===n?new s.EmptyObservable:1===n?new i.ScalarObservable(e[0],r):new t(e,r)},t.dispatch=function(e){var t=e.arrayLike,r=e.index,n=e.length,o=e.subscriber;if(!o.closed){if(r>=n)return void o.complete();o.next(t[r]),e.index=r+1,this.schedule(e)}},t.prototype._subscribe=function(e){var r=0,n=this,o=n.arrayLike,i=n.scheduler,s=o.length;if(i)return i.schedule(t.dispatch,0,{arrayLike:o,index:r,length:s,subscriber:e});for(var u=0;u<s&&!e.closed;u++)e.next(o[u]);e.complete()},t}(o.Observable);r.ArrayLikeObservable=u},{"../Observable":503,"./EmptyObservable":531,"./ScalarObservable":537}],529:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("../Observable"),i=e("./ScalarObservable"),s=e("./EmptyObservable"),u=e("../util/isScheduler"),a=function(e){function t(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){return new t(e,r)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=e[e.length-1];u.isScheduler(n)?e.pop():n=null;var o=e.length;return o>1?new t(e,n):1===o?new i.ScalarObservable(e[0],n):new s.EmptyObservable(n)},t.dispatch=function(e){var t=e.array,r=e.index,n=e.count,o=e.subscriber;return r>=n?void o.complete():(o.next(t[r]),void(o.closed||(e.index=r+1,this.schedule(e))))},t.prototype._subscribe=function(e){var r=0,n=this.array,o=n.length,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{array:n,index:r,count:o,subscriber:e});for(var s=0;s<o&&!e.closed;s++)e.next(n[s]);e.complete()},t}(o.Observable);r.ArrayObservable=a},{"../Observable":503,"../util/isScheduler":582,"./EmptyObservable":531,"./ScalarObservable":537}],530:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("../Subject"),i=e("../Observable"),s=e("../Subscriber"),u=e("../Subscription"),a=function(e){function t(t,r){e.call(this),this.source=t,this.subjectFactory=r,this._refCount=0}return n(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(e=this._connection=new u.Subscription,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed?(this._connection=null,e=u.Subscription.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return this.lift(new f(this))},t}(i.Observable);r.ConnectableObservable=a,r.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subscribe:{value:a.prototype._subscribe},getSubject:{value:a.prototype.getSubject},connect:{value:a.prototype.connect},refCount:{value:a.prototype.refCount}};var c=function(e){function t(t,r){e.call(this,t),this.connectable=r}return n(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.SubjectSubscriber),f=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new l(e,r),o=t.subscribe(n);return n.closed||(n.connection=r.connect()),o},e}(),l=function(e){function t(t,r){e.call(this,t),this.connectable=r}return n(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(!e)return void(this.connection=null);this.connectable=null;var t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()},t}(s.Subscriber)},{"../Observable":503,"../Subject":508,"../Subscriber":510,"../Subscription":511}],531:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("../Observable"),i=function(e){function t(t){e.call(this),this.scheduler=t}return n(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){var t=e.subscriber;t.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;return r?r.schedule(t.dispatch,0,{subscriber:e}):void e.complete()},t}(o.Observable);r.EmptyObservable=i},{"../Observable":503}],532:[function(e,t,r){"use strict";function n(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function o(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}function i(e){return!!e&&"[object NodeList]"===h.call(e)}function s(e){return!!e&&"[object HTMLCollection]"===h.call(e)}function u(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}var a=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},c=e("../Observable"),f=e("../util/tryCatch"),l=e("../util/isFunction"),d=e("../util/errorObject"),p=e("../Subscription"),h=Object.prototype.toString,b=function(e){function t(t,r,n,o){e.call(this),this.sourceObj=t,this.eventName=r,this.selector=n,this.options=o}return a(t,e),t.create=function(e,r,n,o){return l.isFunction(n)&&(o=n,n=void 0),new t(e,r,o,n)},t.setupSubscription=function(e,r,a,c,f){var l;if(i(e)||s(e))for(var d=0,h=e.length;d<h;d++)t.setupSubscription(e[d],r,a,c,f);else if(u(e)){var b=e;e.addEventListener(r,a,f),l=function(){return b.removeEventListener(r,a)}}else if(o(e)){var v=e;e.on(r,a),l=function(){return v.off(r,a)}}else{if(!n(e))throw new TypeError("Invalid event target");var y=e;e.addListener(r,a),l=function(){return y.removeListener(r,a)}}c.add(new p.Subscription(l))},t.prototype._subscribe=function(e){var r=this.sourceObj,n=this.eventName,o=this.options,i=this.selector,s=i?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=f.tryCatch(i).apply(void 0,t);n===d.errorObject?e.error(d.errorObject.e):e.next(n)}:function(t){return e.next(t)};t.setupSubscription(r,n,s,e,o)},t}(c.Observable);r.FromEventObservable=b},{"../Observable":503,"../Subscription":511,"../util/errorObject":574,"../util/isFunction":578,"../util/tryCatch":586}],533:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("../util/isArray"),i=e("../util/isArrayLike"),s=e("../util/isPromise"),u=e("./PromiseObservable"),a=e("./IteratorObservable"),c=e("./ArrayObservable"),f=e("./ArrayLikeObservable"),l=e("../symbol/iterator"),d=e("../Observable"),p=e("../operator/observeOn"),h=e("../symbol/observable"),b=function(e){function t(t,r){e.call(this,null),this.ish=t,this.scheduler=r}return n(t,e),t.create=function(e,r){if(null!=e){if("function"==typeof e[h.$$observable])return e instanceof d.Observable&&!r?e:new t(e,r);if(o.isArray(e))return new c.ArrayObservable(e,r);if(s.isPromise(e))return new u.PromiseObservable(e,r);if("function"==typeof e[l.$$iterator]||"string"==typeof e)return new a.IteratorObservable(e,r);if(i.isArrayLike(e))return new f.ArrayLikeObservable(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,r=this.scheduler;return null==r?t[h.$$observable]().subscribe(e):t[h.$$observable]().subscribe(new p.ObserveOnSubscriber(e,r,0))},t}(d.Observable);r.FromObservable=b},{"../Observable":503,"../operator/observeOn":554,"../symbol/iterator":566,"../symbol/observable":567,"../util/isArray":575,"../util/isArrayLike":576,"../util/isPromise":581,"./ArrayLikeObservable":528,"./ArrayObservable":529,"./IteratorObservable":535,"./PromiseObservable":536}],534:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("../util/isNumeric"),i=e("../Observable"),s=e("../scheduler/async"),u=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=s.async),e.call(this),this.period=t,this.scheduler=r,(!o.isNumeric(t)||t<0)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=s.async)}return n(t,e),t.create=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=s.async),new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.subscriber,n=e.period;r.next(t),r.closed||(e.index+=1,this.schedule(e,n))},t.prototype._subscribe=function(e){var r=0,n=this.period,o=this.scheduler;e.add(o.schedule(t.dispatch,n,{index:r,subscriber:e,period:n}))},t}(i.Observable);r.IntervalObservable=u},{"../Observable":503,"../scheduler/async":564,"../util/isNumeric":579}],535:[function(e,t,r){"use strict";function n(e){var t=e[f.$$iterator];if(!t&&"string"==typeof e)return new d(e);if(!t&&void 0!==e.length)return new p(e);if(!t)throw new TypeError("object is not iterable");return e[f.$$iterator]()}function o(e){var t=+e.length;return isNaN(t)?0:0!==t&&i(t)?(t=s(t)*Math.floor(Math.abs(t)),t<=0?0:t>h?h:t):t}function i(e){return"number"==typeof e&&a.root.isFinite(e)}function s(e){var t=+e;return 0===t?t:isNaN(t)?t:t<0?-1:1}var u=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=e("../util/root"),c=e("../Observable"),f=e("../symbol/iterator"),l=function(e){function t(t,r){if(e.call(this),this.scheduler=r,null==t)throw new Error("iterator cannot be null.");this.iterator=n(t)}return u(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.hasError,n=e.iterator,o=e.subscriber;if(r)return void o.error(e.error);var i=n.next();return i.done?void o.complete():(o.next(i.value),e.index=t+1,o.closed?void("function"==typeof n.return&&n.return()):void this.schedule(e))},t.prototype._subscribe=function(e){var r=0,n=this,o=n.iterator,i=n.scheduler;if(i)return i.schedule(t.dispatch,0,{index:r,iterator:o,subscriber:e});for(;;){var s=o.next();if(s.done){e.complete();break}if(e.next(s.value),e.closed){"function"==typeof o.return&&o.return();break}}},t}(c.Observable);r.IteratorObservable=l;var d=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),this.str=e,this.idx=t,this.len=r}return e.prototype[f.$$iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),p=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=o(e)),this.arr=e,this.idx=t,this.len=r}return e.prototype[f.$$iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}(),h=Math.pow(2,53)-1},{"../Observable":503,"../symbol/iterator":566,"../util/root":583}],536:[function(e,t,r){"use strict";function n(e){var t=e.value,r=e.subscriber;r.closed||(r.next(t),r.complete())}function o(e){var t=e.err,r=e.subscriber;r.closed||r.error(t)}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=e("../util/root"),u=e("../Observable"),a=function(e){function t(t,r){e.call(this),this.promise=t,this.scheduler=r}return i(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=this.promise,i=this.scheduler;if(null==i)this._isScalar?e.closed||(e.next(this.value),e.complete()):r.then(function(r){t.value=r,t._isScalar=!0,e.closed||(e.next(r),e.complete())},function(t){e.closed||e.error(t)}).then(null,function(e){s.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return i.schedule(n,0,{value:this.value,subscriber:e})}else r.then(function(r){t.value=r,t._isScalar=!0,e.closed||e.add(i.schedule(n,0,{value:r,subscriber:e}))},function(t){e.closed||e.add(i.schedule(o,0,{err:t,subscriber:e}))}).then(null,function(e){s.root.setTimeout(function(){throw e})})},t}(u.Observable);r.PromiseObservable=a},{"../Observable":503,"../util/root":583}],537:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("../Observable"),i=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,n=e.subscriber;return t?void n.complete():(n.next(r),void(n.closed||(e.done=!0,this.schedule(e))))},t.prototype._subscribe=function(e){var r=this.value,n=this.scheduler;return n?n.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e}):(e.next(r),void(e.closed||e.complete()))},t}(o.Observable);r.ScalarObservable=i},{"../Observable":503}],538:[function(e,t,r){"use strict";var n=e("./FromObservable");r.from=n.FromObservable.create},{"./FromObservable":533}],539:[function(e,t,r){"use strict";var n=e("./FromEventObservable");r.fromEvent=n.FromEventObservable.create},{"./FromEventObservable":532}],540:[function(e,t,r){"use strict";var n=e("./IntervalObservable");r.interval=n.IntervalObservable.create},{"./IntervalObservable":534}],541:[function(e,t,r){"use strict";var n=e("../operator/merge");r.merge=n.mergeStatic},{"../operator/merge":550}],542:[function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this.lift.call(o.apply(void 0,[this].concat(e)))}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,n=e;return s.isScheduler(n[e.length-1])&&(r=n.pop()),null===r&&1===e.length&&e[0]instanceof i.Observable?e[0]:new u.ArrayObservable(e,r).lift(new a.MergeAllOperator(1))}var i=e("../Observable"),s=e("../util/isScheduler"),u=e("../observable/ArrayObservable"),a=e("./mergeAll");r.concat=n,r.concatStatic=o},{"../Observable":503,"../observable/ArrayObservable":529,"../util/isScheduler":582,"./mergeAll":551}],543:[function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=i.async);var r=s.isDate(e),n=r?+e-t.now():Math.abs(e);return this.lift(new c(n,t))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../scheduler/async"),s=e("../util/isDate"),u=e("../Subscriber"),a=e("../Notification");r.delay=n;var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.delay,this.scheduler))},e}(),f=function(e){function t(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return o(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,o=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(o);if(r.length>0){var i=Math.max(0,r[0].time-n.now());this.schedule(e,i)}else t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(this.errored!==!0){var t=this.scheduler,r=new l(t.now()+this.delay,e);this.queue.push(r),this.active===!1&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(a.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(a.Notification.createComplete())},t}(u.Subscriber),l=function(){function e(e,t){this.time=e,this.notification=t}return e}()},{"../Notification":502,"../Subscriber":510,"../scheduler/async":564,"../util/isDate":577}],544:[function(e,t,r){"use strict";function n(e,t){return this.lift(new a(e,t))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../OuterSubscriber"),s=e("../util/subscribeToResult"),u=e("../util/Set");r.distinct=n;var a=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.flushes))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.keySelector=r,this.values=new u.Set,n&&this.add(s.subscribeToResult(this,n))}return o(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(e){return void r.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))},t}(i.OuterSubscriber);r.DistinctSubscriber=c},{"../OuterSubscriber":505,"../util/Set":571,"../util/subscribeToResult":584}],545:[function(e,t,r){"use strict";function n(e,t){return this.lift(new a(e,t))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../Subscriber"),s=e("../util/tryCatch"),u=e("../util/errorObject");
r.distinctUntilChanged=n;var a=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compare,this.keySelector))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return o(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=this.keySelector,r=e;if(t&&(r=s.tryCatch(this.keySelector)(e),r===u.errorObject))return this.destination.error(u.errorObject.e);var n=!1;if(this.hasKey){if(n=s.tryCatch(this.compare)(this.key,r),n===u.errorObject)return this.destination.error(u.errorObject.e)}else this.hasKey=!0;Boolean(n)===!1&&(this.key=r,this.destination.next(e))},t}(i.Subscriber)},{"../Subscriber":510,"../util/errorObject":574,"../util/tryCatch":586}],546:[function(e,t,r){"use strict";function n(e,t,r){return this.lift(new s(e,t,r))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../Subscriber");r._do=n;var s=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))},e}(),u=function(e){function t(t,r,n,o){e.call(this,t);var s=new i.Subscriber(r,n,o);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return o(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(i.Subscriber)},{"../Subscriber":510}],547:[function(e,t,r){"use strict";function n(e,t){return this.lift(new s(e,t))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../Subscriber");r.filter=n;var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.thisArg))},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.thisArg=n,this.count=0,this.predicate=r}return o(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.Subscriber)},{"../Subscriber":510}],548:[function(e,t,r){"use strict";function n(e,t,r){return this.lift(new u(e,t,r,this))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../Subscriber"),s=e("../util/EmptyError");r.first=n;var u=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),a=function(e){function t(t,r,n,o,i){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=o,this.source=i,this.index=0,this.hasCompleted=!1,this._emitted=!1}return o(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}r&&this._emit(e,t)},t.prototype._emit=function(e,t){return this.resultSelector?void this._tryResultSelector(e,t):void this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(r)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||e.error(new s.EmptyError):(e.next(this.defaultValue),e.complete())},t}(i.Subscriber)},{"../Subscriber":510,"../util/EmptyError":569}],549:[function(e,t,r){"use strict";function n(e,t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(e,t))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../Subscriber");r.map=n;var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.thisArg))},e}();r.MapOperator=s;var u=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.count=0,this.thisArg=n||this}return o(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.Subscriber)},{"../Subscriber":510}],550:[function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this.lift.call(o.apply(void 0,[this].concat(e)))}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,o=e[e.length-1];return a.isScheduler(o)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===n&&1===e.length&&e[0]instanceof i.Observable?e[0]:new s.ArrayObservable(e,n).lift(new u.MergeAllOperator(r))}var i=e("../Observable"),s=e("../observable/ArrayObservable"),u=e("./mergeAll"),a=e("../util/isScheduler");r.merge=n,r.mergeStatic=o},{"../Observable":503,"../observable/ArrayObservable":529,"../util/isScheduler":582,"./mergeAll":551}],551:[function(e,t,r){"use strict";function n(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),this.lift(new u(e))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../OuterSubscriber"),s=e("../util/subscribeToResult");r.mergeAll=n;var u=function(){function e(e){this.concurrent=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.concurrent))},e}();r.MergeAllOperator=u;var a=function(e){function t(t,r){e.call(this,t),this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0}return o(t,e),t.prototype._next=function(e){this.active<this.concurrent?(this.active++,this.add(s.subscribeToResult(this,e))):this.buffer.push(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber);r.MergeAllSubscriber=a},{"../OuterSubscriber":505,"../util/subscribeToResult":584}],552:[function(e,t,r){"use strict";function n(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof t&&(r=t,t=null),this.lift(new u(e,t,r))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../util/subscribeToResult"),s=e("../OuterSubscriber");r.mergeMap=n;var u=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.resultSelector,this.concurrent))},e}();r.MergeMapOperator=u;var a=function(e){function t(t,r,n,o){void 0===o&&(o=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=n,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){this.add(i.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,o){this.resultSelector?this._notifyResultSelector(e,t,r,n):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,r,n){var o;try{o=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(o)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(s.OuterSubscriber);r.MergeMapSubscriber=a},{"../OuterSubscriber":505,"../util/subscribeToResult":584}],553:[function(e,t,r){"use strict";function n(e,t){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return this.lift(new i(r,t));var n=Object.create(this,o.connectableObservableDescriptor);return n.source=this,n.subjectFactory=r,n}var o=e("../observable/ConnectableObservable");r.multicast=n;var i=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var r=this.selector,n=this.subjectFactory(),o=r(n).subscribe(e);return o.add(t.subscribe(n)),o},e}();r.MulticastOperator=i},{"../observable/ConnectableObservable":530}],554:[function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=0),this.lift(new u(e,t))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../Subscriber"),s=e("../Notification");r.observeOn=n;var u=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))},e}();r.ObserveOnOperator=u;var a=function(e){function t(t,r,n){void 0===n&&(n=0),e.call(this,t),this.scheduler=r,this.delay=n}return o(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(s.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(s.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},t}(i.Subscriber);r.ObserveOnSubscriber=a;var c=function(){function e(e,t){this.notification=e,this.destination=t}return e}();r.ObserveOnMessage=c},{"../Notification":502,"../Subscriber":510}],555:[function(e,t,r){"use strict";function n(e,t,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),i.multicast.call(this,new o.ReplaySubject(e,t,r))}var o=e("../ReplaySubject"),i=e("./multicast");r.publishReplay=n},{"../ReplaySubject":506,"./multicast":553}],556:[function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];a.isScheduler(r)?e.pop():r=null;var n=e.length;return 1===n?u.concatStatic(new i.ScalarObservable(e[0],r),this):n>1?u.concatStatic(new o.ArrayObservable(e,r),this):u.concatStatic(new s.EmptyObservable(r),this)}var o=e("../observable/ArrayObservable"),i=e("../observable/ScalarObservable"),s=e("../observable/EmptyObservable"),u=e("./concat"),a=e("../util/isScheduler");r.startWith=n},{"../observable/ArrayObservable":529,"../observable/EmptyObservable":531,"../observable/ScalarObservable":537,"../util/isScheduler":582,"./concat":542}],557:[function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=i.async);var r=s.isDate(e),n=r?+e-t.now():Math.abs(e);return this.lift(new c(n,r,t,new a.TimeoutError))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../scheduler/async"),s=e("../util/isDate"),u=e("../Subscriber"),a=e("../util/TimeoutError");r.timeout=n;var c=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.scheduler=r,this.errorInstance=n}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},e}(),f=function(e){function t(t,r,n,o,i){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.scheduler=o,this.errorInstance=i,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return o(t,e),Object.defineProperty(t.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),t.dispatchTimeout=function(e){var t=e.subscriber,r=e.index;t.hasCompleted||t.previousIndex!==r||t.notifyTimeout()},t.prototype.scheduleTimeout=function(){var e=this.index;this.scheduler.schedule(t.dispatchTimeout,this.waitFor,{subscriber:this,index:e}),this.index++,this._previousIndex=e},t.prototype._next=function(e){this.destination.next(e),this.absoluteTimeout||this.scheduleTimeout()},t.prototype._error=function(e){this.destination.error(e),this._hasCompleted=!0},t.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},t.prototype.notifyTimeout=function(){this.error(this.errorInstance)},t}(u.Subscriber)},{"../Subscriber":510,"../scheduler/async":564,"../util/TimeoutError":572,"../util/isDate":577}],558:[function(e,t,r){"use strict";function n(e){var t=this;if(e||(o.root.Rx&&o.root.Rx.config&&o.root.Rx.config.Promise?e=o.root.Rx.config.Promise:o.root.Promise&&(e=o.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})}var o=e("../util/root");r.toPromise=n},{"../util/root":583}],559:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("../Subscription"),i=function(e){function t(t,r){e.call(this)}return n(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(o.Subscription);r.Action=i},{"../Subscription":511}],560:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("../util/root"),i=e("./Action"),s=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r,this.pending=!1}return n(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),o.root.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){return void 0===r&&(r=0),null!==r&&this.delay===r?t:o.root.clearInterval(t)&&void 0||void 0},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);return r?r:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,n!==-1&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null))},t}(i.Action);r.AsyncAction=s},{"../util/root":583,"./Action":559}],561:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("../Scheduler"),i=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)return void t.push(e);var r;this.active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}},t}(o.Scheduler);r.AsyncScheduler=i},{"../Scheduler":507}],562:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("./AsyncAction"),i=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(o.AsyncAction);r.QueueAction=i},{"./AsyncAction":560}],563:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=e("./AsyncScheduler"),i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(o.AsyncScheduler);r.QueueScheduler=i},{"./AsyncScheduler":561}],564:[function(e,t,r){"use strict";var n=e("./AsyncAction"),o=e("./AsyncScheduler");r.async=new o.AsyncScheduler(n.AsyncAction)},{"./AsyncAction":560,"./AsyncScheduler":561}],565:[function(e,t,r){"use strict";var n=e("./QueueAction"),o=e("./QueueScheduler");r.queue=new o.QueueScheduler(n.QueueAction)},{"./QueueAction":562,"./QueueScheduler":563}],566:[function(e,t,r){"use strict";function n(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var r=e.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=e.Map;if(n)for(var o=Object.getOwnPropertyNames(n.prototype),i=0;i<o.length;++i){var s=o[i];if("entries"!==s&&"size"!==s&&n.prototype[s]===n.prototype.entries)return s}return"@@iterator"}var o=e("../util/root");r.symbolIteratorPonyfill=n,r.$$iterator=n(o.root)},{"../util/root":583}],567:[function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}var o=e("../util/root");r.getSymbolObservable=n,r.$$observable=n(o.root)},{"../util/root":583}],568:[function(e,t,r){"use strict";var n=e("../util/root"),o=n.root.Symbol;r.$$rxSubscriber="function"==typeof o&&"function"==typeof o.for?o.for("rxSubscriber"):"@@rxSubscriber"},{"../util/root":583}],569:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return n(t,e),t}(Error);r.EmptyError=o},{}],570:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return n(t,e),t}(Error);r.ObjectUnsubscribedError=o},{}],571:[function(e,t,r){"use strict";function n(){return function(){function e(){this._values=[]}return e.prototype.add=function(e){this.has(e)||this._values.push(e)},e.prototype.has=function(e){return this._values.indexOf(e)!==-1},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._values.length=0},e}()}var o=e("./root");r.minimalSetImpl=n,r.Set=o.root.Set||n()},{"./root":583}],572:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){var t=e.call(this,"Timeout has occurred");this.name=t.name="TimeoutError",this.stack=t.stack,this.message=t.message}return n(t,e),t}(Error);r.TimeoutError=o},{}],573:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t){e.call(this),this.errors=t;var r=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return n(t,e),t}(Error);r.UnsubscriptionError=o},{}],574:[function(e,t,r){"use strict";r.errorObject={e:{}}},{}],575:[function(e,t,r){"use strict";r.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},{}],576:[function(e,t,r){"use strict";r.isArrayLike=function(e){return e&&"number"==typeof e.length}},{}],577:[function(e,t,r){"use strict";function n(e){return e instanceof Date&&!isNaN(+e)}r.isDate=n},{}],578:[function(e,t,r){"use strict";function n(e){return"function"==typeof e}r.isFunction=n},{}],579:[function(e,t,r){"use strict";function n(e){return!o.isArray(e)&&e-parseFloat(e)+1>=0}var o=e("../util/isArray");r.isNumeric=n},{"../util/isArray":575}],580:[function(e,t,r){"use strict";function n(e){return null!=e&&"object"==typeof e}r.isObject=n},{}],581:[function(e,t,r){"use strict";function n(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}r.isPromise=n},{}],582:[function(e,t,r){"use strict";function n(e){return e&&"function"==typeof e.schedule}r.isScheduler=n},{}],583:[function(e,t,r){(function(e){"use strict";if(r.root="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e,!r.root)throw new Error("RxJS could not find any global context (window, self, global)")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],584:[function(e,t,r){"use strict";function n(e,t,r,n){var d=new f.InnerSubscriber(e,r,n);if(d.closed)return null;if(t instanceof a.Observable)return t._isScalar?(d.next(t.value),d.complete(),null):t.subscribe(d);if(i.isArrayLike(t)){for(var p=0,h=t.length;p<h&&!d.closed;p++)d.next(t[p]);d.closed||d.complete()}else{if(s.isPromise(t))return t.then(function(e){d.closed||(d.next(e),d.complete())},function(e){return d.error(e)}).then(null,function(e){o.root.setTimeout(function(){throw e})}),d;if(t&&"function"==typeof t[c.$$iterator])for(var b=t[c.$$iterator]();;){var v=b.next();if(v.done){d.complete();break}if(d.next(v.value),d.closed)break}else if(t&&"function"==typeof t[l.$$observable]){var y=t[l.$$observable]();if("function"==typeof y.subscribe)return y.subscribe(new f.InnerSubscriber(e,r,n));d.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var _=u.isObject(t)?"an invalid object":"'"+t+"'",m="You provided "+_+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";d.error(new TypeError(m))}}return null}var o=e("./root"),i=e("./isArrayLike"),s=e("./isPromise"),u=e("./isObject"),a=e("../Observable"),c=e("../symbol/iterator"),f=e("../InnerSubscriber"),l=e("../symbol/observable");r.subscribeToResult=n},{"../InnerSubscriber":501,"../Observable":503,"../symbol/iterator":566,"../symbol/observable":567,"./isArrayLike":576,"./isObject":580,"./isPromise":581,"./root":583}],585:[function(e,t,r){"use strict";function n(e,t,r){if(e){if(e instanceof o.Subscriber)return e;if(e[i.$$rxSubscriber])return e[i.$$rxSubscriber]()}return e||t||r?new o.Subscriber(e,t,r):new o.Subscriber(s.empty)}var o=e("../Subscriber"),i=e("../symbol/rxSubscriber"),s=e("../Observer");r.toSubscriber=n},{"../Observer":504,"../Subscriber":510,"../symbol/rxSubscriber":568}],586:[function(e,t,r){"use strict";function n(){try{return i.apply(this,arguments)}catch(e){return s.errorObject.e=e,s.errorObject}}function o(e){return i=e,n}var i,s=e("./errorObject");r.tryCatch=o},{"./errorObject":574}],587:[function(e,t,r){(function(){var e={}.hasOwnProperty,r=[].slice;t.exports=function(t,n){var o,i,s,u;i=[],u=[];for(o in n)e.call(n,o)&&(s=n[o],"this"!==o&&(i.push(o),u.push(s)));return Function.apply(null,r.call(i).concat([t])).apply(n.this,u)}}).call(this)},{}],588:[function(e,t,r){t.exports=function(e,t,r){var n=[],o=e.length;if(0===o)return n;var i=t<0?Math.max(0,t+o):t||0;for(void 0!==r&&(o=r<0?r+o:r);o-- >i;)n[o-i]=e[o];return n}},{}],589:[function(e,t,r){!function(e){if("object"==typeof r)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var n;try{n=window}catch(e){n=self}n.SparkMD5=e()}}(function(e){"use strict";function t(e,t){var r=e[0],n=e[1],o=e[2],i=e[3];r+=(n&o|~n&i)+t[0]-680876936|0,r=(r<<7|r>>>25)+n|0,i+=(r&n|~r&o)+t[1]-389564586|0,i=(i<<12|i>>>20)+r|0,o+=(i&r|~i&n)+t[2]+606105819|0,o=(o<<17|o>>>15)+i|0,n+=(o&i|~o&r)+t[3]-1044525330|0,n=(n<<22|n>>>10)+o|0,r+=(n&o|~n&i)+t[4]-176418897|0,r=(r<<7|r>>>25)+n|0,i+=(r&n|~r&o)+t[5]+1200080426|0,i=(i<<12|i>>>20)+r|0,o+=(i&r|~i&n)+t[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,n+=(o&i|~o&r)+t[7]-45705983|0,n=(n<<22|n>>>10)+o|0,r+=(n&o|~n&i)+t[8]+1770035416|0,r=(r<<7|r>>>25)+n|0,i+=(r&n|~r&o)+t[9]-1958414417|0,i=(i<<12|i>>>20)+r|0,o+=(i&r|~i&n)+t[10]-42063|0,o=(o<<17|o>>>15)+i|0,n+=(o&i|~o&r)+t[11]-1990404162|0,n=(n<<22|n>>>10)+o|0,r+=(n&o|~n&i)+t[12]+1804603682|0,r=(r<<7|r>>>25)+n|0,i+=(r&n|~r&o)+t[13]-40341101|0,i=(i<<12|i>>>20)+r|0,o+=(i&r|~i&n)+t[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,n+=(o&i|~o&r)+t[15]+1236535329|0,n=(n<<22|n>>>10)+o|0,r+=(n&i|o&~i)+t[1]-165796510|0,r=(r<<5|r>>>27)+n|0,i+=(r&o|n&~o)+t[6]-1069501632|0,i=(i<<9|i>>>23)+r|0,o+=(i&n|r&~n)+t[11]+643717713|0,o=(o<<14|o>>>18)+i|0,n+=(o&r|i&~r)+t[0]-373897302|0,n=(n<<20|n>>>12)+o|0,r+=(n&i|o&~i)+t[5]-701558691|0,r=(r<<5|r>>>27)+n|0,i+=(r&o|n&~o)+t[10]+38016083|0,i=(i<<9|i>>>23)+r|0,o+=(i&n|r&~n)+t[15]-660478335|0,o=(o<<14|o>>>18)+i|0,n+=(o&r|i&~r)+t[4]-405537848|0,n=(n<<20|n>>>12)+o|0,r+=(n&i|o&~i)+t[9]+568446438|0,r=(r<<5|r>>>27)+n|0,i+=(r&o|n&~o)+t[14]-1019803690|0,i=(i<<9|i>>>23)+r|0,o+=(i&n|r&~n)+t[3]-187363961|0,o=(o<<14|o>>>18)+i|0,n+=(o&r|i&~r)+t[8]+1163531501|0,n=(n<<20|n>>>12)+o|0,r+=(n&i|o&~i)+t[13]-1444681467|0,r=(r<<5|r>>>27)+n|0,i+=(r&o|n&~o)+t[2]-51403784|0,i=(i<<9|i>>>23)+r|0,o+=(i&n|r&~n)+t[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,n+=(o&r|i&~r)+t[12]-1926607734|0,n=(n<<20|n>>>12)+o|0,r+=(n^o^i)+t[5]-378558|0,r=(r<<4|r>>>28)+n|0,i+=(r^n^o)+t[8]-2022574463|0,i=(i<<11|i>>>21)+r|0,o+=(i^r^n)+t[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,n+=(o^i^r)+t[14]-35309556|0,n=(n<<23|n>>>9)+o|0,r+=(n^o^i)+t[1]-1530992060|0,r=(r<<4|r>>>28)+n|0,i+=(r^n^o)+t[4]+1272893353|0,i=(i<<11|i>>>21)+r|0,o+=(i^r^n)+t[7]-155497632|0,o=(o<<16|o>>>16)+i|0,n+=(o^i^r)+t[10]-1094730640|0,n=(n<<23|n>>>9)+o|0,r+=(n^o^i)+t[13]+681279174|0,r=(r<<4|r>>>28)+n|0,i+=(r^n^o)+t[0]-358537222|0,i=(i<<11|i>>>21)+r|0,o+=(i^r^n)+t[3]-722521979|0,o=(o<<16|o>>>16)+i|0,n+=(o^i^r)+t[6]+76029189|0,n=(n<<23|n>>>9)+o|0,r+=(n^o^i)+t[9]-640364487|0,r=(r<<4|r>>>28)+n|0,i+=(r^n^o)+t[12]-421815835|0,i=(i<<11|i>>>21)+r|0,o+=(i^r^n)+t[15]+530742520|0,o=(o<<16|o>>>16)+i|0,n+=(o^i^r)+t[2]-995338651|0,n=(n<<23|n>>>9)+o|0,r+=(o^(n|~i))+t[0]-198630844|0,r=(r<<6|r>>>26)+n|0,i+=(n^(r|~o))+t[7]+1126891415|0,i=(i<<10|i>>>22)+r|0,o+=(r^(i|~n))+t[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,n+=(i^(o|~r))+t[5]-57434055|0,n=(n<<21|n>>>11)+o|0,r+=(o^(n|~i))+t[12]+1700485571|0,r=(r<<6|r>>>26)+n|0,i+=(n^(r|~o))+t[3]-1894986606|0,i=(i<<10|i>>>22)+r|0,o+=(r^(i|~n))+t[10]-1051523|0,o=(o<<15|o>>>17)+i|0,n+=(i^(o|~r))+t[1]-2054922799|0,n=(n<<21|n>>>11)+o|0,r+=(o^(n|~i))+t[8]+1873313359|0,r=(r<<6|r>>>26)+n|0,i+=(n^(r|~o))+t[15]-30611744|0,i=(i<<10|i>>>22)+r|0,o+=(r^(i|~n))+t[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,n+=(i^(o|~r))+t[13]+1309151649|0,n=(n<<21|n>>>11)+o|0,r+=(o^(n|~i))+t[4]-145523070|0,r=(r<<6|r>>>26)+n|0,i+=(n^(r|~o))+t[11]-1120210379|0,i=(i<<10|i>>>22)+r|0,o+=(r^(i|~n))+t[2]+718787259|0,o=(o<<15|o>>>17)+i|0,n+=(i^(o|~r))+t[9]-343485551|0,n=(n<<21|n>>>11)+o|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function r(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function o(e){var n,o,i,s,u,a,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)t(f,r(e.substring(n-64,n)));for(e=e.substring(n-64),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(t(f,i),n=0;n<16;n+=1)i[n]=0;return s=8*c,s=s.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(s[2],16),a=parseInt(s[1],16)||0,i[14]=u,i[15]=a,t(f,i),f}function i(e){var r,o,i,s,u,a,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=c;r+=64)t(f,n(e.subarray(r-64,r)));for(e=r-64<c?e.subarray(r-64):new Uint8Array(0),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<o;r+=1)i[r>>2]|=e[r]<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(t(f,i),r=0;r<16;r+=1)i[r]=0;return s=8*c,s=s.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(s[2],16),a=parseInt(s[1],16)||0,i[14]=u,i[15]=a,t(f,i),f}function s(e){var t,r="";for(t=0;t<4;t+=1)r+=b[e>>8*t+4&15]+b[e>>8*t&15];return r}function u(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function a(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var r,n=e.length,o=new ArrayBuffer(n),i=new Uint8Array(o);for(r=0;r<n;r+=1)i[r]=e.charCodeAt(r);return t?i:o}function f(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function l(e,t,r){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e)),n.set(new Uint8Array(t),e.byteLength),r?n:n.buffer}function d(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function p(){this.reset()}var h=function(e,t){return e+t&4294967295},b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==u(o("hello"))&&(h=function(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,n){var o,i,s,u,a=this.byteLength,c=t(r,a),f=a;return n!==e&&(f=t(n,a)),
c>f?new ArrayBuffer(0):(o=f-c,i=new ArrayBuffer(o),s=new Uint8Array(i),u=new Uint8Array(this,c,o),s.set(u),i)}}(),p.prototype.append=function(e){return this.appendBinary(a(e)),this},p.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var n,o=this._buff.length;for(n=64;n<=o;n+=64)t(this._hash,r(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},p.prototype.end=function(e){var t,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),r=u(this._hash),e&&(r=d(r)),this.reset(),r},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},p.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(e,r){var n,o,i,s=r;if(e[s>>2]|=128<<(s%4<<3),s>55)for(t(this._hash,e),s=0;s<16;s+=1)e[s]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=o,e[15]=i,t(this._hash,e)},p.hash=function(e,t){return p.hashBinary(a(e),t)},p.hashBinary=function(e,t){var r=o(e),n=u(r);return t?d(n):n},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(e){var r,o=l(this._buff.buffer,e,!0),i=o.length;for(this._length+=e.byteLength,r=64;r<=i;r+=64)t(this._hash,n(o.subarray(r-64,r)));return this._buff=r-64<i?new Uint8Array(o.buffer.slice(r-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=n[t]<<(t%4<<3);return this._finish(i,o),r=u(this._hash),e&&(r=d(r)),this.reset(),r},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var e=p.prototype.getState.call(this);return e.buff=f(e.buff),e},p.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),p.prototype.setState.call(this,e)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(e,t){var r=i(new Uint8Array(e)),n=u(r);return t?d(n):n},p})},{}],590:[function(e,t,r){t.exports=function(){var e={};return e.add=function(e){var t={};return"object"==typeof window&&window.addEventListener&&"function"==typeof window.addEventListener&&(window.addEventListener("beforeunload",e,!1),t.beforeunload=e),t},e.remove=function(e,t){Object.keys(t).forEach(function(e){var r=t[e];switch(e){case"beforeunload":window.removeEventListener("beforeunload",r,!1)}})},e}()},{}],591:[function(e,t,r){t.exports=function(e){var t={},r=!1,n=!1,o=0,i={};return t.debug=function(){n=!0},t.add=function(t){o++;var s=function(e,n,o){if(!r)return r=!0,t(e,n,o)},u={};Object.keys(e).forEach(function(t){u[t]=e[t].add(s)});var a=function(){Object.keys(u).forEach(function(t){e[t].remove(s,u[t])}),n&&console.log("unload.stopListening()"),n&&console.dir(i[o])};return a.run=function(){s()},i[o]={fn:t,remove:a,listeners:u},n&&console.log("unload.add()"),n&&console.dir(i[o]),a},t.runAll=function(){r||(r=!0,Object.keys(i).forEach(function(e){i[e].fn()}))},t.removeAll=function(){Object.keys(i).forEach(function(e){i[e].remove()})},t}({node:e("./nodeJS.js"),browser:e("./browser.js")})},{"./browser.js":590,"./nodeJS.js":592}],592:[function(e,t,r){(function(e){t.exports=function(){var t={};return t.add=function(t){var r={};return"object"==typeof e&&e.on&&"function"==typeof e.on&&(r.beforeExit=function(r){var n=t(r);Promise.resolve(n).then(function(){e.exit()})},e.on("beforeExit",r.beforeExit),r.exit=function(e){var r=t(e);Promise.resolve(r)},e.on("exit",r.exit),r.SIGINT=function(r){var n=t(r);Promise.resolve(n).then(function(){e.exit()})},e.on("SIGINT",r.SIGINT),r.uncaughtException=function(r){var n=t(r);Promise.resolve(n).then(function(){e.exit()})},e.on("uncaughtException",r.uncaughtException)),r},t.remove=function(t,r){Object.keys(r).forEach(function(t){var n=r[t];switch(t){case"beforeExit":case"SIGINT":case"uncaughtException":case"exit":e.removeListener(t,n)}})},t}()}).call(this,e("_process"))},{_process:495}],593:[function(e,t,r){arguments[4][435][0].apply(r,arguments)},{dup:435}],594:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],595:[function(e,t,r){(function(t,n){function o(e,t){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(t)?n.showHidden=t:t&&r._extend(n,t),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),a(n,e,n.depth)}function i(e,t){var r=o.styles[t];return r?"["+o.colors[r][0]+"m"+e+"["+o.colors[r][1]+"m":e}function s(e,t){return e}function u(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function a(e,t,n){if(e.customInspect&&t&&S(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return m(o)||(o=a(e,o,n)),o}var i=c(e,t);if(i)return i;var s=Object.keys(t),b=u(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),O(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(t);if(0===s.length){if(S(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(k(t))return e.stylize(Date.prototype.toString.call(t),"date");if(O(t))return f(t)}var y="",_=!1,g=["{","}"];if(h(t)&&(_=!0,g=["[","]"]),S(t)){var w=t.name?": "+t.name:"";y=" [Function"+w+"]"}if(x(t)&&(y=" "+RegExp.prototype.toString.call(t)),k(t)&&(y=" "+Date.prototype.toUTCString.call(t)),O(t)&&(y=" "+f(t)),0===s.length&&(!_||0==t.length))return g[0]+y+g[1];if(n<0)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var j;return j=_?l(e,t,n,b,s):s.map(function(r){return d(e,t,n,b,r,_)}),e.seen.pop(),p(j,y,g)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return _(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,r,n,o){for(var i=[],s=0,u=t.length;s<u;++s)I(t,String(s))?i.push(d(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(d(e,t,r,n,o,!0))}),i}function d(e,t,r,n,o,i){var s,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),I(n,o)||(s="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=v(r)?a(e,c.value,null):a(e,c.value,r-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),w(s)){if(i&&o.match(/^\d+$/))return u;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function p(e,t,r){var n=0,o=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function h(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function v(e){return null===e}function y(e){return null==e}function _(e){return"number"==typeof e}function m(e){return"string"==typeof e}function g(e){return"symbol"==typeof e}function w(e){return void 0===e}function x(e){return j(e)&&"[object RegExp]"===A(e)}function j(e){return"object"==typeof e&&null!==e}function k(e){return j(e)&&"[object Date]"===A(e)}function O(e){return j(e)&&("[object Error]"===A(e)||e instanceof Error)}function S(e){return"function"==typeof e}function E(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function A(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var T=/%[sdj%]/g;r.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(o(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(e).replace(T,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),u=n[r];r<i;u=n[++r])s+=v(u)||!j(u)?" "+u:" "+o(u);return s},r.deprecate=function(e,o){function i(){if(!s){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),s=!0}return e.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(e,o).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return i};var D,M={};r.debuglog=function(e){if(w(D)&&(D=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!M[e])if(new RegExp("\\b"+e+"\\b","i").test(D)){var n=t.pid;M[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else M[e]=function(){};return M[e]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=h,r.isBoolean=b,r.isNull=v,r.isNullOrUndefined=y,r.isNumber=_,r.isString=m,r.isSymbol=g,r.isUndefined=w,r.isRegExp=x,r.isObject=j,r.isDate=k,r.isError=O,r.isFunction=S,r.isPrimitive=E,r.isBuffer=e("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",C(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!j(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":594,_process:495,inherits:593}],596:[function(e,t,r){"use strict";function n(e,t,r){var n=r[r.length-1];e===n.element&&(r.pop(),n=r[r.length-1]);var o=n.element,i=n.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){var s=t.pop();o[s]=e}else t.push(e)}r.stringify=function(e){var t=[];t.push({obj:e});for(var r,n,o,i,s,u,a,c,f,l,d,p="";r=t.pop();)if(n=r.obj,o=r.prefix||"",i=r.val||"",p+=o,i)p+=i;else if("object"!=typeof n)p+="undefined"==typeof n?null:JSON.stringify(n);else if(null===n)p+="null";else if(Array.isArray(n)){for(t.push({val:"]"}),s=n.length-1;s>=0;s--)u=0===s?"":",",t.push({obj:n[s],prefix:u});t.push({val:"["})}else{a=[];for(c in n)n.hasOwnProperty(c)&&a.push(c);for(t.push({val:"}"}),s=a.length-1;s>=0;s--)f=a[s],l=n[f],d=s>0?",":"",d+=JSON.stringify(f)+":",t.push({obj:l,prefix:d});t.push({val:"{"})}return p},r.parse=function(e){for(var t,r,o,i,s,u,a,c,f,l=[],d=[],p=0;;)if(t=e[p++],"}"!==t&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":p+=3,n(null,l,d);break;case"t":p+=3,n(!0,l,d);break;case"f":p+=4,n(!1,l,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",p--;;){if(o=e[p++],!/[\d\.\-e\+]/.test(o)){p--;break}r+=o}n(parseFloat(r),l,d);break;case'"':for(i="",s=void 0,u=0;;){if(a=e[p++],'"'===a&&("\\"!==s||u%2!==1))break;i+=a,s=a,"\\"===s?u++:u=0}n(JSON.parse('"'+i+'"'),l,d);break;case"[":c={element:[],index:l.length},l.push(c.element),d.push(c);break;case"{":f={element:{},index:l.length},l.push(f.element),d.push(f);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===l.length)return l.pop();n(l.pop(),l,d)}}},{}],597:[function(e,t,r){function n(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)o.call(r,n)&&(e[n]=r[n])}return e}t.exports=n;var o=Object.prototype.hasOwnProperty},{}]},{},[15]);