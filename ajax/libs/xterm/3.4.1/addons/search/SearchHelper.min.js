"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SearchHelper=function(){function e(e){this._terminal=e}return e.prototype.findNext=function(e){if(!e||0===e.length)return!1;var t,r=this._terminal.buffer.ydisp;this._terminal.selectionManager.selectionEnd&&(r=this._terminal.selectionManager.selectionEnd[1]);for(var i=r+1;i<this._terminal.buffer.ybase+this._terminal.rows&&!(t=this._findInLine(e,i));i++);if(!t)for(i=0;i<r&&!(t=this._findInLine(e,i));i++);return this._selectResult(t)},e.prototype.findPrevious=function(e){if(!e||0===e.length)return!1;var t,r=this._terminal.buffer.ydisp;this._terminal.selectionManager.selectionStart&&(r=this._terminal.selectionManager.selectionStart[1]);for(var i=r-1;0<=i&&!(t=this._findInLine(e,i));i--);if(!t)for(i=this._terminal.buffer.ybase+this._terminal.rows-1;r<i&&!(t=this._findInLine(e,i));i--);return this._selectResult(t)},e.prototype._findInLine=function(e,t){var r=this._terminal.buffer.translateBufferLineToString(t,!0).toLowerCase(),i=e.toLowerCase(),n=r.indexOf(i);if(0<=n)return{term:e,col:n,row:t}},e.prototype._selectResult=function(e){return!!e&&(this._terminal.selectionManager.setSelection(e.col,e.row,e.term.length),this._terminal.scrollLines(e.row-this._terminal.buffer.ydisp,!1),!0)},e}();exports.SearchHelper=SearchHelper;