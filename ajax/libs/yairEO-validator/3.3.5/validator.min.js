!function(t,e){var i=i||{};"function"==typeof i&&i.amd?i([],e):"object"==typeof exports&&"object"==typeof module?module.exports=e():"object"==typeof exports?exports.FormValidator=e():t.FormValidator=e()}(this,function(){function t(t,e){this.data={},this.DOM={scope:e},this.settings=this.extend({},this.defaults,t||{}),this.texts=this.extend({},this.texts,this.settings.texts||{}),this.settings.events&&this.events()}return t.prototype={texts:{invalid:"inupt is not as expected",short:"input is too short",long:"input is too long",checked:"must be checked",empty:"please put something here",select:"Please select an option",number_min:"too low",number_max:"too high",url:"invalid URL",number:"not a number",email:"email address is invalid",email_repeat:"emails do not match",date:"invalid date",time:"invalid time",password_repeat:"passwords do not match",no_match:"no match",complete:"input is not complete"},defaults:{alerts:!0,events:!1,regex:{url:/^(https?:\/\/)?([\w\d\-_]+\.+[A-Za-z]{2,})+\/?/,phone:/^\+?([0-9]|[-|' '])+$/i,numeric:/^[0-9]+$/i,alphanumeric:/^[a-zA-Z0-9]+$/i,email:{illegalChars:/[\(\)\<\>\,\;\:\\\/\"\[\]]/,filter:/^.+@.+\..{2,6}$/}},classes:{item:"field",alert:"alert",bad:"bad"}},tests:{sameAsPlaceholder:function(t,e){return!t.getAttribute("placeholder")||(e.value!=t.getAttribute("placeholder")||this.texts.empty)},hasValue:function(t){return!!t||this.texts.empty},linked:function(t,e,i){return e==t||(this.texts[i+"_repeat"]||this.texts.no_match)},email:function(t,e){return!(!this.settings.regex.email.filter.test(e.value)||e.value.match(this.settings.regex.email.illegalChars))||this.texts.email},text:function(e,t){var i=this;if(t.validateWords){var a=t.value.split(" ");return!(a.length<t.validateWords||!function(t){for(var e=a.length;e--;)if(a[e].length<t)return i.texts.short;return!0}(2))||this.texts.complete}if(t.lengthRange&&t.value.length<t.lengthRange[0])return this.texts.short;if(t.lengthRange&&t.lengthRange[1]&&t.value.length>t.lengthRange[1])return this.texts.long;if(t.lengthLimit&&t.lengthLimit.length){for(;t.lengthLimit.length;)if(t.lengthLimit.pop()==t.value.length)return!0;return this.texts.complete}if(t.pattern){var s,n;switch(t.pattern){case"alphanumeric":s=this.settings.regex.alphanumeric;break;case"numeric":s=this.settings.regex.numeric;break;case"phone":s=this.settings.regex.phone;break;default:s=t.pattern}try{if(n=new RegExp(s).test(t.value),t.value&&!n)return this.texts.invalid}catch(t){return console.warn(t,e,"regex is invalid"),this.texts.invalid}}return!0},number:function(t,e){var i=e.value;return isNaN(parseFloat(i))&&!isFinite(i)?this.texts.number:e.lengthRange&&i.length<e.lengthRange[0]?this.texts.short:e.lengthRange&&e.lengthRange[1]&&i.length>e.lengthRange[1]?this.texts.long:e.minmax[0]&&(0|i)<e.minmax[0]?this.texts.number_min:!(e.minmax[1]&&(0|i)>e.minmax[1])||this.texts.number_max},date:function(t,e){var i,a,s=e.value.split(/[-./]/g);if(t.valueAsNumber)return!0;for(a=s.length;a--;)if(isNaN(parseFloat(e.value))&&!isFinite(e.value))return this.texts.date;try{return(i=new Date(s[2],s[1]-1,s[0])).getMonth()+1==s[1]&&i.getDate()==s[0]||this.texts.date}catch(t){return this.texts.date}},time:function(t,e){return!!/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(e.value)||this.texts.time},url:function(t,e){return!!this.settings.regex.url.test(e.value)||this.texts.url},hidden:function(t,e){return e.lengthRange&&e.value.length<e.lengthRange[0]?this.texts.short:!(e.pattern&&"alphanumeric"==e.pattern&&!this.settings.regex.alphanumeric.test(e.value))||this.texts.invalid},select:function(t,e){return!!e.value||this.texts.select},checkbox:function(t,e){return!!t.checked||this.texts.checked}},events:function(t,e){var i=this;function a(t){e.addEventListener(t,function(t){i.checkField(t.target)},!0)}t=t||this.settings.events,(e=e||this.DOM.scope)&&t&&(t instanceof Array?t.forEach(a):"string"==typeof t&&a(t))},mark:function(t,e){if(!e||!t)return!1;var i,a=this,s=this.closest(t,"."+this.settings.classes.item),n=s.querySelector("."+this.settings.classes.alert);return this.settings.alerts&&(n?n.innerHTML=e:(i='<div class="'+this.settings.classes.alert+'">'+e+"</div>",s.insertAdjacentHTML("beforeend",i))),s.classList.remove(this.settings.classes.bad),setTimeout(function(){s.classList.add(a.settings.classes.bad)}),i},unmark:function(t){var e;if(!t)return console.warn('no "field" argument, null or DOM object not found'),!1;var i=this.closest(t,"."+this.settings.classes.item);i&&(e=i.querySelector("."+this.settings.classes.alert),i.classList.remove(this.settings.classes.bad)),e&&e.parentNode.removeChild(e)},reset:function(t){var e=this;t=t||this.DOM.scope,this.filterFormElements(t.elements).forEach(function(t){e.unmark(t)})},testByType:function(t,e){var i=(e=this.extend({},e)).type;return"tel"==i&&(e.pattern=e.pattern||"phone"),i&&"password"!=i&&"tel"!=i&&"search"!=i&&"file"!=i||(i="text"),!this.tests[i]||this.tests[i].call(this,t,e)},prepareFieldData:function(t){var e=t.nodeName.toLowerCase(),i=Math.random().toString(36).substr(2,9);return t._validatorId=i,this.data[i]={},this.data[i].value=t.value.replace(/^\s+|\s+$/g,""),this.data[i].valid=!0,this.data[i].type=t.getAttribute("type"),this.data[i].pattern=t.getAttribute("pattern"),"select"===e?this.data[i].type="select":"textarea"===e&&(this.data[i].type="text"),this.data[i].validateWords=t.getAttribute("data-validate-words")||0,this.data[i].lengthRange=t.getAttribute("data-validate-length-range")?(t.getAttribute("data-validate-length-range")+"").split(","):[1],this.data[i].lengthLimit=!!t.getAttribute("data-validate-length")&&(t.getAttribute("data-validate-length")+"").split(","),this.data[i].minmax=!!t.getAttribute("data-validate-minmax")&&(t.getAttribute("data-validate-minmax")+"").split(","),this.data[i].validateLinked=t.getAttribute("data-validate-linked"),this.data[i]},closest:function(t,e){var i,a;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(t){return"function"==typeof document.body[t]&&(i=t,!0)});t;){if((a=t.parentElement)&&a[i](e))return a;t=a}return null},extend:function(t,e){if(!t)throw new TypeError("Cannot convert undefined or null to object");var i,a,s,n=Object(t);for(s=1;s<arguments.length;s++)if(null!=(a=arguments[s]))for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i]);return n},checkField:function(t,e){if("hidden"!=t.type&&!t.clientWidth)return{valid:!0,error:""};if(!(t=this.filterFormElements([t])[0]))return{valid:!0,error:""};var i,a,s=-1!=t.className.indexOf("optional"),n=this.prepareFieldData(t),r=this.closest(t,"form");return!0===(a=this.tests.hasValue.call(this,n.value))&&(a=this.tests.sameAsPlaceholder.call(this,t,n)),n.valid=s||!0===a,s&&!n.value?{valid:!0,error:""}:(!0!==a&&(n.valid=!1),n.valid&&(a=this.testByType(t,n),n.valid=!0===a),n.valid&&n.validateLinked&&(i=0==n.validateLinked.indexOf("#")?document.body.querySelector(n.validateLinked):r.length?r.querySelector("[name="+n.validateLinked+"]"):document.body.querySelector("[name="+n.validateLinked+"]"),a=this.tests.linked.call(this,t.value,i.value,n.type),n.valid=!0===a),e||this[n.valid?"unmark":"mark"](t,a),{valid:n.valid,error:!0===n.valid?"":a})},filterFormElements:function(t){var e,i=[];for(e=t.length;e--;){var a=t[e].nodeName.match(/input|textarea|select/gi),s=t[e].hasAttribute("required"),n=t[e].hasAttribute("disabled"),r=-1!=t[e].className.indexOf("optional");a&&(s||r)&&!n&&i.push(t[e])}return i},checkAll:function(t){if(!t)return console.warn("element not found"),!1;var a=this,s={valid:!0,fields:[]};return this.filterFormElements(t.elements).forEach(function(t,e){var i=a.checkField(t);s.valid=!!(s.valid*i.valid),s.fields.push({field:t,error:i.error,valid:!!i.valid})}),s}},t});